commit f96b7e23620bfcb727514dd2d9319f298c881173
Merge: 2f2393074 8730687d4
Author: Philip Stoev <pstoev@materialize.io>
Date:   Wed Apr 28 12:45:52 2021 +0300

    Merge pull request #6572 from philip-stoev/debezium_avro_tests
    
    End-to-end Postgres -> Debezium -> Kafka/Avro - Mz test

commit 8730687d44693d15abfa47d4fa58ae370f5a37b2
Author: Philip Stoev <pstoev@materialize.io>
Date:   Fri Apr 23 08:39:46 2021 +0200

    End-to-end Postgresql -> Debezium -> Kafka/Avro - Mz test
    
    A mzcompose-based test that sets up a complete Debezium pipeline
    and uses testdrive to run queries through it.
    
    Tests that are currently failing have also been pushed with an
    extension that specifies the ticket number. Those tests will be
    ignored by the mzcompose testdrive workflow

commit 2f2393074193c65a1fa65259b9c450e4a6da1eae
Merge: d33e1eae9 8d8ef44b7
Author: Philip Stoev <pstoev@materialize.io>
Date:   Wed Apr 28 11:41:14 2021 +0300

    Merge pull request #6282 from philip-stoev/testdrive_no_split
    
    Allow testdrive tests to contain entire EXPLAIN blocks

commit 8d8ef44b79f7e7b8cf68110a9578a163d11090dd
Author: Philip Stoev <pstoev@materialize.io>
Date:   Wed Mar 31 14:51:12 2021 +0200

    Allow testdrive tests to contain entire EXPLAIN blocks
    
    Use '?' sigil to keep with the special characters theme, and use an
    alternative parsing strategy that avoids touching LineReader.
    
    Co-authored-by: Nikhil Benesch <nikhil.benesch@gmail.com>

commit d33e1eae9b61576e7b4f1e8ed061b7114404b68b
Merge: 70a27da65 b2139454c
Author: Nikhil Benesch <nikhil.benesch@gmail.com>
Date:   Wed Apr 28 00:16:47 2021 -0400

    Merge pull request #6550 from benesch/atp-to-antithesis
    
    test/antithesis: complete automation

commit b2139454ccfdd0cf63fbd8daa2469821ebefee1b
Author: Nikhil Benesch <nikhil.benesch@gmail.com>
Date:   Wed Mar 31 11:39:12 2021 -0400

    test/antithesis: complete automation
    
    Complete automation for deploying new versions of Materialize to the
    Antithesis testing platform.

commit 70a27da65b5885e25551b8aa22922abcdff8beb6
Author: Andi Wang <5522362+wangandi@users.noreply.github.com>
Date:   Tue Apr 27 18:13:28 2021 -0400

    Mark where a filter leaves an input with at most one row. (#6583)
    
    Also:
    * leave zero- and single-row constants with only one sets of keys.
    * support keeping keys for the pattern
      A.proj(set containing keys) + (B - A.proj(key)).map(stuff)

commit 120919ac32eedf01f5c1eaa4de079adb398dc5d6
Merge: b1e99f483 c199c6af7
Author: Nikhil Benesch <nikhil.benesch@gmail.com>
Date:   Tue Apr 27 16:03:50 2021 -0400

    Merge pull request #6592 from laurenarnett/list-equality
    
    Support equality operator for lists

commit c199c6af79563b76cf465c8d0a89a32b9fdce8e2
Author: Lauren Arnett <lba2138@columbia.edu>
Date:   Tue Apr 27 14:09:22 2021 -0400

    sql: support equality operators for lists
    
    Fix #6403.

commit b1e99f48394f44e0ace0ec2fcf687b957b601bb0
Merge: 8a9673b8d 3f82999e1
Author: Philip Stoev <pstoev@materialize.io>
Date:   Tue Apr 27 21:15:47 2021 +0300

    Merge pull request #6585 from philip-stoev/testdrive_fetch_timeout
    
    testdrive: Increase timeouts for FETCH calls

commit 8a9673b8d5bef0501406a7ea820ca6eaeb452b33
Merge: 265931677 499c693cc
Author: Matt Jibson <matt.jibson@gmail.com>
Date:   Tue Apr 27 11:54:28 2021 -0600

    Merge pull request #6590 from mjibson/symbiosis-timezone
    
    symbiosis: set TIMEZONE param in postgres session

commit 26593167779761f8e58799a0731d9fd8f1f348b9
Author: Chris Golden <551285+cirego@users.noreply.github.com>
Date:   Tue Apr 27 10:47:36 2021 -0700

    Randomly retry some conflicting transactions (#6548)
    
    We can't retry all, since they'll just deadlock with each other.
    
    I'm hoping this creates a more interesting binlog for MySQL.

commit cb78a70e8139615463e68562843527672bcc8445
Author: Jessica Laughlin <JLDLaughlin@users.noreply.github.com>
Date:   Tue Apr 27 13:36:15 2021 -0400

    sql: implement CREATE SOURCES FROM POSTGRES (#6582)
    
    Fully implements CREATE SOURCES FROM POSTGRES. Each of the created
    sources will, in turn, create its own replication slot. Sharing
    an underlying replication slot is left for future work.

commit 499c693ccf97a3d25b0d0c385129cb495f23f9fc
Author: Matt Jibson <matt.jibson@gmail.com>
Date:   Tue Apr 27 11:25:43 2021 -0600

    symbiosis: set TIMEZONE param in postgres session
    
    This should prevent errors as seen in #6589.

commit 3f82999e1abe77efaa2df4bb4963966b950b4d09
Author: Philip Stoev <pstoev@materialize.io>
Date:   Tue Apr 27 12:28:49 2021 +0200

    testdrive: Increase timeouts for FETCH calls
    
    Due to the semantics of the FETCH call, it is excluded from
    testdrive's retry logic. Therefore, it is on the test writer
    to provide a timeout value that is high enough so that the tests
    do not fail even if run in a constrained environment.
    
    This commit makes all the timeout value for FETCH to be 60s
    with the exception of those FETCH-es that are not expected
    to return any rows, so that the full minute is not waited on those.

commit 1dff656c04470cd82b755a50ca88f2d436962892
Merge: c8cfd0675 7efc62e3f
Author: Matt Jibson <matt.jibson@gmail.com>
Date:   Mon Apr 26 21:19:39 2021 -0600

    Merge pull request #6556 from mjibson/pg-namespace
    
    sql: integrate postgres source namespace into table string

commit 7efc62e3fdb1b3b1c93654cd181104deb345bef9
Author: Philip Stoev <pstoev@materialize.io>
Date:   Mon Apr 26 12:53:54 2021 +0200

    Additional tests around name resolution for Postgres sources

commit adef4022d237993aecca8d763e6b9b5203bb8027
Author: Matt Jibson <matt.jibson@gmail.com>
Date:   Fri Apr 23 20:58:09 2021 -0600

    sql: integrate postgres source namespace into table string
    
    Previously we used a NAMESPACE string to specify the namespace/schema
    of a postgres replication source. For most sources this was a
    redundant "public" specifier that no one cared about. It was needed to
    be able to determine the OID of the table. We can instead parse the
    table as an object name, and then convert it to an ast-safe string
    that can include a namespace if needed by a user.
    
    This greatly simplifies the syntax and should feel more native to
    users of materialize, who might otherwise be surprisied that in this
    one specific place, you used to have to quote your table name.

commit c8cfd0675929e25dbd61d22350aa9ea2b58c16ea
Merge: f44fcf9be d111dcdb7
Author: Nikhil Benesch <nikhil.benesch@gmail.com>
Date:   Mon Apr 26 17:32:24 2021 -0400

    Merge pull request #6580 from benesch/missing-pow
    
    sql: add missing `pow` function oids

commit f44fcf9bee657c3af1280fbb0c61a16a3b4524a6
Merge: 7f67f721b 0eed7fb32
Author: Matt Jibson <matt.jibson@gmail.com>
Date:   Mon Apr 26 15:25:45 2021 -0600

    Merge pull request #6579 from mjibson/debuginfo
    
    doc: document debuginfo for fast linux compiles

commit 7f67f721b03b3bc9324e58ed9e47661cad97a352
Merge: f1824575c 431f05985
Author: Nikhil Benesch <nikhil.benesch@gmail.com>
Date:   Mon Apr 26 17:07:12 2021 -0400

    Merge pull request #6577 from MaterializeInc/dependabot/cargo/libc-0.2.94
    
    build(deps): bump libc from 0.2.93 to 0.2.94

commit f1824575c2fc6894faf0865f022ac9bbed0e0d0d
Merge: 324ea2a6e 147d12512
Author: Nikhil Benesch <nikhil.benesch@gmail.com>
Date:   Mon Apr 26 17:07:03 2021 -0400

    Merge pull request #6563 from MaterializeInc/dependabot/cargo/sysctl-0.4.1
    
    build(deps): bump sysctl from 0.4.0 to 0.4.1

commit 324ea2a6e2b758e1432a9f028fb22b9a05a310c2
Merge: 9720bd805 aef3f9b0c
Author: Nikhil Benesch <nikhil.benesch@gmail.com>
Date:   Mon Apr 26 17:06:58 2021 -0400

    Merge pull request #6565 from MaterializeInc/dependabot/cargo/regex-1.4.6
    
    build(deps): bump regex from 1.4.5 to 1.4.6

commit 9720bd8050f798cb353e7c377526bc2a471bf591
Merge: d26a30968 effc1abd5
Author: Nikhil Benesch <nikhil.benesch@gmail.com>
Date:   Mon Apr 26 17:05:06 2021 -0400

    Merge pull request #6457 from benesch/sql-parser-golf
    
    sql-parser: golf down an allocation when displaying ASTs

commit d26a3096832f97bf6c0ad032a288bc411237831e
Merge: d08bfe4dc e4da4e68a
Author: Nikhil Benesch <nikhil.benesch@gmail.com>
Date:   Mon Apr 26 16:50:47 2021 -0400

    Merge pull request #6559 from MaterializeInc/dependabot/cargo/backtrace-0.3.57
    
    build(deps): bump backtrace from 0.3.56 to 0.3.57

commit d111dcdb72a6d8e22f34a9eb1c799527696f07de
Author: Nikhil Benesch <nikhil.benesch@gmail.com>
Date:   Mon Apr 26 16:49:10 2021 -0400

    sql: add missing `pow` function oids
    
    This function is transformed into the "power" function in
    transform_ast.rs, but it still needs entries in func.rs so that it
    appears in the catalog with the correct OID.
    
    Spotted by the eagle-eyed @andrioni.

commit 0eed7fb32ef732ef2c31955586f41ed74a014f1a
Author: Matt Jibson <matt.jibson@gmail.com>
Date:   Mon Apr 26 14:21:59 2021 -0600

    doc: document debuginfo for fast linux compiles

commit d08bfe4dccaf4ee7acc850be3e058c4c23e1914d
Author: Andy Hattemer <&@ruf.io>
Date:   Mon Apr 26 16:08:37 2021 -0400

    (docs) Add convert_from to SQL Functions  (#6573)
    
    * Add convert_from
    
    * remove trailing space
    
    * update wording

commit 147d1251244bd098695a6224dc16ba4f32b35038
Author: dependabot[bot] <49699333+dependabot[bot]@users.noreply.github.com>
Date:   Mon Apr 26 20:04:36 2021 +0000

    build(deps): bump sysctl from 0.4.0 to 0.4.1
    
    Bumps [sysctl](https://github.com/johalun/sysctl-rs) from 0.4.0 to 0.4.1.
    - [Release notes](https://github.com/johalun/sysctl-rs/releases)
    - [Changelog](https://github.com/johalun/sysctl-rs/blob/master/CHANGELOG.md)
    - [Commits](https://github.com/johalun/sysctl-rs/commits)
    
    Signed-off-by: dependabot[bot] <support@github.com>

commit e4da4e68ad6437cb9cb6e83e0a3ec64ca12619b9
Author: dependabot[bot] <49699333+dependabot[bot]@users.noreply.github.com>
Date:   Mon Apr 26 20:04:36 2021 +0000

    build(deps): bump backtrace from 0.3.56 to 0.3.57
    
    Bumps [backtrace](https://github.com/rust-lang/backtrace-rs) from 0.3.56 to 0.3.57.
    - [Release notes](https://github.com/rust-lang/backtrace-rs/releases)
    - [Commits](https://github.com/rust-lang/backtrace-rs/compare/0.3.56...0.3.57)
    
    Signed-off-by: dependabot[bot] <support@github.com>

commit effc1abd52f5eda1366d775b10ed5b1912d9ac15
Author: Nikhil Benesch <nikhil.benesch@gmail.com>
Date:   Tue Apr 13 19:49:20 2021 -0400

    sql-parser: golf down an allocation when displaying ASTs
    
    This isn't particularly sensitive at the moment, but it just seemed like
    bad form to allocate a temporary output buffer when there was already
    one handy.

commit aef3f9b0cdda4de9bc7686525c9940e5dfaa9e58
Author: dependabot[bot] <49699333+dependabot[bot]@users.noreply.github.com>
Date:   Mon Apr 26 20:03:48 2021 +0000

    build(deps): bump regex from 1.4.5 to 1.4.6
    
    Bumps [regex](https://github.com/rust-lang/regex) from 1.4.5 to 1.4.6.
    - [Release notes](https://github.com/rust-lang/regex/releases)
    - [Changelog](https://github.com/rust-lang/regex/blob/master/CHANGELOG.md)
    - [Commits](https://github.com/rust-lang/regex/compare/1.4.5...1.4.6)
    
    Signed-off-by: dependabot[bot] <support@github.com>

commit 86a65200885f34dca6c755aa14f2a136ac1c8eb7
Merge: f2dfc55eb bba826ce1
Author: Nikhil Benesch <nikhil.benesch@gmail.com>
Date:   Mon Apr 26 16:01:54 2021 -0400

    Merge pull request #6560 from MaterializeInc/dependabot/cargo/syn-1.0.70
    
    build(deps): bump syn from 1.0.69 to 1.0.70

commit f2dfc55eb2470eb60c983efbde3b2ba85f8de1f2
Merge: 5b1cd8072 20c0c9036
Author: Nikhil Benesch <nikhil.benesch@gmail.com>
Date:   Mon Apr 26 16:01:47 2021 -0400

    Merge pull request #6561 from MaterializeInc/dependabot/cargo/sysinfo-0.17.2
    
    build(deps): bump sysinfo from 0.17.1 to 0.17.2

commit 5b1cd8072bfc471b447734b1456309b31e4f3b93
Merge: a9ec02253 532cf4b2b
Author: Nikhil Benesch <nikhil.benesch@gmail.com>
Date:   Mon Apr 26 16:01:41 2021 -0400

    Merge pull request #6562 from MaterializeInc/dependabot/cargo/bincode-1.3.3
    
    build(deps): bump bincode from 1.3.1 to 1.3.3

commit 431f059852dec2b9aad5fe431853c2aca332a83e
Author: dependabot[bot] <49699333+dependabot[bot]@users.noreply.github.com>
Date:   Mon Apr 26 20:01:35 2021 +0000

    build(deps): bump libc from 0.2.93 to 0.2.94
    
    Bumps [libc](https://github.com/rust-lang/libc) from 0.2.93 to 0.2.94.
    - [Release notes](https://github.com/rust-lang/libc/releases)
    - [Commits](https://github.com/rust-lang/libc/compare/0.2.93...0.2.94)
    
    Signed-off-by: dependabot[bot] <support@github.com>

commit a9ec0225379c50f699820fc544ab0c2c7bee635a
Merge: 514ec8d90 89c87d4a9
Author: Nikhil Benesch <nikhil.benesch@gmail.com>
Date:   Mon Apr 26 16:01:06 2021 -0400

    Merge pull request #6564 from MaterializeInc/dependabot/cargo/async-compression-0.3.8
    
    build(deps): bump async-compression from 0.3.7 to 0.3.8

commit 514ec8d90d1ec673646240e2ac9af6653827bb53
Merge: e401dcefe a9ee2d3c2
Author: Nikhil Benesch <nikhil.benesch@gmail.com>
Date:   Mon Apr 26 16:00:58 2021 -0400

    Merge pull request #6566 from MaterializeInc/dependabot/cargo/hyper-0.14.7
    
    build(deps): bump hyper from 0.14.5 to 0.14.7

commit e401dcefe02377e2cc6e3d488595373df68f33bb
Merge: 288de5604 264c5874c
Author: Nikhil Benesch <nikhil.benesch@gmail.com>
Date:   Mon Apr 26 15:58:24 2021 -0400

    Merge pull request #6567 from MaterializeInc/dependabot/cargo/rusqlite-0.25.1
    
    build(deps): bump rusqlite from 0.25.0 to 0.25.1

commit 288de5604f65e0317e33eb74a6c1db339a68696a
Author: Micole Sudberg <micole@materialize.io>
Date:   Mon Apr 26 15:38:04 2021 -0400

    doc: typo (#6576)

commit 264c5874cd127b8d9a44e1cb847c3146fad5589b
Author: dependabot[bot] <49699333+dependabot[bot]@users.noreply.github.com>
Date:   Sun Apr 25 22:13:09 2021 +0000

    build(deps): bump rusqlite from 0.25.0 to 0.25.1
    
    Bumps [rusqlite](https://github.com/rusqlite/rusqlite) from 0.25.0 to 0.25.1.
    - [Release notes](https://github.com/rusqlite/rusqlite/releases)
    - [Changelog](https://github.com/rusqlite/rusqlite/blob/master/Changelog.md)
    - [Commits](https://github.com/rusqlite/rusqlite/compare/v0.25.0...v0.25.1)
    
    Signed-off-by: dependabot[bot] <support@github.com>

commit a9ee2d3c2c4b65fb26d3d75df62db4c83024f9ff
Author: dependabot[bot] <49699333+dependabot[bot]@users.noreply.github.com>
Date:   Sun Apr 25 22:12:50 2021 +0000

    build(deps): bump hyper from 0.14.5 to 0.14.7
    
    Bumps [hyper](https://github.com/hyperium/hyper) from 0.14.5 to 0.14.7.
    - [Release notes](https://github.com/hyperium/hyper/releases)
    - [Changelog](https://github.com/hyperium/hyper/blob/master/CHANGELOG.md)
    - [Commits](https://github.com/hyperium/hyper/compare/v0.14.5...v0.14.7)
    
    Signed-off-by: dependabot[bot] <support@github.com>

commit 89c87d4a911d5ea45b58c2d18cea514380a250d9
Author: dependabot[bot] <49699333+dependabot[bot]@users.noreply.github.com>
Date:   Sun Apr 25 22:12:20 2021 +0000

    build(deps): bump async-compression from 0.3.7 to 0.3.8
    
    Bumps [async-compression](https://github.com/Nemo157/async-compression) from 0.3.7 to 0.3.8.
    - [Release notes](https://github.com/Nemo157/async-compression/releases)
    - [Commits](https://github.com/Nemo157/async-compression/compare/0.3.7...0.3.8)
    
    Signed-off-by: dependabot[bot] <support@github.com>

commit 532cf4b2bae46cbf49bd0901f04621ae6d89274c
Author: dependabot[bot] <49699333+dependabot[bot]@users.noreply.github.com>
Date:   Sun Apr 25 22:11:47 2021 +0000

    build(deps): bump bincode from 1.3.1 to 1.3.3
    
    Bumps [bincode](https://github.com/servo/bincode) from 1.3.1 to 1.3.3.
    - [Release notes](https://github.com/servo/bincode/releases)
    - [Commits](https://github.com/servo/bincode/compare/v1.3.1...v1.3.3)
    
    Signed-off-by: dependabot[bot] <support@github.com>

commit 20c0c90364dac892d72762d26555ea17f9153a2b
Author: dependabot[bot] <49699333+dependabot[bot]@users.noreply.github.com>
Date:   Sun Apr 25 22:11:31 2021 +0000

    build(deps): bump sysinfo from 0.17.1 to 0.17.2
    
    Bumps [sysinfo](https://github.com/GuillaumeGomez/sysinfo) from 0.17.1 to 0.17.2.
    - [Release notes](https://github.com/GuillaumeGomez/sysinfo/releases)
    - [Commits](https://github.com/GuillaumeGomez/sysinfo/commits)
    
    Signed-off-by: dependabot[bot] <support@github.com>

commit bba826ce121d714576c38da002c7fd292c26b006
Author: dependabot[bot] <49699333+dependabot[bot]@users.noreply.github.com>
Date:   Sun Apr 25 22:11:17 2021 +0000

    build(deps): bump syn from 1.0.69 to 1.0.70
    
    Bumps [syn](https://github.com/dtolnay/syn) from 1.0.69 to 1.0.70.
    - [Release notes](https://github.com/dtolnay/syn/releases)
    - [Commits](https://github.com/dtolnay/syn/compare/1.0.69...1.0.70)
    
    Signed-off-by: dependabot[bot] <support@github.com>

commit b31cf1537657f83e390a6e15ab42b15b62212115
Author: Micole Sudberg <micole@materialize.io>
Date:   Fri Apr 23 16:07:48 2021 -0400

    doc: Add FULL switch to SHOW TABLES (#6539)

commit 0ae7cf3b12c503a97aa1a59f827b8f81f11cb88b
Author: Jessica Laughlin <JLDLaughlin@users.noreply.github.com>
Date:   Fri Apr 23 11:22:07 2021 -0400

    sql: support PRIMARY KEY constraints for Postgres replication sources (#6338)

commit 2d0278874aaf1c9a78ba7278da78a13b8fb53dcf
Merge: 51b785b14 72cab09c8
Author: Nikhil Benesch <nikhil.benesch@gmail.com>
Date:   Thu Apr 22 22:52:07 2021 -0700

    Merge pull request #6545 from benesch/tail-progress
    
    sql: mark tail descriptors as nullable when PROGRESS is set

commit 72cab09c8755a4184c428f4b030a41734d0c73fe
Author: Nikhil Benesch <nikhil.benesch@gmail.com>
Date:   Thu Apr 22 15:37:25 2021 -0400

    sql: mark tail descriptors as nullable when PROGRESS is set
    
    Fix #6522.

commit 841d45f954de3c62db971ce1a5f18545ec580953
Author: Nikhil Benesch <nikhil.benesch@gmail.com>
Date:   Thu Apr 22 15:31:30 2021 -0400

    repr: rename RelationDesc::{with_column -> with_named_column}
    
    This makes space for a `with_column` method that permits the column name
    to be missing.

commit 51b785b14cc421eed3ca797915100a13c1412825
Author: Frank McSherry <fmcsherry@me.com>
Date:   Thu Apr 22 15:34:11 2021 -0400

    design doc on expression info pushed at sources (#6510)

commit e5bf24caa46492af15a37362ce7a0e2eae5ee3d0
Merge: 9a7d57d57 666122135
Author: Matt Jibson <matt.jibson@gmail.com>
Date:   Thu Apr 22 13:30:44 2021 -0600

    Merge pull request #6544 from mjibson/send-rows-refactor
    
    pgwire: simplify send_rows batching

commit 9a7d57d57f5e16c879fea78873ee2da7c1d2fac3
Author: Micole Sudberg <micole@materialize.io>
Date:   Thu Apr 22 15:28:36 2021 -0400

    doc: csv_extract function (#6529)
    
    * doc: csv_extract function
    
    * Applied feedback, mostly example formatting.

commit 85cd67eaaf88af514984e0905ccd0aa205997f13
Author: Chris Golden <551285+cirego@users.noreply.github.com>
Date:   Thu Apr 22 11:43:17 2021 -0700

    Add utility to generate random mysql transactions against Debezium demo database (#6527)
    
    * Create mysql-debezium example load generator
    
    The idea behind this load generator is a generate a number of random
    transactions and see how the Debezium topics look after replicating
    these transactions.
    
    We will be scanning these topics to look for invariants that expect
    from Debezium.

commit 6661221357e300b15295d0f19481af634f34e420
Author: Matt Jibson <matt.jibson@gmail.com>
Date:   Thu Apr 22 12:38:34 2021 -0600

    pgwire: simplify send_rows batching
    
    Previously send_rows would modify a batch variable before a loop and
    then at the end because the first batch would verify the row shape
    matched what was expected. If we move the verification logic to
    instead check each batch we can simplify things and make the logic
    much easier to understand.

commit 01c9783dcabe88552e8c0f141fe142267732b385
Merge: 7976a700d 862c67166
Author: Petros Angelatos <petrosagg@gmail.com>
Date:   Thu Apr 22 18:06:28 2021 +0200

    Merge pull request #6540 from petrosagg/materialized-sources
    
    sql: support MATERIALIZED modifier for CREATE SOURCES

commit 862c6716691015f8b15ce8b2f434a82d75167571
Author: Petros Angelatos <petrosagg@gmail.com>
Date:   Thu Apr 22 17:29:20 2021 +0200

    sql: support MATERIALIZED modifier for CREATE SOURCES
    
    Signed-off-by: Petros Angelatos <petrosagg@gmail.com>

commit 7976a700d4611da754490519359dc1b09d3844f0
Merge: 7678c75b7 165675e06
Author: Petros Angelatos <petrosagg@gmail.com>
Date:   Thu Apr 22 17:39:39 2021 +0200

    Merge pull request #6477 from petrosagg/postgres-resume
    
    Postgres resumption logic

commit 165675e063718cc68784b22d66a3d5f71f5a7d51
Author: Petros Angelatos <petrosagg@gmail.com>
Date:   Thu Apr 22 16:22:54 2021 +0200

    dataflow/postgres: fine grained selection of recoverable errors
    
    Signed-off-by: Petros Angelatos <petrosagg@gmail.com>

commit d15115be58bdfb796b6ccfd5c8c39e2c6d926745
Author: Petros Angelatos <petrosagg@gmail.com>
Date:   Thu Apr 15 16:57:34 2021 +0200

    postgres: resumption logic for issues during replication
    
    This commit makes the source resilient to any connection failures that
    happen during the streaming replication phase.
    
    Failures that happen during the intial sync phase are still fatal and
    put the source in an errored state.
    
    Signed-off-by: Petros Angelatos <petrosagg@gmail.com>

commit 61c10870d4112bdde172abe9429f01e121b7b870
Author: Petros Angelatos <petrosagg@gmail.com>
Date:   Thu Apr 15 16:55:24 2021 +0200

    postgres: generate replication slot name during planning
    
    In order to keep track of the replication slot we have to store it in
    the catalog, so this PR adds SQL syntax to specify a slot and makes sure
    one is set during purification.
    
    Signed-off-by: Petros Angelatos <petrosagg@gmail.com>

commit 7678c75b718b27fd70cbdef17ec66bedd700c41b
Author: Philip Stoev <pstoev@materialize.io>
Date:   Thu Apr 22 09:36:37 2021 +0300

    testdrive: add $ http-request command (#6519)
    
    This is needed in order to support curl-like HTTP requests against
    Debezium for administration purposes

commit bf4f4a24d9d55dcadae6760d88683c160149e95e
Author: Jessica Laughlin <JLDLaughlin@users.noreply.github.com>
Date:   Wed Apr 21 16:17:59 2021 -0400

    dbt-materialize: bump to v0.18.1.post2 (#6528)
    
    Bumps the adapter version after landing #6525, which removed
    superfluous transactions from various read-only commands.

commit ce93567f8ac4053fc6921a612054d8d9a341cd0e
Merge: 9218c98f8 a42b1e070
Author: Matt Jibson <matt.jibson@gmail.com>
Date:   Wed Apr 21 11:56:10 2021 -0600

    Merge pull request #6525 from JLDLaughlin/dbt-materialize-txns
    
    dbt-materialize: remove superfluous transactions

commit a42b1e07066c24ca40c1c105eeeb0c0cf2f6c236
Author: JLDLaughlin <jessica@materialize.io>
Date:   Wed Apr 21 13:15:33 2021 -0400

    dbt-materialize: remove superfluous transactions
    
    The dbt-materialize adapter starts unnecessary transactions when
    reading data (indicated by the auto_begin flag). This didn't matter
    before, because transactions were a no-op in Materialize. With
    mjibson's PR to implement read transactions (#5849), it does matter.
    This PR removes those transactions.

commit 9218c98f8577c705db86d410c2e3b2244a425fb1
Author: Brennan Vincent <brennan@materialize.io>
Date:   Wed Apr 21 11:00:26 2021 -0400

    Include Kafka topic in human-readable source name (#6514)

commit a558c298e7e56cb8df4dfb61b9dcf02ced95929a
Author: Philip Stoev <pstoev@materialize.io>
Date:   Wed Apr 21 11:59:00 2021 +0300

    sql: tests for optimizations around primary keys (#6387)
    
    If a primary key is specified, the optimizer can use it to remove
    certain distinct and grouping operations.

commit f7bdd05e39920a73fd2278dc43e75b3bef66399b
Author: Philip Stoev <pstoev@materialize.io>
Date:   Wed Apr 21 09:50:35 2021 +0300

    Ensure code coverage is recorded on process termination (#6458)
    
    Catch termination signals, call __llvm_profile_write_file and then re-raise the signal
    
    Co-authored-by: Nikhil Benesch <nikhil.benesch@gmail.com>

commit 49e29284fbd794ad9915bf6b2193cc75e300f16d
Merge: 684cbaf7f aac01804a
Author: Nikhil Benesch <nikhil.benesch@gmail.com>
Date:   Tue Apr 20 22:36:56 2021 -0700

    Merge pull request #6517 from MaterializeInc/dependabot/cargo/timely-b619080
    
    build(deps): bump timely from `3671a3b` to `b619080`

commit 684cbaf7fde760e05b59e42eba456d32c8712b6f
Merge: 09d185759 1891d02e5
Author: Nikhil Benesch <nikhil.benesch@gmail.com>
Date:   Tue Apr 20 22:36:28 2021 -0700

    Merge pull request #6518 from benesch/dedupe-deps
    
    deps: remove some duplicate dependencies

commit 09d185759c4cccb8544378802b6b24f2e0498edf
Merge: 2824b9a99 ab4dbab1d
Author: Ruchir Khaitan <ruchir0001@gmail.com>
Date:   Tue Apr 20 21:25:59 2021 -0400

    Merge pull request #6516 from ruchirK/timestamp-cleanups
    
    dataflow: cleanup some aspects of timestamp determination in preparation for RT ts persistence

commit 1891d02e5fec8a34acfa75cabdd60f282cb54518
Author: Nikhil Benesch <nikhil.benesch@gmail.com>
Date:   Tue Apr 20 21:19:34 2021 -0400

    deps: run cargo manifmt

commit e93d9dd963f029b0b4e62889831dd83021dc4878
Author: Nikhil Benesch <nikhil.benesch@gmail.com>
Date:   Tue Apr 20 20:57:52 2021 -0400

    deps: remove some duplicate dependencies
    
    Remove some duplicated transitive dependencies by disabling some
    unnecessary features in some immediate dependencies.

commit cc0d7556bd2a864b62afc213158ea33b680e80ab
Author: Nikhil Benesch <nikhil.benesch@gmail.com>
Date:   Tue Apr 20 21:20:13 2021 -0400

    tmp: remove
    
    These look like inadvertently checked in temporary files.

commit aac01804a0154513eb30a18f033c09005c8f3c01
Author: dependabot[bot] <49699333+dependabot[bot]@users.noreply.github.com>
Date:   Wed Apr 21 00:36:33 2021 +0000

    build(deps): bump timely from `3671a3b` to `b619080`
    
    Bumps [timely](https://github.com/TimelyDataflow/timely-dataflow) from `3671a3b` to `b619080`.
    - [Release notes](https://github.com/TimelyDataflow/timely-dataflow/releases)
    - [Commits](https://github.com/TimelyDataflow/timely-dataflow/compare/3671a3b3d5cc8c65a78bac2dc45f3c33145f1cba...b619080c6c3d9ec249b2943d56ff4a2d8ce8e121)
    
    Signed-off-by: dependabot[bot] <support@github.com>

commit 2824b9a9945ef34695bc9bd012839044f995ada3
Merge: 9fccd4f7a 7a0ed86ef
Author: Nikhil Benesch <nikhil.benesch@gmail.com>
Date:   Tue Apr 20 17:33:37 2021 -0700

    Merge pull request #6500 from MaterializeInc/dependabot/cargo/tokio-1.5.0
    
    build(deps): bump tokio from 1.4.0 to 1.5.0

commit ab4dbab1dd12a3c3f9423178fd05fbc557996c03
Author: Ruchir Khaitan <ruchir0001@gmail.com>
Date:   Thu Apr 15 16:03:43 2021 -0400

    dataflow: separate out per-partition concerns

commit 445341c2a2bfd4467fe9351e7ef51521ea4073ad
Author: Ruchir Khaitan <ruchir0001@gmail.com>
Date:   Tue Apr 20 16:47:53 2021 -0400

    dataflow: attempt compaction whenever the frontier is advanced

commit 3e70f6185e43a9f5250a5e293f5c31e847de914d
Author: Ruchir Khaitan <ruchir0001@gmail.com>
Date:   Tue Apr 20 16:09:42 2021 -0400

    dataflow: use binary search to look for matching timestamp bindings

commit 9fccd4f7a98ac4533538f33ec6d5c88792b6da28
Author: Micole Sudberg <micole@materialize.io>
Date:   Tue Apr 20 15:40:15 2021 -0400

    docs: Cloud update (#6493)
    
    Minor Cloud updates including adding TAIL example to Quickstart and table of Cloud vs. install differences to Account Limits, and fixing broken links in Quickstart.

commit 7998adbe295259ab3618fa366e145fb00abb7c60
Author: Brandon W Maister <bwm@materialize.io>
Date:   Tue Apr 20 15:40:04 2021 -0400

    mzcompose: Include the argparse help text when --help is passed (#6515)
    
    Before this, running `mzcompose --help` only printed the docker-compose
    help, and it errored if you weren't already in a directory containing an
    mzcompose.yml.
    
    With this, the mzcompose help text is printed, in addition to the
    docker-compose help text.

commit 695e8305a0ac4a048e2e987fd8453d3ace158d3a
Merge: 7ed893b53 fabeeed5f
Author: Petros Angelatos <petrosagg@gmail.com>
Date:   Tue Apr 20 18:06:54 2021 +0200

    Merge pull request #6513 from petrosagg/ocd
    
    materialized: ocd fix

commit 7ed893b53ec6cd0a8780c9eefdfd0cc419ba082b
Author: Frank McSherry <fmcsherry@me.com>
Date:   Tue Apr 20 12:01:22 2021 -0400

    Introduce a MFP operator to replace filter operator (#6339)
    
    * introduce a MFP operator to replace filter operator
    
    * extract temporal mfp planning from operator
    
    * substantial reorganization
    
    * better extract temporal predicates
    
    * push temporal filters into FlatMap
    
    * reformat
    
    * add design document
    
    * add newline
    
    * update design doc to reflect feedback
    
    * extract design doc to separate PR

commit 651d1521b54c1a71b43abe3f70de15387d0eff6c
Author: Ruchir Khaitan <ruchir0001@gmail.com>
Date:   Tue Apr 20 11:48:44 2021 -0400

    dataflow: add a Drop impl for TimestampBindingRc
    
    We need to decrement reference counts when a source instance is deleted.

commit fabeeed5f39c403fcf8d4d6389dc439ce83bdcd1
Author: Petros Angelatos <petrosagg@gmail.com>
Date:   Tue Apr 20 17:33:32 2021 +0200

    materialized: ocd fix
    
    After the changing from materialize.io to materialize.com the text was
    overflowing the exclamation mark border by one character
    
    Signed-off-by: Petros Angelatos <petrosagg@gmail.com>

commit c4467e12612c0f73b6007f1cb1e6682b0adbb702
Merge: eb01f7810 bce3ee3b2
Author: Andreas Fuchs <asf@materialize.com>
Date:   Tue Apr 20 10:28:36 2021 -0400

    Merge pull request #6484 from antifuchs/pubnub-syntax-fix
    
    Fix syntax of pubnub example view

commit eb01f7810b4c9d1eea9e6206007eedd3a920f3cf
Author: Frank McSherry <fmcsherry@me.com>
Date:   Tue Apr 20 10:20:19 2021 -0400

    remove AS OF NOW() from some tests (#6511)

commit 36a1ebaf954654d315d26ef50ae09e9fccc3dd1d
Author: Micole Sudberg <micole@materialize.io>
Date:   Tue Apr 20 08:51:19 2021 -0400

    docs: Add start_offset to CREATE SOURCE WITH options for Kafka sources (#6470)

commit 1958578536d431d6984ca3d5af3b9e6c80440293
Author: Chris Golden <551285+cirego@users.noreply.github.com>
Date:   Mon Apr 19 14:21:31 2021 -0700

    Deduplicate identical ports on docker inspect output (#6505)
    
    After a recent upgrade of Docker, I got the following error when trying
    to start an mzcompose workflow:
    
        Failed! Could not unambiguously determine port for mysql found: 3306,3306
    
    Looking at the output of `docker inspect`, we now see this:
    
        "Ports": {
          "3306/tcp": [
            {
              "HostIp": "0.0.0.0",
              "HostPort": "3306"
            },
            {
              "HostIp": "::",
              "HostPort": "3306"
            }
          ],
          "33060/tcp": null
        },
    
    It appears that Docker is listing ipv4 and ipv6 addresses as their own
    entries. For the purposes of find_host_ports, which uses `localhost`,
    let's treat these identically.

commit 7a0ed86ef7ca5330c830287f5d17d71ff8511458
Author: dependabot[bot] <49699333+dependabot[bot]@users.noreply.github.com>
Date:   Mon Apr 19 17:13:19 2021 +0000

    build(deps): bump tokio from 1.4.0 to 1.5.0
    
    Bumps [tokio](https://github.com/tokio-rs/tokio) from 1.4.0 to 1.5.0.
    - [Release notes](https://github.com/tokio-rs/tokio/releases)
    - [Commits](https://github.com/tokio-rs/tokio/compare/tokio-1.4.0...tokio-1.5.0)
    
    Signed-off-by: dependabot[bot] <support@github.com>

commit f6da438e7895c632f43f65bbf103fe1cbee42c07
Merge: f5aff7989 9dd22dffd
Author: Nikhil Benesch <nikhil.benesch@gmail.com>
Date:   Mon Apr 19 10:08:16 2021 -0700

    Merge pull request #6497 from MaterializeInc/dependabot/cargo/libc-0.2.93
    
    build(deps): bump libc from 0.2.92 to 0.2.93

commit f5aff798974f805584a3e9479c0e72ace68f4f98
Merge: 76c82fea4 038d516fd
Author: Nikhil Benesch <nikhil.benesch@gmail.com>
Date:   Mon Apr 19 10:08:10 2021 -0700

    Merge pull request #6498 from MaterializeInc/dependabot/cargo/sysinfo-0.17.1
    
    build(deps): bump sysinfo from 0.17.0 to 0.17.1

commit 76c82fea4291c232e76be69edb0db24c65cadfef
Merge: 515d6ab8e 8bf0f70c0
Author: Nikhil Benesch <nikhil.benesch@gmail.com>
Date:   Mon Apr 19 10:07:52 2021 -0700

    Merge pull request #6501 from MaterializeInc/dependabot/cargo/tokio-util-0.6.6
    
    build(deps): bump tokio-util from 0.6.5 to 0.6.6

commit 515d6ab8ed7ca4fa8c0493ff39400acba8976684
Merge: 088322a8c ceead2e72
Author: Nikhil Benesch <nikhil.benesch@gmail.com>
Date:   Mon Apr 19 10:07:31 2021 -0700

    Merge pull request #6502 from MaterializeInc/dependabot/cargo/reqwest-0.11.3
    
    build(deps): bump reqwest from 0.11.2 to 0.11.3

commit 088322a8cbe84986cd631a43bfdce1fb2314f399
Merge: 85ba7cc0b 16f1629b6
Author: Nikhil Benesch <nikhil.benesch@gmail.com>
Date:   Mon Apr 19 10:07:00 2021 -0700

    Merge pull request #6503 from MaterializeInc/dependabot/cargo/futures-0.3.14
    
    build(deps): bump futures from 0.3.13 to 0.3.14

commit 85ba7cc0bce7532ac287ca9b82d0ff75caa2920a
Merge: af235b922 04683dd60
Author: Nikhil Benesch <nikhil.benesch@gmail.com>
Date:   Mon Apr 19 10:06:12 2021 -0700

    Merge pull request #6504 from MaterializeInc/dependabot/cargo/async-trait-0.1.50
    
    build(deps): bump async-trait from 0.1.48 to 0.1.50

commit 04683dd60230455ab25d6d697a3419d21655f87e
Author: dependabot[bot] <49699333+dependabot[bot]@users.noreply.github.com>
Date:   Sun Apr 18 22:14:17 2021 +0000

    build(deps): bump async-trait from 0.1.48 to 0.1.50
    
    Bumps [async-trait](https://github.com/dtolnay/async-trait) from 0.1.48 to 0.1.50.
    - [Release notes](https://github.com/dtolnay/async-trait/releases)
    - [Commits](https://github.com/dtolnay/async-trait/compare/0.1.48...0.1.50)
    
    Signed-off-by: dependabot[bot] <support@github.com>

commit 16f1629b6b8e0a96e7be93b381ed61f435fa132e
Author: dependabot[bot] <49699333+dependabot[bot]@users.noreply.github.com>
Date:   Sun Apr 18 22:13:46 2021 +0000

    build(deps): bump futures from 0.3.13 to 0.3.14
    
    Bumps [futures](https://github.com/rust-lang/futures-rs) from 0.3.13 to 0.3.14.
    - [Release notes](https://github.com/rust-lang/futures-rs/releases)
    - [Changelog](https://github.com/rust-lang/futures-rs/blob/master/CHANGELOG.md)
    - [Commits](https://github.com/rust-lang/futures-rs/compare/0.3.13...0.3.14)
    
    Signed-off-by: dependabot[bot] <support@github.com>

commit ceead2e723f17cb3026e02b46ba220ba39d8f43b
Author: dependabot[bot] <49699333+dependabot[bot]@users.noreply.github.com>
Date:   Sun Apr 18 22:12:52 2021 +0000

    build(deps): bump reqwest from 0.11.2 to 0.11.3
    
    Bumps [reqwest](https://github.com/seanmonstar/reqwest) from 0.11.2 to 0.11.3.
    - [Release notes](https://github.com/seanmonstar/reqwest/releases)
    - [Changelog](https://github.com/seanmonstar/reqwest/blob/master/CHANGELOG.md)
    - [Commits](https://github.com/seanmonstar/reqwest/compare/v0.11.2...v0.11.3)
    
    Signed-off-by: dependabot[bot] <support@github.com>

commit 8bf0f70c099e690743151066624214531d752798
Author: dependabot[bot] <49699333+dependabot[bot]@users.noreply.github.com>
Date:   Sun Apr 18 22:12:30 2021 +0000

    build(deps): bump tokio-util from 0.6.5 to 0.6.6
    
    Bumps [tokio-util](https://github.com/tokio-rs/tokio) from 0.6.5 to 0.6.6.
    - [Release notes](https://github.com/tokio-rs/tokio/releases)
    - [Commits](https://github.com/tokio-rs/tokio/compare/tokio-util-0.6.5...tokio-util-0.6.6)
    
    Signed-off-by: dependabot[bot] <support@github.com>

commit 038d516fdcfb50d92d410bef90ef802b7f908fcc
Author: dependabot[bot] <49699333+dependabot[bot]@users.noreply.github.com>
Date:   Sun Apr 18 22:11:14 2021 +0000

    build(deps): bump sysinfo from 0.17.0 to 0.17.1
    
    Bumps [sysinfo](https://github.com/GuillaumeGomez/sysinfo) from 0.17.0 to 0.17.1.
    - [Release notes](https://github.com/GuillaumeGomez/sysinfo/releases)
    - [Commits](https://github.com/GuillaumeGomez/sysinfo/commits)
    
    Signed-off-by: dependabot[bot] <support@github.com>

commit 9dd22dffdadcdcea12548b9d7994acc1cf6efb50
Author: dependabot[bot] <49699333+dependabot[bot]@users.noreply.github.com>
Date:   Sun Apr 18 22:10:48 2021 +0000

    build(deps): bump libc from 0.2.92 to 0.2.93
    
    Bumps [libc](https://github.com/rust-lang/libc) from 0.2.92 to 0.2.93.
    - [Release notes](https://github.com/rust-lang/libc/releases)
    - [Commits](https://github.com/rust-lang/libc/compare/0.2.92...0.2.93)
    
    Signed-off-by: dependabot[bot] <support@github.com>

commit af235b92223d83f943d9ecf8876365c54c7f0299
Author: Chris Golden <551285+cirego@users.noreply.github.com>
Date:   Fri Apr 16 15:13:49 2021 -0700

    Fixup comment on mz_kafka_broker_rtt metrics (#6494)
    
    The test was changed due to differences in the testing environments
    but comment remained the same. Fixup the comment.

commit dae3dcbd385b36af541e94ebad3382bdfc376dec
Author: Chris Golden <551285+cirego@users.noreply.github.com>
Date:   Fri Apr 16 09:41:04 2021 -0700

    Testdrive: Use the configured kafka address (#6469)
    
    * Testdrive: Use the configured kafka address
    
    When asserting kafka broker RTT stats, use the configured
    broker address, not a hardcode hostname / port combination.
    
    Fixes #6459
    
    * Check only if broker name is non-null and not-empty

commit bce3ee3b2e7b22dbe3f9fa73c982604421a38499
Author: Andreas Fuchs <asf@materialize.com>
Date:   Thu Apr 15 16:16:57 2021 -0400

    Fix syntax of pubnub example view
    
    This was missing an opening paren, causing psql to complain about a
    syntax error when following the stocks example.

commit a38d03b7e828e7ba292309ef0425e1c90ec862e3
Author: Brennan Vincent <brennan@materialize.io>
Date:   Thu Apr 15 15:53:08 2021 -0400

    resolve a todo (#6483)

commit 6e83cc1b4536b8121998d72f1acb4781cac4529d
Merge: 9bafc044b b4f116ceb
Author: Daniel Harrison <52528+danhhz@users.noreply.github.com>
Date:   Thu Apr 15 12:40:10 2021 -0700

    Merge pull request #6481 from danhhz/mac_lld
    
    doc/developer: arm64 addendum to the experimental mac lld instructions

commit b4f116ceb44ad9665008304ea203dff0fde29d7c
Author: Daniel Harrison <52528+danhhz@users.noreply.github.com>
Date:   Thu Apr 15 12:27:45 2021 -0700

    doc/developer: arm64 addendum to the experimental mac lld instructions

commit 9bafc044b21390be00402a7ebad0a0646a9eacfe
Merge: 808c5dc30 4ccf20041
Author: Daniel Harrison <52528+danhhz@users.noreply.github.com>
Date:   Thu Apr 15 11:55:37 2021 -0700

    Merge pull request #6471 from danhhz/topk
    
    render: optimize topk when limit=1 and input is monotonic (append-only)

commit 4ccf2004172f4ba13dfd1bc5161384382f5192eb
Author: Philip Stoev <pstoev@materialize.io>
Date:   Thu Apr 15 12:41:23 2021 +0200

    Test for the Top1 optimization against a kafka ENVELOPE NONE source

commit 26c707a30341f080ea90320938a40e66ba402b1e
Author: Daniel Harrison <52528+danhhz@users.noreply.github.com>
Date:   Tue Apr 13 07:47:24 2021 -0700

    render: optimize topk when limit=1 and input is monotonic (append-only)
    
    If the input to a TopK is monotonic (aka append-only aka no retractions)
    then we don't have to worry about keeping every row we've seen around
    forever. Instead, the reduce can incrementally compute a new answer by
    looking at just the old TopK for a key and the incremental data. We do
    an identical optimization for MIN and MAX of monotonic sources.
    
    This optimization generalizes to any TopK over a monotonic source, but
    we special case only TopK with offset=0 and limit=1 (aka Top1) for now.
    This is because (1) Top1 can merge in each incremental row in constant
    space and time while the generalized solution needs something like a
    priority queue and (2) we expect Top1 will be a common pattern used to
    turn a Kafka source's "upsert" semantics into differential's semantics.
    (2) is especially interesting because Kafka is monotonic with an
    ENVELOPE of NONE, which is the default for ENVELOPE in Materialize and
    commonly used by users.
    
    Closes #5996

commit 808c5dc308b26b7aa547dfeda25bba0a418e15be
Merge: 4ffec135c 613088356
Author: Matt Jibson <matt.jibson@gmail.com>
Date:   Thu Apr 15 10:48:46 2021 -0600

    Merge pull request #6473 from mjibson/coord-send
    
    coord: don't move across thread boundary

commit 4ffec135ccba6c4eaba31479ca3efec4780d7d1e
Merge: 12c842aac dbd9c344e
Author: Petros Angelatos <petrosagg@gmail.com>
Date:   Thu Apr 15 18:45:26 2021 +0200

    Merge pull request #6460 from petrosagg/retry-pubnub
    
    pubnub: add reconnection logic

commit 6130883565d98003cd1d5a547ad7a3369f92f0ec
Author: Matt Jibson <matt.jibson@gmail.com>
Date:   Thu Apr 15 10:22:18 2021 -0600

    coord: don't move across thread boundary
    
    This will allow us in the future to use !Send types in the
    coordinator.

commit 12c842aacdfc84b4f7160a95eb200db1b3dd1c04
Author: Jessica Laughlin <JLDLaughlin@users.noreply.github.com>
Date:   Thu Apr 15 12:11:30 2021 -0400

    coord: plan CREATE SOURCES FROM POSTGRES (#6448)
    
    Plans a CREATE SOURCES FROM POSTGRES statement, but leaves the
    command unsupported.

commit db32d8a5bdd9046097218208f5c96fcdb99973a5
Merge: 1a3fc0c6f f88325e93
Author: Justin Jaffray <justin.jaffray@gmail.com>
Date:   Thu Apr 15 11:12:58 2021 -0400

    Merge pull request #6379 from justinj/lin-test
    
    Add failing (ignored) linearizability test

commit 1a3fc0c6f348203fcd63d93486496348e2f84d64
Merge: dd2325c0d 942c2615a
Author: Andreas Fuchs <asf@materialize.com>
Date:   Thu Apr 15 11:06:09 2021 -0400

    Merge pull request #6271 from antifuchs/explore/prometheus-scrape-in-coord
    
    Scrape our own prometheus metrics and inject them into builtin tables

commit dd2325c0dd3be0204317cd9482cf2ecca321fa14
Author: Andrés Senac <andres@senac.es>
Date:   Thu Apr 15 16:42:01 2021 +0200

    Extend union fusion transformation (#6474)
    
    When a union branch contains a negated union, push the negate to each
    branch of the nested union and merge them into the parent union.

commit 942c2615a6abb8556aa20561302bf53406467db9
Author: Andreas Fuchs <asf@materialize.com>
Date:   Tue Mar 30 16:09:43 2021 -0400

    Scrape prometheus registry & feed into built-in tables
    
    This adds a thread to the coordinator that bumps the metrics over to
    a the logging worker via a broadcast message, then adds them to a set of
    builtin tables (with appropriate expiry). This should allow our users
    to see how the system is behaving from the psql commandline (as well
    as allow our benchmark tasks to make decisions without spinning a bunch
    of containers).

commit eb57f8eb0c547fbfb1d22d0c16668fde335cfdb2
Author: Andrés Senac <andres@senac.es>
Date:   Thu Apr 15 16:31:09 2021 +0200

    Add new transformation rule cancelling negated union branches (#6446)
    
    Add new transformation rule that detects an input being unioned with its
    negation and cancels them out.

commit f88325e93c47809b13424bf6d7d5b13df80efd91
Author: Justin Jaffray <justin.jaffray@gmail.com>
Date:   Wed Apr 7 17:26:31 2021 -0400

    Add failing (ignored) linearizability test

commit 434edf491b8b6338521bd97abd595a2159e4b785
Author: Andreas Fuchs <asf@materialize.com>
Date:   Mon Mar 29 14:25:36 2021 -0400

    Do not make MaterializedEvent's Eq, Ord, Hash
    
    They don't use the traits, and not having them allows us to send f64
    values (which we read verbatim from prometheus, ugh.

commit 6cdd7b73d7ef0b5b1fd971f0d653a2e0af2ba7f0
Merge: fe97426ea 7a090fb86
Author: Aljoscha Krettek <aljoscha.krettek@gmail.com>
Date:   Thu Apr 15 14:14:27 2021 +0200

    Merge pull request #6445 from aljoscha/6368-mz-operator-addresses-as-list
    
    Switch mz_dataflow_operator_addresses from using a slot/value scheme to lists

commit fe97426ea55aa7a098345562cebb6190338d326c
Author: Andi Wang <5522362+wangandi@users.noreply.github.com>
Date:   Wed Apr 14 23:21:54 2021 -0400

    Optimization: Have column knowledge optimize join equivalence classes (#6443)
    
    * Apply column knowledge to equivalence classes of joins.
    
    Co-authored-by: Philip Stoev <pstoev@materialize.io>

commit 7470ce56a6beae78d47f295fc03bec287ac6b07d
Author: Andreas Fuchs <asf@materialize.com>
Date:   Wed Apr 14 16:58:09 2021 -0400

    Update release issue template (#6453)
    
    This changes some of the final steps to be clearer re. what needs to
    happen about announcements & relnotes review.

commit 3811c36d0d0cf3479776c8755aeb07fa7027df8a
Author: Brandon W Maister <bwm@materialize.io>
Date:   Wed Apr 14 14:59:43 2021 -0400

    bin/xcompile: don't fail in combo with the recs from fast-compiles (#6452)

commit cc1438b75b84a9381c8bfdd54ce874f8078f72c0
Merge: 36a23faed 3b485d97d
Author: Petros Angelatos <petrosagg@gmail.com>
Date:   Wed Apr 14 16:24:54 2021 +0200

    Merge pull request #6462 from petrosagg/update-pg
    
    incorporate code review fixes from rust-postgres

commit 3b485d97ded769e2ac5995815c0828f479a5cc35
Author: Petros Angelatos <petrosagg@gmail.com>
Date:   Wed Apr 14 15:58:14 2021 +0200

    incorporate code review fixes from rust-postgres
    
    Signed-off-by: Petros Angelatos <petrosagg@gmail.com>

commit 7a090fb867a57024953ca26ecb24ba0102c3216d
Author: Aljoscha Krettek <aljoscha.krettek@gmail.com>
Date:   Wed Apr 14 15:13:04 2021 +0200

    dataflow: use list instead of slot/value for mz_dataflow_operator_addresses

commit f654c446ab6b7c950a1578ef5281f25c2542cf95
Author: Aljoscha Krettek <aljoscha.krettek@gmail.com>
Date:   Wed Apr 14 14:46:31 2021 +0200

    coord: convert Datum::List to JSON array on queries to /sql
    
    This makes it a lot easier work with address arrays/lists returned from
    the mz_dataflow_operator_addresses view.

commit 36a23faed5115c48ec08380eb2ee77ad116c9309
Merge: b3edefea5 0282e8234
Author: Petros Angelatos <petrosagg@gmail.com>
Date:   Wed Apr 14 14:54:34 2021 +0200

    Merge pull request #6432 from petrosagg/pg-replication2
    
    Single table postgres replication sources

commit 0282e82344b462404bbd4ada1755bacc1c5f9c81
Author: Philip Stoev <pstoev@materialize.io>
Date:   Wed Feb 24 08:35:59 2021 +0100

    testdrive-based test for Postgres CDC replication

commit bdd461f718d4fbf4fb432adb22e08cc063d409b4
Author: Petros Angelatos <petrosagg@gmail.com>
Date:   Thu Feb 18 13:43:33 2021 +0100

    dataflow: initial postgres source implementation
    
    this version support syncing a single table and the SQL syntax must
    specify verbatim the expected schema of the synced table
    
    Signed-off-by: Petros Angelatos <petrosagg@gmail.com>

commit 8d7798f715edddc4b2608444957034bc76368970
Author: Petros Angelatos <petrosagg@gmail.com>
Date:   Wed Apr 14 13:24:33 2021 +0200

    extract postgres utilities in separate crate
    
    Signed-off-by: Petros Angelatos <petrosagg@gmail.com>

commit 3ee2ab1b5738d2fa456a60e63fc5e020204d57f6
Author: Petros Angelatos <petrosagg@gmail.com>
Date:   Mon Apr 12 12:01:04 2021 +0200

    switch rust-postgres dependency to forked version
    
    Needed until https://github.com/sfackler/rust-postgres/pull/752 is merged and released
    
    Signed-off-by: Petros Angelatos <petrosagg@gmail.com>

commit dbd9c344e6e4898f38a605f50af671fc3a93bd74
Author: Petros Angelatos <petrosagg@gmail.com>
Date:   Wed Apr 14 12:41:50 2021 +0200

    pubnub: add reconnection logic
    
    Signed-off-by: Petros Angelatos <petrosagg@gmail.com>

commit b3edefea5d07107e30cfae80cb317b712f0db071
Author: Brennan Vincent <brennan@materialize.io>
Date:   Tue Apr 13 19:40:48 2021 -0400

    Allow start_offset for `ENVELOPE DEBEZIUM` sources (#6454)

commit 097e7da1c82ebe08e1bd693d1efc34b773339654
Author: Chris Golden <551285+cirego@users.noreply.github.com>
Date:   Tue Apr 13 14:17:01 2021 -0700

    Simple mzcompose workflow that follows the Debezium tutorial (#6378)
    
    Mostly intended for manual testing and includes notes. Will
    be the basis for some more automated testing shortly.

commit c09868edf3e0e149fa2832268f17d81a07dfeb65
Merge: 1ef4d61b3 db99d496c
Author: Daniel Harrison <52528+danhhz@users.noreply.github.com>
Date:   Tue Apr 13 11:33:17 2021 -0700

    Merge pull request #6447 from danhhz/mac_lld
    
    dev/developer: more details on using mac lld and better benchmarks

commit 1ef4d61b3ab83fdaf5a7348388c267e84c9324de
Merge: 4ba274e61 6a3020284
Author: Brandon W Maister <bwm@materialize.io>
Date:   Tue Apr 13 12:12:41 2021 -0400

    Merge pull request #6435 from quodlibetor/improve-parser-errors

commit 4ba274e614ee7ca56ee4799b658003da66caeb31
Author: Brandon W Maister <bwm@materialize.io>
Date:   Tue Apr 13 12:07:22 2021 -0400

    Document ENVELOPE DEBEZIUM UPSERT and add it to 0.7.2 release notes (#6418)

commit 6a30202847dcff69c5f7724b11afde228b0875e6
Author: Brandon W Maister <bwm@materialize.io>
Date:   Mon Apr 12 13:52:49 2021 -0400

    Only display values if they provide more information

commit 69268b457883c060f0b674ea045b7f2dd60dd72e
Author: Andreas Fuchs <asf@materialize.com>
Date:   Tue Apr 13 11:27:05 2021 -0400

    Continue v0.7.3 dev (#6417)
    
    * release: v0.7.2
    
    * Prepare next phase of development: v0.7.3-dev
    
    * Update released versions to include v0.7.2

commit 1dcbf2a13c9580de7d1a984e52937e9f14536195
Author: Brennan Vincent <brennan@materialize.io>
Date:   Tue Apr 13 11:12:49 2021 -0400

    [source orthogonality] Strip Debezium deduplication out of decoding and into its own operator (#6442)

commit db99d496c94fde127d5deeaf4ff21084127fd595
Author: Daniel Harrison <52528+danhhz@users.noreply.github.com>
Date:   Tue Apr 13 08:07:22 2021 -0700

    dev/developer: more details on using mac lld and better benchmarks

commit b984d7ae451595691743f5c8ef765f790f0800b1
Author: Andreas Fuchs <asf@materialize.com>
Date:   Mon Apr 12 13:32:27 2021 -0400

    Record a prometheus metric counting the log messages emitted by level (#6400)
    
    * Record a prometheus metric counting the log messages emitted by level
    
    This change adds a new metric, "mz_log_message_total", which counts the
    number of log messages emitted by level. This should make it easier for
    users of the cloud product (and on-prem users also) to hook up alerting
    to the log messages: Our recommendation is to page people if an ERROR is
    logged, so this allows doing just that.
    
    * Add a test to ensure we count log messages.
    
    * Add release notes for the metric

commit 6a55d24815505a2e7933653d561c172588523f9b
Author: Brandon W Maister <bwm@materialize.io>
Date:   Mon Apr 12 13:32:07 2021 -0400

    slt: Make it obvious that some failures are skipped (#6410)

commit 7f656fd7d356d54dec21913779b2aa230c8bde03
Author: Chris Golden <551285+cirego@users.noreply.github.com>
Date:   Mon Apr 12 10:15:39 2021 -0700

    Do not log failure to drop topics (#6440)
    
    This is not an error message, as the topics may not exist. When running
    interactively, don't print anything. Log them at debug level in
    automation simply because it might take longer to debug CI failures
    otherwise.

commit 3b5205b00ed64813490cc8d5ffc608ec12d2d0ba
Author: Chris Golden <551285+cirego@users.noreply.github.com>
Date:   Mon Apr 12 09:41:32 2021 -0700

    Drop topics before starting debezium connector (#6421)
    
    Chbench startup would often timeout because Peeker failed to create
    sources due to the Kafka topics missing. This is because we drop the
    Kafka topics after creating them in the connector. This then results in
    Peeker either succeeding or failing depending on how quickly Debezium
    would recreate the topics.
    
    Instead of dropping the topics after starting the connect process,
    simply drop them beforehand. That way the topics will be empty and will
    exist for both debezium and peeker.

commit b5ce0396ad5daefe2324088df8ad0a8535340d53
Author: Micole Sudberg <micole@materialize.io>
Date:   Mon Apr 12 12:06:30 2021 -0400

    docs: Line-edit for S3 docs (#6414)
    
    * docs: Line-edit for S3 docs
    
    * Update doc/user/layouts/partials/create-source/connector/s3/details.html
    
    Co-authored-by: Brandon W Maister <quodlibetor@gmail.com>
    
    * docs: Minor wording fixes
    
    * Minor wording fixes
    
    Co-authored-by: Brandon W Maister <quodlibetor@gmail.com>

commit 932206433d5d54e328fd43b0e9088eaea3dbaa82
Merge: d4208d69f fd7e04d7f
Author: Ruchir Khaitan <ruchir0001@gmail.com>
Date:   Mon Apr 12 10:34:37 2021 -0400

    Merge pull request #6277 from ruchirK/byo-ts-compaction
    
    dataflow: new interface for handling timestamping information

commit 8fa6cf868b65f61b06f15d2eebb9edccd624b6cb
Author: Brandon W Maister <bwm@materialize.io>
Date:   Mon Apr 12 10:24:13 2021 -0400

    Include the literal that caused a parser error in the error message
    
    For me recently I typoed FORMAT in a CREATE SOURCE statement and got "expected EOF found identifier"
    which doesn't help. I think I've been annoyed by this in other places.

commit d4208d69f071e0fc4db9d0ea54b2c60aa090029f
Merge: ac3b316af af1629615
Author: Nikhil Benesch <nikhil.benesch@gmail.com>
Date:   Mon Apr 12 00:40:39 2021 -0400

    Merge pull request #6429 from MaterializeInc/dependabot/cargo/aws-arn-0.2.0
    
    build(deps): bump aws-arn from 0.1.1 to 0.2.0

commit ac3b316af2f95e8b6c198d7426938d1fef0ca432
Merge: e955ce631 423d185c1
Author: Nikhil Benesch <nikhil.benesch@gmail.com>
Date:   Sun Apr 11 22:02:49 2021 -0400

    Merge pull request #6431 from MaterializeInc/dependabot/cargo/postgres-protocol-0.6.1
    
    build(deps): bump postgres-protocol from 0.6.0 to 0.6.1

commit 423d185c1c09f37d8847fc59770283986a78c1f7
Author: dependabot[bot] <49699333+dependabot[bot]@users.noreply.github.com>
Date:   Mon Apr 12 00:53:08 2021 +0000

    build(deps): bump postgres-protocol from 0.6.0 to 0.6.1
    
    Bumps [postgres-protocol](https://github.com/sfackler/rust-postgres) from 0.6.0 to 0.6.1.
    - [Release notes](https://github.com/sfackler/rust-postgres/releases)
    - [Commits](https://github.com/sfackler/rust-postgres/compare/postgres-protocol-v0.6.0...postgres-protocol-v0.6.1)
    
    Signed-off-by: dependabot[bot] <support@github.com>

commit e955ce6315ce6807dcd359d4c2be59eac323042f
Merge: 74d94f103 3ead4704a
Author: Nikhil Benesch <nikhil.benesch@gmail.com>
Date:   Sun Apr 11 21:23:22 2021 -0400

    Merge pull request #6430 from MaterializeInc/dependabot/cargo/sysinfo-0.17.0
    
    build(deps): bump sysinfo from 0.16.5 to 0.17.0

commit af16296150072289ac6b5656b1702273cfdea2b9
Author: dependabot[bot] <49699333+dependabot[bot]@users.noreply.github.com>
Date:   Sun Apr 11 22:10:55 2021 +0000

    build(deps): bump aws-arn from 0.1.1 to 0.2.0
    
    Bumps [aws-arn](https://github.com/johnstonskj/rust-aws-arn) from 0.1.1 to 0.2.0.
    - [Release notes](https://github.com/johnstonskj/rust-aws-arn/releases)
    - [Commits](https://github.com/johnstonskj/rust-aws-arn/commits)
    
    Signed-off-by: dependabot[bot] <support@github.com>

commit 74d94f1032a73dbd3f742d3cdac1537a56dd412b
Merge: 24dc69c4a 4f6d6fc75
Author: Nikhil Benesch <nikhil.benesch@gmail.com>
Date:   Sun Apr 11 21:11:06 2021 -0400

    Merge pull request #6423 from MaterializeInc/dependabot/cargo/syn-1.0.69
    
    build(deps): bump syn from 1.0.68 to 1.0.69

commit 24dc69c4ac34768e1c8d8e4a848565ce4d01434e
Merge: f262b8ed6 becb6e835
Author: Nikhil Benesch <nikhil.benesch@gmail.com>
Date:   Sun Apr 11 21:10:53 2021 -0400

    Merge pull request #6427 from MaterializeInc/dependabot/cargo/futures-channel-0.3.14
    
    build(deps): bump futures-channel from 0.3.13 to 0.3.14

commit f262b8ed65410ce55bac421e1f6a101d38074880
Merge: ce7d46ae8 227050406
Author: Nikhil Benesch <nikhil.benesch@gmail.com>
Date:   Sun Apr 11 21:10:47 2021 -0400

    Merge pull request #6428 from MaterializeInc/dependabot/cargo/hyper-proxy-0.9.1
    
    build(deps): bump hyper-proxy from 0.9.0 to 0.9.1

commit 3ead4704a71f398cf9ffb1fd9400a591af169fda
Author: dependabot[bot] <49699333+dependabot[bot]@users.noreply.github.com>
Date:   Mon Apr 12 00:52:45 2021 +0000

    build(deps): bump sysinfo from 0.16.5 to 0.17.0
    
    Bumps [sysinfo](https://github.com/GuillaumeGomez/sysinfo) from 0.16.5 to 0.17.0.
    - [Release notes](https://github.com/GuillaumeGomez/sysinfo/releases)
    - [Commits](https://github.com/GuillaumeGomez/sysinfo/commits)
    
    Signed-off-by: dependabot[bot] <support@github.com>

commit ce7d46ae89bc2596548bfb728ac7ccb1df4291c0
Merge: 1dca6db60 374dd742f
Author: Nikhil Benesch <nikhil.benesch@gmail.com>
Date:   Sun Apr 11 20:40:49 2021 -0400

    Merge pull request #6426 from MaterializeInc/dependabot/cargo/differential-dataflow-adf4ac7
    
    build(deps): bump differential-dataflow from `5c3bfb8` to `adf4ac7`

commit 1dca6db60bb38ec7dd4ad733752b335148a00aaf
Merge: 3424b1fa5 2d2a3840d
Author: Nikhil Benesch <nikhil.benesch@gmail.com>
Date:   Sun Apr 11 20:40:46 2021 -0400

    Merge pull request #6425 from MaterializeInc/dependabot/cargo/whoami-1.1.2
    
    build(deps): bump whoami from 1.1.1 to 1.1.2

commit 3424b1fa5d874d2df00726070c6c9f30418a0d43
Merge: c9d3b39bc d2047faa9
Author: Nikhil Benesch <nikhil.benesch@gmail.com>
Date:   Sun Apr 11 20:40:42 2021 -0400

    Merge pull request #6424 from MaterializeInc/dependabot/cargo/timely-3671a3b
    
    build(deps): bump timely from `0d0d848` to `3671a3b`

commit c9d3b39bcd6dab014cced3596b72c981c8154df0
Merge: 7ab4ecb9c 02a380ef2
Author: Nikhil Benesch <nikhil.benesch@gmail.com>
Date:   Sun Apr 11 20:40:37 2021 -0400

    Merge pull request #6422 from MaterializeInc/dependabot/cargo/crossbeam-channel-0.5.1
    
    build(deps): bump crossbeam-channel from 0.5.0 to 0.5.1

commit 2270504064bdcc741c6ebd99fdf8002407d92cdc
Author: dependabot[bot] <49699333+dependabot[bot]@users.noreply.github.com>
Date:   Sun Apr 11 22:10:14 2021 +0000

    build(deps): bump hyper-proxy from 0.9.0 to 0.9.1
    
    Bumps [hyper-proxy](https://github.com/tafia/hyper-proxy) from 0.9.0 to 0.9.1.
    - [Release notes](https://github.com/tafia/hyper-proxy/releases)
    - [Changelog](https://github.com/tafia/hyper-proxy/blob/master/Changelog.md)
    - [Commits](https://github.com/tafia/hyper-proxy/commits)
    
    Signed-off-by: dependabot[bot] <support@github.com>

commit becb6e835fb74955f951079e650cf4d765217594
Author: dependabot[bot] <49699333+dependabot[bot]@users.noreply.github.com>
Date:   Sun Apr 11 22:09:54 2021 +0000

    build(deps): bump futures-channel from 0.3.13 to 0.3.14
    
    Bumps [futures-channel](https://github.com/rust-lang/futures-rs) from 0.3.13 to 0.3.14.
    - [Release notes](https://github.com/rust-lang/futures-rs/releases)
    - [Changelog](https://github.com/rust-lang/futures-rs/blob/master/CHANGELOG.md)
    - [Commits](https://github.com/rust-lang/futures-rs/compare/0.3.13...0.3.14)
    
    Signed-off-by: dependabot[bot] <support@github.com>

commit 374dd742fad6d50776a7a5c143c1b30b0b08f53b
Author: dependabot[bot] <49699333+dependabot[bot]@users.noreply.github.com>
Date:   Sun Apr 11 22:09:34 2021 +0000

    build(deps): bump differential-dataflow from `5c3bfb8` to `adf4ac7`
    
    Bumps [differential-dataflow](https://github.com/TimelyDataflow/differential-dataflow) from `5c3bfb8` to `adf4ac7`.
    - [Release notes](https://github.com/TimelyDataflow/differential-dataflow/releases)
    - [Commits](https://github.com/TimelyDataflow/differential-dataflow/compare/5c3bfb874e533c37d33b56a40c2177da74b917c6...adf4ac7760b6795962eee2364967ec2bd0c2b3e4)
    
    Signed-off-by: dependabot[bot] <support@github.com>

commit 2d2a3840d970e9c833650bb7511d652bfe79c1db
Author: dependabot[bot] <49699333+dependabot[bot]@users.noreply.github.com>
Date:   Sun Apr 11 22:09:07 2021 +0000

    build(deps): bump whoami from 1.1.1 to 1.1.2
    
    Bumps [whoami](https://github.com/libcala/whoami) from 1.1.1 to 1.1.2.
    - [Release notes](https://github.com/libcala/whoami/releases)
    - [Changelog](https://github.com/libcala/whoami/blob/main/CHANGELOG.md)
    - [Commits](https://github.com/libcala/whoami/compare/v1.1.1...v1.1.2)
    
    Signed-off-by: dependabot[bot] <support@github.com>

commit d2047faa90ed6146eda71a6abdc7e505d779ab9a
Author: dependabot[bot] <49699333+dependabot[bot]@users.noreply.github.com>
Date:   Sun Apr 11 22:08:36 2021 +0000

    build(deps): bump timely from `0d0d848` to `3671a3b`
    
    Bumps [timely](https://github.com/TimelyDataflow/timely-dataflow) from `0d0d848` to `3671a3b`.
    - [Release notes](https://github.com/TimelyDataflow/timely-dataflow/releases)
    - [Commits](https://github.com/TimelyDataflow/timely-dataflow/compare/0d0d84885672d6369a78cd9aff7beb2048390d3b...3671a3b3d5cc8c65a78bac2dc45f3c33145f1cba)
    
    Signed-off-by: dependabot[bot] <support@github.com>

commit 4f6d6fc756b46270b928048256343c4cd5d1720b
Author: dependabot[bot] <49699333+dependabot[bot]@users.noreply.github.com>
Date:   Sun Apr 11 22:07:58 2021 +0000

    build(deps): bump syn from 1.0.68 to 1.0.69
    
    Bumps [syn](https://github.com/dtolnay/syn) from 1.0.68 to 1.0.69.
    - [Release notes](https://github.com/dtolnay/syn/releases)
    - [Commits](https://github.com/dtolnay/syn/compare/1.0.68...1.0.69)
    
    Signed-off-by: dependabot[bot] <support@github.com>

commit 02a380ef2cc0120a35d892d970f39df8988079fb
Author: dependabot[bot] <49699333+dependabot[bot]@users.noreply.github.com>
Date:   Sun Apr 11 22:07:37 2021 +0000

    build(deps): bump crossbeam-channel from 0.5.0 to 0.5.1
    
    Bumps [crossbeam-channel](https://github.com/crossbeam-rs/crossbeam) from 0.5.0 to 0.5.1.
    - [Release notes](https://github.com/crossbeam-rs/crossbeam/releases)
    - [Changelog](https://github.com/crossbeam-rs/crossbeam/blob/master/CHANGELOG.md)
    - [Commits](https://github.com/crossbeam-rs/crossbeam/compare/crossbeam-channel-0.5.0...crossbeam-channel-0.5.1)
    
    Signed-off-by: dependabot[bot] <support@github.com>

commit 7ab4ecb9c956fc790a672f17a09e5fdb0057d7fb
Merge: 91d920202 c5836c697
Author: Nikhil Benesch <nikhil.benesch@gmail.com>
Date:   Fri Apr 9 22:28:11 2021 -0400

    Merge pull request #6419 from benesch/parse-duration-sec
    
    sec: ignore irrelevant vulnerability in parse_duration

commit c5836c6976fbdea5772c6566eca1680795fd0f24
Author: Nikhil Benesch <nikhil.benesch@gmail.com>
Date:   Fri Apr 9 17:48:25 2021 -0400

    sec: ignore irrelevant vulnerability in parse_duration
    
    See comment within for justification.

commit 91d92020252c7603918f3b35a85fd84d3ffdcf6f
Merge: 23968f96e c39c8d512
Author: Eli Lindsey <eli@siliconsprawl.com>
Date:   Fri Apr 9 17:22:06 2021 -0400

    Merge pull request #6398 from elindsey/fpc
    
    clarify design doc merge process

commit 23968f96e15de5b1ad3f75033087beed6156bc90
Merge: 2f823fb1f 57574b6fc
Author: Andreas Fuchs <asf@materialize.com>
Date:   Fri Apr 9 17:19:38 2021 -0400

    Merge pull request #6416 from antifuchs/asf/commitmsg-editorconfig
    
    Limit magit commit message buffers to 72 chars in .editorconfig

commit 2f823fb1ff74887379ae75b970a7087758b3114c
Merge: fe94a76dd 3e421bf67
Author: Nikhil Benesch <nikhil.benesch@gmail.com>
Date:   Fri Apr 9 17:05:07 2021 -0400

    Merge pull request #6407 from benesch/fix-slt
    
    test/slt: fix syntax errors in test files

commit fe94a76dd0cf790f3f969c84421b517501084956
Merge: c831a6d0c e4309a5d1
Author: Nikhil Benesch <nikhil.benesch@gmail.com>
Date:   Fri Apr 9 17:04:51 2021 -0400

    Merge pull request #6415 from quodlibetor/create-source-s3-doc
    
    docs: S3 is no longer experimental

commit c39c8d51294810f894fe8f31320b6382fe557c48
Author: Eli Lindsey <eli@siliconsprawl.com>
Date:   Thu Apr 8 17:01:01 2021 -0400

    clarify design doc merge process

commit 57574b6fcf1ae696f61a992458a27b7ef0c8e5eb
Author: Andreas Fuchs <asf@materialize.com>
Date:   Fri Apr 9 15:46:18 2021 -0400

    Limit magit commit message buffers to 72 chars in .editorconfig
    
    This is a bit of a hack, but annoying otherwise: Our default line length
    limit is 100 chars, so anytime you make a commit with magit, it would
    word-wrap at 100 chars. By setting a rule for COMMIT_EDITMSG, this
    causes the commit message editor to auto-wrap at the right spot again.

commit e4309a5d1dc674fbe5c3203c83af65820b0f965b
Author: Brandon W Maister <bwm@materialize.io>
Date:   Fri Apr 9 15:41:14 2021 -0400

    docs: S3 is no longer experimental

commit c831a6d0c787c3d41f338919c6fed29da8b29250
Merge: 3b12f92b3 e57578ccf
Author: Nikhil Benesch <nikhil.benesch@gmail.com>
Date:   Fri Apr 9 15:16:43 2021 -0400

    Merge pull request #6412 from benesch/default-region
    
    ci/builder: plumb in AWS_DEFAULT_REGION

commit 3b12f92b31fe86b7777d0ac2921339f2a2178719
Merge: ab17bf6b8 ed5550b12
Author: Nikhil Benesch <nikhil.benesch@gmail.com>
Date:   Fri Apr 9 15:05:20 2021 -0400

    Merge pull request #6399 from andrioni/andrioni/add-pow
    
    sql: add pow as an alias to power

commit ab17bf6b8bb9e3d9b725217a719362c66ed85a69
Merge: 43a062134 ec37fd07a
Author: Nikhil Benesch <nikhil.benesch@gmail.com>
Date:   Fri Apr 9 14:52:07 2021 -0400

    Merge pull request #6411 from benesch/fix-pubnub-nightly
    
    Fix PubNub nightly

commit ec37fd07a9db4ae28b33567d8d659cb484aeb295
Author: Nikhil Benesch <nikhil.benesch@gmail.com>
Date:   Fri Apr 9 14:45:13 2021 -0400

    Fix PubNub nightly
    
    I mistyped "volatile" as "volatility" in a few places. Also take the
    opportunity to simplify the mzcompose.yml configuration.

commit ed5550b1231c8cf6c756aab5e311db24cd49f5c9
Author: Alessandro Andrioni <alessandroandrioni@gmail.com>
Date:   Thu Apr 8 23:00:28 2021 +0200

    sql: add pow as an alias to power
    
    Add support for pow as an alias to power, as supported by Postgres.

commit 43a0621349c124b4d82225229b658d0d0fd47683
Author: Andi Wang <5522362+wangandi@users.noreply.github.com>
Date:   Fri Apr 9 13:29:55 2021 -0400

    Add instructions on testing with primary keys. (#6408)

commit 881f5ad690e92e2032e766e83b0b3d310d90b71f
Merge: 26643f2a7 df1eab50c
Author: Nikhil Benesch <nikhil.benesch@gmail.com>
Date:   Fri Apr 9 12:49:53 2021 -0400

    Merge pull request #6406 from benesch/mzcompose-timeouts
    
    mzcompose: bump default timeouts to 60s

commit 3e421bf67084a1d9f4196a2431a8fdbe7f38cd12
Author: Nikhil Benesch <nikhil.benesch@gmail.com>
Date:   Fri Apr 9 12:49:11 2021 -0400

    test/slt: fix syntax errors in test files
    
    We introduced some syntax errors in our full suite of SLTs, but didn't
    notice due to a bug in the SLT runner. That bug got fixed in #6148,
    surfacing these errors. This commit fixes the syntax errors, which
    should make the full SLT run pass again.

commit df1eab50cff0d340ae879797f49ccf947a4c193c
Author: Nikhil Benesch <nikhil.benesch@gmail.com>
Date:   Fri Apr 9 12:11:45 2021 -0400

    mzcompose: bump default timeouts to 60s
    
    Empirically, 30s is too low. See #6391.

commit 26643f2a7db2ff53165e7ac622c507728c9b1684
Merge: 7263ee0da edf31eab1
Author: Nikhil Benesch <nikhil.benesch@gmail.com>
Date:   Fri Apr 9 11:44:36 2021 -0400

    Merge pull request #6381 from benesch/volatility-docs
    
    doc/user: improve volatility docs

commit 7263ee0da4b8f816a732f45c5fe197cc61bca79f
Merge: f393d33e3 ad254609c
Author: Albert Wang <albert@materialize.io>
Date:   Thu Apr 8 21:56:26 2021 -0400

    Merge pull request #6401 from MaterializeInc/awang-patch-1
    
    remove broken url

commit ad254609c9c1e9c096f1de78ef5decffadd32e60
Author: Albert Wang <albert@materialize.io>
Date:   Thu Apr 8 21:51:58 2021 -0400

    remove broken url
    
    removed in 36c49e76b

commit f393d33e395a4513aa1a1741490cc94abac3ed37
Author: Andi Wang <5522362+wangandi@users.noreply.github.com>
Date:   Thu Apr 8 17:30:11 2021 -0400

    Refactoring: Add a generalized version of `MirScalarExpr::visit_mut`. (#6348)
    
    Add a generalized version of `MirScalarExpr::visit_mut`.

commit e57578ccfab3c09301810938b529e4321f8345d1
Author: Nikhil Benesch <nikhil.benesch@gmail.com>
Date:   Thu Apr 8 16:02:47 2021 -0400

    ci/builder: plumb in AWS_DEFAULT_REGION

commit 7a9948f7634509b5bdb0d90240d49717c47a308f
Merge: 65abe75a6 b70c54506
Author: Nikhil Benesch <nikhil.benesch@gmail.com>
Date:   Thu Apr 8 16:01:51 2021 -0400

    Merge pull request #6375 from quodlibetor/doc-s3-getobject-optimization
    
    Document the S3 GetObject optimization

commit 65abe75a6e98e180f5c070970b1a96f9f6b4895a
Merge: 0fa0243b6 0aad30e0b
Author: Nikhil Benesch <nikhil.benesch@gmail.com>
Date:   Thu Apr 8 15:56:38 2021 -0400

    Merge pull request #6397 from benesch/cleanup-region
    
    ci/cleanup: specify us-east-2 region

commit 0fa0243b687980307bcf072841b205211684d671
Merge: 191569bb6 e7aaf4ee9
Author: Andreas Fuchs <asf@materialize.com>
Date:   Thu Apr 8 15:53:39 2021 -0400

    Merge pull request #6396 from antifuchs/prepare-v0.7.3-dev
    
    Prepare v0.7.2-rc1 & v0.7.3 dev

commit b70c54506fc74ab87147b2e09dbb366d771d3bc8
Author: Brandon W Maister <bwm@materialize.io>
Date:   Wed Apr 7 15:31:11 2021 -0400

    Document the S3 GetObject optimization

commit edf31eab18c2aba34affa9e84627bddc7b876f76
Author: Nikhil Benesch <nikhil.benesch@gmail.com>
Date:   Wed Apr 7 23:25:22 2021 -0400

    doc/user: improve volatility docs
    
    Iterate on some wording improvements that didn't make the deadline for
    31f7afa5b.

commit 191569bb6323da856c13a45cf45f1fa8092c52f8
Merge: 6fc0f51fd ded60f161
Author: Eli Lindsey <eli@siliconsprawl.com>
Date:   Thu Apr 8 15:05:26 2021 -0400

    Merge pull request #6395 from elindsey/replfactor
    
    change testdrive default kafka replication factor to 1

commit 0aad30e0badc9b80457657bca958053f14a342e3
Author: Nikhil Benesch <nikhil.benesch@gmail.com>
Date:   Thu Apr 8 15:05:07 2021 -0400

    ci/cleanup: specify us-east-2 region
    
    Testdrive and perf-kinesis run in us-east-2.

commit e7aaf4ee95525cc303809b6dc0d0e8bdd0cec5f3
Author: Andreas Fuchs <asf@materialize.com>
Date:   Thu Apr 8 14:58:05 2021 -0400

    Prepare next phase of development: v0.7.3-dev

commit 443b84525a807ab097f65bb649956c370ee46226
Author: Andreas Fuchs <asf@materialize.com>
Date:   Thu Apr 8 14:57:00 2021 -0400

    release: v0.7.2-rc1

commit ded60f1617bf25982072b483ce442d0d3e2a647b
Author: Eli Lindsey <eli@siliconsprawl.com>
Date:   Thu Apr 8 14:33:00 2021 -0400

    change testdrive default kafka replication factor to 1

commit 6fc0f51fd2b20c43bbe19be66b6024bbed4a0d5f
Author: Micole Sudberg <micole@materialize.io>
Date:   Thu Apr 8 13:12:14 2021 -0400

    (docs) Add supported units to EXTRACT. (#6287)

commit 5db4446ae967e33a71352852b07e0414ce35159c
Merge: 982dadba0 3a929c900
Author: Daniel Harrison <52528+danhhz@users.noreply.github.com>
Date:   Thu Apr 8 08:26:19 2021 -0700

    Merge pull request #6362 from danhhz/fetch_timeout
    
    pgwire: ignore timeout if FETCH returned the requested number of rows

commit 982dadba04ab747abd8431c4617e116077a54487
Author: Micole Sudberg <micole@materialize.io>
Date:   Thu Apr 8 11:23:26 2021 -0400

    5345 - Add cast context and more supported cast types (#6345)

commit 3a929c900871ed320217e1004f42b97e2737b256
Author: Philip Stoev <pstoev@materialize.io>
Date:   Thu Apr 8 08:02:36 2021 +0200

    testdrive-based test for FETCH with TIMEOUT that can be satisfied immediately.

commit 9731f7ec366bec75c7a08be18c7a3faaf5b7f96e
Author: Daniel Harrison <52528+danhhz@users.noreply.github.com>
Date:   Tue Apr 6 15:15:44 2021 -0700

    pgwire: ignore timeout if FETCH returned the requested number of rows
    
    Bug fix. Previously, if FETCH was given a timeout and a number of rows
    to return, it would wait the timeout even if the requested number of
    rows was immediately available.
    
    Closes #6307

commit fd7e04d7f3f3a6fa22205e8f8f07dfdc6d98bf93
Author: Ruchir Khaitan <ruchir0001@gmail.com>
Date:   Tue Mar 30 20:01:58 2021 -0400

    dataflow: new interface for handling BYO timestamps
    
    Teaches dataflow workers to communicate timestamp bindings to the coordinator
    who lets them know which timestamps they can forget about.

commit 57abd907ca5781afab61bdc8158009b61b8df538
Merge: ddf26b13b 9b9c93eaf
Author: Aljoscha Krettek <aljoscha.krettek@gmail.com>
Date:   Thu Apr 8 09:51:27 2021 +0200

    Merge pull request #6250 from aljoscha/6214-exactly-once-transactional
    
    Properly use transactions in Kafka exactly-once Sink

commit ddf26b13bf9185d7f9e1cb8dcb74deddc689b8bd
Author: Brennan Vincent <brennan@materialize.io>
Date:   Wed Apr 7 23:49:45 2021 -0400

    Fix Avro schema resolution going haywire when a field is added to the end of a record. (#6380)

commit 31f7afa5b79da3d8eeacd7cb23ee8b740c576ec2
Merge: d14de394b b4714601e
Author: Nikhil Benesch <nikhil.benesch@gmail.com>
Date:   Wed Apr 7 17:19:33 2021 -0400

    Merge pull request #6320 from benesch/volatility
    
    coord,docs,sql: introduce "volatility" concept; stabilize PubNub

commit b4714601e508108c218d77b038581046abc29fee
Author: Nikhil Benesch <nikhil.benesch@gmail.com>
Date:   Sat Apr 3 01:27:06 2021 -0400

    coord,docs,sql: introduce "volatility" concept; stabilize PubNub
    
    As proposed in #6300.

commit 0af4cf0853fa4735e09f96ddc8d672334d41e536
Author: Nikhil Benesch <nikhil.benesch@gmail.com>
Date:   Fri Apr 2 23:11:42 2021 -0400

    coord: make catalog responsible for generating builtin table updates
    
    Push the responsibility for generating the updates to builtin tables
    into the catalog. Previously, a catalog transaction would generate a
    list of events ("created item", "dropped item", etc.) that the
    coordinator would translate into builtin table updates.
    
    The big downside with the old approach was that after a drop operation,
    the catalog reflects the *new* state of the system while the coordinator
    needs to emit a record reflecting the *old* state of the system. This is
    ok when an event is self contained ("drop database"), but this is not
    the case for index updates. Index updates include information not just
    about the index but about the object upon which the index is built. When
    generating the builtin table update for a "drop index" operation, the
    coordinator really wants to be able to look up the metadata for the
    object upon which the index is built in the catalog; but if the index
    was dropped along with the view upon which it was built in the same
    transaction, then that view won't be available in the catalog. We'd
    hacked our way around this problem for indexes, but the approach doesn't
    generalize to the forthcoming volatility bit.
    
    In the new approach, the catalog generates the updates for a drop
    operation *before* applying the operation, while it generates the
    updates for a create operation *after* applying the operation. That
    neatly sidesteps the problem described above. When generating the update
    for a "drop index" operation, the index has not yet been dropped, and so
    it is safe to look up whatever metadata is necessary in the catalog.

commit 53809ae3258cbe8079aac5b618ef7d894ce2c59c
Author: Nikhil Benesch <nikhil.benesch@gmail.com>
Date:   Fri Apr 2 22:23:05 2021 -0400

    coord: colocate sink metadata updates
    
    Move the updating of mz_{kafka|avro_ocf}_sinks into a more sensible
    spot. It belongs in the process_catalog_events method, with the rest of
    the system table updates, rather than jammed into ship_dataflow.

commit 80f41eea2c227f60c38126e099f1f54ec260d471
Author: Nikhil Benesch <nikhil.benesch@gmail.com>
Date:   Fri Apr 2 22:18:03 2021 -0400

    coord: emit entries in catalog events
    
    Have the catalog emit `CatalogEntry`s in the events it produces, rather than duplicating the fields
    into the event structs. This saves a lot of typing, and will make for some nice simplifications in
    the next commits.

commit d14de394b479980fbfbab52ed64d948c5c1e59f7
Merge: 60574e39b 05d075b6c
Author: Nikhil Benesch <nikhil.benesch@gmail.com>
Date:   Wed Apr 7 15:23:40 2021 -0400

    Merge pull request #6365 from benesch/ci-cleanup
    
    ci/cleanup: clean up leaked S3 buckets and SQS queues

commit 9b9c93eaf443bf2fa28c5e514c80139aa6dbf5bc
Author: Aljoscha Krettek <aljoscha.krettek@gmail.com>
Date:   Wed Apr 7 20:15:23 2021 +0200

    coord,kafka: fix error message
    
    This was a remainder from when the code lived in kafka.rs.

commit 17dad5b9c275c89359d1802caf27801602a97fa3
Author: Aljoscha Krettek <aljoscha.krettek@gmail.com>
Date:   Mon Mar 29 17:29:49 2021 +0200

    kafka: wire exactly_once setting to sink code, use it to set transactional.id
    
    This is the first time our exactly-once sink actually uses transactions.
    The fixes in the previous commits are required to make this work.
    
    Before, the sink code was assuming that a `transactional.id` was set on
    the Kafka config, but this was never the case.
    
    Now, we set a `transactional.id` if exactly_once=true.
    
    This only works as long as there is only one real Kafka Producer
    instance that is producing data. If/when we allow multiple parallel
    producers we need to add a suffix to differentiate them.

commit 4fc4f5f12b3697db8769e61557d357b9da749d15
Author: Aljoscha Krettek <aljoscha.krettek@gmail.com>
Date:   Tue Mar 30 12:17:51 2021 +0200

    coord,kafka: fix consistency bootstrapping in Kafka sink
    
    Before, we were assuming that the END message is always at OffsetTail(1)
    but this is not always the case.
    
    Now, we read all messages and take the last valid END message as our
    ground truth.

commit 784838ce4ce52f71a4fcee8976d6bb600d7ad23b
Author: Aljoscha Krettek <aljoscha.krettek@gmail.com>
Date:   Wed Mar 31 11:14:38 2021 +0200

    coord,kafka: factor out consistency message parsing

commit 58e3578bdf6f016f20c9f6f5de976faca6b36161
Author: Aljoscha Krettek <aljoscha.krettek@gmail.com>
Date:   Tue Mar 30 12:01:46 2021 +0200

    coord,kafka: make log messages more helpful

commit 2b3ab98e41435c574f2bd26e141b3618a48a18aa
Author: Aljoscha Krettek <aljoscha.krettek@gmail.com>
Date:   Tue Mar 30 10:26:34 2021 +0200

    kafka: increase timeout on BYO consistency topic fetch (source)
    
    Before, I was often getting the error message that the consistency topic
    couldn't be fetched, indicating that the timeout was a smidge to
    aggressive.

commit 578964915ba64e3c02fad6dbd75a7df78099b704
Author: Aljoscha Krettek <aljoscha.krettek@gmail.com>
Date:   Mon Mar 29 17:06:18 2021 +0200

    sql,kafka: make transaction.timeout.ms configurable
    
    In some scenarios it can happen that transactions take a bit longer to
    complete. This gives users the option to set a longer timeout.

commit f9f73d5c6b1c4807b7baa2d8778f933bf9433a32
Author: Aljoscha Krettek <aljoscha.krettek@gmail.com>
Date:   Tue Mar 30 20:27:42 2021 +0200

    test: change kafka-exactly-once Kafka Docker config to work for exactly-once
    
    Before, we were not configuring minimum values for the transaction
    state log, which meant that tests that actually use transactions would
    fail.

commit 60574e39b0dd7cc85fcdc789b4e396e3b93f9703
Merge: 67b74884c fc72edcc4
Author: Brandon W Maister <quodlibetor@gmail.com>
Date:   Wed Apr 7 13:45:25 2021 -0400

    Merge pull request #6301 from quodlibetor/avro-decode-keys

commit 05d075b6c196ec1c2e30ddfe12a169375e10727d
Author: Nikhil Benesch <nikhil.benesch@gmail.com>
Date:   Tue Apr 6 23:08:43 2021 -0400

    ci/cleanup: clean up leaked S3 buckets and SQS queues
    
    The new S3 test can leak buckets and SQS queues; when enough of these
    pile up, we hit AWS resource limits and all CI jobs start failing.
    Extend the Kinesis cleanup job to clean up leaked S3 buckets and SQS
    queues too. (We can't rely on testdrive to clean up after itself in all
    cases if e.g. a build agent dies while running a job.)
    
    This commit tweaks testdrive to force usage of a "testdrive-" prefix in
    bucket/queue names, which brings those resources in line with Kafka
    topics and Kinesis streams created by testdrive, and also makes it easy
    to identify them in the cleanup job.

commit fc72edcc414744e75ffe860234d9ed28814926b8
Author: Brandon W Maister <bwm@materialize.io>
Date:   Fri Apr 2 10:21:13 2021 -0400

    "fix" upsert for the new "decoders know how to decode themselves" world
    
    Upsert does a bunch of work to put the key data into the value data, which is the next thing on my
    list to get rid of. This change works around the fact that the `DecoderState::decode_key` method
    used to be basically an alias for `decode_upsert_value`, but with the previous commit it actually
    uses a different decoder.
    
    In-progress work will clean this up.

commit 0bfabb0ebf748fe66a8353112202554fc1ef6ede
Author: Brandon W Maister <bwm@materialize.io>
Date:   Thu Apr 1 16:40:04 2021 -0400

    debezium upsert: Decode Kafka Keys when checking identity
    
    This resolves the potential issue of the same bit pattern possibly meaning different things in the
    presence of schema evolution.
    
    This PR does not support inline schemas, requiring the schema registry.

commit 67b74884c18a4a71c300d315c61b9f9925209117
Author: Brandon W Maister <bwm@materialize.io>
Date:   Wed Apr 7 12:23:49 2021 -0400

    Fix perf-kinesis CI test (#6370)
    
    For IAM permissions changes in https://github.com/MaterializeInc/infra/pull/895

commit 4bc3a8febf628a0710916a4166a95e09accbcb0c
Merge: ab09db2b6 5d54f1d9c
Author: Daniel Harrison <52528+danhhz@users.noreply.github.com>
Date:   Wed Apr 7 08:11:38 2021 -0700

    Merge pull request #6363 from danhhz/mac_ldd
    
    doc/developer: add a bit more info about speeding up macos compiles

commit 5d54f1d9ca75f308bc2fcb80978ee926a9405006
Author: Daniel Harrison <52528+danhhz@users.noreply.github.com>
Date:   Tue Apr 6 16:20:31 2021 -0700

    doc/developer: add a bit more info about speeding up macos compiles

commit ab09db2b61200468f477461507a6f0644afbbd90
Merge: 199830cd0 c7ece748c
Author: Daniel Harrison <52528+danhhz@users.noreply.github.com>
Date:   Wed Apr 7 07:43:18 2021 -0700

    Merge pull request #6359 from danhhz/kafka_decrease_partitions_log
    
    coord: fix swapped log message args

commit 199830cd023585a8a86afdb9458ad388d17fb745
Merge: 630eef61b aebf040f1
Author: Brandon W Maister <bwm@materialize.io>
Date:   Wed Apr 7 10:17:45 2021 -0400

    Merge pull request #6357 from quodlibetor/stabilize-s3
    
    Stabilize S3 sources with new discussed syntax

commit aebf040f117ccbb01c4fd59e965ce642d79f41f4
Author: Brandon W Maister <bwm@materialize.io>
Date:   Tue Apr 6 12:14:02 2021 -0400

    Stabilize S3 sources with the new syntax

commit 5b08bf43b3e3f2a710cce3f0fbc9431e7eee76e8
Author: Brandon W Maister <bwm@materialize.io>
Date:   Tue Apr 6 12:07:17 2021 -0400

    Change S3 grammer to read better
    
        FROM S3 DISCOVER OBJECTS
        (MATCHING '<pattern>')?
        USING
        (BUCKET SCAN '<bucket>' | SQS NOTIFICATIONS '<channel>')+
    
    See the updated testdrive tests for examples of the change

commit 630eef61b0c53cfdf1a8278f399a1f45d4355142
Author: Jessica Laughlin <JLDLaughlin@users.noreply.github.com>
Date:   Wed Apr 7 09:26:28 2021 -0400

    sql,sql-parser: parse CREATE SOURCES FROM POSTGRES (#6299)
    
    Parses statements like:
            CREATE SOURCES FROM POSTGRES
              HOST        '...'
              PUBLICATION '...'
              NAMESPACE   '...'
              TABLES (...)
    where each of the upstream sources shares a HOST, PUBLICATION, and
    NAMESPACE, but has its own table name, alias, and optional column
    definitions. Leaves planning and sequencing unimplemented.

commit 1221d30e754ff883b4c96ad375963c965ca2d86a
Author: Chris Golden <551285+cirego@users.noreply.github.com>
Date:   Tue Apr 6 23:27:30 2021 -0700

    Add Broker RTT metrics as a system table (#6202)

commit 73937ee5143289efac52272aa3221eff9e529f6b
Author: Chris Golden <551285+cirego@users.noreply.github.com>
Date:   Tue Apr 6 22:30:45 2021 -0700

    Rename mz_kafka_consumer_statistics => mz_kafka_consumer_partitions (#6360)
    
    In #6202, there was a discussion about the name of this system
    table being confusing.
    
    Instead of calling this consumer statistics, rename this table to make
    it clear that it's about consumer partition metrics.

commit 3dda9ff205336381d35a619c361c0196fbc923d8
Merge: 74228e4dc f0cd2c70b
Author: Nikhil Benesch <nikhil.benesch@gmail.com>
Date:   Tue Apr 6 22:55:35 2021 -0400

    Merge pull request #6356 from quodlibetor/disable-flaky-s3
    
    Disable the S3 SQS Notification tests

commit 74228e4dc984ebe05ae010704263284b134c4c13
Merge: 5b2d557ae 4d392d117
Author: Ruchir Khaitan <ruchir0001@gmail.com>
Date:   Tue Apr 6 19:57:50 2021 -0400

    Merge pull request #6354 from benesch/timestamper-quiescence
    
    coord: properly shut down timestamper

commit 5b2d557aed94dfc34295f642bb524134d26a888b
Author: Chris Golden <551285+cirego@users.noreply.github.com>
Date:   Tue Apr 6 15:33:31 2021 -0700

    Use named volumes unless MZ_CHBENCH_SNAPSHOT is set (#6290)
    
    We've been having issues with the `./tmp` directory causing startup
    issues with Zookeeper, failures in CI and, by default, the directory is
    created with root permissions. By using the ":+" interpolation, we can
    use named volumes in all situations where MZ_CHBENCH_SNAPSHOT is unset.
    
    When MZ_CHBENCH_SNAPSHOT is set, we can tack on the subdirectory using
    ":+" interpolation, preserving the existing behavior.

commit c7ece748c662a1191a13d3a8ed0acbabe36e4ab1
Author: Daniel Harrison <52528+danhhz@users.noreply.github.com>
Date:   Tue Apr 6 13:10:06 2021 -0700

    coord: fix swapped log message args
    
    Also downgrade it from ERROR to INFO since it's not actionable.
    
    Closes #6088

commit aec89f0db3755c43ef2844e80d162dcdbae4a8b5
Merge: 2dc2c3dba 796e860a0
Author: Brennan Vincent <brennan@materialize.io>
Date:   Tue Apr 6 14:08:32 2021 -0400

    Merge pull request #6358 from umanwizard/json_uuid
    
    Properly resolve schemas involving Uuid and Json fields

commit 796e860a0a9c0108df5426a827280c691d241878
Author: Brennan Vincent <brennan@umanwizard.com>
Date:   Tue Apr 6 13:27:58 2021 -0400

    Properly resolve schemas involving Uuid and Json fields

commit f0cd2c70be2fb4cf53ffcc64fb7ed0e1d05f31ce
Author: Brandon W Maister <bwm@materialize.io>
Date:   Tue Apr 6 11:48:05 2021 -0400

    Disable the S3 SQS Notification tests
    
    They are flaky, see the comment at the top of the new disabled file for details.

commit 4d392d117bbf42f605e776adfdf703c46270aae0
Author: Ruchir Khaitan <ruchir0001@gmail.com>
Date:   Tue Apr 6 11:34:46 2021 -0400

    coord: properly shut down timestamper
    
    This fixes graceful server shutdown (see #6352 for context) in the
    presence of real-time Kafka sources.

commit 2dc2c3dba405a19659d7a7ffe20e9320b0db3a67
Merge: 9485954b2 fe0f36dd2
Author: Nikhil Benesch <nikhil.benesch@gmail.com>
Date:   Tue Apr 6 11:00:46 2021 -0400

    Merge pull request #6340 from benesch/safe-mode
    
    coord: add safe mode concept

commit 9485954b2eabea29fdc4218a5706a02fa8c32fc5
Author: Jessica Laughlin <JLDLaughlin@users.noreply.github.com>
Date:   Tue Apr 6 10:50:46 2021 -0400

    sql: add AstDisplay impl for PgColumn (#6269)

commit c4d0a492d971f420684d4c37b108fe11abe0013f
Merge: 29b98d003 fdcfd4410
Author: Nikhil Benesch <nikhil.benesch@gmail.com>
Date:   Tue Apr 6 10:20:00 2021 -0400

    Merge pull request #6300 from benesch/volatile-sources
    
    doc/design: add a volatile source proposal

commit fe0f36dd23d9618e4e095c1c28a1be93d889eb3f
Author: Nikhil Benesch <nikhil.benesch@gmail.com>
Date:   Mon Apr 5 11:58:21 2021 -0400

    coord: add safe mode concept
    
    Add the concept of "safe mode" to Materialize, which can be controlled
    via the undocumented "--safe" command-line option. It is intended for
    use in the cloud product, where features that access the machine running
    Materialize need to be disabled.
    
    In particular, it disables:
    
      * File sources and sinks, because they allow reading/writing files on
        the local machine.
    
      * Avro OCF sources and sinks, by the same logic.
    
      * Kafka sources and sinks that use Kerberos authentication, because
        librdkafka's implementation permits specification of an arbitrary
        shell command (kinit_cmd) to run periodically. Kerberos auth is not
        a good fit for the cloud product, because it requires quite a bit of
        control over the network on which the machines run, so it's easiest
        just to disable Kerberos support entirely for now.

commit 29b98d0038aa96aea509b01d3ed2f5bddc5dc516
Merge: 476f9729a 1003658e1
Author: Philip Stoev <pstoev@materialize.io>
Date:   Tue Apr 6 17:01:05 2021 +0300

    Merge pull request #6351 from philip-stoev/fetch_tail_tests
    
    testdrive: tests for TAIL and FETCH

commit fdcfd4410cbbbf0aabae8634d2bd10f06eb928a7
Author: Nikhil Benesch <nikhil.benesch@gmail.com>
Date:   Thu Apr 1 14:31:32 2021 -0400

    doc/design: add a volatile source proposal
    
    Our users want to connect Materialize to upstream sources that do not provide
    guarantees about what data they will present. These sources are in tension with
    the goal of providing a deterministic, replayable system.
    
    This design doc proposes to:
    
      * Introduce "volatile source" as a term of art that describes a source that
        does not have upstream durability.
    
      * Use the terminology consistently in the docs site and error messages to
        educate our users about volatile sources.
    
      * Restrict the use of volatile sources in contexts where they could impede
        future improvements to the system's determinism and correctness.
    
    The top-line goal is to unblock PubNub and SSE sources for use with the
    cloud product.

commit 476f9729a2da8af9f37deb503c3c716e7f11cd61
Author: Micole Sudberg <micole@materialize.io>
Date:   Tue Apr 6 09:45:32 2021 -0400

    (doc) Cloud MVP documentation  (#6226)
    
    * (doc) Cloud MVP documentation in progress
    
    * (doc) Cloud MVP documentation - topic renaming and refactoring, updated quickstart instructions, removed troubleshooting, updated account limits and security.
    
    * (doc) Removed errant heading & quick wording polish
    
    * (doc) Minor polishing

commit 659f8300b4605fa51b874c6ab577c8ce7fa2c1c7
Merge: cf8937c6f 014fd94d8
Author: Micole Sudberg <micole@materialize.io>
Date:   Tue Apr 6 09:14:33 2021 -0400

    Merge pull request #6298 from msudberg/6028
    
    (doc) Add lack of support for window functions to known limitations.

commit cf8937c6ff7e52ab840e9464062956017464d3a5
Merge: 7dd861fa2 358d84ff0
Author: Nikhil Benesch <nikhil.benesch@gmail.com>
Date:   Tue Apr 6 09:14:23 2021 -0400

    Merge pull request #6326 from MaterializeInc/dependabot/cargo/serde-1.0.125
    
    build(deps): bump serde from 1.0.124 to 1.0.125

commit 7dd861fa2541a780cdc89f2597927d1ede2c3143
Merge: 2c18114bb c835b34bd
Author: Nikhil Benesch <nikhil.benesch@gmail.com>
Date:   Tue Apr 6 09:14:19 2021 -0400

    Merge pull request #6331 from MaterializeInc/dependabot/cargo/dogsdogsdogs-5c3bfb8
    
    build(deps): bump dogsdogsdogs from `d9d47c2` to `5c3bfb8`

commit 2c18114bb3f2bf1831768eeefe4111692b8840c0
Merge: 7e4fbac08 8954a8f17
Author: Micole Sudberg <micole@materialize.io>
Date:   Tue Apr 6 09:11:02 2021 -0400

    Merge pull request #6288 from msudberg/5373a
    
    (docs) Add bullets before code sample alternatives in DROP <ITEM>

commit 1003658e1dbf7a62e4cd3cdadc3bf50acfdd8d45
Author: Philip Stoev <pstoev@materialize.io>
Date:   Tue Apr 6 11:53:24 2021 +0200

    testdrive: tests for TAIL and FETCH
    
    Also expose the value passed for --materialized-addr as
    ${testdrive.materialized-addr} inside .td files.

commit 7e4fbac086744d1f6216badfb84bb9c504772842
Merge: c20b52cfc f495c385c
Author: Philip Stoev <pstoev@materialize.io>
Date:   Tue Apr 6 10:03:53 2021 +0300

    Merge pull request #6349 from philip-stoev/kafka_multi_broker2
    
    Merge PR: Multi-broker, multi-partition Kafka test #5968

commit f495c385c1098a340b334e4272d51a12431a8df2
Author: Philip Stoev <pstoev@materialize.io>
Date:   Tue Mar 30 13:16:37 2021 +0200

    Multi-broker, multi-partition Kafka test #5968
    
    Implement a mzcompose based multi-broker, multi-partition test.
    
    This required the following changes:
    - remove the use of multiple brokers from the kafka-ssl test, as that test
      only used multiple brokers in order to provide some multi-broker coverage
    
    - add 'sorted-messages' option to $ kafka-verify
    
    - add 'signal' to the kill-services mzcompose step
    
    - add 'replication_factor' to $ kafka-create-topic, make the default -1

commit 358d84ff04b8b1199f90f495203b5986d3766b07
Author: dependabot[bot] <49699333+dependabot[bot]@users.noreply.github.com>
Date:   Tue Apr 6 01:57:16 2021 +0000

    build(deps): bump serde from 1.0.124 to 1.0.125
    
    Bumps [serde](https://github.com/serde-rs/serde) from 1.0.124 to 1.0.125.
    - [Release notes](https://github.com/serde-rs/serde/releases)
    - [Commits](https://github.com/serde-rs/serde/compare/v1.0.124...v1.0.125)
    
    Signed-off-by: dependabot[bot] <support@github.com>

commit c20b52cfc0f52906729d19b165ee652ed52bc224
Merge: f37cda071 775a9ff07
Author: Nikhil Benesch <nikhil.benesch@gmail.com>
Date:   Mon Apr 5 21:54:51 2021 -0400

    Merge pull request #6342 from MaterializeInc/dependabot/cargo/timely-0d0d848
    
    build(deps): bump timely from `34c0f49` to `0d0d848`

commit f37cda071eeec4e3dc8a8a235692a507a4a361f6
Merge: 9ec3fc08b 87aa4b114
Author: Nikhil Benesch <nikhil.benesch@gmail.com>
Date:   Mon Apr 5 21:54:38 2021 -0400

    Merge pull request #6343 from MaterializeInc/dependabot/cargo/os_info-3.0.2
    
    build(deps): bump os_info from 3.0.1 to 3.0.2

commit 775a9ff0758daa08c24bdb59ff41460a0a586f98
Author: dependabot[bot] <49699333+dependabot[bot]@users.noreply.github.com>
Date:   Mon Apr 5 20:51:30 2021 +0000

    build(deps): bump timely from `34c0f49` to `0d0d848`
    
    Bumps [timely](https://github.com/TimelyDataflow/timely-dataflow) from `34c0f49` to `0d0d848`.
    - [Release notes](https://github.com/TimelyDataflow/timely-dataflow/releases)
    - [Commits](https://github.com/TimelyDataflow/timely-dataflow/compare/34c0f49fb251e1def8dbcff230726726a5ac768a...0d0d84885672d6369a78cd9aff7beb2048390d3b)
    
    Signed-off-by: dependabot[bot] <support@github.com>

commit 87aa4b114960e2c883c16a2c110ed244bcdce17f
Author: dependabot[bot] <49699333+dependabot[bot]@users.noreply.github.com>
Date:   Mon Apr 5 20:51:15 2021 +0000

    build(deps): bump os_info from 3.0.1 to 3.0.2
    
    Bumps [os_info](https://github.com/stanislav-tkach/os_info) from 3.0.1 to 3.0.2.
    - [Release notes](https://github.com/stanislav-tkach/os_info/releases)
    - [Changelog](https://github.com/stanislav-tkach/os_info/blob/master/CHANGELOG.md)
    - [Commits](https://github.com/stanislav-tkach/os_info/compare/v3.0.1...v3.0.2)
    
    Signed-off-by: dependabot[bot] <support@github.com>

commit 9ec3fc08b8d083a1316a861c00894e955a482271
Merge: 6ce11b182 a55d43988
Author: Andreas Fuchs <asf@materialize.com>
Date:   Mon Apr 5 16:41:38 2021 -0400

    Merge pull request #6346 from antifuchs/asf/#6337--kafka-keytab
    
    Improve error messages&docs around the GSSAPI default

commit 6ce11b182c2c962b149a7adc5c8d7ea87f728151
Merge: f40013ac3 a49a035da
Author: Nikhil Benesch <nikhil.benesch@gmail.com>
Date:   Mon Apr 5 16:08:36 2021 -0400

    Merge pull request #6329 from MaterializeInc/dependabot/cargo/pprof-0.4.3
    
    build(deps): bump pprof from 0.4.2 to 0.4.3

commit a55d4398813299c79b1dd5f70c94b7c76ba88716
Author: Andreas Fuchs <asf@materialize.com>
Date:   Mon Apr 5 15:13:32 2021 -0400

    Correct documentation of sasl_mechanism
    
    * It was misspelled - should be "sasl_mechanism", not
      "..._mechanisms"
    
    * It lied - at least "gssapi" and "plain" are supported.

commit 772e762612cb2525533f1d4e6dc03460e34e1a07
Author: Andreas Fuchs <asf@materialize.com>
Date:   Mon Apr 5 15:05:50 2021 -0400

    Improve the error message for a missing keytab file with gssapi
    
    As we infer the gssapi mechanism if it's not being passed, people
    sometimes get confused about the keytab message when they meant
    to connect with the "plain" mechanism. This change ensures the error
    message details how we arrived at the "you must specify a keytab file"
    message.

commit f40013ac320ff4f27813822e6b54ac875542fa5b
Merge: 94d6d73eb ab9dccc9b
Author: Nikhil Benesch <nikhil.benesch@gmail.com>
Date:   Mon Apr 5 13:44:12 2021 -0400

    Merge pull request #6317 from benesch/log-filter
    
    materialized: replace MZ_LOG with a new `--log-filter` option

commit a49a035dad5cf60454ccd6cfa44693c9c14b242d
Author: dependabot[bot] <49699333+dependabot[bot]@users.noreply.github.com>
Date:   Sun Apr 4 22:10:07 2021 +0000

    build(deps): bump pprof from 0.4.2 to 0.4.3
    
    Bumps [pprof](https://github.com/tikv/pprof-rs) from 0.4.2 to 0.4.3.
    - [Release notes](https://github.com/tikv/pprof-rs/releases)
    - [Commits](https://github.com/tikv/pprof-rs/compare/v0.4.2...v0.4.3)
    
    Signed-off-by: dependabot[bot] <support@github.com>

commit 94d6d73ebd2dd64dac252988f20a29f4e306d823
Merge: a5bf1993a e2cc7ae31
Author: Nikhil Benesch <nikhil.benesch@gmail.com>
Date:   Mon Apr 5 13:35:47 2021 -0400

    Merge pull request #6327 from MaterializeInc/dependabot/cargo/syn-1.0.68
    
    build(deps): bump syn from 1.0.66 to 1.0.68

commit a5bf1993a99e0eaa29be630f3d9ce700c47b631f
Merge: 2b5953093 5400a6ef9
Author: Nikhil Benesch <nikhil.benesch@gmail.com>
Date:   Mon Apr 5 13:35:08 2021 -0400

    Merge pull request #6328 from MaterializeInc/dependabot/cargo/rdkafka-sys-b4ec50e
    
    build(deps): bump rdkafka-sys from `5d23e82` to `b4ec50e`

commit 2b595309306d0d90b18f2e5632dadc1d27e53ba6
Merge: 44e87a14e 934660b33
Author: Nikhil Benesch <nikhil.benesch@gmail.com>
Date:   Mon Apr 5 13:34:59 2021 -0400

    Merge pull request #6330 from MaterializeInc/dependabot/cargo/libc-0.2.92
    
    build(deps): bump libc from 0.2.91 to 0.2.92

commit 44e87a14e7d0bd4bc2a0c54320f202902d597963
Merge: 00f9a7dd3 b7dd58af3
Author: Nikhil Benesch <nikhil.benesch@gmail.com>
Date:   Mon Apr 5 13:34:19 2021 -0400

    Merge pull request #6325 from MaterializeInc/dependabot/cargo/rusqlite-0.25.0
    
    build(deps): bump rusqlite from 0.24.2 to 0.25.0

commit 00f9a7dd3b1db3c6d7a90514911e59bef6e1b802
Merge: 50eb075dc ae763d5b6
Author: Nikhil Benesch <nikhil.benesch@gmail.com>
Date:   Mon Apr 5 13:33:52 2021 -0400

    Merge pull request #6323 from benesch/supress-create-logs
    
    coord: don't log creation of system items

commit 50eb075dc97980b03fc4e512494a05b002d6efa5
Author: Brandon W Maister <bwm@materialize.io>
Date:   Mon Apr 5 10:02:25 2021 -0400

    s3 sources: Reduce IAM permission for single-object patterns (#6314)
    
    If the S3 source `MATCHING` clause filters to a single object, it is possible for us to skip the
    ListBucketV2 call, which reduces operational burden on folks who just want to experiment with a
    single test object.

commit c835b34bd3ed7b454efd2b12717884c64d463cbf
Author: dependabot[bot] <49699333+dependabot[bot]@users.noreply.github.com>
Date:   Sun Apr 4 22:13:58 2021 +0000

    build(deps): bump dogsdogsdogs from `d9d47c2` to `5c3bfb8`
    
    Bumps [dogsdogsdogs](https://github.com/TimelyDataflow/differential-dataflow) from `d9d47c2` to `5c3bfb8`.
    - [Release notes](https://github.com/TimelyDataflow/differential-dataflow/releases)
    - [Commits](https://github.com/TimelyDataflow/differential-dataflow/compare/d9d47c2e32b29eb6aded140ab248d3793d87a861...5c3bfb874e533c37d33b56a40c2177da74b917c6)
    
    Signed-off-by: dependabot[bot] <support@github.com>

commit 934660b337277438b21020a905f691b819a25162
Author: dependabot[bot] <49699333+dependabot[bot]@users.noreply.github.com>
Date:   Sun Apr 4 22:11:01 2021 +0000

    build(deps): bump libc from 0.2.91 to 0.2.92
    
    Bumps [libc](https://github.com/rust-lang/libc) from 0.2.91 to 0.2.92.
    - [Release notes](https://github.com/rust-lang/libc/releases)
    - [Commits](https://github.com/rust-lang/libc/compare/0.2.91...0.2.92)
    
    Signed-off-by: dependabot[bot] <support@github.com>

commit 5400a6ef9f20e31eff1533dc3ed32eb5d063f4c4
Author: dependabot[bot] <49699333+dependabot[bot]@users.noreply.github.com>
Date:   Sun Apr 4 22:09:33 2021 +0000

    build(deps): bump rdkafka-sys from `5d23e82` to `b4ec50e`
    
    Bumps [rdkafka-sys](https://github.com/fede1024/rust-rdkafka) from `5d23e82` to `b4ec50e`.
    - [Release notes](https://github.com/fede1024/rust-rdkafka/releases)
    - [Commits](https://github.com/fede1024/rust-rdkafka/compare/5d23e82a675d9df1bf343aedcaa35be864787dab...b4ec50e72e9b6d0199519092c4db4835315d91ba)
    
    Signed-off-by: dependabot[bot] <support@github.com>

commit e2cc7ae31841a38611d025be59cd28febb2831d0
Author: dependabot[bot] <49699333+dependabot[bot]@users.noreply.github.com>
Date:   Sun Apr 4 22:08:52 2021 +0000

    build(deps): bump syn from 1.0.66 to 1.0.68
    
    Bumps [syn](https://github.com/dtolnay/syn) from 1.0.66 to 1.0.68.
    - [Release notes](https://github.com/dtolnay/syn/releases)
    - [Commits](https://github.com/dtolnay/syn/compare/1.0.66...1.0.68)
    
    Signed-off-by: dependabot[bot] <support@github.com>

commit b7dd58af3f43f5eed6ed1606d928621e5f51dcae
Author: dependabot[bot] <49699333+dependabot[bot]@users.noreply.github.com>
Date:   Sun Apr 4 22:08:16 2021 +0000

    build(deps): bump rusqlite from 0.24.2 to 0.25.0
    
    Bumps [rusqlite](https://github.com/rusqlite/rusqlite) from 0.24.2 to 0.25.0.
    - [Release notes](https://github.com/rusqlite/rusqlite/releases)
    - [Changelog](https://github.com/rusqlite/rusqlite/blob/master/Changelog.md)
    - [Commits](https://github.com/rusqlite/rusqlite/compare/v0.24.2...v0.25.0)
    
    Signed-off-by: dependabot[bot] <support@github.com>

commit 2b91a20cab6757f6246f1fbab8f257cab616b70c
Merge: 0a76e9172 782575344
Author: Nikhil Benesch <nikhil.benesch@gmail.com>
Date:   Sun Apr 4 10:39:33 2021 -0400

    Merge pull request #6324 from benesch/testdrive-commentary
    
    testdrive: improve and copyedit some commentary

commit 782575344132e6a2bd7484021f3d7cf4e5edb272
Author: Nikhil Benesch <nikhil.benesch@gmail.com>
Date:   Sun Apr 4 00:36:39 2021 -0400

    testdrive: improve and copyedit some commentary
    
    In particular, some of the comments about the AWS credential handling
    were changed to be incorrect in b9aabee.

commit ae763d5b6beced3217175f43f8829e02461a2fbe
Author: Nikhil Benesch <nikhil.benesch@gmail.com>
Date:   Sat Apr 3 23:38:56 2021 -0400

    coord: don't log creation of system items
    
    These items are guaranteed to exist, so there isn't much point to
    logging their creation during server startup. This makes server startup
    *substantially* less noisy.

commit ab9dccc9bc72aa77ceb78b146b467d54d4fe85c3
Author: Nikhil Benesch <nikhil.benesch@gmail.com>
Date:   Fri Apr 2 21:22:33 2021 -0400

    materialized: downgrade unknown protocol log message to debug
    
    Empirically lots of things will try to connect to a running materialized
    server that do not speak HTTP or pgwire. These connections do not rise
    to the level of error, warn, or even info; hide them away in debug logs.
    This should stop the steady stream of user concern we get about this log
    message.
    
    Motivated by #6311.

commit 02a33120c0977d459405feeb39ff709b5ef89e2f
Author: Nikhil Benesch <nikhil.benesch@gmail.com>
Date:   Fri Apr 2 21:17:31 2021 -0400

    materialized: replace MZ_LOG with a new `--log-filter` option
    
    The MZ_LOG variable has been an undocumented means of controlling
    Materialize's log output. Replace it with a new `--log-filter`
    command-line option, whose name makes its purpose much clearer. Per the
    usual environment variable naming rules, this flag is controllable via
    the new MZ_LOG_FILTER environment variable.
    
    Inspired by #6311.

commit 0a76e9172dc0a08b5b716928bcd16c4cd771652a
Merge: 8583f3885 9e3b8c34a
Author: Brennan Vincent <brennan@materialize.io>
Date:   Fri Apr 2 18:13:08 2021 -0400

    Merge pull request #6315 from umanwizard/no_dupe_stats
    
    Refuse to set statistics.interval.ms on RT timestamping connector

commit 9e3b8c34a056ae6dd7731f36a50ed59ce43880f3
Author: Brennan Vincent <brennan@materialize.io>
Date:   Fri Apr 2 17:16:27 2021 -0400

    Periodically poll RT consumer

commit 552226f4674963addb3cb4015c050b3950b5237b
Author: Brennan Vincent <brennan@materialize.io>
Date:   Fri Apr 2 16:33:18 2021 -0400

    Refuse to set statistics.interval.ms on RT timestamping connector

commit 8583f388598dcfc1db08fa0e104867b1deef1f74
Merge: 49c862d51 60d25615c
Author: Andreas Fuchs <asf@materialize.com>
Date:   Fri Apr 2 15:58:55 2021 -0400

    Merge pull request #6309 from antifuchs/asf/implement-string-repeat
    
    Implement `repeat` as a function that repeats strings, rename `repeat`->`repeat_row`

commit 60d25615c4db636b8d1af3df48b9f555ea5a43f5
Author: Andreas Fuchs <asf@materialize.com>
Date:   Fri Apr 2 15:10:33 2021 -0400

    Add release notes entry

commit 49c862d51e2ed4c3c271c64a704199103589ba6b
Author: Frank McSherry <fmcsherry@me.com>
Date:   Fri Apr 2 14:53:01 2021 -0400

    Error if subqueries contain more than one result (#5651)
    
    * error if subqueries contain more than one result
    
    * Improve naming and documentation
    
    * Correct formatting
    
    * correct subquery tests
    
    * commit regressed plans for inspection
    
    * correct joins.slt
    
    * introduce horrible hack
    
    * cargo fmt
    
    * take care pushing down literal errors
    
    * document behavior
    
    * various stopgap fixes
    
    * carefully evaluate error predicates last
    
    * horrible branch hack to inhibit simple path
    
    * additional tests around scalar subqueries that return more than 1 row
    
    * push the actual test
    
    * recover from rebase
    
    * update tests
    
    * correct tests post-rebase
    
    Co-authored-by: Nikhil Benesch <nikhil.benesch@gmail.com>
    Co-authored-by: Philip Stoev <pstoev@materialize.io>

commit 07119a686155bd00687ff4f0f7ed6df60f3b501a
Author: Andreas Fuchs <asf@materialize.com>
Date:   Fri Apr 2 11:08:40 2021 -0400

    Add "repeat" function that replicates a string N times.
    
    This closes another gap in our builtin function story, and unlocks the
    path to ad-hoc charting on the psql commandline.

commit 5f23cd3b0d13204eed5a0d07e52c4d5d37c4d5c1
Author: Andreas Fuchs <asf@materialize.com>
Date:   Fri Apr 2 10:58:01 2021 -0400

    Rename `repeat` -> `repeat_row`
    
    The name "repeat" clashes with postgresql's built-in "repeat"
    function, which repeats a string N times. Let's rename our (unsafe
    [#6188], experimental, undocumented [#3820]) function to say more
    clearly what it does, to free up the name.

commit 954417e48239874da292bd7b614ad1978c9e200a
Author: Andi Wang <5522362+wangandi@users.noreply.github.com>
Date:   Fri Apr 2 11:12:58 2021 -0400

    Optimization: Reduce the set of predicates by replacing subexpressions (#6196)
    
    Reduce away repeats of the same predicate.
    
    Co-authored-by: Philip Stoev <pstoev@materialize.io>

commit 10a031b375a4132f7dd2cb32c72839c9a3ceefaa
Merge: 233d40ece 12b097731
Author: Philip Stoev <pstoev@materialize.io>
Date:   Fri Apr 2 17:20:52 2021 +0300

    Merge pull request #6294 from philip-stoev/testdrive_no_fetch_retry
    
    testdrive: exclude FETCH from the retry logic

commit 233d40ece6ca704b2dbbfc4ab303c4cd4e48e10c
Merge: 375d3a5a7 b222a6040
Author: Nikhil Benesch <nikhil.benesch@gmail.com>
Date:   Thu Apr 1 11:18:08 2021 -0400

    Merge pull request #6284 from benesch/fix-http-panic
    
    materialized: fix panic with closed HTTP connections

commit 014fd94d8dbb352215a28e91d4658803c903bd18
Author: Micole Sudberg <micole.sudberg@gmail.com>
Date:   Thu Apr 1 10:57:07 2021 -0400

    (doc) Take 2 on link fix

commit 3b893500fcb6f2e26b3b70f2e49ed29f0cd46973
Author: Micole Sudberg <micole.sudberg@gmail.com>
Date:   Thu Apr 1 10:39:54 2021 -0400

    (doc) Fix broken link; add link to definition of window function.

commit 2b0b635da7bd84b65dc0e071f91f0c0e4ae155b0
Author: Micole Sudberg <micole.sudberg@gmail.com>
Date:   Thu Apr 1 10:23:29 2021 -0400

    (doc) Add lack of support for window functions to known limitations.

commit 12b0977311f9f88c2ee70d802f37ae00c3b0dfee
Author: Philip Stoev <pstoev@materialize.io>
Date:   Thu Apr 1 13:38:02 2021 +0200

    testdrive: exclude FETCH from the retry logic
    
    It does not make sense to retry FETCH until a match is found because
    subsequent executions are likely to return an empty result and the
    original result returned from the first execution will thus be lost.

commit 375d3a5a737d8ee591463f0a1d2d29eec6e9db56
Merge: 3dc3354a6 7c6d1e7bb
Author: Philip Stoev <pstoev@materialize.io>
Date:   Thu Apr 1 10:15:09 2021 +0300

    Merge pull request #6281 from philip-stoev/kafka_sink_errors
    
    coord, kafka: Convert certain CREATE SINK panics into SQL errors #6248

commit 3dc3354a649993ae739626dfa9b84a754b884462
Author: Nikhil Benesch <nikhil.benesch@gmail.com>
Date:   Wed Mar 31 23:48:46 2021 -0400

    repr: remove RowPacker (#6276)
    
    * repr: remove RowPacker
    
    Now that Row can be mutated, there's no need to have a separate builder
    type. Move the remaining RowPacker methods to Row, then delete
    RowPacker.
    
    * remove RowPacker from render and coord
    
    * improve code structure
    
    Co-authored-by: Frank McSherry <fmcsherry@me.com>

commit cb55c32365fe617a1b29aa788452ce8ca9cf9911
Merge: 0a4c814e9 65f2b5065
Author: Nikhil Benesch <nikhil.benesch@gmail.com>
Date:   Wed Mar 31 20:02:29 2021 -0400

    Merge pull request #6289 from MaterializeInc/dependabot/npm_and_yarn/test/lang/js/y18n-4.0.1
    
    build(deps): bump y18n from 4.0.0 to 4.0.1 in /test/lang/js

commit 0a4c814e9091253fecd82a80e8053cb172af7347
Author: Andi Wang <5522362+wangandi@users.noreply.github.com>
Date:   Wed Mar 31 18:23:28 2021 -0400

    Optimization: Push predicates from the bodies of lets to values. (#6058)
    
    * Push predicates from the bodies of lets to values.
    
    Also, allow (expr1 = expr2) || (expr1 is null && expr2 is null)
    to be pushed into join equivalences.
    
    Canonicalize of order within an and/or
    
    Account for the possibility of whitespace for partially optimized queries in unit tests.

commit 65f2b5065c045424718ee02df7cbb5d019214e6d
Author: dependabot[bot] <49699333+dependabot[bot]@users.noreply.github.com>
Date:   Wed Mar 31 21:05:00 2021 +0000

    build(deps): bump y18n from 4.0.0 to 4.0.1 in /test/lang/js
    
    Bumps [y18n](https://github.com/yargs/y18n) from 4.0.0 to 4.0.1.
    - [Release notes](https://github.com/yargs/y18n/releases)
    - [Changelog](https://github.com/yargs/y18n/blob/master/CHANGELOG.md)
    - [Commits](https://github.com/yargs/y18n/commits)
    
    Signed-off-by: dependabot[bot] <support@github.com>

commit 8954a8f1736ee3afbb080ffff9942e6711689082
Author: Micole Sudberg <micole.sudberg@gmail.com>
Date:   Wed Mar 31 16:10:16 2021 -0400

    (docs) Add bullets before code sample alternatives in DROP <ITEM> commands

commit 6ccd039624f30f1f4d1eac42c9fb702c45effd8c
Merge: 81e27041e c075cc17b
Author: Nikhil Benesch <nikhil.benesch@gmail.com>
Date:   Wed Mar 31 13:32:32 2021 -0400

    Merge pull request #6257 from benesch/mz-sleep-determinism
    
    expr: make mz_sleep deterministic

commit b222a60401c3060e1d9b682b8714c40ab41892ab
Author: Nikhil Benesch <nikhil.benesch@gmail.com>
Date:   Wed Mar 31 10:50:38 2021 -0400

    materialized: fix panic with closed HTTP connections
    
    An HTTP connection that closes at the wrong time can cause Materialize
    to panic. The cause is that Hyper was drops HTTP connection handler
    futures when the client goes away, in an effort to avoid doing
    unnecessary work. But we have important cleanup work that must be
    performed when a connection closes; failing to do that work is in fact
    panicworthy.
    
    Unfortunately Hyper does not allow you to request that all futures be
    polled to completion, even if the client goes away.  So this commit
    fixes the bug by introducing a new `spawn_if_canceled` future
    combinator. The idea is that we can use the `Drop` implementation of
    this combinator to call `tokio::spawn` to poll the original future to
    completion. It's a bit weird, but it seems to work well.
    
    An alternative solution is to use an `Arc<Mutex<SessionClient>>` to
    share the SessionClient outside of the future, so that code outside the
    future could perform the necessary cleanup. That turns out to be much
    messier, though, and has to be done for every type inside the future
    that requires this sort of cleanup, which includes a channel deep inside
    the "/sql" endpoint handler.
    
    The "correct" solution to this problem would use asynchronous
    destructors (i.e., `AsyncDrop`), but that's not presently a thing in
    Rust, and probably won't be for years.
    
    Huge thank you to @ruchirK and @antifuchs for helping to track this
    down.
    
    Fix #6278.

commit c075cc17ba704db032615457a523a8626ffdef71
Author: Nikhil Benesch <nikhil.benesch@gmail.com>
Date:   Mon Mar 29 22:20:53 2021 -0400

    expr: make mz_sleep deterministic
    
    It still has the side effect of sleeping, but at least it is now
    deterministic. I think this resolves most of the concerns with it.

commit 81e27041eb4bf0928ab22b063ed39091844fcc3f
Merge: 1ae10066b 286e3227d
Author: Micole Sudberg <micole@materialize.io>
Date:   Wed Mar 31 09:38:46 2021 -0400

    Merge pull request #6273 from msudberg/3991
    
    (docs) Clarify supported Kafka host name format, format for multiple brokers

commit 7c6d1e7bb27ae0c0845753b7f6d5559c64d12bef
Author: Philip Stoev <pstoev@materialize.io>
Date:   Wed Mar 31 10:15:54 2021 +0200

    coord, kafka: Convert certain CREATE SINK panics into SQL errors #6248
    
    Doing a CREATE SINK with invalid parameters in the WITH clause
    caused a panic rather then a normal SQL error to be reported
    back to the client.
    
    Add tests for the various errors that can happen when creating a
    Kafka sink.

commit 1ae10066b0bf9960f70cd30d356d4de71ab3d5ee
Author: Frank McSherry <fmcsherry@me.com>
Date:   Tue Mar 30 20:16:56 2021 -0400

    Remove RowPacker from MFP::evaluate (#6274)

commit a202a01c954a16dd4bc9e81bc7d59f188d057765
Merge: 0afb3a7be 1ba433b85
Author: Nikhil Benesch <nikhil.benesch@gmail.com>
Date:   Tue Mar 30 19:32:28 2021 -0400

    Merge pull request #6270 from benesch/rust-151
    
    rust-toolchain: upgrade to Rust 1.51

commit 286e3227d610e9f65a2a60c92f92a37e70565328
Author: Micole Sudberg <micole.sudberg@gmail.com>
Date:   Tue Mar 30 16:29:34 2021 -0400

    (docs) Clarify supported Kafka host name format, including format for multiple brokers

commit 0afb3a7be73e485c61c00aa210fe4be64a8163af
Author: Frank McSherry <fmcsherry@me.com>
Date:   Tue Mar 30 16:12:25 2021 -0400

    Row rework (#5472)
    
    * add push/extend methods to
    
    * add RowRef type for borrowed allocations
    
    * address clippy's needs
    
    * rebase and fix-up
    
    * correct potential UB in unpack_first

commit 1ba433b8596f22f58716efeccc9b531fe1b7b2e8
Author: Nikhil Benesch <nikhil.benesch@gmail.com>
Date:   Tue Mar 30 14:14:42 2021 -0400

    rust-toolchain: upgrade to Rust 1.51
    
    Rust 1.51 notably brings support for constant generics, which will be
    used by forthcoming improvements to the decimal type.

commit 84653d8328acc1418a7ce83d190b83fbccad2b3a
Author: Chris Golden <551285+cirego@users.noreply.github.com>
Date:   Tue Mar 30 11:49:20 2021 -0700

    Start mzbench from a clean slate (#6255)
    
    It was implicit that users need to run `mzcompose down -v` before
    running a benchmark to make sure that mzbench started from a
    clean slate. Make cleanup the default and add a flag to override
    if desired.

commit 4fe7adf6deb973318495eaa438c02104c0d6b959
Author: Chris Golden <551285+cirego@users.noreply.github.com>
Date:   Tue Mar 30 10:15:40 2021 -0700

    Fixup typo in chbench mzcompose.yml (#6266)
    
    Introduced in e88f89beec2903dfe5ee2b01c518ecd9ecf98226.

commit 89b61a3f1ef556dfb842ce4ede9819e1c3573793
Author: Brandon W Maister <bwm@materialize.io>
Date:   Tue Mar 30 13:15:33 2021 -0400

    Format some comments (#6265)
    
    Word-wrap a couple and convert a non-doc-comment into a docco

commit f671c8ef2899efdaed790c56181d3adfa59fb003
Author: Brandon W Maister <bwm@materialize.io>
Date:   Tue Mar 30 13:14:56 2021 -0400

    debezium-upsert: Track the size of the tracking state in prometheus (#6263)

commit bbc78abe8dd8dea9636d7784143ed281bfb5252f
Merge: f890223d5 7e25cd01e
Author: Micole Sudberg <micole@materialize.io>
Date:   Tue Mar 30 12:20:30 2021 -0400

    Merge pull request #5956 from msudberg/5373
    
    5373: (doc) DROP TYPE and DROP INDEX

commit f890223d5fcef2e9199f02a146041f5e0c49caf2
Merge: e88f89bee ff8a7e612
Author: Micole Sudberg <micole@materialize.io>
Date:   Tue Mar 30 12:19:36 2021 -0400

    Merge pull request #6069 from msudberg/5481
    
    document new `AT TIME ZONE` operators

commit ff8a7e6122f685adf12977d7a0863df9a6d759f3
Author: Micole Sudberg <micole.sudberg@gmail.com>
Date:   Tue Mar 30 12:15:40 2021 -0400

    (doc) Fix parameter formatting

commit 7e25cd01eac4e0037c8772c6d192b7b73fcb048c
Author: Micole Sudberg <micole.sudberg@gmail.com>
Date:   Tue Mar 30 12:12:00 2021 -0400

    (docs) Add CASCADE | RESTRICT info for DROP INDEX, DROP SCHEMA, DROP SOURCE, DROP TABLE, and DROP TYPE.

commit e88f89beec2903dfe5ee2b01c518ecd9ecf98226
Author: Brandon W Maister <bwm@materialize.io>
Date:   Tue Mar 30 12:10:23 2021 -0400

    Add a facility to check for service dependencies in wait-for-tcp (#6261)
    
    We have been having issues with the Kafka directory being persisted across chbench runs, causing
    Kafka to crash after it has been up for a bit. This doesn't fix the problem (which I believe would
    require breaking the benchmarking code out into its own mzcompose) but it does diagnose and give
    instructions for how to recover.

commit a0eaf24da5067ea62346949682c064ff23512615
Author: Micole Sudberg <micole.sudberg@gmail.com>
Date:   Tue Mar 30 11:38:09 2021 -0400

    (docs) AT TIME ZONE

commit 959fc324471e5ebb53598889157e0aad69c56295
Merge: c3259210a 7f92acbe9
Author: Nikhil Benesch <nikhil.benesch@gmail.com>
Date:   Tue Mar 30 10:37:39 2021 -0400

    Merge pull request #6260 from MaterializeInc/benesch-patch-1
    
    ci: fix nightlies

commit c3259210a3cd966dbc44b07245ec035c786673e5
Author: Jessica Laughlin <JLDLaughlin@users.noreply.github.com>
Date:   Tue Mar 30 10:35:03 2021 -0400

    sql: purify Postgres replication sources (#6207)
    
    During purification, we now fetch upstream column information for
    Postgres CDC sources. If column details were included in the CREATE
    statement, we use the upstream information to verify what was provided.
    If no column details were provided, we use the fetched column
    information directly. Note: this implementation does not correctly fail on
    invalid column constraints yet.

commit 7f92acbe91315a96e31526ebcfff85382c727c3e
Author: Nikhil Benesch <nikhil.benesch@gmail.com>
Date:   Tue Mar 30 10:20:22 2021 -0400

    ci: fix nightlies
    
    The PubNub job was depending on a non-existent step.

commit 417cf02229f57efd7c42c29c87426f7504d78f9b
Merge: 0dbacc544 4abfecbf3
Author: Albert Wang <albert@materialize.io>
Date:   Mon Mar 29 17:00:29 2021 -0400

    Merge pull request #6254 from MaterializeInc/awang-patch-release-notes
    
    remove duplicated items

commit 4abfecbf3c75e589f02be3af96c941f9a9f82984
Author: Albert Wang <albert@materialize.io>
Date:   Mon Mar 29 16:50:58 2021 -0400

    Update release-notes.md

commit 0dbacc544927795053f257b30d70f42984776af3
Author: Brennan Vincent <brennan@materialize.io>
Date:   Mon Mar 29 16:18:03 2021 -0400

    Make files flamegraph.pl can understand (#6253)

commit 2c688b61c00df2d1b43ddcef93bfd0415acb2aa4
Merge: e114cf4a3 7bbc6478f
Author: Brandon W Maister <bwm@materialize.io>
Date:   Mon Mar 29 15:58:06 2021 -0400

    Merge pull request #6216 from quodlibetor/continue-v0.7.2-dev
    
    Mark v0.7.1 as released

commit e114cf4a3ea6ecaeefe37cb0e5d3790106cf15e5
Author: Brandon W Maister <bwm@materialize.io>
Date:   Mon Mar 29 14:32:19 2021 -0400

    sqs validation: increase timeout in another place (#6251)
    
    There isn't any reason that this wasn't using the same timeout as the command lower in the file

commit 09ccb4cc5fdefde363619565bf8bce5f443473bc
Merge: 776c776f5 eb46bf34e
Author: Brandon W Maister <bwm@materialize.io>
Date:   Mon Mar 29 14:28:44 2021 -0400

    Merge pull request #6224 from quodlibetor/http_proxy
    
    Add support for `*_proxy` env vars

commit eb46bf34e48ed524dd0a6eb11962021ff4118e0a
Author: Brandon W Maister <bwm@materialize.io>
Date:   Sun Mar 28 16:16:58 2021 -0400

    proxy: Add tests using testdrive
    
    Since this is a process-wide setting we need to restart materialized to apply these changes, so
    multiple testdrive tests seem like the most reasonable option for this.
    
    For the success tests this runs a subset of testdrive files: one that connects to AWS, and one that
    connects to the CCSR.

commit 5317484b0936cafd08364ecc3c42c9cc973c3ba3
Author: Brandon W Maister <bwm@materialize.io>
Date:   Thu Mar 25 17:50:32 2021 -0400

    Add support for `*_proxy` env vars
    
    This includes `http_proxy`, `https_proxy` and `all_proxy` semi-standard env vars.
    
    This supports both capital and lower-case env vars because these variables are confusing to
    everyone. Curl may have introduced them, and they use lower-case for `http_proxy` and
    screaming-snake case for all others[1]. Stack Exchange answers around these questions have multiple
    conflicting recommendations (although this one is good[2]), and I've personally seen folks think
    that only one or the other (lower, upper) or mixed-use are required for all projects.
    
    Since folks are going to be coming to us with some previous experience and confusion around these,
    just supporting both seems like the thing that will cause the fewest number of support requests.
    
    Some downsides of this commit:
    
    * It unfortunately re-introduces time v0.1 into our dependecy tree, but I have a PR up to
      remove it.
    * PubNub sources don't respect the headers, the client library hard-codes their hyper::Client type
      parameters, and `hyper::Client<impl Connect + Clone>` in general is hard to type-erase.
    
    [1]: https://curl.se/docs/manual.html#environment-variables
    [2]: https://superuser.com/a/1166790

commit 776c776f58dc61384b8fc2a0f6118cb3cb8fc1f4
Author: Brandon W Maister <bwm@materialize.io>
Date:   Mon Mar 29 12:02:34 2021 -0400

    docs: Make it clearer that S3 objects can contain multiple records (#6227)

commit 5a553e8f7081339223a14f17849608abff620bd3
Merge: acc5ae163 d9a1c97ff
Author: Philip Stoev <pstoev@materialize.io>
Date:   Mon Mar 29 13:09:47 2021 +0300

    Merge pull request #6199 from philip-stoev/default_timestamp_frequency_ms
    
    coord,sql: Repurpose the --timestamp-frequency option to specify default timestamp frequency for sources

commit d9a1c97ffc0ef1c8cc9ffaa76b94676c719c1c07
Author: Philip Stoev <pstoev@materialize.io>
Date:   Wed Mar 24 09:41:27 2021 +0100

    coord,sql: Use the --timestamp-frequency option to control source timestamp frequency
    
    By default all CREATE SOURCES are created with a timestamp frequency
    of 1s. In order to speed up tests, use the existing --timestamp-frequency
    hidden option to specify a custom default timestamp frequency.
    
    This option was previously used to control the frequency of the timestamper thread.
    In order to switch it to its new use, a new default of 1s is now provided.
    The previous default of 10ms that previously applied to the timestamper
    thread is now hard-coded when creating the Timestamper object in src/coord/src/coord.rs

commit acc5ae163ecd4fa730f717cc859737feb0934d33
Merge: 260e608a1 f703438bd
Author: Nikhil Benesch <nikhil.benesch@gmail.com>
Date:   Mon Mar 29 01:17:00 2021 -0400

    Merge pull request #6241 from MaterializeInc/dependabot/cargo/timely-34c0f49
    
    build(deps): bump timely from `ac0a326` to `34c0f49`

commit 260e608a1743ed2eb97e6cf97d7b14cdbd7ab742
Merge: ad5fe0906 55d408519
Author: Nikhil Benesch <nikhil.benesch@gmail.com>
Date:   Mon Mar 29 01:16:56 2021 -0400

    Merge pull request #6242 from MaterializeInc/dependabot/cargo/syn-1.0.66
    
    build(deps): bump syn from 1.0.62 to 1.0.66

commit ad5fe09068082514f50162cb144225bff87f65e8
Merge: 87f2eeda7 346b03b61
Author: Nikhil Benesch <nikhil.benesch@gmail.com>
Date:   Mon Mar 29 01:16:43 2021 -0400

    Merge pull request #6220 from OscarTHZhang/OscarTHZhang/warning-txn-begin
    
    Output warning for duplicated BEGIN transaction

commit 87f2eeda7c18b1538699c9a9ad061f39e91acf08
Merge: ed1574313 a719437c4
Author: Nikhil Benesch <nikhil.benesch@gmail.com>
Date:   Sun Mar 28 23:41:35 2021 -0400

    Merge pull request #6243 from MaterializeInc/dependabot/cargo/libc-0.2.91
    
    build(deps): bump libc from 0.2.90 to 0.2.91

commit f703438bde41e53156f93c0936a645cae7a18091
Author: dependabot[bot] <49699333+dependabot[bot]@users.noreply.github.com>
Date:   Mon Mar 29 03:00:33 2021 +0000

    build(deps): bump timely from `ac0a326` to `34c0f49`
    
    Bumps [timely](https://github.com/TimelyDataflow/timely-dataflow) from `ac0a326` to `34c0f49`.
    - [Release notes](https://github.com/TimelyDataflow/timely-dataflow/releases)
    - [Commits](https://github.com/TimelyDataflow/timely-dataflow/compare/ac0a326b0a287775ca07746e4e097de9edb2a5f7...34c0f49fb251e1def8dbcff230726726a5ac768a)
    
    Signed-off-by: dependabot[bot] <support@github.com>

commit 55d408519502d6958ef93939d056f0cd34bb59e0
Author: dependabot[bot] <49699333+dependabot[bot]@users.noreply.github.com>
Date:   Mon Mar 29 03:00:21 2021 +0000

    build(deps): bump syn from 1.0.62 to 1.0.66
    
    Bumps [syn](https://github.com/dtolnay/syn) from 1.0.62 to 1.0.66.
    - [Release notes](https://github.com/dtolnay/syn/releases)
    - [Commits](https://github.com/dtolnay/syn/compare/1.0.62...1.0.66)
    
    Signed-off-by: dependabot[bot] <support@github.com>

commit a719437c4fea316ae44336f15fc2a2c4fde8fb2a
Author: dependabot[bot] <49699333+dependabot[bot]@users.noreply.github.com>
Date:   Mon Mar 29 02:57:29 2021 +0000

    build(deps): bump libc from 0.2.90 to 0.2.91
    
    Bumps [libc](https://github.com/rust-lang/libc) from 0.2.90 to 0.2.91.
    - [Release notes](https://github.com/rust-lang/libc/releases)
    - [Commits](https://github.com/rust-lang/libc/compare/0.2.90...0.2.91)
    
    Signed-off-by: dependabot[bot] <support@github.com>

commit ed15743137419ad6bf68311c2e6202fc04770e51
Merge: 563b23283 889c5576b
Author: Nikhil Benesch <nikhil.benesch@gmail.com>
Date:   Sun Mar 28 22:57:08 2021 -0400

    Merge pull request #6234 from MaterializeInc/dependabot/cargo/walkdir-2.3.2
    
    build(deps): bump walkdir from 2.3.1 to 2.3.2

commit 563b23283ad6a152391f53532a99963ff5b55500
Merge: c74615d38 063b13c6f
Author: Nikhil Benesch <nikhil.benesch@gmail.com>
Date:   Sun Mar 28 22:56:12 2021 -0400

    Merge pull request #6236 from MaterializeInc/dependabot/cargo/parse_duration-2.1.1
    
    build(deps): bump parse_duration from 2.1.0 to 2.1.1

commit c74615d38a76b8ecbf1a0e740a2000fd053a56a1
Merge: 06c14b4d0 c8460a1f8
Author: Nikhil Benesch <nikhil.benesch@gmail.com>
Date:   Sun Mar 28 22:56:04 2021 -0400

    Merge pull request #6237 from MaterializeInc/dependabot/cargo/anyhow-1.0.40
    
    build(deps): bump anyhow from 1.0.39 to 1.0.40

commit 06c14b4d0683b00131af6b558f461224d2d30f90
Merge: 4cc3f6d82 1756e9247
Author: Nikhil Benesch <nikhil.benesch@gmail.com>
Date:   Sun Mar 28 22:54:57 2021 -0400

    Merge pull request #6238 from MaterializeInc/dependabot/cargo/sysinfo-0.16.5
    
    build(deps): bump sysinfo from 0.16.4 to 0.16.5

commit 4cc3f6d8238013834b1ad956a7e67b8e58643c2d
Merge: 723eb5356 6d0751b7d
Author: Nikhil Benesch <nikhil.benesch@gmail.com>
Date:   Sun Mar 28 22:43:49 2021 -0400

    Merge pull request #6233 from MaterializeInc/dependabot/cargo/tracing-subscriber-0.2.17
    
    build(deps): bump tracing-subscriber from 0.2.16 to 0.2.17

commit 1756e9247be48ff35a6978e9c90e680db2559f77
Author: dependabot[bot] <49699333+dependabot[bot]@users.noreply.github.com>
Date:   Mon Mar 29 02:00:57 2021 +0000

    build(deps): bump sysinfo from 0.16.4 to 0.16.5
    
    Bumps [sysinfo](https://github.com/GuillaumeGomez/sysinfo) from 0.16.4 to 0.16.5.
    - [Release notes](https://github.com/GuillaumeGomez/sysinfo/releases)
    - [Commits](https://github.com/GuillaumeGomez/sysinfo/commits)
    
    Signed-off-by: dependabot[bot] <support@github.com>

commit c8460a1f8f3d37f87dfba958f2dfba06a80a78aa
Author: dependabot[bot] <49699333+dependabot[bot]@users.noreply.github.com>
Date:   Mon Mar 29 02:00:49 2021 +0000

    build(deps): bump anyhow from 1.0.39 to 1.0.40
    
    Bumps [anyhow](https://github.com/dtolnay/anyhow) from 1.0.39 to 1.0.40.
    - [Release notes](https://github.com/dtolnay/anyhow/releases)
    - [Commits](https://github.com/dtolnay/anyhow/compare/1.0.39...1.0.40)
    
    Signed-off-by: dependabot[bot] <support@github.com>

commit 063b13c6f091f4acb315ede3b750a94a4e0ebae4
Author: dependabot[bot] <49699333+dependabot[bot]@users.noreply.github.com>
Date:   Mon Mar 29 02:00:41 2021 +0000

    build(deps): bump parse_duration from 2.1.0 to 2.1.1
    
    Bumps [parse_duration](https://github.com/zeta12ti/parse_duration) from 2.1.0 to 2.1.1.
    - [Release notes](https://github.com/zeta12ti/parse_duration/releases)
    - [Changelog](https://github.com/zeta12ti/parse_duration/blob/master/CHANGELOG.md)
    - [Commits](https://github.com/zeta12ti/parse_duration/commits)
    
    Signed-off-by: dependabot[bot] <support@github.com>

commit 889c5576bd7fe76b542d61fc58b4ffe67d8478ce
Author: dependabot[bot] <49699333+dependabot[bot]@users.noreply.github.com>
Date:   Mon Mar 29 02:00:18 2021 +0000

    build(deps): bump walkdir from 2.3.1 to 2.3.2
    
    Bumps [walkdir](https://github.com/BurntSushi/walkdir) from 2.3.1 to 2.3.2.
    - [Release notes](https://github.com/BurntSushi/walkdir/releases)
    - [Commits](https://github.com/BurntSushi/walkdir/compare/2.3.1...2.3.2)
    
    Signed-off-by: dependabot[bot] <support@github.com>

commit 6d0751b7de70fbef7797743139b5c0190e853f65
Author: dependabot[bot] <49699333+dependabot[bot]@users.noreply.github.com>
Date:   Mon Mar 29 02:00:07 2021 +0000

    build(deps): bump tracing-subscriber from 0.2.16 to 0.2.17
    
    Bumps [tracing-subscriber](https://github.com/tokio-rs/tracing) from 0.2.16 to 0.2.17.
    - [Release notes](https://github.com/tokio-rs/tracing/releases)
    - [Commits](https://github.com/tokio-rs/tracing/compare/tracing-subscriber-0.2.16...tracing-subscriber-0.2.17)
    
    Signed-off-by: dependabot[bot] <support@github.com>

commit 723eb5356f84373e04caf8fe90721c77dba14af9
Merge: e5a1eb12f f5b3a00c2
Author: Nikhil Benesch <nikhil.benesch@gmail.com>
Date:   Sun Mar 28 21:57:28 2021 -0400

    Merge pull request #6232 from MaterializeInc/benesch-patch-1
    
    dependabot: change to sunday evening alerts

commit f5b3a00c2e279e0464d2752e56842be71f795062
Author: Nikhil Benesch <nikhil.benesch@gmail.com>
Date:   Sun Mar 28 21:46:24 2021 -0400

    dependabot: change to sunday evening alerts
    
    The intent was always to have these appear on Sunday evenings.
    I just got the time zone wrong.

commit e5a1eb12f325afaee97274a1f78b92cfe6a82979
Merge: d786ea52e bce64f2c3
Author: Nikhil Benesch <nikhil.benesch@gmail.com>
Date:   Sun Mar 28 16:30:22 2021 -0400

    Merge pull request #6230 from MaterializeInc/reduce-structure-ii
    
    dataflow: factor out total field in reduce accumulator

commit d786ea52ef30711e87b47328eb40aca7b431d917
Merge: 895a5d2a4 b085326c0
Author: Ruchir Khaitan <ruchir0001@gmail.com>
Date:   Sun Mar 28 15:26:31 2021 -0400

    Merge pull request #6231 from ruchirK/cleanup-report-frontiers
    
    dataflow: remove duplicate let binding

commit 895a5d2a4064622b6354934b65696ed1adb0dfc4
Merge: b0cec6583 6199109ca
Author: Nikhil Benesch <nikhil.benesch@gmail.com>
Date:   Sun Mar 28 14:09:01 2021 -0400

    Merge pull request #6198 from philip-stoev/testdrive_faster_retry
    
    testdrive: more aggressive retry of SQL statements

commit b085326c015879b788b90112859552048f6ab62f
Author: Ruchir Khaitan <ruchir0001@gmail.com>
Date:   Sun Mar 28 13:33:58 2021 -0400

    dataflow: remove duplicate let binding

commit 6199109ca5c55b740496574bf94177a858de86d1
Author: Philip Stoev <pstoev@materialize.io>
Date:   Wed Mar 24 09:27:29 2021 +0100

    testdrive: more aggressive retry of SQL statements
    
    In the typical CREATE -> inject -> SELECT pattern, it takes
    several seconds for the SELECT to return the right result because
    the retry strategy is not aggressive enough and quickly begins to
    perform multi-second sleeps.
    
    Modify retry.rs to allow for a custom exponential factor to be
    specified so that testdrive can use factor 1.5 and a starting backoff
    value of 50ms.
    
    This change alone shaves a second or more from each eligible SELECT.

commit bce64f2c30357c4530a59bdc1f79e9496c52f1a4
Author: Nikhil Benesch <nikhil.benesch@gmail.com>
Date:   Sun Mar 28 09:19:59 2021 -0400

    dataflow: factor out total field in reduce accumulator
    
    Per discussion in #6217. I'm not sure whether this actually makes things
    clearer, but wanted to submit for evaluation.

commit 346b03b6123ae004fc4c2fa2cdd048eb5244871d
Author: Oscar Zhang <oscar.zth1999@gmail.com>
Date:   Fri Mar 26 00:55:55 2021 -0500

    Added warning feature for duplicated BEGIN - #5902

commit b0cec65835145581fe8eb7c2fee6b3fb2b9a887a
Merge: 3eaaf5836 d8a8f6f14
Author: Nikhil Benesch <nikhil.benesch@gmail.com>
Date:   Sat Mar 27 14:20:36 2021 -0400

    Merge pull request #6217 from benesch/reduce-structure
    
    dataflow: structure reduce accumulators

commit d8a8f6f143d766772ff14bbfec1d73d3c0ca0980
Author: Nikhil Benesch <nikhil.benesch@gmail.com>
Date:   Thu Mar 25 16:36:50 2021 -0400

    dataflow: structure reduce accumulators
    
    Introduce a new "Accumulator" enumeration for processing accumulable
    reductions. Previously, every aggregate accumulated into three i128
    counters, even though only the Any and All aggregates actually
    needed all three counters. The Accumulator enum introduced here allows
    for different aggregates to use different numbers and types of counters.
    
    This should actually result in space savings. While the enum requires an
    additional tag byte, that space is more than made up for by accumulating
    into isizes where possible. Unclear if the additional switch statement
    in the `plus_equals` assignment has a performance cost, though.
    
    The goal here is to make room for an `Accumulator::Decimal` variant
    which accumulates the necessary fields for the new decimal type (#5274).

commit 3eaaf5836095a50c3fa017b93c677ef0acc40d66
Author: Chris Golden <551285+cirego@users.noreply.github.com>
Date:   Fri Mar 26 17:18:51 2021 -0700

    Document mz_source_info (#6209)

commit a2b08ccd70063e878c3b11858577f1f3f1dcf756
Author: Chris Golden <551285+cirego@users.noreply.github.com>
Date:   Fri Mar 26 17:00:14 2021 -0700

    Propagate inotify related errors in file sources (#6218)
    
    Instead of ignoring errors from inotify, raise the errors on the source
    stream. This will cause views to error out instead of returning empty
    results.
    
    Fixes #6114

commit 062d80c6d74f245807fcd69089d451df1a7fccb3
Merge: 8b37ef0e3 ad2259763
Author: Philip Stoev <pstoev@materialize.io>
Date:   Fri Mar 26 18:28:49 2021 +0200

    Merge pull request #6222 from philip-stoev/kafka_option_acks
    
    Allow the acks option to be specified for Kafka sinks

commit ad225976306bb8d75970bbaee83fda0430e0a469
Author: Philip Stoev <pstoev@materialize.io>
Date:   Fri Mar 26 14:51:44 2021 +0100

    Allow the acks option to be specified for Kafka sinks

commit 8b37ef0e3fa60ad15d5b86eafb51024c7a149472
Merge: cf0b56663 aeb37a086
Author: Nikhil Benesch <nikhil.benesch@gmail.com>
Date:   Fri Mar 26 09:07:38 2021 -0400

    Merge pull request #6219 from MaterializeInc/dependabot/pip/misc/python/pyyaml-5.4
    
    build(deps): bump pyyaml from 5.3.1 to 5.4 in /misc/python

commit aeb37a0862dd7e0295247dc24dab719acf8e4552
Author: dependabot[bot] <49699333+dependabot[bot]@users.noreply.github.com>
Date:   Thu Mar 25 23:36:18 2021 +0000

    build(deps): bump pyyaml from 5.3.1 to 5.4 in /misc/python
    
    Bumps [pyyaml](https://github.com/yaml/pyyaml) from 5.3.1 to 5.4.
    - [Release notes](https://github.com/yaml/pyyaml/releases)
    - [Changelog](https://github.com/yaml/pyyaml/blob/master/CHANGES)
    - [Commits](https://github.com/yaml/pyyaml/compare/5.3.1...5.4)
    
    Signed-off-by: dependabot[bot] <support@github.com>

commit cf0b56663d93fd76a074ddfa8bb73c16543babee
Author: Chris Golden <551285+cirego@users.noreply.github.com>
Date:   Thu Mar 25 16:15:30 2021 -0700

    Default to capturing Kafka consumer metrics once per second (#6192)
    
    This will take effect for all Kafka sources that have not already
    defined statistics_interval_ms.

commit 7bbc6478f326d103d4eb4072bd5eda03c384ec9e
Author: Brandon W Maister <bwm@materialize.io>
Date:   Thu Mar 25 16:05:46 2021 -0400

    Update released versions to include v0.7.1

commit 2897ff64dc739e430b293470abb5ddd2d5031dde
Author: Brandon W Maister <bwm@materialize.io>
Date:   Thu Mar 25 16:05:38 2021 -0400

    Prepare next phase of development: v0.7.2-dev

commit f4bd159fa73d37d44f8ed3f1db13c0c2ff85566f
Author: Brandon W Maister <bwm@materialize.io>
Date:   Thu Mar 25 16:04:01 2021 -0400

    release: v0.7.1

commit 940344dd0e8a0239b4900b9ad73e6855dff60856
Merge: 7e20dd2fb 86aa44f18
Author: Brandon W Maister <quodlibetor@gmail.com>
Date:   Thu Mar 25 14:14:18 2021 -0400

    Merge pull request #6210 from quodlibetor/dbz-upsert
    
    Support `ENVELOPE DEBEZIUM UPSERT`

commit 86aa44f188b0e3bcaa435eff30b315228723ca90
Author: Brandon W Maister <bwm@materialize.io>
Date:   Thu Mar 25 13:16:21 2021 -0400

    dbz upsert: Add support for `WITH (deduplication = 'none')`

commit e6465d51eda7d16784747180759946d524a85086
Author: Brandon W Maister <bwm@materialize.io>
Date:   Wed Mar 24 21:37:21 2021 -0400

    Support `ENVELOPE DEBEZIUM UPSERT`
    
    This adds upsert semantics support for Debezium sources. Fundamentally that means that we treat
    upstream diffs as potentially nonsensical.
    
    To do that, we track keys per-key values per-key, and only retract rows that we know that we have
    seen.
    
    There is one todo in the code that will be the immediate next work: with the code as it stands we
    treat the keys as raw bytes, not decoding them, but since Avro is not self-describing it is possible
    for the same bit pattern to have different values when decoded. We feel like this is unlikely enough
    to be an issue for most users (considering especially that we don't really support schema evolution)
    that it's probably safe to use as is.

commit 7e20dd2fb6843873ca8eb98f6906069daa4ab6ad
Merge: 1e5dee2ca 05d33028c
Author: Albert Wang <albert@materialize.io>
Date:   Thu Mar 25 10:12:57 2021 -0400

    Merge pull request #6140 from MaterializeInc/awang/docs-upsert
    
    add benefits+tradeoffs for upsert envelope

commit 05d33028c3e0e85429fd4df8b5adc3578e87d9b9
Author: Albert Wang <albert@materialize.io>
Date:   Thu Mar 25 10:11:47 2021 -0400

    remove value judgements on upsert format

commit 1e5dee2cad4ed83e56fd48c14f53cde3ee2cedef
Merge: 4d1b4eaf4 cfc2f2d1e
Author: Aljoscha Krettek <aljoscha.krettek@gmail.com>
Date:   Thu Mar 25 14:02:15 2021 +0100

    Merge pull request #6168 from aljoscha/6121-kafka-eos-verification
    
    Validate inputs when creating Kafka exactly-once Sinks

commit cfc2f2d1ebe7f6fd15dcf0660c1efdd1dff6a3c7
Author: Philip Stoev <pstoev@materialize.io>
Date:   Wed Mar 24 12:28:47 2021 +0100

    sql: add more tests on rejecting inconsistent exactly-once Kafka sinks

commit 609227acfdd31ab226b127d376b47517438d82c6
Author: Aljoscha Krettek <aljoscha.krettek@gmail.com>
Date:   Thu Mar 18 15:20:54 2021 +0100

    sql: validate inputs when creating Kafka exactly-once Sinks

commit a41fd2a0b66d905b5efd8126e6620927096e1b84
Author: Aljoscha Krettek <aljoscha.krettek@gmail.com>
Date:   Mon Mar 22 15:23:48 2021 +0100

    dataflow: add yields_stable_input() to SourceConnector
    
    This is meant for checking the validity of inputs when creating
    exactly-once (Kafka) Sinks. Only sources that provide stable inputs
    across restarts are valid for those, for now.

commit 4031ca082e21ca250447221d79f0940b1497d911
Author: Aljoscha Krettek <aljoscha.krettek@gmail.com>
Date:   Mon Mar 22 15:20:29 2021 +0100

    sql/coord: add source_connector() to CatalogItem
    
    This is similar to the exising func() and allows getting the
    SourceConnector for catalog items that are sources.
    
    This can be used to determine if certain sources are valid input when
    creating sinks.

commit 4d1b4eaf4a4e3d8a31ea898835e1404e2ab095c3
Author: Chris Golden <551285+cirego@users.noreply.github.com>
Date:   Thu Mar 25 05:10:53 2021 -0700

    Fix race condition in rdkafka statistics (#6206)
    
    If metrics for a topic or partition are missing, don't abort. Continue
    processing the rest of the metrics instead. Eventually the metrics
    should show up.
    
    Add a test case to verify that the metrics are synchronized eventually.
    
    Fixes #6204

commit 0b0e493a15dc06aac079a6b53feada0ddb085a92
Merge: 53f58433a aafb0141c
Author: Sean Loiselle <sean@materialize.io>
Date:   Wed Mar 24 20:51:43 2021 -0400

    Merge pull request #6203 from sploiselle/func-select-string-candidate-bug
    
    sql: fix string category bug in function selection algorithm

commit 53f58433afd853107d943624f497dc54662f900c
Author: Chris Golden <551285+cirego@users.noreply.github.com>
Date:   Wed Mar 24 16:15:12 2021 -0700

    Document mz_kafka_consumer_statistics (#6193)
    
    This system table can be used to query Kafka Consumer metrics

commit aafb0141c23e950ad98bb2eb1cfd61304ff7daaf
Author: Sean Loiselle <sean@materialize.io>
Date:   Wed Mar 24 14:57:19 2021 -0400

    sql: fix string category bug in function selection algorithm
    
    Previously, the function selection code did not properly track if
    any candidate function accepted a String category argument at a
    given position.

commit 7d7c7bf18f2a2b3733e382edda1cc212217d0617
Author: Oscar Zhang <oscar.zth1999@gmail.com>
Date:   Wed Mar 24 12:49:12 2021 -0500

    sql: support SHOW EXTENDED TABLES
    
    SHOW EXTENDED TABLES returns system tables as well as user-created
    tables.
    
    Thanks to @OscarTHZhang for submitting this PR!

commit db669aabbe522294d8f5351d8db35b65faddaf7c
Author: Andi Wang <5522362+wangandi@users.noreply.github.com>
Date:   Wed Mar 24 12:08:53 2021 -0400

    Explain: Add dataflow information in optimized plan (#6173)
    
    Augment EXPLAIN OPTIMIZED PLAN with dataflow information

commit 20a3f304efff81e9730a9ab478e6b21a6ff39555
Merge: 2add0d1c0 a56815679
Author: Petros Angelatos <petrosagg@gmail.com>
Date:   Wed Mar 24 16:25:36 2021 +0100

    Merge pull request #6189 from petrosagg/pubnub-source
    
    Add support for pubnub sources

commit a56815679de6e367fa2d58022dbc66200e0e9bd7
Author: Petros Angelatos <petrosagg@gmail.com>
Date:   Wed Mar 24 13:37:14 2021 +0100

    test: add mzcompose test for pubnub sources
    
    Signed-off-by: Petros Angelatos <petrosagg@gmail.com>

commit ab0f2e933b5f996650f6c18dd831d0b8841221ad
Author: Petros Angelatos <petrosagg@gmail.com>
Date:   Tue Mar 23 18:02:19 2021 +0100

    add support for pubnub sources
    
    Signed-off-by: Petros Angelatos <petrosagg@gmail.com>

commit 2add0d1c007d7dc5b5c0c24759de0c7f42da7a70
Author: Jessica Laughlin <JLDLaughlin@users.noreply.github.com>
Date:   Wed Mar 24 10:54:17 2021 -0400

    play: add instructions to run dbt's jaffle_shop with Materialize (#6147)
    
    dbt provides a demo project called jaffle_shop for users to get up
    and running quickly. Although jaffle_shop just seeds static data into
    the target data warehouse, we believe that having this demo available
    will help bridge the gap for users familiar with dbt who are not yet
    familiar with Materialize. Ideally, we would host a public endpoint
    for a stream of changing jaffle_shop (or similar) data in the future.
    For those ready to try out dbt + Materialize + streaming data, we have
    our wikirecent-dbt demo.

commit 5fd740b4874f82f4b435399a7dd112800f94a9f8
Author: Andy Hattemer <&@ruf.io>
Date:   Wed Mar 24 09:50:53 2021 -0400

    (docs) Update header and footer (#6165)
    
    * update header and footer
    
    * fix menu hover

commit f316d74d8c4fd0655fa6706f57b9a8d412ca75a4
Merge: a8eb1e353 792934c52
Author: Ruchir Khaitan <ruchir0001@gmail.com>
Date:   Wed Mar 24 07:35:27 2021 -0400

    Merge pull request #6191 from ruchirK/better-consistencyinfo
    
    dataflow: reorganize how we use timestamping information

commit a8eb1e353e9efa02255b7caf3c918a3b7db0443e
Merge: 22b78ea8b f63a8eb91
Author: Philip Stoev <pstoev@materialize.io>
Date:   Wed Mar 24 08:55:02 2021 +0200

    Merge pull request #6167 from philip-stoev/avro-tests-schema-resolution
    
    Tests around Avro deserialization and schema resolution

commit 22b78ea8b96543c66628a0da742eb9ed673ece93
Author: Frank McSherry <fmcsherry@me.com>
Date:   Tue Mar 23 20:35:54 2021 -0400

    port differences to tuples and vectors (#6194)

commit ca397309138bf188afbfb9f49fbf060cb391ee3e
Author: Chris Golden <551285+cirego@users.noreply.github.com>
Date:   Tue Mar 23 14:50:12 2021 -0700

    Capture RDKafka Consumer Statistics as an internal built-in log (#6131)
    
    Kafka sources can be defined with a statistics_interval_ms option that
    defines how often librdkafka / rdkafka should call into Materialize code
    with kafka client statistics. Previously, we simply printed these metrics
    to the logfile. This commit stashes a select number of metrics in a system
    table to give users the ability to query these metrics directly.
    
    Fixes #5666

commit 792934c52806e011732882e7046bdd2eba121f0c
Author: Ruchir Khaitan <ruchir0001@gmail.com>
Date:   Tue Mar 23 14:58:36 2021 -0400

    dataflow: reorganize how we use timestamping information
    
    This commit teaches BYO sources to keep a copy of the timestamp binding that
    satisfies the most recent offset's timestamping needs and try to reuse it for
    as long as possible. This simplifies the BYO timestamp assignment logic, but
    adds an assumption that timestamp bindings will correspond to contiguous offset
    intervals with no gaps or out of order-ness.

commit d8d974a0c8791fdae7abe0b1204d0749cbdc4563
Merge: 85ee09d81 f89089769
Author: Nikhil Benesch <nikhil.benesch@gmail.com>
Date:   Tue Mar 23 10:49:28 2021 -0400

    Merge pull request #6177 from MaterializeInc/dependabot/cargo/anyhow-1.0.39
    
    build(deps): bump anyhow from 1.0.38 to 1.0.39

commit 85ee09d819e93c3e62285a1667a4f4184e49ee0c
Merge: 3afd85be5 a14204b51
Author: Nikhil Benesch <nikhil.benesch@gmail.com>
Date:   Tue Mar 23 10:49:20 2021 -0400

    Merge pull request #6174 from MaterializeInc/dependabot/cargo/tokio-util-0.6.5
    
    build(deps): bump tokio-util from 0.6.4 to 0.6.5

commit 3afd85be596dc6e3c0d7965384f5f30149aef3bb
Merge: 66530b9c2 162ec12a4
Author: Nikhil Benesch <nikhil.benesch@gmail.com>
Date:   Tue Mar 23 10:49:14 2021 -0400

    Merge pull request #6180 from MaterializeInc/dependabot/cargo/openssl-0.10.33
    
    build(deps): bump openssl from 0.10.32 to 0.10.33

commit 615fa07c5a3462fc0fb4e074bc4a6a75c935f463
Author: Albert Wang <albert@materialize.io>
Date:   Tue Mar 23 09:05:30 2021 -0400

    clarify based on feedback

commit 162ec12a487e2b464a6220d55f3c3afd27a99109
Author: dependabot[bot] <49699333+dependabot[bot]@users.noreply.github.com>
Date:   Tue Mar 23 08:01:02 2021 +0000

    build(deps): bump openssl from 0.10.32 to 0.10.33
    
    Bumps [openssl](https://github.com/sfackler/rust-openssl) from 0.10.32 to 0.10.33.
    - [Release notes](https://github.com/sfackler/rust-openssl/releases)
    - [Commits](https://github.com/sfackler/rust-openssl/compare/openssl-v0.10.32...openssl-v0.10.33)
    
    Signed-off-by: dependabot[bot] <support@github.com>

commit a14204b51cab004c5ddafad10155b1e0f1cc2e99
Author: dependabot[bot] <49699333+dependabot[bot]@users.noreply.github.com>
Date:   Tue Mar 23 08:00:28 2021 +0000

    build(deps): bump tokio-util from 0.6.4 to 0.6.5
    
    Bumps [tokio-util](https://github.com/tokio-rs/tokio) from 0.6.4 to 0.6.5.
    - [Release notes](https://github.com/tokio-rs/tokio/releases)
    - [Commits](https://github.com/tokio-rs/tokio/compare/tokio-util-0.6.4...tokio-util-0.6.5)
    
    Signed-off-by: dependabot[bot] <support@github.com>

commit f89089769da2ce5b79ec9ae38453dc0e8e6b8022
Author: dependabot[bot] <49699333+dependabot[bot]@users.noreply.github.com>
Date:   Tue Mar 23 07:59:49 2021 +0000

    build(deps): bump anyhow from 1.0.38 to 1.0.39
    
    Bumps [anyhow](https://github.com/dtolnay/anyhow) from 1.0.38 to 1.0.39.
    - [Release notes](https://github.com/dtolnay/anyhow/releases)
    - [Commits](https://github.com/dtolnay/anyhow/compare/1.0.38...1.0.39)
    
    Signed-off-by: dependabot[bot] <support@github.com>

commit 66530b9c2d7078c8d1b8885a1df28a340f7d1749
Merge: 5396a116c bceb09aa4
Author: Nikhil Benesch <nikhil.benesch@gmail.com>
Date:   Tue Mar 23 01:42:17 2021 -0400

    Merge pull request #6175 from MaterializeInc/dependabot/cargo/tokio-stream-0.1.5
    
    build(deps): bump tokio-stream from 0.1.4 to 0.1.5

commit 5396a116cf49c066b9b59fdd4c2fde2b8cc31a89
Merge: d14a85d60 0dbd1d470
Author: Nikhil Benesch <nikhil.benesch@gmail.com>
Date:   Tue Mar 23 01:41:17 2021 -0400

    Merge pull request #6181 from MaterializeInc/dependabot/cargo/whoami-1.1.1
    
    build(deps): bump whoami from 1.1.0 to 1.1.1

commit d14a85d60156ac9ec148cf295cfb4aac9eecc496
Merge: d7eb9bc88 e78630c80
Author: Nikhil Benesch <nikhil.benesch@gmail.com>
Date:   Tue Mar 23 01:41:11 2021 -0400

    Merge pull request #6182 from MaterializeInc/dependabot/cargo/byteorder-1.4.3
    
    build(deps): bump byteorder from 1.4.2 to 1.4.3

commit d7eb9bc884d0d3229a0bc4c825494962b057a40a
Merge: a3ab8b7f7 bbe936a87
Author: Nikhil Benesch <nikhil.benesch@gmail.com>
Date:   Tue Mar 23 01:41:05 2021 -0400

    Merge pull request #6183 from MaterializeInc/dependabot/cargo/reqwest-0.11.2
    
    build(deps): bump reqwest from 0.11.1 to 0.11.2

commit e78630c806f7d2c1d98ea67b5b40449732a56361
Author: dependabot[bot] <49699333+dependabot[bot]@users.noreply.github.com>
Date:   Tue Mar 23 00:23:17 2021 +0000

    build(deps): bump byteorder from 1.4.2 to 1.4.3
    
    Bumps [byteorder](https://github.com/BurntSushi/byteorder) from 1.4.2 to 1.4.3.
    - [Release notes](https://github.com/BurntSushi/byteorder/releases)
    - [Changelog](https://github.com/BurntSushi/byteorder/blob/master/CHANGELOG.md)
    - [Commits](https://github.com/BurntSushi/byteorder/compare/1.4.2...1.4.3)
    
    Signed-off-by: dependabot[bot] <support@github.com>

commit a3ab8b7f7e0a7d8ab6d966e20d8fc33e2a0102fa
Merge: de5459ed6 48843e56c
Author: Petros Angelatos <petrosagg@gmail.com>
Date:   Tue Mar 23 01:20:07 2021 +0100

    Merge pull request #6024 from petrosagg/simple-source
    
    dataflow: define interface for simple sources

commit 48843e56c6dc37753fca16ff902d3c398be01310
Author: Petros Angelatos <petrosagg@gmail.com>
Date:   Thu Feb 18 13:42:45 2021 +0100

    dataflow: define interface for simple sources
    
    Signed-off-by: Petros Angelatos <petrosagg@gmail.com>

commit bbe936a8723dbce5ea9c8a41c2b43ad518e5ee72
Author: dependabot[bot] <49699333+dependabot[bot]@users.noreply.github.com>
Date:   Mon Mar 22 23:10:29 2021 +0000

    build(deps): bump reqwest from 0.11.1 to 0.11.2
    
    Bumps [reqwest](https://github.com/seanmonstar/reqwest) from 0.11.1 to 0.11.2.
    - [Release notes](https://github.com/seanmonstar/reqwest/releases)
    - [Changelog](https://github.com/seanmonstar/reqwest/blob/master/CHANGELOG.md)
    - [Commits](https://github.com/seanmonstar/reqwest/compare/v0.11.1...v0.11.2)
    
    Signed-off-by: dependabot[bot] <support@github.com>

commit de5459ed6d2b7293dd737d591091f42b6b2c8d55
Merge: 00440996a 6cf923316
Author: Nikhil Benesch <nikhil.benesch@gmail.com>
Date:   Mon Mar 22 19:06:43 2021 -0400

    Merge pull request #6179 from MaterializeInc/dependabot/cargo/libc-0.2.90
    
    build(deps): bump libc from 0.2.89 to 0.2.90

commit bceb09aa4c75f5602962e5d382caf3bb69263b32
Author: dependabot[bot] <49699333+dependabot[bot]@users.noreply.github.com>
Date:   Mon Mar 22 23:01:45 2021 +0000

    build(deps): bump tokio-stream from 0.1.4 to 0.1.5
    
    Bumps [tokio-stream](https://github.com/tokio-rs/tokio) from 0.1.4 to 0.1.5.
    - [Release notes](https://github.com/tokio-rs/tokio/releases)
    - [Commits](https://github.com/tokio-rs/tokio/compare/tokio-stream-0.1.4...tokio-stream-0.1.5)
    
    Signed-off-by: dependabot[bot] <support@github.com>

commit 0dbd1d470eb8a3f88e09f7dc8fd3986fa70febd4
Author: dependabot[bot] <49699333+dependabot[bot]@users.noreply.github.com>
Date:   Mon Mar 22 23:01:32 2021 +0000

    build(deps): bump whoami from 1.1.0 to 1.1.1
    
    Bumps [whoami](https://github.com/libcala/whoami) from 1.1.0 to 1.1.1.
    - [Release notes](https://github.com/libcala/whoami/releases)
    - [Changelog](https://github.com/libcala/whoami/blob/main/CHANGELOG.md)
    - [Commits](https://github.com/libcala/whoami/compare/v1.1.0...v1.1.1)
    
    Signed-off-by: dependabot[bot] <support@github.com>

commit 00440996a2d874cde87947e6ef67bc14f78171a4
Merge: 403cd046a 4c2b4428f
Author: Nikhil Benesch <nikhil.benesch@gmail.com>
Date:   Mon Mar 22 18:58:47 2021 -0400

    Merge pull request #6176 from MaterializeInc/dependabot/cargo/tokio-1.4.0
    
    build(deps): bump tokio from 1.3.0 to 1.4.0

commit 6cf923316189b549cfb345f96a819d3e68673dbb
Author: dependabot[bot] <49699333+dependabot[bot]@users.noreply.github.com>
Date:   Mon Mar 22 22:08:12 2021 +0000

    build(deps): bump libc from 0.2.89 to 0.2.90
    
    Bumps [libc](https://github.com/rust-lang/libc) from 0.2.89 to 0.2.90.
    - [Release notes](https://github.com/rust-lang/libc/releases)
    - [Commits](https://github.com/rust-lang/libc/compare/0.2.89...0.2.90)
    
    Signed-off-by: dependabot[bot] <support@github.com>

commit 4c2b4428fec78c5fdf43ff3682a6cacd5194ed29
Author: dependabot[bot] <49699333+dependabot[bot]@users.noreply.github.com>
Date:   Mon Mar 22 22:07:16 2021 +0000

    build(deps): bump tokio from 1.3.0 to 1.4.0
    
    Bumps [tokio](https://github.com/tokio-rs/tokio) from 1.3.0 to 1.4.0.
    - [Release notes](https://github.com/tokio-rs/tokio/releases)
    - [Commits](https://github.com/tokio-rs/tokio/compare/tokio-1.3.0...tokio-1.4.0)
    
    Signed-off-by: dependabot[bot] <support@github.com>

commit 403cd046abd21589941f09e8cc33874bf6ae43b3
Author: Andreas Fuchs <asf@materialize.com>
Date:   Mon Mar 22 16:13:50 2021 -0400

    Design doc: Importing our prometheus metrics into system/log tables (#6101)
    
    * First complete-ish draft of prometheus source design doc
    
    This specs out the various approaches (and the one I think might work best) for a source that
    imports data from a prometheus endpoint.
    
    * Rework the approach to fit the consensus on scope / design criteria
    
    Now uses the internal metrics registry, drops the user-creatable sources.
    
    * Use a proposed mz_catalog name for the metrics table
    
    This seems better than having a strawman name, and it's directionally
    ~reasonable.
    
    * Codify that we'll use --introspection-frequency as the scrape interval
    
    * Drop answered "open questions"
    
    * Separate the scraping & retention, note that it might get punted.

commit 5904a0f0ba38fe42cd9c2581a391febb67876f99
Merge: ef16dcbcd 6207bfce4
Author: Ruchir Khaitan <ruchir0001@gmail.com>
Date:   Mon Mar 22 16:12:01 2021 -0400

    Merge pull request #6171 from ruchirK/simpler-sourceinfo-8
    
    the final SourceInfo refactor!

commit ef16dcbcda8964b10c781ec9e87c1f062d04dc7c
Merge: 0e7aae035 602927092
Author: Brandon W Maister <bwm@materialize.io>
Date:   Mon Mar 22 16:03:35 2021 -0400

    Merge pull request #6172 from quodlibetor/prepare-v0.7.2-dev
    
    Prepare v0.7.2 dev

commit 602927092e22fcde0b1b81955e986acbd2a8eff7
Author: Brandon W Maister <bwm@materialize.io>
Date:   Mon Mar 22 15:38:42 2021 -0400

    Prepare next phase of development: v0.7.2-dev

commit e2e07350062edbaedf2b6b8c3f42f3fe9adb988f
Author: Brandon W Maister <bwm@materialize.io>
Date:   Mon Mar 22 15:37:31 2021 -0400

    release: v0.7.1-rc2

commit 6207bfce4161c693845cea9de931c7da3a26167f
Author: Ruchir Khaitan <ruchir0001@gmail.com>
Date:   Mon Mar 22 13:56:16 2021 -0400

    dataflow: combine the SourceInfo and SourceConstructor traits, rename to SourceReader
    
    This _finally_ removes all dependency on ConsistencyInfo from all of the source
    implementations.

commit d0979dbe06def7c1c68f7fb0515f55194ad5a359
Author: Ruchir Khaitan <ruchir0001@gmail.com>
Date:   Mon Mar 22 12:29:45 2021 -0400

    dataflow: remove start_offsets from ConsistencyInfo

commit 152516fef40feae1273a9617bcc49bc2d75e9ec7
Author: Ruchir Khaitan <ruchir0001@gmail.com>
Date:   Mon Mar 22 10:53:18 2021 -0400

    dataflow: Refactor PartitionMetrics to live under SourceMetrics

commit 0e7aae035a861e93a7a0ef57034c0dfd01ae31df
Merge: cd9b63b8e 0bf7e5aa8
Author: Ruchir Khaitan <ruchir0001@gmail.com>
Date:   Mon Mar 22 11:55:46 2021 -0400

    Merge pull request #6162 from ruchirK/simpler-sourceinfo-5
    
    Large refactor of SourceInfo trait

commit cd9b63b8e91151e983140e45196ea1dae7297178
Merge: bf138530a 6fdcf28ba
Author: Justin Jaffray <justin.jaffray@gmail.com>
Date:   Mon Mar 22 11:44:03 2021 -0400

    Merge pull request #5816 from justinj/store-as
    
    sql: resolve names as part of normalization

commit bf138530a6fb1222412105be4847c472b868be86
Author: Brennan Vincent <brennan@materialize.io>
Date:   Mon Mar 22 10:38:07 2021 -0500

    Present nontrivial sources to the Dataflow layer as a source + view (#6127)

commit f63a8eb912d4b33466ece0a9ef0bddb1b20962d5
Author: Philip Stoev <pstoev@materialize.io>
Date:   Mon Mar 22 15:02:50 2021 +0100

    Tests around Avro deserialization and schema resolution

commit 6fdcf28ba742a7d498a614e9e59746e7902734bb
Author: Justin Jaffray <justin.jaffray@gmail.com>
Date:   Mon Mar 1 10:30:50 2021 -0500

    sql: add catalog migration for name resolution

commit 69589edef7b58879e61406c7d89d1f657c321f20
Author: Justin Jaffray <justin.jaffray@gmail.com>
Date:   Mon Feb 22 12:15:34 2021 -0500

    Try to print out names nicely

commit 8084a6c13375b47b937692e9b78c5900b14542c0
Author: Justin Jaffray <justin.jaffray@gmail.com>
Date:   Thu Feb 18 14:28:57 2021 -0500

    sql: resolve names as part of normalization
    
    This PR currently has a few issues: first, there's an error message I
    throw away because we currently detect it by looking at what names we
    have. Not sure how to recover that. Second, there's currently a failing
    test in the TLS code that I don't know how to debug, but am going to
    dive into a bit later.
    
    I also do not have the most confidence that this doesn't break things,
    so I need to go through and give it all another testing pass. Throwing
    it up to get some eyes on it to see if there are any obvious big
    problems I'm missing!

commit f2d6ea9058c3de1dde148bc7ff910bd7a0d6271c
Merge: bef709a8f 5eb7d9e6a
Author: Nikhil Benesch <nikhil.benesch@gmail.com>
Date:   Mon Mar 22 09:16:10 2021 -0400

    Merge pull request #6158 from MaterializeInc/dependabot/pip/demo/http_logs/apps/jinja2-2.11.3
    
    build(deps): bump jinja2 from 2.10.3 to 2.11.3 in /demo/http_logs/apps

commit bef709a8f61f6a849bf6c4a9788eef5b5bf027aa
Author: Frank McSherry <fmcsherry@me.com>
Date:   Sun Mar 21 19:55:48 2021 -0400

    fix column knowledge (#6152)

commit 0bf7e5aa82b59243ed35a31aa7b23f5426b8ef90
Author: Ruchir Khaitan <ruchir0001@gmail.com>
Date:   Sat Mar 20 12:42:42 2021 -0400

    dataflow: refactor SourceInfo implementation
    
    These changes:
    
    * extract source caching out of the SourceInfo trait and into a separate SourceCache
      trait
    * Change the RT timestamper logic to report PartitionIds for newly discovered partitions
      instead of sending partition counts
    * Change the worker local state to hold a set of known PartitionIds for each source,
      instead of a partition count
    * Change the worker local state to make ConsistencyInfo the final arbiter
      on which partitions each worker is responsible for, instead of the various
      implementers of SourceInfo.
    * Shrink the SourceInfo trait to just two methods.

commit ab45fdccc5dc13f68e47d1f6510383d6f02ca081
Author: Ruchir Khaitan <ruchir0001@gmail.com>
Date:   Fri Mar 19 15:23:20 2021 -0400

    coord: timestamper doc corrections

commit 5a65171234d0cab1b2895477532012ee9cdf78dd
Merge: 090537840 e9b87b15c
Author: Ruchir Khaitan <ruchir0001@gmail.com>
Date:   Sat Mar 20 16:21:19 2021 -0400

    Merge pull request #6160 from ruchirK/simpler-sourceinfo-6
    
    coord,dataflow: remove partition_count from BYO API

commit e9b87b15ccd5f31da589395ea4a83f8ea366ad3c
Author: Ruchir Khaitan <ruchir0001@gmail.com>
Date:   Sat Mar 20 15:57:26 2021 -0400

    coord,dataflow: remove partition_count from BYO API

commit 5eb7d9e6a1a0bba9592e47805843b269e473320f
Author: dependabot[bot] <49699333+dependabot[bot]@users.noreply.github.com>
Date:   Sat Mar 20 02:50:20 2021 +0000

    build(deps): bump jinja2 from 2.10.3 to 2.11.3 in /demo/http_logs/apps
    
    Bumps [jinja2](https://github.com/pallets/jinja) from 2.10.3 to 2.11.3.
    - [Release notes](https://github.com/pallets/jinja/releases)
    - [Changelog](https://github.com/pallets/jinja/blob/master/CHANGES.rst)
    - [Commits](https://github.com/pallets/jinja/compare/2.10.3...2.11.3)
    
    Signed-off-by: dependabot[bot] <support@github.com>

commit 0905378401a1f5aae3e93ba931c4592661c5d753
Merge: be6da6de7 b117bdaa7
Author: Nikhil Benesch <nikhil.benesch@gmail.com>
Date:   Fri Mar 19 16:03:07 2021 -0400

    Merge pull request #6109 from benesch/retry-simplification
    
    ore: simplify retry API

commit be6da6de7c37a37ad38b3699d46492b5d323d0b9
Merge: 6db004f03 aa40fd519
Author: Philip Stoev <pstoev@materialize.io>
Date:   Fri Mar 19 18:54:24 2021 +0200

    Merge pull request #6150 from philip-stoev/atp-docker-compose
    
    Proper docker-compose.yml for the atp driver

commit 6db004f03b06adfe0d2882e27c0d41b8d6579dcd
Author: Andi Wang <5522362+wangandi@users.noreply.github.com>
Date:   Fri Mar 19 12:30:22 2021 -0400

    expr = expr is not equivalent to isnull(expr). (#6154)
    
    If expr is null, isnull(expr) returns false whereas expr = expr returns null

commit 54e09e70d9d1b10e593dafc7e8b46a0fd5db36bd
Merge: 10f646fd5 4f2115d36
Author: Ruchir Khaitan <ruchir0001@gmail.com>
Date:   Fri Mar 19 11:47:42 2021 -0400

    Merge pull request #6142 from ruchirK/remove-unused-timestamper
    
    coord: remove unused byo timestamping formats

commit 10f646fd552c08dc8655ee4daf8624599c64d7e5
Merge: 2b45f06aa 040801a5a
Author: Nikhil Benesch <nikhil.benesch@gmail.com>
Date:   Fri Mar 19 11:38:32 2021 -0400

    Merge pull request #6146 from benesch/sql-off-by-one
    
    sql: fix off-by-one with DISTINCT and ORDER BY

commit 2b45f06aa0a858fe1e8c482b802c1323dbf14099
Merge: 655bdf470 86423c1cf
Author: Nikhil Benesch <nikhil.benesch@gmail.com>
Date:   Fri Mar 19 11:37:54 2021 -0400

    Merge pull request #6149 from benesch/distinct-non-agg
    
    sql: reject DISTINCT specifier in non-aggregate functions

commit 655bdf470c4885a875b30d844a9af30f3e98bd55
Author: Jessica Laughlin <JLDLaughlin@users.noreply.github.com>
Date:   Fri Mar 19 11:33:10 2021 -0400

    wikirecent-dbt: update demo README (#6139)
    
    Updates demo README to include more explicit guidance for those
    using Docker. Updates crafted from user feedback.

commit 4f2115d368a6a3b0794ee17a170bfe59a8dcdbbb
Author: Ruchir Khaitan <ruchir0001@gmail.com>
Date:   Thu Mar 18 13:03:42 2021 -0400

    coord: remove unused byo timestamping formats
    
    We remove the ability for the timestamper thread to ingest consistency information
    from anything that is not a Avro-formatted Debezium style consistency topic or AVRO
    OCF. The thinking here is that our custom consistency formats (either byte/text
    encoded or Avro encoded) should not be used in production, and users should prefer
    either Debezium style consistency or CDCv2.

commit aa40fd5192df50a304a784c47c673e1137b2aab9
Author: Philip Stoev <pstoev@materialize.io>
Date:   Fri Mar 19 08:28:26 2021 +0100

    Proper docker-compose.yml for the atp driver

commit 9ab80dbc885be21f5225ba10cf4593ab675b20f8
Merge: 645181c8d 0897189d7
Author: Nikhil Benesch <nikhil.benesch@gmail.com>
Date:   Thu Mar 18 22:12:50 2021 -0400

    Merge pull request #6148 from MaterializeInc/slt-bugs
    
    sqllogictest: check expected error for parse failures

commit 0897189d7286eada59a90f9424882a2cacd1cdeb
Author: Nikhil Benesch <nikhil.benesch@gmail.com>
Date:   Thu Mar 18 17:24:52 2021 -0400

    sqllogictest: check expected error for parse failures
    
    The SLT runner was failing to validate the expected error message when a
    query failed to parse. This was resulting in some queries that were
    spuriously succeeding, and made for a very confusing experience in
    development [0].
    
    Fix #5347.
    
    [0]: https://github.com/MaterializeInc/materialize/pull/5343#issuecomment-761595269

commit 86423c1cf1c8b45e44c2041dacbd6968f0a74da8
Author: Nikhil Benesch <nikhil.benesch@gmail.com>
Date:   Thu Mar 18 17:37:59 2021 -0400

    sql: reject DISTINCT specifier in non-aggregate functions
    
    Also use pattern matching to ensure the compiler's unused variable
    warning can help uncover issues like this in the future.
    
    Fix #5854.

commit 645181c8d1b6a0e079c96348241557f95298d47c
Merge: 1b9b3cfab 9147e22d0
Author: Nikhil Benesch <nikhil.benesch@gmail.com>
Date:   Thu Mar 18 17:02:22 2021 -0400

    Merge pull request #6143 from benesch/mzbuild-atp
    
    mzbuild: prepare for export to fuzz testing platform

commit 040801a5a0d6391228b3d34f87cf830b0c8fb280
Author: Nikhil Benesch <nikhil.benesch@gmail.com>
Date:   Thu Mar 18 16:46:48 2021 -0400

    sql: fix off-by-one with DISTINCT and ORDER BY
    
    Fix #6021.

commit 9147e22d0126526a17fbdb7aea2a59aecb1d64d1
Author: Nikhil Benesch <nikhil.benesch@gmail.com>
Date:   Thu Mar 18 15:11:04 2021 -0400

    mzbuild: prepare for export to fuzz testing platform
    
    Prepare mzbuild for exporting to our new fuzz testing platform (codename
    "ATP"):
    
      * Tweak the directory pre-image to be a more general-purpose copy
        pre-image plugin. This makes it possible for images to refer to
        files outside of their build context.
    
      * Add a new driver image which specifies how to orchestrate the other
        images.
    
      * Add a Python script which builds and pushes the necessary images to
        ATP.

commit 1b9b3cfab699d2df18dcfa17a0880e88bb39b187
Merge: 839337658 123c04106
Author: Sean Loiselle <sean@materialize.io>
Date:   Thu Mar 18 14:58:55 2021 -0400

    Merge pull request #6129 from sploiselle/dec
    
    sql+: rust-dec-backed numeric type

commit e3ecc6d4981a3c569cb8083d89023247e15a3559
Author: Albert Wang <albert@materialize.io>
Date:   Thu Mar 18 14:53:42 2021 -0400

    trailing whitespace

commit 0c390c3659c7b48a980360fcd92d418be57be40e
Author: Albert Wang <albert@materialize.io>
Date:   Thu Mar 18 14:47:20 2021 -0400

    add a use case for using upsert envelopes

commit 123c041062336b6cd75819fff9139df22b4243e7
Author: Sean Loiselle <sean@materialize.io>
Date:   Thu Mar 4 16:52:30 2021 -0500

    sql: support add, div for rust-dec numeric

commit 96b8683a239049d0556b0a4150e06311ab580fc8
Author: Sean Loiselle <sean@materialize.io>
Date:   Thu Mar 4 12:01:51 2021 -0500

    sql: supporting casting to/from text/rust-dec numeric

commit a1c79d674985b2c4db7d9501dfb4436340e80894
Author: Sean Loiselle <sean@materialize.io>
Date:   Tue Feb 9 09:40:34 2021 -0500

    sql+: add RDN as placeholder for rust-dec backed numeric

commit 3f8fdce7029653eaccb68d54148c42424d575869
Author: Sean Loiselle <sean@materialize.io>
Date:   Thu Mar 18 11:51:44 2021 -0400

    build: allow ICU-licensed libraries

commit 8393376589accc4e11800a16bf31d1c2d79a01ff
Merge: 53b6d91f9 c179fc1d0
Author: Nikhil Benesch <nikhil.benesch@gmail.com>
Date:   Thu Mar 18 12:13:06 2021 -0400

    Merge pull request #6110 from benesch/session-id
    
    sql: add several system information functions

commit 53b6d91f9acb758afe6284c87b073ff76b302656
Merge: 051b145e1 108f6887a
Author: Ruchir Khaitan <ruchir0001@gmail.com>
Date:   Thu Mar 18 11:43:42 2021 -0400

    Merge pull request #6130 from ruchirK/simpler-sourceinfo-4
    
    Make `SourceInfo::get_next_message` a lot simpler

commit c179fc1d010188258d251aa60aebb81d747aaeb3
Author: Philip Stoev <pstoev@materialize.io>
Date:   Thu Mar 18 12:24:03 2021 +0100

    sql: simple tests for the system information functions

commit 5f7dd03cdd8e9b943fcb19c3d5d6e00080703411
Author: Nikhil Benesch <nikhil.benesch@gmail.com>
Date:   Tue Mar 16 22:25:36 2021 -0400

    sql: add mz_workers function
    
    The mz_workers function reports the number of workers in use by the server.

commit 38cc31cd926fbd7d1eddac626cdfdfab4143509d
Author: Nikhil Benesch <nikhil.benesch@gmail.com>
Date:   Tue Mar 16 21:39:25 2021 -0400

    sql: add pg_postmaster_start_time and mz_uptime functions
    
    pg_postmaster_start_time is a PostgreSQL function that reports the time
    at which the server started. mz_uptime is a Materialize invention which
    reports the duration that the server has been alive using a monotonic
    clock, which is slightly more accurate than `now() -
    pg_postmaster_start_time()`.

commit ad4f3c5cdb4d74d31414424735c730db384ff7f4
Author: Nikhil Benesch <nikhil.benesch@gmail.com>
Date:   Tue Mar 16 21:30:39 2021 -0400

    coord,sql: expose "session ID" via mz_session_id function
    
    The session ID is used by telemetry to identify a particular instance of
    a materialized process. Expose this ID to SQL via a new mz_session_id
    function that mirrors mz_cluster_id.
    
    The term "session" conflicts badly with the SQL concept of the same
    name, so this function is tucked away in the "mz_internal" namespace for
    now.

commit 108f6887a222eff62768aea2e3440cb669805537
Author: Ruchir Khaitan <ruchir0001@gmail.com>
Date:   Wed Mar 17 17:38:18 2021 -0400

    dataflow: remove ConsistencyInfo and Activator from

commit ca903c9c82b999276427cf45e468cfe7d78c3445
Author: Ruchir Khaitan <ruchir0001@gmail.com>
Date:   Wed Mar 17 17:22:24 2021 -0400

    dataflow: remove use of ConsistencyInfo to track last ingested offset
    
    This requires changing our Kafka source implementation to keep track of start offsets
    at various partitions. I also changed the logic to operate on true Kafka offsets in
    that part of the code to clarify the intent.

commit 7fe6cb11fd45d035c382ec631f4c83b4e2bfbbc6
Author: Albert Wang <albert@materialize.io>
Date:   Thu Mar 18 10:59:41 2021 -0400

    add details on tradeoffs of upsert

commit 051b145e15ced750c11b2bc0b144d4c79561b6bd
Author: Andi Wang <5522362+wangandi@users.noreply.github.com>
Date:   Thu Mar 18 09:05:20 2021 -0400

    Enable protobuf value + bytes/text key with upsert. (#6125)

commit b117bdaa71014685203b55f87456db272604be42
Author: Nikhil Benesch <nikhil.benesch@gmail.com>
Date:   Wed Mar 17 01:39:39 2021 -0400

    ore: simplify retry API
    
    The retry API in the ore crate has grown organically over time,
    resulting in IMO a fairly confusing, non-orthogonal API consisting of
    a RetryBuilder object, a Retry object, and a retry_for helper method.
    
    This commit simplifies the API, unifying RetryBuilder, Retry, and
    retry_for into one object named Retry. This object has a default
    constructor which picks sensible retry defaults for fallible network
    operations, but exposes builder methods in the case that any of the
    parameter methods need tweaking.
    
    The configuration options are whittled down to:
    
      * initial_backoff
      * clamp_backoff
      * max_tries
      * max_duration
    
    The most important change, in my opinion, regards calls like
    
        retry_for(Duration::from_secs(60), |_| /* op */)
    
    in the old API. Previously that did not account for the amount of time
    spent waiting for the actual operation to complete. Rather it would
    retry until 60s of accumulated backoff. In the new API, the equivalent
    construction
    
        Retry::default().max_duration(Duration::from_secs(60)).retry(|_| /* op */)
    
    does take the amount of time that the op runs for into account.
    
    As an added bonus, the new code comes with usage examples and tests.
    
    For additional context, see:
    https://github.com/MaterializeInc/materialize/pull/5811#issuecomment-781737833

commit 46234d1f79580c968b8c925a1ba69c90e689b189
Merge: 44f1e7168 9d1e295d9
Author: Nikhil Benesch <nikhil.benesch@gmail.com>
Date:   Thu Mar 18 02:12:50 2021 -0400

    Merge pull request #6126 from benesch/json-number-format
    
    repr,expr,sql: permit jsonb numbers to be i64 or f64

commit 9d1e295d9f81744a203b76b251218e85b28e3d50
Author: Nikhil Benesch <nikhil.benesch@gmail.com>
Date:   Wed Mar 17 15:22:35 2021 -0400

    repr,expr,sql: permit jsonb numbers to be i64 or f64
    
    Previously we rejected JSON numbers that were integers greater than
    2^53-1, as we stored JSON numbers as double-precision floats. (Integers
    greater than 2^53-1 are not guaranteed to be exactly representable by a
    double-precision float, and we didn't want to silently change data.)
    
    Our users, however, expect integers up to at least 2^64-1 to be
    supported. This commit facilitates that by allowing numbers in the jsonb
    type to be *either* an i64 or an f64.
    
    We're still not quite PostgreSQL compatible, since PostgreSQL allows any
    number that will fit in its numeric type, which supports up to 1000
    digits of precision. But this commit brings us a good deal closer to
    PostgreSQL compatibility, and should be sufficient for most real-world
    uses of Materialize.
    
    This commit also cleans up casting *from* jsonb to other types.
    Previously if those casts failed they'd return NULL; now they return an
    error to match PostgreSQL.
    
    Fix #5919.

commit 44f1e7168db258f20565363546ef5646dbaf1ba3
Author: Jessica Laughlin <JLDLaughlin@users.noreply.github.com>
Date:   Wed Mar 17 17:17:14 2021 -0400

    dbt-materialize: fix versioning bug (#6128)
    
    After fixing the dbt-materialize bug reported in #6063, I mistakenly
    bumped the package's version from v0.18.1 to v0.18.2. By convention,
    dbt adapters' version should match the target dbt version. There is
    no dbt version v0.18.2. This mistake causes pip installing
    dbt-materialize to fail because our setup.py uses the same version
    string (the incorrect v0.18.2) for its dbt-postgres dependency.
    
    This change updates the version to v0.18.1.post1, which will be uploaded
    to PyPI. It reverts the dbt-postgres dependency to v0.18.1.

commit 9a7bc958af7470ce887c8a668a6385e238e6f1d3
Merge: 500c071a7 bcbf052be
Author: Aljoscha Krettek <aljoscha.krettek@gmail.com>
Date:   Wed Mar 17 21:21:45 2021 +0100

    Merge pull request #6055 from aljoscha/6027-kafka-eo-test
    
    Add end-to-end test for BYO Kafka exactly-once sinks

commit bcbf052be4cf861125071ee3768a69b41cb76acb
Author: Aljoscha Krettek <aljoscha.krettek@gmail.com>
Date:   Fri Mar 12 19:10:08 2021 +0100

    ci: wire Kafka exactly-once test

commit c63609ca29ce16ccdad7eeab2dd7735e6cab97bf
Author: Aljoscha Krettek <aljoscha.krettek@gmail.com>
Date:   Fri Mar 12 19:08:37 2021 +0100

    test: add workflow-based Kafka exactly-once test

commit 500c071a7b422754f5af2adc0931a210008b3ebc
Author: Andreas Fuchs <asf@materialize.com>
Date:   Wed Mar 17 15:57:51 2021 -0400

    Make the design doc template placeholder text into markdown comments (#6124)
    
    This allows authors to keep the text around (for referencing it while
    authoring) in a way that doesn't hurt the readability of the final
    spec as rendered.

commit a08a648de24c7a315ce7cd49ce6f9e2b9087f74c
Merge: 835d3f28a 1a0b13539
Author: Nikhil Benesch <nikhil.benesch@gmail.com>
Date:   Wed Mar 17 15:35:56 2021 -0400

    Merge pull request #6112 from benesch/coord-simple-execute
    
    materialized: push simple sql execution into coord client

commit 4f1653322da0d3cf4ce35a3cd6a64c90b33bf05b
Author: Aljoscha Krettek <aljoscha.krettek@gmail.com>
Date:   Thu Mar 11 18:26:07 2021 +0100

    dataflow,kafka: use data timestamp when determining consistency
    
    Before, we were using frontier from SinkAsOf but that is usually [0] so
    the comparison would always say that we already emitted the data.

commit e1f2ed397d1a3b1a77fa9cf26c06ec344c811816
Author: Aljoscha Krettek <aljoscha.krettek@gmail.com>
Date:   Thu Mar 11 20:07:10 2021 +0100

    testdrive: make "random" seed configurable

commit e34a2ccda42ba38142451ac6f2c20357ab6a9d00
Author: Eli Lindsey <eli@siliconsprawl.com>
Date:   Thu Mar 11 20:20:09 2021 +0100

    testdrive: use read_committed isolation level when reading from Kafka

commit 470e4e2be7ce27d969d4d212949d09be135c0d59
Author: Eli Lindsey <eli@siliconsprawl.com>
Date:   Thu Mar 11 20:18:21 2021 +0100

    sql: expose exactly_once configuration for Kafka Sink

commit 835d3f28a76e1624583a898cf77398866593a365
Merge: c05f48d9f 05a1b8bef
Author: Ruchir Khaitan <ruchir0001@gmail.com>
Date:   Wed Mar 17 15:05:01 2021 -0400

    Merge pull request #6116 from ruchirK/rk-downgrade-logs
    
    coord,dataflow: downgrade misleading error logs

commit c05f48d9f615eb41fcfbd82381872f40959449ad
Merge: 3970cde79 7ade4e9b4
Author: Philip Stoev <pstoev@materialize.io>
Date:   Wed Mar 17 20:15:39 2021 +0200

    Merge pull request #6090 from philip-stoev/testdrive_default_timeout
    
    Testdrive default timeout

commit 3970cde79bb7427ea284e63aa8cee5158dab3a2b
Merge: 7ee0ed4ac 4241e3d02
Author: Nikhil Benesch <nikhil.benesch@gmail.com>
Date:   Wed Mar 17 14:04:38 2021 -0400

    Merge pull request #6087 from MaterializeInc/dependabot/cargo/tokio-util-0.6.4
    
    build(deps): bump tokio-util from 0.6.3 to 0.6.4

commit 7ee0ed4ace2f249b4e2de6454e8d9e7d8d230660
Merge: d4631292c 440fb9bba
Author: Nikhil Benesch <nikhil.benesch@gmail.com>
Date:   Wed Mar 17 12:32:27 2021 -0400

    Merge pull request #6119 from benesch/term-colors
    
    materialized: don't emit colored log output to stderr if not tty

commit d4631292cbada475e2cbdf51f6394f9f2e9d3cdf
Merge: 5e90f5d8b 648d90d0c
Author: Nikhil Benesch <nikhil.benesch@gmail.com>
Date:   Wed Mar 17 12:32:08 2021 -0400

    Merge pull request #6111 from benesch/jsonb-object-agg
    
    sql: add the jsonb_object_agg function

commit 5e90f5d8ba3d57c9200b6aa9e39bd0aef70d9988
Merge: c14eabd85 96392ed02
Author: Philip Stoev <pstoev@materialize.io>
Date:   Wed Mar 17 18:21:49 2021 +0200

    Merge pull request #6113 from philip-stoev/testdrive-container-with-tests
    
    (Take #2) mzbuild: A container that combines testdrive and the .td tests

commit 440fb9bbafee89baf231af26f20e5a24e042a838
Author: Nikhil Benesch <nikhil.benesch@gmail.com>
Date:   Wed Mar 17 11:44:23 2021 -0400

    materialized: don't emit colored log output to stderr if not tty
    
    Fix #6117.

commit 4ce6db99251d5833c1755445d7d90a2e63d3a2a9
Author: Ruchir Khaitan <ruchir0001@gmail.com>
Date:   Wed Mar 17 11:14:52 2021 -0400

    *: make Kinesis sources present as single-partition
    
    Kinesis does parallelism with shards which are similar to Kafka partitions but
    with fewer guarantees. For now, all Kinesis shards for a source instance are read
    by the same worker. However, we were still attempting to register the set of shards
    and the maximum "offset" read up to in each shard even though that information
    wasn't being used for anything and more importantly, it required that we potentially
    write to `ConsistencyInfo` when we read from a Kinesis source.
    
    This commit changes Kinesis partition ID's to be singletons like File or S3
    partition ids to simplify the behavior. The underlying source reader still
    occaisonally checks for new shards, but this information is private and does
    not need to be shared with the rest of the system.
    
    Note that even without this change the offsets we get for various Kinesis messages
    are entirely nondeterministic across restarts.

commit 648d90d0c9f6c2b601f1faa7688797f4f1da1efd
Author: Nikhil Benesch <nikhil.benesch@gmail.com>
Date:   Tue Mar 16 23:42:27 2021 -0400

    sql: add the jsonb_object_agg function
    
    Fix #3875.

commit 05a1b8bef357bba062dd905d0b60167fd7fe9f43
Author: Ruchir Khaitan <ruchir0001@gmail.com>
Date:   Wed Mar 17 09:47:30 2021 -0400

    coord,dataflow: downgrade misleading error logs

commit 96392ed02fafd1ea7b86fe8a599da2f6bdf1edf8
Author: Philip Stoev <pstoev@materialize.io>
Date:   Wed Mar 17 09:54:47 2021 +0100

    mzbuild: A container that combines testdrive and the .td tests
    
    A new 'testdrive-with-tests' container derives from 'testdrive' and
    also includes the .td files from the test/testdrive directory
    
    Extend mzbuild so that all files in a given directory are considered
    inputs to the checksum algorithm.

commit 7ade4e9b4c6d32d6348c862671e2608cbb50f81d
Author: Philip Stoev <pstoev@materialize.io>
Date:   Tue Mar 16 13:48:25 2021 +0100

    testdrive: Allow the default timeout to be set from the command line
    
    Any timeouts that were previously larger than the default are not decreased.

commit c14eabd85627610441216e112cbf9f1b4f2ecc0f
Merge: 459a3a0b7 fb8b21e8f
Author: Nikhil Benesch <nikhil.benesch@gmail.com>
Date:   Wed Mar 17 02:39:25 2021 -0400

    Merge pull request #6108 from benesch/spelling
    
    testdrive: tweak some names

commit 1a0b1353969d924a5638f1973dcc22325bfc1973
Author: Nikhil Benesch <nikhil.benesch@gmail.com>
Date:   Wed Mar 17 00:09:00 2021 -0400

    materialized: push simple sql execution into coord client
    
    This will make it possible to use the simple SQL execution interface
    outside of the HTTP client. Also I think it's just nice to have it as
    part of the coordinator's API.

commit fb8b21e8f7e022b31ec321e538cbc6934128dfd8
Author: Nikhil Benesch <nikhil.benesch@gmail.com>
Date:   Wed Mar 17 01:08:29 2021 -0400

    testdrive: tweak some names
    
    "SQLContext" is more properly spelled "SqlContext", per Rust style
    guides. Also take the opportunity to rename SqlContext::sql_timeout to
    SqlContext::timeout to avoid the stutter. Finally, tweak the building of
    the set-regex action to not panic of the provided string is not a valid
    regex.

commit 459a3a0b705e422d6a67908e9d3fb7f3cccd2ad1
Merge: b03b21b0d 04d997d35
Author: Nikhil Benesch <nikhil.benesch@gmail.com>
Date:   Tue Mar 16 21:09:37 2021 -0400

    Merge pull request #6105 from MaterializeInc/dependabot/cargo/rdkafka-sys-5d23e82
    
    build(deps): bump rdkafka-sys from `b8611cc` to `5d23e82`

commit b03b21b0d2db85fac99d741d10bbf48cbdd914d5
Merge: 7cd12c068 bcc8ffb7e
Author: Nikhil Benesch <nikhil.benesch@gmail.com>
Date:   Tue Mar 16 21:09:19 2021 -0400

    Merge pull request #6097 from MaterializeInc/dependabot/cargo/regex-1.4.5
    
    build(deps): bump regex from 1.4.3 to 1.4.5

commit bcc8ffb7efe390f78145999946854cabcf4f10a9
Author: dependabot[bot] <49699333+dependabot[bot]@users.noreply.github.com>
Date:   Tue Mar 16 22:47:36 2021 +0000

    build(deps): bump regex from 1.4.3 to 1.4.5
    
    Bumps [regex](https://github.com/rust-lang/regex) from 1.4.3 to 1.4.5.
    - [Release notes](https://github.com/rust-lang/regex/releases)
    - [Changelog](https://github.com/rust-lang/regex/blob/master/CHANGELOG.md)
    - [Commits](https://github.com/rust-lang/regex/compare/1.4.3...1.4.5)
    
    Signed-off-by: dependabot[bot] <support@github.com>

commit 7cd12c0680e32d895703df0345584964e027c1b9
Merge: 58ea46bb9 393a06632
Author: Ruchir Khaitan <ruchir0001@gmail.com>
Date:   Tue Mar 16 18:44:45 2021 -0400

    Merge pull request #6102 from ruchirK/simpler-sourceinfo-3
    
    Remove two more functions from `SourceInfo`

commit 58ea46bb9f728077d2d6b9cfc198860f878a474a
Merge: fb6299a53 d03ab6e6f
Author: Ruchir Khaitan <ruchir0001@gmail.com>
Date:   Tue Mar 16 18:24:38 2021 -0400

    Merge pull request #6098 from ruchirK/timestamper-rt-cleanup
    
    Properly clean up timestamper state when we DROP DATABASE

commit fb6299a53939bf612dd41cec558a5320b58fbc02
Merge: 6388a3868 0379adfc4
Author: Eli Lindsey <eli@siliconsprawl.com>
Date:   Tue Mar 16 18:18:03 2021 -0400

    Merge pull request #6076 from elindsey/messingaround
    
    run existing tds against different kafka versions

commit 6388a3868b66e331b3a717073584b6a5cc3c1afa
Author: Frank McSherry <fmcsherry@me.com>
Date:   Tue Mar 16 17:49:29 2021 -0400

    Increase inline allocation size (#6079)

commit 04d997d35599fbf8e5856e6ab7a2ac94d3f62360
Author: dependabot[bot] <49699333+dependabot[bot]@users.noreply.github.com>
Date:   Tue Mar 16 21:49:19 2021 +0000

    build(deps): bump rdkafka-sys from `b8611cc` to `5d23e82`
    
    Bumps [rdkafka-sys](https://github.com/fede1024/rust-rdkafka) from `b8611cc` to `5d23e82`.
    - [Release notes](https://github.com/fede1024/rust-rdkafka/releases)
    - [Commits](https://github.com/fede1024/rust-rdkafka/compare/b8611ccd90029aa19ff8f5d8031991da1a23b700...5d23e82a675d9df1bf343aedcaa35be864787dab)
    
    Signed-off-by: dependabot[bot] <support@github.com>

commit 2d39ef1b9e1cdc66d513c2f0d2ee1b88863b2083
Merge: 6a1030638 fce970eb8
Author: Nikhil Benesch <nikhil.benesch@gmail.com>
Date:   Tue Mar 16 17:43:44 2021 -0400

    Merge pull request #6103 from benesch/deps-minor
    
    deps: bump some minor versions

commit 4241e3d023b26f6132513f6bb4c4a78421ae3fac
Author: dependabot[bot] <49699333+dependabot[bot]@users.noreply.github.com>
Date:   Tue Mar 16 21:15:44 2021 +0000

    build(deps): bump tokio-util from 0.6.3 to 0.6.4
    
    Bumps [tokio-util](https://github.com/tokio-rs/tokio) from 0.6.3 to 0.6.4.
    - [Release notes](https://github.com/tokio-rs/tokio/releases)
    - [Commits](https://github.com/tokio-rs/tokio/compare/tokio-util-0.6.3...tokio-util-0.6.4)
    
    Signed-off-by: dependabot[bot] <support@github.com>

commit 6a1030638957119a09ac10029e5855178029491b
Merge: 1fa567426 c0a4f1a59
Author: Nikhil Benesch <nikhil.benesch@gmail.com>
Date:   Tue Mar 16 17:08:37 2021 -0400

    Merge pull request #6092 from MaterializeInc/dependabot/cargo/tokio-stream-0.1.4
    
    build(deps): bump tokio-stream from 0.1.3 to 0.1.4

commit fce970eb8188212f2d044e09d8bb0543edae057a
Author: Nikhil Benesch <nikhil.benesch@gmail.com>
Date:   Tue Mar 16 17:07:03 2021 -0400

    deps: bump some minor versions
    
    These bumps remove a few duplicate dependencies from the tree.

commit 393a066326bb0e0d064152bc6c1a5a3ac940559c
Author: Ruchir Khaitan <ruchir0001@gmail.com>
Date:   Tue Mar 16 16:28:32 2021 -0400

    dataflow: remove has_partition from SourceInfo

commit f08890366d5cc9324e5732fd35fac6249f04ac79
Author: Ruchir Khaitan <ruchir0001@gmail.com>
Date:   Tue Mar 16 16:21:31 2021 -0400

    dataflow: remove get_worker_partition_count from SourceInfo

commit 1fa567426c8d86f2a78aeff0c5a0f2efa49182b5
Merge: 4748d8242 1450f9735
Author: Nikhil Benesch <nikhil.benesch@gmail.com>
Date:   Tue Mar 16 15:36:08 2021 -0400

    Merge pull request #6100 from benesch/doc-devsite-stable
    
    ci/deploy: use stable image to deploy the devsite

commit 1450f97355e323b3b93515d5d71ee7675389e1f3
Author: Nikhil Benesch <nikhil.benesch@gmail.com>
Date:   Tue Mar 16 15:19:17 2021 -0400

    ci/deploy: use stable image to deploy the devsite
    
    Intra-rustdoc links are stable now, so no need to use the nightly image
    to build the documentation. This avoids the deploy job failing due to
    additional lints that were not present in the PR build's check that the
    docs are buildable.

commit 4748d8242bfce865831e7dcb32db5bdce2aa63de
Merge: 074939d51 8d064453b
Author: Brandon W Maister <bwm@materialize.io>
Date:   Tue Mar 16 14:47:12 2021 -0400

    Merge pull request #6099 from quodlibetor/testdrive-s3-parameter-validation
    
    Fix testdrive S3 parameter name

commit 8d064453bc22c5538deb462c9270e017ed087f0c
Author: Brandon W Maister <bwm@materialize.io>
Date:   Tue Mar 16 13:53:08 2021 -0400

    Fix testdrive S3 parameter name

commit 880faa8087ad33c103a945dff5a29526d6873109
Author: Brandon W Maister <bwm@materialize.io>
Date:   Tue Mar 16 13:46:23 2021 -0400

    Use the provided API to verify S3 testdrive actions

commit d03ab6e6fb111a827abd2bfdf24de5367b55d938
Author: Ruchir Khaitan <ruchir0001@gmail.com>
Date:   Tue Mar 16 13:27:36 2021 -0400

    coord: properly clean up persisted tables when we DROP DATABASE

commit 99c9ee7ee5b5555e377032ef825ca18f5b491308
Author: Ruchir Khaitan <ruchir0001@gmail.com>
Date:   Tue Mar 16 13:24:05 2021 -0400

    coord: properly clean up timestamper state for sources when we DROP DATABASE
    
    Fixes #6094

commit 074939d51ddc664abf926765de82aff07e8216f7
Author: Aljoscha Krettek <aljoscha.krettek@gmail.com>
Date:   Tue Mar 16 17:34:36 2021 +0100

    doc/developer: update remaining instances of BUILD_MODE (#6095)

commit c0a4f1a598520c965a5441d397d00f6dfedd07f0
Author: dependabot[bot] <49699333+dependabot[bot]@users.noreply.github.com>
Date:   Tue Mar 16 15:58:39 2021 +0000

    build(deps): bump tokio-stream from 0.1.3 to 0.1.4
    
    Bumps [tokio-stream](https://github.com/tokio-rs/tokio) from 0.1.3 to 0.1.4.
    - [Release notes](https://github.com/tokio-rs/tokio/releases)
    - [Commits](https://github.com/tokio-rs/tokio/compare/tokio-stream-0.1.3...tokio-stream-0.1.4)
    
    Signed-off-by: dependabot[bot] <support@github.com>

commit 69cf4255536a84f858cff6d7a023a92fb5acd446
Merge: 7679e34f2 f33f4e48c
Author: Nikhil Benesch <nikhil.benesch@gmail.com>
Date:   Tue Mar 16 11:54:19 2021 -0400

    Merge pull request #6082 from MaterializeInc/dependabot/cargo/regex-syntax-0.6.23
    
    build(deps): bump regex-syntax from 0.6.22 to 0.6.23

commit 7679e34f20c23f8751fa5fdfb6e558c93b3e706c
Merge: fedd1e35b f03725259
Author: Nikhil Benesch <nikhil.benesch@gmail.com>
Date:   Tue Mar 16 11:54:13 2021 -0400

    Merge pull request #6084 from MaterializeInc/dependabot/cargo/async-trait-0.1.48
    
    build(deps): bump async-trait from 0.1.42 to 0.1.48

commit fedd1e35b2c86c2546f6a367525cfbf098a97159
Merge: 38e317373 ded15e200
Author: Nikhil Benesch <nikhil.benesch@gmail.com>
Date:   Tue Mar 16 11:54:00 2021 -0400

    Merge pull request #6086 from MaterializeInc/dependabot/cargo/openssl-sys-0.9.61
    
    build(deps): bump openssl-sys from 0.9.60 to 0.9.61

commit 38e3173736009bccfe5c8aa5a269af34c0da199a
Merge: 3c06a7c51 b1e6e6b31
Author: Nikhil Benesch <nikhil.benesch@gmail.com>
Date:   Tue Mar 16 11:53:01 2021 -0400

    Merge pull request #6085 from MaterializeInc/dependabot/cargo/tokio-1.3.0
    
    build(deps): bump tokio from 1.2.0 to 1.3.0

commit 3c06a7c51b53dbeb4f4a10bb6789e114db12ca1a
Merge: b68bf8114 e1992570d
Author: Nikhil Benesch <nikhil.benesch@gmail.com>
Date:   Tue Mar 16 11:52:23 2021 -0400

    Merge pull request #6081 from MaterializeInc/dependabot/cargo/libc-0.2.89
    
    build(deps): bump libc from 0.2.88 to 0.2.89

commit b68bf8114ff677b1799bb88803b6d21f5346ca4b
Merge: 4a0c9bd5b 6b7bedb67
Author: Nikhil Benesch <nikhil.benesch@gmail.com>
Date:   Tue Mar 16 10:43:27 2021 -0400

    Merge pull request #6080 from benesch/doc-link-tests
    
    bin/doc: reject invalid doc links

commit 4a0c9bd5ba692bfeb43da6cff40d7c3e1d0d4f74
Author: Frank McSherry <fmcsherry@me.com>
Date:   Tue Mar 16 09:49:39 2021 -0400

    rev timely, differential, dogs^3 (#6091)

commit 4493e346cf9d833acf1ad154068b8e04bdb67358
Author: Ruchir Khaitan <ruchir0001@gmail.com>
Date:   Tue Mar 16 09:37:33 2021 -0400

    dataflow: remove can_close_timestamp (#6070)
    
    dataflow: remove can_close_timestamp
    
    The logic for deciding whether or not a timestamp can be closed is now identical across
    source implementations. Broadly:
    
    A worker can close a timestamp t if all of the source partitions it is responsible for
    can close t, which happens once we have read at an offset greater than the one
    assigned as the final offset bound to t across all of the worker's partitions.

commit ded15e200e3cbc5b768c0880cc2325c6cdd43604
Author: dependabot[bot] <49699333+dependabot[bot]@users.noreply.github.com>
Date:   Mon Mar 15 22:10:24 2021 +0000

    build(deps): bump openssl-sys from 0.9.60 to 0.9.61
    
    Bumps [openssl-sys](https://github.com/sfackler/rust-openssl) from 0.9.60 to 0.9.61.
    - [Release notes](https://github.com/sfackler/rust-openssl/releases)
    - [Commits](https://github.com/sfackler/rust-openssl/compare/openssl-sys-v0.9.60...openssl-sys-v0.9.61)
    
    Signed-off-by: dependabot[bot] <support@github.com>

commit b1e6e6b31c755e4f5d1b37e348814fcda2bf1484
Author: dependabot[bot] <49699333+dependabot[bot]@users.noreply.github.com>
Date:   Mon Mar 15 22:09:35 2021 +0000

    build(deps): bump tokio from 1.2.0 to 1.3.0
    
    Bumps [tokio](https://github.com/tokio-rs/tokio) from 1.2.0 to 1.3.0.
    - [Release notes](https://github.com/tokio-rs/tokio/releases)
    - [Commits](https://github.com/tokio-rs/tokio/compare/tokio-1.2.0...tokio-1.3.0)
    
    Signed-off-by: dependabot[bot] <support@github.com>

commit f03725259ff451fb7e7c09539131bcb51de3a9ca
Author: dependabot[bot] <49699333+dependabot[bot]@users.noreply.github.com>
Date:   Mon Mar 15 22:09:10 2021 +0000

    build(deps): bump async-trait from 0.1.42 to 0.1.48
    
    Bumps [async-trait](https://github.com/dtolnay/async-trait) from 0.1.42 to 0.1.48.
    - [Release notes](https://github.com/dtolnay/async-trait/releases)
    - [Commits](https://github.com/dtolnay/async-trait/compare/0.1.42...0.1.48)
    
    Signed-off-by: dependabot[bot] <support@github.com>

commit f33f4e48cfd6fcc3fa10340b34c8a54d0bfc05f7
Author: dependabot[bot] <49699333+dependabot[bot]@users.noreply.github.com>
Date:   Mon Mar 15 22:07:53 2021 +0000

    build(deps): bump regex-syntax from 0.6.22 to 0.6.23
    
    Bumps [regex-syntax](https://github.com/rust-lang/regex) from 0.6.22 to 0.6.23.
    - [Release notes](https://github.com/rust-lang/regex/releases)
    - [Changelog](https://github.com/rust-lang/regex/blob/master/CHANGELOG.md)
    - [Commits](https://github.com/rust-lang/regex/commits)
    
    Signed-off-by: dependabot[bot] <support@github.com>

commit e1992570d450df35481715a8235cdc5be902b9a1
Author: dependabot[bot] <49699333+dependabot[bot]@users.noreply.github.com>
Date:   Mon Mar 15 22:07:13 2021 +0000

    build(deps): bump libc from 0.2.88 to 0.2.89
    
    Bumps [libc](https://github.com/rust-lang/libc) from 0.2.88 to 0.2.89.
    - [Release notes](https://github.com/rust-lang/libc/releases)
    - [Commits](https://github.com/rust-lang/libc/compare/0.2.88...0.2.89)
    
    Signed-off-by: dependabot[bot] <support@github.com>

commit 6b7bedb67a1fc36fc4fa01434102a030246faeee
Author: Brandon W Maister <bwm@materialize.io>
Date:   Mon Mar 8 10:46:30 2021 -0500

    bin/doc: reject invalid doc links
    
    This commit teaches bin/doc to reject Rust documentation comments with
    broken intra-doc links. To facilitate this, all existing broken links
    are also fixed in this commit.
    
    To prevent unexpected breakage to the deploy job, CI now verifies that
    `bin/doc` and `bin/doc --document-private-items` both succeed on every
    PR. The pre-push hook now checks `bin/doc`, but not `bin/doc
    --document-private-items`, which seems like a good balance of catching
    most errors without adding undue latency to the pre-push hook.
    
    Co-authored-by: Nikhil Benesch <nikhil.benesch@gmail.com>

commit 7282293960368019d583163b2f06545b1379c0a1
Author: Brandon W Maister <bwm@materialize.io>
Date:   Fri Mar 12 15:36:48 2021 -0500

    Binding by-ref and by-move in the same pattern is now stable (#6067)

commit 0379adfc4cb79902a805e02f957892ba0119f9b9
Author: Eli Lindsey <eli@siliconsprawl.com>
Date:   Fri Mar 12 15:09:22 2021 -0500

    run existing tds against different kafka versions

commit a08627e4e74b024eefe1f856677e377526963598
Merge: 5c05c16fa ec050335f
Author: Philip Stoev <pstoev@materialize.io>
Date:   Fri Mar 12 20:48:57 2021 +0200

    Merge pull request #6052 from philip-stoev/testdrive-regexp
    
    Allow regular expression substitutions in testdrive tests

commit 5c05c16fa9d41d5eb10940882c0b4cc895c68d8c
Author: Chris Golden <551285+cirego@users.noreply.github.com>
Date:   Fri Mar 12 10:08:19 2021 -0800

    Decode gzip encoded S3 sources (#6048)
    
    Adds a COMPRESSION specification to S3 sources that will be used to
    determine if and how S3 objects should be decompressed. Currently only
    supports {NONE | GZIP} algorithms.
    
    Fixes #5970
    Fixes #5904

commit d2c8f2b27ab41e5d5b06ed5b1dc4d19187709a2f
Author: Chris Golden <551285+cirego@users.noreply.github.com>
Date:   Fri Mar 12 09:20:27 2021 -0800

    Design Document for Reading Compressed Objects from S3 (#6057)

commit a7691a487ad3224dae8bb3a4483dfba12d4737b9
Author: Frank McSherry <fmcsherry@me.com>
Date:   Fri Mar 12 11:19:16 2021 -0500

    aggregate message counts on each edge (#6074)

commit 7dbb599109881679e10f70632a49588592aaa156
Author: Andi Wang <5522362+wangandi@users.noreply.github.com>
Date:   Fri Mar 12 09:59:59 2021 -0500

    Predicate pushdown should recursively descend on the base of a union. (#6072)

commit c62769c595110a9cc6becc5864a5350904fb12c4
Author: Frank McSherry <fmcsherry@me.com>
Date:   Fri Mar 12 08:29:05 2021 -0500

    Change BareSource(x) to LocalBareSource (#6073)

commit 843ca3f80cbf2a9c94f4ad150624be0afb8203e7
Author: Aljoscha Krettek <aljoscha.krettek@gmail.com>
Date:   Fri Mar 12 09:24:56 2021 +0100

    sql: add right string function (#5966)
    
    Closes #5328

commit f44a228409bca5842f0180b2f2fc4506c14e13f3
Merge: 766df31c2 17354ca40
Author: Eli Lindsey <eli@siliconsprawl.com>
Date:   Thu Mar 11 19:04:01 2021 -0500

    Merge pull request #6071 from elindsey/notsoautocommit
    
    allow override of librdkafka enable.auto.commit

commit 766df31c2c9ac8defe87be069ef3738dcc3c00bc
Author: Frank McSherry <fmcsherry@me.com>
Date:   Thu Mar 11 19:00:36 2021 -0500

    Correct source identifiers in dataflow optimization (#6066)
    
    * Correct source identifiers in dataflow optimization
    
    * Fuse linear operators to non-trivial expressions
    
    * Use the old typ for the `Get`.
    
    Co-authored-by: Brennan Vincent <brennan@materialize.io>

commit 17354ca4091a59fc7ac81e0c93762772be80fa62
Author: Eli Lindsey <eli@siliconsprawl.com>
Date:   Thu Mar 11 18:12:09 2021 -0500

    allow override of librdkafka enable.auto.commit

commit 32f54bdadb44400e634f2d58738f71859e60ac6d
Author: Micole Sudberg <micole.sudberg@gmail.com>
Date:   Wed Mar 10 18:45:15 2021 -0500

    (docs) AT TIME ZONE and TIMEZONE functions.

commit e5c4b0adb1c4f4123d9537ce27db3cba85a246e0
Author: Jessica Laughlin <JLDLaughlin@users.noreply.github.com>
Date:   Thu Mar 11 16:53:38 2021 -0500

    sql: multi-partitioned Kafka start_offsets (#5960)
    
    Allows users to indicate a different start offset for each of a
    topic's partitions. This looks like:
        CREATE SOURCE ... WITH (start_offset=[1, 2, ...])
    
    Note: this is a little quirky! If only one start offset is provided,
    this offset will only be applied to the first partition, not all
    partitions. All partitions without a specified offset will start
    at 0. If too many offsets are accidentally supplied, new partitions
    that come online will be incorrectly truncated.

commit 7efc26a7975059f0709efe3b1ce111300f247c92
Author: Jessica Laughlin <JLDLaughlin@users.noreply.github.com>
Date:   Thu Mar 11 16:43:44 2021 -0500

    dbt-materialize: fix catalog query (#6068)
    
    In a very thorough bug report (#6063), it was pointed out that the
    dbt-materialize adapter's catalog query performs a join between types
    in the mz_columns and mz_types system tables that returns NULL for
    aliased types. This faulty join causes columns to be without a type
    in the generated dbt docs.
    
    As suggested in the bug report, this change simply removes the join
    and uses the type present in mz_columns, instead.

commit 1ca546d3163fca36056b5a546e330b7943cba31e
Merge: 3d0380127 9235ba9bc
Author: Ruchir Khaitan <ruchir0001@gmail.com>
Date:   Thu Mar 11 13:31:38 2021 -0500

    Merge pull request #6053 from ruchirK/simpler-sourceinfo
    
    refactor SourceInfo trait to remove buffer_message

commit 3d0380127a1ae561b21ccff5d92eb19cfb3dcaab
Merge: ae288db04 6d7e1b37b
Author: Eli Lindsey <eli@siliconsprawl.com>
Date:   Thu Mar 11 13:12:33 2021 -0500

    Merge pull request #6065 from elindsey/design2
    
    add title section to design doc

commit 6d7e1b37bd0f2afad246a091c2420cb6acde2677
Author: Eli Lindsey <eli@siliconsprawl.com>
Date:   Thu Mar 11 12:59:34 2021 -0500

    add title section to design doc

commit ae288db04f9224c0738882fc45896e40e2b4624b
Merge: 10b9aa920 b84c530ab
Author: Philip Stoev <pstoev@materialize.io>
Date:   Thu Mar 11 19:05:43 2021 +0200

    Merge pull request #6060 from philip-stoev/kafka-matrix
    
    Explicitly remove containers between phases of the kafka-matrix test …

commit 4f69bad699817193546c4a8c1aebdd0bbfc43f16
Merge: 255ccf005 80a0776f2
Author: Micole Sudberg <micole.sudberg@gmail.com>
Date:   Thu Mar 11 11:00:38 2021 -0500

    (doc) updates

commit 10b9aa920f5364446b95759ee7514008c1807ea9
Author: Andreas Fuchs <asf@materialize.com>
Date:   Thu Mar 11 10:55:00 2021 -0500

    Property-test row packing (#5911)
    
    This change introduces a new property test for packing arbitrary combinations of (recursively nested) Datums into Rows and unpacking them again.
    
    It also adds some meta-tests where we ensure that the functionality used by the property tester does in fact yield correctly property-testable values.

commit 255ccf005220f1085e2c3a9a138afe7617e1fd02
Author: Micole Sudberg <micole.sudberg@gmail.com>
Date:   Thu Mar 11 10:50:07 2021 -0500

    Simplified examples.

commit 9fd9c952946a2baf9c90be8958e91ab42576b243
Author: Micole Sudberg <micole.sudberg@gmail.com>
Date:   Thu Mar 11 10:13:15 2021 -0500

    Opportunistically added DROP TYPE and SHOW TYPES to release notes. Updated DROP INDEX to clarify differences from typical primary indexes and potential issues resulting from removal of primary index.

commit 41cc30e16f77219d563a3175553f17e29e064bb1
Merge: 578d6e6bc 3db31df14
Author: Sean Loiselle <sean@materialize.io>
Date:   Thu Mar 11 09:33:43 2021 -0500

    Merge pull request #6019 from sploiselle/int-literal-promotion
    
    Int literal promotion + substr refactor

commit 578d6e6bc7d7b24c7790d3669773952b6c027861
Merge: c2b1d36b9 bcca77507
Author: Philip Stoev <pstoev@materialize.io>
Date:   Thu Mar 11 12:32:47 2021 +0200

    Merge pull request #6061 from philip-stoev/persistent-tables-test
    
    Simple test for table persistence

commit bcca77507d64d7fa0e26b63e9cde75207a0c0643
Author: Philip Stoev <pstoev@materialize.io>
Date:   Tue Mar 2 12:19:00 2021 +0100

    Simple test for table persistence #5762

commit b84c530ab473810e1dee945376076313c6f76fe7
Author: Philip Stoev <pstoev@materialize.io>
Date:   Thu Mar 11 09:33:22 2021 +0100

    Explicitly remove containers between phases of the kafka-matrix test #5968

commit 9235ba9bc425bfbb4292380d9fffad2027454c7d
Author: Ruchir Khaitan <ruchir0001@gmail.com>
Date:   Wed Mar 10 09:16:02 2021 -0500

    dataflow: remove the buffer_message trait from SourceInfo
    
    Note that previously, Kafka sources were somewhat "intelligent" in that they could
    detect when the read cursor for a partition was past matching a potential window
    of [lower, upper) offsets for a timestamp t and thus would automatically close t
    for that partition. Kafka sources no longer do that, and have to observe (aka, be
    able to timestamp a message at an offset >= upper) before the timestamp gets closed.
    
    This should have no effect on the current implementation of RT sources, and it affects
    BYO sources in that the consistency topic has to provide some timestamp information
    at an offset x before timestamps assigned to offsets < x can be closed. This change
    required also changing a testdrive test to provide some additional timestamping information
    before selecting from a materialized source.

commit c2b1d36b954ed590f0867db68a8a03914c24953c
Merge: fbdfce511 39f200dfc
Author: Petros Angelatos <petrosagg@gmail.com>
Date:   Wed Mar 10 22:32:48 2021 +0100

    Merge pull request #6051 from petrosagg/embed-tini
    
    docker: embed tini init process in our images

commit fbdfce511a7d2d7dbead88b30387f1232394d60f
Merge: a8ba82249 0b728a8bb
Author: Nikhil Benesch <nikhil.benesch@gmail.com>
Date:   Wed Mar 10 16:03:51 2021 -0500

    Merge pull request #6029 from MaterializeInc/dependabot/cargo/serde-1.0.124
    
    build(deps): bump serde from 1.0.123 to 1.0.124

commit a8ba822496b73032f53ee17875e8ae79a489e187
Merge: 9b1c89e91 a65d24d4e
Author: Andreas Fuchs <asf@materialize.com>
Date:   Wed Mar 10 15:43:24 2021 -0500

    Merge pull request #6043 from antifuchs/asf/#5894--mz_sleep
    
    Add a mz_internal.mz_sleep(N) function

commit 9b1c89e9182200719e8dfacf4a380313f4f7ef2b
Merge: ffa87ef06 aa32678ec
Author: Eli Lindsey <eli@siliconsprawl.com>
Date:   Wed Mar 10 15:19:18 2021 -0500

    Merge pull request #5988 from elindsey/design
    
    draft of design doc process

commit ffa87ef06885cfc45a25bd854a251349479befcb
Author: Chris Golden <551285+cirego@users.noreply.github.com>
Date:   Wed Mar 10 12:08:38 2021 -0800

    Raise Dataflow errors for simple protobuf and avro (#5995)
    
    * Raise Dataflow errors for simple protobuf and avro
    
    We don't have any tests, at the moment, that are failing due to this
    change because there are no tests for this code path. Still need to
    update our tests for this code path.
    
    * Test error streams for corrupted protobuf messages
    
    Add an option to testdrive's ingest-topic command that enables
    corrupting messages in an encoding aware fashion (currrently just XORs
    the data with itself, which corrupts most things). The implementation of
    each corruption is left to the transcoder.
    
    * Add testdrive cases for Avro decode errors

commit 84bc0a6f4efd78f3220689eef2964c95f505adbd
Author: Micole Sudberg <micole.sudberg@gmail.com>
Date:   Wed Mar 10 15:06:08 2021 -0500

    More examples + use consistent phrasing for all DROP commands.

commit 3231c6ad46984786a766b5485cef04307a4a40a7
Author: Ruchir Khaitan <ruchir0001@gmail.com>
Date:   Wed Mar 10 08:55:41 2021 -0500

    dataflow: extract message handling functionality into its own func

commit 1ae6bb5a27c7109c032d8c0a22b783f2ca91745f
Author: Andy Hattemer <&@ruf.io>
Date:   Wed Mar 10 10:39:11 2021 -0500

    Route Quickstart link in Docs to Docs>Install (#6054)

commit a65d24d4ea66b05ec15d35c19ded0a66a1323c6a
Author: Andreas Fuchs <asf@materialize.com>
Date:   Tue Mar 9 14:32:26 2021 -0500

    Add a mz_catalog.mz_sleep(N) function
    
    This function has side-effects, and behaves slightly differently from
    pg_sleep(N): Where the postgres function returns a `void` type, this
    function just returns the time at which sleeping finished.
    
    That saves us from implementing evaluation / compilation rules for
    void types, and weirdly enough it doesn't seem require us to declare
    a function purely-side-effect-y to prevent it being optimized away.

commit 39f200dfcd4629b3d439a16191fa436a277f1893
Author: Petros Angelatos <petrosagg@gmail.com>
Date:   Wed Mar 10 13:19:10 2021 +0100

    docker: embed tini init process in our images
    
    in production there isn't the equivalent of Docker's `--init` flag so we need to handle this
    internally
    
    Signed-off-by: Petros Angelatos <petrosagg@gmail.com>

commit ec050335fea76af6c4da04ffb3c5d6c3f1e32e5a
Author: Philip Stoev <pstoev@materialize.io>
Date:   Wed Mar 10 13:37:48 2021 +0100

    Allow regular expression substitutions in testdrive tests

commit 4f934b163a9dde0a2252549f79debe8456b00e6a
Author: Chris Golden <551285+cirego@users.noreply.github.com>
Date:   Tue Mar 9 23:21:05 2021 -0800

    Rename test/benchmark to test/bench (#6049)
    
    The preference is for shorter names where possible.
    
    Old issue from one of the original PRs for the avro-upsert
    benchmark. I don't know of any additional PRs planned,
    so now is a good time to make this change,

commit d195a1a5920a49de7bba4c41e8e84129c0797eb2
Merge: e9275d144 f6f234855
Author: Philip Stoev <pstoev@materialize.io>
Date:   Wed Mar 10 09:18:14 2021 +0200

    Merge pull request #6038 from philip-stoev/kafka-matrix
    
    Matrix smoke test against various Kafka versions #5968

commit f6f2348554ba14820012c35c1f81b64057f51cc1
Author: Philip Stoev <pstoev@materialize.io>
Date:   Tue Mar 9 10:59:24 2021 +0100

    Matrix smoke test against various Kafka versions #5968

commit e9275d144e4be070517375c70e0cf6aab1e8e97e
Author: Chris Golden <551285+cirego@users.noreply.github.com>
Date:   Tue Mar 9 20:50:26 2021 -0800

    Add bashlike alt variable support to mzcompose (#6041)
    
    This enables something like the following:
    
        ${MZ_CHBENCH_SNAPSHOT:-kafka-data}${MZ_CHBENCH_SNAPSHOT:+/kafka-data}
    
    Where the above either returns `kafka-data` or
    `${MZ_CHBENCH_SNAPSHOT}/kafka-data` but does not return
    `kakfa-data/kafka-data`.

commit 0b728a8bb31ab1f7a75facd5184cf121565e12d4
Author: dependabot[bot] <49699333+dependabot[bot]@users.noreply.github.com>
Date:   Wed Mar 10 04:28:22 2021 +0000

    build(deps): bump serde from 1.0.123 to 1.0.124
    
    Bumps [serde](https://github.com/serde-rs/serde) from 1.0.123 to 1.0.124.
    - [Release notes](https://github.com/serde-rs/serde/releases)
    - [Commits](https://github.com/serde-rs/serde/compare/v1.0.123...v1.0.124)
    
    Signed-off-by: dependabot[bot] <support@github.com>

commit 2894adb10dc4c3323ac6bd62677f6584650b3fb5
Merge: d565aea9f 5e9e85438
Author: Nikhil Benesch <nikhil.benesch@gmail.com>
Date:   Tue Mar 9 23:24:29 2021 -0500

    Merge pull request #5936 from MaterializeInc/dependabot/cargo/tar-0.4.33
    
    build(deps): bump tar from 0.4.32 to 0.4.33

commit d565aea9feab2fbe5e7c2507c0207ce4e62a0178
Merge: f55e948d4 213d949ca
Author: Nikhil Benesch <nikhil.benesch@gmail.com>
Date:   Tue Mar 9 23:23:59 2021 -0500

    Merge pull request #6030 from MaterializeInc/dependabot/cargo/csv-1.1.6
    
    build(deps): bump csv from 1.1.5 to 1.1.6

commit f55e948d4c6705c0a84d2bcdba3a19ca22344c56
Merge: ee748bec8 4b0ea1c8b
Author: Nikhil Benesch <nikhil.benesch@gmail.com>
Date:   Tue Mar 9 23:23:22 2021 -0500

    Merge pull request #6031 from MaterializeInc/dependabot/cargo/syn-1.0.62
    
    build(deps): bump syn from 1.0.60 to 1.0.62

commit ee748bec8f4cd253b529e8efd3ff68c59fa9ebe4
Merge: 6b803b674 a14e9c348
Author: Nikhil Benesch <nikhil.benesch@gmail.com>
Date:   Tue Mar 9 23:23:15 2021 -0500

    Merge pull request #6032 from MaterializeInc/dependabot/cargo/libc-0.2.88
    
    build(deps): bump libc from 0.2.86 to 0.2.88

commit 6b803b6747e172c7ebec32514d0929f764f0d238
Merge: d11f7f19e 2f0f7377f
Author: Nikhil Benesch <nikhil.benesch@gmail.com>
Date:   Tue Mar 9 23:23:07 2021 -0500

    Merge pull request #6033 from MaterializeInc/dependabot/cargo/hex-0.4.3
    
    build(deps): bump hex from 0.4.2 to 0.4.3

commit aa32678ec79b5efc30eb9721603f1c5303a0929c
Author: Eli Lindsey <eli@siliconsprawl.com>
Date:   Thu Mar 4 14:33:15 2021 -0500

    draft of design doc process

commit d11f7f19e4739f4e85003a307d5f1f1bdf47cf1d
Author: Chris Golden <551285+cirego@users.noreply.github.com>
Date:   Tue Mar 9 13:51:35 2021 -0800

    Fixup mzcompose gen-shortcuts (#6042)
    
    Compositions used to be a set of directory names, where each directory
    contained a composition. a811a31992 changed this set to be a dictionary
    mapping composition name to composition filename. Since the path is now
    the filename, use path.parent to get the directory for gen-shortcuts.
    
    Fixes #5981

commit 22ce54c67ece474419c0a29cb52c5eea808c5cd0
Author: Andi Wang <5522362+wangandi@users.noreply.github.com>
Date:   Tue Mar 9 10:46:14 2021 -0500

    Move predicate canonicalization transforms into canonicalize_predicate. (#6025)

commit 792935f676c1795c177074612247ea91ddc7968a
Merge: a58393cd6 71a1b046d
Author: Aljoscha Krettek <aljoscha.krettek@gmail.com>
Date:   Tue Mar 9 16:20:08 2021 +0100

    Merge pull request #6004 from aljoscha/5327-add-position-function
    
    sql: add position() string function

commit 71a1b046dcc3d750c70ecf7cd4e9a5532d316d21
Author: Aljoscha Krettek <aljoscha.krettek@gmail.com>
Date:   Thu Mar 4 17:35:43 2021 +0100

    sql: add position() string function

commit 41d886512d040333e9acc1b87cdb808bf154db84
Author: Aljoscha Krettek <aljoscha.krettek@gmail.com>
Date:   Wed Mar 3 21:51:39 2021 +0100

    sql: support special syntax of position() in parser
    
    Previously, we were not ably to parse position(a IN b).
    
    Now, we conform to Postgres behavior, which is to accept position(a IN
    b), reject position(a, b), but accept "position"(a, b).

commit a58393cd63e072212322246d33e8254ae30f75f1
Merge: bb3bb8868 a9251ea9e
Author: Micole Sudberg <micole@materialize.io>
Date:   Tue Mar 9 09:02:33 2021 -0500

    Merge pull request #6036 from msudberg/move-cdc
    
    (doc) Move CDC doc underneath Connect menu

commit bb3bb8868f0ff6cea464dfda5024d9a0d3ec6b14
Author: Ruchir Khaitan <ruchir0001@gmail.com>
Date:   Tue Mar 9 08:19:25 2021 -0500

    coord: persistent tables (#5762)
    
    This commit demonstrates an approach to persist table data across restarts of
    Materialize. The current approach is fairly-prototype level, but it supports
    creating / inserting into / dropping tables. It persists binary data into
    a append only file with 24 bytes of metadata:
    4 byte header, 8 byte timestamp, 8 byte diff and 4 bytes of row length
    followed by the row itself.

commit 976b7af84020c4ed49254167ba2ebfeab2959ed4
Author: Brandon W Maister <bwm@materialize.io>
Date:   Mon Mar 8 19:42:51 2021 -0500

    Increase inline storage of Row without changing inline size (#6026)
    
    SmallVec allows you to specify how much inline storage it should use before heap allocating. The
    `16` bytes value there seemed suspicious to me because it doesn't seem like the right number of free
    bytes necessary for any particular shape of "is overflowed" flag. Indeed, bumping it up to 23
    doesn't change the size from 32 bytes, the test passes with and without this change, but fails if I
    bump it up to 24.

commit a9251ea9e2caf3f847276af03ff36b6f3731ac55
Author: Micole Sudberg <micole.sudberg@gmail.com>
Date:   Mon Mar 8 18:09:56 2021 -0500

    (doc) Move CDC doc underneath Connect menu

commit f5e83a26c5d14d2cd27d50b7399b42ce288e68e5
Author: Chris Golden <551285+cirego@users.noreply.github.com>
Date:   Mon Mar 8 15:04:37 2021 -0800

    Simplify avro-upsert mzcompose by using env substitution (#6014)
    
    Now that we can substitute environment variables into the definition of
    sub-workflows, we can eliminate much of the duplication the avro-upsert
    benchmark file. This change allows for benchmark-large,
    benchmark-medium and benchmark-ci to share the same workflow
    definition, but with different parameters.
    
    Also, rename `benchmark` to `benchmark-large` so that all 3 benchmark
    names are consistent.

commit 2f0f7377f123f367e41b65c5d5cdba9bd556959c
Author: dependabot[bot] <49699333+dependabot[bot]@users.noreply.github.com>
Date:   Mon Mar 8 22:07:27 2021 +0000

    build(deps): bump hex from 0.4.2 to 0.4.3
    
    Bumps [hex](https://github.com/KokaKiwi/rust-hex) from 0.4.2 to 0.4.3.
    - [Release notes](https://github.com/KokaKiwi/rust-hex/releases)
    - [Commits](https://github.com/KokaKiwi/rust-hex/compare/v0.4.2...v0.4.3)
    
    Signed-off-by: dependabot[bot] <support@github.com>

commit a14e9c348dcd22c7e78c3dd9cfc686e7a8a2ccf1
Author: dependabot[bot] <49699333+dependabot[bot]@users.noreply.github.com>
Date:   Mon Mar 8 22:06:41 2021 +0000

    build(deps): bump libc from 0.2.86 to 0.2.88
    
    Bumps [libc](https://github.com/rust-lang/libc) from 0.2.86 to 0.2.88.
    - [Release notes](https://github.com/rust-lang/libc/releases)
    - [Commits](https://github.com/rust-lang/libc/compare/0.2.86...0.2.88)
    
    Signed-off-by: dependabot[bot] <support@github.com>

commit 4b0ea1c8b4057b68d43dc2082f9abc27855734b2
Author: dependabot[bot] <49699333+dependabot[bot]@users.noreply.github.com>
Date:   Mon Mar 8 22:06:14 2021 +0000

    build(deps): bump syn from 1.0.60 to 1.0.62
    
    Bumps [syn](https://github.com/dtolnay/syn) from 1.0.60 to 1.0.62.
    - [Release notes](https://github.com/dtolnay/syn/releases)
    - [Commits](https://github.com/dtolnay/syn/compare/1.0.60...1.0.62)
    
    Signed-off-by: dependabot[bot] <support@github.com>

commit 213d949ca23c713362548a42a54e83de158c9543
Author: dependabot[bot] <49699333+dependabot[bot]@users.noreply.github.com>
Date:   Mon Mar 8 22:05:49 2021 +0000

    build(deps): bump csv from 1.1.5 to 1.1.6
    
    Bumps [csv](https://github.com/BurntSushi/rust-csv) from 1.1.5 to 1.1.6.
    - [Release notes](https://github.com/BurntSushi/rust-csv/releases)
    - [Commits](https://github.com/BurntSushi/rust-csv/compare/1.1.5...1.1.6)
    
    Signed-off-by: dependabot[bot] <support@github.com>

commit 939a19d9731bd5e7be70eec05dd6361733c4795c
Author: Andi Wang <5522362+wangandi@users.noreply.github.com>
Date:   Mon Mar 8 16:58:42 2021 -0500

    Have fusion and elision for join happen in the same transform. Same for map. (#6023)

commit c5b67ba6fa1056105ef7199c944a46817a05ae1d
Merge: bd1d7f106 bbd80d7cd
Author: Matt Jibson <matt.jibson@gmail.com>
Date:   Mon Mar 8 14:25:02 2021 -0700

    Merge pull request #6005 from mjibson/tail-warnings
    
    doc: tail warnings

commit bd1d7f106750b7342a43565b99708b730bd193c1
Merge: 201f7d982 8e52d7bac
Author: Andreas Fuchs <asf@boinkor.net>
Date:   Mon Mar 8 16:07:47 2021 -0500

    Merge pull request #5939 from antifuchs/asf/#4584/message-counts
    
    Surface channel utilization in mz_message_counts and in the /memory graph view.

commit 8e52d7baca666a324dcf0d78c79d1d5ebe926f66
Author: Andreas Fuchs <asf@materialize.com>
Date:   Thu Mar 4 17:28:44 2021 -0500

    Add message counts to the /memory visualization
    
    This adds a little annotation to the channels/edges that have seen
    traffic, stating how many messages were sent over the channel, with
    dashed lines indicating that no messages were counted on a channel
    yet.

commit 201f7d9826b26fb1420b501df0e3fed1ead8d16d
Author: Jessica Laughlin <JLDLaughlin@users.noreply.github.com>
Date:   Mon Mar 8 15:33:14 2021 -0500

    sql,sql-parser: parse array WITH options (#5953)
    
    This change enables us to parse statements like:
        WITH (with_option = [1, 2, ...])
    
    This is necessary to allow users to specify different Kafka offsets
    for each of a topic's partitions.

commit 21a18b7a9f2f9f4129ea55b936b5c48a86cb4097
Author: Andreas Fuchs <asf@materialize.com>
Date:   Mon Mar 1 13:03:22 2021 -0500

    Expose channel utilization metrics in mz_message_counts
    
    Keyed (id, worker), this table holds information about the messages any channel
    has received so far. The computation for sent/received message counts
    needs to happen in a somewhat convoluted manner, as we have to join to
    the correct (id, worker) pair on the channels stream (for received, we
    get the receiving worker's ID, and for sent, we get the sending
    worker's ID).
    
    Also, add (and fix) some tests that ensure the table gets properly populated.

commit 6577932b949b76b0b925db2428a8bdf71f5e71ef
Author: Andreas Fuchs <asf@materialize.com>
Date:   Tue Mar 2 13:25:36 2021 -0500

    Add a startup check that ensures all builtins have unique global IDs
    
    Now, the server refuses to initialize/start when any global IDs are
    duplicates of another field's.
    
    This (and the failing tests that would result) will catch a mistake I
    when I worked on this PR: Having any duplicate global IDs anywhere
    makes various internal bits complain (assuming the fields they're
    attached to are data types they're not, etc).

commit 1e045514f0cee644203feaea4625d9a3a619828c
Author: Chris Golden <551285+cirego@users.noreply.github.com>
Date:   Mon Mar 8 11:58:02 2021 -0800

    Enable variable substitution in sub workflows (#6012)
    
    c2c060e665a2971e89c0c2dff441093017e2ed77 added the ability for sub workflows to
    inherit environment variables from parent workflows but only during the
    run command itself. mzcompose variable substitution still only happened
    when first loading the composition.
    
    This commit gives sub workflows the ability to read and/or override
    environment variables from the parent (either can be specified) and then
    perform environment variable subsitution in the workflow spec itself.

commit 3db31df14edd10b26cd33916e52f2d846ce0a96c
Author: Sean Loiselle <sean@materialize.io>
Date:   Mon Mar 8 13:59:34 2021 -0500

    parser: treat non-zero negative numeral literals as intrinsically negative

commit 04145d235444e1ecc473d4ac4c649d8536f89a1c
Author: Sean Loiselle <sean@materialize.io>
Date:   Sun Mar 7 16:55:40 2021 -0500

    sql: refactor substr to use char_indices

commit 947e8a1b1239660bdd7f52d2290b7cebf997e498
Merge: e0d118fde 17b85f5f2
Author: Petros Angelatos <petrosagg@gmail.com>
Date:   Mon Mar 8 19:41:53 2021 +0100

    Merge pull request #6016 from petrosagg/jsonb-error
    
    expr: don't silently convert invalid json to Null

commit bbd80d7cdbf17d7340e11f4a40c9ca4ff8bf1f83
Author: Matt Jibson <matt.jibson@gmail.com>
Date:   Fri Mar 5 10:56:31 2021 -0700

    doc: document TAIL with COPY
    
    Fixes #5946

commit 43ba42e1697c60f94eb4a3476c143326adde772d
Author: Matt Jibson <matt.jibson@gmail.com>
Date:   Fri Mar 5 10:45:34 2021 -0700

    pgwire: send a warning on possible buffered TAIL use
    
    Closes #5950

commit 17b85f5f2f6c0c498eeba1e0547d2374819f3dc6
Author: Petros Angelatos <petrosagg@gmail.com>
Date:   Mon Feb 22 12:27:14 2021 +0100

    expr: don't silently convert invalid json to Null
    
    fixes #5829
    
    Signed-off-by: Petros Angelatos <petrosagg@gmail.com>

commit e0d118fde96e47ec9509d8bf94697978a3818ee1
Merge: cf5f1ab31 f33d914a8
Author: Brandon W Maister <bwm@materialize.io>
Date:   Mon Mar 8 11:27:30 2021 -0500

    Merge pull request #6011 from quodlibetor/avro-refactor
    
    Break up interchange::avro into constituent modules

commit f33d914a877947663277695e9809687e9de8e4bf
Author: Brandon W Maister <bwm@materialize.io>
Date:   Fri Mar 5 16:54:53 2021 -0500

    remove dead function
    
    The tighter pub bounds on the previous commit pointed out that this function is not used.

commit e51acf512fc58f147fa6269db73c04f4548dbafe
Author: Brandon W Maister <bwm@materialize.io>
Date:   Fri Mar 5 13:07:56 2021 -0500

    Break up interchange::avro into constituent modules
    
    This breaks up `avro.rs` (which already contained one inline module) into smaller modules that are
    each basically responsible for only one thing. There are no code changes, only copy/paste.
    
    "Basically" because our envelope logic currently depends on both encoding and decoding logic. There
    are definitely useful forward steps from this work to make the dependencies between the various
    parts stand on their own a bit more, but at least now there are explicit `use *` lines to document
    the interdependence.
    
    This change came about because I was trying to understand exactly how flexible our decode logic is
    and what would go into refactoring it to support injecting it into our upsert operator, and the
    functionality for all these basically unrelated thigns were interwoven.

commit cf5f1ab31dae373912942ce3073f6a999a90d402
Author: Brandon W Maister <bwm@materialize.io>
Date:   Mon Mar 8 09:09:38 2021 -0500

    td: Improve and correct progress messages in s3 sqs notification test (#6013)

commit a2011bc2923672060a303f1209ca399488ab835d
Merge: 148440965 219b879a3
Author: Philip Stoev <pstoev@materialize.io>
Date:   Mon Mar 8 09:37:52 2021 +0200

    Merge pull request #6020 from philip-stoev/github-5873
    
    Test case for crash fixed by #5873

commit 219b879a36bc4ea4897d27dc08fcc28f9f4d37c1
Author: Philip Stoev <pstoev@materialize.io>
Date:   Mon Mar 8 08:23:38 2021 +0100

    Test case for crash fixed by #5873

commit 3c06b86c8101c033324174d842c5659d72722224
Author: Sean Loiselle <sean@materialize.io>
Date:   Sun Mar 7 12:18:45 2021 -0500

    sql: treat int literals that exceed i32's limit as int64

commit 14844096530f6dc83e56b0f97417861a50c53ad9
Author: Andy Hattemer <&@ruf.io>
Date:   Sun Mar 7 13:13:37 2021 -0500

    doc: missing semicolon on sql example (#6017)
    
    Very minor missing semicolon in docs, but if I don't fix it while I'm on the page I'll probably forget about it.

commit 8ef46c13bcbac05e668eda7f68c27c3be65e619d
Author: Andi Wang <5522362+wangandi@users.noreply.github.com>
Date:   Fri Mar 5 16:54:18 2021 -0500

    Optimization: Fix pushing down single-input predicates from join equivalences. (#5873)
    
    Fix pushing single-input filters down from join equivalence classes.
    
    Improve ability to push predicates across to all inputs.
    
    Make equivalence canonicalization code common functions.
    
    ColumnKnowledge can remove isnulls that become spurious after being lifted
    for a DeltaQuery.

commit bb69fe9fcdaf4702b05c48d6b88f7439512089bf
Author: Chris Golden <551285+cirego@users.noreply.github.com>
Date:   Fri Mar 5 12:21:51 2021 -0800

    Use new version of black in CI builder image
    
    Apparently the two versions of black agreed on everything except
    for the code snippet in mzbench. This caused CI to pass and caused
    local lints to fail. Update CI to use the newer version and fix the lint
    failure.

commit e6a5e2ddb22667e4d77833d70276a4995c77a574
Merge: 20d1bb230 4cd221fbc
Author: Matt Jibson <matt.jibson@gmail.com>
Date:   Fri Mar 5 13:14:19 2021 -0700

    Merge pull request #6009 from mjibson/fix-cargo-doc
    
    *: fix some rustdoc warnings

commit 4cd221fbc708d9ef7ac791abd4d702807321d76e
Author: Matt Jibson <matt.jibson@gmail.com>
Date:   Fri Mar 5 12:06:52 2021 -0700

    *: fix some rustdoc warnings

commit 20d1bb230fe80bbf21946c98f19264ebe5ec2e25
Author: Brennan Vincent <brennan@materialize.io>
Date:   Fri Mar 5 13:02:08 2021 -0500

    state that ore is licensed under Apache 2.0 (#6003)

commit 480c69525b81abb6b3b0b19a4c45ca66d27a669d
Merge: c72343f6e 6f454d3bc
Author: Brandon W Maister <bwm@materialize.io>
Date:   Fri Mar 5 11:45:05 2021 -0500

    Merge pull request #6000 from quodlibetor/fix-js
    
    Get JS formatting fixed and a bit more stable

commit 6f454d3bcae1d05f811e14151afc1ec440cfbc4d
Author: Brandon W Maister <bwm@materialize.io>
Date:   Fri Mar 5 11:30:47 2021 -0500

    js: Update formatting because prettier considers .editorconfig

commit 0565c536e7e06771c6345d076819cff92d3a1b85
Author: Brandon W Maister <bwm@materialize.io>
Date:   Fri Mar 5 11:29:33 2021 -0500

    js: Update lockfile
    
    Trying to run the tests without doing this resulted in:
    
        yarn install --frozen-lockfile
        yarn install v1.22.5
        [1/4] 🔍  Resolving packages...
        error Your lockfile needs to be updated, but yarn was run with `--frozen-lockfile`.

commit da32fb6a34be596a8aed0e8ec2222489a4e26df7
Author: Brandon W Maister <bwm@materialize.io>
Date:   Fri Mar 5 11:28:32 2021 -0500

    js: Run yarn with a frozen lockfile
    
    Tests started failing because of a dependency upgrade, even though a lockfile exists.

commit c72343f6ecc384f2255b16b1dbe4d9a42280f230
Author: Brandon W Maister <bwm@materialize.io>
Date:   Fri Mar 5 10:49:47 2021 -0500

    Update editorconfig with our current standard line lengths (#5906)
    
    All code is generally configured to be max 100 chars wide, and as far as I can tell the majority of
    our markdown files are wrapped at column 80.

commit 32dc0d95f6e8f6231cfbc24d534c10ca1624bfe9
Author: Frank McSherry <fmcsherry@me.com>
Date:   Fri Mar 5 09:46:09 2021 -0500

    Narrow nonnull requirements for topk (#5999)
    
    * narrow nonnull requirements for topk
    
    * Add test case for #5984
    
    Co-authored-by: Philip Stoev <pstoev@materialize.io>

commit 8e919e12ca0a52e7450550c91de768472706f346
Author: Frank McSherry <fmcsherry@me.com>
Date:   Fri Mar 5 05:11:55 2021 -0500

    Collect DD fix for 5983 (#5989)
    
    * collect DD fix for 5983
    
    * Push test for #5983
    
    Co-authored-by: Philip Stoev <pstoev@materialize.io>

commit 603c4787169a40affe50c6afb4d79b65cba0fdd1
Author: Chris Golden <551285+cirego@users.noreply.github.com>
Date:   Thu Mar 4 21:03:47 2021 -0800

    Raise Dataflow errors on bad regex source inputs (#5993)
    
    * Raise Dataflow errors on bad regex source inputs
    
    Instead of skipping lines with non-UTF-8 text, produce a Dataflow Error
    to the error stream.
    
    Fixes #5992

commit 8b6a951c97eaebeb39211c1c3ac6ed72940d7fc6
Author: Chris Golden <551285+cirego@users.noreply.github.com>
Date:   Thu Mar 4 21:03:05 2021 -0800

    Add test for non UTF-8 characters in CSV files (#5994)
    
    * Add test for non UTF-8 characters in CSV files
    
    This commit also changes how we print the line number. Instead of using
    unwrap_or_default, print "unknown" when the line number is unset.

commit dba61fea9d6f0886ebff554b0353204ab47e1e25
Author: Chris Golden <551285+cirego@users.noreply.github.com>
Date:   Thu Mar 4 17:39:45 2021 -0800

    Document --mz-build-mode flag to mzcompose (#5969)

commit 8fbb087a1e05445a205ec5ba5e53de1f646d919f
Author: Chris Golden <551285+cirego@users.noreply.github.com>
Date:   Thu Mar 4 14:09:31 2021 -0800

    Report on errors when parsing CSV streams (#5974)
    
    When CSV parsing encounters an error, report the errors via the error stream. This will cause the error to propagate to the user when they try to use the data from the source. Add test drive scenario to validate that malformed CSVs show the proper error handling.
    
    Fixes #5923

commit d6e1b2e9621b42e3f9b8ae849afeb3843ba08977
Author: Brandon W Maister <bwm@materialize.io>
Date:   Thu Mar 4 12:51:02 2021 -0500

    Change negative multiplicity error message to be human-readable (#5977)
    
    The reason that negative multiplicity errors are a problem is easy to explain
    and understand, but the term "negative multiplicity" is confusing. Instead,
    just describe the problem that exists and the most likely reason it happened.
    
    This does not change the error message for any of the asserts around this
    subject users should never see them and negative multiplicity is more
    technically correct in their cases.

commit df1cd3289dfd4763a7d9f5340437d2a24375c954
Author: Andi Wang <5522362+wangandi@users.noreply.github.com>
Date:   Thu Mar 4 10:38:33 2021 -0500

    Add tips for making joins smaller. (#5979)

commit c355c88ad6c72b2057198b4b7c77a30440ead0d1
Merge: b6c3b3f19 8333983f1
Author: Nikhil Benesch <nikhil.benesch@gmail.com>
Date:   Wed Mar 3 20:52:24 2021 -0500

    Merge pull request #5980 from MaterializeInc/benesch-patch-1
    
    doc/developer: update location of timestamp assignment in testing guide

commit 8333983f1d8a3ac76d87c61d05f56ba4e8801d6d
Author: Nikhil Benesch <nikhil.benesch@gmail.com>
Date:   Wed Mar 3 19:18:44 2021 -0500

    doc/developer: update location of timestamp assignment in testing guide
    
    The timestamp assignment code now lives in coord, not dataflow.

commit b6c3b3f19753c5eb87a9eec9632bb50be6592de2
Author: Brandon W Maister <bwm@materialize.io>
Date:   Wed Mar 3 17:09:35 2021 -0500

    sqs s3 tests: Increase SQS validation timeout, and make it configurable (#5973)
    
    It's been a bit of time, but we still need to adjust the flakiness of this
    test.
    
    If 5 minutes isn't long enough we could try putting notification configuration
    and validation into the bucket-creation logic, allowing us to destroy and
    recreate buckets if the timeout elapses.
    
    https://buildkite.com/materialize/tests/builds/15303#30546767-23fd-4cc7-93c4-834137cd89c3

commit e17b3da9b94d6978725a813ef1488976f7c431d6
Merge: 8693060b3 e4206395a
Author: Brandon W Maister <bwm@materialize.io>
Date:   Wed Mar 3 16:20:01 2021 -0500

    Merge pull request #5976 from quodlibetor/mzcompose-lint-mz_dev
    
    Add a mzcompose lint requiring MZ_DEV=1 in the environment

commit e4206395afbd8f97b7f6dd1d115dd3a00cb6ebb9
Author: Brandon W Maister <bwm@materialize.io>
Date:   Wed Mar 3 16:06:28 2021 -0500

    Insert MZ_DEV into extra materialized service

commit 735a4560869167f612a8b9cb8c2cdf195be1fc25
Author: Brandon W Maister <bwm@materialize.io>
Date:   Wed Mar 3 15:33:53 2021 -0500

    Add a bin/mzcompose lint requiring MZ_DEV=1 in mzcompose files

commit 8693060b383825e31e7da12829f0ab68a449c826
Author: Brandon W Maister <bwm@materialize.io>
Date:   Wed Mar 3 15:52:19 2021 -0500

    Allow materialized to be run in dev mode in mzcompose files (#5958)
    
    This is useful when debugging, and unlike other use cases people have to know a
    lot to be able to trigger dev mode in mzcompose, making it unlikely to happen
    by accident there.

commit ba9f01632e4554082731e2c730bf7e65f315d78e
Author: Frank McSherry <fmcsherry@me.com>
Date:   Wed Mar 3 15:30:40 2021 -0500

    Reorganize linear join code (#5962)
    
    * Reorganize linear join code
    
    * remove clones
    
    * normalize variable names
    
    * rework initial joined state to ignore start_arr hint

commit 90e72262c49f696bbdb5167a49d66caae251a39f
Author: Chris Golden <551285+cirego@users.noreply.github.com>
Date:   Wed Mar 3 11:27:27 2021 -0800

    Show a real-time graph of worker  balance during mzbench (#5913)
    
    This PR is a continuation of #5912, demonstrating the capability to scrape system tables from materialize, write them to Kafka, ingest them into another materialize instance and, finally, generate a real-time graph of worker balance.

commit fc178d669c3afbff06cbd2b58af0a74928d9a735
Author: Chris Golden <551285+cirego@users.noreply.github.com>
Date:   Tue Mar 2 17:44:24 2021 -0800

    Two fixups for chbench ingest benchmark (#5942)
    
    * Remove extraneous single quotes
    
    In general, these quotes are not required. Additionally, this
    substitution is causing docker problems because it things that this is
    the name of a docker volume:
    
        ${MZ_CHBENCH_SNAPSHOT:-'./tmp'}
    
    (Docker sees the literal string "'./tmp'" instead of "./tmp").
    
    * Write peeker config file during ingest benchmark
    
    This unifies setup-ingest-benchmark and generate-snapshot as a single
    workflow called prepare-snapshot. The peeker config file is expected by
    both workflows. It used to be the case that generate-snapshot would do a
    lot more work, and that is why it was a distinct step from
    setup-ingest-benchmark. But now that the snapshot is based on archiving
    filesystems, these steps are equivalent.

commit 1aaf334e4ce05371880a4250c1c96c407d8aaa97
Author: Jessica Laughlin <JLDLaughlin@users.noreply.github.com>
Date:   Tue Mar 2 17:35:17 2021 -0500

    doc: add crates.io and PyPI notes (#5924)

commit 5e9e85438258ec21c53d7f1847e37b98c0f5c3d6
Author: dependabot[bot] <49699333+dependabot[bot]@users.noreply.github.com>
Date:   Tue Mar 2 21:03:58 2021 +0000

    build(deps): bump tar from 0.4.32 to 0.4.33
    
    Bumps [tar](https://github.com/alexcrichton/tar-rs) from 0.4.32 to 0.4.33.
    - [Release notes](https://github.com/alexcrichton/tar-rs/releases)
    - [Commits](https://github.com/alexcrichton/tar-rs/compare/0.4.32...0.4.33)
    
    Signed-off-by: dependabot[bot] <support@github.com>

commit 6f2dea07e01f4cab2a6fb1ac2448835d8144eaed
Merge: 18d8d6c51 2dada8626
Author: Brandon W Maister <quodlibetor@gmail.com>
Date:   Tue Mar 2 16:01:10 2021 -0500

    Merge pull request #5961 from quodlibetor/prepare-v0.7.2-dev
    
    Prepare v0.7.2 dev

commit 2dada8626d2d6491ff2ab0d6fca8a41cdecda64f
Author: Brandon W Maister <bwm@materialize.io>
Date:   Tue Mar 2 15:28:38 2021 -0500

    Prepare next phase of development: v0.7.2-dev

commit 56c867649cffef740bc88786c886100d29722453
Author: Brandon W Maister <bwm@materialize.io>
Date:   Tue Mar 2 15:25:58 2021 -0500

    release: v0.7.1-rc1

commit 18d8d6c51cb3877e6bcb660acd35cc70a33893ab
Merge: 00ce20dfc 0866633d6
Author: Nikhil Benesch <nikhil.benesch@gmail.com>
Date:   Tue Mar 2 15:23:41 2021 -0500

    Merge pull request #5954 from MaterializeInc/test-no-block
    
    Deflake and re-enable test_no_block

commit 00ce20dfc97b7ad4a7bed8794c3ce8c3cf2ecb04
Author: Brandon W Maister <bwm@materialize.io>
Date:   Tue Mar 2 15:18:16 2021 -0500

    Update grafana dashboard for new metrics (#5957)

commit 80a0776f2d33a48494bb6d82ac9bcc910118355b
Merge: d3988cb0a fb04f06b0
Author: Micole Sudberg <micole@materialize.io>
Date:   Tue Mar 2 12:44:43 2021 -0500

    Merge branch 'main' into 5373

commit d3988cb0a10dac67a7a0d8d8e42756b752c9f2bb
Author: Micole Sudberg <micole.sudberg@gmail.com>
Date:   Tue Mar 2 12:32:19 2021 -0500

    (doc) CASCADE | RESTRICT info for DROP TABLE and DROP INDEX

commit fb04f06b0147ba2790c72e234f99b1c628c08a7b
Merge: 898e5a647 004d0e0ad
Author: Eli Lindsey <eli@siliconsprawl.com>
Date:   Tue Mar 2 12:25:55 2021 -0500

    Merge pull request #5564 from elindsey/nonblocking
    
    gate sink updates if an existing consistency topic is detected

commit 0866633d6a2f9f97fd282c725faa1c2416020af0
Author: Nikhil Benesch <nikhil.benesch@gmail.com>
Date:   Tue Mar 2 11:54:22 2021 -0500

    sql: remove sync filesystem calls from purify
    
    Blocking inside of an async function is bad for performance (and can
    lead to deadlock in the worst case). Wrap the sync filesystem calls in
    block_in_place so Tokio is aware of the blocking that is occuring.

commit b8328f1f011f6d5c1fe9b98ba2b44a812066d4fa
Author: Nikhil Benesch <nikhil.benesch@gmail.com>
Date:   Tue Mar 2 11:32:04 2021 -0500

    sql: catch more kafka source errors optimistically
    
    Try a bit harder to catch misconfigured Kafka clusters during source
    purification. Now we wait for up to 1s for a metadata request to
    succeed, which surfaces connection errors more reliably.
    
    This still isn't perfect, as connections can easily take more than 1s to
    fail. But it at least catches the obvious typos where the specified host
    returns "connection refused" immediately, and therefore would have
    helped immensely with detecting the incorrect Kafka address in
    test_no_block (see last commit).

commit f0575bb09f8b013258d9a36be42c859156c1f0af
Author: Nikhil Benesch <nikhil.benesch@gmail.com>
Date:   Tue Mar 2 11:36:30 2021 -0500

    materialized: use correct kafka address in test_no_block
    
    In CI, this test needs to use a non-localhost address. Wire that up via
    a KAFKA_ADDRS environment variable. This will fix the test_no_block
    flakiness. (The reason for the flake is that `localhost:9092` has never
    resulted in a successful Kafka connection, but we recently got better at
    observing the failed connection in the short time window that we check
    for Kafka errors during `CREATE SOURCE`.)

commit 898e5a647fe8eb1d9f79bb3ee79e7105ec2c6462
Author: Brennan Vincent <brennan@materialize.io>
Date:   Tue Mar 2 11:34:05 2021 -0500

    Uncomment test_no_block, and `#[ignore]` it instead. (#5951)

commit dfe2a881f064f303571b2dcf559174f32dce51ed
Author: Brennan Vincent <brennan@materialize.io>
Date:   Tue Mar 2 07:39:29 2021 -0500

    Comment out test_no_block (#5947)

commit 0937befc49dc15ee653a6a397b585fca5fd6f613
Author: Frank McSherry <fmcsherry@me.com>
Date:   Tue Mar 2 05:22:25 2021 -0500

    Fuse LinearOperator into upsert (#5905)
    
    * fuse LinearOperator into upsert
    
    * temporal filter support
    
    * correct likely temporal filter bug
    
    * reduce indentation
    
    * add TODO items

commit 3dda2520e2897f4136d07dc1af87dded068dcb84
Author: Aljoscha Krettek <mail@aljoscha.dev>
Date:   Tue Mar 2 08:25:34 2021 +0100

    docs: update developer guide for latest confluent platform (#5922)

commit 004d0e0adda47ed77b249e8758c3f33600af5f76
Author: Eli Lindsey <eli@siliconsprawl.com>
Date:   Tue Feb 2 15:36:39 2021 -0500

    gate sinked updates if an existing consistency topic is detected
    
    If a sink is created and an existing consistency topic is detected, we
    attempt to read the latest commited timestamp and gate publishing until
    our own ts has passed it. This is used for exactly once - on restart an
    mz instance should re-bootstrap using the same timestamp history as the
    previous instance and only start publishing once it has 'caught up' to
    where the previous instance left off.

commit b85a8f474311ab2ae7efb84aa0f737d3a337d5ea
Author: Brennan Vincent <brennan@materialize.io>
Date:   Mon Mar 1 21:49:20 2021 -0500

    Move Debezium flattening out of special-cased logic and into planning (#5888)

commit b4516a1c1a8abf1a2ee73ab6f4944c0c95d3b9a7
Author: Chris Golden <551285+cirego@users.noreply.github.com>
Date:   Mon Mar 1 17:45:10 2021 -0800

    Add web interface to plot mzbench benchmark results (#5912)
    
    This commit adds perf-dash, an event-sourced application using Kafka, Materialize and Tornado-Web to build a real-time dashboard showing mzbench results in real time. It's a bit bare-bones at the moment but the concept is that all cloud-based benchmarks will upload these metrics to a central materialize / kafka cluster.
    
    If you're running mzbench, just load up localhost:8875 to watch the results stream in.
    
    Each run of a benchmark represents a unique set of parameters to test within a given benchmark ID. There are currently 3 different Kafka topics (benchmark run parameters, benchmark run start time, benchmark run end time). These 3 topics are then joined into 2 materialized views.
    
    A later pull request will be opened to move metric_verifier into perf-dash and incorporate that into chbench.
    
    This PR appears to duplicate some functionality from our Prometheus / Grafana dashboards. I didn't use Prometheus for a few reasons. First, Prometheus metrics are lossy and I wanted to be able to push the results to a persistent store (hence the choice of Kafka). Second, I wanted to have the dashboard update in real-time, as results come in. Third, I'm not sure how to build these visualizations using Grafana.

commit 4bca589007ecc4c93ffa4b2fbeeca9175792cfcb
Merge: 5e994dc2d 7755abe49
Author: Nikhil Benesch <nikhil.benesch@gmail.com>
Date:   Mon Mar 1 19:47:07 2021 -0500

    Merge pull request #5930 from MaterializeInc/dependabot/cargo/serde_json-1.0.64
    
    build(deps): bump serde_json from 1.0.62 to 1.0.64

commit 5e994dc2d90d13bc3bfd9ad563ed26b50e35dada
Merge: fa8ba7482 57749e051
Author: Nikhil Benesch <nikhil.benesch@gmail.com>
Date:   Mon Mar 1 19:32:58 2021 -0500

    Merge pull request #5935 from MaterializeInc/dependabot/cargo/differential-dataflow-cdb9b70
    
    build(deps): bump differential-dataflow from `e229d54` to `cdb9b70`

commit 7755abe49b5c938df2fee7b38806810bccac4466
Author: dependabot[bot] <49699333+dependabot[bot]@users.noreply.github.com>
Date:   Tue Mar 2 00:27:44 2021 +0000

    build(deps): bump serde_json from 1.0.62 to 1.0.64
    
    Bumps [serde_json](https://github.com/serde-rs/json) from 1.0.62 to 1.0.64.
    - [Release notes](https://github.com/serde-rs/json/releases)
    - [Commits](https://github.com/serde-rs/json/compare/v1.0.62...v1.0.64)
    
    Signed-off-by: dependabot[bot] <support@github.com>

commit fa8ba7482dbdd44ab089f13a0b6bc7e28467043b
Merge: 8840938d8 bc90a6f9d
Author: Nikhil Benesch <nikhil.benesch@gmail.com>
Date:   Mon Mar 1 19:21:55 2021 -0500

    Merge pull request #5933 from MaterializeInc/dependabot/cargo/rlimit-0.5.4
    
    build(deps): bump rlimit from 0.5.3 to 0.5.4

commit 8840938d84d544cb57e026681329de15694a9603
Author: Brandon W Maister <bwm@materialize.io>
Date:   Mon Mar 1 18:56:25 2021 -0500

    kafka prometheus: source_id needs to match our offset_max metric (#5940)
    
    In particular, we need to connect the the mz_partition_offset_ingested with
    mz_kafka_partition_offset_max, and so the kind of ID (SourceId vs
    SourceInstanceId) needs to be identical.
    
    With this we split the SourceInstanceId into its component parts, allowing us
    to do the work at query time, at the small cost of no reduction in cardinality.
    
    We can't just remove the source_instance part, because when if the same
    unmaterialized view is referenced by multiple downstream materialized views,
    each reader will get its own instance ID and offset, clobbering all others.

commit 57749e0519c70ecfff87b4852a5f865c916d3ffe
Author: dependabot[bot] <49699333+dependabot[bot]@users.noreply.github.com>
Date:   Mon Mar 1 23:47:30 2021 +0000

    build(deps): bump differential-dataflow from `e229d54` to `cdb9b70`
    
    Bumps [differential-dataflow](https://github.com/TimelyDataflow/differential-dataflow) from `e229d54` to `cdb9b70`.
    - [Release notes](https://github.com/TimelyDataflow/differential-dataflow/releases)
    - [Commits](https://github.com/TimelyDataflow/differential-dataflow/compare/e229d54f98224c59a72c83fee9192b03a2ce61aa...cdb9b709715caeaa20ea511eb83d4c4caedef8e4)
    
    Signed-off-by: dependabot[bot] <support@github.com>

commit bc90a6f9d65d3a9d6165db6b2c933fdf6af596de
Author: dependabot[bot] <49699333+dependabot[bot]@users.noreply.github.com>
Date:   Mon Mar 1 23:47:11 2021 +0000

    build(deps): bump rlimit from 0.5.3 to 0.5.4
    
    Bumps [rlimit](https://github.com/Nugine/rlimit) from 0.5.3 to 0.5.4.
    - [Release notes](https://github.com/Nugine/rlimit/releases)
    - [Commits](https://github.com/Nugine/rlimit/compare/v0.5.3...v0.5.4)
    
    Signed-off-by: dependabot[bot] <support@github.com>

commit f3f80c5d38c8eaeecbf89895bcee2a4044c3027b
Merge: c4796c6ca 365246c42
Author: Nikhil Benesch <nikhil.benesch@gmail.com>
Date:   Mon Mar 1 18:44:54 2021 -0500

    Merge pull request #5931 from MaterializeInc/dependabot/cargo/futures-0.3.13
    
    build(deps): bump futures from 0.3.12 to 0.3.13

commit c4796c6ca1224c62f76f5e4e974b601edad158dd
Merge: fa343fc52 70b6378c2
Author: Nikhil Benesch <nikhil.benesch@gmail.com>
Date:   Mon Mar 1 18:44:50 2021 -0500

    Merge pull request #5932 from MaterializeInc/dependabot/cargo/crossbeam-utils-0.8.3
    
    build(deps): bump crossbeam-utils from 0.8.2 to 0.8.3

commit fa343fc529bd80c5d9f6b911fa52f611b9a7037a
Merge: b66825358 1458996b1
Author: Nikhil Benesch <nikhil.benesch@gmail.com>
Date:   Mon Mar 1 18:44:43 2021 -0500

    Merge pull request #5934 from MaterializeInc/dependabot/cargo/tracing-0.1.25
    
    build(deps): bump tracing from 0.1.23 to 0.1.25

commit b668253581716a3b306ca272ce942c00e3f55364
Merge: 243c2fef9 6934f8f65
Author: Nikhil Benesch <nikhil.benesch@gmail.com>
Date:   Mon Mar 1 18:44:29 2021 -0500

    Merge pull request #5937 from MaterializeInc/dependabot/cargo/reqwest-0.11.1
    
    build(deps): bump reqwest from 0.11.0 to 0.11.1

commit 243c2fef946ed34d0270e2b90ef3abee7f0237b6
Merge: 553519282 82c594eee
Author: Brandon W Maister <bwm@materialize.io>
Date:   Mon Mar 1 17:15:15 2021 -0500

    Move chbench kafka directory back into Docker (#5928)
    
    This ensures that the existing clean up logic works correctly and deletes
    previous runs on re-used hardware.
    
    It also guarantees that the data goes into the docker volumes on our EC2
    instances, which are significantly larger than the root volumes.

commit 6934f8f65b08d384937a68c9355d72231b0fe774
Author: dependabot[bot] <49699333+dependabot[bot]@users.noreply.github.com>
Date:   Mon Mar 1 22:06:45 2021 +0000

    build(deps): bump reqwest from 0.11.0 to 0.11.1
    
    Bumps [reqwest](https://github.com/seanmonstar/reqwest) from 0.11.0 to 0.11.1.
    - [Release notes](https://github.com/seanmonstar/reqwest/releases)
    - [Changelog](https://github.com/seanmonstar/reqwest/blob/master/CHANGELOG.md)
    - [Commits](https://github.com/seanmonstar/reqwest/compare/v0.11.0...v0.11.1)
    
    Signed-off-by: dependabot[bot] <support@github.com>

commit 1458996b141502369933d2321c263b3c993d0ecf
Author: dependabot[bot] <49699333+dependabot[bot]@users.noreply.github.com>
Date:   Mon Mar 1 22:06:11 2021 +0000

    build(deps): bump tracing from 0.1.23 to 0.1.25
    
    Bumps [tracing](https://github.com/tokio-rs/tracing) from 0.1.23 to 0.1.25.
    - [Release notes](https://github.com/tokio-rs/tracing/releases)
    - [Commits](https://github.com/tokio-rs/tracing/compare/tracing-0.1.23...tracing-0.1.25)
    
    Signed-off-by: dependabot[bot] <support@github.com>

commit 70b6378c2430fd8330506720bf1405bd3fd0673a
Author: dependabot[bot] <49699333+dependabot[bot]@users.noreply.github.com>
Date:   Mon Mar 1 22:06:00 2021 +0000

    build(deps): bump crossbeam-utils from 0.8.2 to 0.8.3
    
    Bumps [crossbeam-utils](https://github.com/crossbeam-rs/crossbeam) from 0.8.2 to 0.8.3.
    - [Release notes](https://github.com/crossbeam-rs/crossbeam/releases)
    - [Changelog](https://github.com/crossbeam-rs/crossbeam/blob/master/CHANGELOG.md)
    - [Commits](https://github.com/crossbeam-rs/crossbeam/compare/crossbeam-utils-0.8.2...crossbeam-utils-0.8.3)
    
    Signed-off-by: dependabot[bot] <support@github.com>

commit 365246c4265d2a651a2f25f53f73aea440f33239
Author: dependabot[bot] <49699333+dependabot[bot]@users.noreply.github.com>
Date:   Mon Mar 1 22:05:51 2021 +0000

    build(deps): bump futures from 0.3.12 to 0.3.13
    
    Bumps [futures](https://github.com/rust-lang-nursery/futures-rs) from 0.3.12 to 0.3.13.
    - [Release notes](https://github.com/rust-lang-nursery/futures-rs/releases)
    - [Changelog](https://github.com/rust-lang/futures-rs/blob/master/CHANGELOG.md)
    - [Commits](https://github.com/rust-lang-nursery/futures-rs/compare/0.3.12...0.3.13)
    
    Signed-off-by: dependabot[bot] <support@github.com>

commit 82c594eeeb9665bad449862dee35148da7e1eab1
Author: Brandon W Maister <bwm@materialize.io>
Date:   Mon Mar 1 17:02:37 2021 -0500

    rename volume

commit 90be8b9aab4610c12058511f32ca5c755938054b
Author: Brandon W Maister <bwm@materialize.io>
Date:   Mon Mar 1 16:28:38 2021 -0500

    remove vars from download-snapshot

commit ea099b39ef4f2850319d695d2d0ad7d7f6239cd8
Author: Brandon W Maister <bwm@materialize.io>
Date:   Mon Mar 1 16:26:53 2021 -0500

    fix var name

commit 78bda1a1b7bae729601917c758e45c359e064dc4
Author: Brandon W Maister <bwm@materialize.io>
Date:   Mon Mar 1 16:21:06 2021 -0500

    don't change env var names

commit 35dde4fdd1ca987ed2aed6d5094a99aa40e4c475
Author: Brandon W Maister <bwm@materialize.io>
Date:   Mon Mar 1 15:47:09 2021 -0500

    aws-util use same env var

commit 9d3dd9efddadcae86892647649881f6d4dfac876
Author: Brandon W Maister <bwm@materialize.io>
Date:   Mon Mar 1 15:46:59 2021 -0500

    [fixup] propagate variables

commit 2a24e2a9129cf02ee2e55007775b176fefd9cd99
Author: Brandon W Maister <bwm@materialize.io>
Date:   Mon Mar 1 15:39:27 2021 -0500

    add ./tmp mounting to the download-snapshot workflow

commit ed518133f4119164c0f2fab29b62d9af5ecc4e0a
Author: Brandon W Maister <bwm@materialize.io>
Date:   Mon Mar 1 15:29:46 2021 -0500

    [fixup] default the mzutil and kafka-util service volumes too

commit a9e19b679fd7de938d639525fac0988de282f615
Author: Brandon W Maister <bwm@materialize.io>
Date:   Mon Mar 1 15:24:58 2021 -0500

    [fixup] also handle zookeeper data

commit 3630ad4a9eb3e474d09d46bd5788d6df37ab466c
Author: Brandon W Maister <bwm@materialize.io>
Date:   Mon Mar 1 14:52:00 2021 -0500

    Move chbench kafka directory back into Docker
    
    This ensures that the existing clean up logic works correctly and deletes
    previous runs on re-used hardware.
    
    It also guarantees that the data goes into the docker volume on our EC2
    instances.

commit 553519282c9b226f24618a660b564d6af98d1998
Author: Chris Golden <551285+cirego@users.noreply.github.com>
Date:   Mon Mar 1 12:36:33 2021 -0800

    Fixup docker volume mounts for mzutil / kafkautil (#5929)
    
    When running the ingest benchmark, there is no snapshot defined;
    fallback to using a docker volume for mzutil and kafkautil.

commit 41dc732398406215015c6a905c8758bd47514e47
Author: Brennan Vincent <brennan@materialize.io>
Date:   Mon Mar 1 15:35:17 2021 -0500

    Add a bunch of lints (#5927)

commit 0c1e5659d51d7a549883faf967f3228f26cab124
Author: Brandon W Maister <bwm@materialize.io>
Date:   Mon Mar 1 14:26:05 2021 -0500

    python: Update black, fix formatting (#5926)
    
    A 2020 version of black updated to change the way that it formats arg lists and
    lists, such that a trailing comma means "always do multiline formatting".
    
    A couple of the changes in here are black being stricter about docstrings, but
    many of them are just getting rid of trailing commas so that it preserves our
    existing formatting.

commit 981afb0294f13d47fc737dcd51fffd148bcf485f
Merge: a70cc08a2 8bbdab0cb
Author: Brandon W Maister <bwm@materialize.io>
Date:   Mon Mar 1 14:11:44 2021 -0500

    Merge pull request #5925 from quodlibetor/mzcompose-set-env-vars
    
    mzcompose: Correctly propagate env vars to sub-workflows

commit 8bbdab0cb033d1c74cc1eab58e67eee7d52dec8f
Author: Brandon W Maister <bwm@materialize.io>
Date:   Mon Mar 1 13:22:40 2021 -0500

    Add integration test tooling for mzcompose
    
    This just allows us to execute mzcompose files that verify properties of the
    mzcompose system as a whole.

commit c2c060e665a2971e89c0c2dff441093017e2ed77
Author: Brandon W Maister <bwm@materialize.io>
Date:   Mon Mar 1 13:20:25 2021 -0500

    mzcompose: Set env vars for sub-workflows when starting workflows
    
    This was always the way that this was supposed to work.

commit a70cc08a22227ac6f73b96a4598dd8a742bcd869
Author: Brennan Vincent <brennan@materialize.io>
Date:   Mon Mar 1 11:54:53 2021 -0500

    Clarify Confluent Platform instructions (#5921)

commit 02867d37d3b7f2fadc3e4cf3801461a503f5580f
Author: Brennan Vincent <brennan@materialize.io>
Date:   Mon Mar 1 11:38:15 2021 -0500

    Manually time out in test_no_block (#5920)

commit 60df9f4e8b1fc6e8ca2dd84e934376cb955172e9
Merge: 74aba48a5 29627a41c
Author: Andreas Fuchs <asf@materialize.com>
Date:   Mon Mar 1 09:57:01 2021 -0500

    Merge pull request #5885 from antifuchs/asf/issue-5812-implement-exp-log
    
    Implement exp/log/power SQL functions

commit 74aba48a5b657caf20959b2c2bf00bec32cefc43
Merge: ab2bb2aa2 887be10b3
Author: Nikhil Benesch <nikhil.benesch@gmail.com>
Date:   Sat Feb 27 10:00:34 2021 -0500

    Merge pull request #5916 from benesch/new-cc
    
    deps: upgrade to latest cc

commit 887be10b34b4baa95d12ff072460fb67de1e72a1
Author: Nikhil Benesch <nikhil.benesch@gmail.com>
Date:   Sat Feb 27 09:02:53 2021 -0500

    deps: upgrade openssl-src
    
    The cc bump in the last commit exposed a bug in openssl-src on macOS
    that caused compilation failures. Bump to the latest openssl-src, too,
    since the bug is fixed there.

commit 9431926fc914e5eca4f3621c6a2503afae05abad
Author: Nikhil Benesch <nikhil.benesch@gmail.com>
Date:   Sat Feb 27 08:50:53 2021 -0500

    deps: upgrade to latest cc
    
    There is a good chance that this fixes builds on Apple silicon.
    
    Touches #5915.

commit ab2bb2aa2e081d0a3a0142960c4d3024419ae5c7
Merge: c1a4eacff 13f07a5c3
Author: Nikhil Benesch <nikhil.benesch@gmail.com>
Date:   Fri Feb 26 16:23:02 2021 -0500

    Merge pull request #5910 from benesch/dl-https
    
    doc/user,www: use HTTPS for all tarball download links

commit c1a4eacff9f5659a15fcec00a9df0aba940cd2f8
Merge: d79cf940f c583fe9b4
Author: Eli Lindsey <eli@siliconsprawl.com>
Date:   Fri Feb 26 16:15:27 2021 -0500

    Merge pull request #5907 from elindsey/brokerdef
    
    explicitly retrieve default partition/replication config from kafka

commit c583fe9b49b2bdc96cb9ad5090ea7634557c757f
Author: Eli Lindsey <eli@siliconsprawl.com>
Date:   Fri Feb 26 14:25:38 2021 -0500

    explicitly retrieve default partition/replication config from kafka
    
    Kafka brokers have a notion of a default partition count and replication
    factor. Newer versions of Kafka support setting -1 for these values in
    client requests to pick up the default - older versions (pre 2.4) do not
    and will instead throw an unsupported error.
    
    This diff adds a code path that explicitly calls the Kafka API to
    retrieve the default configurations.
    
    To eliminate modality, this code path is used even for newer versions of
    Kafka that support API calls setting -1.
    
    There is extremely poor test coverage of this area. Notably, we do not
    have test coverage for older versions of Kafka or Kafka with multiple
    brokers (and thus do not have test coverage for partition counts or
    replciation factors > 1).

commit 13f07a5c3a3d878279ac2d4e73755fdd9b0dd40c
Author: Nikhil Benesch <nikhil.benesch@gmail.com>
Date:   Fri Feb 26 15:45:51 2021 -0500

    doc/user,www: use HTTPS for all tarball download links

commit d79cf940f30b1d0d81b8b565292ca10b9994688b
Merge: c735be9d3 36de7fca8
Author: Brandon W Maister <bwm@materialize.io>
Date:   Fri Feb 26 15:27:51 2021 -0500

    Merge pull request #5862 from quodlibetor/allow-non-schema-registry-avro
    
    Handle Avro over Kafka without a schema registry

commit 36de7fca8252b382e3e0322314dee743e6be6a28
Author: Brandon W Maister <bwm@materialize.io>
Date:   Wed Feb 24 10:30:01 2021 -0500

    Migrate on-disk catalog to have current confluent_wire_format default
    
    I believe that this change is already tested by
    
    https://github.com/MaterializeInc/materialize/blob/66c3707dfd0b/test/catalog-compat/catcompatck/catcompatck#L70-L79

commit 1e978f613de99378dfbf8ecefba4281a35c1f7cd
Author: Brandon W Maister <bwm@materialize.io>
Date:   Tue Feb 23 15:00:23 2021 -0500

    Add a `confluent_wire_format` with option for Kafka + Avro sources
    
    This will allow users to specify whether or not their client is generating avro
    records that include the magic byte and schema ID.

commit c735be9d39938268d98a348c000740d826ca24e1
Merge: 503284314 2062cb328
Author: Eli Lindsey <eli@siliconsprawl.com>
Date:   Fri Feb 26 14:02:48 2021 -0500

    Merge pull request #5878 from elindsey/idemrel
    
    add release note for idempotent kafka sinks

commit 50328431457af1700f712bd49b993ba30b779fd7
Author: Andi Wang <5522362+wangandi@users.noreply.github.com>
Date:   Fri Feb 26 10:43:19 2021 -0500

    Canonicalize the equivalence classes of a join. (#5896)

commit 693a3fd681ad8948f050d44631ac2129420430a3
Author: Brandon W Maister <bwm@materialize.io>
Date:   Tue Feb 23 11:33:12 2021 -0500

    Handle Avro over Kafka without a schema registry
    
    The magic bytes only make sense and are only included if the user is using a
    schema registry, so we should only check for them in that code.
    
    This does "automatic" detection of whether or not we should check for schema
    registry bytes based on whether we are using a schema registry, which may not
    actually be correct, depending on whether or not folks are using confluent
    clients.

commit 8c23bc0095f1dce5528ad1ae3d0da0f0fa0f1402
Merge: 84beff002 e453feb9e
Author: Micole Sudberg <micole@materialize.io>
Date:   Fri Feb 26 09:39:45 2021 -0500

    Merge pull request #5847 from msudberg/5702
    
    (doc) DROP TYPE and SHOW TYPES

commit e453feb9e1066e6c795d7b4a3384eaa1f44a127e
Author: Micole Sudberg <micole.sudberg@gmail.com>
Date:   Mon Feb 22 17:46:22 2021 -0500

    (doc) DROP TYPE AND SHOW TYPES

commit d1620e19b6c0cabb5b9740e4c34828abda14a3bc
Author: Micole Sudberg <micole.sudberg@gmail.com>
Date:   Fri Feb 26 09:33:19 2021 -0500

    (doc) Add CASCADE | RESTRICT switch to DROP INDEX

commit 84beff002ccb74dc9147deedf13d1868b2bf9a55
Merge: b747dff2c d7e10d6d2
Author: Nikhil Benesch <nikhil.benesch@gmail.com>
Date:   Thu Feb 25 17:48:49 2021 -0500

    Merge pull request #5889 from benesch/disable-more-clippy
    
    bin/check: disable more clippy lints

commit b747dff2ceda86e32c719a0474a9fae4c462735f
Author: Brandon W Maister <bwm@materialize.io>
Date:   Thu Feb 25 17:41:55 2021 -0500

    Generate AWS clients builder functions using a macro (#5899)
    
    They are all exactly the same, except that they take a different input type.
    
    Unfortunately there is no `Client` trait on clients that would allow us to
    build them generically, so we have to do this.

commit 5944fe1d4c3b18b2c606133ac5a3e4c0003b8bcb
Author: Brandon W Maister <bwm@materialize.io>
Date:   Thu Feb 25 17:39:39 2021 -0500

    Add and enable some logs to investigate SQS test flakiness (#5898)

commit 8b15ac49071326fac1c6b2d41dd18bc173a5755c
Author: Brandon W Maister <bwm@materialize.io>
Date:   Thu Feb 25 17:22:37 2021 -0500

    s3-sqs: Wait for a notification when configuring S3 SQS (#5897)
    
    This commit investigates whether the flakiness in our S3 SQS tests is due to a
    race in AWS, where the configuration for SQS notifications does not fully take
    effect immediately.
    
    To ensure that that is not the case, we don't allow testdrive to continue on
    from notification configuration until it has observed at least one valid
    "object has been created" message.

commit 29627a41cab69093831183ade89ae8d14f2837f5
Author: Andreas Fuchs <asf@materialize.com>
Date:   Thu Feb 25 15:36:12 2021 -0500

    Add error tests for the binary log function's first arg, as well

commit 2b4e1ff95d8f1abeb93f5f4beddc0876842b8051
Author: Andreas Fuchs <asf@materialize.com>
Date:   Thu Feb 25 15:35:07 2021 -0500

    Add checks for negative numbers & zero in ln as well

commit a1cfbf869885265c355a44234715f601bdfa5747
Author: Andreas Fuchs <asf@materialize.com>
Date:   Thu Feb 25 14:55:55 2021 -0500

    Add a release notes entry

commit d8ece7315f7df60943dd372c1dd46c879a4e606c
Author: Andreas Fuchs <asf@materialize.com>
Date:   Thu Feb 25 14:54:51 2021 -0500

    Document the dual double-precision/numeric nature of log/ln/exp/power

commit 47e5514da11aade9e91c61f5ca7075f63673146d
Author: Andreas Fuchs <asf@materialize.com>
Date:   Thu Feb 25 14:42:18 2021 -0500

    Document `power` and adjust types for exp/log/ln

commit 0fc603e2acb1f8dec8ffc4d82b0ca2993de3cc1e
Author: Andreas Fuchs <asf@materialize.com>
Date:   Thu Feb 25 14:25:30 2021 -0500

    Correctly dispatch the power test types

commit 4b53e1b9ffd41449773d8405134330969dfd2116
Author: Andreas Fuchs <asf@materialize.com>
Date:   Thu Feb 25 14:24:56 2021 -0500

    Make binary log function take Decimal arguments after all
    
    Turns out the postgres-defined binary log function is only defined for
    numeric types, so that's what we should go with as well.

commit b0459bf51909773b90c8d3b247eef24fe08ff605
Author: Andreas Fuchs <asf@materialize.com>
Date:   Thu Feb 25 14:08:03 2021 -0500

    Implement power(a, b)
    
    Both the decimal & float representations.

commit 108fa6a2bfbe0407550521b1228857da7a6c1b4b
Author: Jessica Laughlin <JLDLaughlin@users.noreply.github.com>
Date:   Thu Feb 25 13:41:06 2021 -0500

    dbt-materialize: update README for PyPI (#5893)

commit fbf5836867de41c54168cef9faef12be0beeab24
Author: Andreas Fuchs <asf@materialize.com>
Date:   Thu Feb 25 13:39:56 2021 -0500

    Use mode cockroach for the exp/log tests
    
    This results in far better precision / control over the resulting
    numbers, so let's do that instead.

commit 3d963b64347aca26d14360519c4fb1179bf9275d
Author: Andreas Fuchs <asf@materialize.com>
Date:   Thu Feb 25 12:47:21 2021 -0500

    Fix the exp(ln(...)) test to test correct accuracy of numbers

commit eea7f63c2d526f008cb85462e4f9ea45737da3f2
Author: Jessica Laughlin <JLDLaughlin@users.noreply.github.com>
Date:   Thu Feb 25 09:23:48 2021 -0500

    play: add materialize user to dbt config (#5892)

commit d7e10d6d2f444ead1a23807801296d694f7692bf
Author: Nikhil Benesch <nikhil.benesch@gmail.com>
Date:   Wed Feb 24 22:06:29 2021 -0500

    bin/check: disable more clippy lints
    
    Categorically disable clippy's "style" and "complexity" lints. These two
    categories have been the most significant source of friction in our
    codebase.
    
    The hope with these clippy lints is that they'd *reduce* the amount of
    bikeshedding, because we'd all just accept clippy's advice even if we
    had some quibbles with a lint or two. Empirically that hasn't been true,
    and it's not worth the constant bikesheds.
    
    We still have the capacity to enable the few lints in these categories
    that are worthwhile.

commit 55e3341ab984b7b5ed201fad541d84c94b728969
Author: Brennan Vincent <brennan@materialize.io>
Date:   Wed Feb 24 18:18:17 2021 -0500

    Temporarily add printf debugging to flaky test (#5887)

commit 5b7a054edc5763279044d72af423ecbd22a3b9b5
Author: Chris Golden <551285+cirego@users.noreply.github.com>
Date:   Wed Feb 24 14:56:37 2021 -0800

    Improve mzbench documentation (#5886)

commit 986f299e6599b29fbca4a495aa32b6fc6b2b7711
Merge: 7b9dc35ea abb1a9c22
Author: Nikhil Benesch <nikhil.benesch@gmail.com>
Date:   Wed Feb 24 17:48:08 2021 -0500

    Merge pull request #5845 from MaterializeInc/dependabot/cargo/tracing-subscriber-0.2.16
    
    build(deps): bump tracing-subscriber from 0.2.15 to 0.2.16

commit 0c66a593bbc3fa578095d192a4399bbaddde5dd0
Author: Andreas Fuchs <asf@boinkor.net>
Date:   Wed Feb 24 17:40:42 2021 -0500

    Implement exp() and test it via exp(ln(a))
    
    ...but, it doesn't work for decimal types: the return type is all wrong!

commit bfc284a1e6d0c5896b4345ea381e9097666e5f6e
Author: Andreas Fuchs <asf@boinkor.net>
Date:   Wed Feb 24 17:22:12 2021 -0500

    Reorder docs, document ln

commit abb1a9c226c047c2dc65d0809236a1d5a61180bc
Author: dependabot[bot] <49699333+dependabot[bot]@users.noreply.github.com>
Date:   Wed Feb 24 22:19:53 2021 +0000

    build(deps): bump tracing-subscriber from 0.2.15 to 0.2.16
    
    Bumps [tracing-subscriber](https://github.com/tokio-rs/tracing) from 0.2.15 to 0.2.16.
    - [Release notes](https://github.com/tokio-rs/tracing/releases)
    - [Commits](https://github.com/tokio-rs/tracing/compare/tracing-subscriber-0.2.15...tracing-subscriber-0.2.16)
    
    Signed-off-by: dependabot[bot] <support@github.com>

commit 54167981906b9a7e7f6836e26804803b7dc7117b
Author: Andreas Fuchs <asf@boinkor.net>
Date:   Wed Feb 24 17:19:26 2021 -0500

    Implement unary ln function, float & decimal

commit a1c23322d63addf32d7e00ee947f5849ff78b4d5
Author: Andreas Fuchs <asf@boinkor.net>
Date:   Wed Feb 24 17:19:01 2021 -0500

    Fix how we refer to decimal arguments in log sql tests

commit 7b9dc35ea8e5c30743b8d1373e69ad6ddfa869c7
Merge: d96157cdc 0a9f047d2
Author: Nikhil Benesch <nikhil.benesch@gmail.com>
Date:   Wed Feb 24 17:15:16 2021 -0500

    Merge pull request #5883 from benesch/tokio-stream
    
    materialized: replace async-stream with official Tokio wrapper

commit 8a86e388cb76aad1c7de94009b2676e384f01f50
Author: Andreas Fuchs <asf@boinkor.net>
Date:   Wed Feb 24 17:14:53 2021 -0500

    Implement unary log with decimal inputs

commit 0a9f047d283f2791c756df4ce8e2bccec22eb8ac
Author: Nikhil Benesch <nikhil.benesch@gmail.com>
Date:   Wed Feb 24 16:52:31 2021 -0500

    materialized: replace async-stream with official Tokio wrapper
    
    Tokio now ships official wrappers for its stream-like objects, so we no
    longer need to do it ourselves with async-stream.
    
    This is minor but a nice simplification nonetheless.

commit f68b166dc196285e4185da82ed40e7c85f391189
Author: Andreas Fuchs <asf@boinkor.net>
Date:   Wed Feb 24 16:45:59 2021 -0500

    Add tests for unary log function and errors in binary log funcalls

commit 4ee1bd895a6ad0ce2eb8d3e41f26673f87e7dbe1
Author: Andreas Fuchs <asf@boinkor.net>
Date:   Wed Feb 24 16:45:46 2021 -0500

    Document unary log function

commit f885957c5a7731cbcbabf74ff7af3e2717240441
Author: Andreas Fuchs <asf@boinkor.net>
Date:   Wed Feb 24 16:42:36 2021 -0500

    Implement log10 for decimals

commit d96157cdc68d9262b40a26dccf7d6c27242e6d81
Merge: a5a2933e5 2d2b3db77
Author: Nikhil Benesch <nikhil.benesch@gmail.com>
Date:   Wed Feb 24 14:34:00 2021 -0500

    Merge pull request #5846 from MaterializeInc/dependabot/cargo/sysinfo-0.16.4
    
    build(deps): bump sysinfo from 0.16.3 to 0.16.4

commit a5a2933e540d3a2972aaa35d76bfe34dcf8baf70
Merge: 59bdf0b51 c54071e7a
Author: Nikhil Benesch <nikhil.benesch@gmail.com>
Date:   Wed Feb 24 14:33:06 2021 -0500

    Merge pull request #5880 from btheu/typo_doc_aws_json-1
    
    doc: typo missing closing quote

commit 59bdf0b5173e174eefdda8003dbcb96a08da11ec
Merge: 25786b4c2 8fba48056
Author: Andreas Fuchs <asf@boinkor.net>
Date:   Wed Feb 24 14:05:27 2021 -0500

    Merge pull request #5861 from antifuchs/asf/issue-4990-thread-through-txn-ids
    
    interchange: Thread mz_offset through to the protobuf decoder

commit 8fba48056229c1c1adabf859c070599044105cea
Author: Andreas Fuchs <asf@boinkor.net>
Date:   Mon Feb 22 15:44:28 2021 -0500

    Thread mz_offset through to the protobuf decoder
    
    In order to have the mz_offset on a protobuf-decoded row, we need that
    position offset in the decoder, and add it to the row packer: Here we
    accomplish this, and add tests that validate the offset addition does
    happen for both protobuf (new) and CSV (already in existence).

commit 25786b4c2b96995f4cdb40dd40b7c08e36d9d889
Author: Brandon W Maister <bwm@materialize.io>
Date:   Wed Feb 24 12:01:38 2021 -0500

    Increase SQL timeout for tests that depend on SQS (#5879)
    
    SQS has essentially no SLA on how fast things show up, it seems like 32 seconds
    got us to "usually works" hopefully 2 minutes gets us to "always works".
    
    If this is regularly noticably slowing down our tests we should either move
    this to a disabled test or work on parallelizing testdrive, since this is
    usually one of the last tests to run.

commit c54071e7abde9c5a6e8200a8b438e9a89359d406
Author: btheu <benoit.theunissen@gmail.com>
Date:   Wed Feb 24 17:41:12 2021 +0100

    doc: typo missing closing quote

commit c2f6795448f0ab22e2fb05877d5a6aa6953389df
Author: Andreas Fuchs <asf@boinkor.net>
Date:   Wed Feb 24 11:06:35 2021 -0500

    Implement log-with-base as a double-float function
    
    This is probably not correct - pg uses `numeric` here, and likely does
    better-precision math on the args than we do with f64 here.

commit 6f30a99762acf440a4c2367346263255943bafb1
Author: Andreas Fuchs <asf@boinkor.net>
Date:   Wed Feb 24 11:03:46 2021 -0500

    Add docs for log10

commit da855d860f5a8cef5d0d71a1b227e00f102e0578
Author: Frank McSherry <fmcsherry@me.com>
Date:   Wed Feb 24 10:54:01 2021 -0500

    add errors through source construction (#5870)

commit 66c3707dfd0be1d9cd18c8b91f0458e0db879f86
Merge: 93007b686 3ae0f8760
Author: Brandon W Maister <bwm@materialize.io>
Date:   Wed Feb 24 10:32:06 2021 -0500

    Merge pull request #5869 from quodlibetor/with-options-docs
    
    with_options!: Document that the struct field types are Option-ized

commit 2062cb3283d2263757cfaf9d71182fbc7097509a
Author: Eli Lindsey <eli@siliconsprawl.com>
Date:   Wed Feb 24 10:22:53 2021 -0500

    add release notes for idempotent kafka sinks

commit 93007b686dca8ddf5e5930fbbef8370f6c85b23b
Merge: 791e48dfb 383c792ec
Author: Eli Lindsey <eli@siliconsprawl.com>
Date:   Wed Feb 24 10:20:21 2021 -0500

    Merge pull request #5877 from elindsey/idempotent
    
    enable idempotent kafka writes

commit 383c792ec4212a428504bd7e2d934d72dfcee51b
Author: Eli Lindsey <eli@siliconsprawl.com>
Date:   Wed Feb 24 09:50:49 2021 -0500

    enable idempotent kafka writes
    
    Idempotent kafka writes protect against reordered or duplicated messages
    due to network errors and similar. Note that they do _not_ provide full
    exactly once semantics and do _not_ prevent duplicate messages across
    process restarts.

commit 791e48dfb551e2ab5461fe62f0c78c8755abd9a1
Merge: ff44101d0 d93fc43a4
Author: Nikhil Benesch <nikhil.benesch@gmail.com>
Date:   Wed Feb 24 09:43:40 2021 -0500

    Merge pull request #5858 from benesch/pgcdc-tests
    
    testdrive: learn to query an arbitrary PostgreSQL instance

commit d93fc43a456bf98148e54cd6412ac8c490b42e9d
Author: Nikhil Benesch <nikhil.benesch@gmail.com>
Date:   Tue Feb 23 09:11:38 2021 -0500

    testdrive: learn to query an arbitrary PostgreSQL instance
    
    This will facilitate writing testdrive tests for the new PostgreSQL
    source.

commit ff44101d04665a6b69aad546e17225e14937117a
Author: Frank McSherry <fmcsherry@me.com>
Date:   Wed Feb 24 07:05:33 2021 -0500

    Reduce default logical compaction window to 1ms (#5335)
    
    * reduce default logical compaction window to 1ms
    
    * ensure logical compaction off before attempting test
    
    * update release notes
    
    Co-authored-by: Nikhil Benesch <nikhil.benesch@gmail.com>

commit a8aabe7d236219cdb992caa74bb9c0cf065dcb6b
Author: Frank McSherry <fmcsherry@me.com>
Date:   Wed Feb 24 06:54:13 2021 -0500

    Collect updated differential; update deprecated calls (#5857)
    
    * collect updated differential; update deprecated calls
    
    * Push the test for #5774
    
    Co-authored-by: Philip Stoev <pstoev@materialize.io>

commit 4e11da3dfec83b5439396053e4fca872f101a005
Author: Brennan Vincent <brennan@materialize.io>
Date:   Tue Feb 23 22:06:26 2021 -0500

    Don't canonicalize Avro schemas (#5864)

commit 6a0e2c92092d6df680380e0e7d55ceb41106def5
Merge: 72192e7fd 06c0f7625
Author: Nikhil Benesch <nikhil.benesch@gmail.com>
Date:   Tue Feb 23 20:32:48 2021 -0500

    Merge pull request #5866 from benesch/rm-sink-as-of
    
    coord,sql: temporarily remove CREATE SINK ... AS OF

commit 72192e7fda1310c2fa2f100883deb13a6482fbb9
Merge: 2bb5fd053 21be3368b
Author: Justin Jaffray <justin.jaffray@gmail.com>
Date:   Tue Feb 23 19:51:56 2021 -0500

    Merge pull request #5871 from justinj/fix-varchar
    
    sql: validate typmod for qualified varchars

commit 06c0f76257d7582793540906c83a89e681d5194d
Author: Nikhil Benesch <nikhil.benesch@gmail.com>
Date:   Tue Feb 23 16:37:41 2021 -0500

    coord,sql: temporarily remove CREATE SINK ... AS OF
    
    `CREATE SINK ... AS OF` does not have sensible semantics on restart.
    Creating a sink on a real-time source `AS OF` some timestamp is a
    guaranteed way to cause Materialize to fail to boot on restart.
    
    This commit temporarily removes the feature. We'll want to restore it
    once we sort out how to unify `AS OF` behavior (see #2862).
    
    As a side effect it fixes #5423. Since we no longer let users specify
    `AS OF` timestamps, we can defer selection of the timestamp until the
    moment we ship the sink dataflow, which allows us to ensure we choose a
    valid time.

commit 21be3368b3be7d42c5839adf6ce37660ba6b2aef
Author: Justin Jaffray <justin.jaffray@gmail.com>
Date:   Tue Feb 23 19:07:03 2021 -0500

    sql: validate typmod for qualified varchars
    
    Previously we wouldn't do this validation if the name of the type was
    qualified. This hacky change fixes the immediate problem but I think
    there's still a lingering issue where someone could make a namespaced
    type of name varchar that was a string and be incorrectly beholden to
    this behaviuor. This is a quick change to unblock #5816 which causes
    names to be qualified in more contexts.

commit 3ae0f876087eeeceb9d53bbe104b809cdd311ef7
Author: Brandon W Maister <bwm@materialize.io>
Date:   Tue Feb 23 18:36:18 2021 -0500

    Convert a series of if-lets to `match`
    
    To my eye this makes it easier to see what's going on

commit 4405b839855acf932eb6d474a6faa6e0c97f708a
Author: Brandon W Maister <bwm@materialize.io>
Date:   Tue Feb 23 18:35:16 2021 -0500

    with_options!: Document that the struct field types are Option-ized

commit 2bb5fd053e740623049952b9bef26e7e71a1b3fb
Merge: c6d230b5f 6a844bc62
Author: Sean Loiselle <sean@materialize.io>
Date:   Tue Feb 23 17:59:05 2021 -0500

    Merge pull request #5868 from umanwizard/fix_date_trunc_md
    
    add newline to fix broken markdown formatting

commit 6a844bc62709e016b1106a1a3a14601ec338b402
Author: Brennan Vincent <brennan@umanwizard.com>
Date:   Tue Feb 23 17:49:54 2021 -0500

    add newline to fix broken markdown formatting

commit c6d230b5fa00e195aca12bb08845cb99cce86970
Author: Frank McSherry <fmcsherry@me.com>
Date:   Tue Feb 23 17:10:51 2021 -0500

    extract source and sink creation (#5867)

commit 19527446a3f2a6e9e5213137f92226a6c2033185
Author: Andreas Fuchs <asf@boinkor.net>
Date:   Tue Feb 23 16:00:50 2021 -0500

    Implement log10 for double floats

commit a336db3e61c28cce2bae0344b892d19a9ba341ca
Merge: 594c35fa4 af2f21ca0
Author: Micole Sudberg <micole@materialize.io>
Date:   Tue Feb 23 14:48:23 2021 -0500

    Merge pull request #5809 from msudberg/4772
    
    4772

commit 671d817930dc24e1e7463f4a4723382f92b54293
Author: Micole Sudberg <micole.sudberg@gmail.com>
Date:   Tue Feb 23 12:24:10 2021 -0500

    (doc) fix example spacing

commit fb231d7355d4ea5c4e68c7afd6298c95f8888644
Author: Micole Sudberg <micole.sudberg@gmail.com>
Date:   Tue Feb 23 12:19:13 2021 -0500

    (doc) DROP TYPE and SHOW TYPES

commit 594c35fa469f96ba717d0f63731fe35af69a90d4
Merge: a2310efef 6dfb52e1e
Author: Philip Stoev <pstoev@materialize.io>
Date:   Tue Feb 23 14:57:59 2021 +0200

    Merge pull request #5856 from philip-stoev/doc-developer-fast-compiles
    
    Add a "Hosted machine" section to fast-compiles.md

commit a2310efefdab606c9b3964072537aee945034a03
Merge: 9a5fa46cc 3155df761
Author: Philip Stoev <pstoev@materialize.io>
Date:   Tue Feb 23 14:40:44 2021 +0200

    Merge pull request #5852 from philip-stoev/testdrive-time
    
    testdrive: teach testdrive about the TIME data type

commit 6dfb52e1e30f05f31fbdbe18dff3d2c4a8583708
Author: Philip Stoev <pstoev@materialize.io>
Date:   Tue Feb 23 11:01:53 2021 +0200

    Add a "Hosted machine" section to fast-compiles.md

commit 3155df7612f72b530aed3716dd673300afd783b1
Author: Philip Stoev <pstoev@materialize.io>
Date:   Tue Feb 23 09:37:19 2021 +0100

    teach testdrive about the TIME data type

commit 9a5fa46cc75070b4fcbc75f801faa004e436c0b9
Merge: 87f9bc2f7 23c366823
Author: Nikhil Benesch <nikhil.benesch@gmail.com>
Date:   Tue Feb 23 00:03:34 2021 -0500

    Merge pull request #5844 from MaterializeInc/dependabot/cargo/pprof-0.4.2
    
    build(deps): bump pprof from 0.4.1 to 0.4.2

commit 87f9bc2f7b8d6d572531ed41e3d5814ea64cb435
Merge: 7c6bddc22 f353396a9
Author: Nikhil Benesch <nikhil.benesch@gmail.com>
Date:   Tue Feb 23 00:03:28 2021 -0500

    Merge pull request #5843 from MaterializeInc/dependabot/cargo/crossbeam-utils-0.8.2
    
    build(deps): bump crossbeam-utils from 0.8.1 to 0.8.2

commit 7c6bddc2283096c3bf9c33ae66c08af8ce27b1ec
Merge: 80aefe246 18d035961
Author: Nikhil Benesch <nikhil.benesch@gmail.com>
Date:   Tue Feb 23 00:02:53 2021 -0500

    Merge pull request #5838 from MaterializeInc/dependabot/cargo/url-2.2.1
    
    build(deps): bump url from 2.2.0 to 2.2.1

commit 80aefe2469f553fc6a523ca1d58ccefe516da6bf
Merge: a9f09dc82 667a880d3
Author: Nikhil Benesch <nikhil.benesch@gmail.com>
Date:   Tue Feb 23 00:02:34 2021 -0500

    Merge pull request #5837 from MaterializeInc/dependabot/cargo/sha-1-0.9.4
    
    build(deps): bump sha-1 from 0.9.3 to 0.9.4

commit 8e1c27b1a355de1510924b72bf2b07ead549c652
Author: Micole Sudberg <micole.sudberg@gmail.com>
Date:   Mon Feb 22 17:46:22 2021 -0500

    (doc) DROP TYPE

commit 2d2b3db7745c629549eeadc7a8706f2477bb1bd0
Author: dependabot[bot] <49699333+dependabot[bot]@users.noreply.github.com>
Date:   Mon Feb 22 22:06:33 2021 +0000

    build(deps): bump sysinfo from 0.16.3 to 0.16.4
    
    Bumps [sysinfo](https://github.com/GuillaumeGomez/sysinfo) from 0.16.3 to 0.16.4.
    - [Release notes](https://github.com/GuillaumeGomez/sysinfo/releases)
    - [Commits](https://github.com/GuillaumeGomez/sysinfo/commits)
    
    Signed-off-by: dependabot[bot] <support@github.com>

commit 23c366823bb195aebb39d1c35f8877d146b467bf
Author: dependabot[bot] <49699333+dependabot[bot]@users.noreply.github.com>
Date:   Mon Feb 22 22:06:23 2021 +0000

    build(deps): bump pprof from 0.4.1 to 0.4.2
    
    Bumps [pprof](https://github.com/tikv/pprof-rs) from 0.4.1 to 0.4.2.
    - [Release notes](https://github.com/tikv/pprof-rs/releases)
    - [Commits](https://github.com/tikv/pprof-rs/compare/v0.4.1...v0.4.2)
    
    Signed-off-by: dependabot[bot] <support@github.com>

commit f353396a9957b7f9d1d5e8cd0ef3a7094acb6783
Author: dependabot[bot] <49699333+dependabot[bot]@users.noreply.github.com>
Date:   Mon Feb 22 22:06:15 2021 +0000

    build(deps): bump crossbeam-utils from 0.8.1 to 0.8.2
    
    Bumps [crossbeam-utils](https://github.com/crossbeam-rs/crossbeam) from 0.8.1 to 0.8.2.
    - [Release notes](https://github.com/crossbeam-rs/crossbeam/releases)
    - [Changelog](https://github.com/crossbeam-rs/crossbeam/blob/master/CHANGELOG.md)
    - [Commits](https://github.com/crossbeam-rs/crossbeam/compare/crossbeam-utils-0.8.1...crossbeam-utils-0.8.2)
    
    Signed-off-by: dependabot[bot] <support@github.com>

commit 18d0359613f406d06c9c5a3416d1c4f48f95e7cc
Author: dependabot[bot] <49699333+dependabot[bot]@users.noreply.github.com>
Date:   Mon Feb 22 22:05:01 2021 +0000

    build(deps): bump url from 2.2.0 to 2.2.1
    
    Bumps [url](https://github.com/servo/rust-url) from 2.2.0 to 2.2.1.
    - [Release notes](https://github.com/servo/rust-url/releases)
    - [Commits](https://github.com/servo/rust-url/compare/v2.2.0...v2.2.1)
    
    Signed-off-by: dependabot[bot] <support@github.com>

commit 667a880d3a33e70c46a956ac2d4d0604beb0dd03
Author: dependabot[bot] <49699333+dependabot[bot]@users.noreply.github.com>
Date:   Mon Feb 22 22:04:52 2021 +0000

    build(deps): bump sha-1 from 0.9.3 to 0.9.4
    
    Bumps [sha-1](https://github.com/RustCrypto/hashes) from 0.9.3 to 0.9.4.
    - [Release notes](https://github.com/RustCrypto/hashes/releases)
    - [Commits](https://github.com/RustCrypto/hashes/compare/sha-1-v0.9.3...sha-1-v0.9.4)
    
    Signed-off-by: dependabot[bot] <support@github.com>

commit a9f09dc82e83d9137472e8a0370bad644bc7d65e
Author: Brennan Vincent <brennan@materialize.io>
Date:   Mon Feb 22 16:44:40 2021 -0500

    Don't allow upsert sinks without a key (#5835)

commit d66be00d9e17f49e97ad26f09350e41e2a156e8b
Author: Jessica Laughlin <JLDLaughlin@users.noreply.github.com>
Date:   Mon Feb 22 14:58:21 2021 -0500

    coord: track custom type dependencies (#5810)
    
    Now that we resolve the names and GlobalIds of custom data types
    during planning, we can use that information to correctly track
    type dependencies while creating and dropping database objects.

commit 4e5beca8d46459c0ff0da66d886bc2b86482595a
Merge: 2fed47fce 11358fe68
Author: Brandon W Maister <bwm@materialize.io>
Date:   Mon Feb 22 14:50:29 2021 -0500

    Merge pull request #5833 from quodlibetor/catalog-telemetry
    
    telemetry: Add source/sink counts to included data

commit 2fed47fce7773b954c2485e847b76153ccd8fe65
Author: Chris Golden <551285+cirego@users.noreply.github.com>
Date:   Mon Feb 22 10:57:41 2021 -0800

    Record benchmark metrics to Kafka (#5792)
    
    This PR updates the wait_metric script to write the results of the
    benchmarks directly to a Kafka topic, in addition to printing the
    results to stdout. When the benchmarks are run in our AWS
    account, they will be configured to write to a central Kafka instance.
    
    When run locally, they are configured to write metrics back to the
    Kafka instance used for the tests themselves. The goal is to have
    the benchmark results stored in a central, persistent location
    when they are run in the cloud.

commit 11358fe68d9e4554e1be479e7fb0730817801d8d
Author: Brandon W Maister <bwm@materialize.io>
Date:   Fri Feb 19 16:39:45 2021 -0500

    telemetry: Add source/sink counts to included data

commit 2b07ca131c27674d133a7a66ebfc9f0055fd0621
Merge: 368ff2a94 9fdccfd29
Author: Nikhil Benesch <nikhil.benesch@gmail.com>
Date:   Mon Feb 22 11:47:29 2021 -0500

    Merge pull request #5834 from umanwizard/norestart
    
    get rid of restart: always

commit 9fdccfd29c743db72291f1f2db0351a9d534c9fb
Author: Brennan Vincent <brennan@umanwizard.com>
Date:   Mon Feb 22 11:42:18 2021 -0500

    get rid of restart: always

commit a0ba66bd6cf1ea886399ba5f35d3176d0ad19494
Author: Brandon W Maister <bwm@materialize.io>
Date:   Fri Feb 19 14:45:41 2021 -0500

    telemetry: Server metadata was not used

commit 368ff2a94b1b2a39f5ea72efc04eef2153037134
Author: Brandon W Maister <bwm@materialize.io>
Date:   Mon Feb 22 10:47:00 2021 -0500

    Fix merge skew with new postgres source type (#5832)

commit a62fd30ad7e4be465ea8fe7c362ff5d4779342b4
Author: Brandon W Maister <bwm@materialize.io>
Date:   Mon Feb 22 10:06:11 2021 -0500

    Add some catalog information to Prometheus metrics (#5822)
    
    * Add some catalog information to Prometheus metrics
    
    This adds total number of user-defined sources/sinks (by type) and views.

commit 82ace2b28d93fab549ed19535da36a8109f6b9da
Author: Frank McSherry <fmcsherry@me.com>
Date:   Mon Feb 22 09:16:07 2021 -0500

    Update fast-compiles.md (#5831)
    
    * Update fast-compiles.md
    
    * Update fast-compiles.md

commit 2d5577a1c5ba3c07db74eb5333ba175f7f8b16bc
Merge: 82bf406b2 95d03a7fc
Author: Petros Angelatos <petrosagg@gmail.com>
Date:   Mon Feb 22 15:06:18 2021 +0100

    Merge pull request #5828 from petrosagg/pg-replication-sql
    
    sql: syntax parser and planning for postgres sources

commit 95d03a7fc600a13839c99f8aae751d5f7f71923f
Author: Petros Angelatos <petrosagg@gmail.com>
Date:   Mon Feb 22 10:33:09 2021 +0100

    sql: syntax parser and planning for postgres sources
    
    Signed-off-by: Petros Angelatos <petrosagg@gmail.com>

commit 82bf406b2026bfe03eed9f048d9ba083ecddcc7c
Author: Brandon W Maister <bwm@materialize.io>
Date:   Fri Feb 19 16:59:43 2021 -0500

    Add Session ID to telemetry data (#5823)
    
    A new token is created every time materialized is restarted.

commit 7defba709b32774ac7ec477f5dcc5c82d87de569
Author: Andi Wang <5522362+wangandi@users.noreply.github.com>
Date:   Fri Feb 19 16:35:52 2021 -0500

    Doc + upsert: Cleanup + Release notes for arrangementless upsert (#5807)
    
    Release notes for arrangementless upsert + merge apply_as_of_frontier into rest of upsert.

commit 047661e9620b0f1f9918b1107e50b0df7f4c9063
Merge: 5a1b77e63 43010dc03
Author: Sean Loiselle <sean@materialize.io>
Date:   Fri Feb 19 15:47:27 2021 -0500

    Merge pull request #5824 from sploiselle/json-example
    
    docs: refactor JSON-formatted sources

commit 43010dc03dd16653934c1b74aeb551293433e2f3
Author: sploiselle <sean@materialize.io>
Date:   Fri Feb 19 15:35:15 2021 -0500

    docs: refactor JSON-formatted sources

commit 5a1b77e632d34276dc38d2e96a5095dc53d879f1
Merge: 0f3b19bb6 3a65cabe0
Author: Eli Lindsey <eli@siliconsprawl.com>
Date:   Fri Feb 19 13:03:21 2021 -0500

    Merge pull request #5821 from elindsey/kafkawarn
    
    include broker configuration when we validate the kafka config

commit 3a65cabe0311f132205ddebb6c1e976f2a95d074
Author: Eli Lindsey <eli@siliconsprawl.com>
Date:   Fri Feb 19 12:35:34 2021 -0500

    include broker configuration when we validate the kafka config
    
    During purification we do a shallow validation of the kafka config to
    suss out any major issues with authentication early on.
    Previously we didn't include the bootstrap.servers parameter when we did
    this validation, resulting in a logged warning like:
    
    ```
    INFO librdkafka: CONFWARN [thrd:app]: No bootstrap.servers configured: client will not be able to connect to Kafka cluster
    ```
    
    This warning was benign since the config is never used to build a kafka
    client, but it is extremely misleading when trying to debug unrelated
    kafka issues.
    
    This change includes the bootstrap.servers config parameter to remove
    the misleading warning.

commit 0f3b19bb661be73dd0e97d3c8128fcc0c41e763e
Merge: 524ebbd52 4563ac3e9
Author: Sean Loiselle <sean@materialize.io>
Date:   Fri Feb 19 12:10:09 2021 -0500

    Merge pull request #5820 from sploiselle/link-fix
    
    docs: refactor link to create sources under connect

commit 4563ac3e972fc37e3c5aaf2ec95543937abd7686
Author: sploiselle <sean@materialize.io>
Date:   Fri Feb 19 12:02:58 2021 -0500

    docs: refactor link to create sources under connect

commit 524ebbd52a3c2572c0eec4c2a92410b92ef075f1
Merge: 027df4540 0df0ad1e0
Author: Brandon W Maister <bwm@materialize.io>
Date:   Fri Feb 19 11:26:50 2021 -0500

    Merge pull request #5723 from quodlibetor/s3-sqs-tests
    
    Add tests for S3 SQS notifications

commit 027df45409262de3d725376eea78c7ea87c9d303
Merge: 7e7715178 8d3d5436b
Author: Sean Loiselle <sean@materialize.io>
Date:   Fri Feb 19 11:13:42 2021 -0500

    Merge pull request #5814 from sploiselle/create-source-links
    
    docs: refactor sources link under connections

commit 7e771517817b6449a23801428a0adf87b48ff6d8
Author: Ruchir Khaitan <ruchir0001@gmail.com>
Date:   Fri Feb 19 08:17:56 2021 -0500

    Make the timestamper do timestamping exactly once per source  (#5585)
    
    * coord/dataflow: timestamp BYO sources exactly once.
    
    Touches #2915.
    
    This commit removes a lot of complexity from the coord and dataflow crates by
    teaching the timestamper to keep track of sources on a per-source rather than
    per source instance basis, and it timestamps BYO sources once.
    
    As a downside, we now have to keep the full set of BYO timestamp bindings in
    memory, but future work will allow us to compact those bindings.

commit d33a1cff5345208a7b54f72d989005b3833ab633
Merge: d8e61d39a 861aa3f7b
Author: Nikhil Benesch <nikhil.benesch@gmail.com>
Date:   Fri Feb 19 00:53:30 2021 -0500

    Merge pull request #5800 from andrioni/andrioni/add-trig-functions
    
    expr,sql: support for trigonometric functions

commit 861aa3f7b29fc8fecd0ff8948a8c645540edfbd0
Author: Alessandro Andrioni <alessandroandrioni@gmail.com>
Date:   Wed Feb 17 18:00:56 2021 +0100

    expr,sql: support for trigonometric functions
    
    Add support for the main trigonometric and hyperbolic functions
    (sin, cos, tan, cot, sinh, cosh, tanh), including tests to ensure
    it matches the semantics from Postgres, as Rust returns `NaN` instead
    of an exception in the case of invalid arguments.

commit d8e61d39a83cd0ebe2e0902ca4f3236fd3be57e0
Merge: d7e96664f 247472aba
Author: Nikhil Benesch <nikhil.benesch@gmail.com>
Date:   Fri Feb 19 00:30:02 2021 -0500

    Merge pull request #5785 from benesch/encode-decode
    
    sql, expr: implement encode/decode functions

commit d7e96664f773bcd2e131c34af4c1e401b2408a8c
Merge: fe8facebe 7466c1268
Author: Nikhil Benesch <nikhil.benesch@gmail.com>
Date:   Fri Feb 19 00:27:38 2021 -0500

    Merge pull request #5819 from MaterializeInc/fix-fast-compiles
    
    doc/developer: correct models in fast-compiles.md

commit 7466c1268c6e673e1c58973616295736ca2e85d8
Author: Nikhil Benesch <nikhil.benesch@gmail.com>
Date:   Fri Feb 19 00:21:01 2021 -0500

    doc/developer: correct models in fast-compiles.md
    
    Per the eagle-eyed @andrioni.

commit 247472aba22f07214a1bf324f7c96576b6cd2182
Author: Alec Posney <alec@denialof.services>
Date:   Mon Feb 15 12:03:17 2021 +0000

    sql, expr: implement encode/decode functions
    
    Implement the PostgreSQL built-in functions encode and decode.
    
    Co-authored-by: Nikhil Benesch <nikhil.benesch@gmail.com>

commit fe8facebea2db422ef438d3efc73da0bc5eec555
Merge: 681c083a2 919753523
Author: Sean Loiselle <sean@materialize.io>
Date:   Thu Feb 18 20:01:59 2021 -0500

    Merge pull request #5813 from sploiselle/function-name-migration-fix-2
    
    coord: fix migration of sinks using `WITH SNAPSHOT AS OF`

commit 91975352314c23167dd66ff26bc3e71d75d53c84
Author: Sean Loiselle <sean@materialize.io>
Date:   Thu Feb 18 16:04:05 2021 -0500

    docs: release notes for catalog migration bug fixes

commit 0df0ad1e025c5a058b122f33eaa402347949bff1
Author: Brandon W Maister <bwm@materialize.io>
Date:   Wed Feb 17 16:29:23 2021 -0500

    s3 sqs tests: Just don't try to re-use the queue
    
    This fixes the problem of the test being flaky somewhat unsatisfyingly.

commit c9952aa2c08250095f186a455162f872126d5c16
Author: Brandon W Maister <bwm@materialize.io>
Date:   Wed Feb 17 16:19:05 2021 -0500

    s3 sqs: More aggresively release SQS messages when clients shut down
    
    Every time an SQS client reads a message from SQS that messages is marked
    invisible, and other clients that read from that queue will not see the
    messages on poll until the visibility timeout[1]. The default timeout is 5
    minutes, but it can be extended up to 12 hours.
    
    The primary reason to do this is to improve the existing test reliability, but
    it will also make interactions with sqs queues a little more intuitive in edge
    cases that involve dropping sources during exploratory SQL programming.
    
    [1]: https://docs.aws.amazon.com/AWSSimpleQueueService/latest/SQSDeveloperGuide/sqs-visibility-timeout.html

commit 32f947fe3875e9a617379582cf56ba98ac4da33a
Author: Brandon W Maister <bwm@materialize.io>
Date:   Wed Feb 10 17:31:34 2021 -0500

    s3 sources: add tests for sqs notifications
    
    These tests might end up being uncomfortably flaky because of AWS S3 SLAs, so
    we may need to disable them.

commit 8d3d5436b4b96f1608fd3d14cdba167396228ae6
Author: Sean Loiselle <sean@materialize.io>
Date:   Thu Feb 18 15:30:17 2021 -0500

    docs: refactor sources link under connections

commit 681c083a21e7cd2b3cc06552ee5ddced93f46d49
Author: Brandon W Maister <bwm@materialize.io>
Date:   Thu Feb 18 16:13:02 2021 -0500

    Don't sleep for infinite time in telemetry retry loop (#5811)
    
    Before this the retryer would continue its exponential decay past an hour. Now
    we say that we only want to sleep at most the maximum poll frequency.

commit feb59b2581b30644285b371027ca2273c4b0e4af
Author: Sean Loiselle <sean@materialize.io>
Date:   Thu Feb 18 16:03:17 2021 -0500

    coord: fix broken migration for sinks using WITH SNAPSHOT AS OF

commit e8b03c2cbadd434d66798eb8148f45ccc1546f2b
Merge: 35e76ef3f 6328605fe
Author: Brandon W Maister <bwm@materialize.io>
Date:   Thu Feb 18 14:48:27 2021 -0500

    Merge pull request #5780 from quodlibetor/telemetry-usage-data
    
    Add uptime and number of timely workers to telemetry data

commit 35e76ef3fe9e461429a70d2deef7e2e1ee992ac2
Merge: 60b75bb28 316ea976b
Author: Micole Sudberg <micole@materialize.io>
Date:   Thu Feb 18 14:35:39 2021 -0500

    Merge pull request #5736 from msudberg/share-source
    
    docs: make source list more noticeable

commit 316ea976bf87ab56b56583a3ce102ef8c779ceaf
Author: Micole Sudberg <micole.sudberg@gmail.com>
Date:   Thu Feb 18 14:20:00 2021 -0500

    Get rid of duplicate file.

commit e316ebde01d9a2e1d4081e970068845b7af55bc0
Author: Micole Sudberg <micole.sudberg@gmail.com>
Date:   Thu Feb 18 14:15:25 2021 -0500

    (doc) Make supported sources more prominent

commit 6328605fe8b00549c43afa1857f9e8808e573fac
Author: Brandon W Maister <bwm@materialize.io>
Date:   Wed Feb 17 17:32:57 2021 -0500

    Update documentation on what telemetry is collected

commit 8ffe27764c6504312b8c97d1627bfb38cc3cedc6
Author: Brandon W Maister <bwm@materialize.io>
Date:   Tue Feb 16 17:43:05 2021 -0500

    Report telemetry data approximately once an hour

commit f4397c12124f3b75141fbdc0d546a6db513b10ff
Author: Brandon W Maister <bwm@materialize.io>
Date:   Tue Feb 16 17:40:46 2021 -0500

    Add uptime and number of timely workers to telemetry data
    
    We are interested in how successfully folks are using materialized, and in what
    configurations.

commit b57f56ebb9d5438db827366ec7e90f7330c19f08
Author: Brandon W Maister <bwm@materialize.io>
Date:   Fri Feb 12 12:20:57 2021 -0500

    Clean up a todo about some data movement

commit a0dc52bbec5c8135bdfa0c5b2397fca686dd7db6
Author: Brandon W Maister <bwm@materialize.io>
Date:   Fri Feb 12 12:01:30 2021 -0500

    telemetry: Make prom metrics utils usable throughout the server
    
    This commit is pure code movement, so that we can use prometheus metrics to
    report on general materialized usage.

commit af2f21ca0b10f5d5291842d93b6abfd1ce29dea2
Author: Micole Sudberg <micole.sudberg@gmail.com>
Date:   Thu Feb 18 13:34:06 2021 -0500

    Note that dropping sinks doesn't drop topics

commit 0555a19da42aac870f4720bf94360ebfb3d60092
Author: Micole Sudberg <micole.sudberg@gmail.com>
Date:   Thu Feb 18 13:27:32 2021 -0500

    Note about dropping Kafka sinks vs. topics

commit 60b75bb2844ef2eb05e79a37577b223937dd7f65
Merge: cfb72745d 8ef6311c7
Author: Sean Loiselle <sean@materialize.io>
Date:   Thu Feb 18 12:52:45 2021 -0500

    Merge pull request #5804 from sploiselle/func-rename-fix
    
    coord: refactor function rename migration

commit 8ef6311c7f642d11a3d104c48b68a4d56641ec5c
Author: Sean Loiselle <sean@materialize.io>
Date:   Wed Feb 17 11:00:45 2021 -0500

    coord: refactor function rename migration
    
    The original implementation of this migration "failed" for functions
    whose arguments were themselves functions. This refactor now properly
    descends into the AST to also examine the function's arguments for
    potential migration opportunities.

commit cfb72745d7b3649a8775ed6f80aad63dab7cf002
Merge: 529bfe1ef 3a27dea02
Author: Nikhil Benesch <nikhil.benesch@gmail.com>
Date:   Thu Feb 18 11:30:10 2021 -0500

    Merge pull request #5789 from benesch/fix-5766
    
    sql: fix resolution of qualified columns in nested scopes

commit 529bfe1efa35d0a5d4ec37ebbbc49f5e29110e1d
Merge: 2a169501b 6db833596
Author: Nikhil Benesch <nikhil.benesch@gmail.com>
Date:   Thu Feb 18 10:57:25 2021 -0500

    Merge pull request #5805 from benesch/tls-12-tests
    
    materialized: use TLS v1.2 in tests

commit 2a169501baabc6301bbb994d006cfab98c496713
Author: Frank McSherry <fmcsherry@me.com>
Date:   Thu Feb 18 07:10:43 2021 -0500

    pick up timely fix (#5794)

commit 6db83359628131514e88a1350615719ec3fbb1f2
Author: Nikhil Benesch <nikhil.benesch@gmail.com>
Date:   Thu Feb 18 00:02:01 2021 -0500

    materialized: disable TLS v1.3 in test_tls
    
    This commit disables use of TLS v1.3 in test_tls. This will put a stop
    to the flakes for once and all.
    
    Briefly, the design of TLS v1.3 causes unstable error messages when a
    client fails to present a certificate. See the comment within for
    details. It's not clear whether we should fix `postgres`/`hyper`,
    OpenSSL, or the TLS specification, so for now we just sidestep the issue
    by using TLS v1.2.

commit 071ed7c625dfccf8177d01fa7a15cf4eda3bb7c8
Author: Andi Wang <5522362+wangandi@users.noreply.github.com>
Date:   Wed Feb 17 17:47:22 2021 -0500

    Upsert: New arrangementless operator to increase speed (#5608)
    
    Switch upsert to use arrangement-less implementation

commit 8501394355f74cfc8f146bc5f614483b2b1a38e0
Merge: 962187567 372a272a0
Author: Nikhil Benesch <nikhil.benesch@gmail.com>
Date:   Wed Feb 17 14:13:59 2021 -0500

    Merge pull request #5791 from benesch/proto-recursive
    
    interchange: reject recursive protobuf messages

commit 96218756710c89f02d0b4ed7eb3ee2640d328ed8
Merge: 5def291d7 a7630aec9
Author: Justin Jaffray <justin.jaffray@gmail.com>
Date:   Wed Feb 17 13:50:46 2021 -0500

    Merge pull request #5801 from justinj/idnames
    
    sql: use the actual syntax for global ids

commit 5def291d77b0cfccc5bed034e003f6579e300dcf
Merge: 971622ffc dc20925c1
Author: Nikhil Benesch <nikhil.benesch@gmail.com>
Date:   Wed Feb 17 13:29:40 2021 -0500

    Merge pull request #5746 from benesch/improve-coord-interface
    
    Fix memory visualization, with a detour through coord

commit 372a272a06d1457528b5aff8f5db66e11d69fb0c
Author: Nikhil Benesch <nikhil.benesch@gmail.com>
Date:   Wed Feb 17 02:48:35 2021 -0500

    interchange: reject recursive protobuf messages
    
    We can't presently handle recursive types, so we need to reject Protobuf
    messages that are recursively defined.
    
    Fix #5609.

commit 971622ffccad7b18b1c9310097227df712a09b44
Merge: efc95a13f 182c34914
Author: Nikhil Benesch <nikhil.benesch@gmail.com>
Date:   Wed Feb 17 13:04:04 2021 -0500

    Merge pull request #5799 from benesch/fmt-neg-zero
    
    repr: format negative zero with a negative sign

commit a7630aec912da99bc010f81d6836cec372db54ca
Author: Justin Jaffray <justin.jaffray@gmail.com>
Date:   Wed Feb 17 12:00:55 2021 -0500

    sql: use the actual syntax for global ids
    
    Previously we used raw ints and assumed they were user ids. This change
    means we always parse the ids.

commit efc95a13f7e94419e2a522c13071f595c70c031b
Author: Ruchir Khaitan <ruchir0001@gmail.com>
Date:   Wed Feb 17 11:36:16 2021 -0500

    LIRR: Low level IR for Reduce (#5600)
    
    dataflow: separate out reduce rendering into planning and building phases
    
    This should be a refactor with no functional changes.

commit 09eaf89dfcfc0226decb9c2c00a94056f76788cf
Author: Jessica Laughlin <JLDLaughlin@users.noreply.github.com>
Date:   Wed Feb 17 11:29:11 2021 -0500

    sql: resolve custom data types during planning (#5757)
    
    This change updates DataType::Custom's name to be of
    type AstInfo::ObjectName, meaning that custom data types
    will be resolved during the planning process. This is
    required to correctly track type dependencies in
    Materialize (#5577).

commit 182c3491480b8a4895847295a2a4cb0bd28dae2f
Author: Nikhil Benesch <nikhil.benesch@gmail.com>
Date:   Wed Feb 17 11:27:33 2021 -0500

    repr: format negative zero with a negative sign
    
    To match PostgreSQL. The discrepancy was noted by @andrioni.
    
    Fix #5798.

commit 6ebb7d218b4de04b8ce5df35040f79e0d0d2f291
Author: Jessica Laughlin <JLDLaughlin@users.noreply.github.com>
Date:   Wed Feb 17 10:59:20 2021 -0500

    doc: update AWS credentials block (#5795)

commit 813aef8993bac07235f08eea1a84692cabdaaa26
Author: Brennan Vincent <brennan@materialize.io>
Date:   Wed Feb 17 10:36:48 2021 -0500

    Keep symbols other than debug symbols (#5796)

commit ddc8125c5e55c6f41f4495febe275067f024bb97
Merge: b675d0b87 9c23fcf7e
Author: Nikhil Benesch <nikhil.benesch@gmail.com>
Date:   Wed Feb 17 10:35:11 2021 -0500

    Merge pull request #5793 from benesch/introspection-frequency
    
    doc/user: rename --logging-granularity to --introspection-frequency and document it

commit b675d0b87816f642a36da72c4482bc87d81e9975
Merge: 1c74eb121 3948f336d
Author: Nikhil Benesch <nikhil.benesch@gmail.com>
Date:   Wed Feb 17 10:34:18 2021 -0500

    Merge pull request #5779 from benesch/ore-is-sorted
    
    ore: forward port Iterator::is_sorted and friends

commit 1c74eb121603afa9298e2b0748e3782909ba67b0
Merge: dfaed6040 3b8d31d2a
Author: Nikhil Benesch <nikhil.benesch@gmail.com>
Date:   Wed Feb 17 10:26:52 2021 -0500

    Merge pull request #5786 from benesch/tls-flake-ii
    
    materialized,pgwire: flush stream after TLS handshake error

commit dfaed604053609ec950f09802a10f9b2235f8794
Merge: da79253ef e9c3bfc67
Author: Nikhil Benesch <nikhil.benesch@gmail.com>
Date:   Wed Feb 17 10:12:26 2021 -0500

    Merge pull request #5788 from benesch/fix-5765
    
    sql: don't mishandle reflexive equality conditions

commit da79253ef7e3394f3a21fbc9de96711c168c8a2b
Merge: 473f7c3c0 97bd6526e
Author: Nikhil Benesch <nikhil.benesch@gmail.com>
Date:   Wed Feb 17 09:48:32 2021 -0500

    Merge pull request #5790 from benesch/better-bt
    
    materialized: better handling of double segfaults

commit 9c23fcf7eca15813ee8ead6f33e5cb60c7af590b
Author: Nikhil Benesch <nikhil.benesch@gmail.com>
Date:   Wed Feb 17 03:06:32 2021 -0500

    doc/user: rename --logging-granularity to --introspection-frequency and document it
    
    A number of mzcompose.yml files were overriding the logging granularity
    for no reason that I could discern. Just remove those overrides whle I'm
    here.
    
    Fix #5775.

commit dc20925c10b20294fa09528c724dca9f5b801d69
Author: Nikhil Benesch <nikhil.benesch@gmail.com>
Date:   Fri Feb 12 02:38:19 2021 -0500

    materialized: fix memory visualization
    
    Apparently we haven't been shipping the WASM file that actually renders
    the graph.

commit b741fa5fbe20354750fe95f1eec0290981c9f2ae
Author: Nikhil Benesch <nikhil.benesch@gmail.com>
Date:   Fri Feb 12 02:36:01 2021 -0500

    coord: remove NoSessionExecute
    
    Remove NoSessionExecute, to force all SQL query execution through the
    same path. In particular, this forces the HTTP interface to construct a
    single-use session rather than using the system session. The upshot is
    that the memory visualization works again, as the session now has a
    proper search path (whereas the system session does not).

commit 0c49d716f176ef3d5b412eb4fecde73a75c767cf
Author: Nikhil Benesch <nikhil.benesch@gmail.com>
Date:   Fri Feb 12 01:04:25 2021 -0500

    coord,pgwire: push ID allocation into coord::Client
    
    This makes it possible for HTTP connections and pgwire connections to
    share connection IDs.

commit b0986fafbbc3ad3412843af2513fd2ca86f51ae0
Author: Nikhil Benesch <nikhil.benesch@gmail.com>
Date:   Fri Feb 12 00:21:52 2021 -0500

    coord,pgwire: move responsibility for secrets into coordinator

commit 1fa83b3bd45cf4f1aa33eece57fc8ed30b35030d
Author: Nikhil Benesch <nikhil.benesch@gmail.com>
Date:   Thu Feb 11 23:47:06 2021 -0500

    coord: use typestates to enforce correct usage of SessionClient
    
    Now that the pgwire startup flow has been refactored, we can use
    typestates to automatically start up sessions when constructing a
    SessionClient.

commit 0dae77320f0283e72aee7ec4475bad204446d104
Author: Nikhil Benesch <nikhil.benesch@gmail.com>
Date:   Thu Feb 11 23:34:51 2021 -0500

    pgwire: refactor interface between Server and StateMachine
    
    Slim down the set of fields in StateMachine by extracting a free
    function to handle most of the startup flow. This will make it easier to
    push responsibility for ID allocation and secret management down to the
    coordinator.

commit 20180ecb20af36e5b8b26268f9014585d3df8424
Author: Nikhil Benesch <nikhil.benesch@gmail.com>
Date:   Thu Feb 11 19:56:47 2021 -0500

    coord: clean up the public interface
    
    Add some new docstrings and copyedit some existing ones. Remove some
    functions and types that didn't need to be public. Tweak the output of
    `serve` so that it returns an opaque handle object and a client; this
    makes booting a coordinator less grotty. Previously you had to thread
    some MPSC transmitters and receivers in just the right ways.

commit 3a27dea029f06dd7dbfddccf4d2c238441dc7d04
Author: Nikhil Benesch <nikhil.benesch@gmail.com>
Date:   Wed Feb 17 02:05:52 2021 -0500

    sql: fix resolution of qualified columns in nested scopes
    
    Per @philip-stoev, the following query was incorrectly succeeding in
    Materialize:
    
        SELECT * FROM (VALUES (true)) a2 (f1) WHERE (
            SELECT TRUE FROM (VALUES (true)) AS a2 (f2)
            WHERE (SELECT a2.f1)
        )
    
    The issue is that we were searching outwards for the first column named
    "a2.f1". The correct behavior is to search outwards for the first
    *table* named "a2"; if that table doesn't contain a column named "f1"
    then we stop searching.
    
    Fix #5766.

commit 97bd6526eb2f0f7385a22cab390371a22e7e0de1
Author: Nikhil Benesch <nikhil.benesch@gmail.com>
Date:   Wed Feb 17 02:23:41 2021 -0500

    materialized: better handling of double segfaults
    
    If we segfault while panicking because of a segfault, do something
    smarter than trying to panic *again*. Usually the issue is a stack
    overflow in the memory allocator, which corrupts the memory allocator
    heap, which means the panic handler is hosed because it allocates.

commit 473f7c3c0bb5a65a3e86bbb26263a146379a1445
Merge: a74c3a3ac 7b71d368a
Author: Nikhil Benesch <nikhil.benesch@gmail.com>
Date:   Wed Feb 17 01:49:13 2021 -0500

    Merge pull request #5787 from benesch/cbrt-attribution
    
    doc/user: attribute cbrt to @andrioni

commit e9c3bfc671fe2781302fa4467f5704e1cfde9927
Author: Nikhil Benesch <nikhil.benesch@gmail.com>
Date:   Wed Feb 17 01:37:02 2021 -0500

    sql: don't mishandle reflexive equality conditions
    
    MySQL allows you to include a column in the SELECT list that is not
    present in the GROUP BY
    
        SELECT t1.a FROM t1 JOIN t2 ON t1.a = t2.a GROUP BY t2.a
    
    using a rudimentary analysis to determine whether the columns are
    declared equivalent via a JOIN. We support this by searching the ON
    clause for "trivial" column equivalences. If we find any, we mark the
    right column as "unnameable" and add its name as an alias for the left
    column.
    
    It turns out this doesn't work in the degenerate case of
    
        SELECT t1.a FROM t1 JOIN t2 ON t1.a = t1.a
    
    that is, when a column is declared equal to itself in an ON clause. In
    this case, when we mark the right column as unnameable, we of course
    also mark the left column as unnameable, and thus that query falsely
    claimed that "t1.a" does not exist.
    
    This commit fixes the issue by changing find_trivial_column_equivalences
    to only surface equivalences if the columns involved in the equality are
    distinct.
    
    Fix #5765.

commit 7b71d368a1bbde2303a0bce752a21ca9fc2631ec
Author: Nikhil Benesch <nikhil.benesch@gmail.com>
Date:   Wed Feb 17 01:29:32 2021 -0500

    doc/user: attribute cbrt to @andrioni
    
    I forgot to credit @andrioni for the cbrt implementation when I merged
    PR #5763.

commit 3b8d31d2adfffc7caeca20164aee04fcebeaa66a
Author: Nikhil Benesch <nikhil.benesch@gmail.com>
Date:   Wed Feb 17 01:12:19 2021 -0500

    materialized,pgwire: flush stream after TLS handshake error
    
    This ensures the client sees the handshake error. Fix #5778.

commit a74c3a3acbd4fdb154f2bf2b690c8183109922df
Merge: dc7ba2ce2 91dacafb5
Author: Nikhil Benesch <nikhil.benesch@gmail.com>
Date:   Tue Feb 16 22:56:03 2021 -0500

    Merge pull request #5751 from benesch/server-version-num
    
    coord: add server_version_num session variable

commit dc7ba2ce229a615388fdd614211905bb071d47af
Author: Frank McSherry <fmcsherry@me.com>
Date:   Tue Feb 16 21:40:13 2021 -0500

    box closure to reduce compilation (#5784)

commit a23f2422d870fc61523245a8d41b785ece9246c4
Author: Brennan Vincent <brennan@materialize.io>
Date:   Tue Feb 16 20:37:00 2021 -0500

    [Orthogonality] Split sources into "bare" and "transformed" versions (#5570)
    
    We now split the concept of source into "bare source" and "source" (or: "transformed" source, "derived" source, etc.). The intent is that the bare source should represent the raw data from the connector, and the transformed version represents the full richness of what we have been calling a "source" until now, including decoding, Debezium processing, upsert envelope application, and so on.
    
    In this PR, the only thing we move out of the bare source is the "explode" call on the diff column, so the bare source still involves relatively a lot of complex logic. But it's a start!
    
    Next work:
    
        Move more stuff out of the bare source and into the derived source; in particular, upsert envelope and avro/csv/etc. decoding.
        Expose the bare source and transformations on it to the user, in SQL (allowing custom transformations)
        Move timestamping to happen at the end of the derived source, rather than being a property of the bare source. This will make the end of source processing a clean boundary between the ingest pipeline and the rest of the system.

commit 4c006c1a98dc8507b573b71427246e3acbe48c23
Author: Jessica Laughlin <JLDLaughlin@users.noreply.github.com>
Date:   Tue Feb 16 20:08:27 2021 -0500

    coord: add SMALLINT and SMALLINT_ARRAY builtins (#5781)
    
    Similar to #5777, this change is required in order to create database
    objects using SMALLINT (or INT2) once we are correctly tracking
    type dependencies (#5577).

commit 3948f336df4fd7a30d7bc58ab3e840e358ba4742
Author: Nikhil Benesch <nikhil.benesch@gmail.com>
Date:   Tue Feb 16 16:29:19 2021 -0500

    ore: forward port Iterator::is_sorted and friends
    
    Iterator::is_sorted is a forthcoming method to the standard library. It
    is quite useful, so copy and paste the implementation from the standard
    library into `ore` with an `mz_` prefix so we can use it before it
    stabilizes.
    
    Once the feature stabilizes, we can remove the implementation from ore.

commit f653054c50ebedd58304171de720c6cda8a7edd8
Author: Jessica Laughlin <JLDLaughlin@users.noreply.github.com>
Date:   Tue Feb 16 16:26:30 2021 -0500

    coord: add CHAR and VARCHAR as builtin types (#5777)
    
    Adds CHAR and VARCHAR types as builtin types, meaning that both
    types will be created in the catalog on start up. This is required for
    users to be able to create objects using CHAR and VARCHAR once we
    start resolving types correctly (#5577).

commit 6a945b88f6daa5ef5bd40b26e1067e237a915084
Merge: 7b489b9ba 9fde5115c
Author: Ruchir Khaitan <ruchir0001@gmail.com>
Date:   Tue Feb 16 16:15:25 2021 -0500

    Merge pull request #5699 from ruchirK/rk-spawn-timestamper-earlier
    
    coord: spawn timestamper before bootstrap

commit 7b489b9bac6d7720a0f3c3c36b19f5ff97b120bf
Author: Brandon W Maister <bwm@materialize.io>
Date:   Tue Feb 16 15:33:33 2021 -0500

    s3 sources: SQS notifications docs (#5724)

commit 56e87c1b9bf7ec6389ec1842dba710987e057287
Author: Chris Golden <551285+cirego@users.noreply.github.com>
Date:   Tue Feb 16 12:14:30 2021 -0800

    Changes to mzbench to run better in "the cloud" (#5755)
    
    This PR has a number of changes to mzbench that are necessary
    for running in the cloud.
    
    - Temporarily drop the psutil dependency. Our AMIs cannot pip install
      psutil due to lack of headers, among other things.
    - Fixup the mapping from git reference to mzbuild reference -- release
      tags are handled differently from unstable versions
    - Use MZ_ROOT as the working directory for the script. This makes both
      mzcompose and git work properly.
    - Add flag to skip benchmarking the code in the current checkout
    - Add flag to enable some amount of debugging output

commit 4aaa91d511aa2f745f310e3b8d349b6bd912b575
Author: Brandon W Maister <bwm@materialize.io>
Date:   Tue Feb 16 15:08:53 2021 -0500

    Add S3-specific Prometheus metrics (#5740)
    
    Per-bucket metrics on objects discovered and downloaded, and bytes/messages read.

commit a87a2838b31962e4e3791fdad1f2160536a48b08
Merge: 5b5804cfb ea92555e5
Author: Brandon W Maister <bwm@materialize.io>
Date:   Tue Feb 16 14:41:04 2021 -0500

    Merge pull request #5569 from quodlibetor/s3-sources-sqs-notifications
    
    s3 sources: Support reading new keys from S3 SQS Notifications

commit 5b5804cfbcd78a2fc82a3cca445deb57828cad39
Merge: 2c1dacd82 5d1138586
Author: Nikhil Benesch <nikhil.benesch@gmail.com>
Date:   Tue Feb 16 11:22:07 2021 -0500

    Merge pull request #5763 from andrioni/andrioni/add-cbrt
    
    expr,sql: support for cbrt

commit 2c1dacd826ec88c50fe2afbcce382fd52abb1c39
Merge: f26c4dac1 6d72e0d3a
Author: Nikhil Benesch <nikhil.benesch@gmail.com>
Date:   Tue Feb 16 11:18:42 2021 -0500

    Merge pull request #5776 from benesch/rand-security
    
    deps: upgrade to rand_core v0.6.2

commit 6d72e0d3a012969e954de9253963fda4c3b3f60d
Author: Nikhil Benesch <nikhil.benesch@gmail.com>
Date:   Tue Feb 16 10:57:37 2021 -0500

    deps: upgrade to rand_core v0.6.2
    
    Upgrade to a version of the rand_core crate that does not refer to
    uninitialized memory.

commit f26c4dac19d988b1497e174cd7540b6315091879
Merge: 0c403b840 789085310
Author: Nikhil Benesch <nikhil.benesch@gmail.com>
Date:   Mon Feb 15 23:32:17 2021 -0500

    Merge pull request #5771 from MaterializeInc/dependabot/cargo/quote-1.0.9
    
    build(deps): bump quote from 1.0.8 to 1.0.9

commit 0c403b840b5523f86b74b78c121fa6501467a65c
Merge: 3ac47d088 d712334e8
Author: Nikhil Benesch <nikhil.benesch@gmail.com>
Date:   Mon Feb 15 23:20:11 2021 -0500

    Merge pull request #5770 from MaterializeInc/dependabot/cargo/snap-1.0.4
    
    build(deps): bump snap from 1.0.3 to 1.0.4

commit 3ac47d0885a110b926240afd7cf82ab06188411e
Merge: 255fa0b95 c02c813fb
Author: Nikhil Benesch <nikhil.benesch@gmail.com>
Date:   Mon Feb 15 23:19:56 2021 -0500

    Merge pull request #5772 from MaterializeInc/dependabot/cargo/sysinfo-0.16.3
    
    build(deps): bump sysinfo from 0.16.1 to 0.16.3

commit 255fa0b9535e80d197a9d51e98ab339553524b13
Merge: eaf3f7b19 1c11d15dd
Author: Nikhil Benesch <nikhil.benesch@gmail.com>
Date:   Mon Feb 15 23:19:45 2021 -0500

    Merge pull request #5773 from MaterializeInc/dependabot/cargo/pprof-0.4.1
    
    build(deps): bump pprof from 0.4.0 to 0.4.1

commit eaf3f7b1962652008237a5fcae777dd3acc8b51a
Merge: 68e55a3d3 4663692af
Author: Nikhil Benesch <nikhil.benesch@gmail.com>
Date:   Mon Feb 15 20:19:23 2021 -0500

    Merge pull request #5769 from MaterializeInc/dependabot/cargo/env_logger-0.8.3
    
    build(deps): bump env_logger from 0.8.2 to 0.8.3

commit 1c11d15dd6ed121f48e39b2f81e397ddaa8f4879
Author: dependabot[bot] <49699333+dependabot[bot]@users.noreply.github.com>
Date:   Mon Feb 15 22:07:01 2021 +0000

    build(deps): bump pprof from 0.4.0 to 0.4.1
    
    Bumps [pprof](https://github.com/tikv/pprof-rs) from 0.4.0 to 0.4.1.
    - [Release notes](https://github.com/tikv/pprof-rs/releases)
    - [Commits](https://github.com/tikv/pprof-rs/commits)
    
    Signed-off-by: dependabot[bot] <support@github.com>

commit c02c813fb87aa2d728f021ff20be2cee34a30d76
Author: dependabot[bot] <49699333+dependabot[bot]@users.noreply.github.com>
Date:   Mon Feb 15 22:06:39 2021 +0000

    build(deps): bump sysinfo from 0.16.1 to 0.16.3
    
    Bumps [sysinfo](https://github.com/GuillaumeGomez/sysinfo) from 0.16.1 to 0.16.3.
    - [Release notes](https://github.com/GuillaumeGomez/sysinfo/releases)
    - [Commits](https://github.com/GuillaumeGomez/sysinfo/commits)
    
    Signed-off-by: dependabot[bot] <support@github.com>

commit 789085310537971e4e47398128516753264dd9fe
Author: dependabot[bot] <49699333+dependabot[bot]@users.noreply.github.com>
Date:   Mon Feb 15 22:06:25 2021 +0000

    build(deps): bump quote from 1.0.8 to 1.0.9
    
    Bumps [quote](https://github.com/dtolnay/quote) from 1.0.8 to 1.0.9.
    - [Release notes](https://github.com/dtolnay/quote/releases)
    - [Commits](https://github.com/dtolnay/quote/compare/1.0.8...1.0.9)
    
    Signed-off-by: dependabot[bot] <support@github.com>

commit d712334e8f31328afb2fd14b6fd6ee27e3f0f772
Author: dependabot[bot] <49699333+dependabot[bot]@users.noreply.github.com>
Date:   Mon Feb 15 22:05:30 2021 +0000

    build(deps): bump snap from 1.0.3 to 1.0.4
    
    Bumps [snap](https://github.com/BurntSushi/rust-snappy) from 1.0.3 to 1.0.4.
    - [Release notes](https://github.com/BurntSushi/rust-snappy/releases)
    - [Commits](https://github.com/BurntSushi/rust-snappy/compare/1.0.3...1.0.4)
    
    Signed-off-by: dependabot[bot] <support@github.com>

commit 4663692af1ae296fd569a60cf8cc388e4651c984
Author: dependabot[bot] <49699333+dependabot[bot]@users.noreply.github.com>
Date:   Mon Feb 15 22:05:12 2021 +0000

    build(deps): bump env_logger from 0.8.2 to 0.8.3
    
    Bumps [env_logger](https://github.com/env-logger-rs/env_logger) from 0.8.2 to 0.8.3.
    - [Release notes](https://github.com/env-logger-rs/env_logger/releases)
    - [Changelog](https://github.com/env-logger-rs/env_logger/blob/master/CHANGELOG.md)
    - [Commits](https://github.com/env-logger-rs/env_logger/compare/v0.8.2...v0.8.3)
    
    Signed-off-by: dependabot[bot] <support@github.com>

commit 5d1138586cf3a342caa0a482e32ff386bdcc55ed
Author: Alessandro Andrioni <alessandroandrioni@gmail.com>
Date:   Sun Feb 14 19:53:48 2021 +0100

    expr,sql: support for cbrt
    
    Add cbrt (cubic root) support for f64, following the same approach as
    PostgreSQL. Implicit casts from f32 -> f64 and numeric -> f64 mean that
    cbrt can be called with f32 or numeric arguments, though the output will
    still be an f64.
    
    Also remove the f32-specific implementation of sqrt, which is not
    necessary per PostgreSQL.
    
    Co-authored-by: Nikhil Benesch <nikhil.benesch@gmail.com>

commit 68e55a3d371850e67605514376604c5a9475f9d5
Author: Frank McSherry <fmcsherry@me.com>
Date:   Mon Feb 15 11:12:17 2021 -0500

    Top k optimizations (#5768)
    
    * top k optimizations
    
    * expr: avoid trailing whitespace in empty constants
    
    So that these plans can be emitted in SLT files and such.
    
    Co-authored-by: Nikhil Benesch <nikhil.benesch@gmail.com>

commit c7997975a787f428b97d912e2e18836adb27e5cc
Merge: 47d408377 8b6af5a65
Author: Nikhil Benesch <nikhil.benesch@gmail.com>
Date:   Sat Feb 13 21:14:53 2021 -0500

    Merge pull request #4263 from benesch/index-with
    
    sql: support `CREATE INDEX ... WITH`

commit 8b6af5a65e6eb92301f4e60e36af8e940d2ebf5a
Author: Nikhil Benesch <nikhil.benesch@gmail.com>
Date:   Tue Sep 22 00:34:41 2020 -0400

    sql: support `CREATE INDEX ... WITH`
    
    Add support for setting index options directly at index creation time.
    Previously setting these options required a separate call to `ALTER
    INDEX`.
    
    Fix #4231.

commit 47d40837749230f717c55a631af5196f2ec3ed85
Merge: ba6fc13be caef1b464
Author: Nikhil Benesch <nikhil.benesch@gmail.com>
Date:   Sat Feb 13 15:00:22 2021 -0500

    Merge pull request #5761 from benesch/zero-dim-arrays
    
    expr,repr: handle zero-dimensional arrays per PostgreSQL

commit caef1b46463a3753ba2bf441e170a7b9ba32a026
Author: Nikhil Benesch <nikhil.benesch@gmail.com>
Date:   Sat Feb 13 14:21:27 2021 -0500

    expr,repr: handle zero-dimensional arrays per PostgreSQL
    
    Per PostgreSQL, arrays with no elements are represented as having zero
    dimensions, rather than having one dimension of zero length.
    
    We don't need to mention this in the release notes because these sorts
    of details about arrays are intentionally undocumented.
    
    Fix #5545.

commit ba6fc13be110d66d23fc46a4f7cb224699602bdf
Merge: 6f9db403a 60b5d55a9
Author: Nikhil Benesch <nikhil.benesch@gmail.com>
Date:   Sat Feb 13 13:27:01 2021 -0500

    Merge pull request #5760 from benesch/better-tls-errors
    
    materialized: improve test_tls error messages

commit 60b5d55a9966b5165bbf47ccad4d4cc74895ceb9
Author: Nikhil Benesch <nikhil.benesch@gmail.com>
Date:   Sat Feb 13 12:46:10 2021 -0500

    materialized: improve test_tls error messages
    
    This test is still failing in CI occasionally, but it is impossible to
    determine why because the containment assertions simply print `false`
    when they fail. Introduce a new assert_contains macro that will fail
    with a more descriptive error message.

commit 6f9db403af443e81a77f57a1714bcda7d377170b
Merge: 407a63d9c c9b0abde3
Author: Nikhil Benesch <nikhil.benesch@gmail.com>
Date:   Sat Feb 13 13:07:50 2021 -0500

    Merge pull request #5759 from benesch/data-dir
    
    materialized: restore the -D shorthand flag for --data-directory

commit c9b0abde378536edad9bee2098253dbcfadfb5a5
Author: Nikhil Benesch <nikhil.benesch@gmail.com>
Date:   Sat Feb 13 10:55:23 2021 -0500

    materialized: restore the -D shorthand flag for --data-directory
    
    This was accidentally removed in #5441.

commit 407a63d9c7c94c161f49ad795075856fb0f02a6d
Merge: 7d93982a5 39c753ee1
Author: Nikhil Benesch <nikhil.benesch@gmail.com>
Date:   Fri Feb 12 20:56:19 2021 -0500

    Merge pull request #5727 from benesch/float-fixes
    
    expr,sql: correct many bugs in float casts and rounding

commit 7d93982a5f2b130aecdd9edf082e29d3a5894d5c
Merge: 940dbccb6 d03a3cff1
Author: Matt Jibson <matt.jibson@gmail.com>
Date:   Fri Feb 12 18:53:31 2021 -0700

    Merge pull request #5734 from mjibson/insert-check
    
    coord: verify diff target exists on commit

commit 39c753ee18c9a16447776f595c4db4ec775928b2
Author: Nikhil Benesch <nikhil.benesch@gmail.com>
Date:   Wed Feb 10 15:58:05 2021 -0500

    expr,sql: correct many bugs in float casts and rounding
    
    Import most of the PostgreSQL tests for the float4 and float8 types and
    shake out most of the resulting bugs:
    
      * Floats round ties to the nearest even number, in conformance
        with IEEE 754 and PostgreSQL.
    
      * Overflow and underflow when casting to and from floats is reported
        as in PostgreSQL.
    
    The upshot is that arithmetic on the result of `extract` properly
    handles overflow, so fixes #5688.

commit 940dbccb67c7a5d216d40871aa45c263c849433c
Merge: 7dac12c01 c20581357
Author: Nikhil Benesch <nikhil.benesch@gmail.com>
Date:   Fri Feb 12 20:38:31 2021 -0500

    Merge pull request #5754 from benesch/doc-priv-and-pub
    
    bin/doc: build Rust documentation with and without private items

commit 7dac12c018c46b4f2a64489fae97e674f929a6a8
Merge: 806fe14fc 329862dd7
Author: Matt Jibson <matt.jibson@gmail.com>
Date:   Fri Feb 12 17:48:38 2021 -0700

    Merge pull request #5753 from mjibson/duplicate-portal
    
    coord: error on duplicate portal

commit 329862dd72ffaccadfeb8a977da5166ac77b968c
Author: Matt Jibson <matt.jibson@gmail.com>
Date:   Fri Feb 12 14:51:25 2021 -0700

    coord: error on duplicate portal
    
    Named portals cannot be overwritten. This fixes a file descriptor/memory
    leak due to orphaned sinks being created during DECLARE TAIL.
    
    Fixes #5543

commit 806fe14fceccfb78584aae220e572e6870b9a145
Merge: 98b932ea0 b7b96219e
Author: Nikhil Benesch <nikhil.benesch@gmail.com>
Date:   Fri Feb 12 17:05:05 2021 -0500

    Merge pull request #5749 from benesch/no-dataflow-types
    
    sql-parser: remove dependency on dataflow-types

commit c2058135733dec770c69a836cb3b4d21d44ce06b
Author: Nikhil Benesch <nikhil.benesch@gmail.com>
Date:   Fri Feb 12 17:00:05 2021 -0500

    bin/doc: build Rust documentation with and without private items
    
    Alternative to #5752 that allows for both modes of operation.

commit 91dacafb5f68e43abd80147740097384926c4ec5
Author: Nikhil Benesch <nikhil.benesch@gmail.com>
Date:   Fri Feb 12 15:56:28 2021 -0500

    coord: add server_version_num session variable
    
    This is a read-only variable that represents the server_version variable
    as an integer. It is inspected by some PostgreSQL tools, like
    Postgraphile.

commit 98b932ea0dd1cc7ad45d0db633a22dbec9360834
Author: Frank McSherry <fmcsherry@me.com>
Date:   Fri Feb 12 15:51:59 2021 -0500

    disable linear operators before upsert (#5750)

commit b043e13ef12d57d92550a50ec8ff8afe2e8754aa
Author: Frank McSherry <fmcsherry@me.com>
Date:   Fri Feb 12 15:42:21 2021 -0500

    Express all filters in plan format (#5748)
    
    * express all filters in plan format
    
    * explain obscure logic better
    
    * correct comment
    
    * demonstrate use in source predicate evaluation

commit b7b96219e44ba03917c7dab06b23590dbdb499dd
Author: Nikhil Benesch <nikhil.benesch@gmail.com>
Date:   Fri Feb 12 15:19:28 2021 -0500

    sql-parser: remove dependency on dataflow-types
    
    sql-parser should not depend on dataflow-types; it is the SQL planner's
    exclusive responsibility to convert the SQL AST into the types in
    dataflow-types.

commit 18058c8066727d44323de3402e72b9cdf050f55c
Author: Jessica Laughlin <JLDLaughlin@users.noreply.github.com>
Date:   Fri Feb 12 14:26:40 2021 -0500

    sql: rename ObjectName and AstInfo's associated type (#5719)
    
    This change renames ObjectName to UnresolvedObjectName, allowing
    us to rename AstInfo's Table type to ObjectName. Since AstInfo will
    be tracking more than tables, this name is more fitting.

commit 9fde5115c14e81ac23d29b3604ea878ade4384f6
Author: Ruchir Khaitan <ruchir0001@gmail.com>
Date:   Fri Feb 12 12:39:39 2021 -0500

    coord: spawn timestamper before bootstrap
    
    Touches #2915
    
    This is in preparation of future work that will change the interface between
    the coordinator, timestamper and dataflow worker threads. This commit moves
    timestamper initialization to happen before catalog bootstrap and simplifies some
    coordinator code along the way. There should be no functional changes with this
    commit.

commit 182ec48ed137e42237ccc54335f80e7ac23f556c
Merge: 3c39060d3 7b311030e
Author: Nikhil Benesch <nikhil.benesch@gmail.com>
Date:   Fri Feb 12 10:53:50 2021 -0500

    Merge pull request #5747 from benesch/tls-flake
    
    materialized: fix flake in TLS test

commit ea92555e53d5939622ba63db983febf92768ebd4
Author: Brandon W Maister <bwm@materialize.io>
Date:   Wed Feb 10 16:12:35 2021 -0500

    s3 sources: Correctly shut down readers when dataflows are shut down
    
    Backwards communication from dataflow to sources happens because the dataflow
    ingestors shut down their read queues. The correct response of something
    feeding data into a queue when that queue shuts down is to shut down itself.

commit b4f85c4261bf9341ccee9946c4b4c65269d29afe
Author: Brandon W Maister <bwm@materialize.io>
Date:   Wed Feb 10 15:41:59 2021 -0500

    s3 sources: React to the timestamper owning consistency info
    
    Defining "partitions" for S3 requires some thought, and we don't currently know
    what it should be. So for right now, treat all S3 sources as having a single
    partition.
    
    https://github.com/MaterializeInc/materialize/issues/5715

commit 6fa27f876b161667ddffdde0deb4302056f375df
Author: Brandon W Maister <bwm@materialize.io>
Date:   Tue Feb 2 17:56:05 2021 -0500

    Support reading new keys from SQS notifications
    
    With this, it is possible to configure AWS S3 Notifications[1] and to have
    materialized continue reading new objects as they are added to the bucket.
    
    S3 notifications must be established independently of Materialize.
    
    [1]: https://docs.aws.amazon.com/AmazonS3/latest/dev/NotificationHowTo.html

commit 7b311030e9548364188d0ad5d0346f6f731e3ebc
Author: Nikhil Benesch <nikhil.benesch@gmail.com>
Date:   Fri Feb 12 02:55:53 2021 -0500

    materialized: fix flake in TLS test
    
    Hyper sometimes gives back the right error message, rather than the
    useless "channel closed" error message, when a client certificate is
    required. Just accept both error messages in the test.
    
    Fix #5744.

commit 3c39060d3025794f4f0dca62f64282ea4c07f635
Author: Chris Golden <551285+cirego@users.noreply.github.com>
Date:   Thu Feb 11 21:35:10 2021 -0800

    Add example showing how to use asyncpg with TAIL (#5743)

commit ab20d980f288a3897f37c257ebdbe2c1c21e072e
Author: Chris Golden <551285+cirego@users.noreply.github.com>
Date:   Thu Feb 11 21:32:15 2021 -0800

    Convert psycopg3 example to use stream method (#5742)

commit 571735476c83a8f40e929368b2c454d7030b3685
Author: Frank McSherry <fmcsherry@me.com>
Date:   Thu Feb 11 22:16:52 2021 -0500

    Temporal filters (#5635)
    
    * add render_filter with temporal support
    
    * connect render_filter implementation, prevent MFP from collecting temporal predicates
    
    * teach coordinator to permit temporal predicates
    
    * correct column_knowledge recursion on nullary ops
    
    * attempt to identify non-idiomatic uses
    
    * mark code blocks in docs as ignore
    
    * change optimization; guard against constant eval of temporal ops
    
    * cargo fmt
    
    * add unsophisticated test
    
    * who even knows?
    
    * documentation attempt
    
    * add a newline because
    
    * correct detection for reversible temporal comparison
    
    * test for null values in temporal bounds
    
    * improve error messages
    
    * additional tests around mz_logical_timestamp in WHERE clauses
    
    * remove offending query
    
    * retain MzLogicalTimestamp in explain queries
    
    * gate with --experimental
    
    * allow non-temporal filters
    
    * correct explain.slt
    
    * remove temporal filters from documentation
    
    * remove unnecessary DDL from temporal.td
    
    * respond to review feedback
    
    * add clarity about one-sided bounds
    
    * add clarity about one-sided bounds
    
    * rework bounds logic for clarity, improvements
    
    * update monotonicity analysis
    
    * address clippy toss; correct test
    
    Co-authored-by: Philip Stoev <pstoev@materialize.io>

commit b3b8be51587f2fba9b5dc13f51159cbcf39a5e0b
Merge: d184cd0f8 fc3e896f7
Author: Nikhil Benesch <nikhil.benesch@gmail.com>
Date:   Thu Feb 11 18:07:25 2021 -0500

    Merge pull request #5738 from benesch/ci-lld
    
    ci: use lld instead of the standard linker

commit fc3e896f7270c53c84b1bb58d23af83ace4c23ce
Author: Nikhil Benesch <nikhil.benesch@gmail.com>
Date:   Thu Feb 11 17:15:07 2021 -0500

    ci: use lld instead of the standard linker
    
    lld should be a good bit faster and use a good bit less memory. The hope
    is that this will resolve the linker OOMs we've been seeing in CI.

commit d184cd0f83924dcf79e53aef3f0ea5d2da7ba998
Author: Frank McSherry <fmcsherry@me.com>
Date:   Thu Feb 11 16:21:34 2021 -0500

    Stage deltajoin planning and rendering (#5707)
    
    * stage deltajoin planning and rendering
    
    * address clippy concerns
    
    * rename consistently
    
    * make initial and final closures optional
    
    * final touch ups

commit be31c6f003805c6546477502c4b93b5487309974
Author: Micole Sudberg <micole.sudberg@gmail.com>
Date:   Thu Feb 11 15:44:06 2021 -0500

    (doc) Create separate, more noticeable page for Sources

commit 8790ca9905b4d6771126b947c9c6fe80a7eea38e
Author: Micole Sudberg <micole.sudberg@gmail.com>
Date:   Thu Feb 11 15:43:37 2021 -0500

    (doc) Create separate, more noticeable page for Sources

commit ca08e17e1117b6b62b2d2506a7f1b1cc84607b43
Merge: ee825067e 7b1b81cfb
Author: Micole Sudberg <micole@materialize.io>
Date:   Thu Feb 11 15:34:31 2021 -0500

    Merge pull request #5551 from msudberg/4487
    
    Materialize CDC format doc

commit d03a3cff1fe381522c4a307968a02f105597e5e8
Author: Matt Jibson <matt.jibson@gmail.com>
Date:   Thu Feb 11 12:50:21 2021 -0700

    coord: verify diff target exists on commit
    
    Fixes #5725

commit ee825067e9d4bf9a38ab6d96f0f1b75bb3709aa9
Merge: 3fca3ea8d 01eb5fd8a
Author: Nikhil Benesch <nikhil.benesch@gmail.com>
Date:   Thu Feb 11 14:21:35 2021 -0500

    Merge pull request #5620 from benesch/tls-auth
    
    materialized: tls auth

commit 3fca3ea8d458e8819ba3c45922d997a691de4236
Merge: e2817b5d5 c2c2cb3f8
Author: Micole Sudberg <micole.sudberg@gmail.com>
Date:   Thu Feb 11 13:52:50 2021 -0500

    Merge pull request #5731 from msudberg/5344
    
    5344: documentation of bytea data type

commit c2c2cb3f803cf8a11f1608d15a8a7dc0bc57d850
Author: Micole Sudberg <micole.sudberg@gmail.com>
Date:   Tue Feb 9 18:12:17 2021 -0500

    Bytea data type doc.
    
    (docs) bytea datatype
    
    (doc) bytea data type
    
    (doc) bytea data type

commit 01eb5fd8a79225bb39e3e50ae80d33e6dd176baf
Author: Nikhil Benesch <nikhil.benesch@gmail.com>
Date:   Thu Feb 11 13:06:46 2021 -0500

    materialized: remove "allow" TLS mode
    
    Per @elindsey's request, remove the "allow" TLS mode because it has
    questionable security properties. We may need to add the mode back if
    user's request it; if so, we can revert this commit.

commit dd7aea4e84b30844015bfae30b36c14250238f91
Author: Nikhil Benesch <nikhil.benesch@gmail.com>
Date:   Thu Feb 4 20:40:57 2021 -0500

    materialized: support tls authentication
    
    Support authentication via TLS client certificates, in addition to
    encryption.
    
    Fix #4626.

commit e2817b5d5cd636d19dcf201bd54ae3623e0f60dd
Merge: c499fdcee f8c7bfaf8
Author: Nikhil Benesch <nikhil.benesch@gmail.com>
Date:   Thu Feb 11 10:31:25 2021 -0500

    Merge pull request #5728 from benesch/tweak-panic
    
    materialized: tweak panic message some more

commit c499fdceeebf5953cf043e09023cbcbf64f1f922
Merge: 61b031e91 25d7d4206
Author: Nikhil Benesch <nikhil.benesch@gmail.com>
Date:   Thu Feb 11 10:22:31 2021 -0500

    Merge pull request #5638 from benesch/no-distributed
    
    *: temporarily remove distributed mode

commit 25d7d4206d65c49b602ba591892d761b89a3ec37
Author: Nikhil Benesch <nikhil.benesch@gmail.com>
Date:   Sat Feb 6 13:56:05 2021 -0500

    *: temporarily remove distributed mode
    
    Very early on in its life, Materialize learned to support a distributed
    mode (#228), powered by Timely's support for scaling computation across
    multiple processes. Unfortunately we never found the time to
    productionalize this mode, and as a result it is quite fragile. We do
    not presently recommend that anyone use distributed mode in production.
    
    The headline problem with distributed mode is that a single transient
    network error will cause the entire process to crash. This is true of
    the network communications managed by both Timely and Materialize. The
    assumption that the network is reliable is baked in pretty deeply and is
    therefore not easy to change on short notice.
    
    Even though we discourage use of distributed mode, we carry around a lot
    of complexity to support it:
    
      * The entire `comm` package exists only in service of distributed mode.
        It provides channels that work over TCP, so that the coordinator can
        communicate with workers in different processes.
    
      * `comm` channels are clunky to use, because you have to initiate a
        TCP connection before you can use them. This is a fallible
        operation, which means code interacting with these channels needs to
        be prepared to handle errors nearly everywhere... of course, none of
        it does, so we just have a lot of `unwraps` lying around.
    
      * `comm` channels route interthread communication through the kernel,
        which is... certainly not a performance enhancement, though it's
        unclear just how costly it is.
    
      * `comm` channels use up ports/file descriptors, which are not free
        resources. Users have reported crashes in Materialize due to file
        descriptor exhaustion.
    
      * Server startup is complicated because it has to handle the case of a
        process that is only hosting Timely workers, and not a coordinator
        or pgwire server or HTTP server.
    
      * Network configuration is complicated because a Materialize process
        needs to listen for incoming Timely worker traffic from other nodes,
        rather than just incoming user traffic. This increases the surface
        area that needs to be secured when exposing a materialized process
        to a public network.
    
    This commit is a proposal to temporarily remove distributed mode and all
    the complexity it entails. The plan is still very much to support a
    distributed mode in the future, but to do so when we have the
    engineering bandwidth to manage the complexity.
    
    Specifically, this commit:
    
      * removes the `comm` package,
    
      * replaces all use of `comm` channels with channels from either
        `tokio` or `crossbeam_channel`, i.e., production-grade channels with
        proper semantics and performance,
    
      * eliminates the concept of distributed mode from server startup.
    
    The immediate benefit is that we needn't worry about securing Timely's
    internal communications in the cloud product. Other short-term benefits
    include possible performance speedups (we should measure!) and
    simplifications in the coordinator.
    
    Of course, there is a long-term downside here, which is that we will
    start to implicitly encode assumptions about the fact that Materialize
    is a single-node system into the code. All those assumptions will have
    to be rewound when we do pursue distributed mode in the future.

commit 61b031e91a07b76d2ec1ac9765cb71062b2a9ef1
Author: Chris Golden <551285+cirego@users.noreply.github.com>
Date:   Wed Feb 10 21:06:08 2021 -0800

    Add iterations flag to mzbench (#5726)
    
    While the measurements are precise, we are not certain if they are
    accurate. By increasing the number of measurements per datapoint, we
    hope to understand if the measurements are accurate or noisy.

commit f8c7bfaf8e1b832c7b647bcb99a665fbfc2d2bf0
Author: Nikhil Benesch <nikhil.benesch@gmail.com>
Date:   Wed Feb 10 22:17:28 2021 -0500

    materialized: tweak panic message some more
    
    Expand the panic message out to multiple lines, so the various fields
    are more clear. The effect is that a panic that previously rendered like
    so
    
        materialized v0.7.1-dev (4ffb6910a) listening on 0.0.0.0:6875...
        2021-02-11T02:59:38.549439Z ERROR panic: <unnamed>: something is wrong at '/home/benesch/Sites/materialize/materialize/src/coord/src/coord.rs:373:9'
           0: materialized::handle_panic
                     at src/materialized/src/bin/materialized/main.rs:575:78
           1: core::ops::function::Fn::call
        ...
    
    now renders as:
    
        2021-02-11T03:14:16.915980Z ERROR panic: something is wrong
        thread: <unnamed>
        location: /home/benesch/Sites/materialize/materialize/src/coord/src/coord.rs:373:9
        version: 0.7.1-dev (4ffb6910a5deccede61abd9cb67c8a29fe38145c)
        backtrace:
           0: materialized::handle_panic
                     at src/materialized/src/bin/materialized/main.rs:588:21
           1: core::ops::function::Fn::call
        ...
    
    I think this makes it much more clear that "<unnamed>" refers to a
    thread.
    
    The other big win of the new format is the inclusion of the version
    information. Empirically we've found users are good at getting us the
    backtrace, but not always the whole log file with the version
    information. Reproducing the version info in the panic handler should
    help with that.

commit f6b486b3d6fe6edefbde842b1be40363b99da3f3
Author: Brandon W Maister <bwm@materialize.io>
Date:   Wed Feb 10 17:18:34 2021 -0500

    Add an error message if partition metrics do not exist (#5716)

commit 7b1b81cfbfec037cda1b29ec8320d4b4209a3746
Author: Micole Sudberg <micole.sudberg@gmail.com>
Date:   Wed Feb 10 16:07:57 2021 -0500

    minor formatting fix

commit 05e6993fcab09b56d6e9e802f37eded47eb3fb76
Author: Micole Sudberg <micole.sudberg@gmail.com>
Date:   Wed Feb 10 15:59:18 2021 -0500

    Addressing Frank's comments

commit cbe0c887a452e347b2d937e2de7a28b01a80cb67
Merge: c0dfcb4a0 4b77eb3e7
Author: Brandon W Maister <bwm@materialize.io>
Date:   Wed Feb 10 13:55:15 2021 -0500

    Merge pull request #4588 from quodlibetor/emacs-testdrive
    
    Add an emacs testdrive mode

commit c0dfcb4a0ba3ddfeb5c5ffada9c0fe0405198940
Merge: 4ffb6910a ac68c3e55
Author: Nikhil Benesch <nikhil.benesch@gmail.com>
Date:   Wed Feb 10 13:38:38 2021 -0500

    Merge pull request #5714 from benesch/bump-nightly-again
    
    ci: bump nightly image again

commit 4b77eb3e7bb2c5dce5402d0386ebd02cc530dad1
Author: Brandon W Maister <bwm@materialize.io>
Date:   Mon Nov 2 12:13:01 2020 -0500

    use materialize product if available

commit 02b7f94da0f4b56bf09ae38fa826e920537d5de9
Author: Brandon W Maister <bwm@materialize.io>
Date:   Thu Oct 22 22:14:17 2020 -0400

    Add an emacs testdrive mode
    
    This uses `polymode` to actually enter the various meaningful submodes for different
    parts of testdrive files, which is (so far) a pretty nice experience.

commit ac68c3e553e67ea7dc488ed4d32507e5ee57cf34
Author: Nikhil Benesch <nikhil.benesch@gmail.com>
Date:   Wed Feb 10 12:46:40 2021 -0500

    ci: bump nightly image again
    
    The new nightly image includes the new psutil Python dependency.

commit 4ffb6910a5deccede61abd9cb67c8a29fe38145c
Author: Brandon W Maister <bwm@materialize.io>
Date:   Wed Feb 10 12:08:08 2021 -0500

    panic: fix panic location message (#5710)
    
    This was meant to be the format of the PR, git failed me or I failed git.

commit 753a52c9ccd72aa6f07ecf3e395b3f1052163ab4
Author: Chris Golden <551285+cirego@users.noreply.github.com>
Date:   Wed Feb 10 08:26:50 2021 -0800

    Add mzbench script for running benchmarks multiple times (#5686)
    
    The mzbench script is documented under doc/developer/mzbench.md. It's
    purpose is to run a benchmark many times, varying parameters such as git
    checkout and number of materialized worker threads. mzbench is aware of
    how many CPUs are on the host system and tries to pick interesting worker
    counts accordingly.
    
    This requires rewriting a bit of the workflows, as they must now be broken
    into two parts: setup and run.

commit 16c1c824c11ed3150d6fef61d574600f0113d61e
Author: Brandon W Maister <bwm@materialize.io>
Date:   Wed Feb 10 10:54:07 2021 -0500

    errors: Add panic location to backtrace errors (#5708)
    
    This adds the exact location that `panic!()` or `unrap()` was called to the
    error line, making the right place to look in the backtrace much more obvious.

commit a902f22e4d4d86d9f72e1d3960d2518620d98fac
Merge: c3c1f3e69 b3ef68efd
Author: Nikhil Benesch <nikhil.benesch@gmail.com>
Date:   Wed Feb 10 10:42:37 2021 -0500

    Merge pull request #5706 from benesch/bump-nightly-ci
    
    ci: bump nightly builder image

commit c3c1f3e69ce8d57824874cfc424c11d3a17f124f
Merge: c78c897f9 b3f34821b
Author: Eli Lindsey <eli@siliconsprawl.com>
Date:   Wed Feb 10 10:16:14 2021 -0500

    Merge pull request #5672 from elindsey/conspart
    
    keep the consistency topic as a single partition

commit c78c897f9f61bc499543a02005941fc28e4edb58
Merge: 1716a4cec 4100635db
Author: Justin Jaffray <justin.jaffray@gmail.com>
Date:   Wed Feb 10 10:09:20 2021 -0500

    Merge pull request #5681 from justinj/id-name
    
    sql: allow specifying a table by id

commit 3ae6a9ba8381f1e2239c06dbf589063c0df34796
Author: Micole Sudberg <micole.sudberg@gmail.com>
Date:   Wed Feb 10 10:04:51 2021 -0500

    clarified purpose of example changefeed output

commit 4100635dbe8abdf7f6d7eaa2f6d2bc4a58adc4b5
Author: Justin Jaffray <justin.jaffray@gmail.com>
Date:   Mon Feb 8 17:58:29 2021 -0500

    sql: allow specifying a table by id
    
    This will hopefully pave the way to serialize views with references to
    ids, rather than table names, which will make it save to rename tables.

commit ebb68ab6dac087f3059eb473f5ad6ccbe389d5cb
Merge: 3d36715c7 eb2fa3527
Author: Micole Sudberg <micole.sudberg@gmail.com>
Date:   Wed Feb 10 09:32:47 2021 -0500

    Merge branch '4487' of github.com:msudberg/materialize into 4487

commit 3d36715c74b37a398a26f4e2a990815163fb4b18
Author: Micole Sudberg <micole.sudberg@gmail.com>
Date:   Wed Feb 10 09:32:19 2021 -0500

    added link to Avro schema doc

commit 1716a4cecdcf3a47f8a1dbd3434d4d6c8036b4ca
Merge: 49d3aa4ce 75c895d0f
Author: Nikhil Benesch <nikhil.benesch@gmail.com>
Date:   Wed Feb 10 07:33:05 2021 -0500

    Merge pull request #5700 from benesch/extract-null
    
    expr: propagate errors when reducing date_{part,trunc}

commit 75c895d0fd78af595984b8346023a03464ca400e
Author: Philip Stoev <pstoev@materialize.io>
Date:   Wed Feb 10 08:38:10 2021 +0100

    add copyright header to test/testdrive/date_func.td

commit 37bb1d8e7712567250f4e8e09460ec90dfd7fc21
Author: Philip Stoev <pstoev@materialize.io>
Date:   Wed Feb 10 08:23:23 2021 +0100

    Tests for "Argument to EXTRACT not checked for correctness"

commit c682e6b3ac5ea5faa2bf9228beca9fcedb2acdb6
Author: Nikhil Benesch <nikhil.benesch@gmail.com>
Date:   Wed Feb 10 00:24:26 2021 -0500

    expr: propagate errors when reducing date_{part,trunc}
    
    Fix #5521.

commit b3ef68efde2cdd4919546eedb35324dda9911bf6
Author: Nikhil Benesch <nikhil.benesch@gmail.com>
Date:   Tue Feb 9 23:47:03 2021 -0500

    ci: bump nightly builder image
    
    We need a newer nightly to compile Rust 1.49.0.

commit 49d3aa4ce72b46abb70a8501def08ea2e186ab76
Merge: a9d23d31f 5e8a4dff0
Author: Nikhil Benesch <nikhil.benesch@gmail.com>
Date:   Tue Feb 9 21:57:01 2021 -0500

    Merge pull request #5693 from benesch/sql-docs
    
    sql: improve module docs

commit 5e8a4dff08af53aea315a49773a79adad0713862
Author: Nikhil Benesch <nikhil.benesch@gmail.com>
Date:   Tue Feb 9 12:43:22 2021 -0500

    sql: improve module docs
    
    Add a brief overview of the sql crate to its module docs. Supersedes
    PR #2961 very belatedly.

commit a9d23d31fb116eaa6396f262b00344d99e60ca0d
Author: Frank McSherry <fmcsherry@me.com>
Date:   Tue Feb 9 16:37:23 2021 -0500

    Improve reduction.rs (#5687)
    
    * re-use relation_type
    
    * avoid unpacking when could iterate

commit eb2fa35273753722097819330760697cf1448b34
Author: Micole Sudberg <micole.sudberg@gmail.com>
Date:   Tue Feb 9 16:28:37 2021 -0500

    (docs) Materialize CDC

commit 87a6dbf81f7cfb6b08151e839495a0d12eadae2c
Merge: 6cc4484f0 473737af6
Author: Justin Jaffray <justin.jaffray@gmail.com>
Date:   Tue Feb 9 16:04:39 2021 -0500

    Merge pull request #5696 from justinj/doc-sem-analysis
    
    Add some comments describing the name resolution pass

commit 6cc4484f094bbf1c986564ccadde1114343952db
Author: Ruchir Khaitan <ruchir0001@gmail.com>
Date:   Tue Feb 9 15:40:22 2021 -0500

    dataflow: change assignment of source instance readers to dataflow wo… (#5691)
    
    Closes #5088. Touches #2915.
    
    Previously, all source readers for non-Kafka sources were randomly distributed
    across dataflow workers. So for example, if you had two instances of the same
    file source, those could be assigned to different dataflow workers to be read
    from. On the other side, Kafka sources had their read responsibilities distributed
    only by partition. So, if you had two _different_ Kafka sources, both of their
    partition 0's would be ingested by the same dataflow worker.
    
    This commit changes that behavior and makes it so that:
    - Active source / partition reading workers are the same for all instances of the
      same source. This is important for future work in unifying timestamping across
      source instances.
    - For Kafka sources, reading responsibility is now distributed based on a hash
      of the source id + the partition id. This way, different partitions of the same
      source are still spread across many workers, but partition 0 doesn't get
      deterministically bound to worker 0 for all Kafka sources (note that since its
      based on a hash of the source id) partition 0 is still bound to the same worker
      for all instances of a given Kafka source.

commit b3f34821b756e041b57d841d73a8986bff47ea74
Author: Eli Lindsey <eli@siliconsprawl.com>
Date:   Tue Feb 9 15:19:14 2021 -0500

    update release notes for single partition consistency topics

commit b49307c0e4b729af78ef76ea4819fbb655dcea98
Author: Eli Lindsey <eli@siliconsprawl.com>
Date:   Mon Feb 8 14:42:25 2021 -0500

    keep the consistency topic as a single partition
    
    Consuming a multipartition consistency topic is tricky. Consistency
    topics represent a single stream of data, but when partitioned they
    don't contain enough info for you to recreate that stream unless you
    read it in lockstep with the data topic.
    
    For now, keep consistency topics as a single partition.

commit 5413c965bed7077ec4b86ef3fbf83182ad3d1823
Author: Chris Golden <551285+cirego@users.noreply.github.com>
Date:   Tue Feb 9 12:13:10 2021 -0800

    Enable configuring the views exposed by wikirecent-app (#5694)
    
    This allows for the wikirecent-app image to be used as a generic `TAIL`
    to websocket bridge. If there's interest, we can pull the generic parts
    out into a completely generic image (this one still serves some HTML for
    the wikirecent demo).

commit 39681d9da064d98ced5b32da38f425fab4f7ba3c
Author: Micole Sudberg <micole.sudberg@gmail.com>
Date:   Tue Feb 9 15:04:44 2021 -0500

    (doc) Materialize CDC documentation

commit 319de1c4a6d0dfe704600c7c3aa29e5b6210f92f
Merge: 854011613 1583a33af
Author: Justin Jaffray <justin.jaffray@gmail.com>
Date:   Tue Feb 9 14:21:53 2021 -0500

    Merge pull request #5695 from justinj/fix-partial-eq
    
    sql: fix PartialName's impl of PartialEq

commit 473737af62093b5c827b61ebc200088f72529462
Author: Justin Jaffray <justin.jaffray@gmail.com>
Date:   Tue Feb 9 14:06:26 2021 -0500

    Add some comments describing the name resolution pass

commit 8540116139cdafababfad97d7a60022b53fa1fcf
Merge: af2a4b850 190509ba9
Author: Albert Wang <albert@materialize.io>
Date:   Tue Feb 9 13:59:43 2021 -0500

    Merge pull request #5692 from MaterializeInc/awang/relnote-marketing
    
    include marketing in release process

commit 1583a33af7f8e1302b423e96b126af95ea77ff39
Author: Justin Jaffray <justin.jaffray@gmail.com>
Date:   Tue Feb 9 13:40:45 2021 -0500

    sql: fix PartialName's impl of PartialEq
    
    The existing implementation of PartialName::PartialEq was
    non-transitive, so I moved that logic into a method named `matches` and
    derived PartialEq instead.

commit 190509ba918504e3689a0ddb354b99f77f013aed
Author: Albert Wang <albert@materialize.io>
Date:   Tue Feb 9 12:54:58 2021 -0500

    update with latest process

commit af2a4b850cae249a4d51c7e2147bcd9109580981
Merge: e4dd2970b ab8837cfc
Author: Nikhil Benesch <nikhil.benesch@gmail.com>
Date:   Tue Feb 9 12:54:56 2021 -0500

    Merge pull request #5685 from benesch/doc-tls-level
    
    doc/user: fix documentation of our TLS preset

commit 529e902399199b1d536cbddfc13c157969d3927d
Author: Albert Wang <albert@materialize.io>
Date:   Tue Feb 9 11:13:40 2021 -0500

    include marketing in release process
    
    so they can prepare an appropriate comms plan

commit e4dd2970bc81ffdc2809b6312b5f27a2d31645f1
Merge: b5c04faa7 cf3f2724c
Author: Sean Loiselle <sean@materialize.io>
Date:   Tue Feb 9 09:54:02 2021 -0500

    Merge pull request #4980 from sploiselle/docs-contributing
    
    docs: add CONTRIBUTING.md

commit cf3f2724cca2afd159f0cc281a105e115e44a5c0
Author: Sean Loiselle <sean@materialize.io>
Date:   Tue Feb 9 09:50:58 2021 -0500

    docs: add CONTRIBUTING.md

commit b5c04faa742549f7f8a30c1ce266a81035757071
Merge: 26cb29dcf 288e4b4cc
Author: Nikhil Benesch <nikhil.benesch@gmail.com>
Date:   Tue Feb 9 09:34:14 2021 -0500

    Merge pull request #5234 from JLDLaughlin/docs
    
    docs: update How does Materialize work?

commit 288e4b4cc7c083870e6fe766e2b1541511b0417a
Author: JLDLaughlin <jessica@materialize.io>
Date:   Thu Jan 7 17:16:54 2021 -0500

    docs: update How does Materialize work?
    
    Replaces Kafka-specific explanation with a more general one.

commit 26cb29dcf0ff0178681892dae1d3ad6efe9d2943
Author: Brandon W Maister <bwm@materialize.io>
Date:   Tue Feb 9 09:20:59 2021 -0500

    Add some comments separating `SourceInfo` methods into groups (#5198)
    
    Plausibly each of these should be split off into their own traits, but I'm not
    sure that we have enough static information to be able to meaningfully *not*
    implement more-fine-grained traits for any specific instance of SourceInfo.

commit 79d39c3ce4567cbed4ccd19e72fbb09214451781
Author: Nikhil Benesch <nikhil.benesch@gmail.com>
Date:   Tue Feb 9 03:26:37 2021 -0500

    expr: allow constant errors (#5669)
    
    * transform: don't propagate expression errors in ColumnKnowledge
    
    The ColumnKnowledge transformation looks at every literal in the
    expression. If any of those literals are errors, it returns those errors
    to the client immediately. This behavior is arguably wrong, because
    those errors might never be evaluated.
    
    Rewire ColumnKnowledge to instead pack these errors into the
    DatumKnowledge it builds, rather than returning them to the client.
    
    * expr: allow constant errors
    
    Allow RelationExpr::Constant to represent constant errors. This makes it
    possible for the optimizer to stuff any errors it generates during
    constant folding back into the RelationExpr so that those errors occur
    during execution of the query rather than during optimization.
    
    This unblocks an issue uncovered in #5651.
    
    * strip lifted maps from first constant row
    
    * improve err display
    
    * more bugfixes
    
    * ensure all workers build the same dataflow
    
    * fold constant errors too
    
    * correct some pgtests again
    
    Co-authored-by: Frank McSherry <fmcsherry@me.com>

commit ab8837cfc28ba416c36b463e1bd1371adc35a5a1
Author: Nikhil Benesch <nikhil.benesch@gmail.com>
Date:   Tue Feb 9 01:46:24 2021 -0500

    doc/user: fix documentation of our TLS preset
    
    Since #5279 we've used the intermediate TLS preset rather than the
    modern TLS preset, but I forgot to update the user docs accordingly.
    Also drop a note about why we use the intermediate preset into the code,
    per @mjibson's request.

commit 2a3401c9889335ae3dd1e9bb0142b62f7070d67f
Author: Andy Hattemer <&@ruf.io>
Date:   Tue Feb 9 01:18:48 2021 -0500

    (doc) update bi demo, add visual (#5665)
    
    * update bi demo docs, add visuals

commit 91cc7f75cd795cbd67ab9416be550350f7a4c902
Merge: 95505ebe9 ced7a9d83
Author: Nikhil Benesch <nikhil.benesch@gmail.com>
Date:   Tue Feb 9 00:58:33 2021 -0500

    Merge pull request #5575 from benesch/rust-149
    
    rust-toolchain: upgrade to Rust 1.49

commit 95505ebe93f46a5d9af910f2ca8acbb5da2ce74e
Merge: 60efcac19 23a3882f5
Author: Nikhil Benesch <nikhil.benesch@gmail.com>
Date:   Mon Feb 8 22:08:16 2021 -0500

    Merge pull request #5683 from benesch/rework-tables-ii
    
    doc/user: address review feedback in CREATE TABLE

commit 23a3882f5f95ccc7f02d501209a522545301af6c
Author: Nikhil Benesch <nikhil.benesch@gmail.com>
Date:   Mon Feb 8 21:51:56 2021 -0500

    doc/user: address review feedback in CREATE TABLE
    
    I missed some review feedback in #5634. This commit corrects that.

commit 60efcac191ec04744f8420f996892c855bcdf66e
Merge: dcfa1f2ba b0b64f79a
Author: Nikhil Benesch <nikhil.benesch@gmail.com>
Date:   Mon Feb 8 21:45:11 2021 -0500

    Merge pull request #5634 from benesch/rework-tables-doc
    
    doc/user: rework table overview and restrictions

commit dcfa1f2bac4c871837d5d1611e9a9e71d7c421c6
Merge: 9d10e37e9 d993935ac
Author: Nikhil Benesch <nikhil.benesch@gmail.com>
Date:   Mon Feb 8 21:37:39 2021 -0500

    Merge pull request #5673 from benesch/catch-segbus-too
    
    materialized: attempt backtraces on SIGBUS too

commit 9d10e37e9743f3e735f9c204a7d8dcddd64a580e
Author: Chris Golden <551285+cirego@users.noreply.github.com>
Date:   Mon Feb 8 15:28:54 2021 -0800

    Document sources of Materialize metrics (#5599)
    
    There are a number of places to go looking for understanding what
    Materialize is doing and how it is performing. Start to document them.

commit 980343ed9bd2cb976adeefd9daf223fffad494a2
Author: Chris Golden <551285+cirego@users.noreply.github.com>
Date:   Mon Feb 8 15:26:18 2021 -0800

    Record performance numbers during benchmark runs (#5637)
    
    
    This makes it easier / faster to identify how quickly a benchmark ran
    and point the user at the correct Grafana dashboard / times.
    
    - Automatically generate links to Grafana centered on the time when the
      benchmark ran
    - Add option to print logs from a container aftering waiting on exit
    - Update the README with the new instructions for running this benchmark

commit d993935acda75420e52cb08bf96e44f5e37f090a
Author: Nikhil Benesch <nikhil.benesch@gmail.com>
Date:   Mon Feb 8 15:24:09 2021 -0500

    materialized: attempt backtraces on SIGBUS too
    
    Memory errors may present as SIGBUS in addition to SIGSEGV. Configure
    our backtrace-on-SIGSEGV code to handle SIGBUS too.

commit 24d4e4ee53210368901c5662eaeefa96694ef20a
Merge: 11cae278c b593c57e3
Author: Matt Jibson <matt.jibson@gmail.com>
Date:   Mon Feb 8 15:46:32 2021 -0700

    Merge pull request #5621 from mjibson/cleanup
    
    coord: refactor connection cleanup and cancellation

commit 11cae278c1f2d4c087763d732624cf19e7a1e67a
Merge: 22d0d5718 f0a37ba58
Author: Nikhil Benesch <nikhil.benesch@gmail.com>
Date:   Mon Feb 8 17:45:34 2021 -0500

    Merge pull request #5676 from MaterializeInc/dependabot/cargo/serde_json-1.0.62
    
    build(deps): bump serde_json from 1.0.60 to 1.0.62

commit 22d0d5718767dce39aea323fa57a4c6af6bfa567
Merge: 4955b7c9a 5362486ad
Author: Nikhil Benesch <nikhil.benesch@gmail.com>
Date:   Mon Feb 8 17:45:22 2021 -0500

    Merge pull request #5677 from MaterializeInc/dependabot/cargo/libc-0.2.86
    
    build(deps): bump libc from 0.2.85 to 0.2.86

commit 5362486adfbbc7032ed0cd138f1d151993b29e95
Author: dependabot[bot] <49699333+dependabot[bot]@users.noreply.github.com>
Date:   Mon Feb 8 22:05:18 2021 +0000

    build(deps): bump libc from 0.2.85 to 0.2.86
    
    Bumps [libc](https://github.com/rust-lang/libc) from 0.2.85 to 0.2.86.
    - [Release notes](https://github.com/rust-lang/libc/releases)
    - [Commits](https://github.com/rust-lang/libc/compare/0.2.85...0.2.86)
    
    Signed-off-by: dependabot[bot] <support@github.com>

commit f0a37ba58c6f73095c0e01447c98be3302c8a25a
Author: dependabot[bot] <49699333+dependabot[bot]@users.noreply.github.com>
Date:   Mon Feb 8 22:05:07 2021 +0000

    build(deps): bump serde_json from 1.0.60 to 1.0.62
    
    Bumps [serde_json](https://github.com/serde-rs/json) from 1.0.60 to 1.0.62.
    - [Release notes](https://github.com/serde-rs/json/releases)
    - [Commits](https://github.com/serde-rs/json/compare/v1.0.60...v1.0.62)
    
    Signed-off-by: dependabot[bot] <support@github.com>

commit 4955b7c9a1e5629417c057f273829500bd2114cc
Author: Brandon W Maister <bwm@materialize.io>
Date:   Mon Feb 8 16:58:24 2021 -0500

    Next version is 0.7.1 (#5675)

commit d54a8b964aa8904f3756079697f7da412ea87cc3
Merge: dec68073f 59b821cf0
Author: Brandon W Maister <bwm@materialize.io>
Date:   Mon Feb 8 16:45:44 2021 -0500

    Merge pull request #5671 from quodlibetor/continue-v0.7.1-dev
    
    Mark v0.7.0 as released

commit 59b821cf0330d5d08bff6d2521bcde39976c0032
Author: Brandon W Maister <bwm@materialize.io>
Date:   Mon Feb 8 14:44:30 2021 -0500

    Update released versions to include v0.7.0

commit c4a6ce8520ac93a18c81567eb16f2d4846428ff1
Author: Brandon W Maister <bwm@materialize.io>
Date:   Mon Feb 8 16:17:01 2021 -0500

    Update all references to v0.6.2 with v0.7.0

commit b593c57e39a6bc25da280c895f3cb86ea07a4454
Author: Matt Jibson <matt.jibson@gmail.com>
Date:   Wed Feb 3 14:42:08 2021 -0700

    coord: reimplement cancel
    
    Re-implement how cancellation works by sharing a tokio::watch channel with
    a connection and the coordinator. The coordinator can send a cancelled
    message on it that the connection can listen for when it wants to. This
    allows us to add cancellation points anywhere in the connection handler
    instead of depending on shutting down dataflows to do that. Currently
    this can be used to shut down a running TAIL or FETCH. (SELECT remains
    unchanged: it can be cancelled as long as the peek is pending.)
    
    Npgsql v4 test removed because the exception type changed for cancellation
    and it wasn't worth figuring out how to have a single file support
    both versions.
    
    Fixes #5242

commit 7809f2d2359090e042cce83120fc6ba02fbf7058
Author: Matt Jibson <matt.jibson@gmail.com>
Date:   Tue Feb 2 15:43:18 2021 -0700

    coord: cleanup TAIL sinks at txn end
    
    Previously TAILs were only dropped when a cancel message was received or
    the connection was terminated by the client, and only the most recent TAIL
    was dropped. This was correct before portals were correctly supported. Now
    that they are and we have correct transaction/portal semantics, move the
    TAIL (sink) dropping to be handled when a transaction is cleared. We now
    also support dropping any number of sinks instead of only the most recent.
    
    Temporarily remove the abitily of the cancel handler to cancel TAILs which
    will require a new API to communicate between coordinator and session.
    
    Informs #5242
    Informs #5543

commit 19f63c8505224530d2da29e700a38a384e67bf98
Author: Brandon W Maister <bwm@materialize.io>
Date:   Mon Feb 8 14:44:24 2021 -0500

    Prepare next phase of development: v0.7.1-dev

commit 953d2279da4a1e3ea9210f284cc2dd02a43a7813
Author: Brandon W Maister <bwm@materialize.io>
Date:   Mon Feb 8 14:43:08 2021 -0500

    release: v0.7.0

commit dec68073f4e46d22c0e0567fcfe2a0c1c4956b60
Author: Frank McSherry <fmcsherry@me.com>
Date:   Mon Feb 8 13:18:26 2021 -0500

    propagate initial errors in linear joins (#5664)

commit cda86338b3ad5cf6713a4889aadac09f3f0cdacb
Author: Frank McSherry <fmcsherry@me.com>
Date:   Mon Feb 8 12:09:03 2021 -0500

    correct permutation detection (#5641)

commit 252f8e2f192d28a9bf8f906a711af29be37e7f38
Merge: ee5c962e3 606c3ebee
Author: Nikhil Benesch <nikhil.benesch@gmail.com>
Date:   Mon Feb 8 00:30:44 2021 -0500

    Merge pull request #5654 from MaterializeInc/dependabot/cargo/assert_cmd-1.0.3
    
    build(deps): bump assert_cmd from 1.0.2 to 1.0.3

commit ee5c962e3f4cabff8064a84fc1dd2cec5b80bae9
Merge: df065f0a5 6802f5313
Author: Nikhil Benesch <nikhil.benesch@gmail.com>
Date:   Mon Feb 8 00:29:09 2021 -0500

    Merge pull request #5653 from MaterializeInc/dependabot/cargo/rand-0.8.3
    
    build(deps): bump rand from 0.8.2 to 0.8.3

commit df065f0a5c49ec8f51b43d577d148e9cfa205dcc
Merge: 46d5a9118 28a1fa057
Author: Nikhil Benesch <nikhil.benesch@gmail.com>
Date:   Mon Feb 8 00:28:38 2021 -0500

    Merge pull request #5656 from MaterializeInc/dependabot/cargo/ordered-float-2.1.1
    
    build(deps): bump ordered-float from 2.0.1 to 2.1.1

commit 46d5a911899ba39ac31e0a05f8a3b308398c291f
Merge: 1b1fcc298 29798aa82
Author: Nikhil Benesch <nikhil.benesch@gmail.com>
Date:   Mon Feb 8 00:28:13 2021 -0500

    Merge pull request #5657 from MaterializeInc/dependabot/cargo/backtrace-0.3.56
    
    build(deps): bump backtrace from 0.3.55 to 0.3.56

commit 1b1fcc298e3b748f17c1280fa7023ba9816e888a
Merge: 0bafd5cbb 0b19d492a
Author: Nikhil Benesch <nikhil.benesch@gmail.com>
Date:   Mon Feb 8 00:28:06 2021 -0500

    Merge pull request #5658 from MaterializeInc/dependabot/cargo/libc-0.2.85
    
    build(deps): bump libc from 0.2.84 to 0.2.85

commit 0bafd5cbb6a12b18043262335209471e7ea0d7fc
Merge: 7a3e12b35 3c1ceb8a8
Author: Nikhil Benesch <nikhil.benesch@gmail.com>
Date:   Mon Feb 8 00:19:38 2021 -0500

    Merge pull request #5652 from MaterializeInc/dependabot/cargo/tokio-1.2.0
    
    build(deps): bump tokio from 1.1.0 to 1.2.0

commit 7a3e12b35aee730a98a766d754d99418114091f2
Merge: 7d5e09639 6597e6e73
Author: Nikhil Benesch <nikhil.benesch@gmail.com>
Date:   Mon Feb 8 00:14:50 2021 -0500

    Merge pull request #5655 from MaterializeInc/dependabot/cargo/sha-1-0.9.3
    
    build(deps): bump sha-1 from 0.9.2 to 0.9.3

commit 7d5e09639d4afec328975653f16af984bc771bae
Merge: 63797c36d f95903330
Author: Nikhil Benesch <nikhil.benesch@gmail.com>
Date:   Sun Feb 7 22:58:55 2021 -0500

    Merge pull request #5642 from MaterializeInc/dependabot/add-v2-config-file
    
    Create Dependabot config file

commit 0b19d492a3937683bff17b89dc3d9eb2fa645e31
Author: dependabot-preview[bot] <27856297+dependabot-preview[bot]@users.noreply.github.com>
Date:   Mon Feb 8 03:43:26 2021 +0000

    build(deps): bump libc from 0.2.84 to 0.2.85
    
    Bumps [libc](https://github.com/rust-lang/libc) from 0.2.84 to 0.2.85.
    - [Release notes](https://github.com/rust-lang/libc/releases)
    - [Commits](https://github.com/rust-lang/libc/compare/0.2.84...0.2.85)
    
    Signed-off-by: dependabot-preview[bot] <support@dependabot.com>

commit 29798aa825745b8b554d5b5753bb69ff47c59281
Author: dependabot-preview[bot] <27856297+dependabot-preview[bot]@users.noreply.github.com>
Date:   Mon Feb 8 03:42:56 2021 +0000

    build(deps): bump backtrace from 0.3.55 to 0.3.56
    
    Bumps [backtrace](https://github.com/rust-lang/backtrace-rs) from 0.3.55 to 0.3.56.
    - [Release notes](https://github.com/rust-lang/backtrace-rs/releases)
    - [Commits](https://github.com/rust-lang/backtrace-rs/compare/0.3.55...0.3.56)
    
    Signed-off-by: dependabot-preview[bot] <support@dependabot.com>

commit 28a1fa0570e53a292f37ad963173cf7cdf5af224
Author: dependabot-preview[bot] <27856297+dependabot-preview[bot]@users.noreply.github.com>
Date:   Mon Feb 8 03:42:21 2021 +0000

    build(deps): bump ordered-float from 2.0.1 to 2.1.1
    
    Bumps [ordered-float](https://github.com/reem/rust-ordered-float) from 2.0.1 to 2.1.1.
    - [Release notes](https://github.com/reem/rust-ordered-float/releases)
    - [Commits](https://github.com/reem/rust-ordered-float/compare/v2.0.1...v2.1.1)
    
    Signed-off-by: dependabot-preview[bot] <support@dependabot.com>

commit 6597e6e736ad116a6b1efa8e84bb46592ea07830
Author: dependabot-preview[bot] <27856297+dependabot-preview[bot]@users.noreply.github.com>
Date:   Mon Feb 8 03:41:38 2021 +0000

    build(deps): bump sha-1 from 0.9.2 to 0.9.3
    
    Bumps [sha-1](https://github.com/RustCrypto/hashes) from 0.9.2 to 0.9.3.
    - [Release notes](https://github.com/RustCrypto/hashes/releases)
    - [Commits](https://github.com/RustCrypto/hashes/compare/sha2-v0.9.2...sha-1-v0.9.3)
    
    Signed-off-by: dependabot-preview[bot] <support@dependabot.com>

commit 606c3ebeec3a32afab98600236998fbcd4519fa8
Author: dependabot-preview[bot] <27856297+dependabot-preview[bot]@users.noreply.github.com>
Date:   Mon Feb 8 03:41:22 2021 +0000

    build(deps): bump assert_cmd from 1.0.2 to 1.0.3
    
    Bumps [assert_cmd](https://github.com/assert-rs/assert_cmd) from 1.0.2 to 1.0.3.
    - [Release notes](https://github.com/assert-rs/assert_cmd/releases)
    - [Changelog](https://github.com/assert-rs/assert_cmd/blob/master/CHANGELOG.md)
    - [Commits](https://github.com/assert-rs/assert_cmd/compare/v1.0.2...v1.0.3)
    
    Signed-off-by: dependabot-preview[bot] <support@dependabot.com>

commit 6802f5313710ff0a872e2b0ceca1b79193757750
Author: dependabot-preview[bot] <27856297+dependabot-preview[bot]@users.noreply.github.com>
Date:   Mon Feb 8 03:40:32 2021 +0000

    build(deps): bump rand from 0.8.2 to 0.8.3
    
    Bumps [rand](https://github.com/rust-random/rand) from 0.8.2 to 0.8.3.
    - [Release notes](https://github.com/rust-random/rand/releases)
    - [Changelog](https://github.com/rust-random/rand/blob/master/CHANGELOG.md)
    - [Commits](https://github.com/rust-random/rand/commits)
    
    Signed-off-by: dependabot-preview[bot] <support@dependabot.com>

commit 3c1ceb8a80ab70cad290e90f95de14f112510e7f
Author: dependabot-preview[bot] <27856297+dependabot-preview[bot]@users.noreply.github.com>
Date:   Mon Feb 8 03:39:57 2021 +0000

    build(deps): bump tokio from 1.1.0 to 1.2.0
    
    Bumps [tokio](https://github.com/tokio-rs/tokio) from 1.1.0 to 1.2.0.
    - [Release notes](https://github.com/tokio-rs/tokio/releases)
    - [Commits](https://github.com/tokio-rs/tokio/compare/tokio-1.1.0...tokio-1.2.0)
    
    Signed-off-by: dependabot-preview[bot] <support@dependabot.com>

commit f95903330aec25a50a347e6033c7b973f56dc5ef
Author: dependabot-preview[bot] <27856297+dependabot-preview[bot]@users.noreply.github.com>
Date:   Mon Feb 8 00:06:14 2021 +0000

    Create Dependabot config file

commit 63797c36d4e4ac205a5cfe72cba32bd41bf6da4b
Merge: 87ff341e7 4447a16a9
Author: Nikhil Benesch <nikhil.benesch@gmail.com>
Date:   Sun Feb 7 21:36:32 2021 -0500

    Merge pull request #5647 from MaterializeInc/dependabot/cargo/tokio-util-0.6.3
    
    build(deps): bump tokio-util from 0.6.2 to 0.6.3

commit 87ff341e75ca3a1af4cb7968b19c8c093d3d1445
Merge: 87187754e 444f49cf2
Author: Nikhil Benesch <nikhil.benesch@gmail.com>
Date:   Sun Feb 7 21:36:17 2021 -0500

    Merge pull request #5643 from MaterializeInc/dependabot/cargo/tracing-0.1.23
    
    build(deps): bump tracing from 0.1.22 to 0.1.23

commit 87187754eb595d94f33cc1b994a10cdf4fbd199d
Merge: 48afae1eb 3e0c41d72
Author: Nikhil Benesch <nikhil.benesch@gmail.com>
Date:   Sun Feb 7 21:36:05 2021 -0500

    Merge pull request #5644 from MaterializeInc/dependabot/cargo/sysinfo-0.16.1
    
    build(deps): bump sysinfo from 0.16.0 to 0.16.1

commit 48afae1eb17d8e92f43a639520a0b92b9e9c9777
Merge: 5d3e47366 52e4e5509
Author: Nikhil Benesch <nikhil.benesch@gmail.com>
Date:   Sun Feb 7 21:35:51 2021 -0500

    Merge pull request #5645 from MaterializeInc/dependabot/cargo/dogsdogsdogs-2b12f29
    
    build(deps): bump dogsdogsdogs from `f86e881` to `2b12f29`

commit 5d3e47366e73a09812e0ee11132bc1a4396164a0
Merge: d173113dd 29e2074d1
Author: Nikhil Benesch <nikhil.benesch@gmail.com>
Date:   Sun Feb 7 21:35:41 2021 -0500

    Merge pull request #5646 from MaterializeInc/dependabot/cargo/timely-1cbfc99
    
    build(deps): bump timely from `de69cfc` to `1cbfc99`

commit d173113dd3b7fc6da8a15d93898a3570e75cd314
Merge: c0337b619 0dbc68756
Author: Nikhil Benesch <nikhil.benesch@gmail.com>
Date:   Sun Feb 7 21:35:24 2021 -0500

    Merge pull request #5648 from MaterializeInc/dependabot/cargo/tokio-stream-0.1.3
    
    build(deps): bump tokio-stream from 0.1.2 to 0.1.3

commit c0337b61904c3b33fd3886ec44f98b5d9e75c3fa
Merge: 55d52160c 18e1955da
Author: Nikhil Benesch <nikhil.benesch@gmail.com>
Date:   Sun Feb 7 19:59:24 2021 -0500

    Merge pull request #5649 from MaterializeInc/dependabot/cargo/rdkafka-b8611cc
    
    build(deps): bump rdkafka from `d7c2baf` to `b8611cc`

commit 18e1955daa9b9365f511dc6ba3b0cf22b9a11865
Author: dependabot-preview[bot] <27856297+dependabot-preview[bot]@users.noreply.github.com>
Date:   Mon Feb 8 00:11:29 2021 +0000

    build(deps): bump rdkafka from `d7c2baf` to `b8611cc`
    
    Bumps [rdkafka](https://github.com/fede1024/rust-rdkafka) from `d7c2baf` to `b8611cc`.
    - [Release notes](https://github.com/fede1024/rust-rdkafka/releases)
    - [Commits](https://github.com/fede1024/rust-rdkafka/compare/d7c2baf32eb4c85cf530f6b0b52623fc902e8a78...b8611ccd90029aa19ff8f5d8031991da1a23b700)
    
    Signed-off-by: dependabot-preview[bot] <support@dependabot.com>

commit 0dbc6875640d04cff7386e078f05c6dbf60c1662
Author: dependabot-preview[bot] <27856297+dependabot-preview[bot]@users.noreply.github.com>
Date:   Mon Feb 8 00:10:58 2021 +0000

    build(deps): bump tokio-stream from 0.1.2 to 0.1.3
    
    Bumps [tokio-stream](https://github.com/tokio-rs/tokio) from 0.1.2 to 0.1.3.
    - [Release notes](https://github.com/tokio-rs/tokio/releases)
    - [Commits](https://github.com/tokio-rs/tokio/compare/tokio-stream-0.1.2...tokio-stream-0.1.3)
    
    Signed-off-by: dependabot-preview[bot] <support@dependabot.com>

commit 4447a16a9008250e43ccbb95e5768ad28ba33ced
Author: dependabot-preview[bot] <27856297+dependabot-preview[bot]@users.noreply.github.com>
Date:   Mon Feb 8 00:10:33 2021 +0000

    build(deps): bump tokio-util from 0.6.2 to 0.6.3
    
    Bumps [tokio-util](https://github.com/tokio-rs/tokio) from 0.6.2 to 0.6.3.
    - [Release notes](https://github.com/tokio-rs/tokio/releases)
    - [Commits](https://github.com/tokio-rs/tokio/compare/tokio-util-0.6.2...tokio-util-0.6.3)
    
    Signed-off-by: dependabot-preview[bot] <support@dependabot.com>

commit 29e2074d135e5cec2a4bda8d5974a21f84cc84d3
Author: dependabot-preview[bot] <27856297+dependabot-preview[bot]@users.noreply.github.com>
Date:   Mon Feb 8 00:10:09 2021 +0000

    build(deps): bump timely from `de69cfc` to `1cbfc99`
    
    Bumps [timely](https://github.com/TimelyDataflow/timely-dataflow) from `de69cfc` to `1cbfc99`.
    - [Release notes](https://github.com/TimelyDataflow/timely-dataflow/releases)
    - [Commits](https://github.com/TimelyDataflow/timely-dataflow/compare/de69cfc4d7da29d4e210cd06fc431650477e5530...1cbfc99c12c45e8731ac284d8692abafc696ba02)
    
    Signed-off-by: dependabot-preview[bot] <support@dependabot.com>

commit 52e4e5509cdf0698e1c3a5dfe62f39a62a76e868
Author: dependabot-preview[bot] <27856297+dependabot-preview[bot]@users.noreply.github.com>
Date:   Mon Feb 8 00:09:38 2021 +0000

    build(deps): bump dogsdogsdogs from `f86e881` to `2b12f29`
    
    Bumps [dogsdogsdogs](https://github.com/TimelyDataflow/differential-dataflow) from `f86e881` to `2b12f29`.
    - [Release notes](https://github.com/TimelyDataflow/differential-dataflow/releases)
    - [Commits](https://github.com/TimelyDataflow/differential-dataflow/compare/f86e881a555a22a7e7a696f1d1825f892751b5f0...2b12f29d951b60c6c1ef3db77fbba1568db5a2c3)
    
    Signed-off-by: dependabot-preview[bot] <support@dependabot.com>

commit 3e0c41d7225a64b209ba5892f8adf7621104162d
Author: dependabot-preview[bot] <27856297+dependabot-preview[bot]@users.noreply.github.com>
Date:   Mon Feb 8 00:09:07 2021 +0000

    build(deps): bump sysinfo from 0.16.0 to 0.16.1
    
    Bumps [sysinfo](https://github.com/GuillaumeGomez/sysinfo) from 0.16.0 to 0.16.1.
    - [Release notes](https://github.com/GuillaumeGomez/sysinfo/releases)
    - [Commits](https://github.com/GuillaumeGomez/sysinfo/commits)
    
    Signed-off-by: dependabot-preview[bot] <support@dependabot.com>

commit 444f49cf255ed4ffe48cb615d9dec61642653602
Author: dependabot-preview[bot] <27856297+dependabot-preview[bot]@users.noreply.github.com>
Date:   Mon Feb 8 00:08:46 2021 +0000

    build(deps): bump tracing from 0.1.22 to 0.1.23
    
    Bumps [tracing](https://github.com/tokio-rs/tracing) from 0.1.22 to 0.1.23.
    - [Release notes](https://github.com/tokio-rs/tracing/releases)
    - [Commits](https://github.com/tokio-rs/tracing/compare/tracing-0.1.22...tracing-0.1.23)
    
    Signed-off-by: dependabot-preview[bot] <support@dependabot.com>

commit 55d52160cdc731988e46754749b1caace02f078b
Merge: a03b6b901 2e720d418
Author: Nikhil Benesch <nikhil.benesch@gmail.com>
Date:   Sat Feb 6 17:10:26 2021 -0500

    Merge pull request #5639 from benesch/new-hyper
    
    deps: upgrade to hyper v0.14.4

commit 2e720d41800257bf97c72fec823fc71104742d55
Author: Nikhil Benesch <nikhil.benesch@gmail.com>
Date:   Sat Feb 6 16:18:54 2021 -0500

    deps: upgrade to hyper v0.14.4
    
    This includes a fix for a security vulnerability in hyper:
    https://github.com/hyperium/hyper/security/advisories/GHSA-6hfq-h8hq-87mf

commit b0b64f79a26ebe98b497b798f441f72a6e576171
Author: Nikhil Benesch <nikhil.benesch@gmail.com>
Date:   Fri Feb 5 17:33:47 2021 -0500

    doc/user: rework table overview and restrictions
    
    Rework the CREATE TABLE doc to change the messaging of tables around. In
    particular, this commit removes any references to tables as
    "non-streaming data sources", as in Materialize a core tenent is that a
    table is just a realization of a stream at a particular moment in time.
    
    Also stress that most users should use sources in almost all cases, and
    explicitly explain the pitfalls of tables, particularly around memory
    usage.
    
    Related to #5611 and #5627.

commit a03b6b90143b6efdb99c64ce25e531ca2137cd19
Merge: e25769555 a4c0a9ba3
Author: Nikhil Benesch <nikhil.benesch@gmail.com>
Date:   Fri Feb 5 17:42:21 2021 -0500

    Merge pull request #5633 from MaterializeInc/benesch-patch-1
    
    doc/user: add username to connection string

commit e25769555201c9eb64a0052ce2973462fba3f3e4
Merge: 944d0e7c3 36c49e76b
Author: Nikhil Benesch <nikhil.benesch@gmail.com>
Date:   Fri Feb 5 17:24:34 2021 -0500

    Merge pull request #5632 from benesch/remove-dcsh
    
    doc: remove last references to dc.sh

commit a4c0a9ba30fd33de9b7de438b7cdc230435c6638
Author: Nikhil Benesch <nikhil.benesch@gmail.com>
Date:   Fri Feb 5 17:06:03 2021 -0500

    doc/user: add username to connection string
    
    Add a username to a connection string in the docs that was missed in
    the transition to requiring valid user names.
    
    Fix #5631.

commit 36c49e76b0c4b3dfe36fee2d4bbcf8bfcd974ab5
Author: Nikhil Benesch <nikhil.benesch@gmail.com>
Date:   Fri Feb 5 16:12:57 2021 -0500

    doc: remove last references to dc.sh
    
    dc.sh is the precursor to mzcompose, and it's long gone. This commit
    updates the the peeker-config README to refer to mzcompose instead of
    dc.sh. The other reference to dc.sh was in the Metabase demo walkthrough
    in the developer docs. This doc was supplanted by an official version of
    the demo in the user docs, so this commit just deletes the now outdated
    walkthrough in the developer docs.
    
    Fix #5614.

commit 944d0e7c3b3268c5232d3b060be986cbd09c6afd
Author: Chris Golden <551285+cirego@users.noreply.github.com>
Date:   Fri Feb 5 12:42:42 2021 -0800

    Remove vestigial "demo-load" workflow (#5619)
    
    
    Fixes TODO to remove demo-load workflow

commit 8e723e3790757063d91badac46de054c92f0e16f
Author: Chris Golden <551285+cirego@users.noreply.github.com>
Date:   Fri Feb 5 12:24:36 2021 -0800

    Add a medium sized benchmark for running on laptops (#5628)
    
    
    This benchmark runs a much smaller dataset that results in peak memory
    utilization of about 10GB and should be a good benchmark to run on a
    Macbook Pro.
    
    All of the schemas are the same, use the same file regardless of
    distribution.
    
    Configure 8 workers and 8 generator threads in benchmark medium.
    
    Complain if the number of threads does not divide evenly into the number
    of records to write.

commit d3f42a5b55b9c4953e0772ca8c326cb2c31d0581
Author: Chris Golden <551285+cirego@users.noreply.github.com>
Date:   Fri Feb 5 11:16:40 2021 -0800

    Simplify columns in Avro Upsert benchmark (#5629)

commit 4d269fd2159858f55b8895aa44e168159abeac6b
Merge: 5ea7cd5f4 cb311faa8
Author: Brandon W Maister <bwm@materialize.io>
Date:   Fri Feb 5 14:04:59 2021 -0500

    Merge pull request #5630 from quodlibetor/prepare-v0.7.1-dev
    
    Prepare v0.7.1 dev off 0.7.0-rc3

commit cb311faa8d6e0c97edba59a5f514ad72d4447a7f
Author: Brandon W Maister <bwm@materialize.io>
Date:   Fri Feb 5 13:57:46 2021 -0500

    Prepare next phase of development: v0.7.1-dev

commit 7f39e00eacb378928cddeaca2b3b9fd1c740177d
Author: Brandon W Maister <bwm@materialize.io>
Date:   Fri Feb 5 13:56:16 2021 -0500

    release: v0.7.0-rc3

commit 5ea7cd5f4f5002586166054f6f64322653bd7734
Author: Brandon W Maister <bwm@materialize.io>
Date:   Fri Feb 5 10:16:31 2021 -0500

    peeker: Fix --run-duration handling (#5625)
    
    0 is supposed to mean "run infinitely", but it actually meant "exit immediately".

commit a5e155ca68c11e987382b7161b180f025941dde8
Merge: b2fd34ddb 684fe048c
Author: Nikhil Benesch <nikhil.benesch@gmail.com>
Date:   Thu Feb 4 20:58:14 2021 -0500

    Merge pull request #5601 from benesch/pgwire-terminate
    
    coord: allow terminating unstarted SessionClients

commit b2fd34ddb320f44bba158f0a0d12e5cfdba99494
Author: Chris Golden <551285+cirego@users.noreply.github.com>
Date:   Thu Feb 4 15:56:21 2021 -0800

    Use psql as the interpreter for our demos (#5616)
    
    
    With MaterializeInc/materialize#5555, the "root" user no longer works
    and broke this CLI. There is an open PR for mzcli,
    MaterializeInc/mzcli#17, but let's just use psql to introduce more
    stability in customer facing demos.
    
    Fixes #5612

commit bd905d6de26a4941584d10f1642b89f92c010fe5
Merge: 4619956c7 c26d20864
Author: Nikhil Benesch <nikhil.benesch@gmail.com>
Date:   Thu Feb 4 17:31:57 2021 -0500

    Merge pull request #5617 from MaterializeInc/mux-footgun
    
    materialized: avoid infinite recursion footgun

commit 4619956c72cfffee161ef956a9168c281d7779f1
Author: Chris Golden <551285+cirego@users.noreply.github.com>
Date:   Thu Feb 4 14:12:40 2021 -0800

    Remove custom peeker config file just for BI demo (#5615)
    
    
    The BI Demo used to have a peeker config that made its sources
    Materialized, but the BI demo does not appear to rely on having
    materialized sources. Also, the code to generate this peeker config was
    removed in 7f9515c056bfd69184b52db772d44d50aafe10ad.
    
    Let's just use the default.
    
    Fixes #5602

commit c26d20864694af8254c57d756e280d2cf681ed3c
Author: Nikhil Benesch <nikhil.benesch@gmail.com>
Date:   Thu Feb 4 16:35:43 2021 -0500

    materialized: avoid infinite recursion footgun
    
    Restructure some code to avoid the possibility of infinite recursion
    where a compile error is expected. Specifically, the Mux's
    handle_connection trait method delegates to an inherent method of the
    same name; but if that method of the same name changes its name or type
    (e.g. due to a refactoring), the Mux will silently start infinitely
    recursing instead of producing a compilation error as you might expect.

commit 95dd2d04d1b63e016dccb51ac158db7bd67348c1
Author: Brandon W Maister <bwm@materialize.io>
Date:   Thu Feb 4 16:35:00 2021 -0500

    s3 sources: Support scanning from multiple buckets (#5607)
    
    With the new factoring of code necessary to support SQS updates this is
    actually easier to implement than the old logic of requiring a different source
    for different buckets.
    
    This also more closely and accurately models the way that S3 sources are forced
    to work. Since SQS queues can subscribe to multiple SNS topics[1], so they can be
    configured for multiple S3 buckets. And since they can be configured for
    multiple S3 buckets we have the choice of either erroring if a user configures
    the same queue for multiple topics or of handling it correctly.
    
    Because of the way that I've architectured things, it's actually easier to do
    the more ergonomic thing of allowing users to handle multiple buckets in one
    source, and so this refactors the source syntax to explicitly allow it.
    
    [1]: https://stackoverflow.com/questions/44254094

commit 6d6f5f4c8fab33d5e0b76ef94e0fe601510e8305
Merge: 61732214d fbbc03895
Author: Brandon W Maister <bwm@materialize.io>
Date:   Thu Feb 4 16:17:44 2021 -0500

    Merge pull request #5590 from quodlibetor/prepare-v0.7.1-dev
    
    Prepare v0.7.1 dev

commit 61732214d7cc5d28d85f82bfa78db68bccf70cbb
Merge: 7c6bf05c1 6aee9bcc1
Author: Nikhil Benesch <nikhil.benesch@gmail.com>
Date:   Thu Feb 4 15:58:37 2021 -0500

    Merge pull request #5604 from benesch/db-error-assertions
    
    materialized: make it easier to assert on DbErrors

commit 7c6bf05c180bd078be593c84b547d93b7bc4472f
Merge: 5a362ab0a 004f41f96
Author: Ruchir Khaitan <ruchir0001@gmail.com>
Date:   Thu Feb 4 12:22:17 2021 -0500

    Merge pull request #5606 from ruchirK/tweak-generator
    
    bench/avro-upsert: tweak generator to send larger payloads

commit 43e616111be6d6c706fe19353ab3e98ead02b98d
Author: Micole Sudberg <micole.sudberg@gmail.com>
Date:   Thu Feb 4 11:11:09 2021 -0500

    (docs) Open CDC

commit 4e9f64792a21e37d8cacf08dd772c0e665e367a0
Author: Micole Sudberg <micole.sudberg@gmail.com>
Date:   Thu Feb 4 11:04:39 2021 -0500

    (docs) Open CDC

commit 004f41f963356798a260cdc477dc7b0d31ea514c
Author: Ruchir Khaitan <ruchir0001@gmail.com>
Date:   Thu Feb 4 11:03:56 2021 -0500

    bench/avro-upsert: tweak generator to send larger payloads

commit 5a362ab0aaebdfe88466ff570ac935625c0e4be9
Merge: 1858ebfa9 70049fd49
Author: Justin Jaffray <justin.jaffray@gmail.com>
Date:   Thu Feb 4 10:53:32 2021 -0500

    Merge pull request #5605 from justinj/merge-skew
    
    Fix merge skew

commit 70049fd496aa750f5fa92cd87f99e5631651b003
Author: Justin Jaffray <justin.jaffray@gmail.com>
Date:   Thu Feb 4 10:26:56 2021 -0500

    Fix merge skew

commit 1858ebfa986a564b6453c0511183b62a6e3ba38c
Merge: c444f6f9f d636131f8
Author: Justin Jaffray <justin.jaffray@gmail.com>
Date:   Thu Feb 4 10:15:57 2021 -0500

    Merge pull request #5499 from justinj/resolve-names
    
    sql: add name resolution pass

commit 6aee9bcc1ece7637b4664e65a3938e8072a27679
Author: Nikhil Benesch <nikhil.benesch@gmail.com>
Date:   Thu Feb 4 10:03:03 2021 -0500

    materialized: make it easier to assert on DbErrors
    
    Add an extension trait that makes it much easier to extract a DbError
    from a postgres::Error. This will hopefully encourage more assertions
    about the structured fields of an error, like its code.

commit c444f6f9faf6e3a2b668ce88f33c67bb84fd5694
Merge: 4378337ea c9bb500b2
Author: Nikhil Benesch <nikhil.benesch@gmail.com>
Date:   Thu Feb 4 10:02:29 2021 -0500

    Merge pull request #5603 from benesch/tls-tests
    
    materialized: require explicit client construction in tests

commit 4378337ea5e0f220ee639cc61c3cf4b0c2c95868
Author: Brennan Vincent <brennan@materialize.io>
Date:   Thu Feb 4 09:53:22 2021 -0500

    document upsert sinks (#5595)

commit 2b3f2d52f65604652af562ab3cc5304391194c62
Author: Jessica Laughlin <JLDLaughlin@users.noreply.github.com>
Date:   Thu Feb 4 09:53:06 2021 -0500

    coord,sql: support CREATE TEMPORARY TABLE (#5546)
    
    This change allows users to create temporary tables in their
    Materialize instance. Temporary tables are only visible to the
    user that created them, and are dropped when their connection is
    dropped or the instance is stopped. Temporary tables behave identically
    to other temporary objects.

commit d636131f813f76fc83c3db8a42e04d9ae4c101fd
Author: Justin Jaffray <justin.jaffray@gmail.com>
Date:   Mon Jan 25 09:47:11 2021 -0500

    sql: add name resolution pass
    
    This change adds a name resolution pass prior to planning, where table
    ids are stuffed in alongside the table names. This will hopefully pave
    the way to storing view definitions as id references instead of the raw
    names.
    
    I'm not really happy with the testing setup here, I had to put the tests
    for the name resolution in the coord crate since that's where we have
    access to the testing catalog. Ideally I'd like to have a simpler "test
    catalog" implementation that can be loaded in the planner, but I guess
    this will do for now?

commit c9bb500b2305f08fad26acd5ff6ca21ff8f6e43c
Author: Nikhil Benesch <nikhil.benesch@gmail.com>
Date:   Thu Feb 4 09:24:29 2021 -0500

    materialized: require explicit client construction in tests
    
    Change util::start_server so that it does not return a client that is
    connected to the server. Tests must now explicitly call `server.connect`
    to get a client with an acceptable TLS configuration.
    
    This change is required for forthcoming changes to allow servers that
    *require* TLS, in which case trying to automatically return a connected
    client from util::start_server is problematic, as start_server does not
    know what TLS configuration to use for the client.

commit d3db15a97dc7db17b2a8b3ae68ed17d6c9f367dd
Merge: 6e8fb3332 4a631b745
Author: Nikhil Benesch <nikhil.benesch@gmail.com>
Date:   Thu Feb 4 08:56:08 2021 -0500

    Merge pull request #5584 from benesch/literal-nullable
    
    expr: make it impossible to get the nullability of literal wrong

commit 684fe048c4fe29d0d0346bbbf98c0ccc3fc4a25f
Author: Nikhil Benesch <nikhil.benesch@gmail.com>
Date:   Thu Feb 4 00:21:45 2021 -0500

    coord: allow terminating unstarted SessionClients
    
    Previously the coordinator's SessionClient required that you had
    previously called SessionClient::startup in order to call
    SessionClient::terminate. Relax that restriction, because the pgwire
    crate does not abide by it.
    
    Specifically, a protocol mismatch error could previously cause the
    coordinator to panic; now the error is properly returned to the client.

commit 6e8fb333243a51bf6ba82e6f2134a497c22c1f11
Author: Chris Golden <551285+cirego@users.noreply.github.com>
Date:   Wed Feb 3 16:23:33 2021 -0800

    Fixup username in materialize connection strings (#5586)
    
    
    Continued from #5555
    
    Update chbenchmark build image to an LTS Ubuntu image
    
    Eoan is no longer supported, migrate the image to an LTS supported
    version. I originally did this as a multistage build but it was overly
    simplistic and splitting the image doesn't buy us much. Many of the ODBC
    dependencies need to be installed in the second image.

commit 6bc2310fd409bfca3a1fca18f615ec2b45461c4c
Merge: 9ba3dd7e6 6a7a7c91d
Author: Brandon W Maister <bwm@materialize.io>
Date:   Wed Feb 3 17:13:12 2021 -0500

    Merge pull request #5562 from quodlibetor/s3-sources-prepare-multi-keysources
    
    s3 sources: Refactor source creation to support multiple key sources

commit 9ba3dd7e6923c5df7bcca4176d806d7279d1461e
Author: Jeremy Cohen <jtcohen6@gmail.com>
Date:   Wed Feb 3 23:08:32 2021 +0100

    dbt-materialize demo feedback (#5557)
    
    Integrate feedback from @jtcohen6 from dbt into the wikirecent-dbt
    Materialize demo.

commit 6b44ce93a59b8dc64aa5101b2563ca335fb9ed7e
Author: Chris Golden <551285+cirego@users.noreply.github.com>
Date:   Wed Feb 3 13:28:56 2021 -0800

    Add benchmark to test insert with a filter (#5592)
    
    
    This avoids using the upsert operator, so it's a good comparison point
    against the avro-upsert benchmark.
    
    Currently gets ~3800K rows / second on my workstation, as compared to
    ~520K rows / sec with the avro upsert workload. Timewise, that's 1m45s
    compared to 12m45s.

commit fbbc03895e8f93fd328dc93c6ba262f515a8ea7a
Author: Brandon W Maister <bwm@materialize.io>
Date:   Wed Feb 3 15:05:58 2021 -0500

    Prepare next phase of development: v0.7.1-dev

commit ecaecfc4cff2d3b555073c884c5d88dbca8458e4
Author: Brandon W Maister <bwm@materialize.io>
Date:   Wed Feb 3 15:04:22 2021 -0500

    release: v0.7.0-rc1

commit 6a7a7c91d0aa64f2bf7931330ac0bd94805764b4
Author: Brandon W Maister <bwm@materialize.io>
Date:   Tue Feb 2 17:45:04 2021 -0500

    s3 sources: Factor out object downloading to its own tokio task
    
    This will allow us to send information from any Key Name Source into this
    centralized process.

commit 59f1dba46b5281ac26235e9dc2e64523cef2d704
Author: Brandon W Maister <bwm@materialize.io>
Date:   Tue Feb 2 15:06:23 2021 -0500

    s3 sources: Refactor source creation to support multiple key sources
    
    The next step in S3 sources is to support the `OBJECTS FROM SCAN, SQS
    NOTIFICATIONS '<queue>'` syntax, which requires `OBJECTS FROM` to accept a list
    of clauses.
    
    This PR introduces no functional changes (although there are some error message
    changes), it just moves things around to make SQS sources fit in nicely.

commit 718c00a02b8a7526300229fea9fb3ff9dd1a2bf8
Merge: e29f4f859 07d882743
Author: Sean Loiselle <sean@materialize.io>
Date:   Wed Feb 3 11:29:38 2021 -0500

    Merge pull request #5547 from sploiselle/func-catalog-migration-pt3
    
    coord: bring sql functions into catalog

commit 07d88274365e8932da00fb2e9144b39d27500622
Author: Sean Loiselle <sean@materialize.io>
Date:   Mon Feb 1 16:30:49 2021 -0500

    docs: func catalog migration release notes

commit 350fda8ea3478a3b7083bb1db593349e6e715ad7
Author: Sean Loiselle <sean@materialize.io>
Date:   Mon Jan 18 21:56:14 2021 -0500

    coord: add mz_procs table for functions

commit be18b25e411ec8d8415dca901f29cb5452d23c3a
Author: Sean Loiselle <sean@materialize.io>
Date:   Mon Jan 18 09:59:37 2021 -0500

    coord: add pseudotypes to catalog

commit 3b336340fe69679a8d2fe4d95a9abe1134192089
Author: Sean Loiselle <sean@materialize.io>
Date:   Thu Jan 28 15:33:52 2021 -0500

    coord: separate function and relation namespaces

commit 854fddf8e125afaf5176b39e652f6c9c30f7b87c
Author: Sean Loiselle <sean@materialize.io>
Date:   Tue Jan 5 12:14:35 2021 -0500

    coord: move builtin functions into catalog

commit 4a631b74562f0c32c02cade734d3fdf0de77ab79
Author: Nikhil Benesch <nikhil.benesch@gmail.com>
Date:   Wed Feb 3 11:05:18 2021 -0500

    expr: make it impossible to get the nullability of literal wrong
    
    Make MirScalarExpr::literal and friends automatically ascertain the
    nullability of the literal by checking if the literal is null. This is
    guaranteed to be correct, unlike the prior approach which required that
    the caller get the nullability right.
    
    We made the equivalent change to HirScalarExpr in the sql crate to good
    effect.

commit e29f4f8596b9c24c9aa3c96d925bc5afc99c9f5b
Merge: 79ceebe6d 71afe9ec1
Author: Nikhil Benesch <nikhil.benesch@gmail.com>
Date:   Wed Feb 3 10:43:17 2021 -0500

    Merge pull request #5582 from MaterializeInc/benesch-patch-1
    
    avro-upsert: update for new required materialize user

commit 71afe9ec1e64d398b31fcd17b7f0695decea32ea
Author: Nikhil Benesch <nikhil.benesch@gmail.com>
Date:   Wed Feb 3 10:36:55 2021 -0500

    avro-upsert: update for new required materialize user

commit 79ceebe6d96fe39ce3312986866cd02f489492f7
Merge: 733dd8575 4f8b6bc8d
Author: Andi Wang <5522362+wangandi@users.noreply.github.com>
Date:   Wed Feb 3 09:53:41 2021 -0500

    Merge pull request #5565 from wangandi/issue5520
    
    Optimization: Fix crash when a filter references output column of a TableFunc

commit 733dd8575024a4a98306777e9b6a2e072312b386
Author: Chris Golden <551285+cirego@users.noreply.github.com>
Date:   Tue Feb 2 23:26:55 2021 -0800

    Create Avro Upsert CI / smoke test job (#5576)
    
    * Create CI job for avro-upsert benchmark
    
    This job inserts a small amount of data into Kafka using kgen,
    with a smaller distribution of keys. It then waits until materialized
    reads all of the messages inserted, using the metrics exported to
    Prometheus to verify progress.
    
    Fixes #5511
    
    * Rename Avro Upsert benchmark to match existing style
    
    * Add pipeline job

commit 53afed61ce912675e5c48faf7563ec4a7532d4ec
Merge: 0825646e8 f73e19b2f
Author: Nikhil Benesch <nikhil.benesch@gmail.com>
Date:   Wed Feb 3 02:08:45 2021 -0500

    Merge pull request #5555 from MaterializeInc/require-role
    
    coord,pgwire: require valid user when connecting

commit f73e19b2fca7d2b753a741a56a2fdb211f37cc66
Author: Nikhil Benesch <nikhil.benesch@gmail.com>
Date:   Tue Feb 2 02:31:59 2021 -0500

    coord,pgwire: require valid user when connecting
    
    Require that the name of a valid user is specified when connecting to
    Materialize. This is going to be a disruptive change, but it has to be
    done to support authentication.

commit ced7a9d834d4deb20e5c7442c674f30c1d1616df
Author: Nikhil Benesch <nikhil.benesch@gmail.com>
Date:   Wed Feb 3 00:01:38 2021 -0500

    rust-toolchain: upgrade to Rust 1.49
    
    The new support for ref-move patterns makes it possible to resolve a
    TODO in the pgwire crate.

commit 0825646e897255a8ce155a4f8259fbcd81fd3fa7
Author: Chris Golden <551285+cirego@users.noreply.github.com>
Date:   Tue Feb 2 21:48:33 2021 -0800

    fixup! kgen: avoid allocation when generating key data (#5572)
    
    The key variable was no longer being assigned by the if / else statements but
    it was being used. This resulted in us writing a null key to Kafka. Remove this
    variable, as it's no longer necessary. This then makes it obvious that key_buf
    is the thing we should be using for the key.

commit 56051a13b745163bacd365b95465a49468d031c4
Merge: c1e19046e 84a435054
Author: Nikhil Benesch <nikhil.benesch@gmail.com>
Date:   Tue Feb 2 23:49:20 2021 -0500

    Merge pull request #5573 from MaterializeInc/quotestr
    
    ore: introduce str quoting helper

commit 84a435054dc885f7e2289ad6014a076b88552112
Author: Nikhil Benesch <nikhil.benesch@gmail.com>
Date:   Tue Feb 2 19:50:27 2021 -0500

    ore: introduce str quoting helper
    
    Introduce a helper that wraps a string in quotes, escaping any contained
    quotes. This is useful for error messages like
    
        view "blah" did not exist
    
    where the user-supplied name could potentially contain quotes. The
    helper will automatically quote those internal quotes, resulting in
    e.g.:
    
        view "bad\"quote" did not exist
    
    I took a quick pass at converting constructions like
    
        format!("view \"{}\" did not exist", view_name)
    
    but there are many, many places where we ought to be wrapping
    user-supplied data in quotes but are not. We'll just have to improve
    those as we go.
    
    Per @mjibson's request.

commit 4f0f36bf0509b37dadca67e01aead31c0611095b
Author: Nikhil Benesch <nikhil.benesch@gmail.com>
Date:   Tue Feb 2 23:33:55 2021 -0500

    ci: handle variable DOCKER_CONFIG, part ii
    
    The last attempt, in the last commit, didn't quite work out.

commit c1e19046edf4d09c97287bdd1dee7ea2c47be394
Merge: ea4040c88 c046fc79c
Author: Nikhil Benesch <nikhil.benesch@gmail.com>
Date:   Tue Feb 2 22:53:37 2021 -0500

    Merge pull request #5574 from benesch/docker-config
    
    ci: handle variable location of Docker config on new BK stack

commit c046fc79cd81e3ae20c26c83656fe51520208a65
Author: Nikhil Benesch <nikhil.benesch@gmail.com>
Date:   Tue Feb 2 22:27:21 2021 -0500

    ci: handle variable location of Docker config on new BK stack
    
    I recently upgraded our build agents to the latest version of the
    Buildkite Cloudformation template, which unfortunately included a
    breaking change in which Docker auth credentials are no longer stored in
    the default $HOME/.docker but in a temporary directory pointed to by
    $DOCKER_CONFIG.
    
    Teach our ci-builder script to adapt to this new reality, so that it
    can appropriately forward Docker auth credentials to the Docker image.

commit ea4040c88bf68bf9a93a630f83e8cb27c443ec0b
Author: Chris Golden <551285+cirego@users.noreply.github.com>
Date:   Tue Feb 2 17:35:55 2021 -0800

    Use kgen to insert avro upsert data in benchmark (#5511)
    
    
    This dramatically reduces the amount of time required to generate the
    dataset for the upsert benchmark.

commit 8842d1dd45e869f5bc8235a186d2d20b2cae56c0
Merge: 06475b2e8 b21ef9cbd
Author: Nikhil Benesch <nikhil.benesch@gmail.com>
Date:   Tue Feb 2 19:52:44 2021 -0500

    Merge pull request #5563 from benesch/sql-org
    
    sql: move all WITH option normalization into normalize mod

commit 06475b2e868fc93302144596e1c95a6f96fab9a4
Merge: 13c97c7a3 406b9523b
Author: Nikhil Benesch <nikhil.benesch@gmail.com>
Date:   Tue Feb 2 19:40:17 2021 -0500

    Merge pull request #5568 from benesch/coord-error
    
    coord: structure many errors

commit 406b9523b06333887cd102aacd1a19874256c363
Author: Nikhil Benesch <nikhil.benesch@gmail.com>
Date:   Tue Feb 2 17:57:57 2021 -0500

    coord: structure many errors
    
    Introduce structured errors in the coord crate. This makes it possible
    to return errors to the client over pgwire that report a SQLSTATE code,
    details, and a hint in addition to the text of the error message.
    
    The design here was proposed in #5340.
    
    Converting all errors to structured errors is a large task, so this
    commit largely limits the conversion to a few obvious places.
    Unconverted errors remain in the CoordError::Unstructured variant as an
    anyhow::Error. We'll want to continue converting these errors as we go.
    
    The impetus for this change is to enable returning a hint with the "no
    such role" method proposed in #5555.

commit 4f8b6bc8d418a387149ab205f449876f0eada742
Author: Andi Wang <andi@materialize.io>
Date:   Tue Feb 2 19:07:20 2021 -0500

    Add regression unit test.

commit 13c97c7a3d5d9f37a51dbe27da4313100244c0c3
Merge: ff0777eb0 3bc2f6134
Author: Nikhil Benesch <nikhil.benesch@gmail.com>
Date:   Tue Feb 2 18:39:20 2021 -0500

    Merge pull request #5554 from benesch/kgen-parsing
    
    Various kgen improvements

commit ff0777eb0d97d8256750cdfec4192ff2d24b10f7
Author: Brandon W Maister <bwm@materialize.io>
Date:   Tue Feb 2 18:13:37 2021 -0500

    Initial pass at S3 source documentation (#5524)

commit b21ef9cbdc777a4006fcb2fff32defaee97ef363
Author: Nikhil Benesch <nikhil.benesch@gmail.com>
Date:   Tue Feb 2 15:46:07 2021 -0500

    sql: move all WITH option normalization into normalize mod
    
    Both statement purification and planning need to normalize WITH options,
    but some of the WITH option normalization code lived in the plan module.
    Rather than reaching into the plan module from the normalize module to
    pull it out, move that WITH option code into the normalize module, which
    is naturally depended upon by both the plan and pure modules.
    
    This commit is pure code movement.

commit 3bc2f613451b9ed05ebf8a8b76359fd8b2aac1c9
Author: Nikhil Benesch <nikhil.benesch@gmail.com>
Date:   Tue Feb 2 01:05:02 2021 -0500

    kgen: avoid allocation when generating key data

commit b7eadb8163da388017ae28caee0b54578ad77404
Author: Nikhil Benesch <nikhil.benesch@gmail.com>
Date:   Tue Feb 2 01:01:04 2021 -0500

    kgen: validate format options more aggressively
    
    Reject format options for the non-active format. We have to do this
    manually unless clap-rs/clap#2039 is fixed.
    
    Fix #5553.

commit 6160217e3ac912ae48dd47b65763657a77aa4066
Author: Nikhil Benesch <nikhil.benesch@gmail.com>
Date:   Tue Feb 2 00:30:00 2021 -0500

    kgen: add --quiet flag to suppress progress messages
    
    Co-authored-by: Chris Golden <chris@materialize.io>

commit 23425381c2b2a92e950e45a403f44c909e203de2
Author: Nikhil Benesch <nikhil.benesch@gmail.com>
Date:   Tue Feb 2 00:28:03 2021 -0500

    kgen: allow configuring schema registry url
    
    Co-authored-by: Chris Golden <chris@materialize.io>

commit 1f86365433fe10794a456d9e21c2c38529160bcf
Author: Nikhil Benesch <nikhil.benesch@gmail.com>
Date:   Tue Feb 2 00:24:38 2021 -0500

    kgen: use structopt rather than clap directly
    
    We've standardized on using structopt rather than clap's builder API.
    Refactor kgen accordingly, for a nice simplification in option parsing.

commit 6a1ee3d60cf1f4363111740d6375b7d66f40071a
Author: Nikhil Benesch <nikhil.benesch@gmail.com>
Date:   Tue Feb 2 00:02:38 2021 -0500

    avro: implement FromStr for Schema
    
    This makes it a bit more natural to parse Schemas via &str's "parse"
    method, and alos unlocks using Schemas in structopt arguments.

commit 956fdf510c8a7acad4060b657c57324785205435
Author: Brandon W Maister <bwm@materialize.io>
Date:   Tue Feb 2 16:56:37 2021 -0500

    ci: have_paths_changed now takes a single iterable (#5566)

commit 40129368bf1fed72874473aec1d9a4ed0adba1cb
Merge: 7d9f78187 3d27316be
Author: Sean Loiselle <sean@materialize.io>
Date:   Tue Feb 2 16:29:16 2021 -0500

    Merge pull request #5561 from sploiselle/create-table-type-aliases
    
    coord/sql: canonicalize data type during normalization

commit 7d9f78187ed51a482dc34f55a78a4397de6d94d4
Merge: b9aabee8d 913906e17
Author: Nikhil Benesch <nikhil.benesch@gmail.com>
Date:   Tue Feb 2 15:24:28 2021 -0500

    Merge pull request #5560 from MaterializeInc/ci-glue
    
    ci: test everything when glue code changes

commit 6a7848ed5c3bceff86569a61b67cdaaf36fa4907
Author: Andi Wang <andi@materialize.io>
Date:   Tue Feb 2 15:23:26 2021 -0500

    Add regression test.

commit d7673af83beb5bed73982b060b5079b08141c740
Author: Andi Wang <andi@materialize.io>
Date:   Tue Feb 2 14:49:04 2021 -0500

    Output columns should not be propagated down in  NonNullRequirements::FlatMap.

commit 3d27316be4e037f5745b8b42c12996bdb0cf9f7c
Author: Sean Loiselle <sean@materialize.io>
Date:   Tue Feb 2 11:47:49 2021 -0500

    coord/sql: canonicalize data type during normalization

commit b9aabee8d75b3b330ed38819bb2dacfa5539b81a
Author: Brandon W Maister <bwm@materialize.io>
Date:   Tue Feb 2 13:27:04 2021 -0500

    aws sources: Verify credentials before source creation (#5497)
    
    Ideally we do not create dataflows with known-invalid credentials, doing some
    verification here allows us to return an error to users on `CREATE SOURCE`,
    instead of the source getting created and then the dataflow failing with an
    error in the logs.

commit 913906e172225352cc586259b3a6939509a77e85
Author: Nikhil Benesch <nikhil.benesch@gmail.com>
Date:   Tue Feb 2 12:43:34 2021 -0500

    ci: test everything when glue code changes
    
    This is an alternative to #5556. The idea is that when anything about
    the CI configuration itself changes, we ought not attempt to trim any
    jobs from the CI pipeline, and just run everything.

commit 46ac406ea1e769c3660afca0e9ca854b4d307592
Author: Micole Sudberg <micole.sudberg@gmail.com>
Date:   Tue Feb 2 12:25:01 2021 -0500

    Open CDC format doc

commit f6743208e92ae2b9ba1eb8052910ab81f0cc8fc8
Merge: be94863dc 605c2e37f
Author: Andi Wang <5522362+wangandi@users.noreply.github.com>
Date:   Tue Feb 2 11:18:44 2021 -0500

    Merge pull request #5552 from wangandi/compactionerror
    
    Upsert: If value is being replaced with new value, offset should be replaced with new offset.

commit be94863dc7148fffc4bd65b816b6a1d03f566439
Author: Jessica Laughlin <JLDLaughlin@users.noreply.github.com>
Date:   Tue Feb 2 10:53:15 2021 -0500

    coord,sql: support CREATE TEMPORARY MATERIALIZED VIEW (#5542)
    
    This change allows users to create temporary materialized views in their
    Materialize instance--thereby creating temporary indexes, as well. Temporary
    materialized views (and indexes) behave identically to other temporary
    objects: they are only visible to the user that creates them, and they are
    automatically dropped when the user's connection is dropped or the
    Materialize instance is stopped.

commit 605c2e37f8add3135ccf53eeaefed92ef93071d4
Author: Andi Wang <andi@materialize.io>
Date:   Tue Feb 2 10:51:29 2021 -0500

    Make it more clear in the code that new_whatever should always replace old_whatever.

commit 7d0ba249406f03cec5c2fe894384ea2d385aa082
Author: Brandon W Maister <bwm@materialize.io>
Date:   Tue Feb 2 10:27:59 2021 -0500

    testdrive: Add details to some comments and add a debug print (#5518)

commit 8d1789749486444fdeb0a1dab0da674f5404a2e3
Author: Brandon W Maister <bwm@materialize.io>
Date:   Tue Feb 2 10:26:47 2021 -0500

    testdrive: Make LocalStack work in mzcompose (#5496)

commit 88815e32ea26a5ee3abf04c2bbb49ee27ace22d4
Merge: a1438d92c 13c215d05
Author: Petros Angelatos <petrosagg@gmail.com>
Date:   Tue Feb 2 10:31:39 2021 +0100

    Merge pull request #5537 from petrosagg/kafka-multipartition-sink
    
    Kafka multipartition sinks

commit 13c215d05c78d38f23909bf8cea05be59547139f
Author: Petros Angelatos <petrosagg@gmail.com>
Date:   Mon Feb 1 19:09:41 2021 +0100

    sql-parser: handle negative numbers when parsing values
    
    Signed-off-by: Petros Angelatos <petrosagg@gmail.com>

commit acbc48785f3d41cfc7327e51db6d6f24677d5af1
Author: Petros Angelatos <petrosagg@gmail.com>
Date:   Mon Feb 1 13:22:25 2021 +0100

    sinks: support multi-partition kafka sinks
    
    Signed-off-by: Petros Angelatos <petrosagg@gmail.com>

commit a1438d92cc9a8e8658b1f299b028e6fc95b00125
Merge: 6725cfcca f11f74976
Author: Nikhil Benesch <nikhil.benesch@gmail.com>
Date:   Tue Feb 2 02:39:19 2021 -0500

    Merge pull request #5549 from benesch/overflow-backtraces
    
    materialized: attempt to produce nice backtraces on stack overflow

commit f11f74976f0cc52329677d7999837266ddfd7331
Author: Nikhil Benesch <nikhil.benesch@gmail.com>
Date:   Mon Feb 1 16:42:13 2021 -0500

    materialized: attempt to produce nice backtraces on stack overflow
    
    Rust produces bad error messages on stack overflow, like
    
        "thread 'foo' has overflowed its stack"
    
    which provides very little insight into where the recursion that caused
    the stack to overflow occurred.
    
    See https://github.com/rust-lang/rust/issues/51405 for details.
    
    This commit adds a SIGSEGV handler that attempts to print a backtrace,
    following the approach in the backtrace-on-stack-overflow crate. I
    copied the code from that crate into Materialize and tweaked it because
    it's a very small amount of code that we'll likely need to modify, and I
    wanted to improve its error handling.
    
    In my manual testing this produces a nice backtrace when Materialize
    overflows its stack.

commit 49bb5e211670450bd3d2edfa512d05925252bed9
Author: Andi Wang <andi@materialize.io>
Date:   Mon Feb 1 18:36:53 2021 -0500

    If value is being replaced with new value, offset should be replaced with new offset.

commit 507d4efe9f0de1db82bf4eb349cd65aeca292e92
Author: Micole Sudberg <micole.sudberg@gmail.com>
Date:   Mon Feb 1 17:56:56 2021 -0500

    Open CDC format doc

commit 6725cfcca260e7b9ced5ed9cf25a54730354d202
Merge: f496786e5 2909068c8
Author: Ruchir Khaitan <ruchir0001@gmail.com>
Date:   Mon Feb 1 17:55:40 2021 -0500

    Merge pull request #5548 from ruchirK/rk-kgen
    
    kgen: allow avro keys and avro key distributions

commit f496786e5d4982dd002291510de06e6f1db3377e
Merge: b6759cf1e f1f970964
Author: Matt Jibson <matt.jibson@gmail.com>
Date:   Mon Feb 1 15:52:07 2021 -0700

    Merge pull request #5550 from mjibson/cleanup-run
    
    pgwire: call Terminate even at connection error

commit 15031e87fa58c712d1d41c696d5a123c5a36b1ba
Author: Micole Sudberg <micole.sudberg@gmail.com>
Date:   Mon Feb 1 17:51:34 2021 -0500

    Open CDC format doc

commit b6759cf1e1bdbc0cd7d170c5c4ee950e6948c71d
Author: Chris Golden <551285+cirego@users.noreply.github.com>
Date:   Mon Feb 1 14:27:45 2021 -0800

    Deprecate stop-services in favor of remove-services (#5513)
    
    
    We only use it in two places, one of which could have been restart, the
    other could have been remove.

commit 3721601a772365e99a0ee1855b9a958309ac36ad
Merge: 9a66494c8 311da820d
Author: Nikhil Benesch <nikhil.benesch@gmail.com>
Date:   Mon Feb 1 17:26:36 2021 -0500

    Merge pull request #5536 from benesch/roles
    
    coord,sql: wire up CREATE/DROP ROLE

commit f1f97096468f8338e2b87dbae451754df5d8282f
Author: Matt Jibson <matt.jibson@gmail.com>
Date:   Mon Feb 1 15:12:54 2021 -0700

    pgwire: call Terminate even at connection error
    
    Previously if the connection was closed while the state machine was
    trying to read the next message in advance_ready, the error path would
    avoid calling terminate and could leave portals open. This could cause
    a file descriptor leak since dataflow uses sockets for communication.
    
    See #5543

commit 9a66494c8d295b6458b9e562641aad1fe95d01c1
Author: Brandon W Maister <bwm@materialize.io>
Date:   Mon Feb 1 17:07:10 2021 -0500

    Use fast-float to parse floats for 50-75% speedup (#5517)
    
    Came across
    https://lemire.me/blog/2021/01/29/number-parsing-at-a-gigabyte-per-second/
    which pointed out the rust library. Since we recently optimized this because it
    was showing up in a customer profile I thought it'd be worth doing:
    
        $ cargo bench -- parse_float
        parse_float32/-3.0      time:   [10.227 ns 10.292 ns 10.364 ns]
                                change: [-74.777% -74.335% -73.827%] (p = 0.00 < 0.05)
                                Performance has improved.
        Found 8 outliers among 100 measurements (8.00%)
          1 (1.00%) low mild
          3 (3.00%) high mild
          4 (4.00%) high severe
    
        parse_float32/9.7       time:   [9.7706 ns 9.8281 ns 9.8885 ns]
                                change: [-76.467% -75.562% -74.784%] (p = 0.00 < 0.05)
                                Performance has improved.
        Found 7 outliers among 100 measurements (7.00%)
          2 (2.00%) low mild
          3 (3.00%) high mild
          2 (2.00%) high severe
    
        parse_float32/NaN       time:   [6.3433 ns 6.3743 ns 6.4075 ns]
                                change: [-69.361% -69.100% -68.846%] (p = 0.00 < 0.05)
                                Performance has improved.
        Found 10 outliers among 100 measurements (10.00%)
          7 (7.00%) high mild
          3 (3.00%) high severe
    
        parse_float32/inFiNiTy  time:   [9.1302 ns 9.1807 ns 9.2367 ns]
                                change: [-50.457% -50.038% -49.601%] (p = 0.00 < 0.05)
                                Performance has improved.
        Found 10 outliers among 100 measurements (10.00%)
          6 (6.00%) high mild
          4 (4.00%) high severe

commit 2909068c84fe59d231e00d151587287e42f0b940
Author: Ruchir Khaitan <ruchir0001@gmail.com>
Date:   Sun Jan 31 12:38:07 2021 -0500

    kgen: allow avro keys and avro key distributions
    
    This commit adds support for Avro formatted keys to kgen. Additionally this commit
    changes the `partitions` arg to `partitions-round-robin` to make it more obvious
    that this argument exists only to round robin records regardless of the contents of
    their keys and therefore it shouldn't be used (Kafka will default to distributing keys
    uniformly across partitions) unless the key distribution is really skewed but the
    data still needs to be distributed evenly.

commit 311da820d5bfee7c151b85968d0b814cc3592ea7
Author: Nikhil Benesch <nikhil.benesch@gmail.com>
Date:   Mon Feb 1 02:54:58 2021 -0500

    coord,sql: wire up CREATE/DROP ROLE
    
    Wire up CREATE ROLE and DROP ROLE so that it is possible to create and
    drop roles in Materialize. These roles don't do anything presently, but
    they'll be used to provide authentication in a later commit. See #4626.

commit 6a2c77a429a25e39f540cc95521bc7d37d21c31a
Author: Brandon W Maister <bwm@materialize.io>
Date:   Mon Feb 1 15:40:51 2021 -0500

    s3: generated data for benchmarks (#5503)

commit c2314d251d4dd839ffaf5c6e03a1d865aa9b8a7a
Author: Brandon W Maister <bwm@materialize.io>
Date:   Mon Feb 1 13:47:06 2021 -0500

    Add some links pointing to different parts of the create-source docs (#5525)

commit 4b97f0dcacb46fa5d040fc7d255e8c2dd2737388
Merge: aecc3f436 c7ee58ee4
Author: Sean Loiselle <sean@materialize.io>
Date:   Mon Feb 1 13:35:40 2021 -0500

    Merge pull request #5505 from sploiselle/func-catalog-migration-pt-2
    
    Func catalog migration pt 2

commit c7ee58ee441cf33d74cd5b469867441be52065ba
Author: Sean Loiselle <sean@materialize.io>
Date:   Tue Jan 26 18:31:05 2021 -0500

    sql: treat NULLIF as an expression
    
    We previously treated NULLIF as a function, given its semantics;
    however, like COALESCE, NULLIF is an expression in PG, so should
    more rightly be an expression in MZ.
    
    This is will be necessary once  we require all functions to be
    resolvable within the catalog.

commit 789142487822982805edd16c6408362f655cedda
Author: Sean Loiselle <sean@materialize.io>
Date:   Thu Jan 28 18:43:34 2021 -0500

    coord: use sql::catalog::CatalogItemType as SqlCatalogItemType

commit 2724956d7d3c5b8bf879194563a6773f3ecc47f4
Author: Sean Loiselle <sean@materialize.io>
Date:   Tue Jan 26 16:04:42 2021 -0500

    sql: add planned-away functions to builtins

commit 0d4d927c024d54050424a81100b9e6e03ab8d9ee
Author: Sean Loiselle <sean@materialize.io>
Date:   Tue Jan 5 18:47:20 2021 -0500

    sql: add OIDs to all builtin function and operators

commit 87f976e86298a11e73fda1d8e8f2fe53cb6e0d9a
Author: Sean Loiselle <sean@materialize.io>
Date:   Tue Jan 5 11:08:56 2021 -0500

    sql: promote func to its own module

commit aecc3f436a89a3bce63f16b81a46bfb8e4a88a89
Merge: e47c22400 c9c8b036b
Author: Petros Angelatos <petrosagg@gmail.com>
Date:   Mon Feb 1 18:40:39 2021 +0100

    Merge pull request #5538 from petrosagg/array-length
    
    Add support for `array_length()`

commit e47c224000d7400da75dcb8dfcafd872ce7098b0
Merge: 192738f0f 55a8e8b52
Author: Sean Loiselle <sean@materialize.io>
Date:   Mon Feb 1 12:18:56 2021 -0500

    Merge pull request #5540 from sploiselle/compare-uuid
    
    sql: add vanilla equality operations for UUID

commit 55a8e8b529dc4b021c13bba0d554977c0d17099f
Author: Sean Loiselle <sean@materialize.io>
Date:   Mon Feb 1 10:26:56 2021 -0500

    sql: add vanilla equality operations for UUID

commit c9c8b036be5e28988eb9c113d46f717518eb061b
Author: Petros Angelatos <petrosagg@gmail.com>
Date:   Mon Feb 1 15:55:34 2021 +0100

    add support for array_length
    
    Signed-off-by: Petros Angelatos <petrosagg@gmail.com>

commit 192738f0f4ea9c16614940a77517e4f415230f82
Author: Brandon W Maister <bwm@materialize.io>
Date:   Mon Feb 1 10:09:04 2021 -0500

    s3 sources: Don't block unknown formats (#5514)
    
    Datadecoding happens inside of the dataflow, I thought I needed to do more work
    to support it initially. Turns out just disabling the filter supports at least
    CSV and Regex sources.

commit 6239a09e0a8002775443956a6e84d9cbffa57fed
Merge: fd6153f10 9b1c27a93
Author: Nikhil Benesch <nikhil.benesch@gmail.com>
Date:   Mon Feb 1 01:54:03 2021 -0500

    Merge pull request #5534 from MaterializeInc/dependabot/cargo/sysinfo-0.16.0
    
    build(deps): bump sysinfo from 0.15.9 to 0.16.0

commit fd6153f10d40526a33a08312b8b4d8ec44ba6450
Merge: db98d068f 8cf72e008
Author: Nikhil Benesch <nikhil.benesch@gmail.com>
Date:   Mon Feb 1 01:15:40 2021 -0500

    Merge pull request #5532 from MaterializeInc/dependabot/cargo/rusoto_s3-31cf150
    
    build(deps): bump rusoto_s3 from `bcf8048` to `31cf150`

commit db98d068fee4d7676e4f56210fd062d94937fb4e
Merge: 9df61129f 15429a631
Author: Nikhil Benesch <nikhil.benesch@gmail.com>
Date:   Mon Feb 1 01:15:24 2021 -0500

    Merge pull request #5527 from MaterializeInc/dependabot/cargo/flate2-1.0.20
    
    build(deps): bump flate2 from 1.0.19 to 1.0.20

commit 9df61129fc96dd2d148de5baf6d56b872d5cb01f
Merge: 924a3e364 191e93408
Author: Nikhil Benesch <nikhil.benesch@gmail.com>
Date:   Mon Feb 1 01:15:11 2021 -0500

    Merge pull request #5528 from MaterializeInc/dependabot/cargo/serde-1.0.123
    
    build(deps): bump serde from 1.0.122 to 1.0.123

commit 924a3e364c48eb15950786bf6a854b2c0946a299
Merge: 99c211815 d80b3a62e
Author: Nikhil Benesch <nikhil.benesch@gmail.com>
Date:   Mon Feb 1 01:15:05 2021 -0500

    Merge pull request #5529 from MaterializeInc/dependabot/cargo/predicates-1.0.7
    
    build(deps): bump predicates from 1.0.6 to 1.0.7

commit 99c211815f0a72e6f45c98b6e3656a6638ba99f4
Merge: f05d402ff 5d583de43
Author: Nikhil Benesch <nikhil.benesch@gmail.com>
Date:   Mon Feb 1 01:14:55 2021 -0500

    Merge pull request #5531 from MaterializeInc/dependabot/cargo/sha2-0.9.3
    
    build(deps): bump sha2 from 0.9.2 to 0.9.3

commit f05d402ffba3c2d016ea9b4f13cacc9ff2b0b226
Merge: 55091ec54 2fe349eb7
Author: Nikhil Benesch <nikhil.benesch@gmail.com>
Date:   Mon Feb 1 01:14:35 2021 -0500

    Merge pull request #5533 from MaterializeInc/dependabot/cargo/rusoto_core-31cf150
    
    build(deps): bump rusoto_core from `bcf8048` to `31cf150`

commit 9b1c27a9371fb1269ca1b4b063a438c239b54e49
Author: dependabot-preview[bot] <27856297+dependabot-preview[bot]@users.noreply.github.com>
Date:   Mon Feb 1 03:42:41 2021 +0000

    build(deps): bump sysinfo from 0.15.9 to 0.16.0
    
    Bumps [sysinfo](https://github.com/GuillaumeGomez/sysinfo) from 0.15.9 to 0.16.0.
    - [Release notes](https://github.com/GuillaumeGomez/sysinfo/releases)
    - [Commits](https://github.com/GuillaumeGomez/sysinfo/commits)
    
    Signed-off-by: dependabot-preview[bot] <support@dependabot.com>

commit 55091ec5477962ce41bc93c0a985f61d2ae3cfc9
Merge: dabfbb7cb c7346fd6b
Author: Nikhil Benesch <nikhil.benesch@gmail.com>
Date:   Mon Feb 1 01:12:40 2021 -0500

    Merge pull request #5535 from MaterializeInc/dependabot/cargo/rdkafka-d7c2baf
    
    build(deps): bump rdkafka from `743bb25` to `d7c2baf`

commit c7346fd6b957f71f7eab6ff8c3f0192a69415c61
Author: dependabot-preview[bot] <27856297+dependabot-preview[bot]@users.noreply.github.com>
Date:   Mon Feb 1 03:43:22 2021 +0000

    build(deps): bump rdkafka from `743bb25` to `d7c2baf`
    
    Bumps [rdkafka](https://github.com/fede1024/rust-rdkafka) from `743bb25` to `d7c2baf`.
    - [Release notes](https://github.com/fede1024/rust-rdkafka/releases)
    - [Commits](https://github.com/fede1024/rust-rdkafka/compare/743bb258b3fea914cdcaec311d63c651927d07fb...d7c2baf32eb4c85cf530f6b0b52623fc902e8a78)
    
    Signed-off-by: dependabot-preview[bot] <support@dependabot.com>

commit 2fe349eb78818533767fd7ff4e8e21cb5796a2d7
Author: dependabot-preview[bot] <27856297+dependabot-preview[bot]@users.noreply.github.com>
Date:   Mon Feb 1 03:42:09 2021 +0000

    build(deps): bump rusoto_core from `bcf8048` to `31cf150`
    
    Bumps [rusoto_core](https://github.com/rusoto/rusoto) from `bcf8048` to `31cf150`.
    - [Release notes](https://github.com/rusoto/rusoto/releases)
    - [Commits](https://github.com/rusoto/rusoto/compare/bcf80486ab8aa389296ee5211c7c4c3d40f7ffbb...31cf1506f9f4bd7af7a1f86ced3cec436913d518)
    
    Signed-off-by: dependabot-preview[bot] <support@dependabot.com>

commit 8cf72e00812a9b079302b25c243c2569889888f0
Author: dependabot-preview[bot] <27856297+dependabot-preview[bot]@users.noreply.github.com>
Date:   Mon Feb 1 03:41:30 2021 +0000

    build(deps): bump rusoto_s3 from `bcf8048` to `31cf150`
    
    Bumps [rusoto_s3](https://github.com/rusoto/rusoto) from `bcf8048` to `31cf150`.
    - [Release notes](https://github.com/rusoto/rusoto/releases)
    - [Commits](https://github.com/rusoto/rusoto/compare/bcf80486ab8aa389296ee5211c7c4c3d40f7ffbb...31cf1506f9f4bd7af7a1f86ced3cec436913d518)
    
    Signed-off-by: dependabot-preview[bot] <support@dependabot.com>

commit 5d583de4335bad4169752f783862b084db10b3ef
Author: dependabot-preview[bot] <27856297+dependabot-preview[bot]@users.noreply.github.com>
Date:   Mon Feb 1 03:40:46 2021 +0000

    build(deps): bump sha2 from 0.9.2 to 0.9.3
    
    Bumps [sha2](https://github.com/RustCrypto/hashes) from 0.9.2 to 0.9.3.
    - [Release notes](https://github.com/RustCrypto/hashes/releases)
    - [Commits](https://github.com/RustCrypto/hashes/compare/sha2-v0.9.2...sha2-v0.9.3)
    
    Signed-off-by: dependabot-preview[bot] <support@dependabot.com>

commit d80b3a62ed034ff1ded7f3b943ad418a6be4789c
Author: dependabot-preview[bot] <27856297+dependabot-preview[bot]@users.noreply.github.com>
Date:   Mon Feb 1 03:39:34 2021 +0000

    build(deps): bump predicates from 1.0.6 to 1.0.7
    
    Bumps [predicates](https://github.com/assert-rs/predicates-rs) from 1.0.6 to 1.0.7.
    - [Release notes](https://github.com/assert-rs/predicates-rs/releases)
    - [Changelog](https://github.com/assert-rs/predicates-rs/blob/master/CHANGELOG.md)
    - [Commits](https://github.com/assert-rs/predicates-rs/compare/v1.0.6...v1.0.7)
    
    Signed-off-by: dependabot-preview[bot] <support@dependabot.com>

commit 191e93408b2f56126bb3fe4f1809f27409a47a85
Author: dependabot-preview[bot] <27856297+dependabot-preview[bot]@users.noreply.github.com>
Date:   Mon Feb 1 03:39:02 2021 +0000

    build(deps): bump serde from 1.0.122 to 1.0.123
    
    Bumps [serde](https://github.com/serde-rs/serde) from 1.0.122 to 1.0.123.
    - [Release notes](https://github.com/serde-rs/serde/releases)
    - [Commits](https://github.com/serde-rs/serde/compare/v1.0.122...v1.0.123)
    
    Signed-off-by: dependabot-preview[bot] <support@dependabot.com>

commit 15429a631b0a2bbae4d082cad8cf96985d4cf130
Author: dependabot-preview[bot] <27856297+dependabot-preview[bot]@users.noreply.github.com>
Date:   Mon Feb 1 03:38:28 2021 +0000

    build(deps): bump flate2 from 1.0.19 to 1.0.20
    
    Bumps [flate2](https://github.com/rust-lang/flate2-rs) from 1.0.19 to 1.0.20.
    - [Release notes](https://github.com/rust-lang/flate2-rs/releases)
    - [Commits](https://github.com/rust-lang/flate2-rs/compare/1.0.19...1.0.20)
    
    Signed-off-by: dependabot-preview[bot] <support@dependabot.com>

commit dabfbb7cb28f6bfcdcf4ba75feafcd5a6b942cc3
Merge: dd6a9ee77 5eb09adb6
Author: Matt Jibson <matt.jibson@gmail.com>
Date:   Sun Jan 31 20:03:23 2021 -0700

    Merge pull request #5519 from mjibson/fuzzbuzz
    
    fuzz: hook up honggfuzz to a few targets

commit 5eb09adb687c4980fc899582cefaa5e43d6e8ce7
Author: Matt Jibson <matt.jibson@gmail.com>
Date:   Sat Jan 30 15:02:31 2021 -0700

    fuzz: hook up honggfuzz to a few targets

commit dd6a9ee77d794aa22702930c5c96918c98475eef
Author: Frank McSherry <fmcsherry@me.com>
Date:   Fri Jan 29 14:29:54 2021 -0500

    MFP optimization (#5459)
    
    * compiles
    
    * correct some bugs
    
    * deploy mfp in reduce.rs
    
    * correct bugs, don't always inline literals
    
    * optimize more mfps; shake out a bug
    
    * rebase on massive rename thing
    
    * introduce documentation and tests
    
    * improve presentation per comments
    
    * streamline mandatory row unwrapping

commit daa5a63cd605f9c01e6de998c927da383682feef
Author: Brennan Vincent <brennan@materialize.io>
Date:   Fri Jan 29 14:27:22 2021 -0500

    improve kgen error messages (#5512)

commit 6b47abe479a3d48d5f2a0d721ecd20e9439cb2da
Author: Brennan Vincent <brennan@materialize.io>
Date:   Fri Jan 29 12:16:23 2021 -0500

    Refer to the process of rewriting a HirRelationExpr into a MirRelationExpr as "lowering", not "decorrelation", since it can in fact involve transformations other than decorrelation. (#5510)

commit 350c99299c0d2f3e753edc0ed7d5b3c9d18b9507
Merge: b9a734607 83efcb8ef
Author: Sean Loiselle <sean@materialize.io>
Date:   Thu Jan 28 18:41:11 2021 -0500

    Merge pull request #5504 from sploiselle/func-catalog-migration-pt-1
    
    misc. coord cleanup

commit 83efcb8ef531c14b80723d60a2e7619741fe6795
Author: Sean Loiselle <sean@materialize.io>
Date:   Mon Jan 25 16:42:33 2021 -0500

    sql: use CatalogItemType to print CatalogItems

commit 3545ebf5866536a4f46b40a07d7b701419d5a00d
Author: Sean Loiselle <sean@materialize.io>
Date:   Wed Jan 20 17:02:40 2021 -0500

    coord: unify invalid dependency errors

commit b9a734607d0dd0a4ec2d20343772769a97823ea7
Author: Chris Golden <551285+cirego@users.noreply.github.com>
Date:   Thu Jan 28 14:00:24 2021 -0800

    Don't publish containers with simple Dockerfiles (#5501)
    
    
    These containers have build steps that are basically:
    
        FROM XYZ
        COPY
        COPY
        COMMAND
    
    Since there are no actual build or package install steps, don't bother
    publishing these containers on Docker Hub.

commit f336c640fdab17e0d7926704e0dcca4ad104bc76
Merge: a160eb0cc 96c5bb714
Author: Nikhil Benesch <nikhil.benesch@gmail.com>
Date:   Thu Jan 28 16:32:26 2021 -0500

    Merge pull request #5478 from benesch/bump-rdkafka
    
    deps: bump to latest rust-rdkafka

commit a160eb0cc8ab6e7017275ae43ff439f5c1ddaeab
Author: Chris Golden <551285+cirego@users.noreply.github.com>
Date:   Thu Jan 28 13:11:39 2021 -0800

    Use an index during the Avro Upsert Test (#5498)

commit 96c5bb7143011fdb1cec69d2de12058fd585a41b
Author: Nikhil Benesch <nikhil.benesch@gmail.com>
Date:   Wed Jan 27 00:10:38 2021 -0500

    deps: bump to latest rust-rdkafka
    
    This bundles librdkafka v1.6.0, which notably includes several
    transactional producer bugfixes.

commit d8fdd64e38c248fef873580a9ec32c473a5f504d
Merge: 76c122a35 fe89b862c
Author: Matt Jibson <matt.jibson@gmail.com>
Date:   Thu Jan 28 13:33:50 2021 -0700

    Merge pull request #5493 from mjibson/csharp-copy
    
    test: add back csharp copy test

commit 76c122a3504f85cd37d3b967ed57f0be9c04917a
Merge: 45d34d5c6 c74b68ad3
Author: Matt Jibson <matt.jibson@gmail.com>
Date:   Thu Jan 28 11:54:14 2021 -0700

    Merge pull request #5494 from mjibson/viz-decimals
    
    materialized: fix decimal json serialization

commit 45d34d5c616feddb54b1176464ab59407e658c19
Author: Chris Golden <551285+cirego@users.noreply.github.com>
Date:   Thu Jan 28 10:49:40 2021 -0800

    Add mzcompose workflow to remove a service (#5495)
    
    
    This enables restarting a service with new parameters if the CLI and/or
    environment options have changed. It's currently used by the avro upsert
    benchmark script to enable restarting Materialized from a clean slate
    without losing the data in the Kafka cluster.

commit b1a98f142873b6396b2ca3c65e27087b4ca26a10
Author: Chris Golden <551285+cirego@users.noreply.github.com>
Date:   Thu Jan 28 10:41:25 2021 -0800

    Create benchmark to test Avro Upsert performance (#5492)
    
    
    This benchmark inserts a bunch of avro upsert messages into Kafka,
    creates a source and view to ingest these messages into Materialize and
    the exits.
    
    You need to look at Grafana to get a rough estimate of how Materialize
    performed.

commit c74b68ad373a0090039d152cec42ceaf3a69549f
Author: Matt Jibson <matt.jibson@gmail.com>
Date:   Thu Jan 28 10:39:49 2021 -0700

    materialized: fix decimal json serialization
    
    Decimals were previously just the significand i128 + "dec". In order to
    correctly display these we need a Decimal, not a Significand type. So,
    we need to get the scale out of the column types so we know where to
    put the decimal point and correctly convert to string.

commit fe89b862c6e6692dcdfa683c1ffbb48c1444b944
Author: Matt Jibson <matt.jibson@gmail.com>
Date:   Thu Jan 28 09:59:55 2021 -0700

    test: add back csharp copy test
    
    Add some extra stuff to the end to assert the copy is complete and we
    can issue other statements on the connection. Use that to also clean up
    the table so the tests can execute in any order.

commit 0c1e3e8823d41394d9d32e69f8665463ca908d06
Author: Brennan Vincent <brennan@materialize.io>
Date:   Thu Jan 28 11:29:32 2021 -0500

    Rename `{expr, sql}::{Relation, Scalar}Expr to `{Mir, Hir}{Relation, Scalar}Expr` (#5491)

commit e0922f964c592d910517ff0cf08c51094dd3a592
Author: Jessica Laughlin <JLDLaughlin@users.noreply.github.com>
Date:   Thu Jan 28 09:04:30 2021 -0500

    sql-parser: dont parse CREATE TEMPORARY INDEX (#5490)
    
    Undoes #5482. Users should not be able to create temporary indexes
    directly. Instead, indexes should be temporary if the object they
    depend on is temporary.

commit 8722b6ee70adbe545a88fac2b48920a913cf5e57
Merge: 9af3ea60f 6353c4d4c
Author: Matt Jibson <matt.jibson@gmail.com>
Date:   Wed Jan 27 19:35:00 2021 -0700

    Merge pull request #5488 from mjibson/tail-docs
    
    doc: update TAIL docs to match current best practices

commit 6353c4d4ccb15600c6dfbe9d2e1655ce982a17dc
Author: Matt Jibson <matt.jibson@gmail.com>
Date:   Wed Jan 27 14:06:25 2021 -0700

    doc: update TAIL docs to match current best practices
    
    Verify npgsql changes by making the smoke tests match the doc.
    
    Fixes #5483

commit 9af3ea60fa2ed28a3fd0930ea95cc104414bb401
Author: Jessica Laughlin <JLDLaughlin@users.noreply.github.com>
Date:   Wed Jan 27 16:25:59 2021 -0500

    sql: parse CREATE TEMPORARY INDEX (#5482)
    
    Part of #5740. Parses CREATE TEMPORARY INDEX, but leaves
    planning and sequencing unimplemented.

commit 0eea2d5f1452d320377c4b25a93ddb37ad4e2e37
Author: Frank McSherry <fmcsherry@me.com>
Date:   Wed Jan 27 15:12:00 2021 -0500

    Introduce sql::AggregateFunc with different type logic (#5480)
    
    * introduce sql::AggregateFunc with different type logic
    
    * appease clippy
    
    * correct default type for Reduce decorrelation
    
    * update SLT output
    
    * tweak nullness test; remove fn default()
    
    * reformat, update td test

commit 6dae2bd25a1e448b8706a7966e345d438a96760e
Merge: 2b207663f c84138eb7
Author: Nikhil Benesch <nikhil.benesch@gmail.com>
Date:   Wed Jan 27 13:16:24 2021 -0500

    Merge pull request #5487 from benesch/fix-csharp
    
    test/lang/csharp: work around NuGet certificate error

commit c84138eb761e7c0b54239c5401dfa1f7867aa43a
Author: Nikhil Benesch <nikhil.benesch@gmail.com>
Date:   Wed Jan 27 13:13:11 2021 -0500

    test/lang/csharp: work around NuGet certificate error
    
    See NuGet/Home#10491.

commit 2b207663fca4d6ccabc39838ef5060e78d15c2fb
Merge: 3153ea21b c0fe50f11
Author: Matt Jibson <matt.jibson@gmail.com>
Date:   Wed Jan 27 10:56:19 2021 -0700

    Merge pull request #5458 from mjibson/inserts
    
    pgwire: support transactional INSERTs

commit 3153ea21b60dd77a64d5039ddb887eb30593c39a
Merge: 303169925 5c31a6bfd
Author: Andi Wang <5522362+wangandi@users.noreply.github.com>
Date:   Wed Jan 27 12:12:22 2021 -0500

    Merge pull request #5471 from wangandi/plantestswithkeys
    
    Extend transform testing to involve type/key information

commit 3031699253b9d384d2eb9b1f3160241eff10895c
Author: Jessica Laughlin <JLDLaughlin@users.noreply.github.com>
Date:   Wed Jan 27 11:21:17 2021 -0500

    docs: add supported third-party tools (#5467)
    
    Adds a new 'Supported Tools Overview' page to our docs site, with a bit
    of information about dbt and Metabase support.

commit b172eae9633687c67f2bb1c8c570b3b50635bfe3
Merge: a5b1345cc a8c6df6b8
Author: Nikhil Benesch <nikhil.benesch@gmail.com>
Date:   Wed Jan 27 10:01:36 2021 -0500

    Merge pull request #5479 from MaterializeInc/slack-link
    
    www: update community Slack link for February

commit a8c6df6b8748e211cb580409012b8196149005d6
Author: Nikhil Benesch <nikhil.benesch@gmail.com>
Date:   Wed Jan 27 09:42:10 2021 -0500

    www: update community Slack link
    
    The old link was expiring.

commit a5b1345ccd98f64e89c6a6e6bc8bddd31c056a86
Merge: cda41a11f a12cc8903
Author: Petros Angelatos <petrosagg@gmail.com>
Date:   Wed Jan 27 10:43:57 2021 +0100

    Merge pull request #5392 from petrosagg/gzip-sources
    
    Support gzipped file sources

commit a12cc8903ca83c49f690610f20978935969f5f9d
Author: Petros Angelatos <petrosagg@gmail.com>
Date:   Mon Jan 25 19:05:45 2021 +0100

    doc: gzip file source documentation
    
    Signed-off-by: Petros Angelatos <petrosagg@gmail.com>

commit 4a7548b3a2d8b20f1b31f650af7f535ac90779d4
Author: Petros Angelatos <petrosagg@gmail.com>
Date:   Wed Jan 20 18:50:46 2021 +0100

    tests: add tests for source compression
    
    Signed-off-by: Petros Angelatos <petrosagg@gmail.com>

commit b1c7dbae6e0228fae7e3217c5eb65d5c74a7503a
Author: Petros Angelatos <petrosagg@gmail.com>
Date:   Wed Jan 20 18:34:52 2021 +0100

    testdrive: support compression when writing out files
    
    Signed-off-by: Petros Angelatos <petrosagg@gmail.com>

commit ebf4df456773975d6b02414d6c9688c03de5ca64
Author: Petros Angelatos <petrosagg@gmail.com>
Date:   Wed Jan 20 17:51:42 2021 +0100

    dataflow: handle gzipped file sources
    
    Signed-off-by: Petros Angelatos <petrosagg@gmail.com>

commit bd48f6cd1880f1c0b413bd132b20c9bdbb310504
Author: Petros Angelatos <petrosagg@gmail.com>
Date:   Wed Jan 20 17:50:44 2021 +0100

    sql-parser: support COMPRESSION <TYPE> clause for sources
    
    Signed-off-by: Petros Angelatos <petrosagg@gmail.com>

commit cda41a11fc733c69e6f501dd4612e6b6d2584eba
Author: Chris Golden <551285+cirego@users.noreply.github.com>
Date:   Tue Jan 26 21:37:11 2021 -0800

    Fixup zookeeper logs bind mount (#5477)
    
    
    I'm not sure why this worked when I tested this locally, but the
    cloud benchmarks exposed that Zookeeper wasn't coming up with the
    previous identity. Turns out it's because there was an extra s at the
    end of the directory name.
    
    It doesn't help that the example from Confluent's docs looks like
    (notice that they called it logs?):
    
        -v /vol2/zk-txn-logs:/var/lib/zookeeper/log

commit 30b1043d36d137947dc1aa2b6cd27f3ef8f31bfc
Author: Chris Golden <551285+cirego@users.noreply.github.com>
Date:   Tue Jan 26 21:19:18 2021 -0800

    Fixup script to download benchmark snapshots from S3 (#5476)
    
    
    Before, the script was downloading an entire directory, so snapshot_id
    was the correct variable to use. However, now, it needs the parent
    directory where the snapshot should go.

commit e81ef632b7011801b55a1f5b6568e778f0ed6f8b
Merge: ebcba8e18 14cfdaae2
Author: Nikhil Benesch <nikhil.benesch@gmail.com>
Date:   Tue Jan 26 23:51:17 2021 -0500

    Merge pull request #5441 from benesch/mz-structopt
    
    materialized: use structopt for main binary

commit ebcba8e1836c72a5ce7aa7ed1c530719fa5914c1
Merge: c5ac1122b 728e58c69
Author: Nikhil Benesch <nikhil.benesch@gmail.com>
Date:   Tue Jan 26 23:21:20 2021 -0500

    Merge pull request #5474 from benesch/minor-deps
    
    deps: bump minor versions for log, stacker, and tar

commit 14cfdaae2adfafa17a2cc2a29228b14a6f3c4743
Author: Nikhil Benesch <nikhil.benesch@gmail.com>
Date:   Mon Jan 25 01:19:44 2021 -0500

    materialized: use structopt for main binary
    
    Convert the materialized binary to use structopt. This is a follow-up to
    PR #5298, which did the same for all of our utility binaries. The idea
    is to have just one option parsing solution (i.e., structopt) throughout
    our codebase.
    
    The big benefit of using structopt is that it has built-in support for
    reading flag values out of environment variables, which fixes #4191.

commit 728e58c69df7ef58663e649e70e4a068115f64a7
Author: Nikhil Benesch <nikhil.benesch@gmail.com>
Date:   Tue Jan 26 22:46:20 2021 -0500

    deps: bump minor versions for log, stacker, and tar

commit c5ac1122b0bdee6fee186d071ae24a26a6cfb787
Merge: 4695b55de eb4796abd
Author: Nikhil Benesch <nikhil.benesch@gmail.com>
Date:   Tue Jan 26 22:14:39 2021 -0500

    Merge pull request #5468 from benesch/create-drop-role
    
    sql-parser: parse CREATE/DROP ROLE

commit eb4796abdfca69c5f501f23b15d6890cc0e9882d
Author: Nikhil Benesch <nikhil.benesch@gmail.com>
Date:   Tue Jan 26 17:53:29 2021 -0500

    sql-parser: parse CREATE/DROP ROLE
    
    Add support for parsing a restricted subset of PostgreSQL's CREATE ROLE
    and DROP ROLE statements. These statements do not yet do anything in
    Materialize.
    
    See #4626 for context. The basic idea is to support a very restricted
    form of user accounts to facilitate securing the network interface.

commit 4695b55de162386723215c6602293594678863cc
Merge: 2d6d09fdb b101f5761
Author: Brandon W Maister <bwm@materialize.io>
Date:   Tue Jan 26 21:21:54 2021 -0500

    Merge pull request #5465 from quodlibetor/testdrive-s3-support
    
    s3 sources: Add testdrive support for S3 and related tests

commit 5c31a6bfd3622ee352b1957ddc4a05da293a23d4
Author: Andi Wang <andi@materialize.io>
Date:   Tue Jan 26 20:49:33 2021 -0500

    explain typed plan now distinguishes between no keys and the key being the empty set.

commit 11cc34952143fbaba57eeb96a0e32e1fe3400486
Author: Andi Wang <andi@materialize.io>
Date:   Tue Jan 26 19:06:38 2021 -0500

    Fix broken link. Add information as to where to find a datadriven test.

commit 038fc2b11521e5039b739e88d8d4da47ee1bab83
Author: Andi Wang <andi@materialize.io>
Date:   Tue Jan 26 19:05:32 2021 -0500

    Extend test framework to support printing type info in plans + sources with keys.

commit 8f2090ff00fc3f013a346457033b5842b52b1fd7
Author: Andi Wang <andi@materialize.io>
Date:   Tue Jan 26 19:03:32 2021 -0500

    Explain erroneously flat-mapped sets of keys.

commit c0fe50f110ad326ef17786ed333eff6e9628b38e
Author: Matt Jibson <matt.jibson@gmail.com>
Date:   Mon Jan 25 13:42:44 2021 -0700

    pgwire: support transactional INSERTs
    
    Allow INSERTs (and more generally any form of row write via symbiosis)
    by bundling up operations into the session and committing them if
    the transaction is committed. Introduce a "write-only transaction"
    for this purpose. This is needed to ensure serializability. Since we
    cannot currently interleave reads and writes, a user writing data is
    not allowed to also read in that transaction.
    
    Having transaction operations sets us up to have transaction reads
    happen at a single time (by stashing the timestamp in the Read txn op),
    so this design should work for the future.
    
    Refactor (again) the transaction status model to now be even closer to
    how postgres works. This allows the Started (i.e., single statement)
    transaction state to work identically to explicit and implicit
    transactions, reducing implementation complexity by having a single code
    path for transaction operation handling.
    
    Attempt to disambiguate transaction terms. "End"ing a transaction now
    requires an action (commit, rollback) in any associated API.
    
    A new Commit command has been added because transaction ending can happen
    in two ways: 1) an explicit COMMIT or ROLLBACK SQL statement and 2)
    implicitly at the end of a Query or Sync pgwire message.
    
    Symbiosis mode is not yet guaranteed to work transactionally. Code changes
    here happen to make tests that use symbiosis (SLT) pass, but we are not
    worried about its correctness now.

commit 2d6d09fdb747a979974949492857722d785bd148
Author: Jessica Laughlin <JLDLaughlin@users.noreply.github.com>
Date:   Tue Jan 26 16:43:49 2021 -0500

    dbt-materialize: remove manual path manipulation (#5466)
    
    Removes manual Python path manipulation in dbt-materialize
    __init__ files.

commit 6a2dc01062c6a599facbdd68dadfbc010df8a8db
Author: Jessica Laughlin <JLDLaughlin@users.noreply.github.com>
Date:   Tue Jan 26 14:00:24 2021 -0500

    dbt-materialize: add materialize.dbtspec test to CI (#5461)
    
    As we commit to supporting the dbt-materialize adapter, we should
    ensure that changes to Materialize do not break it unwittingly. This
    change adds the materialize.dbtspec adapter tests to CI runs.

commit d94c6a2be101d3519101cdc878cccd0a511b5d6e
Author: Chris Golden <551285+cirego@users.noreply.github.com>
Date:   Tue Jan 26 10:35:49 2021 -0800

    fixup! Archive the entire kafka directory in chbench (#5457) (#5463)
    
    Unfortunate typo in command line arguments to tar.

commit 000ce3d5c06d770d22d702943a15df4aea46c1c9
Author: Chris Golden <551285+cirego@users.noreply.github.com>
Date:   Mon Jan 25 22:35:06 2021 -0800

    Archive the entire kafka directory in chbench (#5457)
    
    
    Instead of writing a custom script to archive / restore topics
    individually, let's just capture a snapshot of the Kafka data directory.
    This results in dramatically faster restore performance.
    
    Compress the archive to save bytes transferred / stored in S3.
    
    Remove the scripts that are no longer necessary.
    
    Fixes #5456

commit ea73d5f74ab88d56d672eb4d9efbe8d78c7548ac
Author: Jessica Laughlin <JLDLaughlin@users.noreply.github.com>
Date:   Mon Jan 25 20:03:43 2021 -0500

    dbt-materialize: restore manual path extensions (#5454)
    
    This is currently required for the dbt-materialize adapter to be
    loaded correctly.

commit a345f04e17b603d11ccbdda21fe3ab0b8cfa3930
Author: Jessica Laughlin <JLDLaughlin@users.noreply.github.com>
Date:   Mon Jan 25 17:18:33 2021 -0500

    dbt-materialize-wikirecent: move demo project to main repo (#5452)
    
    Moves dbt-materialize-wikirecent demo project from its own repo to
    the play directory in the main materialize repo. Removes the prior license
    file, replacing it with Apache 2.0 license headers in individual
    files.

commit 6aee7cbc4efb5eb35d699ba6bb2a202b983a65f8
Author: Chris Golden <551285+cirego@users.noreply.github.com>
Date:   Mon Jan 25 12:36:48 2021 -0800

    Use new cursor.stream method for wikirecent demo (#5422)
    
    
    This method maps naturally to our usage of TAIL in this scenario, so
    let's use it. DECLARE/FETCH is useful if we wanted to iterate a subset
    of rows, issue a FETCH with timeout or have multiple cursors on a single
    connection. In this case, we just want an endless list of rows, so
    stream is the perfect API choice.

commit 59bcb6ed7360cff57ddf7644921af7d7a3f80f2f
Author: Chris Golden <551285+cirego@users.noreply.github.com>
Date:   Mon Jan 25 12:31:06 2021 -0800

    Simplify psycopg3 install for wikirecent demo (#5453)
    
    
    The Dockerfile was (poorly) duplicating logic already present in pip --
    let pip do the git clone, etc.

commit ebab56f920845cf9969f9bfa8c420854da926230
Author: Jessica Laughlin <JLDLaughlin@users.noreply.github.com>
Date:   Mon Jan 25 14:08:44 2021 -0500

    dbt-materialize: update author and author_email (#5451)
    
    Replaces Josh Wills' information with Materialize's support
    information.

commit 5b43b740c489cbe9fd4da7a914f219789430d2db
Author: Petros Angelatos <petrosagg@gmail.com>
Date:   Wed Jan 20 17:46:52 2021 +0100

    avro: provide default implementation of Skip trait
    
    Signed-off-by: Petros Angelatos <petrosagg@gmail.com>

commit bfe28c743e8fd8ed3eae0fa962549266df7c433c
Merge: 263daabc0 792b001e1
Author: Nikhil Benesch <nikhil.benesch@gmail.com>
Date:   Mon Jan 25 12:14:34 2021 -0500

    Merge pull request #5428 from benesch/psycopg3-streaming
    
    test/lang/python: validate TAIL with psycopg3's new streaming API

commit 263daabc0cf46b82ecdad448ad3191d40b343b3c
Author: Brandon W Maister <bwm@materialize.io>
Date:   Mon Jan 25 11:59:39 2021 -0500

    Remove single quotes from some test strings (#5413)
    
    It improves error output (since the quotes don't need to be escaped) and my
    syntax highlighting.

commit 4668236745e6f56914140c6a2e516299e7facf15
Merge: b0d0756b1 68e19e090
Author: Benjamin Pellittieri <ben@materialize.io>
Date:   Mon Jan 25 10:44:04 2021 -0600

    Merge pull request #5416 from benesch/rm-netlify-proxy
    
    www: remove netlify proxies

commit b0d0756b1fe21c6d28c8c0b805e22f17ce45d0ef
Merge: ab0d406ab 96bff412d
Author: Jessica Laughlin <JLDLaughlin@users.noreply.github.com>
Date:   Mon Jan 25 11:34:14 2021 -0500

    Merge pull request #5417 from JLDLaughlin/dbt-materialize
    
    move dbt-materialize adapter to main repository

commit 96bff412d66f9db0a8a6436d76bc1e6d52302063
Author: JLDLaughlin <jessica@materialize.io>
Date:   Mon Jan 25 11:29:17 2021 -0500

    update dbt-materialize content
    
    Clarifies README documentation, small Python tweaks.

commit 06cec001e40fc372295716af2f08301394950640
Author: JLDLaughlin <jessica@materialize.io>
Date:   Fri Jan 22 15:10:06 2021 -0500

    move dbt-materialize adapter to main repository
    
    Moves the dbt-materialize adapter from an external repo to the main
    Materialize repo. This commit contains the following changes to the
    dbt-materialize code:
    - The Python files are formatted (via bin/pyfmt)
    - The other files are formatted to fix bin/lint errors
    - The dbt-materialize LICENSE is removed and replaced with Apache 2
      license headers

commit ab0d406abdb9eb7afaf02a265ccc3076076c38ee
Merge: c28f9a4c7 7fc3379b5
Author: Brennan Vincent <brennan@materialize.io>
Date:   Mon Jan 25 11:03:08 2021 -0500

    Merge pull request #5430 from benesch/tail-consolidate
    
    dataflow: consolidate data flowing into TAIL sinks

commit b101f57619d92005ac09b968246610ddd051087c
Author: Brandon W Maister <bwm@materialize.io>
Date:   Mon Jan 25 10:38:58 2021 -0500

    s3 sources: Add testdrive support for S3 and related tests

commit f99593dcc627483ce403673f9b8521dff2a897d1
Author: Brandon W Maister <bwm@materialize.io>
Date:   Mon Jan 25 10:39:34 2021 -0500

    aws sources: Refactor with_options to treat empty strings as None
    
    This simplifies the logic such that we now definitely only use `endpoint` if
    `region` is both non-empty and invalid. The old logic (in testdrive tests for
    kinesis in CI specifically) depended on a more complex interaction that I still
    am not 100% certain about.

commit 3c50f0a5ac0576e799d2bcc111e909cc3db1e5ea
Author: Brandon W Maister <bwm@materialize.io>
Date:   Wed Jan 13 12:46:41 2021 -0500

    testdrive: Refactor Error to accept a list of causes
    
    There are some places where we will want to run several actions irrespective of
    individual errors, but fail the overall task if any errors occur. This makes
    that possible.
    
    To reduce the impact of future changes along these lines, this creates a new
    helper method and pushes harder to use methods instead of constructing Errors
    directly.

commit c28f9a4c79bcc242959d964de2377ece0f248623
Merge: 36825428e fa24f893f
Author: Nikhil Benesch <nikhil.benesch@gmail.com>
Date:   Mon Jan 25 10:08:05 2021 -0500

    Merge pull request #5435 from MaterializeInc/dependabot/cargo/tempfile-3.2.0
    
    build(deps): bump tempfile from 3.1.0 to 3.2.0

commit 36825428e3f06b9efbb9a529ff00ad66067a1bad
Merge: b7ff600b6 d472b525b
Author: Nikhil Benesch <nikhil.benesch@gmail.com>
Date:   Mon Jan 25 10:07:54 2021 -0500

    Merge pull request #5440 from MaterializeInc/dependabot/cargo/serde-1.0.122
    
    build(deps): bump serde from 1.0.118 to 1.0.122

commit fa24f893f85953161eed08aef8cc5fb6e1bf7a69
Author: dependabot-preview[bot] <27856297+dependabot-preview[bot]@users.noreply.github.com>
Date:   Mon Jan 25 06:23:14 2021 +0000

    build(deps): bump tempfile from 3.1.0 to 3.2.0
    
    Bumps [tempfile](https://github.com/Stebalien/tempfile) from 3.1.0 to 3.2.0.
    - [Release notes](https://github.com/Stebalien/tempfile/releases)
    - [Changelog](https://github.com/Stebalien/tempfile/blob/master/NEWS)
    - [Commits](https://github.com/Stebalien/tempfile/commits)
    
    Signed-off-by: dependabot-preview[bot] <support@dependabot.com>

commit d472b525b5237aa5686ee7c66b72ef1e8e282c3e
Author: dependabot-preview[bot] <27856297+dependabot-preview[bot]@users.noreply.github.com>
Date:   Mon Jan 25 13:47:33 2021 +0000

    build(deps): bump serde from 1.0.118 to 1.0.122
    
    Bumps [serde](https://github.com/serde-rs/serde) from 1.0.118 to 1.0.122.
    - [Release notes](https://github.com/serde-rs/serde/releases)
    - [Commits](https://github.com/serde-rs/serde/compare/v1.0.118...v1.0.122)
    
    Signed-off-by: dependabot-preview[bot] <support@dependabot.com>

commit b7ff600b69361ff144819a7e66de87e674579fc7
Merge: 13dde9a80 0dae28974
Author: Nikhil Benesch <nikhil.benesch@gmail.com>
Date:   Mon Jan 25 08:44:43 2021 -0500

    Merge pull request #5434 from MaterializeInc/dependabot/cargo/futures-0.3.12
    
    build(deps): bump futures from 0.3.9 to 0.3.12

commit 13dde9a80caac5ee00429068ffd5673833556172
Merge: 1b2134d6f b5599c5e0
Author: Nikhil Benesch <nikhil.benesch@gmail.com>
Date:   Mon Jan 25 08:44:26 2021 -0500

    Merge pull request #5432 from MaterializeInc/dependabot/cargo/tokio-util-0.6.2
    
    build(deps): bump tokio-util from 0.6.0 to 0.6.2

commit 1b2134d6fd527190577a1c279084fdc82cfca58f
Merge: ae6956e11 945b75f3d
Author: Nikhil Benesch <nikhil.benesch@gmail.com>
Date:   Mon Jan 25 08:43:59 2021 -0500

    Merge pull request #5442 from benesch/bump-prom
    
    build(deps): bump prometheus

commit 945b75f3d425038e9b2cb5831b3e0fc1c1d8dd44
Author: Nikhil Benesch <nikhil.benesch@gmail.com>
Date:   Mon Jan 25 01:33:01 2021 -0500

    build(deps): bump prometheus
    
    This includes a fix for the prometheus-static-metric crate depending on
    private syn API.

commit b5599c5e05e81ebe029005bb54bb442d00dcea05
Author: dependabot-preview[bot] <27856297+dependabot-preview[bot]@users.noreply.github.com>
Date:   Mon Jan 25 06:23:03 2021 +0000

    build(deps): bump tokio-util from 0.6.0 to 0.6.2
    
    Bumps [tokio-util](https://github.com/tokio-rs/tokio) from 0.6.0 to 0.6.2.
    - [Release notes](https://github.com/tokio-rs/tokio/releases)
    - [Commits](https://github.com/tokio-rs/tokio/compare/tokio-util-0.6.0...tokio-util-0.6.2)
    
    Signed-off-by: dependabot-preview[bot] <support@dependabot.com>

commit 0dae2897449a3d635e4ca8c89d5faca0ba633dae
Author: dependabot-preview[bot] <27856297+dependabot-preview[bot]@users.noreply.github.com>
Date:   Mon Jan 25 06:23:01 2021 +0000

    build(deps): bump futures from 0.3.9 to 0.3.12
    
    Bumps [futures](https://github.com/rust-lang/futures-rs) from 0.3.9 to 0.3.12.
    - [Release notes](https://github.com/rust-lang/futures-rs/releases)
    - [Changelog](https://github.com/rust-lang/futures-rs/blob/master/CHANGELOG.md)
    - [Commits](https://github.com/rust-lang/futures-rs/compare/0.3.9...0.3.12)
    
    Signed-off-by: dependabot-preview[bot] <support@dependabot.com>

commit ae6956e119aa87fe6c27699c8c17ec3db642ea28
Merge: 262de7ff9 1b1d71301
Author: Nikhil Benesch <nikhil.benesch@gmail.com>
Date:   Mon Jan 25 01:20:12 2021 -0500

    Merge pull request #5438 from MaterializeInc/dependabot/cargo/tokio-openssl-0.6.1
    
    build(deps): bump tokio-openssl from 0.6.0 to 0.6.1

commit 1b1d713016a107e5a62d06f33124e2be3fe557d9
Author: dependabot-preview[bot] <27856297+dependabot-preview[bot]@users.noreply.github.com>
Date:   Mon Jan 25 04:42:04 2021 +0000

    build(deps): bump tokio-openssl from 0.6.0 to 0.6.1
    
    Bumps [tokio-openssl](https://github.com/sfackler/tokio-openssl) from 0.6.0 to 0.6.1.
    - [Release notes](https://github.com/sfackler/tokio-openssl/releases)
    - [Commits](https://github.com/sfackler/tokio-openssl/compare/0.6.0...0.6.1)
    
    Signed-off-by: dependabot-preview[bot] <support@dependabot.com>

commit 262de7ff968750410e287f9c142830b81a9b3673
Merge: 79f75da0d 80c9aa80e
Author: Nikhil Benesch <nikhil.benesch@gmail.com>
Date:   Sun Jan 24 23:40:14 2021 -0500

    Merge pull request #5433 from MaterializeInc/dependabot/cargo/derivative-2.2.0
    
    build(deps): bump derivative from 2.1.1 to 2.2.0

commit 79f75da0d5e06466f7754edc8aa80037a93bfb95
Merge: b7f06f231 7b6653dce
Author: Nikhil Benesch <nikhil.benesch@gmail.com>
Date:   Sun Jan 24 23:39:58 2021 -0500

    Merge pull request #5431 from MaterializeInc/dependabot/cargo/sysinfo-0.15.9
    
    build(deps): bump sysinfo from 0.15.3 to 0.15.9

commit b7f06f23181347be56b828f04c38283c9d0b4743
Merge: e0451ef38 584656671
Author: Nikhil Benesch <nikhil.benesch@gmail.com>
Date:   Sun Jan 24 23:39:13 2021 -0500

    Merge pull request #5437 from MaterializeInc/dependabot/cargo/tokio-1.1.0
    
    build(deps): bump tokio from 1.0.2 to 1.1.0

commit 584656671094967d7433995d2fc4b8a9ba5bfa1c
Author: dependabot-preview[bot] <27856297+dependabot-preview[bot]@users.noreply.github.com>
Date:   Sun Jan 24 22:56:43 2021 +0000

    build(deps): bump tokio from 1.0.2 to 1.1.0
    
    Bumps [tokio](https://github.com/tokio-rs/tokio) from 1.0.2 to 1.1.0.
    - [Release notes](https://github.com/tokio-rs/tokio/releases)
    - [Commits](https://github.com/tokio-rs/tokio/compare/tokio-1.0.2...tokio-1.1.0)
    
    Signed-off-by: dependabot-preview[bot] <support@dependabot.com>

commit 80c9aa80efe44555d5043e28dbcb8488fd070275
Author: dependabot-preview[bot] <27856297+dependabot-preview[bot]@users.noreply.github.com>
Date:   Sun Jan 24 22:54:58 2021 +0000

    build(deps): bump derivative from 2.1.1 to 2.2.0
    
    Bumps [derivative](https://github.com/mcarton/rust-derivative) from 2.1.1 to 2.2.0.
    - [Release notes](https://github.com/mcarton/rust-derivative/releases)
    - [Changelog](https://github.com/mcarton/rust-derivative/blob/master/CHANGELOG.md)
    - [Commits](https://github.com/mcarton/rust-derivative/commits/v2.2.0)
    
    Signed-off-by: dependabot-preview[bot] <support@dependabot.com>

commit 7b6653dce3c72822f51dc643682451cccdcecb8b
Author: dependabot-preview[bot] <27856297+dependabot-preview[bot]@users.noreply.github.com>
Date:   Sun Jan 24 22:54:03 2021 +0000

    build(deps): bump sysinfo from 0.15.3 to 0.15.9
    
    Bumps [sysinfo](https://github.com/GuillaumeGomez/sysinfo) from 0.15.3 to 0.15.9.
    - [Release notes](https://github.com/GuillaumeGomez/sysinfo/releases)
    - [Commits](https://github.com/GuillaumeGomez/sysinfo/commits)
    
    Signed-off-by: dependabot-preview[bot] <support@dependabot.com>

commit e0451ef38904eb6d1be5fff9a54e257bb48503fe
Merge: b873206e1 47c9848df
Author: Nikhil Benesch <nikhil.benesch@gmail.com>
Date:   Sun Jan 24 17:48:09 2021 -0500

    Merge pull request #5408 from benesch/ast-fold
    
    sql-parser,walkabout: generate a fold AST transformer

commit 47c9848dfb7f47a1f35fe8c418bffb3697aac98c
Author: Nikhil Benesch <nikhil.benesch@gmail.com>
Date:   Fri Jan 22 02:32:04 2021 -0500

    sql-parser,walkabout: generate a fold AST transformer
    
    The fold transformer is like the visit/visit_mut visitors, but it
    operates on an owned syntax tree. Each method in the trait is a hook
    that can customize how that node in the AST is rebuilt.

commit aa4eb4b5c403acc68018ee882a235ce46b21a97f
Author: Nikhil Benesch <nikhil.benesch@gmail.com>
Date:   Fri Jan 22 00:37:43 2021 -0500

    walkabout: prepare to generalize codegen
    
    Prepare to support generating other types of AST transformers, besides
    visitors. This is pure renaming and code movement.

commit 8644292d4ee675de3c81fac2bbeedd6deeecf8b7
Author: Nikhil Benesch <nikhil.benesch@gmail.com>
Date:   Fri Jan 22 00:23:11 2021 -0500

    walkabout: analyze generics when building the IR
    
    Generics were previously analyzed during codegen. Move that logic to the
    IR building phase, so that it's easier to reuse when generating other
    types of code.

commit 7fc3379b55e19c8e851ac2113a401cc35b08010e
Author: Nikhil Benesch <nikhil.benesch@gmail.com>
Date:   Sun Jan 24 15:52:17 2021 -0500

    dataflow: sort some imports per our style

commit 75975851afa6277271affbffa75146917d4dd28e
Author: Nikhil Benesch <nikhil.benesch@gmail.com>
Date:   Sun Jan 24 15:51:09 2021 -0500

    dataflow: consolidate data flowing into TAIL sinks
    
    Consolidation ensures that TAIL's initial snapshot does not contain
    records that cancel. This regressed in #5028 because we didn't have test
    coverage.
    
    Fix #5421.

commit 6cb34c411730b6806dd014ee772ab33c501326e2
Author: Nikhil Benesch <nikhil.benesch@gmail.com>
Date:   Sun Jan 24 00:08:28 2021 -0500

    testdrive: simplify and comment consolidation test script
    
    I was having trouble understanding what the consolidation.td test script
    was meant to test. This commit simplifies that script where possible and
    leaves explanatory comments throughout.
    
    It's probably easiest to review this change as if it were new code. The
    changes were substantial enough that the diff isn't very helpful.

commit 792b001e194dee5efdd19bb0e77598fcd2283cda
Author: Nikhil Benesch <nikhil.benesch@gmail.com>
Date:   Sat Jan 23 19:37:06 2021 -0500

    test/lang/python: validate TAIL with psycopg3's new streaming API
    
    psycopg3's new streaming query API is a perfect fit for `TAIL`. It is
    more ergonomic than using either `COPY` or server-side cursors and it
    is as efficient as using `COPY`.
    
    This commit adds a `TAIL` test that uses this new streaming API.

commit b873206e17611ed186cb3734cd4dedaa0a114927
Merge: 0a903fad1 bc235a2ec
Author: Nikhil Benesch <nikhil.benesch@gmail.com>
Date:   Sat Jan 23 18:39:36 2021 -0500

    Merge pull request #5425 from benesch/backcompat-fmt
    
    doc/user: format backwards-incompatible changes differently

commit 0a903fad1e33acd26da101f680b41c4fe643d45e
Author: Frank McSherry <fmcsherry@me.com>
Date:   Sat Jan 23 07:36:36 2021 -0500

    limit copies of results before they are copied (#5420)

commit c683d1bea53af4cc59a51cb343f4e31809319203
Merge: f0f84dbff 7bdb53af6
Author: Sean Loiselle <sean@materialize.io>
Date:   Sat Jan 23 07:19:15 2021 -0500

    Merge pull request #5426 from benesch/no-w3schools
    
    doc/user: avoid linking to W3Schools

commit 7bdb53af6d7b0bc291b9deeb40f19042bcd7d3a7
Author: Nikhil Benesch <nikhil.benesch@gmail.com>
Date:   Sat Jan 23 00:07:15 2021 -0500

    doc/user: avoid linking to W3Schools
    
    W3Schools has historically been an untrustworthy source of information
    [0]. While they've largely cleaned up their act, their reputation
    remains, so I think it's best if we avoid linking to them when possible.
    
    This commit replaces all links to w3schools.com with more reputable
    sources, like the PostgreSQL documentation or MDN.
    
    [0]: https://web.archive.org/web/20120113062049/http://w3fools.com/
    
    Fix #5419.

commit bc235a2ec6555e5c8ec0c0d215481ef9f5f27741
Author: Nikhil Benesch <nikhil.benesch@gmail.com>
Date:   Fri Jan 22 23:58:34 2021 -0500

    doc/user: format backwards-incompatible changes differently
    
    Per @awang's request.

commit f0f84dbff5c8ce8b542e7e354d60e1c873cd44c7
Merge: e5ef29bd0 b96b9a05d
Author: Nikhil Benesch <nikhil.benesch@gmail.com>
Date:   Fri Jan 22 23:56:54 2021 -0500

    Merge pull request #5415 from benesch/relnotes-061
    
    doc/user: polish v0.6.1 release notes

commit b96b9a05dc1b2df8ea3d3982ed4672f85a6df327
Author: Nikhil Benesch <nikhil.benesch@gmail.com>
Date:   Fri Jan 22 13:03:21 2021 -0500

    doc/user: polish v0.6.1 release notes

commit e5ef29bd066b36cc292489ba652bfda223c746c9
Author: Frank McSherry <fmcsherry@me.com>
Date:   Fri Jan 22 21:47:03 2021 -0500

    hoist recursive call out of inner loop (#5424)

commit 68e19e090f2da091416fa766365530e41c6871da
Author: Nikhil Benesch <nikhil.benesch@gmail.com>
Date:   Fri Jan 22 14:09:37 2021 -0500

    www: remove reverse proxy for blog
    
    The reverse proxy for the marketing is now handled upstream by
    CloudFront. So remove the Netlify configuration for it.

commit a5203f7a4a839567720bd91e74386afaf08be5b7
Merge: 1e5ccf0b0 5d472e6c0
Author: Nikhil Benesch <nikhil.benesch@gmail.com>
Date:   Fri Jan 22 11:56:54 2021 -0500

    Merge pull request #5407 from benesch/rework-pytest
    
    python: rewrite git tags test

commit 1e5ccf0b0b3466f0abd07ac37366dd60dc15a70c
Merge: b29fa895f 6f96612b1
Author: Nikhil Benesch <nikhil.benesch@gmail.com>
Date:   Fri Jan 22 11:55:41 2021 -0500

    Merge pull request #5409 from benesch/allow-show-in-txn
    
    coord: allow SHOW queries in transactions

commit b29fa895fe90261c221f851fa96e611c5bd317bb
Merge: 39dcf1bd5 08eb0e4cd
Author: Brennan Vincent <brennan@materialize.io>
Date:   Fri Jan 22 11:23:04 2021 -0500

    Merge pull request #5410 from benesch/continue-v0.6.2-dev
    
    Continue v0.6.2 dev

commit 39dcf1bd5143bde9e6433366df8be259d80c653f
Merge: 0e88a109a bdfc5d61e
Author: Nikhil Benesch <nikhil.benesch@gmail.com>
Date:   Fri Jan 22 11:14:05 2021 -0500

    Merge pull request #5411 from benesch/gh-shortcode
    
    doc/user: fix gh shortcode syntax

commit 08eb0e4cdfe60244e5e3c8dd359c7d87a2620f0d
Merge: b9c86ca3d 0e88a109a
Author: Brennan Vincent <brennan@materialize.io>
Date:   Fri Jan 22 11:11:15 2021 -0500

    Merge branch 'main' into continue-v0.6.2-dev

commit bdfc5d61e4e91759c7563f0b76310989fdb00a02
Author: Nikhil Benesch <nikhil.benesch@gmail.com>
Date:   Fri Jan 22 11:11:09 2021 -0500

    doc/user: fix gh shortcode syntax

commit b9c86ca3d279b539a21872bb4ca65443346b711a
Author: Brennan Vincent <brennan@materialize.io>
Date:   Fri Jan 22 11:08:30 2021 -0500

    Update released versions to include v0.6.1

commit bf2ffe38a2598bb0b55325fcc5676a39789f8704
Author: Brennan Vincent <brennan@materialize.io>
Date:   Fri Jan 22 11:08:28 2021 -0500

    Prepare next phase of development: v0.6.2-dev

commit 3247686f873c37bd1c7a42f781ab33e09d90471c
Author: Brennan Vincent <brennan@materialize.io>
Date:   Fri Jan 22 11:07:50 2021 -0500

    release: v0.6.1

commit 6f96612b1474da65f9596fb6bc5f06b99248a3cf
Author: Nikhil Benesch <nikhil.benesch@gmail.com>
Date:   Fri Jan 22 11:07:13 2021 -0500

    coord: allow SHOW queries in transactions
    
    SHOW queries are lowered to SELECT queries, so they are exactly as safe
    as SELECT queries. There is probably some lingering incorrectness with
    SELECT queries, but no need to punish SHOW queries for that.
    
    Fix #5399.

commit 0e88a109a76bb624a3f8cbf50748018bb86df1a3
Author: Frank McSherry <fmcsherry@me.com>
Date:   Thu Jan 21 19:07:12 2021 -0500

    Reorganize join rendering code (#5401)
    
    * reorganize join code
    
    * better comments/structure plus bugfix

commit 5f5e17ce557b0b2c51b937936d0091cdc1e86ead
Merge: eb31b1ab9 286b12236
Author: Sean Loiselle <sean@materialize.io>
Date:   Thu Jan 21 18:40:02 2021 -0500

    Merge pull request #5404 from benesch/no-group-by-limitation
    
    doc/user: remove GROUP BY column name known limitation

commit eb31b1ab9b04d9c06e06a5e28d702b09068b449f
Merge: 517e9e3e7 8b150be06
Author: Nikhil Benesch <nikhil.benesch@gmail.com>
Date:   Thu Jan 21 17:33:18 2021 -0500

    Merge pull request #5406 from benesch/new-mypy
    
    python: update to latest mypy

commit 5d472e6c03136a2bead1d4a9d1731c445b51fe30
Author: Nikhil Benesch <nikhil.benesch@gmail.com>
Date:   Thu Jan 21 17:31:52 2021 -0500

    python: rewrite git tags test
    
    The test_tags_returns_ordered_newest_first test is dependent on there
    existing tags in the local clone of the Git repository. Empirically this
    is often not the case, though I'm not sure why. Rewrite the test so that
    it mocks out the call to `git tag`.

commit 517e9e3e7bba2573bb1251b8bd0ff7f6b273723a
Merge: b65a88a23 5804d0a51
Author: Ruchir Khaitan <ruchir0001@gmail.com>
Date:   Thu Jan 21 17:23:07 2021 -0500

    Merge pull request #5405 from ruchirK/rk-5403
    
    testdrive: fix monotonic testdrive test to use monotonic aggregations

commit 8b150be06050066acce1c218aa69dfce03765d02
Author: Nikhil Benesch <nikhil.benesch@gmail.com>
Date:   Thu Jan 21 16:56:49 2021 -0500

    python: update to latest mypy
    
    This fixes a bug in which mypy mishandled Python 3.9 ASTs, resulting in
    spurious type errors.

commit 286b12236fda06c1d9cedcabca067578009e2ba5
Author: Nikhil Benesch <nikhil.benesch@gmail.com>
Date:   Thu Jan 21 16:54:28 2021 -0500

    doc/user: remove GROUP BY column name known limitation
    
    This was resolved in v0.4.0. Thanks to @PeteJodo for pointing out the
    orphaned known limitation.

commit 5804d0a51a012a9c53a8a0bbabe3ce7b6487dab5
Author: Ruchir Khaitan <ruchir0001@gmail.com>
Date:   Thu Jan 21 16:48:15 2021 -0500

    testdrive: Fix monotonic testdrive test to use monotonic aggregations
    
    Closes #5403

commit b65a88a233b3a539ca33b3f37d53bf66e480345f
Author: Chris Golden <551285+cirego@users.noreply.github.com>
Date:   Thu Jan 21 09:19:00 2021 -0800

    Enable SHOW VIEWS in mzutil scripts (#5400)
    
    
    After the change made in 5b4afdac, SHOW VIEW cannot be run inside of a
    transaction. Enable autocommit within the mzutil scripts so that they
    can get the set of views configured.
    
    Fixes #5399

commit 72c92cfe1a9b09564cbca85e0c5965ef33a8c7f3
Merge: c31e722ad 9a92fe40d
Author: Matt Jibson <matt.jibson@gmail.com>
Date:   Wed Jan 20 21:10:43 2021 -0700

    Merge pull request #5346 from mjibson/portal-close
    
    pgwire: improve portal close semantics and errors

commit 9a92fe40d3cee84e457435c82c839f9f7e5c0c5c
Author: Matt Jibson <matt.jibson@gmail.com>
Date:   Sat Jan 16 11:03:37 2021 -0700

    pgwire: correctly close txn/portals on Sync
    
    Correctly implementing this change required rethinking what our
    transaction states mean since we needed to differentiate between failed
    from an explicit txn and failed otherwise. As documented, Failed now
    means "failed from explicit transaction" since the idle and implicit
    states cleanup after themselves.
    
    The sync fn had to be split because Sync messages have a side effect
    (closing portals) that is otherwise not correct when just sending the
    Ready message back.

commit a2146aa76bdba7ad7c3e82689737259074a8c831
Author: Matt Jibson <matt.jibson@gmail.com>
Date:   Sat Jan 16 11:13:00 2021 -0700

    coord: improve portal close error

commit c31e722ad2ff20df09998bd1d6f7a5db8afbb3ce
Merge: b94156bfe 7db0e75a9
Author: Nikhil Benesch <nikhil.benesch@gmail.com>
Date:   Wed Jan 20 21:51:03 2021 -0500

    Merge pull request #5398 from benesch/sql-import-sorting
    
    sql: fix minor import style glitches

commit b94156bfe37ee84a0eca4505f0f4ecc76e499797
Author: Chris Golden <551285+cirego@users.noreply.github.com>
Date:   Wed Jan 20 17:28:55 2021 -0800

    Disable control center in benchmarks
    
    
    We don't use it for anything programmatic, so let's disable it in the
    benchmarks.
    
    Fixes #5395

commit 7db0e75a93ed62f5fdbe515bf6be8656846bd2e1
Author: Nikhil Benesch <nikhil.benesch@gmail.com>
Date:   Wed Jan 20 20:07:39 2021 -0500

    sql: fix minor import style glitches

commit fc23434e9f37926d943b734f98001e46a2f6458a
Author: Chris Golden <551285+cirego@users.noreply.github.com>
Date:   Wed Jan 20 16:55:18 2021 -0800

    Capture chbench snapshot args
    
    
    This is useful for knowing how this snapshot was generated.

commit c333420f034a1883e8645dc02274032235243274
Author: Brennan Vincent <brennan@materialize.io>
Date:   Wed Jan 20 19:55:08 2021 -0500

    Refactor sinks to make them "dumber"; enable upsert sinks (#5028)

commit d6f99a7a20a6b3ca4fcc2068fb6c727a2c1cc75d
Author: Chris Golden <551285+cirego@users.noreply.github.com>
Date:   Wed Jan 20 16:51:40 2021 -0800

    Fixup the chart variable name in the wikirecent app (#5386)

commit ba666c0ae6760f9edc3d85374d3c95081cba7c09
Merge: 31a63d0c7 289d31c20
Author: Nikhil Benesch <nikhil.benesch@gmail.com>
Date:   Wed Jan 20 19:30:35 2021 -0500

    Merge pull request #5388 from benesch/mzcompose-args
    
    mzcompose: convert BUILD_MODE env var to command-line flag

commit 31a63d0c7ee0f40537cfd89b0b97a7106967fbb8
Merge: 83b50c46d 7fc494abf
Author: Nikhil Benesch <nikhil.benesch@gmail.com>
Date:   Wed Jan 20 17:20:03 2021 -0500

    Merge pull request #5393 from benesch/tail-ts
    
    coord: consult since frontier when choosing timestamps for sinks

commit 83b50c46d57c2d6c21f528ce4ef99dc3596b47cb
Merge: 573f980d2 c59895102
Author: Nikhil Benesch <nikhil.benesch@gmail.com>
Date:   Wed Jan 20 17:19:16 2021 -0500

    Merge pull request #5387 from benesch/testdrive-run
    
    mzcompose: fix behavior of run command when dependent service changes

commit 573f980d230c096546d74fd1408eeae998940f1c
Merge: 5135ea84f 4efd37f2e
Author: Nikhil Benesch <nikhil.benesch@gmail.com>
Date:   Wed Jan 20 17:19:09 2021 -0500

    Merge pull request #5389 from benesch/no-mz-threads
    
    materialized: remove deprecated MZ_THREADS check

commit 67f979a9ad247845939902b0334b204a23833382
Author: Brennan Vincent <brennan@materialize.io>
Date:   Wed Jan 20 15:43:54 2021 -0500

    release: v0.6.1-rc2

commit 7fc494abf9461a1e8b4aa05efb13e8bff000cd99
Author: Nikhil Benesch <nikhil.benesch@gmail.com>
Date:   Wed Jan 20 14:33:01 2021 -0500

    coord: consult since frontier when choosing timestamps for sinks
    
    When creating a sink based on an unmaterialized object, the coordinator
    intends to choose the minimum possible `AS OF` time, so that the sink
    includes all updates that could possibly be emitted from that object.
    The determine_frontier previously used timestamp 0 for this purpose,
    but this was rather defective, as timestamp 0 might be before the
    "since" frontier of involved sources. The ship_dataflow method would
    notice this defective situation and complain about it, then fast-forward
    the time to a valid time.
    
    This resulted in a lot of ugly error messages about a situation that is
    not actually problematic. So this commit changes determine_frontier to
    choose a valid timestamp, and teaches ship_dataflow to return an error
    message to the user rather than logging an error message. Now the error
    should never occur when using automatic timestamp selection, but be
    surfaced directly to the client when explicitly specifying an invalid
    `AS OF` time.
    
    Note that this discussion applies to `TAIL` statements too, as they
    internally create a sink.
    
    Fix #5391.

commit b42b342c676dc3149d4ebdf7e80e63351c3b53b8
Author: Chris Golden <551285+cirego@users.noreply.github.com>
Date:   Tue Jan 19 13:28:18 2021 -0800

    Bulk rename MZ_THREADS to MZ_WORKERS (#5381)
    
    
    MZ_THREADS is a deprecated name for MZ_WORKERS, so let's remove all
    usages of MZ_THREADS from our codebase.
    
    This will require a similar change in our infra repo.
    
    Fixes #5349

commit 5135ea84fbd932053488cad639a5d2f984f61261
Author: Jessica Laughlin <JLDLaughlin@users.noreply.github.com>
Date:   Wed Jan 20 14:27:18 2021 -0500

    sql: fix CREATE OR REPLACE VIEW bug (#5380)
    
    A user found that views created by CREATE OR REPLACE VIEW statements
    are currently able to depend on the view that is about to be dropped.
    This was reported in #5272.
    
    The fix is to check during planning if the new view is attempting to
    depend on the view that is about to be dropped, and throw an error if
    so.

commit edaff31c6085a61ece9622cab90af432a0f2660c
Merge: 6ddd3198f 6a173bb78
Author: Justin Jaffray <justin.jaffray@gmail.com>
Date:   Wed Jan 20 13:45:52 2021 -0500

    Merge pull request #5285 from justinj/ast-change
    
    sql: add a type variable to the AST

commit 6a173bb78ef69f7205ec035bee60f6010580f2f6
Author: Justin Jaffray <justin.jaffray@gmail.com>
Date:   Thu Jan 14 10:29:38 2021 -0500

    sql: make walkabout handle the type variable

commit d0d750bd9a2556f28f3318bf1919ca378c9ccacf
Author: Justin Jaffray <justin.jaffray@gmail.com>
Date:   Mon Jan 11 12:12:04 2021 -0500

    sql: add a type variable to the AST
    
    This change is the first step in teasing apart semantic analysis and the
    construction of our IR. Currently these two things are interleaved,
    which is fine, but makes it difficult if you want to leverage the
    analysis we do without subsequently constructing a plan.
    
    The eventual goal of this work will be to change this pipeline:
    
    ```
    AST -> IR
    ```
    to this one:
    ```
    Raw AST -> Augmented AST -> IR
    ```
    
    Where the augmented AST already has things like types checked and names
    resolved.
    
    With the design goal that it should be possible to go back to the raw
    AST, or at least a stringified form, from the augmented AST, to allow
    for things like safe renaming of identifiers. A secondary goal that I'm
    not entirely sure is possible yet is for the augmented AST to contain
    enough information such that the second step in the pipeline can be
    performed without access to the catalog.

commit 6ddd3198f51f7f4cb80b591d2383a52b9b760c7c
Merge: 54da506ed b4c514c22
Author: Petros Angelatos <petrosagg@gmail.com>
Date:   Wed Jan 20 19:02:18 2021 +0100

    Merge pull request #5334 from petrosagg/list-all-any
    
    Full support for ANY/SOME/ALL for ARRAY and LIST

commit 54da506edae5d993d45d69ceaa83048ad47c7767
Author: Frank McSherry <fmcsherry@me.com>
Date:   Wed Jan 20 12:37:46 2021 -0500

    Push MFP operators into Join rendering (#5149)
    
    * delta queries implemented
    
    * v0 of differential join
    
    * remove undemanded columns
    
    * re-use row unpacking allocations
    
    * use DatumVec pattern in reduce.rs
    
    * various TODOs resolved
    
    * dead code removed
    
    * clippy stuff
    
    * port flatmap.rs to use DatumVec
    
    * introduce demand prototype; fix bugs
    
    * engage MFP for joins
    
    * optimize away final permutation
    
    * judicious inlining
    
    * do not push down literals
    
    * address review comments
    
    * rebuild MFP to re-establish invariants
    
    * improve explanatory text
    
    * addressing review comments
    
    * tidy up comments
    
    * comment typos

commit 8e6d5c76d806ddb09fef95bb5db765bdb2f324fa
Merge: 7d64f765f f01abfd60
Author: Andi Wang <5522362+wangandi@users.noreply.github.com>
Date:   Wed Jan 20 11:30:01 2021 -0500

    Merge pull request #5081 from wangandi/dataflowcorrelator
    
    Doc: Add query for finding an operator's dataflow name and id.

commit b4c514c22dc60ca766dd11b69cbbaab005870bc2
Author: Petros Angelatos <petrosagg@gmail.com>
Date:   Wed Jan 20 14:19:46 2021 +0100

    sql: desugar expressions from sql_op macro
    
    Signed-off-by: Petros Angelatos <petrosagg@gmail.com>

commit f4dc582cd9c5fd346f41f0de9667f97f95e6d1e7
Author: Petros Angelatos <petrosagg@gmail.com>
Date:   Fri Jan 15 18:26:05 2021 +0100

    sql: support all operators in ANY/SOME/ALL for ARRAY and LIST
    
    fixes #4828
    
    Signed-off-by: Petros Angelatos <petrosagg@gmail.com>

commit ad2c17cc7d3cfea12f60ee61fe461d90cacc83c2
Author: Petros Angelatos <petrosagg@gmail.com>
Date:   Fri Jan 15 18:12:27 2021 +0100

    implement unnest() for arrays
    
    Signed-off-by: Petros Angelatos <petrosagg@gmail.com>

commit 4efd37f2e07993f5efa10ec8b4bc0a454c76f198
Author: Nikhil Benesch <nikhil.benesch@gmail.com>
Date:   Wed Jan 20 00:51:27 2021 -0500

    materialized: remove deprecated MZ_THREADS check
    
    MZ_THREADS has been deprecated for nearly six months, so it's time to
    stop respecting it.

commit 289d31c2071cfe11104e57466cd90011a8f327ad
Author: Nikhil Benesch <nikhil.benesch@gmail.com>
Date:   Tue Jan 19 21:44:35 2021 -0500

    mzcompose: convert BUILD_MODE env var to command-line flag
    
    This resolves a longstanding todo. Using a command-line flag is safer,
    as it is more resilient to typos, and can't accidentally get lost via
    layers of Docker containers.

commit c59895102da3ea9510e40419a44b3ccb2d7ef8b6
Author: Nikhil Benesch <nikhil.benesch@gmail.com>
Date:   Wed Jan 20 00:31:19 2021 -0500

    mzcompose: fix behavior of run command when dependent service changes
    
    Docker Compose has inconsistent rules about when it will restart
    containers whose definition has changed. Specifically
    
        docker-compose up -d SERVICE
    
    will restart any of SERVICE's dependent containers, if they've changed.
    But
    
        docker-compose run SERVICE [ARGS...]
    
    will not.
    
    Paper over this irritating behavior by teaching mzcompose's run command
    to rewrite `./mzcompose run SERVICE` to:
    
        docker-compose up -d --scale=SERVICE=0 SERVICE \
          && docker-compose run SERVICE [ARGS...]
    
    This will restart/rebuild any of SERVICE's dependencies before running
    the command.

commit b00331ba8fe02d40e279c282a2987d56747c3236
Author: Nikhil Benesch <nikhil.benesch@gmail.com>
Date:   Wed Jan 20 00:17:40 2021 -0500

    mzcompose: standardize special command handling
    
    Split all special commands out into proper handler functions, to make
    the logic in the main mzcompose function easier to follow. Also properly
    handle the case in the list-ports and web commands where no service is
    specified.

commit 7d64f765f30259bde5f6019a08531fbc2dc7bd8a
Merge: 73f609167 873c77d21
Author: Matt Jibson <matt.jibson@gmail.com>
Date:   Tue Jan 19 22:02:19 2021 -0700

    Merge pull request #5297 from mjibson/txns
    
    coord: limit which statements can exec in transactions

commit 873c77d2196e169b53b915e781e21b32185c20ba
Author: Matt Jibson <matt.jibson@gmail.com>
Date:   Fri Jan 15 21:00:56 2021 -0700

    coord: disallow DECLARE outside transactions

commit 0273ac5d9adc342fee552149e2f0f18e16964c82
Author: Matt Jibson <matt.jibson@gmail.com>
Date:   Tue Jan 12 20:55:37 2021 -0700

    coord: limit which statements can exec in transactions
    
    Background: the postgres spec says that everything happens in a
    transaction. For us, there are three kinds:
    
    1. Explicit. Things in between `BEGIN` and `COMMIT`.
    2. Implicit. If a user sends multiple statements in a single Query pgwire
    message, these are wrapped in an implicit transaction. (With some caveats
    for it is contains or is already in a `BEGIN`).
    3. Single statements (we call this idle, postgres calls it something
    else). This is a Query message with a single statement in it or a single
    Execute message (neither of which are within a `BEGIN`).
    
    Previously we allowed any kind of statement to happen anywhere. If it
    had side effects, like `CREATE`, `DROP`, or `INSERT`, then they would
    be visible immediately to all transactions before `COMMIT`, and even
    if an error happened later on in the transaction or a `ROLLBACK` was
    issued. That is, we completely ignored the transaction request.
    
    Change this so that only some kinds of statements can happen in explicit
    or implicit transactions. For now, any statement that causes any kind
    of data change can only be run as a single (idle) statement, since we
    don't have a way to preserve any transaction semantics around those. Any
    statement that reads or deals with the session is allowed in explicit
    or implict transactions.
    
    Reads in transactions are still broken since they move time around,
    but the change here is an improvement on what we had before.

commit 73f6091675d2bbc3263868fbbef1d8f555d52513
Merge: bd4c08768 3d5c62a22
Author: Nikhil Benesch <nikhil.benesch@gmail.com>
Date:   Tue Jan 19 20:37:50 2021 -0500

    Merge pull request #5384 from benesch/oss-tb
    
    tb: relicense as APL 2.0

commit bd4c08768483d0ed1b01fdbc6c4df8e39900d67d
Merge: 838419ec9 5c8715f0d
Author: Sean Loiselle <sean@materialize.io>
Date:   Tue Jan 19 17:51:25 2021 -0500

    Merge pull request #5368 from sploiselle/pg-type-view-def
    
    catalog: refactor pg_type view definition

commit 3d5c62a2218dffeae727b6afd2e7099677271ee8
Author: Nikhil Benesch <nikhil.benesch@gmail.com>
Date:   Tue Jan 19 16:57:13 2021 -0500

    tb: relicense as APL 2.0
    
    The amount of "proprietary" code here is minimal, since nearly all of
    tb's functionality is provided by Debezium (which is itself APL 2.0). So
    relicense tb as APL 2.0 to encourage more widespread use.

commit 838419ec938025a431c8dcac0095ba489816e4f8
Merge: 2a98d7ebf 20f8e7fac
Author: Nikhil Benesch <nikhil.benesch@gmail.com>
Date:   Tue Jan 19 16:53:21 2021 -0500

    Merge pull request #5383 from benesch/update-dev-guide
    
    doc/developer: update developer guide

commit 20f8e7fac3811c08a5086d8056c9a8db2ef40a93
Author: Nikhil Benesch <nikhil.benesch@gmail.com>
Date:   Tue Jan 19 16:46:28 2021 -0500

    doc/developer: update developer guide
    
    Update the installation instructions for 2021, and update the list of
    external repositories.

commit 2a98d7ebfc33761d3c72b008c4287f912fa7f15f
Author: Chris Golden <551285+cirego@users.noreply.github.com>
Date:   Tue Jan 19 13:28:18 2021 -0800

    Bulk rename MZ_THREADS to MZ_WORKERS (#5381)
    
    
    MZ_THREADS is a deprecated name for MZ_WORKERS, so let's remove all
    usages of MZ_THREADS from our codebase.
    
    This will require a similar change in our infra repo.
    
    Fixes #5349

commit 15af5e57ca19b84d0749b8e75d83f774857dc090
Merge: 94f6d98f2 70af5d55f
Author: Nikhil Benesch <nikhil.benesch@gmail.com>
Date:   Tue Jan 19 15:49:53 2021 -0500

    Merge pull request #5358 from MaterializeInc/dependabot/cargo/rusoto_s3-bcf8048
    
    build(deps): bump rusoto_s3 from `b94d7be` to `bcf8048`

commit 94f6d98f2860ff36743b28372acea749af3edb8d
Merge: fe13e7b8b 02534dae8
Author: Nikhil Benesch <nikhil.benesch@gmail.com>
Date:   Tue Jan 19 15:49:46 2021 -0500

    Merge pull request #5361 from MaterializeInc/dependabot/cargo/rdkafka-6ac37fe
    
    build(deps): bump rdkafka from `2e168f4` to `6ac37fe`

commit fe13e7b8b86be9154f5b17e2579e7aba63b99393
Author: Brennan Vincent <brennan@materialize.io>
Date:   Tue Jan 19 15:41:53 2021 -0500

    bump justinj/datadriven to v0.5.0 (#5379)

commit 2cf5537db595a818c465854e66b44667338151d0
Author: Jessica Laughlin <JLDLaughlin@users.noreply.github.com>
Date:   Tue Jan 19 14:59:33 2021 -0500

    sql: fix DROP CASCADE bug (#5375)
    
    A user found that DROP ... CASCADE of multiple objects--where those
    objects have dependent objects in common--failed. This was reported
    in #5316.
    
    The fix is to deduplicate the internal drop operations created by a
    single DROP statement, ensuring that we only attempt to drop the common
    dependent objects once.

commit 643a4db14505028c30a2df3586fc9290faf8bf75
Merge: 131b9eb1a db927b8dc
Author: Sean Loiselle <sean@materialize.io>
Date:   Tue Jan 19 14:46:46 2021 -0500

    Merge pull request #5377 from sploiselle/variadic-params
    
    sql: make repeating param list like pg's variadics

commit 131b9eb1ac4a215b3ba028e61288cabde0ec3aae
Author: Brennan Vincent <brennan@materialize.io>
Date:   Tue Jan 19 14:14:03 2021 -0500

    Prepare v0.6.2 dev (#5378)
    
    * release: v0.6.1-rc1
    
    * Prepare next phase of development: v0.6.2-dev

commit db927b8dcc83f29641520d10d5ab9a8d4f374fa7
Author: Sean Loiselle <sean@materialize.io>
Date:   Tue Jan 19 13:53:20 2021 -0500

    sql: remove parens from variadic paramlist macro

commit 9139634ca275b6b5cbc58fc0622803e0fcdd87f0
Author: Sean Loiselle <sean@materialize.io>
Date:   Tue Jan 19 13:27:48 2021 -0500

    sql: make repeating param list like pg's variadics
    
    When developing the function selection code, we didn't have any
    instances of bailing on execution after seleting the function,
    which lead us to develop ParamList::Repeat for jsonb_build_object
    because it requires an even number of arguments. However, PG doesn't
    support multiple variadic args like ParamList::Repeat does. Because
    PG doesn't support this, we don't need to, either. Instead, we
    should just have a variadic paramlist that mirror's PG.

commit 5c8715f0de3a5f1fa5b1ae17cc2c55658b493f3c
Author: Sean Loiselle <sean@materialize.io>
Date:   Mon Jan 18 14:32:13 2021 -0500

    catalog: refactor pg_type view definition

commit ad0b6417028342f7ab94da4d8fca5e2fcbef4d51
Merge: fc10397c5 033305549
Author: Sean Loiselle <sean@materialize.io>
Date:   Tue Jan 19 12:53:25 2021 -0500

    Merge pull request #5371 from sploiselle/jsonb_build_object-sig
    
    sql: use PG's signature for jsonb_build_object

commit 918604862539ef3f17df1f47f5ecc653e42266b9
Author: Brennan Vincent <brennan@materialize.io>
Date:   Tue Jan 19 12:45:08 2021 -0500

    release: v0.6.1-rc1

commit fc10397c5b622dac071486a9c2fbe3c23ce4d4b9
Merge: bf0599b33 77102cb24
Author: Eli Lindsey <eli@siliconsprawl.com>
Date:   Tue Jan 19 11:29:59 2021 -0500

    Merge pull request #5324 from elindsey/autcommit
    
    enable offset autocommit for kafka sources

commit 70af5d55fea6e07b703b8659e5f5fb08ecec0656
Author: dependabot-preview[bot] <27856297+dependabot-preview[bot]@users.noreply.github.com>
Date:   Tue Jan 19 16:19:40 2021 +0000

    build(deps): bump rusoto_s3 from `b94d7be` to `bcf8048`
    
    Bumps [rusoto_s3](https://github.com/rusoto/rusoto) from `b94d7be` to `bcf8048`.
    - [Release notes](https://github.com/rusoto/rusoto/releases)
    - [Commits](https://github.com/rusoto/rusoto/compare/b94d7bebd8a5286e2f2b4e6a68062bfe5cc68943...bcf80486ab8aa389296ee5211c7c4c3d40f7ffbb)
    
    Signed-off-by: dependabot-preview[bot] <support@dependabot.com>

commit 02534dae88eb08b876ef374f736e270f7a0587aa
Author: dependabot-preview[bot] <27856297+dependabot-preview[bot]@users.noreply.github.com>
Date:   Tue Jan 19 16:18:18 2021 +0000

    build(deps): bump rdkafka from `2e168f4` to `6ac37fe`
    
    Bumps [rdkafka](https://github.com/fede1024/rust-rdkafka) from `2e168f4` to `6ac37fe`.
    - [Release notes](https://github.com/fede1024/rust-rdkafka/releases)
    - [Commits](https://github.com/fede1024/rust-rdkafka/compare/2e168f4d2aea1c53d415f33a3b4d47f6dc6199ab...6ac37feb6931332422d604ed80a904caec1eabd7)
    
    Signed-off-by: dependabot-preview[bot] <support@dependabot.com>

commit bf0599b3353d46834b17437a20b3941f7de38e9b
Merge: 874d40d2c 6a2d10a4f
Author: Nikhil Benesch <nikhil.benesch@gmail.com>
Date:   Tue Jan 19 11:16:27 2021 -0500

    Merge pull request #5355 from MaterializeInc/dependabot/cargo/whoami-1.1.0
    
    build(deps): bump whoami from 1.0.3 to 1.1.0

commit 874d40d2c8e1d321edc6d106b299475511332d0e
Merge: 4d1b019da abfb350d0
Author: Nikhil Benesch <nikhil.benesch@gmail.com>
Date:   Tue Jan 19 11:16:18 2021 -0500

    Merge pull request #5356 from MaterializeInc/dependabot/cargo/tokio-1.0.2
    
    build(deps): bump tokio from 1.0.1 to 1.0.2

commit 4d1b019dab339ae2e0d624dfb68f06826b695109
Merge: efbb19b6c 5bfa1aadd
Author: Nikhil Benesch <nikhil.benesch@gmail.com>
Date:   Tue Jan 19 11:15:53 2021 -0500

    Merge pull request #5357 from MaterializeInc/dependabot/cargo/bytes-1.0.1
    
    build(deps): bump bytes from 1.0.0 to 1.0.1

commit efbb19b6c2a5590573fcf4469a458beaafad9921
Merge: 0b2fe98c8 e615052af
Author: Nikhil Benesch <nikhil.benesch@gmail.com>
Date:   Tue Jan 19 11:15:26 2021 -0500

    Merge pull request #5360 from MaterializeInc/dependabot/cargo/rand-0.8.2
    
    build(deps): bump rand from 0.8.0 to 0.8.2

commit 0b2fe98c8178c60f4a2c8abeaf3116bbb27a84d0
Merge: fe344603c fd6090841
Author: Nikhil Benesch <nikhil.benesch@gmail.com>
Date:   Tue Jan 19 11:15:07 2021 -0500

    Merge pull request #5362 from MaterializeInc/dependabot/cargo/libc-0.2.82
    
    build(deps): bump libc from 0.2.81 to 0.2.82

commit fe344603c7f6ce96d611b8b0dd6592474e69959a
Merge: dbe8bc411 c04fa42ed
Author: Nikhil Benesch <nikhil.benesch@gmail.com>
Date:   Tue Jan 19 11:14:38 2021 -0500

    Merge pull request #5363 from MaterializeInc/dependabot/cargo/tokio-stream-0.1.2
    
    build(deps): bump tokio-stream from 0.1.1 to 0.1.2

commit dbe8bc4117b992e29996dd5e1821113f79f2b080
Merge: 942d42e3e 66453ef78
Author: Eli Lindsey <eli@siliconsprawl.com>
Date:   Tue Jan 19 10:34:54 2021 -0500

    Merge pull request #5338 from elindsey/maxlog
    
    periodically poll rdkafka's event queue

commit 0333055496751e2308553723498e903ad510d86e
Author: Sean Loiselle <sean@materialize.io>
Date:   Tue Jan 19 08:47:43 2021 -0500

    sql: use PG's signature for jsonb_build_object

commit 942d42e3e0d7edf62eff2955d8f5801570346b74
Author: Chris Golden <551285+cirego@users.noreply.github.com>
Date:   Mon Jan 18 22:54:21 2021 -0800

    Minor fixups to wikirecent play app (#5369)

commit 8f2ce3f78a5f6b47592441ff517f6ca7b47dd074
Author: Chris Golden <551285+cirego@users.noreply.github.com>
Date:   Mon Jan 18 09:13:26 2021 -0800

    Fixup typo in tb README (#5365)
    
    
    Reported by @shamrin (thank you!).
    
    Fixes #5354

commit 600f364c72778ad89703814164aae3943d973ec9
Merge: f0ed62856 fada457a6
Author: Sean Loiselle <sean@materialize.io>
Date:   Mon Jan 18 07:57:38 2021 -0500

    Merge pull request #5364 from sploiselle/custom-polymorphic-explanation
    
    docs: further explain custom type polymorphism

commit fada457a65e2bf119f7329bd55b8778eb0a38b86
Author: Sean Loiselle <sean@materialize.io>
Date:   Sat Jan 16 10:35:47 2021 -0500

    docs: further explain custom type polymorphism

commit c04fa42ed9fce131d7d982fbdba75c1a9bc61876
Author: dependabot-preview[bot] <27856297+dependabot-preview[bot]@users.noreply.github.com>
Date:   Mon Jan 18 11:22:15 2021 +0000

    build(deps): bump tokio-stream from 0.1.1 to 0.1.2
    
    Bumps [tokio-stream](https://github.com/tokio-rs/tokio) from 0.1.1 to 0.1.2.
    - [Release notes](https://github.com/tokio-rs/tokio/releases)
    - [Commits](https://github.com/tokio-rs/tokio/compare/tokio-stream-0.1.1...tokio-stream-0.1.2)
    
    Signed-off-by: dependabot-preview[bot] <support@dependabot.com>

commit fd6090841ef7ab355523f232343f8fb2a069af94
Author: dependabot-preview[bot] <27856297+dependabot-preview[bot]@users.noreply.github.com>
Date:   Mon Jan 18 11:21:44 2021 +0000

    build(deps): bump libc from 0.2.81 to 0.2.82
    
    Bumps [libc](https://github.com/rust-lang/libc) from 0.2.81 to 0.2.82.
    - [Release notes](https://github.com/rust-lang/libc/releases)
    - [Commits](https://github.com/rust-lang/libc/compare/0.2.81...0.2.82)
    
    Signed-off-by: dependabot-preview[bot] <support@dependabot.com>

commit e615052af34420dfb30d127078e8165f76bb0db4
Author: dependabot-preview[bot] <27856297+dependabot-preview[bot]@users.noreply.github.com>
Date:   Mon Jan 18 11:20:03 2021 +0000

    build(deps): bump rand from 0.8.0 to 0.8.2
    
    Bumps [rand](https://github.com/rust-random/rand) from 0.8.0 to 0.8.2.
    - [Release notes](https://github.com/rust-random/rand/releases)
    - [Changelog](https://github.com/rust-random/rand/blob/master/CHANGELOG.md)
    - [Commits](https://github.com/rust-random/rand/compare/0.8.0...0.8.2)
    
    Signed-off-by: dependabot-preview[bot] <support@dependabot.com>

commit 5bfa1aadd9e8e79e6b60d6998186e23fba74f469
Author: dependabot-preview[bot] <27856297+dependabot-preview[bot]@users.noreply.github.com>
Date:   Mon Jan 18 11:17:19 2021 +0000

    build(deps): bump bytes from 1.0.0 to 1.0.1
    
    Bumps [bytes](https://github.com/tokio-rs/bytes) from 1.0.0 to 1.0.1.
    - [Release notes](https://github.com/tokio-rs/bytes/releases)
    - [Changelog](https://github.com/tokio-rs/bytes/blob/master/CHANGELOG.md)
    - [Commits](https://github.com/tokio-rs/bytes/compare/v1.0.0...v1.0.1)
    
    Signed-off-by: dependabot-preview[bot] <support@dependabot.com>

commit abfb350d0641456a37e3e0399bc4b31d0abb9747
Author: dependabot-preview[bot] <27856297+dependabot-preview[bot]@users.noreply.github.com>
Date:   Mon Jan 18 11:16:46 2021 +0000

    build(deps): bump tokio from 1.0.1 to 1.0.2
    
    Bumps [tokio](https://github.com/tokio-rs/tokio) from 1.0.1 to 1.0.2.
    - [Release notes](https://github.com/tokio-rs/tokio/releases)
    - [Commits](https://github.com/tokio-rs/tokio/compare/tokio-1.0.1...tokio-1.0.2)
    
    Signed-off-by: dependabot-preview[bot] <support@dependabot.com>

commit 6a2d10a4fb8f1ebd55255f3ed098a8681127ac71
Author: dependabot-preview[bot] <27856297+dependabot-preview[bot]@users.noreply.github.com>
Date:   Mon Jan 18 11:16:04 2021 +0000

    build(deps): bump whoami from 1.0.3 to 1.1.0
    
    Bumps [whoami](https://github.com/libcala/whoami) from 1.0.3 to 1.1.0.
    - [Release notes](https://github.com/libcala/whoami/releases)
    - [Changelog](https://github.com/libcala/whoami/blob/main/CHANGELOG.md)
    - [Commits](https://github.com/libcala/whoami/commits/v1.1.0)
    
    Signed-off-by: dependabot-preview[bot] <support@dependabot.com>

commit f0ed628565523e7d4dce2b283cfec04140f31cbb
Author: Chris Golden <551285+cirego@users.noreply.github.com>
Date:   Sat Jan 16 14:04:50 2021 -0800

    Fixup logger name for archive topics (#5348)

commit 480712f3c4b266f9cadcbc8c251a3beb1e11570e
Author: Nikhil Benesch <nikhil.benesch@gmail.com>
Date:   Sat Jan 16 11:42:23 2021 -0500

    repr: speed up decimal parsing by 100% (#5343)
    
    * repr: speed up decimal parsing by 100%
    
    Due to a Rust bug, checked multiplication of i128s is two orders of
    magnitude slower than it should be. See rust-lang/rust#53023.  Work
    around the issue by using a u128 to perform arithmetic while parsing.
    
    parse_decimal/-135412353251
                            time:   [3.1434 us 3.1449 us 3.1467 us]
    Found 7 outliers among 100 measurements (7.00%)
      5 (5.00%) high mild
      2 (2.00%) high severe
    
    parse_decimal/1.030340E11
                            time:   [2.1604 us 2.1613 us 2.1624 us]
    Found 6 outliers among 100 measurements (6.00%)
      2 (2.00%) high mild
      4 (4.00%) high severe
    
    parse_decimal/-135412353251
                            time:   [28.306 ns 28.316 ns 28.330 ns]
                            change: [-99.083% -99.066% -99.045%] (p = 0.00 < 0.05)
                            Performance has improved.
    Found 19 outliers among 100 measurements (19.00%)
      5 (5.00%) low mild
      2 (2.00%) high mild
      12 (12.00%) high severe
    
    parse_decimal/1.030340E11
                            time:   [33.069 ns 33.110 ns 33.150 ns]
                            change: [-98.474% -98.472% -98.470%] (p = 0.00 < 0.05)
                            Performance has improved.
    Found 3 outliers among 100 measurements (3.00%)
      2 (2.00%) low mild
      1 (1.00%) high mild
    
    * pgrepr,repr: fix some decimal parsing/encoding bugs
    
    Noticed while comparing the PostgreSQL implementation to ours.
    
    Fix #4925.
    
    * repr: further optimize decimal parsing
    
    Avoid checked arithmetic where limits on precision already ensures that
    overflow cannot occur. Also iterate over bytes rather than chars, which
    is a bit faster.
    
    Combined, this yields another 25% speedup, from ~35ns to ~28ns, on the
    parse_decimal microbenchmark.

commit 7b2a8a3070dee2138551772f7b9ae36fed2b2696
Merge: 812c652f8 19852af10
Author: Sean Loiselle <sean@materialize.io>
Date:   Sat Jan 16 08:55:38 2021 -0500

    Merge pull request #5284 from sploiselle/create-type-docs
    
    Create type docs

commit 19852af106907fd2753c653b3f6deef15c67929d
Author: Sean Loiselle <sean@materialize.io>
Date:   Mon Jan 11 08:46:09 2021 -0500

    docs: CREATE TYPE + custom type docs

commit b544907b6f6676f5dcd93351319d34fe044487e6
Author: Sean Loiselle <sean@materialize.io>
Date:   Tue Jan 12 14:43:41 2021 -0500

    docs: type docs cleanup

commit 812c652f8828f003330bf4649f3ff515ee2781ce
Merge: 073f8f9fd efb7023b5
Author: Nikhil Benesch <nikhil.benesch@gmail.com>
Date:   Sat Jan 16 00:57:19 2021 -0500

    Merge pull request #5336 from MaterializeInc/testdrive-todo
    
    testdrive: resolve a todo re: tokio::spawn::block_in_place

commit 073f8f9fd5e67b9c07430b74cc05ff3476a4d2a3
Merge: ee942053f 456316239
Author: Nikhil Benesch <nikhil.benesch@gmail.com>
Date:   Fri Jan 15 22:48:09 2021 -0500

    Merge pull request #5342 from benesch/bad-bench
    
    repr: remove accidental code in parse_float32 benchmark

commit 456316239a587136e87f6839b59ddbae65bee19a
Author: Nikhil Benesch <nikhil.benesch@gmail.com>
Date:   Fri Jan 15 21:10:34 2021 -0500

    repr: remove accidental code in parse_float32 benchmark

commit ee942053f63c747a086ca9cae67c50e44a948eeb
Merge: 76228ce4a 96f6456bd
Author: Sean Loiselle <sean@materialize.io>
Date:   Fri Jan 15 20:03:25 2021 -0500

    Merge pull request #5317 from sploiselle/sql-type-names
    
    sql: use SQL standard names in output consistently

commit 96f6456bdc995c881f71f195bba179aa84d07ccf
Author: Sean Loiselle <sean@materialize.io>
Date:   Thu Jan 14 08:24:29 2021 -0500

    sql: use SQL standard names in output consistently

commit 76228ce4ae92b4d50977c13f4fd384da5b67cb5a
Author: Chris Golden <551285+cirego@users.noreply.github.com>
Date:   Fri Jan 15 16:32:53 2021 -0800

    Rework chbench snapshot generation (#5330)
    
    
    This PR introduces a number of changes around how we generate snapshots
    from chbench, for use with the ingest tests. First, our snapshot
    generation code was never 100% complete, as it never wrote out the
    source_offsets (I had created it by hand and it was part of the S3
    archive). Snapshot_view_states now captures the offsets for each source.
    
    Second, offsets.json hardcoded the view_name to topic name. Instead of
    duplicating this information, add code to Peeker to archive the
    configuration used to generate the snapshot. Included in this
    configuration file are the sources that comprise each view (currently
    expected to be a 1 to 1 mapping for our ingest benchmarks).
    
    Third, the TOML config file for Peeker is interpreted by Peeker (it
    substitutes environment variables) and cannot be directly loaded by
    other programming languages. To fix this, I added a method to Peeker to
    write out the computed version of the configuration (and loaded it into
    TOML to validate the config).
    
    Fourth, the TOML config file for Peeker could not be serialized due to
    sleep_ms being a Duration field and not being the last field in the
    struct. I moved this field to the end of each struct where mentioned,
    but this created a second problem. Our deserializer converted a single
    string into a Duration object, which is serialized as a table, thereby
    breaking symmetry in serialize / deserialize. I removed the custom
    deserialization so that we can load the serialized file using the same
    deserialization logic.
    
    I think we can write a SQL query / some recursive logic to
    programmatically get the source names for each view, but this current PR
    works for saving snapshots and archiving the Peeker config file.

commit fade91dc46b5c86b689cf94def61bf117c04c2b6
Author: Nikhil Benesch <nikhil.benesch@gmail.com>
Date:   Fri Jan 15 17:40:27 2021 -0500

    repr: don't allocate while parsing floats (#5341)
    
    parse_float32/-3.0      time:   [41.721 ns 41.940 ns 42.170 ns]
                            change: [-55.287% -55.053% -54.764%] (p = 0.00 < 0.05)
                            Performance has improved.
    
    parse_float32/9.7       time:   [41.411 ns 41.671 ns 41.918 ns]
                            change: [-49.983% -49.783% -49.552%] (p = 0.00 < 0.05)
                            Performance has improved.
    
    parse_float32/NaN       time:   [25.068 ns 25.253 ns 25.447 ns]
                            change: [-60.892% -60.692% -60.434%] (p = 0.00 < 0.05)
                            Performance has improved.
    
    parse_float32/inFiNiTy  time:   [16.827 ns 16.840 ns 16.852 ns]
                            change: [-86.343% -86.325% -86.307%] (p = 0.00 < 0.05)
                            Performance has improved.

commit 77102cb247f1c8ee6d481156a7bb220456683835
Author: Eli Lindsey <eli@siliconsprawl.com>
Date:   Fri Jan 15 11:33:39 2021 -0500

    include the cluster id in the consumer group name
    
    This prevents multiple mz instances in a cluster from stepping on each
    other's toes when updating offsets

commit 66453ef78a9a1174466172bbbbe783e3f0951073
Author: Eli Lindsey <eli@siliconsprawl.com>
Date:   Fri Jan 15 16:18:12 2021 -0500

    periodically poll rdkafka's event queue
    
    This fixes the kafka statistics logging that is enabled by
    `statistics_interval_ms`.
    
    rdkafka has an internal event queue used for communicating back to the
    application (variously referred to as rep, the main queue, etc.)
    
    In the refactor ~8 months ago that split kafka sources into a single
    consumer with separate queues for partitions we neglected to continue
    polling the main queue.

commit efb7023b59d16322d117767a8581b79453c300da
Author: Nikhil Benesch <nikhil.benesch@gmail.com>
Date:   Fri Jan 15 15:48:20 2021 -0500

    testdrive: resolve a todo re: tokio::spawn::block_in_place
    
    Spawning a new task is no longer necessary to use
    tokio::spawn::block_in_place.

commit 983fac61bb581fca6b973d7151da2ca40d37326c
Merge: 09aa01360 66b7dfef1
Author: Nikhil Benesch <nikhil.benesch@gmail.com>
Date:   Fri Jan 15 14:45:01 2021 -0500

    Merge pull request #5308 from benesch/testdrive-cleanup
    
    testdrive: clean up public API

commit 66b7dfef1b2fe39fd217617f217fee6c8adb56e8
Author: Nikhil Benesch <nikhil.benesch@gmail.com>
Date:   Wed Jan 13 14:21:04 2021 -0500

    testdrive: clean up public API
    
    The util module was not meant to be public; it was temporarily public to
    yield access to various functions that have been moved elsewhere.
    
    Also privatize the error module, and just export the main error type.

commit 09aa01360a04fc17c1b780c67d8de0f7facf6fb9
Author: Brandon W Maister <bwm@materialize.io>
Date:   Fri Jan 15 12:36:49 2021 -0500

    testdrive: Use buildkite section headings for files (#5325)
    
    This will make the buildkie UI show expando-sections for all files, instead of
    the contents of each file.

commit 9dd75a62eed2b13e9e2d9429e25cc81c57ece95c
Merge: 1a87a31a4 976c24d70
Author: Brandon W Maister <bwm@materialize.io>
Date:   Fri Jan 15 11:01:36 2021 -0500

    Merge pull request #5202 from quodlibetor/s3-sources-multi
    
    s3 sources: support reading an entire bucket

commit 976c24d70a989f1174aff4bba5a6650475c83893
Author: Brandon W Maister <bwm@materialize.io>
Date:   Fri Jan 8 11:11:39 2021 -0500

    Refactor AWS ConnectInfo to be valid-by-construction
    
    If a user provides either an aws_access_key_id or an aws_secret_access_key then
    the other one must be provided. Previously all utilities would need to perform
    this validation themselves, but with this change it is impossible to construct
    partial credentials.

commit 9fadd2be1562fca7de2c22be882b85c3d31e8f49
Author: Brandon W Maister <bwm@materialize.io>
Date:   Mon Jan 4 17:44:26 2021 -0500

    s3 sources: support reading an entire bucket
    
    This supports unordered reading of an entire S3 bucket, with no optimizations.
    
    With this `CREATE SOURCE s FROM S3 BUCKET 'foo' OBJECTS FROM SCAN MATCHING
    '**/*.json'` will do the right thing.
    
    This also adds support for `OBJECTS FROM SCAN` *without* the `MATCHING` clause.

commit 71f634926ea99d96319e745022da28b69a8c414f
Author: Brandon W Maister <bwm@materialize.io>
Date:   Mon Jan 4 15:32:05 2021 -0500

    s3 sources: Add the ability to read a single object from S3
    
    Individual objects are downloaded, and then split on newlines with individual
    records being sent through to the dataflow layer.
    
    There are some open questions about how MzOffsets and other things should map
    into an S3 world -- "partition" can be mapped to S3 objects, but we can grow to
    arbitrarily large numbers of S3 objects, so a naive implementation of that
    won't necessarily make sense.
    
    This commit still requires testing infrastructure, but ingesting an S3 object
    works correctly.

commit 1a87a31a4bfc520fe67108e1d36c3e2fef993f90
Merge: c31e5f3fa f629e20fc
Author: Eli Lindsey <eli@siliconsprawl.com>
Date:   Fri Jan 15 10:11:04 2021 -0500

    Merge pull request #5323 from elindsey/initialts
    
    ensure the source's time since downgrade is initially stale

commit c2bb0f797f54dfc8d47f98a9295648dcaba8513d
Author: Eli Lindsey <eli@siliconsprawl.com>
Date:   Fri Jan 15 10:10:05 2021 -0500

    mention kafka offset commit in release notes

commit e917632f67ac1f50640e421d5f80cf4de906d648
Author: Eli Lindsey <eli@siliconsprawl.com>
Date:   Tue Jan 12 18:35:42 2021 -0500

    enable offset autocommit for kafka sources
    
    Related to https://github.com/MaterializeInc/materialize/issues/3060
    
    Turning this on allows customers to use standard, existing monitoring
    tools to get a sense of materialize's progress.
    
    There are two important notes:
    1. mz committing offsets is a shallow notion of progress and means that
       the offset has been retrieved. It does _not_ mean that views have
       been updated with data from that offset.
    2. mz committing offsets does not mean that mz will continue from the
       last committed offset on restart - bootstrap behavior is unchanged,
       and mz still needs to re-read all data when restarted.
    
    This was tested manually by:
    1. Starting up mz
    2. Creating and materializing a kafka topic that contained data
    3. Observing in the confluent console that consumer progress shows up
    4. Restarting mz and checking that it reads from offset 0 and correctly
       repopulates the materialized view

commit c31e5f3fa57b8676f5d7791b213346ebfeeec688
Merge: 103e9c74b 03515b31e
Author: Nikhil Benesch <nikhil.benesch@gmail.com>
Date:   Thu Jan 14 18:33:05 2021 -0500

    Merge pull request #5315 from benesch/simplify-tail-tests
    
    materialized/tests: simplify TAIL tests

commit 103e9c74bff6bf13e0315100ed75aeb08ef5d92a
Author: Jessica Laughlin <JLDLaughlin@users.noreply.github.com>
Date:   Thu Jan 14 17:04:22 2021 -0500

    sql: support ILIKE pattern matching (#5321)
    
    Adds support for ILIKE, which is used for case insensitive matching.

commit cf81992683b5c61f700342b7d04d284f3236471d
Merge: 60603dbde c36015f63
Author: Nikhil Benesch <nikhil.benesch@gmail.com>
Date:   Thu Jan 14 15:52:03 2021 -0500

    Merge pull request #5322 from benesch/fix-peeker
    
    peeker: enable hyper's tcp feature

commit f629e20fc6a396515e1af72b9bbee129a853fd5b
Author: Eli Lindsey <eli@siliconsprawl.com>
Date:   Thu Jan 14 15:41:55 2021 -0500

    ensure the source's time since downgrade is initially stale
    
    Previously (a93a2e77d) this was changed to force creation of an initial
    timestamp to avoid timestamping data with `1`. However, the "is it
    stale" comparison is at millisecond granularity and computers are fast,
    so setting the initial time to now() - frequency can still result in a
    small portion of data being timestamped as `1`.
    
    Ensure that the initial time since downgrade is strictly in the past by
    subtracting an extra second.

commit c36015f63aee86e0c17f8d89353e3dc355fff603
Author: Nikhil Benesch <nikhil.benesch@gmail.com>
Date:   Thu Jan 14 15:08:34 2021 -0500

    peeker: enable hyper's tcp feature
    
    Usual Cargo feature nonsense. Peeker requires this feature, but it's
    only obvious that it does if it you build it alone.

commit 60603dbde2adfb9d95ace9162e432549ee215a64
Merge: ec48c94e1 f5b8499e6
Author: Nikhil Benesch <nikhil.benesch@gmail.com>
Date:   Thu Jan 14 14:46:44 2021 -0500

    Merge pull request #5320 from benesch/tail-warning
    
    doc/user: add additional warning about blocking to TAIL docs

commit f5b8499e6ceaceaea94cb51214a6e29e0f1a8e51
Author: Nikhil Benesch <nikhil.benesch@gmail.com>
Date:   Thu Jan 14 14:10:49 2021 -0500

    doc/user: add additional warning about blocking to TAIL docs
    
    Fix #5307.

commit ec48c94e146ffaa13cd829d4b1ba0ddaff9e67d4
Merge: f2634ad34 7a4277d14
Author: Brandon W Maister <bwm@materialize.io>
Date:   Thu Jan 14 12:25:48 2021 -0500

    Merge pull request #5319 from quodlibetor/aws-util-unification
    
    aws_util: Prepare for supporting S3 as well

commit 7a4277d14b7255244c494f6dcee27a29a4070803
Author: Brandon W Maister <bwm@materialize.io>
Date:   Tue Jan 5 11:37:04 2021 -0500

    aws_util: Correct and flesh out docs for kinesis::client

commit ed591df961ca427dd78837116035bd797e5637cf
Author: Brandon W Maister <bwm@materialize.io>
Date:   Tue Jan 5 10:15:51 2021 -0500

    aws_util: Fail earlier if Kinesis credentials are not available
    
    Before this credentials weren't fetched until we tried to use the client,
    causing credentials errors to show up well after the dataflow had been created.
    With this we can fail to create the source at all.

commit 1c62845f4d4cb8660e704fc199f324c9ccc1089c
Author: Brandon W Maister <bwm@materialize.io>
Date:   Tue Jan 5 10:14:56 2021 -0500

    aws_util: Guard against typos in Kinesis client

commit eb5c5ac2b4eb4986b5c4c049ad7f14a5dded7e25
Author: Brandon W Maister <bwm@materialize.io>
Date:   Tue Jan 5 10:11:33 2021 -0500

    aws_util: Rename kinesis::kinesis_client -> kinesis::client
    
    This is a more common idiom.

commit de2b8bc29ef694889662d391dd3ffcf40f5eb7dd
Author: Brandon W Maister <bwm@materialize.io>
Date:   Tue Dec 29 14:26:00 2020 -0500

    Extract aws connection info into its own struct
    
    This will allow it to be shared between different services in later commits.

commit 03515b31eb3d7a4faecf75d4ba8b23eea987b38d
Author: Nikhil Benesch <nikhil.benesch@gmail.com>
Date:   Thu Jan 14 01:56:17 2021 -0500

    materialized: simplify and orthogonalize remaining tail tests
    
    Use tables and server-side cursors to make these tests much easier to
    read, and to make them more orthogonal. The TAIL tests are now better
    focused on testing just the TAIL command, rather than also testing file
    sources and binary COPY. We have tests elsewhere for file sources and
    binary copy, so no need to complicate the TAIL tests. They're subtle
    enough as it is.

commit 5cb1ad39b95ce9c0ef91cb1b524adb4f6f62224f
Author: Nikhil Benesch <nikhil.benesch@gmail.com>
Date:   Thu Jan 14 01:35:37 2021 -0500

    materialized: fix bug in empty binary copy result sets
    
    Binary COPY was not emitting the COPY header if there were no rows.

commit 583d5ee11fae6e27bd8ebc2699adf018925689e3
Author: Nikhil Benesch <nikhil.benesch@gmail.com>
Date:   Thu Jan 14 01:12:28 2021 -0500

    materialized: simplify test_tail_empty_upper_frontier

commit 72dacfd23062f2dd5c154cd65e8934619a4598ad
Author: Nikhil Benesch <nikhil.benesch@gmail.com>
Date:   Thu Jan 14 00:39:00 2021 -0500

    materialized: fix typo in test_tail_fetch_timeout

commit 3f07bbc9c773f2eaa74bd33f437ee537bd5571b8
Author: Nikhil Benesch <nikhil.benesch@gmail.com>
Date:   Thu Jan 14 00:23:32 2021 -0500

    materialized: simplify test_temporary_views

commit 2086ec45ed3268a3ab722290cacccffc94fc819f
Author: Nikhil Benesch <nikhil.benesch@gmail.com>
Date:   Thu Jan 14 00:18:03 2021 -0500

    materialized: simplify test_tail_shutdown
    
    Creating a table is now a much simpler way to create a TAIL that never
    terminates.

commit f2634ad34e5a8e5d1e286e80819614a25d889689
Merge: 23764021d fe29a403a
Author: Ruchir Khaitan <ruchir0001@gmail.com>
Date:   Wed Jan 13 23:54:13 2021 -0500

    Merge pull request #5299 from ruchirK/rk-fix-i64-sum
    
    Fix issues with bigint sum -> numeric conversion

commit 23764021d5f57a871f060a926ec3f657bbd5a087
Merge: c6b61114f 1bb475c8e
Author: Sean Loiselle <sean@materialize.io>
Date:   Wed Jan 13 20:57:41 2021 -0500

    Merge pull request #5313 from sploiselle/natural-join-implicit-casts
    
    sql: support USING on implicitly coercible data types

commit 1bb475c8e90386768031b1ec6eda7d6a860bf703
Author: Sean Loiselle <sean@materialize.io>
Date:   Wed Jan 13 14:33:01 2021 -0500

    sql: support USING on implicitly coercible data types
    
    Fixes #5276

commit fe29a403a6a17b3db591b25c3a1d35e377e4fcbd
Author: Ruchir Khaitan <ruchir0001@gmail.com>
Date:   Wed Jan 13 00:28:27 2021 -0500

    pgwire: more verbose message on type error

commit c6b61114f76796fe77cbf6eba5990ef2fe90aa4f
Author: Chris Golden <551285+cirego@users.noreply.github.com>
Date:   Wed Jan 13 14:22:14 2021 -0800

    Use declare/fetch to TAIL views, not copy (#5310)
    
    
    There are two methods for getting data out of a TAIL operation using
    psycopg3 -- copy and declare/fetch. By using DECLARE/FETCH, psycopg3
    will automatically decode the types for us and we don't need to parse
    the types manually / tell copy how to decode the types.

commit 8e0b6ffd1791934a2b4181a514b8be533199b090
Merge: 04ceee4ea e0b835563
Author: Eli Lindsey <eli@siliconsprawl.com>
Date:   Wed Jan 13 16:11:33 2021 -0500

    Merge pull request #5312 from elindsey/flakyflake
    
    lower timestamp frequency for subselect test

commit e0b835563632c1b47ef980c81fa4343efa933c55
Author: Eli Lindsey <eli@siliconsprawl.com>
Date:   Wed Jan 13 16:04:48 2021 -0500

    lower timestamp frequency for subselect test

commit 04ceee4ea79d86f3b754509885fb9753a22db98d
Merge: f8c76d018 8c2e67cb8
Author: Nikhil Benesch <nikhil.benesch@gmail.com>
Date:   Wed Jan 13 15:29:53 2021 -0500

    Merge pull request #5058 from benesch/brand-env-vars
    
    materialized: brand all environment variables

commit 8c2e67cb8740882d2d10eb79eecdc7779e289d8c
Author: Nikhil Benesch <nikhil.benesch@gmail.com>
Date:   Tue Dec 15 00:15:00 2020 -0500

    materialized: introduce Timely/Differential CLI args
    
    The latest versions of Timely/Differential do not read the
    DIFFERENTIAL_EAGER_MERGE or DEFAULT_PROGRESS_MODE environment variables,
    instead accepting those configuration parameters via a configuration
    API. Wire that API up to command-line arguments in Materialize, and
    lightly document it.
    
    Fix #1221.
    Fix #5055.

commit f8c76d0186c11b86e038641552bf7d6c07544b5d
Merge: 7690bec2a 8405dd683
Author: Nikhil Benesch <nikhil.benesch@gmail.com>
Date:   Wed Jan 13 14:16:24 2021 -0500

    Merge pull request #5300 from benesch/mzcompose-lint
    
    mzcompose: start linting mzcompose.yml files

commit 7690bec2a07ea8c88d35ac971a515af4dc6e0786
Merge: 007d2a6ad c9d77a748
Author: Nikhil Benesch <nikhil.benesch@gmail.com>
Date:   Wed Jan 13 14:08:47 2021 -0500

    Merge pull request #5298 from benesch/clap
    
    *: use structopt to parse command-line args

commit 007d2a6ad84439ae5cb6306ad767dcdf5eb85036
Merge: 0c155a13d 95d444d2b
Author: Ruchir Khaitan <ruchir0001@gmail.com>
Date:   Wed Jan 13 14:06:57 2021 -0500

    Merge pull request #5306 from ruchirK/fix-basic-aggs
    
    dataflow: correctly render multiple basic aggs

commit c9d77a74838c71e89b439f17798deccb84f56fda
Author: Nikhil Benesch <nikhil.benesch@gmail.com>
Date:   Tue Jan 12 21:52:03 2021 -0500

    *: use structopt to parse command-line args
    
    Our CLI tools variously used the getopts and structopt crates to parse
    arguments. Having two separate command-line parsers floating around is
    suboptimal, as it's two APIs that folks have to learn, and two slightly
    different interfaces to learn.
    
    While getopts is more flexible, it also introduces quite a bit more
    boilerplate. Everyone besides me seems to like structopt quite a bit
    more.
    
    So this commit replaces all usage of getopts across the codebase with
    structopt, with the exception of the materialized crate, which will be
    switched over in a future commit.

commit 24071114e2cd585a057c20a73c63e336ab711a31
Author: Nikhil Benesch <nikhil.benesch@gmail.com>
Date:   Tue Jan 12 21:41:27 2021 -0500

    *: mark all unpublished crate versions as 0.0.0
    
    This is the convention that rust-lang/rust uses to indicate that
    crates do not have meaningful versions. Mark all of our unpublished
    crates as v0.0.0 to adhere to that convention.

commit 95d444d2b46a8e49a84739e482e4bb71fce1824f
Author: Ruchir Khaitan <ruchir0001@gmail.com>
Date:   Wed Jan 13 12:48:09 2021 -0500

    dataflow: correctly render multiple basic aggs
    
    Closes #5304

commit 0c155a13db8e3cdf2fbebb95d98f8272b9c6f905
Author: Chris Golden <551285+cirego@users.noreply.github.com>
Date:   Wed Jan 13 09:46:40 2021 -0800

    Fixup service to restart in ingest-bench (#5305)
    
    
    Forgot to change the name of the database to restart :-/

commit 0225a52713a27e33c350427d6d024573715ab29c
Merge: 14b8582f3 1e0ff4f61
Author: Nikhil Benesch <nikhil.benesch@gmail.com>
Date:   Wed Jan 13 02:31:24 2021 -0500

    Merge pull request #5279 from benesch/intermediate-ssl
    
    materialized: permit older TLS algorithms

commit 8405dd6838903c6fdde97e21ab4997f4ca571164
Author: Nikhil Benesch <nikhil.benesch@gmail.com>
Date:   Wed Jan 13 01:55:51 2021 -0500

    mzcompose: lint against incorrect image versions
    
    This exposed dozens of places where we were using unofficial images, or
    mismatched image versions, which can make CI nondeterministic.

commit daa75384679aeb41a5fce30f4dd43e3442869571
Author: Nikhil Benesch <nikhil.benesch@gmail.com>
Date:   Wed Jan 13 01:40:18 2021 -0500

    mzcompose: lint against floating Docker versions
    
    This makes CI more deterministic.

commit 463baece8536c21d2c7cc90413584faf17c207cf
Author: Nikhil Benesch <nikhil.benesch@gmail.com>
Date:   Wed Jan 13 01:23:49 2021 -0500

    mzcompose: lint for --disable-telemetry in materialized configs

commit 14b8582f38d5474a2151fac026a49009d4ed67b9
Author: Chris Golden <551285+cirego@users.noreply.github.com>
Date:   Tue Jan 12 22:05:27 2021 -0800

    Improve error message for missing mzbuild files (#5269)

commit 20b0de1225c27f9dc67aa1ab57e43135597da808
Merge: 5b264cc96 48d7dc1ff
Author: Matt Jibson <matt.jibson@gmail.com>
Date:   Tue Jan 12 23:03:24 2021 -0700

    Merge pull request #5296 from mjibson/coord-refactor
    
    coord: refactor serve loop to be safer

commit 5b264cc9681e85831522119e403be34d633d0351
Author: Chris Golden <551285+cirego@users.noreply.github.com>
Date:   Tue Jan 12 22:02:16 2021 -0800

    Use mysql to generate chbench snapshots for ingest benchmarking (#5286)
    
    
    - Use MySQL by default in benchmarks
    
    - Create our own mysql-debezium container
    
    This will enable use to tune the instance and it removes the extraneous
    tables / etc that the Debezium examples create.
    
    - Disable flush after every commit in mysql-chbench
    
    This improves performance from 1400 messages / sec to 2200 messages per
    second, as observed by materialized.
    
    - Use tmpfs to back chbench-mysql
    
    This improves our messages per second from 2200 to 27000+ mps.

commit c4a7b5dd6ba26545939206fff40590970ebd233f
Author: Ruchir Khaitan <ruchir0001@gmail.com>
Date:   Wed Jan 13 00:24:38 2021 -0500

    expr,transform: make bigint sums output numeric everywhere
    
    Closes #5287

commit 59443abc6ca2a9c60142394d7847b16fa328a738
Merge: 704604a45 b772fddea
Author: Nikhil Benesch <nikhil.benesch@gmail.com>
Date:   Tue Jan 12 23:28:19 2021 -0500

    Merge pull request #5283 from benesch/downgrade-sysinfo
    
    deps: downgrade sysinfo

commit 48d7dc1ff7ad29caa838166ab89df600a8b11706
Author: Matt Jibson <matt.jibson@gmail.com>
Date:   Tue Jan 12 20:37:18 2021 -0700

    coord: refactor serve loop to be safer
    
    In a few places some of the messages handled by the coord serve loop
    would "return", expecting that this would go on to handle the next
    message. However return here exited the entire coord loop causing
    materialize to exit completely.
    
    In order to prevent us from making this mistake again, refactor the
    serve loop so that each message type is handled in its own function. This
    does the correct thing for return (stop the current message processing
    and proceed), which is sometimes needed in error paths. The serve loop
    is now easily scannable by the eye and it's much easier to understand
    what's going on.

commit 704604a45df9efafc2c0abcb6ad8347b4bd7c01f
Merge: 4b4d63a34 108015bb6
Author: Eli Lindsey <eli@siliconsprawl.com>
Date:   Tue Jan 12 18:19:55 2021 -0500

    Merge pull request #5260 from elindsey/once
    
    add transactional writing to kafka sinks

commit 4b4d63a341d418e264c6eb963671aaf94f2fecf4
Merge: 56c444648 9b57b90c9
Author: Matt Jibson <matt.jibson@gmail.com>
Date:   Tue Jan 12 15:10:05 2021 -0700

    Merge pull request #5282 from mjibson/extended-txn
    
    pgwire: don't parse/bind/exec during aborted txns

commit 56c4446486ebab1aa07157fe8be20f0e1e6247f5
Author: Ruchir Khaitan <ruchir0001@gmail.com>
Date:   Tue Jan 12 16:36:53 2021 -0500

    dataflow,expr: change bigint sums to output numerics (#5281)
    
    Touches #5218
    
    Previously, sums over bigints would return bigints as output. These sums could
    overflow in simple examples. This commit changes the behavior to match Postgres
    precedent and return numerics, which are a wider accumulator.

commit b772fddea3c468bbbbc927e99f12fa93888ca066
Author: Nikhil Benesch <nikhil.benesch@gmail.com>
Date:   Tue Jan 12 16:34:08 2021 -0500

    deps: downgrade sysinfo
    
    Downgrade sysinfo to fix cross compiliation on macOS, until
    @quodlibetor's change makes it upstream.
    
    See: https://github.com/GuillaumeGomez/sysinfo/pull/404

commit 9b57b90c92380e14ba0be39246d980fd0752f029
Author: Matt Jibson <matt.jibson@gmail.com>
Date:   Tue Jan 12 14:10:00 2021 -0700

    pgwire: don't parse/bind/exec during aborted txns
    
    These now match postgres.

commit 108015bb6e8173bc230dfc90e85c090a6a0a3095
Author: Eli Lindsey <eli@siliconsprawl.com>
Date:   Wed Nov 18 16:58:03 2020 -0500

    add transactional writing to kafka sinks
    
    This adds the necessary state machine and kafka calls to write
    transactionally to sinks and their respective consistency topics.
    
    The plumbing to enable this is not hooked up, so this code is currently
    inactive.

commit 1e0ff4f61c3dd0caaae24c7dc18d453a01a6f426
Author: Nikhil Benesch <nikhil.benesch@gmail.com>
Date:   Tue Jan 12 12:56:23 2021 -0500

    materialized: permit older TLS algorithms
    
    Use Mozilla's "intermediate" TLS preset, rather than its "modern"
    preset. Fivetran does not use modern-enough TLS algorithms to be
    compatible with the "modern" present, and likely other connectors have
    the same defect.

commit d193bdc5dd21e083f2a5421ec3f843b73149f728
Merge: 84d54c059 1512cb103
Author: Nikhil Benesch <nikhil.benesch@gmail.com>
Date:   Tue Jan 12 11:11:37 2021 -0500

    Merge pull request #5268 from benesch/psycopg-tests
    
    test/lang: add psycopg tests of TAIL

commit 1512cb103779656d9b79f7c2295d4866fec08826
Author: Nikhil Benesch <nikhil.benesch@gmail.com>
Date:   Tue Jan 12 00:41:20 2021 -0500

    test/lang: add psycopg tests of TAIL
    
    psycopg3 recently learned to decode binary-formatted COPY data. Add a
    basic test of TAIL using this new feature. Also add a test of cursors
    with psycopg2 for good measure.

commit 84d54c0590a21e23d00d0382ae98d692f2927428
Merge: 927aa0772 900705301
Author: Justin Jaffray <justin.jaffray@gmail.com>
Date:   Tue Jan 12 10:27:21 2021 -0500

    Merge pull request #5259 from justinj/walkabout-generics
    
    walkabout: teach walkabout to handle generics

commit 927aa0772f5bd470ee5408dab6de694f42bee8b0
Author: Nikhil Benesch <nikhil.benesch@gmail.com>
Date:   Tue Jan 12 02:08:51 2021 -0500

    mzbuild: try even harder to find mzbuild files (#5270)
    
    mzbuild goes to great lengths to contend with Git's working directory
    and ignore rules when auto-discovering mzbuild images. But it wasn't
    properly handling *new* mzbuild images whose files were not yet added to
    Git's index. Update the logic for finding files to account for this
    case.
    
    Fix #5020
    Fix #5271

commit 1618e3f79d17ed10fbbb51450ac6d0863cf61682
Author: Chris Golden <551285+cirego@users.noreply.github.com>
Date:   Mon Jan 11 21:13:48 2021 -0800

    Print archive messages as JSON by default (#5265)
    
    
    This enables using tools like `jq` to parse the output from this script.

commit 1a82bf62966d5929c83257baa8d4dbff411ef41d
Merge: 7b5d6d273 6b887cf2b
Author: Matt Jibson <matt.jibson@gmail.com>
Date:   Mon Jan 11 16:42:44 2021 -0700

    Merge pull request #5263 from mjibson/discard-all-txn
    
    coord: correctly handle txns with DISCARD ALL

commit 7b5d6d273ab9af7d6577774db7aaf9b01f90d196
Merge: 5fb241e0b 710aec067
Author: Nikhil Benesch <nikhil.benesch@gmail.com>
Date:   Mon Jan 11 17:19:22 2021 -0500

    Merge pull request #5264 from benesch/fast-compiles-typo
    
    doc/developer: fix broken link in fast compiles doc

commit 900705301319d5811edb9eadf879cb3b5b318a54
Author: Justin Jaffray <justin.jaffray@gmail.com>
Date:   Mon Jan 11 16:24:15 2021 -0500

    walkabout: support trait bounds

commit 710aec067ade942c98c9a176d9d497146530114c
Author: Nikhil Benesch <nikhil.benesch@gmail.com>
Date:   Mon Jan 11 16:32:47 2021 -0500

    doc/developer: fix broken link in fast compiles doc

commit 5fb241e0bc99ac31e60a9dd3448d152f40acacea
Merge: afa7ceb16 8c669f581
Author: Nikhil Benesch <nikhil.benesch@gmail.com>
Date:   Mon Jan 11 16:32:04 2021 -0500

    Merge pull request #5261 from benesch/fast-compiles
    
    doc: write up learnings for faster compiles

commit 6b887cf2b91bee93bd3471c439eaede13015a765
Author: Matt Jibson <matt.jibson@gmail.com>
Date:   Mon Jan 11 14:23:00 2021 -0700

    coord: correctly handle txns with DISCARD ALL
    
    DISCARD ALL cannot occur in a transaction. This is necessary as part of
    the work to make our SQL txn semantics correct.

commit 8c669f58130c27667f6cc6d71f6d4ed2c49c4a02
Author: Nikhil Benesch <nikhil.benesch@gmail.com>
Date:   Mon Jan 11 12:59:46 2021 -0500

    doc: write up learnings for faster compiles

commit afa7ceb1662b389be8c6f21dd911b1c580727dab
Merge: 51c153fdc cd1916265
Author: Nikhil Benesch <nikhil.benesch@gmail.com>
Date:   Mon Jan 11 13:04:44 2021 -0500

    Merge pull request #5247 from benesch/startup-hangup
    
    pgwire: permit hangups in startup sequence

commit 780c2da09c18568da9ed10fbeebce29146226a8b
Author: Justin Jaffray <justin.jaffray@gmail.com>
Date:   Mon Jan 11 11:29:16 2021 -0500

    walkabout: teach walkabout to handle generics
    
    I'm not 100% sure that this handles all the cases properly, and there
    are undocumented assumptions about how the names all have to line up,
    but it seems to compile modulo some "unused" errors, so I think any
    issues will show themselves as I attempt to make use of it. The syntax
    looks correct to my eye, though I'm not entirely confident I haven't
    missed something.

commit 51c153fdc4236d08ca0661e3b268609236261003
Merge: 0ea438288 3e5bc2584
Author: Nikhil Benesch <nikhil.benesch@gmail.com>
Date:   Mon Jan 11 11:08:01 2021 -0500

    Merge pull request #5256 from MaterializeInc/dependabot/cargo/log-0.4.13
    
    build(deps): bump log from 0.4.11 to 0.4.13

commit 3e5bc2584b7b5e40fc44b7a8e406dd9b54623c8b
Author: dependabot-preview[bot] <27856297+dependabot-preview[bot]@users.noreply.github.com>
Date:   Mon Jan 11 15:28:54 2021 +0000

    build(deps): bump log from 0.4.11 to 0.4.13
    
    Bumps [log](https://github.com/rust-lang/log) from 0.4.11 to 0.4.13.
    - [Release notes](https://github.com/rust-lang/log/releases)
    - [Changelog](https://github.com/rust-lang/log/blob/master/CHANGELOG.md)
    - [Commits](https://github.com/rust-lang/log/compare/0.4.11...0.4.13)
    
    Signed-off-by: dependabot-preview[bot] <support@dependabot.com>

commit 0ea438288d442a4d7ed3a32cb638cbb5c3f5a879
Merge: 6dc7c9d5f 0a470ba7d
Author: Nikhil Benesch <nikhil.benesch@gmail.com>
Date:   Mon Jan 11 10:25:57 2021 -0500

    Merge pull request #5254 from MaterializeInc/dependabot/cargo/anyhow-1.0.38
    
    build(deps): bump anyhow from 1.0.37 to 1.0.38

commit 6dc7c9d5ff5cdc889f25dcefff3d57abcbe1eb4c
Merge: 8c3692f91 38b552255
Author: Nikhil Benesch <nikhil.benesch@gmail.com>
Date:   Mon Jan 11 10:25:51 2021 -0500

    Merge pull request #5257 from MaterializeInc/dependabot/cargo/futures-0.3.9
    
    build(deps): bump futures from 0.3.8 to 0.3.9

commit 8c3692f91efc960e24c70f197b7bd135b8345d16
Merge: a40c2bcd6 1ecad6eda
Author: Nikhil Benesch <nikhil.benesch@gmail.com>
Date:   Mon Jan 11 10:25:33 2021 -0500

    Merge pull request #5255 from MaterializeInc/dependabot/cargo/whoami-1.0.3
    
    build(deps): bump whoami from 1.0.1 to 1.0.3

commit a40c2bcd6f2c3b5c37600e3bcbb5b60620a4e128
Merge: c228d05d0 080235337
Author: Ruchir Khaitan <ruchir0001@gmail.com>
Date:   Mon Jan 11 10:19:31 2021 -0500

    Merge pull request #5214 from ruchirK/rk-option-docs
    
    Document the new option syntax for query hints

commit 1ecad6eda6de29fb946d326b1c853c5971de4fcc
Author: dependabot-preview[bot] <27856297+dependabot-preview[bot]@users.noreply.github.com>
Date:   Mon Jan 11 14:00:32 2021 +0000

    build(deps): bump whoami from 1.0.1 to 1.0.3
    
    Bumps [whoami](https://github.com/libcala/whoami) from 1.0.1 to 1.0.3.
    - [Release notes](https://github.com/libcala/whoami/releases)
    - [Changelog](https://github.com/libcala/whoami/blob/main/CHANGELOG.md)
    - [Commits](https://github.com/libcala/whoami/commits)
    
    Signed-off-by: dependabot-preview[bot] <support@dependabot.com>

commit 38b5522552d0874e744594ede89372d706cbf585
Author: dependabot-preview[bot] <27856297+dependabot-preview[bot]@users.noreply.github.com>
Date:   Mon Jan 11 13:59:52 2021 +0000

    build(deps): bump futures from 0.3.8 to 0.3.9
    
    Bumps [futures](https://github.com/rust-lang/futures-rs) from 0.3.8 to 0.3.9.
    - [Release notes](https://github.com/rust-lang/futures-rs/releases)
    - [Changelog](https://github.com/rust-lang/futures-rs/blob/master/CHANGELOG.md)
    - [Commits](https://github.com/rust-lang/futures-rs/compare/0.3.8...0.3.9)
    
    Signed-off-by: dependabot-preview[bot] <support@dependabot.com>

commit 0a470ba7db03052bce66639e29d8ef8585aad640
Author: dependabot-preview[bot] <27856297+dependabot-preview[bot]@users.noreply.github.com>
Date:   Mon Jan 11 13:59:48 2021 +0000

    build(deps): bump anyhow from 1.0.37 to 1.0.38
    
    Bumps [anyhow](https://github.com/dtolnay/anyhow) from 1.0.37 to 1.0.38.
    - [Release notes](https://github.com/dtolnay/anyhow/releases)
    - [Commits](https://github.com/dtolnay/anyhow/compare/1.0.37...1.0.38)
    
    Signed-off-by: dependabot-preview[bot] <support@dependabot.com>

commit c228d05d07d7265969755d8e9d919a2777c707f7
Merge: e604e7f2e 57d206d85
Author: Nikhil Benesch <nikhil.benesch@gmail.com>
Date:   Mon Jan 11 08:57:29 2021 -0500

    Merge pull request #5253 from MaterializeInc/dependabot/cargo/uuid-0.8.2
    
    build(deps): bump uuid from 0.8.1 to 0.8.2

commit e604e7f2e54bb91f24fad24b2d634e33012a395f
Merge: 159deba83 c0619a473
Author: Nikhil Benesch <nikhil.benesch@gmail.com>
Date:   Mon Jan 11 08:57:09 2021 -0500

    Merge pull request #5251 from MaterializeInc/dependabot/cargo/regex-1.4.3
    
    build(deps): bump regex from 1.4.2 to 1.4.3

commit 159deba83a98299e151559089174f699394d0d8e
Merge: 6463cd3d1 7c43a2842
Author: Nikhil Benesch <nikhil.benesch@gmail.com>
Date:   Mon Jan 11 08:56:48 2021 -0500

    Merge pull request #5249 from MaterializeInc/dependabot/cargo/byteorder-1.4.2
    
    build(deps): bump byteorder from 1.3.4 to 1.4.2

commit 57d206d85f34dfd561d66f580f3a90f609877e42
Author: dependabot-preview[bot] <27856297+dependabot-preview[bot]@users.noreply.github.com>
Date:   Mon Jan 11 11:32:30 2021 +0000

    build(deps): bump uuid from 0.8.1 to 0.8.2
    
    Bumps [uuid](https://github.com/uuid-rs/uuid) from 0.8.1 to 0.8.2.
    - [Release notes](https://github.com/uuid-rs/uuid/releases)
    - [Commits](https://github.com/uuid-rs/uuid/compare/0.8.1...0.8.2)
    
    Signed-off-by: dependabot-preview[bot] <support@dependabot.com>

commit c0619a4739bc44cecb666a89f6bfec3fc4fa315f
Author: dependabot-preview[bot] <27856297+dependabot-preview[bot]@users.noreply.github.com>
Date:   Mon Jan 11 11:31:01 2021 +0000

    build(deps): bump regex from 1.4.2 to 1.4.3
    
    Bumps [regex](https://github.com/rust-lang/regex) from 1.4.2 to 1.4.3.
    - [Release notes](https://github.com/rust-lang/regex/releases)
    - [Changelog](https://github.com/rust-lang/regex/blob/master/CHANGELOG.md)
    - [Commits](https://github.com/rust-lang/regex/compare/1.4.2...1.4.3)
    
    Signed-off-by: dependabot-preview[bot] <support@dependabot.com>

commit 7c43a28429a2ec7578ed84895ca49862448aaeb6
Author: dependabot-preview[bot] <27856297+dependabot-preview[bot]@users.noreply.github.com>
Date:   Mon Jan 11 11:29:34 2021 +0000

    build(deps): bump byteorder from 1.3.4 to 1.4.2
    
    Bumps [byteorder](https://github.com/BurntSushi/byteorder) from 1.3.4 to 1.4.2.
    - [Release notes](https://github.com/BurntSushi/byteorder/releases)
    - [Changelog](https://github.com/BurntSushi/byteorder/blob/master/CHANGELOG.md)
    - [Commits](https://github.com/BurntSushi/byteorder/compare/1.3.4...1.4.2)
    
    Signed-off-by: dependabot-preview[bot] <support@dependabot.com>

commit cd19162655cce3944656e8809c551dff601654a3
Author: Nikhil Benesch <nikhil.benesch@gmail.com>
Date:   Sun Jan 10 23:53:16 2021 -0500

    pgwire: permit hangups in startup sequence
    
    Clients sometimes hang up during the pgwire startup sequence, e.g.,
    because they received an unacceptable response to an SslRequest. Don't
    log an "early eof" error message in this case, since this is considered
    a graceful termination in the pgwire protocol.
    
    pgx has this hang up behavior in its default configuration, as does psql
    in its "sslmode=require" configuration.
    
    This commit also adds traces to the pgwire startup flow to mirror the
    traces in the main pgwire flow.
    
    Fix #5246.

commit 6463cd3d16f1e79679f43a3715f7930168b50679
Merge: 046400515 025f543b4
Author: Nikhil Benesch <nikhil.benesch@gmail.com>
Date:   Sun Jan 10 15:40:54 2021 -0500

    Merge pull request #5245 from MaterializeInc/dependabot/cargo/sysinfo-0.15.7
    
    build(deps): bump sysinfo from 0.15.3 to 0.15.7

commit 0464005152dcfcd7292e72601011284a83d3c318
Merge: bc2a0130f 1787ace24
Author: Nikhil Benesch <nikhil.benesch@gmail.com>
Date:   Sun Jan 10 14:53:37 2021 -0500

    Merge pull request #5244 from MaterializeInc/benesch-patch-1
    
    build-info: fix typo in docstring

commit 025f543b43d24752124389bc0a7f3f1ccb3a96cf
Author: dependabot-preview[bot] <27856297+dependabot-preview[bot]@users.noreply.github.com>
Date:   Sun Jan 10 18:38:40 2021 +0000

    build(deps): bump sysinfo from 0.15.3 to 0.15.7
    
    Bumps [sysinfo](https://github.com/GuillaumeGomez/sysinfo) from 0.15.3 to 0.15.7.
    - [Release notes](https://github.com/GuillaumeGomez/sysinfo/releases)
    - [Commits](https://github.com/GuillaumeGomez/sysinfo/commits)
    
    Signed-off-by: dependabot-preview[bot] <support@dependabot.com>

commit 1787ace247fffd445ee17f10caf9e359704473d0
Author: Nikhil Benesch <nikhil.benesch@gmail.com>
Date:   Sun Jan 10 13:36:11 2021 -0500

    build-info: fix typo in docstring

commit bc2a0130ff47c6fcefb3f087f88423fad2eb7886
Merge: 866fec138 b30d0a586
Author: Nikhil Benesch <nikhil.benesch@gmail.com>
Date:   Sun Jan 10 13:35:35 2021 -0500

    Merge pull request #5240 from benesch/dep-bump
    
    deps: delicately bump many minor versions

commit 866fec138e0ce6aa38455d0f8b4f54af9b85f95d
Merge: 16ddfa6d0 d75994cf8
Author: Matt Jibson <matt.jibson@gmail.com>
Date:   Fri Jan 8 15:12:08 2021 -0700

    Merge pull request #5229 from mjibson/mjibson-patch-1
    
    doc: add version check items to checklist

commit d75994cf8d4aaf985152279dac6be08f6c2dd78e
Author: Matt Jibson <matt.jibson@gmail.com>
Date:   Wed Jan 6 14:15:02 2021 -0700

    doc: add version check items to checklist

commit b30d0a586b78e14c455d926a10bf311d5dc917d3
Author: Nikhil Benesch <nikhil.benesch@gmail.com>
Date:   Thu Jan 7 23:52:07 2021 -0500

    deps: delicately bump many minor versions
    
    Start hacking away at the big queue of duplicate dependencies caused by
    the Tokio v1.0 release.

commit 16ddfa6d03687906a7ff524af0e8724bef529fe6
Author: Brennan Vincent <brennan@materialize.io>
Date:   Fri Jan 8 10:37:04 2021 -0800

    Be robust to null values in print_archive.py (#5239)

commit a0218b1b551c00085a2db57a615369256f281ed6
Author: Brennan Vincent <brennan@materialize.io>
Date:   Fri Jan 8 08:50:02 2021 -0800

    Check postgres total_order field for Debezium dedupe (#5230)

commit 6116e8ed5153e1f28d301725146fc11936b96084
Merge: f401f1df8 9f8c40fb8
Author: Sean Loiselle <sean@materialize.io>
Date:   Thu Jan 7 23:57:31 2021 -0500

    Merge pull request #5225 from sploiselle/format-type
    
    sql: add format_type function

commit f401f1df8072b08a5f25a23ce00f2e0cd821c5c4
Merge: 9d57dab61 3f405080a
Author: Nikhil Benesch <nikhil.benesch@gmail.com>
Date:   Thu Jan 7 23:31:46 2021 -0500

    Merge pull request #5236 from benesch/repr-vendor-openssl
    
    ore: use vendored openssl

commit 9d57dab6148b2ef63fca16d549d58a3cd53821b0
Merge: a72873dd1 225a58f3f
Author: Sean Loiselle <sean@materialize.io>
Date:   Thu Jan 7 23:10:18 2021 -0500

    Merge pull request #5207 from sploiselle/custom-polymorphism-2
    
    sql: reference for other possible custom polymorphic resolution

commit 3f405080acafee4ac426c2ca5f2edb945a3ff923
Author: Nikhil Benesch <nikhil.benesch@gmail.com>
Date:   Thu Jan 7 21:27:11 2021 -0500

    ore: use vendored openssl
    
    The last commit (fa0e132) introduced a dependency on tokio_openssl in
    ore, which transitively introduces a dependency on openssl where it
    didn't exist before. So we need to enable the same "vendored" feature
    that we use elsewhere to build a bundled copy of openssl, rather than
    linking against the system copy.
    
    This only applies when running the unit tests in ore. When building the
    materialized binary, for example, openssl's "vendored" feature is
    enabled by the materialized crate's Cargo.toml.

commit a72873dd1f4894bfe687ceba9eda0828644ffe57
Merge: ea5a6f060 fa0e13275
Author: Nikhil Benesch <nikhil.benesch@gmail.com>
Date:   Thu Jan 7 19:36:02 2021 -0500

    Merge pull request #5235 from MaterializeInc/tail-closed
    
    pgwire: improve tail connection health check

commit fa0e13275e9484c5f7e1ca00bbb212150565527c
Author: Nikhil Benesch <nikhil.benesch@gmail.com>
Date:   Thu Jan 7 19:01:17 2021 -0500

    pgwire: improve tail connection health check
    
    Now that we're using Tokio v1.0, we can improve the check to detect
    closed connections in a TAIL operation. Rather than sending a
    NoticeResponse, which produces noise in psql, just check whether the
    socket has experienced a close event.

commit 225a58f3f83a67b14501596bc97b5ce9a0c109b7
Author: Sean Loiselle <sean@materialize.io>
Date:   Tue Jan 5 05:02:26 2021 -0500

    sql: refactor custom polymorphic resolution

commit ea5a6f0603875b752745838eb1228a90fc7e8476
Merge: 9b405acc0 0cad99627
Author: Nikhil Benesch <nikhil.benesch@gmail.com>
Date:   Thu Jan 7 17:52:44 2021 -0500

    Merge pull request #5233 from MaterializeInc/subselect-flake
    
    test: fix flaky subselect.slt

commit 9b405acc05e7fc00502bbee80944488597221b69
Author: Brennan Vincent <brennan@materialize.io>
Date:   Thu Jan 7 14:18:31 2021 -0800

    Fix spelling of "decodable" throughout the codebase (#5232)

commit 0cad996277f280c43dcdb40346632703d2c4ec1e
Author: Nikhil Benesch <nikhil.benesch@gmail.com>
Date:   Thu Jan 7 17:13:37 2021 -0500

    test: fix flaky subselect.slt
    
    The initial timestamp used for real-time sources recently changed
    in #5201. Change the SLT test that was relying on data being ingested
    at timestamp 1 to use the maximum timestamp instead.

commit 9f8c40fb8b77519bb2722ad00d1f1888486b5d05
Author: Sean Loiselle <sean@materialize.io>
Date:   Mon Jan 4 07:41:33 2021 -0500

    sql: add format_type function

commit 6edddf886ee78d677275420e538a8eb155a87da5
Author: Chris Golden <551285+cirego@users.noreply.github.com>
Date:   Thu Jan 7 10:48:28 2021 -0800

    Create script to print a CSV of statistics about topic archives (#5206)
    
    
    Kafka topic archives are the binary data read from Kafka, encoded using
    Apache arrow on disk. This script reads the binary data, decodes the
    Avro encoded messages within the binary messages and prints them to
    stdout.

commit bdf9e7c56cf9b8a062cc5fefca1a5b7869c87819
Author: Chris Golden <551285+cirego@users.noreply.github.com>
Date:   Thu Jan 7 09:44:08 2021 -0800

    Fail wait_for_view_states if view contents differ (#5200)
    
    
    Right now, if the view counts are wrong but the source is at the desired
    offset, we will never return. Instead, we should mark the view as
    "caught up" and exit, but also mark it as failed.

commit a374f3ac1d7794c64a4003a4cddf2f1b5855fe0e
Author: Chris Golden <551285+cirego@users.noreply.github.com>
Date:   Thu Jan 7 09:05:44 2021 -0800

    Add utility script to print records from an archive (#5203)
    
    
    Kafka topic archives are the binary data read from Kafka, encoded using
    Apache arrow on disk. This script reads the binary data, decodes the
    Avro encoded messages within the binary messages and prints them to
    stdout.

commit f9eab875f52c681be2b928f415283f1280dd3875
Merge: 07f631e34 48fbadcf7
Author: Nikhil Benesch <nikhil.benesch@gmail.com>
Date:   Thu Jan 7 11:52:40 2021 -0500

    Merge pull request #5226 from benesch/humanize-explain
    
    expr,sql: use postgres type names in EXPLAIN output, too

commit 48fbadcf7229e61d19d5111040924d2978dd08ab
Author: Nikhil Benesch <nikhil.benesch@gmail.com>
Date:   Thu Jan 7 01:35:57 2021 -0500

    expr,sql: use postgres type names in EXPLAIN output, too
    
    Build on the work of #5175 to use PostgreSQL names in EXPLAIN output,
    rather than internal Materialize names. This removes the last place
    where we systematically expose our internal type names to users.
    (Our internal type names may still leak via the errant hardcoded type
    name or fmt::Debug-formatted type, but we can pick those off as they
    come up.)

commit 07f631e34cd1346d94c16c417cbff69effa19d77
Merge: cfb11e999 4d6e6ec0a
Author: Nikhil Benesch <nikhil.benesch@gmail.com>
Date:   Thu Jan 7 09:54:30 2021 -0500

    Merge pull request #5221 from benesch/no-notify
    
    dataflow: swap notify for inotify crate

commit cfb11e9997eabc7a15ef014791c47e0dac3191b7
Merge: 987b864c2 4fccab967
Author: Nikhil Benesch <nikhil.benesch@gmail.com>
Date:   Thu Jan 7 02:28:44 2021 -0500

    Merge pull request #5224 from benesch/sql-stmt-split
    
    sql: split plan::statement module into bite-sized chunks

commit 4d6e6ec0a86b0718e34fdecb522d23fee59a58d7
Author: Nikhil Benesch <nikhil.benesch@gmail.com>
Date:   Wed Jan 6 13:04:40 2021 -0500

    dataflow: swap notify for inotify crate
    
    The notify crate is largely unmaintained, and trying to provide a
    consistent filesystem notification API across platforms is a fool's
    errand, in my opinion. We only particularly care about performance on
    Linux, so switch to using the inotify crate, which is well maintained.
    Other platforms now use the 100ms polling fallback that has been working
    well on macOS.
    
    This eliminates a number of long-standing duplicate dependencies
    associated with Mio v0.6/Tokio v0.2, most importantly the long-deprected
    net2 and socket crates.

commit 4fccab96742072fee0954972705737146ad1d359
Author: Nikhil Benesch <nikhil.benesch@gmail.com>
Date:   Wed Jan 6 18:33:27 2021 -0500

    sql: split plan::statement module into bite-sized chunks
    
    This module was one of the largest in the sql crate and very hard to
    follow as a result. Group the functions into thematic modules to make it
    more manageable.
    
    This commit is pure code movement, with the exception of some tweaks to
    where the portal code handling lives so that the statement module
    doesn't expose its innards to the pgwire crate.

commit 987b864c2560fc964ca0e1b90caeb191a1c41647
Merge: ed79537c0 dbac3386f
Author: Sean Loiselle <sean@materialize.io>
Date:   Wed Jan 6 22:40:24 2021 -0500

    Merge pull request #5175 from sploiselle/scalar-type-name-catalog
    
    sql: print ScalarType names using catalog only

commit dbac3386f0a0aead519ad0086629ad391f3e5745
Author: Sean Loiselle <sean@materialize.io>
Date:   Sun Jan 3 10:47:39 2021 -0500

    catalog: generate minimally qualified names on demand

commit ed79537c0969fb59b91123daa70a8d039ad17740
Merge: 61d2e1276 b95f1cd50
Author: Sean Loiselle <sean@materialize.io>
Date:   Wed Jan 6 21:37:57 2021 -0500

    Merge pull request #5132 from sploiselle/create-type-data-type
    
    sql: treat CREATE TYPE's options as data types

commit 7537641c7d7f1e59cd93450798890186f22f1d77
Author: Sean Loiselle <sean@materialize.io>
Date:   Thu Dec 24 11:56:06 2020 -0500

    sql: use PG type names in user-facing output

commit b95f1cd50f56adcb6752639e7e5c991cccbbc1e3
Author: Sean Loiselle <sean@materialize.io>
Date:   Tue Dec 22 10:04:12 2020 -0500

    sql: treat CREATE TYPE's options as data types

commit 61d2e1276f7f8da8f1ddf41d77cffa35059f477d
Merge: 8eafb424c f062ec1ed
Author: Justin Jaffray <justin.jaffray@gmail.com>
Date:   Wed Jan 6 18:37:08 2021 -0500

    Merge pull request #5222 from justinj/cte-scoping
    
    sql: fix some CTE scoping issues

commit f062ec1edb8e65ecbff014c4a99fbd8ebeb6a2d7
Author: Justin Jaffray <justin.jaffray@gmail.com>
Date:   Wed Jan 6 12:59:27 2021 -0500

    sql: fix some CTE scoping issues
    
    * Distinct WITH clauses should be able to re-use names for CTEs,
    * CTEs should not leak from the context they're defined in.

commit 8eafb424c3161256f5f60cfaeca29a21917d18e0
Merge: b90cbc6a3 926c01685
Author: Nikhil Benesch <nikhil.benesch@gmail.com>
Date:   Wed Jan 6 13:13:46 2021 -0500

    Merge pull request #5217 from benesch/tokio-10
    
    deps: upgrade to tokio v1.0

commit 926c01685db01f1b404a45e3300dc1b04c02c9b2
Author: Nikhil Benesch <nikhil.benesch@gmail.com>
Date:   Wed Jan 6 02:20:14 2021 -0500

    deps: upgrade to tokio v1.0
    
    At long last, Tokio v1.0 is here with a promise of five years of
    maintenance. This is a massive dependency bump, due to the depth of the
    crates that use the Tokio v1.0 ecosystem: essentially any of our
    dependencies that use Tokio must all be upgraded in one shot.

commit b90cbc6a3f868db29cfee18b19f97832c7cf17e5
Author: Brandon W Maister <bwm@materialize.io>
Date:   Wed Jan 6 11:05:16 2021 -0500

    Improve docs on DebeziumDeduplicationState (#5210)

commit 0d048ddb48b71bad86ba2926a993f69026eb64d0
Author: Chris Golden <551285+cirego@users.noreply.github.com>
Date:   Tue Jan 5 17:04:31 2021 -0800

    Fixup mzcompose WaitStep (#5216)
    
    
    The intended command is `docker ps`, but when
    34f31dcbde1e1894491259e38941c71634d669bd was committed, the command
    changed from `mzcompose_wait` to `spawn.runv`. This dropped the call to
    docker. Call `composition.run` to run the desired docker command.
    
    Fixes #5215

commit 0802353372f0d85b41bcfc85721923a034bf0c91
Author: Ruchir Khaitan <ruchir0001@gmail.com>
Date:   Mon Jan 4 17:51:55 2021 -0500

    doc/user: add docs for the new OPTION syntax

commit 90ec3fea9cf7efd7743024a9f4aa4254110476e4
Merge: 5fecd6a0f f79b56ce7
Author: Sean Loiselle <sean@materialize.io>
Date:   Tue Jan 5 16:35:19 2021 -0500

    Merge pull request #5212 from sploiselle/zero-len-variadic
    
    sql: more easily allow 0 argument variadic functions

commit f79b56ce7febe762c8fc730bedca8a544b3b787f
Author: Sean Loiselle <sean@materialize.io>
Date:   Tue Jan 5 15:48:27 2021 -0500

    sql: more easily allow 0 argument variadic functions

commit 5fecd6a0f418b1bc79cb9e6c74b64ebb09a1b37b
Author: Frank McSherry <fmcsherry@me.com>
Date:   Tue Jan 5 15:18:44 2021 -0500

    remove warning about invalid timestamps (#5087)

commit dd3f15857b3e7b57820eec138f8e4f900c7f7885
Merge: 368985329 a3dd872ba
Author: Nikhil Benesch <nikhil.benesch@gmail.com>
Date:   Tue Jan 5 15:17:36 2021 -0500

    Merge pull request #5209 from MaterializeInc/slt-workers
    
    sqllogictest: introduce --workers option

commit 36898532904e462e360b1439d2cab3f4372ae50e
Merge: f47d7c285 a93a2e77d
Author: Eli Lindsey <eli@siliconsprawl.com>
Date:   Tue Jan 5 14:05:17 2021 -0500

    Merge pull request #5201 from elindsey/downgrade
    
    downgrade capabilities before reading from a source

commit f47d7c285f7f9fec7f9f3e255781487cd521bbc5
Author: Brandon W Maister <bwm@materialize.io>
Date:   Tue Jan 5 13:10:39 2021 -0500

    Peeker also depends on chrono/clock (#5211)

commit a3dd872ba7ebc1911c95000e480cd731483b952c
Author: Nikhil Benesch <nikhil.benesch@gmail.com>
Date:   Tue Jan 5 11:50:30 2021 -0500

    sqllogictest: introduce --workers option
    
    Fix #5208.

commit 59cff43a31d969f0474b07977d67e1f4a59c5f52
Author: Brandon W Maister <bwm@materialize.io>
Date:   Tue Jan 5 09:30:34 2021 -0500

    file-sources: Only create a file reader if the source is active (#5196)
    
    Before this we were creating one file reader per materialized worker, which
    would read the entire file into memory, put it into a queue that was not
    getting read from.
    
    The queues were bounded to 10,000 records, so this was unlikely to cause an OOM
    but it is a bit unfortunate.

commit dd2e6846b290751283afb845d8f2f937b68d2ee7
Author: Brandon W Maister <bwm@materialize.io>
Date:   Tue Jan 5 09:30:15 2021 -0500

    mention the special `--log-file=stderr` value in `--help` (#5197)

commit 5e48ee428c4e959fa687433677bf8260b7cc1b94
Author: Brandon W Maister <bwm@materialize.io>
Date:   Tue Jan 5 09:29:41 2021 -0500

    Depend on the clock feature in chrono where we are depending on it (#5205)

commit 5594aeaba3671ac625aaec880e064170c664dc8a
Author: Jessica Laughlin <JLDLaughlin@users.noreply.github.com>
Date:   Mon Jan 4 18:27:13 2021 -0500

    catalog: add to pg_attribute implementation (#5199)
    
    - Adds source, view, index, and sink column information to
       pg_attribute via mz_objects
    - Joins with mz_types to get non-NULL OIDs for each column
    - Adds a hardcoded -1 atttypmod for each column

commit 5f10381ff585f41253cde19b147898dc4cb840e9
Merge: ccf9a1858 3586d0e67
Author: Sean Loiselle <sean@materialize.io>
Date:   Mon Jan 4 18:25:13 2021 -0500

    Merge pull request #5170 from sploiselle/custom-polymorphism
    
    sql: support custom types in polymorphic type resolution

commit f8609e3177b6f1508028ee109b23dc5ac930b752
Author: Ruchir Khaitan <ruchir0001@gmail.com>
Date:   Mon Jan 4 17:42:52 2021 -0500

    doc/user: refactor the select statement grammar to be simpler
    
    The railroad diagram generating website indicated that we didn't need to retype the inner
    body of the select statement for select all, distinct and distinct on. I further reorganized
    how the definition was displayed to make it easier to read. I regenerated the diagrams to
    make sure this change didn't cause any changes to the generated diagrams.

commit a93a2e77d61a276179fd5349433e46fa59f956fc
Author: Eli Lindsey <eli@siliconsprawl.com>
Date:   Mon Jan 4 17:26:03 2021 -0500

    downgrade capabilities before reading from a source
    
    Today we only downgrade capabilities after reading from a source and
    after timestamp_frequency_ms has passed. For BYO this doesn't affect
    anything, but for realtime this means that our initial portion of data
    will be timestamped as '1'.
    
    This can be particularly confusing if someone ingests a source that is
    no longer being updated and the entire ingest occurs within
    timestamp_frequency_ms - in that case mz_source_info will show timestamp
    1 in perpetuity (at least one customer has hit this). It is technically
      correct, 1 is the logical timestamp that we used and there are no
    functional problems from this behavior.  But it makes for confusing
    logging and it's not in the spirit of how realtime is supposed to work.
    
    To work around this we construct ConsistencyInfo such that it is
    initially stale and attempt to downgrade capabilities before reading
    from a source.

commit ccf9a185825f934f2a69729135194344a0575f0e
Merge: 220d3dff1 9f8b84014
Author: Micole Sudberg <micole.sudberg@gmail.com>
Date:   Mon Jan 4 17:19:50 2021 -0500

    Merge pull request #5133 from msudberg/4955
    
    4955: Added details for using SHA-256 and SHA-512 encryption with SASL.

commit 220d3dff154d1364eda10bf3cf8570099c2a4136
Author: Jessica Laughlin <JLDLaughlin@users.noreply.github.com>
Date:   Mon Jan 4 17:19:11 2021 -0500

    sql: add upper and lower string functions (#5192)
    
    upper(s: str) returns a string where s has been converted to
    uppercase.
    
    conversely, lower(s: str) returns a string where s has been
    converted to lowercase.

commit 9f8b8401478ae26cb057b5256e33eb18c8865c55
Author: Micole Sudberg <micole.sudberg@gmail.com>
Date:   Tue Dec 22 10:30:01 2020 -0500

    4955: Added details for using SHA-256 and SHA-512 encryption with SASL.

commit 3586d0e67d7eb7e432221bf8bcb1394fc2dbf272
Author: Sean Loiselle <sean@materialize.io>
Date:   Wed Dec 30 15:39:10 2020 -0500

    sql: support custom types in polymorphic type resolution

commit 208a096c0500700791c77fec4f0a7f709c98adc6
Merge: 2556bf11b 0e348a948
Author: Eli Lindsey <eli@siliconsprawl.com>
Date:   Mon Jan 4 17:16:01 2021 -0500

    Merge pull request #5195 from elindsey/btrees
    
    switch from a hashmap to a btreemap for option parsing

commit 2556bf11b0b85f11a6529854b11164d82337ab92
Merge: be59d0433 504a8b86d
Author: Nikhil Benesch <nikhil.benesch@gmail.com>
Date:   Mon Jan 4 15:43:30 2021 -0500

    Merge pull request #5193 from MaterializeInc/optionalize-timestamps
    
    sqllogictest: optionalize timestamp output

commit 0e348a948677f285b80afae9e795b3c47adcec5e
Author: Eli Lindsey <eli@siliconsprawl.com>
Date:   Mon Jan 4 15:41:21 2021 -0500

    switch from a hashmap to a btreemap for option parsing

commit 504a8b86d3465c0db978c7be998b3a854ca3b21a
Author: Nikhil Benesch <nikhil.benesch@gmail.com>
Date:   Mon Jan 4 15:23:59 2021 -0500

    sqllogictest: optionalize timestamp output
    
    The timestamp-prefixing of output added in c881378 makes the output
    harder to read on a standard-width terminal. Move that behavior behind a
    flag, --timestamps, so it is availble when necessary but not on by
    default.
    
    Also rework the timestamp-prefixing implementation so that it applies to
    multi-line output, e.g., errors or SQL statements that span multiple
    lines.

commit be59d04332303d7555e8458592e253e0ca307956
Merge: a5449dc74 290bf2d9f
Author: Eli Lindsey <eli@siliconsprawl.com>
Date:   Mon Jan 4 15:00:59 2021 -0500

    Merge pull request #5191 from elindsey/flakeyflake
    
    fix flaky sinks test

commit a5449dc74864c5a43808703f1c87772ce3f435a3
Merge: 187ec3385 b27150293
Author: Eli Lindsey <eli@siliconsprawl.com>
Date:   Mon Jan 4 14:59:16 2021 -0500

    Merge pull request #5166 from elindsey/refactor
    
    refactor kafka sink into a state machine

commit b271502932817efbd47e22428f823e8c55774024
Author: Eli Lindsey <eli@siliconsprawl.com>
Date:   Mon Jan 4 11:52:54 2021 -0500

    add comments to kafka sink state machine

commit a2d13d32421a45b3925d35ea8f62f164e7970192
Author: Eli Lindsey <eli@siliconsprawl.com>
Date:   Wed Nov 18 16:58:03 2020 -0500

    refactor kafka sink into a state machine
    
    Simplification plus groundwork for transactional writes.

commit 290bf2d9f5fd4813e3bbb590a0650cc7c503d65e
Author: Eli Lindsey <eli@siliconsprawl.com>
Date:   Mon Jan 4 14:26:51 2021 -0500

    fix flaky sinks test

commit 187ec3385c0f88b748daa5aedd97762ba59f4ed2
Merge: 1971898ce 09cfdf4ac
Author: Eli Lindsey <eli@siliconsprawl.com>
Date:   Mon Jan 4 13:50:38 2021 -0500

    Merge pull request #5190 from elindsey/relnotes2
    
    move release note to the correct version

commit 09cfdf4ac1d91a195800f5498910b83f165af33a
Author: Eli Lindsey <eli@siliconsprawl.com>
Date:   Mon Jan 4 13:44:10 2021 -0500

    move release note to the correct version

commit 1971898ce9d45a63387be73df6189e521a813bf2
Merge: 96a9f31c4 5fee17171
Author: Eli Lindsey <eli@siliconsprawl.com>
Date:   Mon Jan 4 13:28:41 2021 -0500

    Merge pull request #5189 from elindsey/relnotes
    
    add note about potential backwards incompatibility in create source/s…

commit 96a9f31c4224d17f874a1d2f4f613a4f264ae671
Author: Frank McSherry <fmcsherry@me.com>
Date:   Mon Jan 4 13:25:31 2021 -0500

    Mark Row::new() as unsafe (#5173)
    
    * mark Row::new() as unsafe
    
    * clippy filth
    
    * rebase on main

commit 5fee1717160dc7f7b4fc16701943f4d59cc036bf
Author: Eli Lindsey <eli@siliconsprawl.com>
Date:   Mon Jan 4 13:11:01 2021 -0500

    add note about potential backwards incompatibility in create source/sink WITH clause validation

commit 4fab8d6b9edd702e237eb2eb84fc1001bc5a6d0e
Author: Frank McSherry <fmcsherry@me.com>
Date:   Mon Jan 4 11:57:24 2021 -0500

    Prefer `Row::pack_slice()` (#5172)
    
    * Prefer Row::pack_slice to Row::pack
    
    * clean up generic arguments, a few other spots
    
    * improve pack_slice to avoid allocation

commit 011ee56cf4e006df95eab478d2a0ced89fcb8d30
Merge: 57b32985f 244991f09
Author: Sean Loiselle <sean@materialize.io>
Date:   Mon Jan 4 11:56:05 2021 -0500

    Merge pull request #5186 from sploiselle/pg-subselect-tests
    
    sql: enable more PG subselect tests

commit 57b32985fa88487bd73f26fb196ee1359cf9af05
Merge: 65cd7aaa4 089b2f747
Author: Nikhil Benesch <nikhil.benesch@gmail.com>
Date:   Mon Jan 4 11:29:10 2021 -0500

    Merge pull request #5178 from MaterializeInc/dependabot/cargo/differential-dataflow-0c30c93
    
    build(deps): bump differential-dataflow from `4a4f601` to `0c30c93`

commit 65cd7aaa4b75ed987015134e5941b140700a3c61
Merge: 070794b0b 24c6385e6
Author: Nikhil Benesch <nikhil.benesch@gmail.com>
Date:   Mon Jan 4 11:28:11 2021 -0500

    Merge pull request #5183 from MaterializeInc/dependabot/cargo/anyhow-1.0.37
    
    build(deps): bump anyhow from 1.0.34 to 1.0.37

commit 070794b0b4153a632bfb09c3bd3797852ad3d924
Merge: 6d27a9150 cb812897c
Author: Nikhil Benesch <nikhil.benesch@gmail.com>
Date:   Mon Jan 4 11:26:40 2021 -0500

    Merge pull request #5180 from MaterializeInc/dependabot/cargo/predicates-1.0.6
    
    build(deps): bump predicates from 1.0.5 to 1.0.6

commit 6d27a915063fc29cd0f95c4f7e3d76dd0936a9a1
Merge: 97d988624 064b3df00
Author: Nikhil Benesch <nikhil.benesch@gmail.com>
Date:   Mon Jan 4 11:24:33 2021 -0500

    Merge pull request #5182 from MaterializeInc/dependabot/cargo/pprof-0.4.0
    
    build(deps): bump pprof from 0.3.20 to 0.4.0

commit 97d9886246ee85bc3e67456996949aa9ad5bfd69
Merge: b3c10bd50 e9fd94c7e
Author: Nikhil Benesch <nikhil.benesch@gmail.com>
Date:   Mon Jan 4 11:23:30 2021 -0500

    Merge pull request #5185 from MaterializeInc/dependabot/cargo/native-tls-0.2.7
    
    build(deps): bump native-tls from 0.2.6 to 0.2.7

commit 244991f09c4f040a48073f19a07399f4040eaf2d
Author: Sean Loiselle <sean@materialize.io>
Date:   Mon Jan 4 06:39:23 2021 -0500

    sql: enable more PG subselect tests

commit e9fd94c7ef23ffc3ef052abf5ba16c6bb24074b2
Author: dependabot-preview[bot] <27856297+dependabot-preview[bot]@users.noreply.github.com>
Date:   Mon Jan 4 10:43:33 2021 +0000

    build(deps): bump native-tls from 0.2.6 to 0.2.7
    
    Bumps [native-tls](https://github.com/sfackler/rust-native-tls) from 0.2.6 to 0.2.7.
    - [Release notes](https://github.com/sfackler/rust-native-tls/releases)
    - [Changelog](https://github.com/sfackler/rust-native-tls/blob/master/CHANGELOG.md)
    - [Commits](https://github.com/sfackler/rust-native-tls/compare/v0.2.6...v0.2.7)
    
    Signed-off-by: dependabot-preview[bot] <support@dependabot.com>

commit 24c6385e64929bd34759a3ec8ee52c79f6ed2370
Author: dependabot-preview[bot] <27856297+dependabot-preview[bot]@users.noreply.github.com>
Date:   Mon Jan 4 10:42:18 2021 +0000

    build(deps): bump anyhow from 1.0.34 to 1.0.37
    
    Bumps [anyhow](https://github.com/dtolnay/anyhow) from 1.0.34 to 1.0.37.
    - [Release notes](https://github.com/dtolnay/anyhow/releases)
    - [Commits](https://github.com/dtolnay/anyhow/compare/1.0.34...1.0.37)
    
    Signed-off-by: dependabot-preview[bot] <support@dependabot.com>

commit 064b3df0013d4aafc77be680ccb33f60dca48886
Author: dependabot-preview[bot] <27856297+dependabot-preview[bot]@users.noreply.github.com>
Date:   Mon Jan 4 10:41:33 2021 +0000

    build(deps): bump pprof from 0.3.20 to 0.4.0
    
    Bumps [pprof](https://github.com/tikv/pprof-rs) from 0.3.20 to 0.4.0.
    - [Release notes](https://github.com/tikv/pprof-rs/releases)
    - [Commits](https://github.com/tikv/pprof-rs/compare/v0.3.20...v0.4.0)
    
    Signed-off-by: dependabot-preview[bot] <support@dependabot.com>

commit cb812897ce4901f4083b1d2f3951dc8bb15f86c9
Author: dependabot-preview[bot] <27856297+dependabot-preview[bot]@users.noreply.github.com>
Date:   Mon Jan 4 10:39:20 2021 +0000

    build(deps): bump predicates from 1.0.5 to 1.0.6
    
    Bumps [predicates](https://github.com/assert-rs/predicates-rs) from 1.0.5 to 1.0.6.
    - [Release notes](https://github.com/assert-rs/predicates-rs/releases)
    - [Changelog](https://github.com/assert-rs/predicates-rs/blob/master/CHANGELOG.md)
    - [Commits](https://github.com/assert-rs/predicates-rs/compare/v1.0.5...v1.0.6)
    
    Signed-off-by: dependabot-preview[bot] <support@dependabot.com>

commit 089b2f74714f413f8dce377fd1220d898635f6d4
Author: dependabot-preview[bot] <27856297+dependabot-preview[bot]@users.noreply.github.com>
Date:   Mon Jan 4 10:38:23 2021 +0000

    build(deps): bump differential-dataflow from `4a4f601` to `0c30c93`
    
    Bumps [differential-dataflow](https://github.com/TimelyDataflow/differential-dataflow) from `4a4f601` to `0c30c93`.
    - [Release notes](https://github.com/TimelyDataflow/differential-dataflow/releases)
    - [Commits](https://github.com/TimelyDataflow/differential-dataflow/compare/4a4f601d455fe1d391b0a09d6600f526bef731a9...0c30c936afa2fab2b7b4caa4f34663da985f0ff2)
    
    Signed-off-by: dependabot-preview[bot] <support@dependabot.com>

commit b3c10bd50e4257e276f56e61626f572a1e2cb4b9
Author: Frank McSherry <fmcsherry@me.com>
Date:   Sat Jan 2 13:15:50 2021 -0500

    Correct test_datum_sizes, and datum_sizes (#5171)

commit 8df4ac4a9e9f410b52fccb7c0f24be00c7cc6f47
Merge: 737e5504a bd0be9961
Author: Sean Loiselle <sean@materialize.io>
Date:   Thu Dec 31 16:10:38 2020 -0500

    Merge pull request #5168 from sploiselle/custom-type-cast-btwn
    
    sql: allow casts between custom types

commit bd0be9961397d36231198f85b942af021bbdec65
Author: Sean Loiselle <sean@materialize.io>
Date:   Wed Dec 30 15:38:13 2020 -0500

    sql: allow casts between custom types

commit 737e5504afcfe1d174b5d40f7ee49e53f1925313
Merge: 0096aacf4 a3f3c97c7
Author: Sean Loiselle <sean@materialize.io>
Date:   Thu Dec 31 14:10:30 2020 -0500

    Merge pull request #5142 from sploiselle/create-type-validation
    
    sql: improve CREATE TYPE option validation

commit a3f3c97c7f30b2488f3337356fd17d77bef5f9c8
Author: Sean Loiselle <sean@materialize.io>
Date:   Tue Dec 22 19:46:25 2020 -0500

    sql: improve CREATE TYPE option validation

commit 0096aacf4cf3c3f84aecb829addb334988bc8863
Merge: f160002cf a458f0f6b
Author: Sean Loiselle <sean@materialize.io>
Date:   Thu Dec 31 12:55:44 2020 -0500

    Merge pull request #5167 from sploiselle/custom-scalar-types-wo-casts
    
    sql: resolve custom types to scalar types

commit a458f0f6bc83391fa7d5d93767f27c1924c950a5
Author: Sean Loiselle <sean@materialize.io>
Date:   Tue Dec 22 20:17:23 2020 -0500

    sql: resolve custom types to ScalarTypes

commit f160002cf049ec523b04b1fb20a3cd4da80231ff
Merge: 92216d170 a96cfbc73
Author: Sean Loiselle <sean@materialize.io>
Date:   Wed Dec 30 15:09:57 2020 -0500

    Merge pull request #4786 from sploiselle/helpful
    
    docs: GA feedback buttons

commit a96cfbc73ce984e7ff4a032264926f29272fed53
Author: Sean Loiselle <sean@materialize.io>
Date:   Fri Nov 13 15:58:49 2020 -0500

    docs: show feedback response

commit 18242670ff5b5f4a4ea11744da01bd9075cf0633
Author: Sean Loiselle <sean@materialize.io>
Date:   Fri Nov 13 13:44:36 2020 -0500

    docs: GA feedback buttons

commit 891fc71bb2e0e8918dfd940064bc4756bc39c16d
Author: Sean Loiselle <sean@materialize.io>
Date:   Thu Dec 17 06:05:20 2020 -0500

    sql: add custom_oid to create-able ScalarTypes

commit 92216d1707c9f43d3f22cf67f2b69e4073d4968c
Merge: fcd7ed341 649c08796
Author: Sean Loiselle <sean@materialize.io>
Date:   Wed Dec 30 12:36:10 2020 -0500

    Merge pull request #5147 from sploiselle/numeric-list-implicit-casts
    
    sql: support polymorphic functions with decimal elements

commit 649c08796f0eca4df8100fc3411a445113f226d0
Author: Sean Loiselle <sean@materialize.io>
Date:   Wed Dec 23 14:38:21 2020 -0500

    sql: support polymorphic functions with decimal elements

commit fcd7ed341f93ddcb80d620b09dae2b9482f96cb3
Merge: ee3115cdd c05c8357b
Author: Nikhil Benesch <nikhil.benesch@gmail.com>
Date:   Wed Dec 30 10:43:11 2020 -0500

    Merge pull request #5165 from benesch/stable-slack
    
    www: add a /s/chat shortlink for Slack invitation URL

commit c05c8357b7e30f9eca7a691ace1a0ccf8faad929
Author: Nikhil Benesch <nikhil.benesch@gmail.com>
Date:   Wed Dec 30 10:39:48 2020 -0500

    www: add a /s/chat shortlink for Slack invitation URL
    
    The Slack invitation URL expires every 30 days. Add a stable shortlink
    for it so there is only one place to update every month.

commit ee3115cdd0b855516bf9b45faf1e514c57b02c41
Merge: 448acee2a 1a23271b3
Author: Nikhil Benesch <nikhil.benesch@gmail.com>
Date:   Tue Dec 29 17:47:06 2020 -0500

    Merge pull request #5164 from benesch/manifmt
    
    *: format manifests with cargo-manifmt

commit 1a23271b31610585d6a2a64eee93cb55a4f5aef8
Author: Nikhil Benesch <nikhil.benesch@gmail.com>
Date:   Tue Dec 29 16:14:27 2020 -0500

    *: format manifests with cargo-manifmt
    
    Keeping manifests consistenly sorted reduces future diff noise, and
    reduces confusion about equivalent constructs, like "serde = 1" vs
    "serde = 1.0.0".

commit 448acee2a1d6d2117d24af7d761ea454cad0d273
Merge: 6acbf7bc4 c8813781b
Author: Brandon W Maister <bwm@materialize.io>
Date:   Tue Dec 29 13:22:29 2020 -0500

    Merge pull request #5162 from quodlibetor/slt-logs
    
    Configure SLTs to emit console logs and add timestamps at header boundaries

commit c8813781ba396834e9e719b00b73e9adb549685a
Author: Brandon W Maister <bwm@materialize.io>
Date:   Tue Dec 29 12:45:17 2020 -0500

    slt: print timestamps as part of file headers and outputs

commit 012fd20ce87268c09c9b8337f64e8f00088ffe11
Author: Brandon W Maister <bwm@materialize.io>
Date:   Mon Dec 28 15:33:35 2020 -0500

    Configure SLTs to emit console logs
    
    Defaulting to WARN and ERROR logs.

commit 6acbf7bc4a2510ae6ffb67570bb1bf67a133f366
Merge: 0982a7f15 4fffdefc8
Author: Sean Loiselle <sean@materialize.io>
Date:   Tue Dec 29 12:28:23 2020 -0500

    Merge pull request #5161 from sploiselle/type-name-migration-fix
    
    sql: refactor type name resolution migration

commit 4fffdefc8795f4de19bfccca92ebfb6e60b9c542
Author: Nikhil Benesch <nikhil.benesch@gmail.com>
Date:   Tue Dec 29 01:18:53 2020 -0500

    catalog-compat: test multiple golden versions
    
    Testing with multiple "golden" catalog versions makes it possible to
    test migration of features added in newer Materialize versions, like
    tables.
    
    In service of this goal, teach testdrive the "--no-reset" option, which
    avoids resetting Materialize state at the beginning of the testdrive
    script. This makes using testdrive in the catalog-compat script much
    simpler.

commit f9db29c6b53615d386f197d1196f79161690da2b
Author: Sean Loiselle <sean@materialize.io>
Date:   Mon Dec 28 14:31:26 2020 -0500

    sql: refactor type name resolution migration

commit 0982a7f159784244a17ed932aa105df8bc68082e
Merge: ffec2d88f f42218f93
Author: Brandon W Maister <bwm@materialize.io>
Date:   Mon Dec 28 13:51:10 2020 -0500

    Merge pull request #5130 from zRedShift/timezone
    
    sql: add timezone()/AT TIME ZONE, implement named time zones with chrono-tz

commit f42218f93ecdb5085182aefc9f96d2f5fd48b55e
Author: Ronen Ulanovsky <ronen.ulanovsky.5@gmail.com>
Date:   Wed Dec 23 21:56:29 2020 +0200

    sql: fix sql-parser code duplication

commit 11bc5367c246f3cde46343a2bf1a027ee2b938da
Author: Ronen Ulanovsky <ronen.ulanovsky.5@gmail.com>
Date:   Wed Dec 23 05:17:58 2020 +0200

    sql: bring ambiguous timezone handling inline with pg, add documentation

commit fe3bfc7e31ffd55d741748542ef5c2803dfde180
Author: Ronen Ulanovsky <ronen.ulanovsky.5@gmail.com>
Date:   Tue Dec 22 13:27:08 2020 +0200

    sql: fix sqllogictest error message

commit ea8de425c7accb47a30e37a850ea23c1b401cabb
Author: Ronen Ulanovsky <ronen.ulanovsky.5@gmail.com>
Date:   Tue Dec 22 03:36:00 2020 +0200

    sql: forbid invalid timezones during parsing, add timezone tests

commit 758dbd0a80a503c7db0dd2124629447dd1463bde
Author: Ronen Ulanovsky <ronen.ulanovsky.5@gmail.com>
Date:   Tue Dec 22 01:33:49 2020 +0200

    sql: timezone literal unary function optimization

commit 03f2ee6c7ee73125d8d1a45687e54b0394d6cc0b
Author: Ronen Ulanovsky <ronen.ulanovsky.5@gmail.com>
Date:   Tue Dec 22 00:48:06 2020 +0200

    sql: make timezone serializable

commit 3e2d9b939a17970819aa7f489b0daa56d88ff6ce
Author: Ronen Ulanovsky <ronen.ulanovsky.5@gmail.com>
Date:   Tue Dec 22 00:17:46 2020 +0200

    sql: implement named time zones

commit 6c966da2a77d7889ca5ce0e32798ec6a85a0c41e
Author: Ronen Ulanovsky <ronen.ulanovsky.5@gmail.com>
Date:   Mon Dec 21 21:15:05 2020 +0200

    sql: X 'AT TIME ZONE' Y => timezone(Y, X)

commit 4a475cbc0501f7893d52ad9320dd33aed737d244
Author: Ronen Ulanovsky <ronen.ulanovsky.5@gmail.com>
Date:   Mon Dec 21 20:04:20 2020 +0200

    sql: add timezone() function

commit ffec2d88f9fbf15fd9f7eadc81a23fab15d39d77
Merge: 3af69fa48 8bf87bd51
Author: Nikhil Benesch <nikhil.benesch@gmail.com>
Date:   Mon Dec 28 09:12:48 2020 -0500

    Merge pull request #5152 from MaterializeInc/dependabot/cargo/dogsdogsdogs-4a4f601
    
    build(deps): bump dogsdogsdogs from `f155b90` to `4a4f601`

commit 3af69fa482c5c25cd408b5e6975c9e71f8d37bc0
Merge: 94796765e fbc4aa9a9
Author: Nikhil Benesch <nikhil.benesch@gmail.com>
Date:   Mon Dec 28 09:12:27 2020 -0500

    Merge pull request #5155 from MaterializeInc/dependabot/cargo/openssl-0.10.32
    
    build(deps): bump openssl from 0.10.31 to 0.10.32

commit 94796765e2ca825bd16d573ea1ece628a5448e42
Merge: 3a2287220 45f20f008
Author: Nikhil Benesch <nikhil.benesch@gmail.com>
Date:   Mon Dec 28 09:11:44 2020 -0500

    Merge pull request #5156 from MaterializeInc/dependabot/cargo/backtrace-0.3.55
    
    build(deps): bump backtrace from 0.3.54 to 0.3.55

commit 3a2287220a8a492d41173ea70b54ec23b234f57d
Merge: 4242c6e71 d1ad0672d
Author: Nikhil Benesch <nikhil.benesch@gmail.com>
Date:   Mon Dec 28 09:00:40 2020 -0500

    Merge pull request #5150 from MaterializeInc/dependabot/cargo/toml-0.5.8
    
    build(deps): bump toml from 0.5.7 to 0.5.8

commit 45f20f0086660845a200b81889cb353643c3064e
Author: dependabot-preview[bot] <27856297+dependabot-preview[bot]@users.noreply.github.com>
Date:   Mon Dec 28 10:33:33 2020 +0000

    build(deps): bump backtrace from 0.3.54 to 0.3.55
    
    Bumps [backtrace](https://github.com/rust-lang/backtrace-rs) from 0.3.54 to 0.3.55.
    - [Release notes](https://github.com/rust-lang/backtrace-rs/releases)
    - [Commits](https://github.com/rust-lang/backtrace-rs/compare/0.3.54...0.3.55)
    
    Signed-off-by: dependabot-preview[bot] <support@dependabot.com>

commit fbc4aa9a96f9ee8427dc72afa938345585aee0f2
Author: dependabot-preview[bot] <27856297+dependabot-preview[bot]@users.noreply.github.com>
Date:   Mon Dec 28 10:32:59 2020 +0000

    build(deps): bump openssl from 0.10.31 to 0.10.32
    
    Bumps [openssl](https://github.com/sfackler/rust-openssl) from 0.10.31 to 0.10.32.
    - [Release notes](https://github.com/sfackler/rust-openssl/releases)
    - [Commits](https://github.com/sfackler/rust-openssl/compare/openssl-v0.10.31...openssl-v0.10.32)
    
    Signed-off-by: dependabot-preview[bot] <support@dependabot.com>

commit 8bf87bd51165ab2c4f234e76c40b587c62ea3f93
Author: dependabot-preview[bot] <27856297+dependabot-preview[bot]@users.noreply.github.com>
Date:   Mon Dec 28 10:31:32 2020 +0000

    build(deps): bump dogsdogsdogs from `f155b90` to `4a4f601`
    
    Bumps [dogsdogsdogs](https://github.com/TimelyDataflow/differential-dataflow) from `f155b90` to `4a4f601`.
    - [Release notes](https://github.com/TimelyDataflow/differential-dataflow/releases)
    - [Commits](https://github.com/TimelyDataflow/differential-dataflow/compare/f155b9082ce3e216d1a69568f829f7843cb6a9ac...4a4f601d455fe1d391b0a09d6600f526bef731a9)
    
    Signed-off-by: dependabot-preview[bot] <support@dependabot.com>

commit d1ad0672d903726037598b9afadf0099ca78deef
Author: dependabot-preview[bot] <27856297+dependabot-preview[bot]@users.noreply.github.com>
Date:   Mon Dec 28 10:30:28 2020 +0000

    build(deps): bump toml from 0.5.7 to 0.5.8
    
    Bumps [toml](https://github.com/alexcrichton/toml-rs) from 0.5.7 to 0.5.8.
    - [Release notes](https://github.com/alexcrichton/toml-rs/releases)
    - [Commits](https://github.com/alexcrichton/toml-rs/compare/0.5.7...0.5.8)
    
    Signed-off-by: dependabot-preview[bot] <support@dependabot.com>

commit 4242c6e71c0f8e42456aded9971e3b76be8ff42b
Author: Chris Golden <551285+cirego@users.noreply.github.com>
Date:   Wed Dec 23 14:58:14 2020 -0800

    Enable running chbench scripts from any directory (#5146)
    
    
    While this script is capable of finding the mzcompose script in the
    demo/chbench directory, it would fail if run from another directory
    because mzcompose could not find mzcompose.yml. cd into the chbench
    directory so that mzcompose can find mzcompose.yml.

commit 62fe4f4b89d71a11cadeb49c558971353f5f6659
Author: Chris Golden <551285+cirego@users.noreply.github.com>
Date:   Tue Dec 22 22:16:07 2020 -0800

    Default to /tmp when $HOME is unset (#5143)
    
    
    This is failing when called from our cloud ingest benchmarks because
    $HOME is not set.

commit b18d503947aa6458faf912ae7072ad5d33eea31c
Merge: 45082e7a9 981692c03
Author: Eli Lindsey <eli@siliconsprawl.com>
Date:   Tue Dec 22 17:26:14 2020 -0500

    Merge pull request #5135 from elindsey/badwithopt
    
    fail on attempts to create sources/sinks with bad WITH options

commit 981692c03b6d0834d8f5506ba7b869a3968782a4
Author: Eli Lindsey <eli@siliconsprawl.com>
Date:   Tue Dec 22 12:17:52 2020 -0500

    fail on attempts to create sources/sinks with bad WITH options

commit 45082e7a94a853f496b29b7d22908bde0c81385b
Merge: 39f0ce4ba 989fde017
Author: Eli Lindsey <eli@siliconsprawl.com>
Date:   Tue Dec 22 16:50:40 2020 -0500

    Merge pull request #5140 from elindsey/flakytest
    
    fix flakiness in test_tail_fetch_timeout

commit 989fde01764f7cc0cff2b46a8a04d354080f265e
Author: Eli Lindsey <eli@siliconsprawl.com>
Date:   Tue Dec 22 15:49:49 2020 -0500

    fix flakiness in test_tail_fetch_timeout

commit 39f0ce4babb05b233344eca48e8f1ac4401b75c2
Merge: 2cbefccfa 63bcfeaf8
Author: Nikhil Benesch <nikhil.benesch@gmail.com>
Date:   Tue Dec 22 15:00:14 2020 -0500

    Merge pull request #5139 from benesch/parser-precedence
    
    sql-parser: support AT TIME ZONE operator

commit 2cbefccfa68726d9c7d4ff205da1ffa44d5697e6
Merge: 4e07d820b 113ed0d96
Author: Eli Lindsey <eli@siliconsprawl.com>
Date:   Tue Dec 22 14:26:21 2020 -0500

    Merge pull request #5138 from elindsey/clockskew
    
    fix missing spaces in a few log messages

commit 4e07d820b8aa7266e04d11fef9eb13055367f5be
Merge: 9d215ff6d 1c80c0676
Author: Nikhil Benesch <nikhil.benesch@gmail.com>
Date:   Tue Dec 22 14:09:03 2020 -0500

    Merge pull request #5131 from benesch/dep-bump
    
    deps: upgrade to Materialize fork of Rusoto

commit 63bcfeaf8ad4890d37e6d0b5276668e310e26736
Author: Nikhil Benesch <nikhil.benesch@gmail.com>
Date:   Tue Dec 22 13:56:42 2020 -0500

    sql-parser: support AT TIME ZONE operator
    
    Also take the opportunity to clean up our precedence enum. No need to
    have separate precedences for adjacent unary prefix operators or
    adjacent unary postfix operators, since they cannot be ambiguous with
    one another.
    
    Co-authored-by: Ronen Ulanovsky <ronen.ulanovsky.5@gmail.com>

commit 113ed0d96e68f3141a06a7b89128350abb692a0d
Author: Eli Lindsey <eli@siliconsprawl.com>
Date:   Tue Dec 22 13:58:14 2020 -0500

    fix missing spaces in a few log messages

commit 1c80c0676c6e47b952bc277e1e4744a57bb9ee25
Author: Nikhil Benesch <nikhil.benesch@gmail.com>
Date:   Mon Dec 21 23:21:02 2020 -0500

    deps: upgrade to Materialize fork of Rusoto
    
    Rusoto has been unmaintained for several months. Upgrade to a new
    Materialize fork of Rusoto (crates are prefixed with "mz_") to get
    dependency bumps.

commit 9d215ff6d6b86abd10f7d3879e485ec162517ab3
Merge: 5458bcd9c 8fe03bb90
Author: Nikhil Benesch <nikhil.benesch@gmail.com>
Date:   Tue Dec 22 13:18:44 2020 -0500

    Merge pull request #5136 from anishkny/patch-1
    
    doc/user: Fix minor grammar

commit 8fe03bb90eb96b1669963b2393b1c747471bf95f
Author: Anish Karandikar <anishkny@gmail.com>
Date:   Tue Dec 22 10:11:49 2020 -0800

    doc/user: Fix minor grammar

commit 5458bcd9c48dab12dc3bda3af64f83273bba4527
Merge: 1bee74bc8 010a0b586
Author: Sean Loiselle <sean@materialize.io>
Date:   Tue Dec 22 00:44:49 2020 -0500

    Merge pull request #5122 from sploiselle/type-name-resolution-only
    
    Resolve type names to catalog

commit 010a0b586594c645b809ca57275488b15ca07d9a
Author: Sean Loiselle <sean@materialize.io>
Date:   Wed Dec 16 14:11:53 2020 -0500

    parser: add convience function for &str to ObjectName

commit c49e3e83af0f3997607b85f1a06218466cc06969
Author: Sean Loiselle <sean@materialize.io>
Date:   Thu Dec 10 20:37:13 2020 -0500

    catalog: reserialize and rewrite catalog items for type resolution
    
    Previous commits resolve type names to catalog items, which we now
    want to persist in the catalog. This commit achieves that by
    reserializing items all items in the catalog, and then overwriting
    the old version without qualified type names with the new version
    with them.

commit c28c07fd61e77d81a77cafd41258300b6684324e
Author: Sean Loiselle <sean@materialize.io>
Date:   Thu Dec 10 16:13:20 2020 -0500

    catalog: prepare catalog item migration infrastructure

commit 5bd16e4d97478783dc04ecc5db176fe8719de05e
Author: Sean Loiselle <sean@materialize.io>
Date:   Sun Dec 13 14:21:09 2020 -0500

    sql: reslove type names to catalog

commit 1bee74bc82dac314f11b937eeb5d36a4ae0c5e1d
Merge: f9fb430b3 d7ec19d26
Author: Nikhil Benesch <nikhil.benesch@gmail.com>
Date:   Mon Dec 21 23:32:18 2020 -0500

    Merge pull request #5118 from MaterializeInc/dependabot/cargo/rand-0.8.0
    
    build(deps): bump rand from 0.7.3 to 0.8.0

commit f9fb430b3340fd995d0e50529fd9c046d5e3b569
Merge: f9b9b81dd 716bd08a5
Author: Brandon W Maister <bwm@materialize.io>
Date:   Mon Dec 21 14:16:18 2020 -0500

    Merge pull request #5126 from quodlibetor/mkrelease-update-doc-config
    
    mkrelease: Update user doc config as part of final tagging

commit f9b9b81dda045e762e8a2fa159b71d5fb2bfb583
Author: Chris Golden <551285+cirego@users.noreply.github.com>
Date:   Mon Dec 21 10:56:49 2020 -0800

    Add script to download chbench snapshots from S3 (#5084)
    
    
    Document how to use this script, as well as basic documentation about
    chbench in general.
    
    Use MZ_CHBENCH_SNAPSHOT instead of MZ_TOPIC_SNAPSHOTS.
    
    In both cases, this is a single directory with a bunch of files,
    including and not limited to topic snapshots.
    
    Also, treat the snapshot directory and snapshot id variables the same,
    no matter which script is using them. This means that we need to
    specify the snapshot ID when running snapshot bench.
    
    Rename data-directory to snapshot-directory.

commit d7ec19d26662127f60e28f434982e556dab723ba
Author: dependabot-preview[bot] <27856297+dependabot-preview[bot]@users.noreply.github.com>
Date:   Mon Dec 21 11:08:52 2020 +0000

    build(deps): bump rand from 0.7.3 to 0.8.0
    
    Bumps [rand](https://github.com/rust-random/rand) from 0.7.3 to 0.8.0.
    - [Release notes](https://github.com/rust-random/rand/releases)
    - [Changelog](https://github.com/rust-random/rand/blob/master/CHANGELOG.md)
    - [Commits](https://github.com/rust-random/rand/compare/0.7.3...0.8.0)
    
    Signed-off-by: dependabot-preview[bot] <support@dependabot.com>
    Co-authored-by: Nikhil Benesch <nikhil.benesch@gmail.com>

commit bba23a8829b4eaa11a74665517cfaf3f1a3c019f
Author: Chris Golden <551285+cirego@users.noreply.github.com>
Date:   Mon Dec 21 10:39:50 2020 -0800

    Fix usage of reserved keyword in wait_for_view_states (#5128)
    
    
    OFFSET was added as a reserved keyword in f3332d0a6, causing this query
    to break. Wrap the column name in double-quotes to fix this query.

commit b7649221cc5f64ad7d53650b36de097b9658268c
Merge: 99bfcca41 03f5afaa3
Author: Nikhil Benesch <nikhil.benesch@gmail.com>
Date:   Mon Dec 21 13:22:40 2020 -0500

    Merge pull request #5115 from MaterializeInc/dependabot/cargo/syn-1.0.55
    
    build(deps): bump syn from 1.0.54 to 1.0.55

commit 716bd08a5fbce99f99a4d414246319f3513277bc
Author: Brandon W Maister <bwm@materialize.io>
Date:   Mon Dec 21 11:46:24 2020 -0500

    mkrelease: Update user doc config as part of final tagging

commit 99bfcca418150126f2d6b50eda3f62aee464cd26
Merge: e3ee0d06c f20e54fb3
Author: Nikhil Benesch <nikhil.benesch@gmail.com>
Date:   Mon Dec 21 12:32:56 2020 -0500

    Merge pull request #5125 from benesch/fix-cast-from
    
    ore: remove invalid i32 -> usize CastFrom impl

commit 6f189a0b4067abfbeb611019e5719bd3b08d94e3
Author: Brandon W Maister <bwm@materialize.io>
Date:   Sun Dec 20 18:50:54 2020 -0500

    mkrelease: support a --no-affect-remote tag for testing

commit e3ee0d06ca8ca718bd91945e8288b6e8924f3ceb
Merge: 46ad213e7 ca36d4049
Author: Brandon W Maister <bwm@materialize.io>
Date:   Mon Dec 21 11:49:28 2020 -0500

    Merge pull request #5062 from quodlibetor/release-notes-update
    
    release: Update with new experimental split cloud/db process

commit f20e54fb36e8234f164b02da8ebb2a86cfc60a77
Author: Nikhil Benesch <nikhil.benesch@gmail.com>
Date:   Mon Dec 21 10:50:34 2020 -0500

    ore: remove invalid i32 -> usize CastFrom impl
    
    This simply was not a valid CastFrom implementation. It is not in
    general possible to cast an i32 to a usize losslessly, because the i32
    might be negative.
    
    This code also fixes up a number of places where we were relying on this
    incorrect cast.

commit 46ad213e7eee2d3a99c2b15f6cf91b2cdc39fc58
Author: Brandon W Maister <bwm@materialize.io>
Date:   Mon Dec 21 10:52:06 2020 -0500

    ci: Smith runs with an order of magnitude higher query count in CI (#5124)

commit 03f5afaa377bb59ce4354d2d9fa827c52d52c120
Author: dependabot-preview[bot] <27856297+dependabot-preview[bot]@users.noreply.github.com>
Date:   Mon Dec 21 14:54:01 2020 +0000

    build(deps): bump syn from 1.0.54 to 1.0.55
    
    Bumps [syn](https://github.com/dtolnay/syn) from 1.0.54 to 1.0.55.
    - [Release notes](https://github.com/dtolnay/syn/releases)
    - [Commits](https://github.com/dtolnay/syn/compare/1.0.54...1.0.55)
    
    Signed-off-by: dependabot-preview[bot] <support@dependabot.com>

commit 7a07af4d6f5c52a98fe045a13d464003b1842700
Merge: d95558235 9c592ff8a
Author: Nikhil Benesch <nikhil.benesch@gmail.com>
Date:   Mon Dec 21 09:52:01 2020 -0500

    Merge pull request #5116 from MaterializeInc/dependabot/cargo/whoami-1.0.1
    
    build(deps): bump whoami from 1.0.0 to 1.0.1

commit d95558235ffdbb6a357fdd94279175749c1a2de5
Merge: 31e7ccc39 d9d71f275
Author: Nikhil Benesch <nikhil.benesch@gmail.com>
Date:   Mon Dec 21 09:51:51 2020 -0500

    Merge pull request #5117 from MaterializeInc/dependabot/cargo/quote-1.0.8
    
    build(deps): bump quote from 1.0.7 to 1.0.8

commit 31e7ccc397a1e5bd01e2820a5b8bf416f07fec06
Merge: 875c795f0 8d3c5ac19
Author: Nikhil Benesch <nikhil.benesch@gmail.com>
Date:   Mon Dec 21 09:51:27 2020 -0500

    Merge pull request #5121 from MaterializeInc/dependabot/cargo/openssl-0.10.31
    
    build(deps): bump openssl from 0.10.30 to 0.10.31

commit 875c795f0417d63618305caa500ef8dcc350cdd6
Author: Brandon W Maister <bwm@materialize.io>
Date:   Mon Dec 21 09:32:40 2020 -0500

    ci: Fix two remaining pipeline configs for new mzcompose API (#5123)
    
    Fallout from https://github.com/MaterializeInc/materialize/pull/5072

commit 8d3c5ac1928517d0546520496ca43e38798eecdf
Author: dependabot-preview[bot] <27856297+dependabot-preview[bot]@users.noreply.github.com>
Date:   Mon Dec 21 11:11:42 2020 +0000

    build(deps): bump openssl from 0.10.30 to 0.10.31
    
    Bumps [openssl](https://github.com/sfackler/rust-openssl) from 0.10.30 to 0.10.31.
    - [Release notes](https://github.com/sfackler/rust-openssl/releases)
    - [Commits](https://github.com/sfackler/rust-openssl/compare/openssl-v0.10.30...openssl-v0.10.31)
    
    Signed-off-by: dependabot-preview[bot] <support@dependabot.com>

commit d9d71f2752aa0dadbf6bf4dfadefbec52e429539
Author: dependabot-preview[bot] <27856297+dependabot-preview[bot]@users.noreply.github.com>
Date:   Mon Dec 21 11:08:12 2020 +0000

    build(deps): bump quote from 1.0.7 to 1.0.8
    
    Bumps [quote](https://github.com/dtolnay/quote) from 1.0.7 to 1.0.8.
    - [Release notes](https://github.com/dtolnay/quote/releases)
    - [Commits](https://github.com/dtolnay/quote/compare/1.0.7...1.0.8)
    
    Signed-off-by: dependabot-preview[bot] <support@dependabot.com>

commit 9c592ff8a4cec6de45c7263c62cf57ec9ba1626c
Author: dependabot-preview[bot] <27856297+dependabot-preview[bot]@users.noreply.github.com>
Date:   Mon Dec 21 11:07:30 2020 +0000

    build(deps): bump whoami from 1.0.0 to 1.0.1
    
    Bumps [whoami](https://github.com/libcala/whoami) from 1.0.0 to 1.0.1.
    - [Release notes](https://github.com/libcala/whoami/releases)
    - [Changelog](https://github.com/libcala/whoami/blob/master/CHANGELOG.md)
    - [Commits](https://github.com/libcala/whoami/compare/v1.0.0...v1.0.1)
    
    Signed-off-by: dependabot-preview[bot] <support@dependabot.com>

commit b624a553cece1117fb5553c796a39e821b704562
Author: Brandon W Maister <bwm@materialize.io>
Date:   Sun Dec 20 18:02:17 2020 -0500

    Update released versions to include 0.6.0 (#5113)

commit 46fde2052ee17ca38076ec066d58ab6d88245fa0
Merge: 7bb0cc423 04b8655fc
Author: Nikhil Benesch <nikhil.benesch@gmail.com>
Date:   Sun Dec 20 17:59:01 2020 -0500

    Merge pull request #5063 from sploiselle/v0.6.0-release-notes
    
    docs: v0.6.0 release notes

commit 04b8655fc42c67ff2a6813d002c6557ef7b8c578
Author: Nikhil Benesch <nikhil.benesch@gmail.com>
Date:   Sun Dec 20 17:49:29 2020 -0500

    docs: polish v0.6.0 release notes and features

commit 6df1bfe17960516de778ef43df3ae9f0049bae8a
Author: Sean Loiselle <sean@materialize.io>
Date:   Tue Dec 15 11:23:08 2020 -0500

    docs: v0.6.0 release notes

commit 7bb0cc423ad8f1fa40639de5e3b029738043b2f8
Author: Brandon W Maister <bwm@materialize.io>
Date:   Sun Dec 20 16:59:17 2020 -0500

    mkrelease: Try harder to update Cargo.lock (#5100)
    
    For some reason, during the 0.6.0 release, running cargo check once *reliably*
    didn't update the Cargo.lock, but running it twice always does do it.
    
    With this we just run cargo check twice, and then assert that the lockfile has
    been updated.

commit 485c5113dac7c1a4b605668ccd7ca97f10f713f6
Author: Brandon W Maister <bwm@materialize.io>
Date:   Sun Dec 20 16:53:59 2020 -0500

    mkrelease: fix accidentally commented-out code (#5102)

commit 78fd5a178010c948525faf9b78b7ec8ffd2742ae
Author: Brandon W Maister <bwm@materialize.io>
Date:   Sun Dec 20 16:53:39 2020 -0500

    You need to multiply to convert KiB to B (#5106)

commit aa27017cf8b5cdb895efd72e2c74d8f1a6a3f539
Merge: deaa181f5 b514ed81c
Author: Nikhil Benesch <nikhil.benesch@gmail.com>
Date:   Sun Dec 20 11:18:06 2020 -0500

    Merge pull request #5060 from benesch/krb5-sinks
    
    doc,test: clearly document/test support for krb5 sinks

commit deaa181f50054d0faf3c5c6f549a652926e495e5
Merge: 6e9441a2c 98a77bf59
Author: Nikhil Benesch <nikhil.benesch@gmail.com>
Date:   Sun Dec 20 10:57:52 2020 -0500

    Merge pull request #5111 from benesch/ctes-views
    
    sql: fix planning of CTEs in views

commit 6e9441a2c4529b2975b7316ed9a47104590bf100
Merge: 465696317 30e05d2c6
Author: Nikhil Benesch <nikhil.benesch@gmail.com>
Date:   Sun Dec 20 10:55:13 2020 -0500

    Merge pull request #5110 from benesch/testdrive-org
    
    testdrive: isolate esoteric tests

commit 98a77bf59e5c2cf121e2293192885b9f537fb712
Author: Nikhil Benesch <nikhil.benesch@gmail.com>
Date:   Sun Dec 20 01:03:22 2020 -0500

    sql: fix planning of CTEs in views
    
    The CREATE statement normalizer needed to be taught to handle CTE
    references.

commit 30e05d2c6f679010917a060a03b7bb9d577b5f8a
Author: Nikhil Benesch <nikhil.benesch@gmail.com>
Date:   Sun Dec 20 00:32:40 2020 -0500

    testdrive: isolate esoteric tests
    
    Move the tests that require esoteric infrastructure or configuration to
    run into their own directory. This makes it so that using the glob
    `test/testdrive/*.td`, like most developers do locally, picks up the set
    of tests that are "easy" to run. CI, however, will automatically run the
    tests in the esoteric directory.
    
    The old "ci-only" directory actually contains one test that is not run
    at all, so this commit also renames that directory to "disabled."
    
    Fix #5104.

commit 3fdde53acd17e951ab96e4064cbbd5b538f24364
Author: Nikhil Benesch <nikhil.benesch@gmail.com>
Date:   Sun Dec 20 00:18:02 2020 -0500

    testdrive: use consistent naming scheme for gh regression tests

commit 29149e684b35e1234c0bb9812ccb7cc21b4b4f56
Author: Nikhil Benesch <nikhil.benesch@gmail.com>
Date:   Sun Dec 20 00:14:29 2020 -0500

    testdrive: fix sink blackhole test (again)
    
    See comment within for details.

commit 4656963173aacd988810cb1409599592dbaa33ab
Merge: 6e2074b24 03d68d74f
Author: Nikhil Benesch <nikhil.benesch@gmail.com>
Date:   Sat Dec 19 23:24:09 2020 -0500

    Merge pull request #5107 from zRedShift/time-wip
    
    sql: add interval multiplication and division, various unit extraction

commit 03d68d74fbfb7b5f27e0a3be3d3ec1d59b41854b
Author: Ronen Ulanovsky <ronen.ulanovsky.5@gmail.com>
Date:   Sun Dec 20 01:06:47 2020 +0200

    Implement Interval multiplication and division
    
    Resolves #3518.

commit 6e2074b240b624e4fc45332a88355a649afb4021
Merge: 0a0858950 5784a67cf
Author: Nikhil Benesch <nikhil.benesch@gmail.com>
Date:   Sat Dec 19 22:38:13 2020 -0500

    Merge pull request #5089 from sploiselle/catalog-content-migration-preamble
    
    Catalog content migration preamble

commit 5784a67cf61d42b8addf5914642d5c9fe024e683
Author: Nikhil Benesch <nikhil.benesch@gmail.com>
Date:   Sat Dec 19 20:46:20 2020 -0500

    coord: publicize the catalog API
    
    There are various bits of test code that want access to a catalog. It's
    easiest just to make the whole catalog module public, since it's already
    decent, documented API, rather than adding testing functions piecemeal.

commit 5abc3a0209a8836c437d7d6e48f8ad31d952ea59
Author: Nikhil Benesch <nikhil.benesch@gmail.com>
Date:   Sat Dec 19 20:28:05 2020 -0500

    materialized,sqllogictest: don't leak temporary directories
    
    Rework the ownership of the temporary directories used in tests so that
    they are automatically cleaned up at the end of the test.

commit 17c7a5fd17acc479578061fa2afadbdb7d18827d
Author: Sean Loiselle <sean@materialize.io>
Date:   Thu Dec 17 22:56:55 2020 -0500

    catalog: use tempdir in test configs everywhere

commit 5129eff758151a71141ef7ace94c2d0b16dd842f
Author: Sean Loiselle <sean@materialize.io>
Date:   Mon Dec 14 19:00:01 2020 -0500

    catalog: test sqlite in temp dir instead of in memory
    
    Subsequent commits add catalog item migrations, which rely on
    a persistent state when opening and reopening the catalog.

commit a7d1012cda6aee12fd6268d34f9266e5f0af30e3
Author: Sean Loiselle <sean@materialize.io>
Date:   Mon Dec 14 22:25:00 2020 -0500

    coord: provide test_parameter_type_inference catalog access
    
    In subsequent commits, all type name references resolve to catalog
    objects. This commit preemptively provides a populated catalog to
    this test, which it will need given that it relies type names.

commit 0a085895022fa03074266baee4ae3936d56a11c6
Author: Frank McSherry <fmcsherry@me.com>
Date:   Sat Dec 19 21:04:05 2020 -0500

    Inline views in dataflows (#5029)
    
    * inline views in dataflows
    
    * update lets for InlineLet
    
    * cargo fml
    
    * assign unique identifiers
    
    * improve comments and restructure if test
    
    * correct error
    
    * update todo

commit e79767e7f47b6649c2bf9e83b32e0974b466812b
Merge: ba79df857 202328816
Author: Nikhil Benesch <nikhil.benesch@gmail.com>
Date:   Sat Dec 19 20:47:48 2020 -0500

    Merge pull request #5090 from benesch/explain-elision
    
    expr: elide chains with one local get

commit 202328816ec67cb1ce12a4d268acb6699268e1f6
Author: Nikhil Benesch <nikhil.benesch@gmail.com>
Date:   Sat Dec 19 19:44:00 2020 -0500

    sql: rewrite explain to match expr crate
    
    The expr crate's explanation rendering was rewritten in b1df81db.  This
    commit makes the sql crate's explanation rendering match.  (sql and expr
    largely duplicate their explanation code.)
    
    As a side effect this commit fixes a bug in which
    
        EXPLAIN TYPED RAW PLAN FOR ...
    
    did not properly annotate subqueries with type information.

commit 87efc029b29a64ec0294334098f52af4bb5a4de6
Author: Nikhil Benesch <nikhil.benesch@gmail.com>
Date:   Sat Dec 19 16:53:34 2020 -0500

    expr: reorganize explanation code
    
    Reorder the explanation code so that it is isolated to the `Explanation`
    struct, rather than split across `Explanation` and `RelationExpr`.

commit 8ee4c49b59a0ad13e8138fa35a3efd229666b832
Author: Ronen Ulanovsky <ronen.ulanovsky.5@gmail.com>
Date:   Sun Dec 20 00:27:16 2020 +0200

    Fix bug with EXTRACT(EPOCH from INTERVAL).
    
    The correct PostgreSQL behavior is to count a year as 365.25 days, or
    31557600 seconds, see:
    https://github.com/postgres/postgres/blob/master/src/backend/utils/adt/timestamp.c#L5018
    
    Previously, Materialize would count a year as 12 30 day months, or 360
    days (31104000 seconds).

commit ba79df857e42b72c82daecf13aa85fcb2f09b795
Merge: e2596b7f9 f3332d0a6
Author: Nikhil Benesch <nikhil.benesch@gmail.com>
Date:   Sat Dec 19 14:30:10 2020 -0500

    Merge pull request #5078 from sploiselle/type-name-resolution-parser-preamble
    
    parser: type name resolution preamble

commit e64e48c61d827a8f1bebf86b0519660770037051
Author: Ronen Ulanovsky <ronen.ulanovsky.5@gmail.com>
Date:   Sat Dec 19 21:11:42 2020 +0200

    Add missing EXTRACT() units for intervals

commit e2596b7f9324f9f80802721bb7eed8800e523b40
Author: Brandon W Maister <bwm@materialize.io>
Date:   Sat Dec 19 13:33:26 2020 -0500

    stderr should still go to stderr if it is not captured (#5101)

commit bab600e3e186610dcc94e5a365c2b61523673616
Merge: 968f00de1 11222451d
Author: Brandon W Maister <bwm@materialize.io>
Date:   Fri Dec 18 17:17:58 2020 -0500

    Merge pull request #5097 from quodlibetor/add-more-host-info-metrics
    
    mz-process-collector: Report total system swap and swap free

commit 968f00de1146838658c87d1f0ff54f7eb2d0e739
Merge: 8fe0d4d6d 0d7e264ff
Author: Brandon W Maister <bwm@materialize.io>
Date:   Fri Dec 18 17:05:53 2020 -0500

    Merge pull request #5099 from quodlibetor/continue-v0.6.1-dev
    
    Continue v0.6.1 dev

commit 0d7e264ff21e3bd57abdf004400ebe2c11c7cd34
Author: Brandon W Maister <bwm@materialize.io>
Date:   Fri Dec 18 16:11:45 2020 -0500

    Prepare next phase of development: v0.6.1-dev

commit 235a79b9102e7b63d666ea46e3fdfee036542928
Author: Brandon W Maister <bwm@materialize.io>
Date:   Fri Dec 18 16:30:22 2020 -0500

    release: v0.6.0

commit 8fe0d4d6d77a9d26d1261100862495f31482b681
Author: Brandon W Maister <bwm@materialize.io>
Date:   Fri Dec 18 16:06:34 2020 -0500

    chaos: Use container names instead of IDs for operations (#5094)
    
    chaos: Use container names instead of IDs for operations

commit 225c072bf1499e7ce8b691029edb457842005e02
Author: Brandon W Maister <bwm@materialize.io>
Date:   Fri Dec 18 16:04:06 2020 -0500

    mzcompose: Don't send stderr to stdout if capture is true (#5098)
    
    The CompletedProcess object returned by Composition.run has both a stdout and a
    stderr stream, using `PIPE` twice keeps them separate, using `STDOUT` causes
    stderr to go to the same PIPE, meaning error messages get interwoven with the
    intended results of the function call.

commit 11222451deafb45144ce603fd9a9c05da3df7c8e
Author: Brandon W Maister <bwm@materialize.io>
Date:   Fri Dec 18 13:43:22 2020 -0500

    mz-process-collector: Report total system swap and swap free
    
    Part of #5093

commit 5c052b20f8b0c6bead692aa4e3e6ff0d055afd26
Author: Brandon W Maister <bwm@materialize.io>
Date:   Fri Dec 18 13:42:38 2020 -0500

    process-collector: Correctly report swap used by current process
    
    It just wasn't being done before

commit 932b7d29aac68f1a5b1e5b996afb23cb5a9b54c8
Author: Nikhil Benesch <nikhil.benesch@gmail.com>
Date:   Thu Dec 17 23:55:55 2020 -0500

    expr: elide chains with one local get
    
    Clean up our EXPLAIN output by eliding chains that consist of only one
    Get. Also annotate the chains that are bound to a proper Let, vs. those
    that were introduced only to flatten the explain output.
    
    Fix #5076.

commit b1df81db1fabfbe393a5ff9d08c457c7bdf920dc
Author: Nikhil Benesch <nikhil.benesch@gmail.com>
Date:   Thu Dec 17 21:46:14 2020 -0500

    expr: rewrite explanation traversal to be recursive
    
    I think it's much easier to understand how this traversal works when
    written recursively rather than iteratively.
    
    Also split things up into functions and document more of the approach,
    for good measure.

commit 89fc28f89f1b9019ada9ad210bcb9817122229c4
Author: Brandon W Maister <bwm@materialize.io>
Date:   Fri Dec 18 12:18:13 2020 -0500

    Add the server startup info to Prometheus Metrics
    
    Part of #5093

commit 5acf6d612c6096ab7eae1048658db94089c5efd9
Author: Chris Golden <551285+cirego@users.noreply.github.com>
Date:   Thu Dec 17 22:33:58 2020 -0800

    Example application of the Wikipedia Demo (#5021)
    
    
    This application is a demonstration showing how to build an event-driven
    data pipeline all the way to the browser. The example application comes
    from our Getting Started Guide, where materialized is configured with
    three materialized views that update as new edits are appended to the
    `wikirecent` source.
    
    A Python web application serves a basic page that renders
    both the current value for `counter` and a visualization of the `top10`
    table. These counts and visualization are updated as the underlying
    materialized views are updated, using the TAIL command.

commit f3332d0a684e976e7e1dfca10fdb81013f7268e8
Author: Sean Loiselle <sean@materialize.io>
Date:   Sun Dec 13 14:21:27 2020 -0500

    parser: reserve time-like keywords as column aliases
    
    Time-like keywords, e.g. YEAR, are not permitted to be used as
    aliases following an expression, unless prefixed with AS. This
    restriction ensures that users do not confuse
    
    ```
    SELECT pg_catalog.interval '1y 1m 1d' MONTH;
    ```
    
    as equivalent to:
    
    ```
    SELECT INTERVAL '1y 1m 1d' MONTH;
    ```
    
    Without this change, the former is actually parsed such that "month" is
    a column alias, as in
    
    ```
    SELECT INTERVAL '1y 1m 1d' AS month
    ```
    
    which is likely not what the user intended. This patch makes it so that
    `SELECT pg_catalog.interval '1y 1m 1d' MONTH` produces an error.
    
    Facilitating this change required tweaking the parser's various reserved
    keyword sets. Any keyword that appears at the top level of a select
    (FROM, WHERE, HAVING, etc.) is now considered fully reserved. This
    ensures that `SELECT WHERE` produces a syntax error rather than parsing
    as `SELECT "where"`, for similar reasons as above.
    
    Co-authored-by: Nikhil Benesch <nikhil.benesch@gmail.com>

commit e51157773118b5e69959ef9b70c76a6aa0656764
Author: Frank McSherry <fmcsherry@me.com>
Date:   Thu Dec 17 18:20:44 2020 -0500

    extend monotonicity analysis (#5085)

commit b546af4b72b311a27926eeddee9813429ada5bca
Merge: b910c063b 2d9611503
Author: Brandon W Maister <bwm@materialize.io>
Date:   Thu Dec 17 17:04:40 2020 -0500

    Merge pull request #4889 from petrosagg/compacted-dates
    
    repr: add support for all compacted date formats

commit f01abfd602c2908d04e82c7ca236f842d4bd4f84
Author: Andi Wang <andi@materialize.io>
Date:   Thu Dec 17 16:52:42 2020 -0500

    Fix lints. Reduce number of join inputs by one.

commit 2d9611503690956f8a176bd03d1f1bb1b76bc137
Author: Petros Angelatos <petrosagg@gmail.com>
Date:   Thu Nov 26 16:50:44 2020 +0100

    repr: add support for all compacted date formats
    
    We need to record the number of digits on the original string while
    parsing in order to differentiate the year 01 from 001 and 0001 that
    decode in 2001, 1, and 1 respectively.
    
    Signed-off-by: Petros Angelatos <petrosagg@gmail.com>

commit ebd7132f9243bab66f4691b94ff9b71f7f7a0174
Author: Andi Wang <andi@materialize.io>
Date:   Thu Dec 17 15:35:10 2020 -0500

    Add query for finding operator dataflow name and id.

commit b910c063b2b4db09426dea37bf4ddf7062711466
Merge: 23a7fa27c 55fcf916b
Author: Nikhil Benesch <nikhil.benesch@gmail.com>
Date:   Thu Dec 17 15:32:42 2020 -0500

    Merge pull request #5079 from benesch/kafka-txn
    
    demo: remove kafka-transactions demo

commit 55fcf916badf8b67bbf314474dd8e4b362299f46
Author: Nikhil Benesch <nikhil.benesch@gmail.com>
Date:   Thu Dec 17 15:09:05 2020 -0500

    demo: remove kafka-transactions demo
    
    This was never quite a demo, but rather a handy tool for generating
    transactional data in Kafka. It hasn't been used in quite some time, and
    rust-rdkafka is about to learn to generate data transactionally. So
    remove it, per the demos discussion we had over Zoom a while back.
    
    If we ever do need this code, it will always be available in Git.

commit 23a7fa27c5d90222879d907e3f6498869f3b2780
Merge: 2460c0b4b 32b6b7749
Author: Sean Loiselle <sean@materialize.io>
Date:   Thu Dec 17 15:08:58 2020 -0500

    Merge pull request #5077 from sploiselle/type-name-resolution-catalog-preamble
    
    catalog: set up object name resolution for types

commit eebdfde6e1ac1977880b1ce94a2769f91adc517d
Author: Sean Loiselle <sean@materialize.io>
Date:   Sat Dec 12 10:13:50 2020 -0500

    parser: move map key type check out of parser

commit 32b6b7749760ca65e6616ebfbd3546128fd59aa7
Author: Sean Loiselle <sean@materialize.io>
Date:   Sat Dec 5 12:46:24 2020 -0500

    catalog: set up object name resolution for types
    
    To support more complex types (e.g. custom types), Materialize needs
    to resolve type names as objects within its catalog. This commit
    creates a necessary precondition for that by loading types into
    the catalog first, which expresses the correct dependency cycle
    within the catalog once we rely intra-catalog references.

commit 2460c0b4b1004fd5e5d4281736a04af507d64caf
Author: Brandon W Maister <bwm@materialize.io>
Date:   Thu Dec 17 13:52:02 2020 -0500

    Document that unstable builds are also available in Docker (#5016)

commit 4a649386f72238ac1dd5eda60f7ec428c7820fe8
Merge: dc06aefdd a067fe9fb
Author: Brandon W Maister <bwm@materialize.io>
Date:   Thu Dec 17 12:35:47 2020 -0500

    Merge pull request #5056 from zRedShift/timestamp-truncation
    
    Fix date_trunc() behavior for decades, centuries and millenniums and add the ability to extract() these values out of a timestamp.

commit dc06aefdd697fe2e03129032a6997409073806eb
Author: Chris Golden <551285+cirego@users.noreply.github.com>
Date:   Thu Dec 17 08:43:09 2020 -0800

    Add web and list-port commands to mzcompose (#5075)
    
    
    These helpers commands from mzconduct and are simple ports from their
    previous implementations. They are useful for determining the high
    numbered ports that Docker Compose allocates for services when they are
    not bound to well-known ports.

commit 84cc6e3aee1e567a6531a2c6ba69171e062927a5
Merge: 3f8dbab41 3e7ee2aa5
Author: Andi Wang <5522362+wangandi@users.noreply.github.com>
Date:   Thu Dec 17 09:48:36 2020 -0500

    Merge pull request #5069 from wangandi/mbta-fix
    
    Fix script.

commit 3f8dbab411cd34250acf03f4103751bd0d6f11af
Merge: c2eab964b a811a3199
Author: Nikhil Benesch <nikhil.benesch@gmail.com>
Date:   Wed Dec 16 12:22:17 2020 -0500

    Merge pull request #5072 from benesch/mzcompose-merge
    
    mzconduct: merge into mzcompose

commit a811a31992976c5c7d23481688ffd2dd397a2ae5
Author: Nikhil Benesch <nikhil.benesch@gmail.com>
Date:   Wed Dec 16 10:39:57 2020 -0500

    mzcompose: learn a new --mz-find option
    
    This works similarly to the old `--find` option to mzconduct. The idea
    is that a composition is named after the directory containing
    mzcompose.yml, and that these names must be unique across the entire
    repository. This gives the infrastructure repository more stable
    identifiers for load tests, so that we can restructure the repository
    without breaking the infrastructure repository.

commit 73579fff889adf92eddc404dbea65e76613d9f59
Author: Nikhil Benesch <nikhil.benesch@gmail.com>
Date:   Wed Dec 16 00:09:48 2020 -0500

    mzcompose: simplify and document workflows
    
    Now that workflows are a first-class part of mzcompose, we can simplify
    their configuration a bit. Switch them to use a top-level "mzworkflows"
    configuration key to save a level of indentation.

commit 34f31dcbde1e1894491259e38941c71634d669bd
Author: Nikhil Benesch <nikhil.benesch@gmail.com>
Date:   Tue Dec 15 22:59:40 2020 -0500

    mzconduct: merge into mzcompose
    
    Merge mzconduct and mzcompose. Where you previously ran
    
        $ bin/mzconduct chbench --workflow=ci
    
    you now run:
    
        $ cd demo/chbench && ./mzcompose run ci
    
    The hope is that the new API is less confusing to users. Everything
    happens locally in the demo/test directory, so you no longer need to
    reach out to ../../bin/mzconduct for some commands and ./mzcompose for
    others.
    
    The code is also greatly simplified, since we no longer have two
    separate programs that need to parse and understand mzcompose.yml files.

commit 03264a90e690e81b2268b3a467be2eed6264ce8f
Author: Nikhil Benesch <nikhil.benesch@gmail.com>
Date:   Tue Dec 15 21:12:18 2020 -0500

    mzcompose: libraryize
    
    Extract a library from the mzcompose command-line tool. This facilitates
    the merging of mzcompose and mzconduct.

commit c2eab964ba1cff15c2754614224a8cb4eea98ad1
Merge: 81f832b08 227dc238d
Author: Albert Wang <albert@materialize.io>
Date:   Wed Dec 16 09:14:15 2020 -0500

    Merge pull request #5066 from MaterializeInc/awang-patch-1
    
    docs: add link to memory visualization tool

commit a067fe9fb113f7eb99b565766a5cb242713702d0
Author: Ronen Ulanovsky <ronen.ulanovsky@sunbit.com>
Date:   Wed Dec 16 10:32:31 2020 +0200

    reorder milliseconds and microseconds more tastefully

commit 227dc238d7349e849caa9163049fe9b2d00312d9
Author: Albert Wang <albert@materialize.io>
Date:   Tue Dec 15 22:59:20 2020 -0500

    make statement more accurate

commit 81f832b0818789c5e74183c208398431f14f079d
Merge: 4a84f3e01 9415e4d2a
Author: Matt Jibson <matt.jibson@gmail.com>
Date:   Tue Dec 15 16:43:31 2020 -0700

    Merge pull request #5070 from mjibson/fetch-wait
    
    pgwire: change FETCH with TAIL to wait for rows if there are none

commit b514ed81c3f9900b468218751eddc831d2bcf331
Author: Nikhil Benesch <nikhil.benesch@gmail.com>
Date:   Tue Dec 15 03:51:29 2020 -0500

    doc,test: clearly document/test support for krb5 sinks
    
    It turns out we do support these, but it wasn't clearly documented. Make
    it a bit clearer in the docs and add proper integration tests for
    krb5/sasl_plain sinks.
    
    Also make it a bit clearer in the code by prefixing calls to the
    generically named "extract_config" with the module name ("kafka_util"),
    as we do elsewhere in the SQL crate and as Rust convention dictates.
    
    Fix #4956.

commit 9415e4d2aeadbe75a075aca01f5786ec74059435
Author: Matt Jibson <matt.jibson@gmail.com>
Date:   Tue Dec 15 15:16:35 2020 -0700

    pgwire: change FETCH with TAIL to wait for rows if there are none
    
    Previously FETCH with TAIL would return immediately if there were no
    rows available. While useful, this is generally not what users need.
    Change FETCH to default to waiting for some rows to be available and
    return those. This allows users to call FETCH in a loop without
    worrying about backoffs or timeouts and always get available rows as
    soon as possible.
    
    Add an ALL option to FETCH to return ALL available rows.

commit 4a84f3e01c8462a4d05f1b2f0ca261b48a17241e
Author: Frank McSherry <fmcsherry@me.com>
Date:   Tue Dec 15 18:11:49 2020 -0500

    Reuse row allocations (#5006)
    
    * finish packing into an existing Row
    
    * flat_map_ref exposes RefOrMut
    
    * re-use row allocations
    
    * update ignored lints
    
    * update comments

commit 3e7ee2aa5a614662c4cfcf76c362efb00ff0b8b7
Author: Andi Wang <andi@materialize.io>
Date:   Tue Dec 15 16:40:50 2020 -0500

    Fix `start_streams_from_config_file` to actually accept the third argument.

commit eacadee5d2353b00259368b60b3489948572031e
Author: Chris Golden <551285+cirego@users.noreply.github.com>
Date:   Tue Dec 15 14:05:52 2020 -0800

    Start control center in snapshot benchmark (#5065)
    
    
    It's generally useful for reading Kafka configuration. Add a workflow
    step to start it manually as well.

commit 977b364e7400d3d4bba4511780a70917c8e7c5e2
Author: Albert Wang <albert@materialize.io>
Date:   Tue Dec 15 16:50:27 2020 -0500

    point out difference between sql queries + memory viz tool

commit 344b738905eb11ca32f01e3b343e606af34ede0b
Author: Ruchir Khaitan <ruchir0001@gmail.com>
Date:   Tue Dec 15 16:46:33 2020 -0500

    dataflow: even more refactors on reduce rendering (#5002)
    
    
    Change the code to have a separate fusion step for inaccumulable, non-hierarchical reductions, so
    that we can make the final collation simpler. This also lets us make the rendering code a lot simpler
    because we can now fold stuff into loops instead of having relatively bespoke logic for each reduction
    type.

commit 4017ea32e0997a054779463e67086b79c20de77b
Author: Chris Golden <551285+cirego@users.noreply.github.com>
Date:   Tue Dec 15 13:26:24 2020 -0800

    Set chbench Kafka log retention to 1 year (#5064)
    
    
    The default is 7 days and breaks the snapshot replay benchmark in 3
    interesting ways. First, it can cause the test to hang because
    Materialize fails to read all messages before they are deleted. Second,
    it causes Materialize to fail to generate the same answers because it
    fails to read all messages, even if it gets to the end of the topics.
    And finally, it prevents Materialize from reading messages at all after
    being restarted, as all messages have been removed.
    
    Fixes #5059
    Fixes #5030
    Fixes #5024

commit 3f2ebdace1b391d5921834d22600e3843c3b5279
Author: Albert Wang <albert@materialize.io>
Date:   Tue Dec 15 14:42:38 2020 -0500

    copy edit

commit 4fb98ae10a454c657106dbab23e32ea01c1725b5
Author: Albert Wang <albert@materialize.io>
Date:   Tue Dec 15 14:40:57 2020 -0500

    fix typo

commit 97f374aa528ed28d95d17f736d95d823356037dd
Author: Albert Wang <albert@materialize.io>
Date:   Tue Dec 15 14:37:25 2020 -0500

    add link to memory visualization tool

commit 020e6a6420df0f4b1f016e76c9442ae0435c9fa1
Author: Jessica Laughlin <JLDLaughlin@users.noreply.github.com>
Date:   Tue Dec 15 14:10:37 2020 -0500

    sql: support SHOW OBJECTS (#5046)
    
    Adds support for listing all objects (tables, sources, views, indexes,
    and sinks) in a given schema. SHOW OBJECTS accepts the EXTENDED
    and FULL modifiers.

commit ca36d404973f0c9fa8d87878da4c17991ff36140
Author: Brandon W Maister <bwm@materialize.io>
Date:   Tue Dec 15 11:24:50 2020 -0500

    release: Make the SQL logic test verification a check box

commit ab789d2a1926f88fed7b04d1c4ec82c669a40edd
Author: Brandon W Maister <bwm@materialize.io>
Date:   Tue Dec 15 11:14:35 2020 -0500

    release: Update with new experimental split cloud/db process

commit d362e5b8f06cd57396e0d4387b2b77f65b42de74
Author: Brandon W Maister <bwm@materialize.io>
Date:   Tue Dec 15 11:15:22 2020 -0500

    release: Mention the github cli, it makes somes steps easier
    
    We could add auto-detection of it to bin/mkrelease, but that often ends up
    being fragile.

commit 246f723009531c793c375910634148d9cbacff04
Merge: 6de5302bc 47cf0b775
Author: Brandon W Maister <bwm@materialize.io>
Date:   Tue Dec 15 10:54:12 2020 -0500

    Merge pull request #5061 from quodlibetor/prepare-v0.6.1-dev
    
    Prepare v0.6.1 dev

commit 6de5302bcbb98f0f090c6903c39bbf796327465a
Author: Jessica Laughlin <JLDLaughlin@users.noreply.github.com>
Date:   Tue Dec 15 10:35:55 2020 -0500

    sql: support isnull as is null alias (#5048)
    
    Like 'is null', 'isnull' tests whether a value is null, returning
    a boolean value. 'isnull' is nonstandard syntax in Postgres, but
    is supported nonetheless.

commit 47cf0b775fd8d1e85706be4bb07954176a323ff5
Author: Brandon W Maister <bwm@materialize.io>
Date:   Tue Dec 15 10:11:44 2020 -0500

    Prepare next phase of development: v0.6.1-dev

commit cc4e4d9d39e20cb088657996a17e43597c6c4bf9
Author: Brandon W Maister <bwm@materialize.io>
Date:   Tue Dec 15 10:01:11 2020 -0500

    release: v0.6.0-rc1

commit 515decb1539f7a16957356c46a755b76a3d5e433
Merge: 51a43c56f acf6f3d28
Author: Eli Lindsey <eli@siliconsprawl.com>
Date:   Tue Dec 15 09:46:56 2020 -0500

    Merge pull request #5050 from elindsey/sources
    
    reorganize source reading loop

commit acf6f3d2821c324a0eb6fa9b4f34d707469b0dc1
Author: Eli Lindsey <eli@siliconsprawl.com>
Date:   Mon Dec 14 17:04:50 2020 -0500

    reorganize source reading logic
    
    Motivation is https://github.com/MaterializeInc/materialize/issues/5024
    This logic has grown over time and is very difficult to follow. There
    need to be some deeper refactorings, but taking a first pass to at least
    straighten this portion out a bit.

commit 8b4376b1a8ac3fe070f0a4f5e5e7388881b9a6fb
Author: Ronen Ulanovsky <ronen.ulanovsky.5@gmail.com>
Date:   Tue Dec 15 15:29:21 2020 +0200

    Add tests for new extract() functionality for timestamps and dates

commit 51a43c56fb35baca20253df8759951a62400ff4c
Author: Brennan Vincent <brennan@materialize.io>
Date:   Tue Dec 15 08:15:30 2020 -0500

    Allow record fields to be non-nullable (#5047)

commit b6776207d0f3e2998893d2aeb73f0b64c7aca80e
Author: Ronen Ulanovsky <ronen.ulanovsky.5@gmail.com>
Date:   Tue Dec 15 15:06:31 2020 +0200

    Add tests for new date_trunc() functionality

commit 82f7799a5add1a99cacc610bed022219eac75620
Merge: 21f8951bc bd237ac45
Author: Matt Jibson <matt.jibson@gmail.com>
Date:   Tue Dec 15 00:37:52 2020 -0700

    Merge pull request #5051 from mjibson/copy-notice
    
    pgwire: send NoticeResponse in Copy connection check

commit 20126dcfead74f4fabb64b7d7ca4d5c46ca6d8a6
Author: Ronen Ulanovsky <ronen.ulanovsky.5@gmail.com>
Date:   Tue Dec 15 03:54:00 2020 +0200

    Add some other valid postgres identifiers to microseconds

commit 94017f6fe2e786c5d242aedc681cda061b53f4d7
Author: Ronen Ulanovsky <ronen.ulanovsky.5@gmail.com>
Date:   Tue Dec 15 03:52:07 2020 +0200

    Add the ability to extract milliseconds, microseconds, millenniums,
    centuries and decades from timestamps.

commit 08ac00b68f8d9d06d0466fc59df9b057e379c56b
Author: Ronen Ulanovsky <ronen.ulanovsky.5@gmail.com>
Date:   Tue Dec 15 03:43:15 2020 +0200

    The current date_trunc() behavior in Materialize doesn't match the behavior
    of PostgeSQL when truncating dates by millennium, century or decade.
    Negative years are dealt with, as well as the issue with years such as
    1900 and 2000 being truncated to 1901 and 2001 respectively.

commit 21f8951bcc8c21f034188f3e577f1ed09ceb5014
Author: Chris Golden <551285+cirego@users.noreply.github.com>
Date:   Mon Dec 14 17:12:45 2020 -0800

    Fixup logic for waiting on Materialize to catch up to a Kafka topic (#4997)
    
    
    Wait for sources to reach a specific offset in the Kafka topic before we
    read the view contents. Otherwise, for sources that includes deletions
    and updates, we can hit the desired view long before we have read all
    contents of the Kafka topic.
    
    Fixes #4994

commit c9840541c9564991f8fb346e60df42d8789c823f
Author: Chris Golden <551285+cirego@users.noreply.github.com>
Date:   Mon Dec 14 16:50:30 2020 -0800

    Add workflow to restore Kafka from snapshots (#4929)
    
    
    These workflows assume we only care about key, value, and timestamp for
    each message in Kafka. For each message in a topic, it preserves the
    original value of these in an Apache Arrow file. Arrow was chosen as a
    handy method for serializing / deserializing data that also works with
    many other tools in the Python ecosystem.
    
    There are two workflows, one to run chbench and capture a snapshot. The
    other workflow is to start a kafka cluster, restore the topic contents
    and then measure how long Materialize takes to generate the same results
    as measured by the snapshot.

commit 18281b745c52e410bb97c72bc02a41c19586b145
Merge: 6c6c12029 645fe1b19
Author: Nikhil Benesch <nikhil.benesch@gmail.com>
Date:   Mon Dec 14 19:30:27 2020 -0500

    Merge pull request #5049 from benesch/npm
    
    materialized: embed css/js assets into the binary

commit bd237ac4595c3f4e46c9b3a239bd523a4aba78d1
Author: Matt Jibson <matt.jibson@gmail.com>
Date:   Mon Dec 14 16:54:34 2020 -0700

    pgwire: send NoticeResponse in Copy connection check
    
    Previously we sent an empty CopyData message, but that's not
    consistent with the spec. NoticeResponse is explicitly described in
    the copy spec as a thing that can happen and needs to be handled.
    
    This fixes a problem when users are using Npgsql.
    
    Fixes #4932

commit 645fe1b195bc85cfd4fe356e54662bfdbd393bcf
Author: Nikhil Benesch <nikhil.benesch@gmail.com>
Date:   Mon Dec 14 16:35:24 2020 -0500

    materialized: embed css/js assets into the binary
    
    Automatically download and embed CSS/JS assets into the materialized
    binary, so that the binary does not depend on external resources, like
    the jsdeliver CDN. Our binary might outlive the CDN, or the CDN might be
    blocked by corporate firewalls.
    
    For reasons described in the comment within, we do our own light
    JavaScript package management to avoid depending on Node.js/npm.
    
    Fix #3860.

commit 6c6c120294309252863fbce96c9e9c4e80a00bff
Author: Chris Golden <551285+cirego@users.noreply.github.com>
Date:   Mon Dec 14 10:47:54 2020 -0800

    Add step to summarize topic information in ingest benchmark (#4938)
    
    
    This script gives rough metrics on number of messages and size of the
    topic (as distributed among keys and values).

commit bb3c14486de94893527636dab59766529a3b14af
Merge: 1722053c4 9dcf51b4b
Author: Sean Loiselle <sean@materialize.io>
Date:   Mon Dec 14 13:28:03 2020 -0500

    Merge pull request #4934 from sploiselle/non-materialized-select
    
    docs: increase references to selecting from non-mz view

commit 1722053c4b87023f6d8c04936e07f25834b63320
Author: Chris Golden <551285+cirego@users.noreply.github.com>
Date:   Mon Dec 14 10:25:01 2020 -0800

    Create ingest benchmarking using chbench (#4885)
    
    
    This benchmark will start chbench, generating data that will be used to
    populate some very simple views in Materialized (literally just count
    rows). After a pre-determined amount of time, the benchmark will stop
    chbench, record the state of each view, restart Materialize and measure
    the amount of time required to catch up for each view.
    
    Example output at the end of the test:
    
    3.6s: count_warehouse
    4.0s: count_nation
    4.4s: count_region
    4.7s: count_supplier
    5.9s: count_district
    6.3s: count_item
    17.9s: count_customer
    25.4s: count_neworder
    26.1s: count_history
    26.4s: count_order
    35.9s: count_stock
    85.6s: count_orderline

commit 2f9229641771f0ee4702031af8830e3c338bd013
Merge: 10d406e48 946ea3c1a
Author: Nikhil Benesch <nikhil.benesch@gmail.com>
Date:   Mon Dec 14 13:13:39 2020 -0500

    Merge pull request #5044 from benesch/fetch-bug
    
    doc/user: note known issue with FETCH in v0.5.3

commit 946ea3c1afff936d1603de5b641f07227b39bc15
Author: Nikhil Benesch <nikhil.benesch@gmail.com>
Date:   Mon Dec 14 13:00:56 2020 -0500

    doc/user: note known issue with FETCH in v0.5.3

commit 9dcf51b4bcdb9c366da54f4d5df0efffce39edaa
Author: Sean Loiselle <sean@materialize.io>
Date:   Wed Dec 2 16:04:42 2020 -0500

    docs: increase references to selecting from non-mz view

commit 10d406e489695f4c9fdc293ef201a84813557d31
Merge: f457a4650 3a4067d14
Author: Nikhil Benesch <nikhil.benesch@gmail.com>
Date:   Mon Dec 14 11:10:25 2020 -0500

    Merge pull request #5035 from MaterializeInc/dependabot/cargo/serde_json-1.0.60
    
    build(deps): bump serde_json from 1.0.59 to 1.0.60

commit f457a4650cb808413e5fb87362542067dcbab96b
Merge: 166bce6f1 1f8d328fa
Author: Nikhil Benesch <nikhil.benesch@gmail.com>
Date:   Mon Dec 14 11:10:15 2020 -0500

    Merge pull request #5036 from MaterializeInc/dependabot/cargo/serde-1.0.118
    
    build(deps): bump serde from 1.0.117 to 1.0.118

commit 166bce6f141cdd8d09d9ba14ebb788c3ad3f43a7
Merge: 9ff59c427 aa1250642
Author: Nikhil Benesch <nikhil.benesch@gmail.com>
Date:   Mon Dec 14 11:10:07 2020 -0500

    Merge pull request #5037 from MaterializeInc/dependabot/cargo/pprof-0.3.20
    
    build(deps): bump pprof from 0.3.18 to 0.3.20

commit 9ff59c427c6532b212a869887f1a4c26821deddf
Merge: 6a5187cff fdb5a88a7
Author: Nikhil Benesch <nikhil.benesch@gmail.com>
Date:   Mon Dec 14 11:10:01 2020 -0500

    Merge pull request #5038 from MaterializeInc/dependabot/cargo/openssl-sys-0.9.59
    
    build(deps): bump openssl-sys from 0.9.58 to 0.9.59

commit 6a5187cffbfc36bad201d7aa8bace10db86c691f
Merge: 03b6223c2 f8363002a
Author: Nikhil Benesch <nikhil.benesch@gmail.com>
Date:   Mon Dec 14 11:09:50 2020 -0500

    Merge pull request #5039 from MaterializeInc/dependabot/cargo/termcolor-1.1.2
    
    build(deps): bump termcolor from 1.1.0 to 1.1.2

commit 03b6223c2c0c742f9056360ebcaa19ee1b76677a
Merge: 684a110c4 e822aa989
Author: Nikhil Benesch <nikhil.benesch@gmail.com>
Date:   Mon Dec 14 11:09:43 2020 -0500

    Merge pull request #5040 from MaterializeInc/dependabot/cargo/rlimit-0.5.3
    
    build(deps): bump rlimit from 0.5.2 to 0.5.3

commit 684a110c424992fcc94e66db546445012ed2620c
Author: Jessica Laughlin <JLDLaughlin@users.noreply.github.com>
Date:   Mon Dec 14 11:07:01 2020 -0500

    github: remove flakey chaos test from release (#5042)

commit 20abc546137aced1ddf74f6890f02c3304bd2d07
Merge: b857a8cb3 4a3f71569
Author: Nikhil Benesch <nikhil.benesch@gmail.com>
Date:   Mon Dec 14 11:06:15 2020 -0500

    Merge pull request #5041 from MaterializeInc/dependabot/cargo/syn-1.0.54
    
    build(deps): bump syn from 1.0.50 to 1.0.54

commit b857a8cb38c15bc74fd03a9576a88dd4774f29d3
Merge: 42c7df62e 7d37e6f58
Author: Nikhil Benesch <nikhil.benesch@gmail.com>
Date:   Mon Dec 14 11:05:53 2020 -0500

    Merge pull request #5033 from benesch/pgcrypto-tweaks
    
    sql: minor adjustments to pgcrypto support

commit 42c7df62e0c762dadf092e9e59eeb8579f8cb43d
Merge: 548e82dc1 298685011
Author: Brandon W Maister <bwm@materialize.io>
Date:   Mon Dec 14 10:41:43 2020 -0500

    Merge pull request #4803 from quodlibetor/more-dbz-dupe-logging
    
    Detailed diagnostics around full/precise deduplication logic

commit 548e82dc147ad27b5f434821af5171bab3546e04
Author: krishmanoh2 <72518904+krishmanoh2@users.noreply.github.com>
Date:   Mon Dec 14 09:27:14 2020 -0500

    Materialize basic dashboard (#5014)
    
    Simpler dashboard for users starting with materialize

commit 4a3f715698e3060b322c2143e2a7a6c76b60dd81
Author: dependabot-preview[bot] <27856297+dependabot-preview[bot]@users.noreply.github.com>
Date:   Mon Dec 14 12:19:50 2020 +0000

    build(deps): bump syn from 1.0.50 to 1.0.54
    
    Bumps [syn](https://github.com/dtolnay/syn) from 1.0.50 to 1.0.54.
    - [Release notes](https://github.com/dtolnay/syn/releases)
    - [Commits](https://github.com/dtolnay/syn/compare/1.0.50...1.0.54)
    
    Signed-off-by: dependabot-preview[bot] <support@dependabot.com>

commit e822aa9896b9d5b122674a5502fad5cc0ef944cc
Author: dependabot-preview[bot] <27856297+dependabot-preview[bot]@users.noreply.github.com>
Date:   Mon Dec 14 12:18:36 2020 +0000

    build(deps): bump rlimit from 0.5.2 to 0.5.3
    
    Bumps [rlimit](https://github.com/Nugine/rlimit) from 0.5.2 to 0.5.3.
    - [Release notes](https://github.com/Nugine/rlimit/releases)
    - [Commits](https://github.com/Nugine/rlimit/compare/v0.5.2...v0.5.3)
    
    Signed-off-by: dependabot-preview[bot] <support@dependabot.com>

commit f8363002a3de2d4aa6644a07b44163b4f9b339ca
Author: dependabot-preview[bot] <27856297+dependabot-preview[bot]@users.noreply.github.com>
Date:   Mon Dec 14 12:17:45 2020 +0000

    build(deps): bump termcolor from 1.1.0 to 1.1.2
    
    Bumps [termcolor](https://github.com/BurntSushi/termcolor) from 1.1.0 to 1.1.2.
    - [Release notes](https://github.com/BurntSushi/termcolor/releases)
    - [Commits](https://github.com/BurntSushi/termcolor/compare/1.1.0...1.1.2)
    
    Signed-off-by: dependabot-preview[bot] <support@dependabot.com>

commit fdb5a88a7f264656e47e2e58b98056bab98e9223
Author: dependabot-preview[bot] <27856297+dependabot-preview[bot]@users.noreply.github.com>
Date:   Mon Dec 14 12:17:06 2020 +0000

    build(deps): bump openssl-sys from 0.9.58 to 0.9.59
    
    Bumps [openssl-sys](https://github.com/sfackler/rust-openssl) from 0.9.58 to 0.9.59.
    - [Release notes](https://github.com/sfackler/rust-openssl/releases)
    - [Commits](https://github.com/sfackler/rust-openssl/compare/openssl-sys-v0.9.58...openssl-sys-v0.9.59)
    
    Signed-off-by: dependabot-preview[bot] <support@dependabot.com>

commit aa12506420bc6dcae463ff2166b2076df02ebc09
Author: dependabot-preview[bot] <27856297+dependabot-preview[bot]@users.noreply.github.com>
Date:   Mon Dec 14 12:16:18 2020 +0000

    build(deps): bump pprof from 0.3.18 to 0.3.20
    
    Bumps [pprof](https://github.com/tikv/pprof-rs) from 0.3.18 to 0.3.20.
    - [Release notes](https://github.com/tikv/pprof-rs/releases)
    - [Commits](https://github.com/tikv/pprof-rs/compare/v0.3.18...v0.3.20)
    
    Signed-off-by: dependabot-preview[bot] <support@dependabot.com>

commit 1f8d328fa1a5e9d23388929dd6efb4eba1632809
Author: dependabot-preview[bot] <27856297+dependabot-preview[bot]@users.noreply.github.com>
Date:   Mon Dec 14 12:15:29 2020 +0000

    build(deps): bump serde from 1.0.117 to 1.0.118
    
    Bumps [serde](https://github.com/serde-rs/serde) from 1.0.117 to 1.0.118.
    - [Release notes](https://github.com/serde-rs/serde/releases)
    - [Commits](https://github.com/serde-rs/serde/compare/v1.0.117...v1.0.118)
    
    Signed-off-by: dependabot-preview[bot] <support@dependabot.com>

commit 3a4067d14d6adc4934a036545baa4801efebe7d0
Author: dependabot-preview[bot] <27856297+dependabot-preview[bot]@users.noreply.github.com>
Date:   Mon Dec 14 12:15:07 2020 +0000

    build(deps): bump serde_json from 1.0.59 to 1.0.60
    
    Bumps [serde_json](https://github.com/serde-rs/json) from 1.0.59 to 1.0.60.
    - [Release notes](https://github.com/serde-rs/json/releases)
    - [Commits](https://github.com/serde-rs/json/compare/v1.0.59...v1.0.60)
    
    Signed-off-by: dependabot-preview[bot] <support@dependabot.com>

commit 34e3a067bb9c583bd61cf9b2ac53d42185587e33
Merge: edb016189 a39a66db2
Author: Nikhil Benesch <nikhil.benesch@gmail.com>
Date:   Mon Dec 14 03:17:09 2020 -0500

    Merge pull request #5027 from petrosagg/column-defaults
    
    Support creating tables and inserting data with default values

commit a39a66db22a8c2660d29dd82182e165fdf4fb61b
Author: Petros Angelatos <petrosagg@gmail.com>
Date:   Sun Dec 13 21:55:53 2020 +0100

    sql: support INSERT INTO t DEFAULT VALUES
    
    Signed-off-by: Petros Angelatos <petrosagg@gmail.com>

commit 2bb0191c0558beaf13898a4f66c01c412029f540
Author: Petros Angelatos <petrosagg@gmail.com>
Date:   Sun Dec 13 21:36:15 2020 +0100

    test: add testcases for default values
    
    Signed-off-by: Petros Angelatos <petrosagg@gmail.com>

commit 933402627fc92c3fe1154e413be644ebab018b2e
Author: Petros Angelatos <petrosagg@gmail.com>
Date:   Sun Dec 13 20:17:00 2020 +0100

    sql: cast and typecheck default value on table creation
    
    Signed-off-by: Petros Angelatos <petrosagg@gmail.com>

commit df772d4d9361d41d9df0fff642a64430e7e08f0e
Author: Petros Angelatos <petrosagg@gmail.com>
Date:   Fri Dec 11 19:07:19 2020 +0100

    sql: support default values during inserts
    
    Signed-off-by: Petros Angelatos <petrosagg@gmail.com>

commit 0a42abc2871df14e95780154295ee4887e36aac6
Author: Petros Angelatos <petrosagg@gmail.com>
Date:   Fri Dec 11 19:05:10 2020 +0100

    coord: support column defaults in table definition
    
    Signed-off-by: Petros Angelatos <petrosagg@gmail.com>

commit 7d37e6f58bb2323b599069dbca838824215ac578
Author: Nikhil Benesch <nikhil.benesch@gmail.com>
Date:   Mon Dec 14 02:04:38 2020 -0500

    sql: minor adjustments to pgcrypto support
    
    Move the pgcrypto SLTs into their own files that mirror the upstream
    sources. This makes it easier to integrate upstream changes and gives us
    a place to install the appropriate license headers, since technically
    these tests are licensed under the PostgreSQL license, not our usual
    license. (These tests are probably simple enough not to be
    copyrightable, but best to be rigorous.)
    
    Also fix a buglet in the type signature of the digest function. To match
    pgcrypto, either both data and key need to have type `text` or both need
    to have type `bytea`.
    
    Finally fix a typo in the function documentation so that the description
    of the function renders properly in HTML.

commit edb0161899c7eed7cb8094ba2a25e932fb72263b
Merge: b4eb7c77c 678ebdbf0
Author: Nikhil Benesch <nikhil.benesch@gmail.com>
Date:   Mon Dec 14 01:07:19 2020 -0500

    Merge pull request #5031 from benesch/relnotes-053
    
    doc/user: fix release notes for v0.5.3 era

commit 678ebdbf03384d82a9144dd39d83ace8f8aca328
Author: Nikhil Benesch <nikhil.benesch@gmail.com>
Date:   Mon Dec 14 01:01:00 2020 -0500

    doc/user: fix release notes for v0.5.3 era
    
    Many changes got missed in the release notes for v0.5.3. Add them
    retroactively. Also fix some mangled entries in v0.5.2, including one
    entry that belonged in v0.5.4. Finally, make some minor formatting edits
    to the new cursor docs.

commit b4eb7c77cae3275ad48670ed40ccf8220dbef493
Merge: 0694b5192 3af6869ea
Author: Nikhil Benesch <nikhil.benesch@gmail.com>
Date:   Mon Dec 14 00:48:10 2020 -0500

    Merge pull request #5019 from mjibson/fetch-docs
    
    doc: document new cursor stuff

commit 0694b5192eee286fa57902430d8dc4eceec125e2
Merge: 132099dec 49bb58fbe
Author: Brennan Vincent <brennan@materialize.io>
Date:   Sun Dec 13 13:53:57 2020 -0500

    Merge pull request #5025 from umanwizard/arc-swap
    
    Update arc-swap

commit 49bb58fbe4eddb27c1b0dee87a8d695c50917cb3
Author: Brennan Vincent <brennan@umanwizard.com>
Date:   Sun Dec 13 12:12:39 2020 -0500

    Update arc-swap

commit 3af6869eaad193d35b74a99eb6af34bc62b4bdca
Author: Matt Jibson <matt.jibson@gmail.com>
Date:   Fri Dec 11 11:41:58 2020 -0700

    doc: document new cursor stuff

commit 132099decef073339600ec659605cf4d14b9fbac
Merge: fb81b8cb4 d21e8b047
Author: Matt Jibson <matt.jibson@gmail.com>
Date:   Thu Dec 10 23:32:15 2020 -0700

    Merge pull request #5018 from mjibson/fetch-test-timeout
    
    sqllogictest: add FETCH timeout to sql tests

commit d21e8b047353880651e934f08edc3228671e974f
Author: Matt Jibson <matt.jibson@gmail.com>
Date:   Thu Dec 10 23:25:07 2020 -0700

    sqllogictest: add FETCH timeout to sql tests
    
    Needed because it now defaults to 0s.

commit fb81b8cb4cd231b4c86105579bef7362b534dc10
Merge: 5e1c819b8 48047b36b
Author: Matt Jibson <matt.jibson@gmail.com>
Date:   Thu Dec 10 22:07:43 2020 -0700

    Merge pull request #5010 from mjibson/fetch-timeout
    
    pgwire: add support for FETCH timeouts

commit 5e1c819b8fec95082239f6d9ca8d6bc45c290864
Author: Frank McSherry <fmcsherry@me.com>
Date:   Thu Dec 10 19:27:03 2020 -0500

    Extract dataflow description construction from coord.rs (#5017)
    
    * make add_dependency private
    
    * extract dataflow_builder.rs
    
    * copyright header

commit 48047b36b7dbe5237c866c690a025f3603395113
Author: Matt Jibson <matt.jibson@gmail.com>
Date:   Wed Dec 9 13:36:51 2020 -0700

    pgwire: add support for FETCH timeouts
    
    Implement this with our extension to the FETCH syntax which now supports
    a timeout option. If the requested number of rows has not been returned
    within the requested timeout, complete the statement anyway. This allows
    drivers that buffer all results to get their data within definable time
    and memory bounds.
    
    The default timeout is 0s. This will return up to the requested number
    of rows as long as they are immediately available.

commit 3cb5dccc7f138ee57e9b5a33adcb62516b016173
Merge: f072c6bab ff19d7fa9
Author: Brandon W Maister <bwm@materialize.io>
Date:   Thu Dec 10 14:43:51 2020 -0500

    Merge pull request #5015 from quodlibetor/peeker-init-timeout
    
    peeker: switch init-attempts to init-timeout

commit ff19d7fa922d7132e54b8e80a31d00788b4408ae
Author: Brandon W Maister <bwm@materialize.io>
Date:   Thu Dec 10 11:54:48 2020 -0500

    peeker: switch init-attempts to init-timeout
    
    The init-attempts flag was sort of a lie anyway, since whatever value was
    placed in there was attempted 6 times no matter how small the value was set.
    
    Now we try for at most `--init-timeout` duration, e.g. 60s or 5m

commit abebe5e9bc39849429f18d088099060567c35ab6
Author: Brandon W Maister <bwm@materialize.io>
Date:   Thu Dec 10 11:59:39 2020 -0500

    peeker: Show the default value of the materialized url

commit f072c6babb5edcb6e7fb42516ce5e9e6980b8383
Merge: b2b8a0d4a f405f1530
Author: Brandon W Maister <bwm@materialize.io>
Date:   Thu Dec 10 10:09:15 2020 -0500

    Merge pull request #5005 from quodlibetor/billing-config-local
    
    billing: make the local workflow more pleasant

commit b2b8a0d4a021b8b9c35ff7372ece65f1e78d7ecf
Merge: daf999d75 ea1d00dff
Author: Matt Jibson <matt.jibson@gmail.com>
Date:   Wed Dec 9 19:27:35 2020 -0700

    Merge pull request #5011 from mjibson/set-portal
    
    coord: remove error return from set_portal

commit daf999d757521aee105e3615b4b40c8dab2d9c45
Merge: 4603c7bfb cccf144f2
Author: Brennan Vincent <brennan@materialize.io>
Date:   Wed Dec 9 20:18:56 2020 -0500

    Merge pull request #5009 from benesch/regex-utf8-warn
    
    dataflow: avoid out-of-bounds slice when decoding regex

commit ea1d00dff7d72e6f1d48d00114a319510f55f29e
Author: Matt Jibson <matt.jibson@gmail.com>
Date:   Wed Dec 9 17:20:56 2020 -0700

    coord: remove error return from set_portal
    
    It was previously needed but no more.

commit cccf144f2c2cd5ee9acaea36943e7ddcc844783c
Author: Nikhil Benesch <nikhil.benesch@gmail.com>
Date:   Wed Dec 9 16:25:29 2020 -0500

    dataflow: improve "bad UTF-8" error message during regex decode
    
    The old log message was hard to visually parse because it included the
    contents of the bad line undelimited in the message:
    
        WARN dataflow::decode::regex: Line this line has invalid UTF-8 and will be dropped --> � <-- from source materialize.public.regex_source_primary_idx cannot be decoded as utf8. Discarding line.
    
    This commit rewrites the log message to be a bit easier to visually
    parse:
    
        WARN dataflow::decode::regex: dropping line with invalid UTF-8 (source: materialize.public.regex_source_named_cols_primary_idx, line number: 3, line prefix: "this line has invalid UTF-8 and will be dropped --> � <--")
    
    The new format also includes the line number when possible.
    
    For good measure, it also rewrites the code that computes the prefix of
    the line to display in the log message. 1024 characters is too many, in
    my opinion, considering that the line number is available now, so the
    limit is decreased to 64. The code also applies the limit *after* the
    UTF-8 decoding, rather than before; the old approach had the defect that
    it could introduce a UTF-8 error (by chopping a multibyte character in
    half at the 1024 character mark) that was unrelated to the actual UTF-8
    error in the input. The new approach results in an extra allocation, but
    that's ok on the error path.

commit 002f56366a675d4d5bb671d4dbbffbc84be437ce
Author: Nikhil Benesch <nikhil.benesch@gmail.com>
Date:   Wed Dec 9 16:12:00 2020 -0500

    dataflow: reformat regex decoder
    
    The regex decoder was wide enough that rustfmt was giving up. Tweak it
    slightly, so that rustfmt can work its magic.
    
    No code changes in this commit.

commit 3e0d421b1d25ec23380695cf0bf59fb8f6dba55e
Author: Nikhil Benesch <nikhil.benesch@gmail.com>
Date:   Wed Dec 9 15:40:15 2020 -0500

    dataflow: avoid out-of-bounds slice when decoding regex
    
    This was a simple case of using the "max" function where "min" was
    intended.

commit aa7944fce19ce0a48922a687de61a9a00a966731
Author: Nikhil Benesch <nikhil.benesch@gmail.com>
Date:   Wed Dec 9 15:37:34 2020 -0500

    testdrive: learn to decode arbitrary byte escapes
    
    Teach testdrive to accept arbitrary byte escapes using the standard C
    hexadecimal escape syntax
    
        \xNN
    
    where each N is a valid hexadecimal digit (0-9, a-f, A-F).
    
    This makes it possible to use testdrive to test invalid UTF-8 input.

commit 2986850116b5cb82973f3ff264551f45f335cb52
Author: Brandon W Maister <bwm@materialize.io>
Date:   Wed Dec 9 16:07:56 2020 -0500

    avro dedupe: Don't log a confusing field when it can't be distinct
    
    If the message is new, then the message_first_seen is guaranteed to be exactly
    the same as the message_time, because this _is_ the first time it's seen.

commit 6d2029abe1fe9e46f2acf8ea2fbe950b92a562e6
Author: Brandon W Maister <bwm@materialize.io>
Date:   Mon Nov 16 14:24:14 2020 -0500

    avro dedupe: Log a warning if a debezium event doesn't have a time
    
    This is only alerted on if the user requested tracking in a range, in which
    case messages without time info make handling ranges impossible.

commit 47243f13255e8bdb0f1350c63f8b4f3721653cc8
Author: Brandon W Maister <bwm@materialize.io>
Date:   Mon Nov 16 14:23:32 2020 -0500

    avro dedupe: Move dbz max-seen-time tracking earlier
    
    We do want to also track it in the snapshot case.

commit 2129bd186a698999f5e3c2591e25910d3f7b9b78
Author: Brandon W Maister <bwm@materialize.io>
Date:   Thu Nov 12 17:59:09 2020 -0500

    avro-dedupe: Log more details around how we start full dedupe mode

commit 48a77b7185ddbcebce22fdb7f9382010784de6dc
Author: Brandon W Maister <bwm@materialize.io>
Date:   Thu Nov 12 11:28:30 2020 -0500

    avro dedupe: Log first (and subsequent) times we enter full dedupe mode
    
    The size of the deduplication buffer reported by buffer_size here is more
    interesting in general.
    
    If the same source enters full deduplication mode multiple times that could
    potentially be -- but is not necessarily -- an issue.

commit 4603c7bfb6151389fcff66132f362dc2c255c69b
Author: Ruchir Khaitan <ruchir0001@gmail.com>
Date:   Wed Dec 9 15:55:54 2020 -0500

    dataflow: teach renderer to fuse monotonic hierarchical aggregates + clean up code (#4978)
    
    Simplify the hierarchical rendering code by teaching the renderer to fuse hierarchical aggregates when the inputs are monotonic.
    
    This process lets us have two fully fused codepaths for aggregations, and lets us avoid special casing monotonic inputs.

commit 02dd343b9909f4353abc9b629f80064edd10881b
Merge: 875235528 69287fb9a
Author: Nikhil Benesch <nikhil.benesch@gmail.com>
Date:   Wed Dec 9 11:32:36 2020 -0500

    Merge pull request #5000 from benesch/catalog-spec
    
    coord: permit db-qualified references to ambient schemas

commit 87523552861cbb0d5935d9aa7b458be341dbb654
Merge: 8a2e3b400 1a4b10905
Author: Nikhil Benesch <nikhil.benesch@gmail.com>
Date:   Wed Dec 9 11:07:01 2020 -0500

    Merge pull request #5001 from benesch/consumer-group-id-prefix
    
    doc/user: try to clarify group_id_prefix option

commit 8a2e3b40056d9d03d549043552ae4b21b62098fe
Author: Frank McSherry <fmcsherry@me.com>
Date:   Wed Dec 9 10:39:33 2020 -0500

    Clear row_packer before using in Reduce (#5004)
    
    * clear row_packer before using
    
    * introduce regression test

commit f405f1530d3701ece82fdfc4ef9fe6813da7df3d
Author: Brandon W Maister <bwm@materialize.io>
Date:   Wed Dec 9 10:01:26 2020 -0500

    billing: log remaining number of messages to send
    
    For interactive use it's a bit nicer

commit a9e260e91821619ed500859803a401391622b29c
Author: Brandon W Maister <bwm@materialize.io>
Date:   Wed Dec 9 09:58:57 2020 -0500

    Make the billing local workflow accept same env var as others
    
    This makes it possible to set the billing message count.

commit 1a4b10905991daa8f8f19fb4e4abeef51a577172
Author: Nikhil Benesch <nikhil.benesch@gmail.com>
Date:   Wed Dec 9 02:56:42 2020 -0500

    doc/user: try to clarify group_id_prefix option
    
    Fix #4988.

commit 69287fb9a2b5842eebbf857bb15862acaa112a03
Author: Nikhil Benesch <nikhil.benesch@gmail.com>
Date:   Wed Dec 9 02:33:22 2020 -0500

    coord,sql: combine resolution/lookup in catalog API
    
    Previously, interacting with the catalog required an annoying bit of
    boilerplate:
    
         let name = scx.catalog.resolve_item(name)?;
         let item = scx.catalog.get_item(&name);
    
    The first call "resolved" a partially-specified item name to a full
    name; the second call then looked up the resolved full name in the
    catalog to pull out the actual catalog item. Simplify the API to:
    
         let item = scx.catalog.resolve_item(name)?;
    
    Code that needs access to the fully-specified name can pull it out of
    the item on demand via `item.name()`.
    
    The same change is applied to `Catalog::resolve_database` and
    `Catalog::resolve_schema`. These methods now return a database and
    schema object, respectively, to mirror the item object returned by
    Catalog::resolve_item, and are much less awkward to use than before.
    
    There should be no behavioral changes in this PR.

commit 21470fe853eebbd55ea1eb0814d47da7d1446269
Author: Nikhil Benesch <nikhil.benesch@gmail.com>
Date:   Wed Dec 9 01:28:03 2020 -0500

    coord: permit db-qualified references to ambient schemas
    
    Permit fully-qualifying a reference to an ambient schema, as in:
    
        SELECT * FROM materialize.pg_catalog.pg_enum
    
    Previously we only permitted the shorter form:
    
        SELECT * FROM pg_catalog.pg_enum
    
    This was just an oversight. The new behavior matches PostgreSQL.
    
    Fix #4998.

commit 4702452e0615dc7148149e25a18b492e27c7dee5
Author: Nikhil Benesch <nikhil.benesch@gmail.com>
Date:   Wed Dec 9 00:53:33 2020 -0500

    coord: represent current database as a string, not a spec
    
    The current database is always a named database; it can never be the
    "ambient" database. Therefore it is more natural to represent the
    current database as a string rather than a DatabaseSpec.

commit 43373add3f9c5336b0112dbd1e485a91cdec4edc
Merge: 8835ed118 11294a456
Author: Nikhil Benesch <nikhil.benesch@gmail.com>
Date:   Tue Dec 8 19:34:16 2020 -0500

    Merge pull request #4995 from benesch/pgrepr-order
    
    pgrepr: order Value enum consistently

commit 8835ed118e6c91325b1377712456f3ef3821b8e1
Author: Jessica Laughlin <JLDLaughlin@users.noreply.github.com>
Date:   Tue Dec 8 17:27:38 2020 -0500

    sql: add sha1 option for pg_crypto fns (#4967)
    
    Adds sha1 as an algorithm option for digest() and hmac().

commit fedb1e1666fa26a9c837d205a2e6f3df6092e5d7
Merge: 7497654c5 1900a2397
Author: Brennan Vincent <brennan@materialize.io>
Date:   Tue Dec 8 13:11:16 2020 -0500

    Merge pull request #4992 from petrosagg/less-unsafe
    
    kafka-util: implement unsafe sections in safe Rust

commit 7497654c550afa44abbcf8b7a327ac8f6a76f022
Author: Brandon W Maister <bwm@materialize.io>
Date:   Tue Dec 8 12:24:45 2020 -0500

    Remove a debug statement from mzconduct (#4993)

commit 32c88aa1104af5718bf416fe3f06a256628cd853
Merge: dd4098a4f 62e2a6106
Author: Brandon W Maister <bwm@materialize.io>
Date:   Tue Dec 8 10:45:25 2020 -0500

    Merge pull request #4977 from quodlibetor/update-dashboard
    
    dashboard: Import recent updates

commit 1900a2397552a404f86dcb79b24eae3d7f5aeed4
Author: Petros Angelatos <petrosagg@gmail.com>
Date:   Tue Dec 8 16:22:38 2020 +0100

    kafka-util: implement unsafe sections in safe Rust
    
    Signed-off-by: Petros Angelatos <petrosagg@gmail.com>

commit dd4098a4f061f8abdf26780db1e818f6de4cb269
Merge: 90e8e9969 12d957083
Author: Brennan Vincent <brennan@materialize.io>
Date:   Tue Dec 8 09:49:21 2020 -0500

    Merge pull request #4979 from umanwizard/update
    
    update files for v0.5.4

commit 12d957083dd5f9849493fe40412331c1bdff9f5a
Author: Brennan Vincent <brennan@materialize.io>
Date:   Mon Dec 7 19:26:42 2020 -0500

    update files for v0.5.4

commit 62e2a610636adfcc785561e6826c9395944640b0
Author: Brandon W Maister <bwm@materialize.io>
Date:   Mon Dec 7 18:27:09 2020 -0500

    dashboard: A low query rate is not an error condition
    
    So this recolors it from our dashboards, where it _is_ a surprising condition.

commit 8671b17fa99765fa7a573be78fd0fe24eb2a0d61
Author: Brandon W Maister <bwm@materialize.io>
Date:   Mon Dec 7 18:12:38 2020 -0500

    dashboard: Import recent updates
    
    This makes several changes to make the dashboard more useful and understandable
    on first use.
    
    This also includes the first two alerts that are reasonable for folks to always
    have installed -- materialized is up, and that worker queue length is static.

commit 59e70a88a2b6982d2d8186b6878fb2f601ed05c5
Author: Brandon W Maister <bwm@materialize.io>
Date:   Mon Dec 7 18:11:17 2020 -0500

    dashboard: Use a more publicly meaningful label than {{id}}
    
    Instance matches the public host:port that prometheus grabs data from, which is
    useful when examining dashboards.

commit 435cdf56d57e6d9054cd049318a440903422b61a
Author: Brandon W Maister <bwm@materialize.io>
Date:   Mon Dec 7 18:11:03 2020 -0500

    dashboard: The import script now puts build-info below status

commit 90e8e9969df2df664b4ccc3eedd8cc765baf5c88
Merge: 307356e1a ee405588e
Author: Matt Jibson <matt.jibson@gmail.com>
Date:   Mon Dec 7 15:25:06 2020 -0700

    Merge pull request #4976 from mjibson/cursor-result-format
    
    pgwire: correctly use outer portal result type in FETCH

commit ee405588e1e5f5f247472580c9b5ae60871fd67c
Author: Matt Jibson <matt.jibson@gmail.com>
Date:   Mon Dec 7 13:56:01 2020 -0700

    pgwire: correctly use outer portal result type in FETCH
    
    Add more tests for cursors and TAIL.

commit 11294a4568b78627ab1090ee4660c53358bb95d2
Author: Nikhil Benesch <nikhil.benesch@gmail.com>
Date:   Sat Dec 5 18:38:04 2020 -0500

    pgrepr: order Value enum consistently
    
    This is pure code movement.

commit 307356e1a3ddb0723aeb96c2948a9cd2d15114ef
Merge: 2ba3c1780 799b6aa27
Author: Nikhil Benesch <nikhil.benesch@gmail.com>
Date:   Mon Dec 7 16:19:53 2020 -0500

    Merge pull request #4972 from benesch/wrong-column-count
    
    civiz: add migration for inference_failure rename

commit 2ba3c17808eff3c48f9e5cdc6d4010b9d52462bb
Merge: 19cf840b6 6ee865f10
Author: Nikhil Benesch <nikhil.benesch@gmail.com>
Date:   Mon Dec 7 15:26:02 2020 -0500

    Merge pull request #4975 from benesch/katacoda-url-fix
    
    doc/user: fix katacoda link and improve error message

commit 6ee865f1073fa459c977b7132aaf7bd507d2da8e
Author: Nikhil Benesch <nikhil.benesch@gmail.com>
Date:   Mon Dec 7 15:18:12 2020 -0500

    doc/user: fix katacoda link and improve error message

commit 19cf840b663f1dfddc9c2bd067db2169d0535e9a
Merge: edcedc23d 01ce98e7a
Author: Nikhil Benesch <nikhil.benesch@gmail.com>
Date:   Mon Dec 7 13:09:22 2020 -0500

    Merge pull request #4974 from benesch/no-netlify-http
    
    Revert "ci/www: use HTTP, not HTTPS, to connect to WPEngine"

commit 01ce98e7a90acc7acb401932f4f457fdb22dd6e6
Author: Nikhil Benesch <nikhil.benesch@gmail.com>
Date:   Mon Dec 7 13:07:27 2020 -0500

    Revert "ci/www: use HTTP, not HTTPS, to connect to WPEngine"
    
    This reverts commit e6c366edc2e155fe7b783b904649e8e552c01ac9.
    
    This didn't work.

commit edcedc23df0cc29f1d9f77a656444a00b53cfcb1
Merge: b6fbf2762 e6c366edc
Author: Nikhil Benesch <nikhil.benesch@gmail.com>
Date:   Mon Dec 7 13:03:16 2020 -0500

    Merge pull request #4973 from benesch/netlify-redirects
    
    ci/www: use HTTP, not HTTPS, to connect to WPEngine

commit e6c366edc2e155fe7b783b904649e8e552c01ac9
Author: Nikhil Benesch <nikhil.benesch@gmail.com>
Date:   Mon Dec 7 13:01:04 2020 -0500

    ci/www: use HTTP, not HTTPS, to connect to WPEngine

commit 799b6aa27c0ec3f3eb7f3520573c46379edb8dd8
Author: Nikhil Benesch <nikhil.benesch@gmail.com>
Date:   Mon Dec 7 12:53:54 2020 -0500

    civiz: add migration for inference_failure rename

commit b6fbf276211333bf245dc8a7be40d47e0cc258fc
Merge: 944ff9d67 17e871ac4
Author: Brennan Vincent <brennan@materialize.io>
Date:   Mon Dec 7 12:54:33 2020 -0500

    Merge pull request #4966 from umanwizard/continue-v0.5.4-dev
    
    Continue v0.5.4 dev

commit 944ff9d676bc7089fc7fe146e5d4acd8cb22ef85
Merge: 4323ebe43 fd67a8459
Author: Matt Jibson <matt.jibson@gmail.com>
Date:   Mon Dec 7 10:42:12 2020 -0700

    Merge pull request #4971 from mjibson/slt-civiz
    
    civiz: attempt to fix after column rename

commit 4323ebe43250b619843c55bd8218e43a48a474f9
Merge: 4d66da90b 460af0c38
Author: Nikhil Benesch <nikhil.benesch@gmail.com>
Date:   Mon Dec 7 12:37:20 2020 -0500

    Merge pull request #4961 from MaterializeInc/dependabot/cargo/structopt-0.3.21
    
    build(deps): bump structopt from 0.3.20 to 0.3.21

commit 4d66da90bc79d477014346889798b721567b1192
Merge: 6da34526a 82219286b
Author: Nikhil Benesch <nikhil.benesch@gmail.com>
Date:   Mon Dec 7 12:37:13 2020 -0500

    Merge pull request #4960 from MaterializeInc/dependabot/cargo/smallvec-1.5.1
    
    build(deps): bump smallvec from 1.5.0 to 1.5.1

commit 6da34526aa4a4039b06f62fcd6295347dac37ed4
Merge: fd8b8b743 6f799d41b
Author: Nikhil Benesch <nikhil.benesch@gmail.com>
Date:   Mon Dec 7 12:37:00 2020 -0500

    Merge pull request #4958 from MaterializeInc/dependabot/cargo/procfs-0.9.1
    
    build(deps): bump procfs from 0.9.0 to 0.9.1

commit fd8b8b743110bdc957a3ff5703ed78e620889dc6
Merge: b09fb435f 35d8a4b4d
Author: Nikhil Benesch <nikhil.benesch@gmail.com>
Date:   Mon Dec 7 12:36:50 2020 -0500

    Merge pull request #4962 from MaterializeInc/dependabot/cargo/assert_cmd-1.0.2
    
    build(deps): bump assert_cmd from 1.0.1 to 1.0.2

commit b09fb435f67b5e1d9d342c1f6a617641b5d972fe
Merge: 1c3d89e52 5eaa960da
Author: Nikhil Benesch <nikhil.benesch@gmail.com>
Date:   Mon Dec 7 12:36:25 2020 -0500

    Merge pull request #4957 from MaterializeInc/dependabot/cargo/whoami-1.0.0
    
    build(deps): bump whoami from 0.9.0 to 1.0.0

commit fd67a845992e30dafa5ca0f0c67f260c490abf16
Author: Matt Jibson <matt.jibson@gmail.com>
Date:   Mon Dec 7 10:34:43 2020 -0700

    civiz: attempt to fix after column rename

commit 1c3d89e52becfd5db587644f1cd1da44f6f79df2
Merge: a4424efe0 cb691c1ae
Author: Benjamin Pellittieri <ben@materialize.io>
Date:   Mon Dec 7 10:58:14 2020 -0600

    Merge pull request #4968 from benLogN/website-troubleshooting
    
    Add a newline to force netlify redeploy

commit cb691c1aef064493e3c44b1475e97e6b674ceb5a
Author: Benjamin Pellittieri <ben@materialize.io>
Date:   Mon Dec 7 10:44:47 2020 -0600

    Add a newline to force netlify redeploy

commit a4424efe00b2ad46340181173c991f49345fb5bc
Merge: db7d22f52 d8248763d
Author: Brandon W Maister <bwm@materialize.io>
Date:   Mon Dec 7 11:30:46 2020 -0500

    Merge pull request #4963 from MaterializeInc/dependabot/cargo/rusqlite-0.24.2
    
    build(deps): bump rusqlite from 0.24.1 to 0.24.2

commit db7d22f521f9dce3cfb22712acd1b5ab14d150ca
Merge: 7d5db4c48 e97e59962
Author: Brandon W Maister <bwm@materialize.io>
Date:   Mon Dec 7 11:29:37 2020 -0500

    Merge pull request #4965 from quodlibetor/bump-ordered-float
    
    Bump ordered float 2.0.1

commit 17e871ac43d3aecf5042237575a2b7a6cad68eed
Author: Brennan Vincent <brennan@materialize.io>
Date:   Mon Dec 7 10:49:51 2020 -0500

    Prepare next phase of development: v0.5.4-dev

commit f56c5a8a373694c5e9bca60e40d9c5ac6346d2b6
Author: Brennan Vincent <brennan@materialize.io>
Date:   Mon Dec 7 10:49:19 2020 -0500

    release: v0.5.3

commit 82219286b7344c17e1579aac2cc869a6f7ab0c21
Author: dependabot-preview[bot] <27856297+dependabot-preview[bot]@users.noreply.github.com>
Date:   Mon Dec 7 15:20:35 2020 +0000

    build(deps): bump smallvec from 1.5.0 to 1.5.1
    
    Bumps [smallvec](https://github.com/servo/rust-smallvec) from 1.5.0 to 1.5.1.
    - [Release notes](https://github.com/servo/rust-smallvec/releases)
    - [Commits](https://github.com/servo/rust-smallvec/compare/v1.5.0...v1.5.1)
    
    Signed-off-by: dependabot-preview[bot] <support@dependabot.com>

commit 7d5db4c48028e4122ef765c0b480066c1f2fe3c1
Merge: 573704995 3930a1fc0
Author: Brandon W Maister <bwm@materialize.io>
Date:   Mon Dec 7 10:18:25 2020 -0500

    Merge pull request #4964 from MaterializeInc/dependabot/cargo/libc-0.2.81
    
    build(deps): bump libc from 0.2.80 to 0.2.81

commit e97e59962d00fb794458d2e6e67c287bef6885c6
Author: Brandon W Maister <bwm@materialize.io>
Date:   Mon Dec 7 10:11:05 2020 -0500

    Bump ordered float 2.0.1
    
    RUSTSEC-2020-0082: ordered_float:NotNan may contain NaN after panic in assignment operators

commit 3930a1fc04a2a34ddc105c5360516ab7a95ec958
Author: dependabot-preview[bot] <27856297+dependabot-preview[bot]@users.noreply.github.com>
Date:   Mon Dec 7 10:35:58 2020 +0000

    build(deps): bump libc from 0.2.80 to 0.2.81
    
    Bumps [libc](https://github.com/rust-lang/libc) from 0.2.80 to 0.2.81.
    - [Release notes](https://github.com/rust-lang/libc/releases)
    - [Commits](https://github.com/rust-lang/libc/compare/0.2.80...0.2.81)
    
    Signed-off-by: dependabot-preview[bot] <support@dependabot.com>

commit d8248763d75842c04b9f384ddb63c8fcbf9d3e4e
Author: dependabot-preview[bot] <27856297+dependabot-preview[bot]@users.noreply.github.com>
Date:   Mon Dec 7 10:35:32 2020 +0000

    build(deps): bump rusqlite from 0.24.1 to 0.24.2
    
    Bumps [rusqlite](https://github.com/rusqlite/rusqlite) from 0.24.1 to 0.24.2.
    - [Release notes](https://github.com/rusqlite/rusqlite/releases)
    - [Changelog](https://github.com/rusqlite/rusqlite/blob/master/Changelog.md)
    - [Commits](https://github.com/rusqlite/rusqlite/compare/v0.24.1...v0.24.2)
    
    Signed-off-by: dependabot-preview[bot] <support@dependabot.com>

commit 35d8a4b4d03dfdfc6d5144e99d5cc8f87cd46fb2
Author: dependabot-preview[bot] <27856297+dependabot-preview[bot]@users.noreply.github.com>
Date:   Mon Dec 7 10:34:56 2020 +0000

    build(deps): bump assert_cmd from 1.0.1 to 1.0.2
    
    Bumps [assert_cmd](https://github.com/assert-rs/assert_cmd) from 1.0.1 to 1.0.2.
    - [Release notes](https://github.com/assert-rs/assert_cmd/releases)
    - [Changelog](https://github.com/assert-rs/assert_cmd/blob/master/CHANGELOG.md)
    - [Commits](https://github.com/assert-rs/assert_cmd/compare/v1.0.1...v1.0.2)
    
    Signed-off-by: dependabot-preview[bot] <support@dependabot.com>

commit 460af0c3819b68d54d8a25f7171c44d6c04f2a1c
Author: dependabot-preview[bot] <27856297+dependabot-preview[bot]@users.noreply.github.com>
Date:   Mon Dec 7 10:34:28 2020 +0000

    build(deps): bump structopt from 0.3.20 to 0.3.21
    
    Bumps [structopt](https://github.com/TeXitoi/structopt) from 0.3.20 to 0.3.21.
    - [Release notes](https://github.com/TeXitoi/structopt/releases)
    - [Changelog](https://github.com/TeXitoi/structopt/blob/master/CHANGELOG.md)
    - [Commits](https://github.com/TeXitoi/structopt/compare/v0.3.20...v0.3.21)
    
    Signed-off-by: dependabot-preview[bot] <support@dependabot.com>

commit 6f799d41b048d2194a75cc22306b40448c2e1d75
Author: dependabot-preview[bot] <27856297+dependabot-preview[bot]@users.noreply.github.com>
Date:   Mon Dec 7 10:32:43 2020 +0000

    build(deps): bump procfs from 0.9.0 to 0.9.1
    
    Bumps [procfs](https://github.com/eminence/procfs) from 0.9.0 to 0.9.1.
    - [Release notes](https://github.com/eminence/procfs/releases)
    - [Commits](https://github.com/eminence/procfs/compare/v0.9.0...v0.9.1)
    
    Signed-off-by: dependabot-preview[bot] <support@dependabot.com>

commit 5eaa960da5755f7dd31bc4438c16a226a0e6891e
Author: dependabot-preview[bot] <27856297+dependabot-preview[bot]@users.noreply.github.com>
Date:   Mon Dec 7 10:31:53 2020 +0000

    build(deps): bump whoami from 0.9.0 to 1.0.0
    
    Bumps [whoami](https://github.com/libcala/whoami) from 0.9.0 to 1.0.0.
    - [Release notes](https://github.com/libcala/whoami/releases)
    - [Changelog](https://github.com/libcala/whoami/blob/master/CHANGELOG.md)
    - [Commits](https://github.com/libcala/whoami/compare/v0.9.0...v1.0.0)
    
    Signed-off-by: dependabot-preview[bot] <support@dependabot.com>

commit 5737049958f4532f5d38e76039324a0b886aff9b
Merge: d38adeaa4 eeb84b4e8
Author: Sean Loiselle <sean@materialize.io>
Date:   Sat Dec 5 19:48:20 2020 -0500

    Merge pull request #4954 from sploiselle/create-list-type
    
    sql: CREATE TYPE ... AS LIST

commit eeb84b4e885c3f96fa5d0c119e0acca0b904d303
Author: Sean Loiselle <sean@materialize.io>
Date:   Fri Nov 27 16:04:46 2020 -0500

    sql: consolidate reporting custom type updates

commit 9baa46fcb14f3efe4dc1cf12ef738a4bcbc761c9
Author: Sean Loiselle <sean@materialize.io>
Date:   Wed Nov 25 15:08:00 2020 -0500

    sql: allow CREATE TYPE .. AS LIST ..

commit d38adeaa46b0da214cce19ea792e7ac04b717998
Merge: dda518b58 0b5ec23af
Author: Nikhil Benesch <nikhil.benesch@gmail.com>
Date:   Sat Dec 5 15:15:23 2020 -0500

    Merge pull request #4945 from benesch/no-fuzz
    
    fuzz: remove

commit 0b5ec23af2cee6d70d1167cd59c0646e27a1bc5a
Author: Nikhil Benesch <nikhil.benesch@gmail.com>
Date:   Thu Dec 3 15:38:07 2020 -0500

    fuzz: remove
    
    These fuzzers haven't been used in over a year. Remove them, because
    they're getting in the way.

commit dda518b58da9d41201b1c95a997d81ab6f7125fe
Author: Frank McSherry <fmcsherry@me.com>
Date:   Sat Dec 5 07:16:43 2020 -0500

    Partition MFP operators (#4906)
    
    * partition MFP operators
    
    * worry less about which sort algorithm is used
    
    * correct basically everything
    
    * more comments
    
    * introduce demand() and permute()
    
    * enrich comments

commit 031e5d2ffde985dfa4ff92bd9d5e73d232b8664f
Author: Frank McSherry <fmcsherry@me.com>
Date:   Fri Dec 4 22:30:45 2020 -0500

    Fuse MFP to FlatMap (#4924)
    
    * fuse MFP to FlatMap
    
    * enable MFPs for FlatMap
    
    * blank out undemanded columns
    
    * clippy nonsense
    
    * ensure correct input rendered
    
    * register collection with appropriate expression
    
    * extend datum with additional columns

commit 23608d6683f58100428060be8ec10bb03f893ef3
Merge: 4d8387f90 c919feb49
Author: Matt Jibson <matt.jibson@gmail.com>
Date:   Fri Dec 4 11:03:46 2020 -0700

    Merge pull request #4942 from mjibson/slt
    
    sqllogictest: use a regular postgres connection

commit c919feb496b6484f8adb6899f0c3970872f95690
Author: Matt Jibson <matt.jibson@gmail.com>
Date:   Tue Dec 1 09:59:07 2020 -0700

    sqllogictest: use a regular postgres connection
    
    The previous implementation required correctly implementing many parts of
    the pgwire protocol (prepare, bind, execute) itself, including dataflow
    and coordinator handling. This meant that some SQL features would have
    to be re-implemented here in order to be tested (TAIL, cursors). The
    initial reason that slt could not use pgwire are now gone, so it is now
    reasonable to make this a normal pgwire connector and remove the need
    to double implement some things.
    
    We now format some data (times with microseconds, decimals and floats)
    differently in some cases. This is not a change in the actual data
    over the wire, just our driver's string display of it (i.e., it doesn't
    actually matter).
    
    Fixes #2583

commit 4d8387f90483e12c413939ee03319cfe900d65dc
Merge: 261479a4a d24154f23
Author: Nikhil Benesch <nikhil.benesch@gmail.com>
Date:   Fri Dec 4 01:36:52 2020 -0500

    Merge pull request #4947 from benesch/list-map-catalog
    
    coord: shove map and list types into catalog

commit d24154f23adfb6442c3129e0d424a34bc9b0c631
Author: Nikhil Benesch <nikhil.benesch@gmail.com>
Date:   Thu Dec 3 18:35:29 2020 -0500

    coord: shove map and list types into catalog
    
    This required some mucking about with lazy statics to get the lifetimes
    to work out, but the map and list OIDs are now properly reflected in
    the mz_types and pg_type catalog views.

commit 261479a4aa087e687e3d3640cfd2f24c4afe528f
Author: Jessica Laughlin <JLDLaughlin@users.noreply.github.com>
Date:   Thu Dec 3 19:43:25 2020 -0500

    sql: add pg_crypto hmac function (#4946)
    
    Adds support for the pg_crypto hmac function with the md5, sha224,
    sha256, sha384, and sha512 hash algorithms. Uses the Rust hmac crate
    for the underlying hmac implementation.

commit 5ef0384d9fae16f3d1e55530777c530d2fd0829b
Merge: 799d06c40 e3664918c
Author: Nikhil Benesch <nikhil.benesch@gmail.com>
Date:   Thu Dec 3 18:13:44 2020 -0500

    Merge pull request #4943 from petrosagg/duplicate-improvement
    
    Add .duplicate() method to IteratorExt

commit e3664918cb00a610d366632617af6091d35c90e7
Author: Petros Angelatos <petrosagg@gmail.com>
Date:   Thu Dec 3 19:04:39 2020 +0100

    sql: use IteratorExt::duplicate() for better error handling
    
    Remove the bespoke implementation of duplicate detection and add more
    information to the CREATE TABLE error message.
    
    Signed-off-by: Petros Angelatos <petrosagg@gmail.com>

commit 36a9a1db8a894d42bc4ccfbd638280ddf398f6b6
Author: Petros Angelatos <petrosagg@gmail.com>
Date:   Thu Dec 3 15:01:26 2020 +0100

    ore: add iterator helper that returns each duplicate item
    
    Co-authored-by: Nikhil Benesch <nikhil.benesch@gmail.com>
    Signed-off-by: Petros Angelatos <petrosagg@gmail.com>

commit 799d06c40266f0c042db0a1127951a04983f285e
Author: Jessica Laughlin <JLDLaughlin@users.noreply.github.com>
Date:   Thu Dec 3 15:49:49 2020 -0500

    sql: add sha2 algorithms to pg_crypto digest function (#4940)
    
    Adds support for sha224, sha256, sha384, and sha512.

commit ba59977655c00a88bad6d9137a8175e88116ac3b
Merge: 4d6e20966 28ce36b4a
Author: Brennan Vincent <brennan@materialize.io>
Date:   Thu Dec 3 14:51:53 2020 -0500

    Merge pull request #4944 from umanwizard/ccsr
    
    more verbose error message for CCSR failures

commit 28ce36b4a462022e17304e718381f0fb919591d5
Author: Brennan Vincent <brennan@materialize.io>
Date:   Thu Dec 3 14:22:50 2020 -0500

    more verbose error message for CCSR failures

commit 4d6e209669b56c14acba7b718d745dde2493f3c0
Author: Ruchir Khaitan <ruchir0001@gmail.com>
Date:   Thu Dec 3 12:34:06 2020 -0500

    dataflow: fuse non-monotonic min and max (#4895)
    
    * dataflow: fuse non-monotonic min and max
    
    Closes #4669

commit 70bc618e6f29487507cb7652f5c6de4f4291ff86
Author: Jessica Laughlin <JLDLaughlin@users.noreply.github.com>
Date:   Thu Dec 3 10:47:06 2020 -0500

    sql: add pg_crypto digest function with md5 support (#4936)
    
    Adds support for pg_crypto's digest function using the md5
    hash algorithm. This change leaves other algorithm options
    unimplemented.

commit 0f959ad297ffb9b3a1c0905ca5f48cdd7c4511f6
Merge: 55fd8f375 8bd42ec9d
Author: Sean Loiselle <sean@materialize.io>
Date:   Thu Dec 3 00:44:03 2020 -0500

    Merge pull request #4937 from sploiselle/mapt-to-text
    
    sql: permit casting map to text

commit 8bd42ec9d6a6c98aaffd9ba853a5a3711041375a
Author: Sean Loiselle <sean@materialize.io>
Date:   Wed Dec 2 23:14:21 2020 -0500

    sql: permit casting map to text

commit 55fd8f37572141d5760fbbba1f6880a368958ec1
Merge: 0db4d007b d0d43f562
Author: Sean Loiselle <sean@materialize.io>
Date:   Wed Dec 2 16:53:21 2020 -0500

    Merge pull request #4930 from sploiselle/data-type-refactor
    
    parser: refactor DataType, sychronize with catalog

commit 0db4d007b32000db5b3218ee1606baaf691c401d
Author: Brandon W Maister <bwm@materialize.io>
Date:   Wed Dec 2 16:24:23 2020 -0500

    Add documentation for to_char and the specification language (#4882)

commit 723c75914ef15aa47311c1c35a631fe909c9ac38
Merge: 673ae47a5 9adc2cb43
Author: Brandon W Maister <bwm@materialize.io>
Date:   Wed Dec 2 16:23:45 2020 -0500

    Merge pull request #4933 from quodlibetor/doc-typo
    
    Fix typo in docs link

commit d0d43f562387f066e438b78917e77236851007c0
Author: Sean Loiselle <sean@materialize.io>
Date:   Tue Dec 1 15:27:27 2020 -0500

    parser: remove all special casing around simple datatypes
    
    Bring our parser inline with PostgreSQL's by where simple data
    types don't need any special handling––not even a keyword in the
    parser.

commit 9adc2cb43f35e6e7883cbd2d13dc8e4f43ed0f92
Author: Brandon W Maister <bwm@materialize.io>
Date:   Wed Dec 2 15:58:40 2020 -0500

    Fix typo in docs link

commit 673ae47a556c69aa47d633b7a101d129168407b5
Merge: c81a3837f fbf6c4ad2
Author: Nikhil Benesch <nikhil.benesch@gmail.com>
Date:   Wed Dec 2 13:36:50 2020 -0500

    Merge pull request #4928 from benesch/sql-alchemy
    
    test/lang: add basic smoketest for SQLAlchemy

commit c81a3837f89342dceb180a35122c5b521c816b15
Merge: 7c80dec7f 0a4673d98
Author: Jessica Laughlin <JLDLaughlin@users.noreply.github.com>
Date:   Wed Dec 2 12:13:08 2020 -0500

    docs: add map and map operator documentation (#4920)

commit 0a4673d988175fe6e806dbcda456dd293c7f69d2
Author: JLDLaughlin <jessica@materialize.io>
Date:   Tue Dec 1 16:13:23 2020 -0500

    docs: add map and map operator documentation

commit fbf6c4ad269af64e539c198f268bcd934e3cb83b
Author: Nikhil Benesch <nikhil.benesch@gmail.com>
Date:   Wed Dec 2 01:40:22 2020 -0500

    test/lang: add basic smoketest for SQLAlchemy
    
    This is also an indirect test of psycopg2, which SQLAlchemy uses under
    the hood.
    
    Fix #4913.

commit db4830a5ff3126fe772b7f6cd6fde8b7c54e4514
Author: Nikhil Benesch <nikhil.benesch@gmail.com>
Date:   Wed Dec 2 01:39:24 2020 -0500

    sql: add support for current_schema function

commit a551fde06b675ced61a1a051b2c0a154110c75ff
Author: Nikhil Benesch <nikhil.benesch@gmail.com>
Date:   Tue Dec 1 23:51:03 2020 -0500

    coord: expose typarray column in pg_type
    
    The typarray column contains the OID of the array type that corresponds
    to the type, if there is such an array type.

commit 7c80dec7f407190215f6a10d4ba637981621af23
Merge: 1bb689b75 5c8455e15
Author: Nikhil Benesch <nikhil.benesch@gmail.com>
Date:   Wed Dec 2 01:16:50 2020 -0500

    Merge pull request #4784 from benesch/sql-versions
    
    sql: expose version information via SQL functions

commit 5c8455e15b41d60ce13f1b6fcd2d90ed46e462c0
Author: Nikhil Benesch <nikhil.benesch@gmail.com>
Date:   Fri Nov 13 01:08:58 2020 -0500

    sql: expose version information via SQL functions
    
    Add the version() and mz_version() functions to report
    PostgreSQL-specific and Materialize-specific version information,
    respectively.
    
    Fix #4776.

commit 0b8519c47bfd91d09df6681a1d5e3f3eddb2b139
Author: Nikhil Benesch <nikhil.benesch@gmail.com>
Date:   Fri Nov 13 00:31:43 2020 -0500

    coord,sql: move catalog config params into dedicated struct
    
    This lowers the amount of effort required to add a new config param.

commit c8ef71c3f67e0e1e0c0c10a8a3ffbe87f1eda11a
Author: Nikhil Benesch <nikhil.benesch@gmail.com>
Date:   Fri Nov 13 00:15:21 2020 -0500

    coord,sql: remove dead catalog methods

commit 1bb689b75f378918cc21ed683fad6bbb1f38974a
Merge: 8fdb4e21e 6f9bbf67e
Author: Nikhil Benesch <nikhil.benesch@gmail.com>
Date:   Wed Dec 2 00:04:38 2020 -0500

    Merge pull request #4860 from benesch/deb-idempotency
    
    ci/test: ignore existing files when uploading .deb

commit 8fdb4e21e34998df06ce3b324d1e6a6b113069bd
Merge: 84a7a83e9 53ee4b13b
Author: Sean Loiselle <sean@materialize.io>
Date:   Tue Dec 1 21:37:29 2020 -0500

    Merge pull request #4872 from sploiselle/cte-docs
    
    docs: CTEs

commit 84a7a83e97d98ffebc25e5c8114cb82e1d813d04
Merge: 3da499cfc 3e189fd06
Author: Brennan Vincent <brennan@materialize.io>
Date:   Tue Dec 1 20:02:48 2020 -0500

    Merge pull request #4923 from umanwizard/prepare-v0.5.4-dev
    
    Prepare v0.5.4 dev

commit 3e189fd0633bd8e56df39eb5995964fd89473b34
Author: Brennan Vincent <brennan@materialize.io>
Date:   Tue Dec 1 17:42:09 2020 -0500

    Prepare next phase of development: v0.5.4-dev

commit f6545df0578c53f114a558d0e0a3cb346de5e132
Author: Brennan Vincent <brennan@materialize.io>
Date:   Tue Dec 1 17:40:45 2020 -0500

    release: v0.5.3-rc1

commit 3da499cfc01ea0af15b61a72382879eec28fa12a
Merge: 4c154d429 3118b7daa
Author: Nikhil Benesch <nikhil.benesch@gmail.com>
Date:   Tue Dec 1 16:20:41 2020 -0500

    Merge pull request #4893 from petrosagg/optional-columns
    
    sql: Support inserts with partially specified columns

commit 3118b7daa9f96f71cde0fff5266520d6b3333181
Author: Petros Angelatos <petrosagg@gmail.com>
Date:   Sat Nov 28 14:08:15 2020 +0100

    sql: support inserts with partially specified columns
    
    The error messages are also adjusted to more closely match those of
    postgres.
    
    Related to #4364
    
    Signed-off-by: Petros Angelatos <petrosagg@gmail.com>

commit 4c154d429aa5e275875702ca60f4571f95a70c14
Merge: 6cfe589c1 a2d4f4ee5
Author: Matt Jibson <matt.jibson@gmail.com>
Date:   Tue Dec 1 10:50:22 2020 -0700

    Merge pull request #4871 from mjibson/declare-2
    
    sql: support DECLARE, FETCH, CLOSE cursor statements

commit 6cfe589c1100e869f761a252ad315e63fb15d12c
Merge: 42377d668 efbdf4bda
Author: Jessica Laughlin <JLDLaughlin@users.noreply.github.com>
Date:   Tue Dec 1 12:38:18 2020 -0500

    interchange: add map to AvroFlatDecoder (#4916)
    
    Adds the ability for the AvroFlatDecoder to decode map types.
    Because the pairs contained in the map need to be packed into the
    row in sorted order, the current implementation decodes each map
    value using the ValueDecoder. This is expensive, and should be fixed
    in the future if possible.

commit a2d4f4ee5180265cb2bf59a74eb63f246207a337
Author: Matt Jibson <matt.jibson@gmail.com>
Date:   Mon Nov 16 13:36:43 2020 -0700

    sql: support DECLARE, FETCH, CLOSE cursor statements
    
    The purpose of this support is to allow users with drivers that force
    buffering all results in memory (most drivers) to be able to use TAIL
    as a normal rows-returning statement (i.e., not COPY). FETCH makes it
    easy to ask for a limited number of rows at a time.
    
    These SQL statements are portal control messages that have exact pgwire
    equivalents. As such they can be implemented without involvement of the
    coordinator, similar to how the other portal control messages are (Parse,
    Bind, Execute). In practice this means that one_query and execute now
    have early-exit points for cursor statements. In addition, we also need
    to pass around possible source portal information for correct semantics.
    
    FETCH here is not a full implementation with respect to what Postgres
    supports. Their FETCH drains the target portal of N rows, caches them,
    and returns them as requested to users. Users could use Execute pgwire
    messages to retrieve partial results at a time. We expect no one to do
    this and, in order to avoid implementation difficulty, do not support
    that use case.
    
    sqllogictests are not included yet because it would require implementing
    cursors there. Instead sqllogictest will be changed in a later PR to
    work over pgwire, at which point cursor tests will be added.

commit efbdf4bdae0b0f6dacd9a71b338d7d675e248763
Author: JLDLaughlin <jessica@materialize.io>
Date:   Mon Nov 30 17:26:46 2020 -0500

    interchange: add map to AvroFlatDecoder
    
    Adds the ability for the AvroFlatDecoder to decode map types.
    Because the pairs contained in the map need to be packed into the
    row in key-sorted order, the current implementation must decode each map
    value using the ValueDecoder. This route is expensive, and should
    be fixed in the future if possible.

commit 42377d6685ea20e0e1688b4f880f7b1ba1ec2e48
Merge: 264fec407 22d466243
Author: Nikhil Benesch <nikhil.benesch@gmail.com>
Date:   Tue Dec 1 11:16:08 2020 -0500

    Merge pull request #4907 from MaterializeInc/purge-libflate
    
    avro: switch from libflate to flate2 crate

commit 264fec407dff670ebd11cd92b99f4c394941cf0e
Merge: 225f1b5de 20ad388d6
Author: Nikhil Benesch <nikhil.benesch@gmail.com>
Date:   Tue Dec 1 01:07:05 2020 -0500

    Merge pull request #4891 from petrosagg/insert-ordering
    
    sql: correctly rearrange columns during inserts

commit 225f1b5de26b479cfe58f793d25eac1aeb1562bd
Merge: 737cf4fc7 f1b21072a
Author: Nikhil Benesch <nikhil.benesch@gmail.com>
Date:   Tue Dec 1 01:02:42 2020 -0500

    Merge pull request #4878 from benesch/cast-special
    
    sql: jam recursive casts into the global cast map

commit f1b21072af1e915c1f96abc62b200a23e05b34d4
Author: Nikhil Benesch <nikhil.benesch@gmail.com>
Date:   Tue Nov 24 14:40:20 2020 -0500

    sql: jam recursive casts into the global cast map
    
    Casting lists and map types is tricky, because the casts must proceed
    recursively on the element types. So casts for these types were
    previously handled separately from the other types of casts.  A small
    bug resulted from this design, as the "can_cast" function was unaware of
    these special list and map casts.
    
    Restructure the cast map so that it can describe the recursive casts
    necessary for maps and lists. The gist is that the cast map now stores
    "cast templates" which can describe a suite of casts, like "string to
    any list", rather than just individual casts between two concrete types.

commit d0961068f34dc1b1597e9474daf982b579cc0ef1
Author: Nikhil Benesch <nikhil.benesch@gmail.com>
Date:   Tue Nov 24 13:33:19 2020 -0500

    sql: privatize more of the typeconv api
    
    The only caller of typeconv::get_direct_cast is only interested in
    whether the cast exists, not getting a hold of the actual cast
    operation. So privatize CastOp and get_direct_cast, and replace them
    with a can_cast function. This gives us more flexibility to rework the
    API internally.

commit cc0e6f8aee6bff183713605a1d117dfcc79c988c
Author: Nikhil Benesch <nikhil.benesch@gmail.com>
Date:   Tue Nov 24 13:28:26 2020 -0500

    sql: make cast ops infallible

commit 737cf4fc70c8f6a5b572f9107993b74f0b7ed228
Merge: 8e83ead07 1d8b43d1a
Author: Nikhil Benesch <nikhil.benesch@gmail.com>
Date:   Mon Nov 30 23:48:23 2020 -0500

    Merge pull request #4909 from benesch/isomdy
    
    coord: permit setting DateStyle to "ISO" explicitly

commit 8e83ead07463fb9fdd1ba8e9c63b7194cd3b0440
Merge: 9784ffe98 6ed4751c4
Author: Sean Loiselle <sean@materialize.io>
Date:   Mon Nov 30 23:47:44 2020 -0500

    Merge pull request #4918 from sploiselle/float4
    
    sql: allow real/float4 to be used

commit 6ed4751c414366c34e4ffd4e7eb22c4727c36782
Author: Sean Loiselle <sean@materialize.io>
Date:   Mon Nov 30 22:22:12 2020 -0500

    testdrive: add float support

commit c523fc200bf7beb0e73eda05d1636a8932e5df6a
Author: Sean Loiselle <sean@materialize.io>
Date:   Sat Nov 28 12:29:12 2020 -0500

    sql: make float4 available

commit 9784ffe98130aae0fc9e893d319cdff6bc40af8d
Author: Frank McSherry <fmcsherry@me.com>
Date:   Mon Nov 30 22:09:22 2020 -0500

    Introduce each DeltaQuery arrangement at most once (#4888)
    
    * introduce each deltaquery arrangement at most once
    
    * remove commented code

commit a90c80ded4bd2338ce1fb44820704de9b46afb92
Merge: ffb60f6d5 2bff6d6cb
Author: Sean Loiselle <sean@materialize.io>
Date:   Mon Nov 30 20:22:17 2020 -0500

    Merge pull request #4910 from sploiselle/docs-header-sync
    
    docs: synchronize FOS header style

commit ffb60f6d5a5a4bbffa86fdd14450af602c17f7d3
Author: Frank McSherry <fmcsherry@me.com>
Date:   Mon Nov 30 19:10:12 2020 -0500

    correct link (#4917)

commit c5e471937d05c0f8d43b48807d554b9899fd637c
Merge: 3c042d367 333d70a9f
Author: Eli Lindsey <eli@siliconsprawl.com>
Date:   Mon Nov 30 17:31:43 2020 -0500

    Merge pull request #4912 from elindsey/readcommit
    
    match the isolation levels between the kafka source and our timestamp thread

commit 333d70a9f27dbb7b3ba7bdba800f095436ae8906
Author: Eli Lindsey <eli@siliconsprawl.com>
Date:   Mon Nov 30 14:21:55 2020 -0500

    match the isolation levels between the kafka source and our timestamp thread

commit 2bff6d6cbe4469432e3c9fd6e7ef18fceb7753a8
Author: Sean Loiselle <sean@materialize.io>
Date:   Mon Nov 30 13:44:49 2020 -0500

    docs: synchronize FOS header style

commit 1d8b43d1a4d86a2c6cc0907903ce5ade5a627095
Author: Nikhil Benesch <nikhil.benesch@gmail.com>
Date:   Mon Nov 30 13:04:58 2020 -0500

    coord: permit setting DateStyle to "ISO" explicitly
    
    Values besides the default are still rejected, but accepting
    
        > SET DateStyle = 'ISO'
    
    as a no-op is required for ODBC support.
    
    Fix #4908.

commit 3c042d367b716cc33892babdbf30f558fb8ff7c4
Merge: a32178e3d 7501fba7a
Author: Nikhil Benesch <nikhil.benesch@gmail.com>
Date:   Mon Nov 30 12:44:12 2020 -0500

    Merge pull request #4900 from MaterializeInc/dependabot/cargo/smallvec-1.5.0
    
    build(deps): bump smallvec from 1.4.2 to 1.5.0

commit a32178e3d8882e27c7ef130ab7a5cbc4c49ea587
Merge: 2d0f5caf8 51453b8c5
Author: Nikhil Benesch <nikhil.benesch@gmail.com>
Date:   Mon Nov 30 12:44:06 2020 -0500

    Merge pull request #4899 from MaterializeInc/dependabot/cargo/askama-0.10.5
    
    build(deps): bump askama from 0.10.3 to 0.10.5

commit 2d0f5caf8b11fb3cae0514c5fc51ac00e1b16e96
Merge: c7b1b9b94 c6df07aec
Author: Nikhil Benesch <nikhil.benesch@gmail.com>
Date:   Mon Nov 30 12:41:53 2020 -0500

    Merge pull request #4898 from MaterializeInc/dependabot/cargo/csv-1.1.5
    
    build(deps): bump csv from 1.1.4 to 1.1.5

commit 22d46624302f365e61c9bd5942c8cf5604fc47f7
Author: Nikhil Benesch <nikhil.benesch@gmail.com>
Date:   Mon Nov 30 12:40:31 2020 -0500

    avro: switch from libflate to flate2 crate
    
    The crates are equivalent in functionality, but flate2 is more widely
    used. Switch the avro crate to flate2, so that we don't have two
    separate zlib crates in our tree.

commit c7b1b9b941c5b45c97ba9e4d175d3434360c5e9e
Merge: 46f06f493 d8c28bb08
Author: Nikhil Benesch <nikhil.benesch@gmail.com>
Date:   Mon Nov 30 10:59:19 2020 -0500

    Merge pull request #4901 from MaterializeInc/dependabot/cargo/procfs-0.9.0
    
    build(deps): bump procfs from 0.8.0 to 0.9.0

commit 51453b8c59fe29a9ffccc6f37afbe97be876a506
Author: dependabot-preview[bot] <27856297+dependabot-preview[bot]@users.noreply.github.com>
Date:   Mon Nov 30 15:54:55 2020 +0000

    build(deps): bump askama from 0.10.3 to 0.10.5
    
    Bumps [askama](https://github.com/djc/askama) from 0.10.3 to 0.10.5.
    - [Release notes](https://github.com/djc/askama/releases)
    - [Commits](https://github.com/djc/askama/commits)
    
    Signed-off-by: dependabot-preview[bot] <support@dependabot.com>

commit 46f06f493627229d7cbbbecfac57e98594ff870d
Merge: f0aa3ca70 78827c394
Author: Nikhil Benesch <nikhil.benesch@gmail.com>
Date:   Mon Nov 30 10:52:44 2020 -0500

    Merge pull request #4903 from MaterializeInc/dependabot/cargo/async-trait-0.1.42
    
    build(deps): bump async-trait from 0.1.41 to 0.1.42

commit f0aa3ca70904fe2dc60b4e68dc58f2320c97cce2
Merge: 778700e9f 62318bf0a
Author: Arjun Narayan <arjun@materialize.io>
Date:   Mon Nov 30 09:58:10 2020 -0500

    Merge pull request #4897 from rjnn/readme-updates
    
    README: move getting started to the top

commit 78827c394ff0af031877c42360c82ce7a028b69e
Author: dependabot-preview[bot] <27856297+dependabot-preview[bot]@users.noreply.github.com>
Date:   Mon Nov 30 10:30:13 2020 +0000

    build(deps): bump async-trait from 0.1.41 to 0.1.42
    
    Bumps [async-trait](https://github.com/dtolnay/async-trait) from 0.1.41 to 0.1.42.
    - [Release notes](https://github.com/dtolnay/async-trait/releases)
    - [Commits](https://github.com/dtolnay/async-trait/compare/0.1.41...0.1.42)
    
    Signed-off-by: dependabot-preview[bot] <support@dependabot.com>

commit d8c28bb08e27927c75016df480e074320b73511b
Author: dependabot-preview[bot] <27856297+dependabot-preview[bot]@users.noreply.github.com>
Date:   Mon Nov 30 10:29:26 2020 +0000

    build(deps): bump procfs from 0.8.0 to 0.9.0
    
    Bumps [procfs](https://github.com/eminence/procfs) from 0.8.0 to 0.9.0.
    - [Release notes](https://github.com/eminence/procfs/releases)
    - [Commits](https://github.com/eminence/procfs/compare/v0.8.0...v0.9.0)
    
    Signed-off-by: dependabot-preview[bot] <support@dependabot.com>

commit 7501fba7ace7f8c3f17e6821f73f9392644d13be
Author: dependabot-preview[bot] <27856297+dependabot-preview[bot]@users.noreply.github.com>
Date:   Mon Nov 30 10:29:03 2020 +0000

    build(deps): bump smallvec from 1.4.2 to 1.5.0
    
    Bumps [smallvec](https://github.com/servo/rust-smallvec) from 1.4.2 to 1.5.0.
    - [Release notes](https://github.com/servo/rust-smallvec/releases)
    - [Commits](https://github.com/servo/rust-smallvec/compare/v1.4.2...v1.5.0)
    
    Signed-off-by: dependabot-preview[bot] <support@dependabot.com>

commit c6df07aecb4babdd38d4b99d43bfb12bc54be6f1
Author: dependabot-preview[bot] <27856297+dependabot-preview[bot]@users.noreply.github.com>
Date:   Mon Nov 30 10:28:09 2020 +0000

    build(deps): bump csv from 1.1.4 to 1.1.5
    
    Bumps [csv](https://github.com/BurntSushi/rust-csv) from 1.1.4 to 1.1.5.
    - [Release notes](https://github.com/BurntSushi/rust-csv/releases)
    - [Commits](https://github.com/BurntSushi/rust-csv/compare/1.1.4...1.1.5)
    
    Signed-off-by: dependabot-preview[bot] <support@dependabot.com>

commit 62318bf0ac56fdf2214333ce0ad26e9f76d64b8c
Author: Arjun Narayan <arjun@materialize.io>
Date:   Sun Nov 29 13:33:44 2020 -0500

    README: move getting started to the top

commit 778700e9fcc5105a0f705559a6ce76d849aab96e
Merge: c106ba15a c6df606a6
Author: Arjun Narayan <arjun@materialize.io>
Date:   Sun Nov 29 13:32:07 2020 -0500

    Merge pull request #4896 from rjnn/readme-updates
    
    Update Slack Link

commit c6df606a691d6c8ae757a8992b3062977e0f64d7
Author: Arjun Narayan <arjun@materialize.io>
Date:   Sun Nov 29 13:20:04 2020 -0500

    Update Slack Link

commit c106ba15af920386545e5c47016508635b1b6f4c
Merge: 29efdc9d7 9fb1acca2
Author: Sean Loiselle <sean@materialize.io>
Date:   Sat Nov 28 16:56:33 2020 -0500

    Merge pull request #4894 from sploiselle/docs-demo-alias
    
    docs: add redirect from /demo to /demos

commit 9fb1acca277ea54202d487147ec573b5d123a16d
Author: sploiselle <sean@materialize.io>
Date:   Sat Nov 28 16:47:49 2020 -0500

    docs: add redirect from /demo to /demos

commit 20ad388d64e3c123ea00632a765f00c90944ec70
Author: Petros Angelatos <petrosagg@gmail.com>
Date:   Thu Nov 26 21:53:16 2020 +0100

    sql: correctly rearrange columns during inserts
    
    Fixes #4890
    
    Signed-off-by: Petros Angelatos <petrosagg@gmail.com>

commit c37fe1a791efed2bf5a7eca54f4af8fcd5d629ce
Author: Petros Angelatos <petrosagg@gmail.com>
Date:   Fri Nov 27 23:10:32 2020 +0100

    test: add testcases for column ordering
    
    add a third column to the test table to demonstrate issue #4890. The
    tests were previously falling into a degenerate case where it happened
    to work.
    
    Signed-off-by: Petros Angelatos <petrosagg@gmail.com>

commit 29efdc9d7f50891c461ffdd2727ab5d748c2a2a7
Merge: fc3a68516 1675c76a9
Author: Nikhil Benesch <nikhil.benesch@gmail.com>
Date:   Wed Nov 25 15:14:04 2020 -0500

    Merge pull request #4827 from MaterializeInc/fix-dot-access-regression
    
    sql-parser: fix regression in parsing of field accesses

commit 1675c76a9109de2d899f8d3eda61704c1e04584c
Author: Nikhil Benesch <nikhil.benesch@gmail.com>
Date:   Wed Nov 25 13:44:31 2020 -0500

    doc/user: format GH links consistently
    
    Conventionally we place the GH links inside of the main sentence of the
    release note.

commit 4a5b72ad8d5d127bf6048e6d538c9b6f8ad115a2
Author: Nikhil Benesch <nikhil.benesch@gmail.com>
Date:   Wed Nov 18 14:26:38 2020 -0500

    sql-parser: fix regression in parsing of field accesses
    
    We previously supported field accesses like:
    
         ((col).field1).field2
    
    but recent SQL parser refactors broke this. Restore support for this
    syntax. The SQL parser now treats both field accesses and subscripting
    as a maximum-precedence infix operation.
    
    This is at variance with PostgreSQL, which severly limits where field
    accesses and subscripting can occur, but matching PostgreSQL here is
    more trouble than it's worth. Their restrictions seem to be mostly a
    result of Yacc limitations rather than an intentional design.

commit fc3a6851610bed1869370e6f1614af997d60d821
Merge: ab69a1791 60b5ef432
Author: Brandon W Maister <bwm@materialize.io>
Date:   Wed Nov 25 11:46:50 2020 -0500

    Merge pull request #4881 from petrosagg/date-panics
    
    repr: handle invalid dates using chrono's checks

commit 60b5ef432567cf21c66d9ac29521fa2bc542d6f5
Author: Petros Angelatos <petrosagg@gmail.com>
Date:   Wed Nov 25 14:07:41 2020 +0100

    repr: handle invalid dates using chrono's checks
    
    The current code does some rudimentary checks before passing the data to
    chrono's `from_ymd` function but invalid combinations can still be
    constructed, causing a panic.
    
    Switch to using `from_ymd_opt()` to handle all leap year, and per month
    limit edge cases
    
    Fixes #4880
    
    Signed-off-by: Petros Angelatos <petrosagg@gmail.com>

commit ab69a179150fd3facb333e71e2e514e6eec6a511
Author: Jessica Laughlin <JLDLaughlin@users.noreply.github.com>
Date:   Tue Nov 24 19:51:26 2020 -0500

    sql: support empty maps (#4874)

commit 32162db5985ec343c7b904dbd779717d040a78e9
Merge: 36e208b58 266ecd20d
Author: Nikhil Benesch <nikhil.benesch@gmail.com>
Date:   Tue Nov 24 17:33:24 2020 -0500

    Merge pull request #4879 from MaterializeInc/benesch-patch-1
    
    sql: fix grammar in comment in func selection code

commit 266ecd20d8059f73c9d403688fd82e72561c4508
Author: Nikhil Benesch <nikhil.benesch@gmail.com>
Date:   Tue Nov 24 17:03:53 2020 -0500

    sql: fix grammar in comment in func selection code

commit 36e208b582f5ed9fa9f915121b7fca0bf518da94
Merge: 64d25b58e f177de4a8
Author: Nikhil Benesch <nikhil.benesch@gmail.com>
Date:   Tue Nov 24 17:02:57 2020 -0500

    Merge pull request #4875 from benesch/sql-polymorphism
    
    repr,sql: get rid of desaturation

commit 64d25b58e281f48c617b42490b19ec488f4634fa
Author: Brandon W Maister <bwm@materialize.io>
Date:   Tue Nov 24 16:03:54 2020 -0500

    mzconduct: Use relative paths instead of changing directory (#4877)
    
    This fixes an occasional source of bugs, And one explicit bug that I ran into.
    
    More importantly brings mzconduct more inline with the conventions of
    mzcompose, and is thus a step on the way to #4769

commit 5894d256ba8898bc89c905b9ee9d8b9d217379ac
Merge: 202ae6785 b531aa1da
Author: Brandon W Maister <bwm@materialize.io>
Date:   Tue Nov 24 15:58:06 2020 -0500

    Merge pull request #4863 from quodlibetor/reduce-arrangement-maintenance-count
    
    Reduce the number of metrics we send for tracking "in maintenance"

commit 202ae6785fbe8869cedc9d08f15f539854d9e80d
Merge: d48a69690 d920e617c
Author: Sean Loiselle <sean@materialize.io>
Date:   Tue Nov 24 15:20:17 2020 -0500

    Merge pull request #4873 from sploiselle/misleading-list-type-comment
    
    sql/plan: remove misleading comment about ListAny/ArrayAny

commit d48a69690f9251f8465e33f3e3af670531c86a94
Author: Frank McSherry <fmcsherry@me.com>
Date:   Tue Nov 24 15:09:53 2020 -0500

    deduplicate coalesce arguments (#4876)

commit f177de4a8cd1412ca4e6218eb03bf26245388fb7
Author: Nikhil Benesch <nikhil.benesch@gmail.com>
Date:   Tue Nov 24 13:01:04 2020 -0500

    repr: auto-derive a ScalarBaseType enum
    
    ScalarBaseType mirrors ScalarType, except that data associated with each
    variant has been stripped. For example, ScalarType::Decimal(usize,
    usize) becomes ScalarBaseType::Decimal.
    
    This supplants the "desaturate" function, which manually "zeroed-out"
    the data fields. Using ScalarBaseType is clearer than matching on
    desaturated ScalarTypes, in my opinion, and the enum-kinds crate makes
    maintaining the extra enum essentially free.

commit 51cb13bcdaac93d21b95cd2682ea06070414fb06
Author: Nikhil Benesch <nikhil.benesch@gmail.com>
Date:   Tue Nov 24 12:11:03 2020 -0500

    sql: avoid desaturation in function selection

commit e4f541e89270e107f503af52814a91da5a53a4d3
Author: Nikhil Benesch <nikhil.benesch@gmail.com>
Date:   Tue Nov 24 11:20:28 2020 -0500

    sql: replumb polymorphic type resolution
    
    Rather than resolving polymorphic types by constructing a ParamList
    containing the resolved concrete types, teach coerce_args_to_types to
    perform polymorphic type resolution based on the function's original
    ParamList. This ensures that ParamList only ever describes the
    *abstract* parameters to a function, and doesn't need to do double duty
    representing both the abstract and concrete parameters.

commit 67f81ae00161417af53579354a2d86e97c531b02
Author: Nikhil Benesch <nikhil.benesch@gmail.com>
Date:   Mon Nov 23 14:54:20 2020 -0500

    sql: mark ParamType::MapAny as polymorphic
    
    Also use an exhaustive match statement, rather than the matches! macro,
    so that future additions to ParamType cause compiler errors in this
    method.

commit 962ce81c27d16f3a6debe3277ff4f246d523928f
Author: Nikhil Benesch <nikhil.benesch@gmail.com>
Date:   Mon Nov 23 17:25:44 2020 -0500

    sql: merge coerce_arg_to_types and coerce_args_to_type
    
    No one calls the non-bulk version directly, so just merge the two
    functions together.
    
    This is pure code movement.

commit d920e617cf0daeb900702a75e68aeeb86cbdbaa9
Author: Sean Loiselle <sean@materialize.io>
Date:   Tue Nov 24 10:51:07 2020 -0500

    sql/plan: disallow ListAny + ArrayAny's acceptance of String vals

commit 7d9bc41c0600218d5cea6832cf08195138101dbb
Author: Jessica Laughlin <JLDLaughlin@users.noreply.github.com>
Date:   Tue Nov 24 11:38:24 2020 -0500

    sql: support nested map types (#4868)
    
    Adds support for nested map types like:
    
        '{a=>{b=>1}}'::map[text=>map[text=>int]]
    
    Map keys must be of type text and non-null. Map values can be any
    non-custom type. Support for nested maps with custom value types
    is forthcoming.

commit 53ee4b13bb9aa3aa783a1fa8351ca90c5e9276a9
Author: Sean Loiselle <sean@materialize.io>
Date:   Mon Nov 23 22:46:20 2020 -0500

    docs: reformat select doc

commit c683e60e4822734782c984353124eb2b78f05515
Author: Sean Loiselle <sean@materialize.io>
Date:   Mon Nov 23 22:45:43 2020 -0500

    docs: document CTEs

commit e3ca1561b97083d553323a8883547297fb38c574
Merge: b5fb4487f 0efe10d4e
Author: Brandon W Maister <bwm@materialize.io>
Date:   Tue Nov 24 09:39:27 2020 -0500

    Merge pull request #4870 from quodlibetor/update-deps
    
    Update several dependencies that have been left behind by dependabot

commit 0efe10d4eaa1d1a42d1f2968428fbeb9d2c6d797
Author: Brandon W Maister <bwm@materialize.io>
Date:   Mon Nov 23 17:42:46 2020 -0500

    Update proc-macro related packages

commit 45c6f347543c1196a3942a037d22be6686b9e6f5
Author: Brandon W Maister <bwm@materialize.io>
Date:   Mon Nov 23 17:36:02 2020 -0500

    Update bstr autocfg fnv itoa siphasher

commit 066945dd61c883e5d5d70ea576ed70fd5202d170
Author: Brandon W Maister <bwm@materialize.io>
Date:   Mon Nov 23 17:30:31 2020 -0500

    Update regex and friends
    
    It no longer needs utf8-ranges.

commit b5fb4487fab3e37c5fe566e3d56de86149864e7b
Merge: acd17bd09 d059b97cf
Author: Brandon W Maister <bwm@materialize.io>
Date:   Mon Nov 23 17:15:54 2020 -0500

    Merge pull request #4866 from quodlibetor/update-rust-1.48
    
    Update Rust to 1.48

commit acd17bd09f41e33532c0e4891715903e5a61caf2
Author: Ruchir Khaitan <ruchir0001@gmail.com>
Date:   Mon Nov 23 16:51:38 2020 -0500

    *: let users hint the expected number of values for a group key (#4807)

commit d059b97cf4d11d83fa4a78f0455aedebfb9c4c9c
Author: Brandon W Maister <bwm@materialize.io>
Date:   Mon Nov 23 16:47:13 2020 -0500

    Handle new clippy lint single_char_push_str

commit 137cb90f91f26d7fe5201cdb77b10703ce1276db
Author: Brandon W Maister <bwm@materialize.io>
Date:   Mon Nov 23 16:46:46 2020 -0500

    Handle new clippy lint needless_return

commit eb5e3bc7324e56faa4b5e1442d05f23d8017b451
Author: Brandon W Maister <bwm@materialize.io>
Date:   Mon Nov 23 16:40:05 2020 -0500

    Handle new clippy lint manual_strip

commit 415b1e8c859930dbe15a37bc267f7c9a96f8e9f2
Author: Brandon W Maister <bwm@materialize.io>
Date:   Mon Nov 23 16:30:44 2020 -0500

    Handle new clippy lint unnecessary_lazy_evaluations

commit 3064858267a14a60ac6e0f020a2394950d47300d
Author: Brandon W Maister <bwm@materialize.io>
Date:   Mon Nov 23 16:06:23 2020 -0500

    Update linked-hash-map
    
    There is a long-fixed issue[1] that we hit on this upgrade.
    
    Honestly I'm surprised that dependabot didn't upgrade us on this.
    
    [1]: https://github.com/contain-rs/linked-hash-map/pull/100

commit 555e20bdbc60e6a70e89a37796d9e2fdad3e540a
Merge: 654e40dd8 0fd153715
Author: Sean Loiselle <sean@materialize.io>
Date:   Mon Nov 23 15:18:13 2020 -0500

    Merge pull request #4851 from sploiselle/iterative-casts
    
    sql/plan: unify iterative casts

commit b0409204d8e2ccd6ee8d67dce2e54e9310d6ab8d
Author: Brandon W Maister <bwm@materialize.io>
Date:   Mon Nov 23 14:31:03 2020 -0500

    Update bin/doc now that stable rustc does intra-doc links

commit f1bf62f6f12f61fea01ae1d8597f9bfbafa1d7ba
Author: Brandon W Maister <bwm@materialize.io>
Date:   Mon Nov 23 14:30:46 2020 -0500

    Update rust toolchain to 1.48

commit 0fd1537158fa35bad5538bc45ebaa525d6b34c32
Author: sploiselle <sean@materialize.io>
Date:   Sun Nov 22 04:12:53 2020 -0500

    sql/plan: typeconv comment edits/func renames

commit d39aea063da183522efb4b2c307d35833c99e8f6
Author: sploiselle <sean@materialize.io>
Date:   Sun Nov 22 03:38:12 2020 -0500

    sql/plan: coalesce plan_list_cast + plan_map_cast

commit b531aa1daac749dc4db7a8312f562fd70b67a108
Author: Brandon W Maister <bwm@materialize.io>
Date:   Fri Nov 20 12:41:27 2020 -0500

    Reduce the number of metrics we send for tracking "in maintenance"
    
    We added the `mz_arrangement_maintenance_active_info` metric to track whether
    any specific arrangement is spending all of its time in maintenance.
    Unfortunately that means that it grows with the number of arrangements,
    possibly to hundreds or thousands of metrics.
    
    With this new metric we will only see one metric per worker. It is still
    possible to determine which arrangement is spending all its time in mainenance
    by looking at the `mz_arrangement_maintenance_seconds_total` metric, which will
    show the proportion of time taken up by each arrangement's maintenance.

commit 654e40dd8985d1ee1de70dbc9eb43ba297dbacbf
Author: Jessica Laughlin <JLDLaughlin@users.noreply.github.com>
Date:   Mon Nov 23 12:48:10 2020 -0500

    sql: add support for various map operators (#4844)
    
    Adds support for the following map operators: &?, &|, <@, @>.

commit 6d4fc63dc224877fe73d8dd663425055bdf42c1b
Author: Jessica Laughlin <JLDLaughlin@users.noreply.github.com>
Date:   Mon Nov 23 11:29:32 2020 -0500

    sql: add -> map operator (#4846)
    
    sql: support -> operator for maps
    
    Adds support for using the -> operator with maps. The -> operator
    allows users to fetch values from a map, given a single string key
    or an array of string keys. For example:
    
        SELECT '{a=>1, b=>2}'::map[text=>int] -> 'a'
    
    Returns 1.
    
        SELECT '{a=>1, b=>2}'::map[text=>int] -> ARRAY['a']
    
    Returns {1}.
    
    Any keys not found in the map will return a NULL value.

commit 7d7d9df2a74a5c51f90baba49fb1a848ef43fe47
Merge: 87b3f1fba 6faf699e0
Author: Nikhil Benesch <nikhil.benesch@gmail.com>
Date:   Mon Nov 23 10:07:20 2020 -0500

    Merge pull request #4858 from MaterializeInc/dependabot/cargo/differential-dataflow-f155b90
    
    build(deps): bump differential-dataflow from `3aa0952` to `f155b90`

commit 87b3f1fba04932ad5118a45650703b3da70dd2ba
Merge: 8c82a7d50 fc3a132c6
Author: Nikhil Benesch <nikhil.benesch@gmail.com>
Date:   Mon Nov 23 10:05:51 2020 -0500

    Merge pull request #4856 from MaterializeInc/dependabot/cargo/aho-corasick-0.7.15
    
    build(deps): bump aho-corasick from 0.7.14 to 0.7.15

commit 8c82a7d504b0633c3db44420ec678b3a772cc296
Merge: 79b956394 7132f4d50
Author: Nikhil Benesch <nikhil.benesch@gmail.com>
Date:   Mon Nov 23 10:05:15 2020 -0500

    Merge pull request #4855 from MaterializeInc/dependabot/cargo/env_logger-0.8.2
    
    build(deps): bump env_logger from 0.8.1 to 0.8.2

commit 79b956394bf575ab6874ba681dfff951d7bbda5a
Merge: 9d2cf9f93 ab2f5ec4a
Author: Nikhil Benesch <nikhil.benesch@gmail.com>
Date:   Mon Nov 23 10:05:09 2020 -0500

    Merge pull request #4854 from MaterializeInc/dependabot/cargo/snap-1.0.3
    
    build(deps): bump snap from 1.0.1 to 1.0.3

commit 9d2cf9f93ab731ab4a08470fe32273d344e617b4
Merge: 88929b4c5 1e382ea46
Author: Nikhil Benesch <nikhil.benesch@gmail.com>
Date:   Mon Nov 23 10:04:46 2020 -0500

    Merge pull request #4857 from MaterializeInc/dependabot/cargo/sha2-0.9.2
    
    build(deps): bump sha2 from 0.9.1 to 0.9.2

commit 88929b4c5b65fc2908a7d4cb45605f9435c546a7
Merge: aebcb9003 c83db1d2d
Author: Nikhil Benesch <nikhil.benesch@gmail.com>
Date:   Mon Nov 23 10:04:05 2020 -0500

    Merge pull request #4859 from MaterializeInc/dependabot/cargo/libfuzzer-sys-0.3.5
    
    build(deps): bump libfuzzer-sys from 0.3.2 to 0.3.5

commit c83db1d2dbc60f8852ccdb141d579698bf6a43c3
Author: dependabot-preview[bot] <27856297+dependabot-preview[bot]@users.noreply.github.com>
Date:   Mon Nov 23 10:59:15 2020 +0000

    build(deps): bump libfuzzer-sys from 0.3.2 to 0.3.5
    
    Bumps [libfuzzer-sys](https://github.com/rust-fuzz/libfuzzer) from 0.3.2 to 0.3.5.
    - [Release notes](https://github.com/rust-fuzz/libfuzzer/releases)
    - [Changelog](https://github.com/rust-fuzz/libfuzzer/blob/master/CHANGELOG.md)
    - [Commits](https://github.com/rust-fuzz/libfuzzer/commits)
    
    Signed-off-by: dependabot-preview[bot] <support@dependabot.com>

commit 6faf699e0854b99fb696a8c1a9cb906bd354cfbc
Author: dependabot-preview[bot] <27856297+dependabot-preview[bot]@users.noreply.github.com>
Date:   Mon Nov 23 10:52:34 2020 +0000

    build(deps): bump differential-dataflow from `3aa0952` to `f155b90`
    
    Bumps [differential-dataflow](https://github.com/TimelyDataflow/differential-dataflow) from `3aa0952` to `f155b90`.
    - [Release notes](https://github.com/TimelyDataflow/differential-dataflow/releases)
    - [Commits](https://github.com/TimelyDataflow/differential-dataflow/compare/3aa0952ec8cdefe0ef3cd1b3969dab5f08fc3c74...f155b9082ce3e216d1a69568f829f7843cb6a9ac)
    
    Signed-off-by: dependabot-preview[bot] <support@dependabot.com>

commit 1e382ea46bd89a3680be6fafceec226add062765
Author: dependabot-preview[bot] <27856297+dependabot-preview[bot]@users.noreply.github.com>
Date:   Mon Nov 23 10:51:40 2020 +0000

    build(deps): bump sha2 from 0.9.1 to 0.9.2
    
    Bumps [sha2](https://github.com/RustCrypto/hashes) from 0.9.1 to 0.9.2.
    - [Release notes](https://github.com/RustCrypto/hashes/releases)
    - [Commits](https://github.com/RustCrypto/hashes/compare/sha2-v0.9.1...streebog-v0.9.2)
    
    Signed-off-by: dependabot-preview[bot] <support@dependabot.com>

commit fc3a132c62773ebe5cc530a59b75f438df43f1b8
Author: dependabot-preview[bot] <27856297+dependabot-preview[bot]@users.noreply.github.com>
Date:   Mon Nov 23 10:51:07 2020 +0000

    build(deps): bump aho-corasick from 0.7.14 to 0.7.15
    
    Bumps [aho-corasick](https://github.com/BurntSushi/aho-corasick) from 0.7.14 to 0.7.15.
    - [Release notes](https://github.com/BurntSushi/aho-corasick/releases)
    - [Commits](https://github.com/BurntSushi/aho-corasick/compare/0.7.14...0.7.15)
    
    Signed-off-by: dependabot-preview[bot] <support@dependabot.com>

commit 7132f4d505a31b007a3fdc30dc4edd24b68a0d63
Author: dependabot-preview[bot] <27856297+dependabot-preview[bot]@users.noreply.github.com>
Date:   Mon Nov 23 10:50:18 2020 +0000

    build(deps): bump env_logger from 0.8.1 to 0.8.2
    
    Bumps [env_logger](https://github.com/env-logger-rs/env_logger) from 0.8.1 to 0.8.2.
    - [Release notes](https://github.com/env-logger-rs/env_logger/releases)
    - [Changelog](https://github.com/env-logger-rs/env_logger/blob/master/CHANGELOG.md)
    - [Commits](https://github.com/env-logger-rs/env_logger/compare/v0.8.1...v0.8.2)
    
    Signed-off-by: dependabot-preview[bot] <support@dependabot.com>

commit ab2f5ec4a94f65dc9bb600c79eaffa4f8a401b60
Author: dependabot-preview[bot] <27856297+dependabot-preview[bot]@users.noreply.github.com>
Date:   Mon Nov 23 10:49:29 2020 +0000

    build(deps): bump snap from 1.0.1 to 1.0.3
    
    Bumps [snap](https://github.com/BurntSushi/rust-snappy) from 1.0.1 to 1.0.3.
    - [Release notes](https://github.com/BurntSushi/rust-snappy/releases)
    - [Commits](https://github.com/BurntSushi/rust-snappy/compare/1.0.1...1.0.3)
    
    Signed-off-by: dependabot-preview[bot] <support@dependabot.com>

commit 6f9bbf67ef3e8c82a4c13c34aedbeb1b550c6ea8
Author: Nikhil Benesch <nikhil.benesch@gmail.com>
Date:   Mon Nov 23 00:00:49 2020 -0500

    ci/test: ignore existing files when uploading .deb
    
    Fix #4850.

commit aebcb900340e12f735b410d63fe5e2ce777e88c5
Author: Chris Golden <551285+cirego@users.noreply.github.com>
Date:   Sat Nov 21 13:50:23 2020 -0800

    Use named volume to hold Prometheus data
    
    
    When /var/lib/docker and the Git checkout live on different filesystems,
    Prometheus will fail to startup because it cannot mmap files the files
    mounted into its container from the git checkout's filesystem. Use a
    named volume instead, as this will allow the mmap to succeed. This will
    continue to maintain data across restarts for workflows that don't
    explicitly remove volumes. For volumes that do remove volumes, then this
    will result in a behavior change, as the Prometheus data will be removed
    as well.
    
    Since we are no longer dumping data into the prometheus/data directory,
    we can also remove the .gitignore. This also has the side effect of
    reducing the amount of extra data in the git checkout.
    
    Fixes #4847

commit 675d52a8392984c557be446d83fb39d1f6a3458b
Merge: bdba29f0e 7119c483a
Author: Nikhil Benesch <nikhil.benesch@gmail.com>
Date:   Fri Nov 20 15:53:25 2020 -0500

    Merge pull request #4845 from benesch/get-local
    
    expr: restrict IdHumanizer to GlobalIds

commit 7119c483adb256da5c30ec460a3938abdf3525ea
Author: Nikhil Benesch <nikhil.benesch@gmail.com>
Date:   Fri Nov 20 12:31:33 2020 -0500

    expr: restrict IdHumanizer to GlobalIds
    
    Empirically, IdHumanizers do not humanize local IDs. So restrict the
    trait to GlobalIds. This makes all usages of the humanizer much simpler.

commit bdba29f0ed2850754d92cc2ade0d849711b9ddbd
Merge: cd41875f4 eb1a8c36c
Author: Nikhil Benesch <nikhil.benesch@gmail.com>
Date:   Fri Nov 20 14:37:57 2020 -0500

    Merge pull request #4843 from benesch/unwrap-map
    
    expr: don't explicitly match on type in map_contains_key

commit cd41875f4df09c26733036afe90235a8c606937c
Merge: 0cf26986e bb55eabb7
Author: Brandon W Maister <bwm@materialize.io>
Date:   Fri Nov 20 12:06:09 2020 -0500

    Merge pull request #4829 from quodlibetor/cargo-deny-upgrade
    
    Upgrade cargo-deny

commit eb1a8c36c7d6481acbc14c604114b15a8d265afd
Author: Nikhil Benesch <nikhil.benesch@gmail.com>
Date:   Fri Nov 20 11:57:49 2020 -0500

    expr: don't explicitly match on type in map_contains_key
    
    Unlike the similar JSON function, which has to handle the dynamic
    typing of JSON values, the map_contains_key function can and should
    assert that its input is a map.

commit 0cf26986e084795d74065cc3ef71456e86d24e97
Merge: cac4d72c0 c800d941a
Author: Jessica Laughlin <JLDLaughlin@users.noreply.github.com>
Date:   Fri Nov 20 11:52:08 2020 -0500

    Merge pull request #4840 from JLDLaughlin/map-contains
    
    func: add ? operator support for map types

commit c800d941a865dfa7a8f2766f8b0260194094003a
Author: JLDLaughlin <jessica@materialize.io>
Date:   Thu Nov 19 17:29:40 2020 -0500

    func: add ? operator support for map types
    
    The ? operator checks if a map contains a given key, returning true
    if the key is found and false otherwise. For example:
    
        SELECT '{a=>1, b=>2}'::map[text=>int] ? 'a'
    
    Returns true.
    
    As we only support text keys for maps, the expression provided as the
    right hand side of the operator must be of type text.

commit 4c527364bd15df8e10219889cb5d13ed0e0a1a05
Author: JLDLaughlin <jessica@materialize.io>
Date:   Thu Nov 19 17:20:46 2020 -0500

    sql: add MapAny param type
    
    Adds a new ParamType::MapAny variant, allowing our function implementation
    selection to match on map types with any non-nested value type.

commit cac4d72c0566a9d350094d6ee00ca5f489fa47ac
Author: Jessica Laughlin <JLDLaughlin@users.noreply.github.com>
Date:   Fri Nov 20 11:07:12 2020 -0500

    .github: update release template with v0.5.2 learnings (#4834)

commit d2a3739382e88487d7a48c7d44eb8557ca6781f4
Merge: d2a915c1d d84c55131
Author: Andi Wang <5522362+wangandi@users.noreply.github.com>
Date:   Fri Nov 20 09:49:01 2020 -0500

    Merge pull request #4837 from wangandi/mbtafixes
    
    play/mbta: Support the reset event

commit d2a915c1df7da91c7879483e3f2fc36231450f57
Merge: f4b24c2d8 71ce650fb
Author: Eli Lindsey <eli@siliconsprawl.com>
Date:   Fri Nov 20 09:34:29 2020 -0500

    Merge pull request #4831 from elindsey/flushmetrics
    
    periodically flush source_info metrics

commit f4b24c2d88313493d87ad03ed165dfb29a72e338
Merge: 46611dfac dc55303bc
Author: Brandon W Maister <bwm@materialize.io>
Date:   Thu Nov 19 20:18:00 2020 -0500

    Merge pull request #4839 from quodlibetor/dashboard-updates
    
    Grafana Dashboard Improvements

commit dc55303bcd4b96b6bf2db7ba4d60e187bd14ac33
Author: Brandon W Maister <bwm@materialize.io>
Date:   Thu Nov 19 18:47:57 2020 -0500

    dashboard: Update with new kinesis row
    
    The "time behind external source" panel is kinesis-only, and most of the other
    items in the ingest row make sense for both kinesis and other sources. This
    makes it less confusing.

commit 111b338d6debacafb1783e1717e764129331f0a0
Author: Brandon W Maister <bwm@materialize.io>
Date:   Thu Nov 19 16:58:36 2020 -0500

    Add the public dashboard configuration to our dashboard directory

commit 95cddf3c3b9dc1b1fe669213707b0f073f15405f
Author: Brandon W Maister <bwm@materialize.io>
Date:   Thu Nov 19 16:50:52 2020 -0500

    dashboard-clean: Support building for multiple datasources
    
    This new `--for-web` config is designed to match our multi-datasource
    dashboard, and should be an easier getting-started point for folks who just
    want to import our Dashboard.

commit 894b9969ea55ac582e195bc18dd8f8ae54df9043
Author: Brandon W Maister <bwm@materialize.io>
Date:   Thu Nov 19 16:50:01 2020 -0500

    dashboard-clean: Don't require manually adjusting built dashboard
    
    It's actually not so hard to get things to look reasonable.

commit 46611dface85bd53360f5f8087846136a2f72fa9
Merge: 22f81d1ba 3ebbae900
Author: Jessica Laughlin <JLDLaughlin@users.noreply.github.com>
Date:   Thu Nov 19 15:44:45 2020 -0500

    sql-parser: peek_prev_range -> peek_prev_pos (#4838)
    
    Fixes merge skew build failure.

commit 3ebbae900dae92e5df31c580a367a79f20e136ca
Author: JLDLaughlin <jessica@materialize.io>
Date:   Thu Nov 19 15:13:15 2020 -0500

    sql-parser: peek_prev_range -> peek_prev_pos

commit 22f81d1bacf436c922dae1780cd4c66b134f8158
Merge: 3817cc8c9 5f14a735c
Author: Sean Loiselle <sean@materialize.io>
Date:   Thu Nov 19 15:04:01 2020 -0500

    Merge pull request #4836 from sploiselle/5-2-release-notes-edits
    
    doc/user: v0.5.2 release note edits

commit 3817cc8c9fef90ec5ef9564ad032f56b9d23f5bf
Author: Jessica Laughlin <JLDLaughlin@users.noreply.github.com>
Date:   Thu Nov 19 14:51:09 2020 -0500

    repr, pgrepr, sql-parser, func: support map types (#4801)
    
    Adds internal infrastructure to ingest map data. Specifically
    adds support for ingesting casted strings as maps. For example,
    
        '{a=>1}'::map[text=>int]
    
    Can now be parsed and internally represented as a Datum::Map with a
    single (a,1) key, value pair. Map keys must be of type text, map values
    can be of any non-nested scalar type. (Please note that nested maps
    are explicitly not supported by this change.)
    
    This change creates a hardcoded OID for the map type, which is not
    a standard Postgres type, similar to the OID created for the list type.

commit 67864c99c938116ee5ba776c7f09a25b5cbdee40
Author: Brandon W Maister <bwm@materialize.io>
Date:   Thu Nov 19 14:20:41 2020 -0500

    dashboard-clean: Also ignore benchmark labels

commit 5f14a735c0a6c076178e097827166d0038d583d5
Author: Sean Loiselle <himself@seanloiselle.com>
Date:   Thu Nov 19 11:11:00 2020 -0500

    doc/user: v0.5.2 release note edits

commit d84c5513176d95f15777ab06852037dee42bec7a
Author: Andi Wang <andi@materialize.io>
Date:   Thu Nov 19 12:08:38 2020 -0500

    Change 'id' in reference views to '<type>_id' to make joins less confusing.

commit ebc4e6f3dc1232365c3d27a9fc5b446ea0b946c7
Author: Andi Wang <andi@materialize.io>
Date:   Thu Nov 19 12:02:53 2020 -0500

    Make archiving at shutdown optional for docker runs.
    
    Also, allow Materialize to start out with thread number correlating
    to available CPUs.

commit cdd4096a95306e59265984dfd2730bfceae94ffe
Author: Andi Wang <andi@materialize.io>
Date:   Thu Nov 19 12:01:15 2020 -0500

    Add missing streams for the Mattapan High-Speed Rail.

commit 8e9c2b47ed5e761e3a919ac826089c1472d58521
Author: Andi Wang <andi@materialize.io>
Date:   Thu Nov 19 11:57:38 2020 -0500

    Support the reset event.
    
    Do 10 retries instead of checking to see if the log has lengthened since the last read,
    which empirically results in less corrupted data.

commit e36e21d213aabd1b309626eb908173a5d1632b2d
Author: Brennan Vincent <brennan@materialize.io>
Date:   Thu Nov 19 11:20:44 2020 -0500

    update time to v0.2.23 (#4835)
    
    * update time to v0.2.23
    
    * update version_check; necessary for time to build

commit 27d4e6df6125c1a4f762a93358c1349566d8fdf6
Author: Jessica Laughlin <JLDLaughlin@users.noreply.github.com>
Date:   Thu Nov 19 09:33:44 2020 -0500

    docs: update user-facing docs with release information (#4830)

commit 068d7548fcf2af8d45956a018f5c9b2b14bbcc6d
Merge: 3de7c17d3 d6fe8cf3e
Author: Sean Loiselle <sean@materialize.io>
Date:   Wed Nov 18 19:15:01 2020 -0500

    Merge pull request #4825 from sploiselle/cte-in-planner
    
    sql: CTEs

commit d6fe8cf3e115e122e27945cafae87bac49305b34
Author: Sean Loiselle <sean@materialize.io>
Date:   Mon Nov 16 12:36:30 2020 -0500

    sql: plan CTEs

commit 71ce650fba7c0fc5a2d46b87f7a250c360d8b230
Author: Eli Lindsey <eli@siliconsprawl.com>
Date:   Wed Nov 18 17:06:59 2020 -0500

    periodically flush source_info metrics
    
    Updates to the source_info are written once we are caught up with the
    source to avoid incurring overhead on every source message. However,
    during bootstrap it can take a long time until we're caught up with the
    source, and that's exactly when a customer likely wants to view
    progress.
    
    Source will now flush source_info metrics every N messages to still show
    progress in such cases.

commit bb55eabb74426af1d2f21e7e41f4f1e68b640f0e
Author: Brandon W Maister <bwm@materialize.io>
Date:   Wed Nov 18 15:25:28 2020 -0500

    ci-builder: Tag and update stamp file when building, as well
    
    This makes the build and test workflow more pleasant.

commit fea353048173ac5e8354b0747b4a1aae6d149e1d
Author: Brandon W Maister <bwm@materialize.io>
Date:   Wed Nov 18 15:15:36 2020 -0500

    Remove requirements-ci.txt from ci/builder Dockerfile
    
    The file doesn't exist, so it causes the Docker build to break.

commit 531ebdd7345029fe45f8cc189fa3d14545b99790
Author: Brandon W Maister <bwm@materialize.io>
Date:   Tue Nov 17 17:15:33 2020 -0500

    Upgrade cargo-deny
    
    While I don't see it in their changelog[1], this upgrade causes cargo-deny to
    no longer spew out dozens of warnings for all of our internal `{ path =
    "../here" }` dependencies.
    
        $ cat ci/builder/stable.stamp >&2 ; \
          bin/ci-builder run stable cargo --locked deny check licenses bans sources 2>&1 | wc -l
        1.47.0-20201014-132433
        1017
        $ cat ci/builder/stable.stamp >&2 ; \
          bin/ci-builder run stable cargo --locked deny check licenses bans sources 2>&1 | wc -l
        1.47.0-20201118-152440
        1
    
    [1]: https://github.com/EmbarkStudios/cargo-deny/blob/main/CHANGELOG.md

commit 3de7c17d3d1b85bcc8c9440d6d5ea6821d158812
Author: Jessica Laughlin <JLDLaughlin@users.noreply.github.com>
Date:   Wed Nov 18 14:35:31 2020 -0500

    Continue v0.5.3 dev (#4824)
    
    * release: v0.5.2
    
    * Prepare next phase of development: v0.5.3-dev

commit 87abf3d789c0eda0b97d1af93236576f202eaae9
Merge: fd3df9a8a 035f78836
Author: Nikhil Benesch <nikhil.benesch@gmail.com>
Date:   Wed Nov 18 14:25:53 2020 -0500

    Merge pull request #4826 from MaterializeInc/list-docs
    
    doc/user: link to newly-published list docs in array docs

commit 035f788369003aeb8a362825f6204917b9c9d86d
Author: Nikhil Benesch <nikhil.benesch@gmail.com>
Date:   Wed Nov 18 14:22:13 2020 -0500

    doc/user: link to newly-published list docs in array docs

commit fd3df9a8adbc806548e2753d905b9b83a8b50584
Merge: e3c49f94f 5d8c1b43f
Author: Brandon W Maister <bwm@materialize.io>
Date:   Wed Nov 18 14:15:27 2020 -0500

    Merge pull request #4820 from quodlibetor/vendor-process-collector
    
    Vendor our customized Prometheus process collector

commit e3c49f94f8429f5b99c2f71bd1020679f56ba3a0
Merge: 33832f73e 94a35e6fe
Author: Sean Loiselle <sean@materialize.io>
Date:   Wed Nov 18 14:03:54 2020 -0500

    Merge pull request #4739 from sploiselle/list-docs
    
    docs: document list type

commit 33832f73e7309a3639ffc4157e972e89f7fdccf6
Merge: 03eb9db07 545197947
Author: Sean Loiselle <sean@materialize.io>
Date:   Wed Nov 18 14:01:36 2020 -0500

    Merge pull request #4789 from sploiselle/breadcrumbs
    
    docs: breadcrumbs

commit 03eb9db07b5778076cbe7b8ee91a7753bb22f493
Merge: 2b0043a5e 25fa2e4ee
Author: Matt Jibson <matt.jibson@gmail.com>
Date:   Wed Nov 18 10:21:32 2020 -0700

    Merge pull request #4818 from mjibson/multi-stmt-txn
    
    pgwire: correctly handle transaction states in Query messages

commit 2b0043a5e9c61c7a1b4115eb7460b1e259b00223
Merge: d771388c8 777010d9e
Author: Nikhil Benesch <nikhil.benesch@gmail.com>
Date:   Wed Nov 18 11:42:06 2020 -0500

    Merge pull request #4821 from benesch/tail-clarify
    
    doc/user: further clarify the meaning of AS OF/SNAPSHOT in tail

commit d771388c8b598cc755cab1d3e784112a63025522
Merge: 6a95769d4 3333dfa9b
Author: Nikhil Benesch <nikhil.benesch@gmail.com>
Date:   Wed Nov 18 11:16:21 2020 -0500

    Merge pull request #4822 from benesch/lint-errors
    
    lint: make errors more visible and consistent

commit 3333dfa9b07008fd9478b0403dada286d56d98ed
Author: Nikhil Benesch <nikhil.benesch@gmail.com>
Date:   Tue Nov 17 22:36:24 2020 -0500

    lint: make errors more visible and consistent
    
    Make linter errors more visible by using the format
    
        lint: SEVERITY: program: message
    
    where SEVERITY is either "error" or "fatal" and is printed in red.
    Use this format consistently across all the lint and lint-like scripts,
    like pycheck. Also make things quieter when successful, so the errors
    are easier to spot.
    
    In the course of thsi change, clean things up so that lint and pycheck
    share more code, since they are very similar in nature.

commit 6a95769d40387031d4615cc31ba73daa4e580089
Author: Jessica Laughlin <JLDLaughlin@users.noreply.github.com>
Date:   Wed Nov 18 10:58:43 2020 -0500

    docs: group related announcements in release notes (#4823)

commit 5d8c1b43fb1dccdcc0e13f7a895eee6e2b0bda57
Author: Brandon W Maister <bwm@materialize.io>
Date:   Tue Nov 17 16:25:12 2020 -0500

    Use new mz-process-collector everywhere we were using the built-in

commit 23ae47f05b1c9d895d0f9134a2f7d5bc280baeb8
Author: Brandon W Maister <bwm@materialize.io>
Date:   Tue Nov 17 15:17:47 2020 -0500

    Make mz-process-collector work correctly after import

commit 9a81a32de611a538084e2a0e858af2f3df31e13f
Author: Brandon W Maister <bwm@materialize.io>
Date:   Tue Nov 10 16:59:09 2020 -0500

    prometheus: Import our changes from the process collector
    
    This adds the per-thread metrics from https://github.com/MaterializeInc/rust-prometheus/tree/a6a57ce533811e5fba559aebe4adf38ed7d677b9

commit 6f7d8962f58e1449833fb5008e09813a2f195b94
Author: Brandon W Maister <bwm@materialize.io>
Date:   Tue Nov 10 16:57:07 2020 -0500

    prometheus: Import raw upstream process collector
    
    This is the upstream process collector, unchanged except for the copyright comment.

commit 777010d9e9765b354874a14e1ccfb2d84a59e1a9
Author: Nikhil Benesch <nikhil.benesch@gmail.com>
Date:   Tue Nov 17 22:18:27 2020 -0500

    doc/user: further clarify the meaning of AS OF/SNAPSHOT in tail
    
    As mentioned in #4790. Didn't get around to these improvements before
    landing that PR.

commit dff5a83fa03be50bd3e73292ec7e51b27d0bc913
Author: Sean Loiselle <sean@materialize.io>
Date:   Mon Nov 16 11:48:51 2020 -0500

    sql: improve maybe_rename_column error copy

commit 25fa2e4eeded99cefbe0e6996e490a3b18526669
Author: Matt Jibson <matt.jibson@gmail.com>
Date:   Tue Nov 17 12:28:42 2020 -0700

    pgwire: correctly handle transaction states in Query messages
    
    Multi-statement Query messages have specific transaction semantics
    regarding implicit and explicit transaction blocks. Add some tests for
    these and correctly handle the state changes.

commit 5721ca2aaaf8a55cf9e5ad82171119e813b1c54b
Author: Matt Jibson <matt.jibson@gmail.com>
Date:   Tue Nov 17 12:21:57 2020 -0700

    pgtest: various improvements
    
    - timeout tcp connection reads
    - add verbose flag
    - remove unused send command
    - improve error printing

commit 27d163803c24580e38af33680f97c05367532b6f
Merge: 9f3d86962 dd7c8a276
Author: Nikhil Benesch <nikhil.benesch@gmail.com>
Date:   Tue Nov 17 13:29:56 2020 -0500

    Merge pull request #4790 from benesch/tail-docs
    
    doc/user: synthesize information in TAIL docs

commit dd7c8a27680a7461f709f6c5d53425d2fef7941b
Author: Nikhil Benesch <nikhil.benesch@gmail.com>
Date:   Fri Nov 13 17:49:47 2020 -0500

    doc/user: synthesize information in TAIL docs
    
    The TAIL docs have grown organically for several releases. Restructure
    the page so that information is not duplicated (semi-incorrectly) across
    the introduction and details sections.
    
    Also correct some copyediting/formatting nits.

commit 9f3d869621abc9ab658e2dd7230d0168593338e0
Merge: 154e289a7 8c1635eb3
Author: Nikhil Benesch <nikhil.benesch@gmail.com>
Date:   Tue Nov 17 12:44:27 2020 -0500

    Merge pull request #4817 from benesch/dev-guide-update
    
    doc/dev: discourage use of confluent platform + nix

commit 8c1635eb3b784a5e4543b0ecf3450623c18cabf1
Author: Nikhil Benesch <nikhil.benesch@gmail.com>
Date:   Tue Nov 17 10:08:16 2020 -0500

    doc/dev: discourage use of confluent platform + nix
    
    Update the developer guide for the latest best practices: specifically,
    discouraging use of Nix, mtrlz-setup, and the Confluent Platform.
    We can definitely reintroduce mentions of Nix/mtrlz-setup if they become
    maintained again, but for now it seems best not to recommend them to new
    employees/external contributors.
    
    Fix #4815.

commit 154e289a78d2fb13607d49c7e5d025e246c3e1b5
Author: Frank McSherry <fmcsherry@me.com>
Date:   Tue Nov 17 09:53:57 2020 -0500

    Use enter_region to enter regions (#4816)
    
    The methods enter_region and leave_region are specialized to cross scope boundaries without a map operator to transform timestamps as they go. This simplifies our dataflows slightly, in cases that we move collection streams across dataflows.

commit f5031d01369041ed923a79a3cb205e778341d2a5
Merge: 4f7168a9f 674dc1524
Author: Brandon W Maister <bwm@materialize.io>
Date:   Mon Nov 16 21:40:33 2020 -0500

    Merge pull request #4810 from quodlibetor/prepare-v0.5.3-dev
    
    Prepare next phase of development: v0.5.3-dev

commit 4f7168a9fe0b8263e5a3cf1f30592953efda205e
Author: Brandon W Maister <bwm@materialize.io>
Date:   Mon Nov 16 21:40:15 2020 -0500

    Revert "Prepare v0.6.0 (#4805)" (#4812)
    
    This reverts commit 882266b6218d5f088da041c596653ef7228507b1.
    
    This is necessary for #4810 to apply cleanly.

commit f5f9e4ba4a91a0fd16679912ce232f3b5dfcef9c
Author: Brandon W Maister <bwm@materialize.io>
Date:   Mon Nov 16 18:31:57 2020 -0500

    mkrelease: allow preparing dev (#4811)

commit 2926831352a775bfaf37ee8ddb35df738c8d657d
Merge: 882266b62 a010a5079
Author: Brandon W Maister <bwm@materialize.io>
Date:   Mon Nov 16 18:31:40 2020 -0500

    Merge pull request #4808 from quodlibetor/note-release-version
    
    release: Add a note about never preparing minor version bumps

commit 674dc15241c60a68db2a071717e70af0e338d4b6
Author: Brandon W Maister <bwm@materialize.io>
Date:   Mon Nov 16 18:23:38 2020 -0500

    Prepare next phase of development: v0.5.3-dev

commit a010a50791f850f93907216dc9a8ed70d5a8412c
Author: Brandon W Maister <bwm@materialize.io>
Date:   Mon Nov 16 18:00:52 2020 -0500

    mkrelease: Format for newer black
    
    A recent-ish black upgrade causes it to *always* reformat parameter lists to be
    multi-line if they have a trailing comma.

commit bd0f5bfca862ab2b612b1ca4fa66209c8115d9de
Author: Brandon W Maister <bwm@materialize.io>
Date:   Mon Nov 16 17:58:58 2020 -0500

    release: Add a note about never preparing minor version bumps

commit 882266b6218d5f088da041c596653ef7228507b1
Author: Jessica Laughlin <JLDLaughlin@users.noreply.github.com>
Date:   Mon Nov 16 17:14:14 2020 -0500

    Prepare v0.6.0 (#4805)
    
    * release: v0.5.2-rc1
    
    * Prepare next phase of development: v0.6.0

commit 516357f3488b232d6611547118ce5d72b8ebf976
Merge: 2d38badce f72655a4d
Author: Matt Jibson <matt.jibson@gmail.com>
Date:   Mon Nov 16 14:24:02 2020 -0700

    Merge pull request #4806 from mjibson/portal-statements
    
    coord: decouple portals and prepared statements

commit f72655a4db78aa4821cdfa294e52a4a11b232e5c
Author: Matt Jibson <matt.jibson@gmail.com>
Date:   Thu Nov 12 15:08:22 2020 -0700

    coord: decouple portals and prepared statements
    
    Previously portals would refer to the prepared statement from which
    they were created. This was used to fetch a portal's description. The
    upcoming feature to support DECLARE cursors is a way to create portals
    that are not attached to a prepared statement.
    
    Move the statement and its description to the portal so that portals do
    not have to have an associated prepared statement.

commit 7c4514f8b8f02da082d0af9302dab5fe078d38af
Author: JLDLaughlin <jessica@materialize.io>
Date:   Mon Nov 16 15:30:00 2020 -0500

    release: v0.5.2-rc1

commit 2d38badce4741dc24f731f3427b952b8ee1affbe
Merge: 58f463918 54cc0cdf6
Author: Brandon W Maister <bwm@materialize.io>
Date:   Mon Nov 16 12:22:31 2020 -0500

    Merge pull request #4785 from quodlibetor/monitoring-mention-system-views
    
    docs: Mention the mz_catalog on the monitoring page

commit 54cc0cdf63e783c77f051e3a1535b4687517bb2b
Author: Brandon W Maister <bwm@materialize.io>
Date:   Mon Nov 16 10:56:02 2020 -0500

    Move the diagnostic queries doc to user-facing docs
    
    It a useful introduction to the SQL interface, and should be linked to by the
    debugging docs, which also should not link to developer documentation.

commit afc11809813996b33b920f09f9c2df5aa38f2190
Author: Brandon W Maister <bwm@materialize.io>
Date:   Fri Nov 13 10:54:11 2020 -0500

    docs: Mention the mz_catalog on the monitoring page
    
    I think that we are definitely approaching the number of tools where having
    separate "monitoring" and "debugging" pages would be useful.

commit 58f463918af05143b0b7e973d4d69e87592465ff
Merge: e4593200d e5f0f0b6e
Author: Nikhil Benesch <nikhil.benesch@gmail.com>
Date:   Mon Nov 16 09:49:03 2020 -0500

    Merge pull request #4797 from MaterializeInc/dependabot/cargo/anyhow-1.0.34
    
    build(deps): bump anyhow from 1.0.33 to 1.0.34

commit e4593200dc651be21e3ffc4cbc9492fcbadf2eec
Merge: 4949343cf 410a4c1a7
Author: Nikhil Benesch <nikhil.benesch@gmail.com>
Date:   Mon Nov 16 09:48:53 2020 -0500

    Merge pull request #4795 from MaterializeInc/dependabot/cargo/futures-0.3.8
    
    build(deps): bump futures from 0.3.7 to 0.3.8

commit 4949343cf2f7d7129ed489be646bf5b5d63a036e
Merge: 8ea6bbcaa c15eb8874
Author: Nikhil Benesch <nikhil.benesch@gmail.com>
Date:   Mon Nov 16 09:48:17 2020 -0500

    Merge pull request #4796 from MaterializeInc/dependabot/cargo/url-2.2.0
    
    build(deps): bump url from 2.1.1 to 2.2.0

commit 8ea6bbcaa579a6d97f215e950eff86e92ab07405
Merge: ebc009af8 67c8fe0e6
Author: Nikhil Benesch <nikhil.benesch@gmail.com>
Date:   Mon Nov 16 09:47:58 2020 -0500

    Merge pull request #4798 from MaterializeInc/dependabot/cargo/native-tls-0.2.6
    
    build(deps): bump native-tls from 0.2.4 to 0.2.6

commit 67c8fe0e6cd9243e9f4cf059dd5cc65c4aceee2a
Author: dependabot-preview[bot] <27856297+dependabot-preview[bot]@users.noreply.github.com>
Date:   Mon Nov 16 10:47:05 2020 +0000

    build(deps): bump native-tls from 0.2.4 to 0.2.6
    
    Bumps [native-tls](https://github.com/sfackler/rust-native-tls) from 0.2.4 to 0.2.6.
    - [Release notes](https://github.com/sfackler/rust-native-tls/releases)
    - [Changelog](https://github.com/sfackler/rust-native-tls/blob/master/CHANGELOG.md)
    - [Commits](https://github.com/sfackler/rust-native-tls/compare/v0.2.4...v0.2.6)
    
    Signed-off-by: dependabot-preview[bot] <support@dependabot.com>

commit e5f0f0b6ec03cc4738475fcb9d1a6046e347c4b2
Author: dependabot-preview[bot] <27856297+dependabot-preview[bot]@users.noreply.github.com>
Date:   Mon Nov 16 10:46:51 2020 +0000

    build(deps): bump anyhow from 1.0.33 to 1.0.34
    
    Bumps [anyhow](https://github.com/dtolnay/anyhow) from 1.0.33 to 1.0.34.
    - [Release notes](https://github.com/dtolnay/anyhow/releases)
    - [Commits](https://github.com/dtolnay/anyhow/compare/1.0.33...1.0.34)
    
    Signed-off-by: dependabot-preview[bot] <support@dependabot.com>

commit c15eb88744cbff13fae13fa845ee2dd90a4b5a85
Author: dependabot-preview[bot] <27856297+dependabot-preview[bot]@users.noreply.github.com>
Date:   Mon Nov 16 10:46:20 2020 +0000

    build(deps): bump url from 2.1.1 to 2.2.0
    
    Bumps [url](https://github.com/servo/rust-url) from 2.1.1 to 2.2.0.
    - [Release notes](https://github.com/servo/rust-url/releases)
    - [Commits](https://github.com/servo/rust-url/compare/v2.1.1...v2.2.0)
    
    Signed-off-by: dependabot-preview[bot] <support@dependabot.com>

commit 410a4c1a7deff3f080898bf540f1140764c05d74
Author: dependabot-preview[bot] <27856297+dependabot-preview[bot]@users.noreply.github.com>
Date:   Mon Nov 16 10:45:48 2020 +0000

    build(deps): bump futures from 0.3.7 to 0.3.8
    
    Bumps [futures](https://github.com/rust-lang/futures-rs) from 0.3.7 to 0.3.8.
    - [Release notes](https://github.com/rust-lang/futures-rs/releases)
    - [Changelog](https://github.com/rust-lang/futures-rs/blob/master/CHANGELOG.md)
    - [Commits](https://github.com/rust-lang/futures-rs/compare/0.3.7...0.3.8)
    
    Signed-off-by: dependabot-preview[bot] <support@dependabot.com>

commit ebc009af84f37b43876a69be193e5a80f536beb2
Author: Ruchir Khaitan <ruchir0001@gmail.com>
Date:   Sun Nov 15 19:09:03 2020 -0500

    Source caching refactor: rename persistence -> cache / caching (#4780)

commit abf9946a02b966117fc2f2cd2ea2ba77975f8552
Author: Brennan Vincent <brennan@materialize.io>
Date:   Fri Nov 13 17:46:53 2020 -0500

    Ingest SQL Server Debezium data; Don't refuse to ingest messages with unrecognized source coordinates (#4762)

commit 5451979475baef6eb3786174a32dbd6fc535372d
Author: Sean Loiselle <sean@materialize.io>
Date:   Fri Nov 13 16:47:04 2020 -0500

    docs: add header to Demos index page

commit 5ddcfad1a42a5fa65257cb91c5a7dcc3bc911f30
Author: Sean Loiselle <sean@materialize.io>
Date:   Fri Nov 13 16:44:13 2020 -0500

    docs: add breadcrumbs

commit 1cbe5fe3483f34a5093e58cf95dea8c07bb0a722
Author: Brandon W Maister <bwm@materialize.io>
Date:   Fri Nov 13 15:38:59 2020 -0500

    Clippy seems to have fixed this bug in our toolchain (#4787)

commit c3fb080cacb9d8b219d11d0a7cba75cc8f1e8143
Author: Brandon W Maister <bwm@materialize.io>
Date:   Fri Nov 13 15:38:42 2020 -0500

    docs: Fix link tag syntax (#4788)

commit b3105705bca28ba90296637ac30ba76189d4743f
Author: Brandon W Maister <bwm@materialize.io>
Date:   Fri Nov 13 15:05:10 2020 -0500

    packaging: Emit logs to only stderr in the apt systemd unit file (#4781)
    
    This more closely matches the intended use of systemd, and also of the /var/lib
    directory, which explicitly is not supposed to have log files[2].
    
    [2]: https://refspecs.linuxfoundation.org/FHS_3.0/fhs/ch05s08.html

commit 8030d5a24ba7b0aa2205b4833379f233aacbde27
Merge: f3c227717 fd6ed0f90
Author: Nikhil Benesch <nikhil.benesch@gmail.com>
Date:   Fri Nov 13 13:19:48 2020 -0500

    Merge pull request #4783 from benesch/npgsql-copy
    
    Shake out bugs with Npgsql and COPY

commit fd6ed0f90323d6bd2808c98ca800c20a0ed00aba
Author: Nikhil Benesch <nikhil.benesch@gmail.com>
Date:   Thu Nov 12 23:43:31 2020 -0500

    test/lang/csharp: test COPY (TAIL) with npgsql

commit 0198a365df78a251a8f340ae0b47e29215c3126b
Author: Nikhil Benesch <nikhil.benesch@gmail.com>
Date:   Thu Nov 12 23:42:10 2020 -0500

    sql: add support for DISCARD statement
    
    The DISCARD statement resets state associated with the current session.
    It is necessary for Npgsql compatibility.

commit f3c2277176ad3a606cbd0a34163a8834385f1762
Author: Brandon W Maister <bwm@materialize.io>
Date:   Thu Nov 12 16:50:02 2020 -0500

    Log only to the explicitly-requested destination (#4777)
    
    If users specify a --log-file we should assume that they know what they're
    doing and write logs to exactly that destination, and nowhere else.
    
    This removes the secondary stderr `WARN` logs that were impossible to silence,
    if users provide a `--log-file` (that is not stderr).

commit e3b6af0c38f69c44cfe279e657ecd3b02683bcf2
Author: Ruchir Khaitan <ruchir0001@gmail.com>
Date:   Thu Nov 12 16:24:46 2020 -0500

    demo/billing: default to creating a topic always in Docker (#4778)
    
    Fix #4765.
    
    Update the docs to use mzconduct instead of mzcompose and add a new workflow for testing locally.

commit 7bfdf290f90e242ef62d65d87b00d0b1d872d352
Merge: a562184e6 86a682a73
Author: Nikhil Benesch <nikhil.benesch@gmail.com>
Date:   Thu Nov 12 15:02:07 2020 -0500

    Merge pull request #4768 from benesch/npgsql
    
    sql: basic npgsql support

commit 86a682a7363f457d15869ee6d0daed7f8d2e389e
Author: Nikhil Benesch <nikhil.benesch@gmail.com>
Date:   Thu Nov 12 02:53:45 2020 -0500

    test/lang/csharp: enable basic smoke test
    
    The basic smoke test of Npgsql now works. Plenty more tests to write and
    bugs to shake out, but we're now at the point where we can file specific
    follow-up issues as they come up.
    
    Fix #4543.

commit eea22fa0809d90da34a053ca0712001a7de1ce4f
Author: Nikhil Benesch <nikhil.benesch@gmail.com>
Date:   Thu Nov 12 02:48:23 2020 -0500

    coord,sql: improve pgcompat of types
    
    Assorted PostgreSQL compatibility improvements with the goal of
    supporting Npgsql. In no particular order:
    
      * Rename "builtin" type to "base" type. This is the
        PostgreSQL-approved term, and is useful because we might one day
        have a "builtin map type", which is distinct from a "base" type.
    
      * Add an mz_types table that contains the common fields of every type.
        Make the mz_base_types and mz_map_types tables contain only the
        fields that are unique to those types, and reference the entry in
        mz_types for the rest.
    
        Also adjust the code internal to Materialize to match by separating
        out a `struct Type` and an `enum TypeInner`, where the former
        contains common fields and the latter contains specific fields.
        "TypeInner" isn't a very good name, but it seems better than
        "TypeType" or "TypeKind".
    
      * Add docs for the aforementioned system tables.
    
      * Update the pg_type shim to pull as much information as possible from
        mz_types.
    
    Fix #4518.

commit a562184e648f57ff741e02f04f1bf16eba8b5db1
Merge: 79fbf245f 352f6efe4
Author: Nikhil Benesch <nikhil.benesch@gmail.com>
Date:   Thu Nov 12 12:50:43 2020 -0500

    Merge pull request #4766 from benesch/limit
    
    sql-parser: handle subquery nesting like postgres

commit e76f41478ca3c7c10517620e249b52396f0546b5
Author: Nikhil Benesch <nikhil.benesch@gmail.com>
Date:   Thu Nov 12 02:44:49 2020 -0500

    pgwire: report correct format in row description
    
    Plumb the correct format (text/binary) into the RowDescription message.
    Npgsql relies on this format code being set correctly, though other
    drivers do not.

commit 94a35e6fe0218333cf3eca53ef25abb31e6c680b
Author: Sean Loiselle <sean@materialize.io>
Date:   Thu Nov 12 00:06:43 2020 -0500

    sql: list subscript error message/doc consistency

commit 3144a0805f864284883a0f11f3da04e0c05a6641
Author: Sean Loiselle <sean@materialize.io>
Date:   Tue Nov 3 14:53:20 2020 -0500

    docs: document list type

commit 79fbf245fb542b387b3c5abbbe384f1f1a22babf
Merge: 0cbb6c85b 1a7a91d42
Author: Nikhil Benesch <nikhil.benesch@gmail.com>
Date:   Wed Nov 11 23:46:57 2020 -0500

    Merge pull request #4764 from benesch/ident-docs
    
    doc/user: update identifier docs

commit 1a7a91d4202b24ceed149e2ef448be71e0752b0b
Author: Nikhil Benesch <nikhil.benesch@gmail.com>
Date:   Wed Nov 11 13:33:18 2020 -0500

    doc/user: update identifier docs
    
    Identifiers have gotten more permissive in Materialize and allow any
    non-ASCII character to match PostgreSQL. Also add a bit more precision
    to various parts of the identifier docs, in particular listing the
    current set of keywords.

commit 352f6efe459f8f8f1deede47f1d9114dd823f8ab
Author: Nikhil Benesch <nikhil.benesch@gmail.com>
Date:   Wed Nov 11 20:32:09 2020 -0500

    sql-parser: handle subquery nesting like postgres
    
    PostgreSQL has a number of grammatical quirks around subqueries.
    WITH, ORDER BY, and LIMIT can "escape" top-level nesting, as in:
    
        (SELECT 1 ORDER BY 1)
        (SELECT 1 LIMIT 1)
        (WITH a AS (SELECT 1) SELECT 2)
    
    And therefore these queries must be rejected with "multiple <blah>
    clauses not allowed":
    
        (SELECT 1 ORDER BY 1) ORDER BY 1
        (SELECT 1 LIMIT 1) LIMIT 1
        WITH a AS (SELECT 1) (WITH b AS (SELECT 2) SELECT 3)
    
    But PostgreSQL also correctly handles corner cases of the grammar, where
    nested SELECTs contain both extra parentheses and set operations, as in:
    
        SELECT (((SELECT 2)) UNION SELECT 2)
    
    This turns out to be tricky to handle as the grammar is quite ambiguous.
    
    This commit makes all of the cases listed above match PostgreSQL, and
    enables several SLTs that were disabled to exercise the new behavior.

commit 02020e8ec6d7297ef5f29242a4f214a3c02c2742
Author: Sean Loiselle <sean@materialize.io>
Date:   Wed Nov 11 21:43:21 2020 -0500

    docs: enlarge headers

commit 8473a351d2ddb2e13637207878d8a5433b2ac996
Author: Nikhil Benesch <nikhil.benesch@gmail.com>
Date:   Wed Nov 11 19:43:37 2020 -0500

    sql-parser: unify LIMIT and FETCH
    
    The FETCH clause is the SQL standard way of specifying LIMIT. Unify the
    two clauses in the parser so that both are supported by the planner.
    Previously we were silently ignoring the FETCH clauses. (Note that FETCH
    ... WITH TIES is still not supported.)
    
    This commit drops support for parsing FETCH ... PERCENT, since not even
    PostgreSQL supports that.

commit 0cbb6c85bd37cac60139d456368f4dc3bd79c108
Merge: 816150295 52105b9f0
Author: Nikhil Benesch <nikhil.benesch@gmail.com>
Date:   Wed Nov 11 13:32:42 2020 -0500

    Merge pull request #4760 from benesch/sql-parser-errors
    
    sql-parser: more fixes

commit 52105b9f089f4c2daa58e300a7f04ce86c55a817
Author: Nikhil Benesch <nikhil.benesch@gmail.com>
Date:   Wed Nov 11 00:08:10 2020 -0500

    sql-parser: support unicode identifiers
    
    Apparently all Unicode codepoints above 0x80 are valid identifiers in
    PostgreSQL.

commit 5ad5e0b19437ca615202a571a385a59c82be291a
Author: Nikhil Benesch <nikhil.benesch@gmail.com>
Date:   Tue Nov 10 23:45:41 2020 -0500

    sql-parser: get out of the error rendering business
    
    PostgreSQL errors have a facility for reporting the character offset
    associated with an error reported to the client.  The psql command line
    program, and possibly others, use this information to output a visual
    marker of where the error occured in the query:
    
        $ psql -c 'select 1 order wrong'
        ERROR:  syntax error at or near "wrong"
        LINE 1: select 1 order wrong
                               ^
    
    Materialize keeps track of the same information in the SQL parser, but
    was not reporting this information to the client directly. Instead, it
    was rendering its own visual error message like so:
    
        $ psql -h localhost -p 6875 materialize -c 'select 1 order wrong'
        ERROR:  Parse error:
        select 1 order wrong
                 ^^^^^
        Expected end of statement, found: order
    
    This approach has several downsides:
    
        * Rendering the error caret is not trivial in the face of unicode
          characters. psql gets this right, but Materialize does not.
    
        * Rendering the error caret correctly in general is impossible,
          since e.g. other client drivers may render the error message in a
          non-fixed-width font. psql can assume terminal output, but the
          fmt::Display implementation for ParserError should not.
    
        * Adding the structured "position" field to the error response
          causes psql to render its own error cursor beneath Materialize's.
    
    So, this commit removes our custom error rendering code, and instead
    passes the correct information to the client so e.g. psql can do its own
    error rendering. Various cleanups result from this work:
    
        * Since PostgreSQL only supports associating a single character
          offset with an error, rather than a range, various token position
          tracking code gets much simpler.
    
        * Parser errors no longer need to hold a reference to the input
          string, so the SQL parser can take an `&str` instead of a `String`
          as input, and many of its callers can avoid clones.
    
    The datadriven tests for the SQL parser continue to roll their own caret
    rendering, for ease of visually inspecting the test files. But this code
    has been simplified, since we now render only a single character rather
    than a range, and taught to correctly compute unicode widths. Further
    bugs in this code are very low priority, since they only impact our
    internal tests.
    
    While some error messages do get a bit worse, since only a single
    character is highlighted instead of a whole range, I think that is a
    minor price to pay to fix the issues listed above.

commit 96499a6c5fbf7a7d9599cf21c8927cedf2d8f57f
Author: Nikhil Benesch <nikhil.benesch@gmail.com>
Date:   Tue Nov 10 23:27:24 2020 -0500

    sql-parser: split datadriven test into functions
    
    This just reduces the amount of nesting in the test, and makes it a bit
    easier to follow.

commit 816150295ae17272583181532b694b2a052938c3
Merge: 73401c24e 4683fc726
Author: Nikhil Benesch <nikhil.benesch@gmail.com>
Date:   Wed Nov 11 12:45:24 2020 -0500

    Merge pull request #4761 from benesch/zero-arity-tables
    
    sql: various fixes for zero-column tables

commit 4683fc7261e96265f296051342bf46f869af345f
Author: Nikhil Benesch <nikhil.benesch@gmail.com>
Date:   Wed Nov 11 01:17:33 2020 -0500

    sql-parser: support SELECT statements with no target list
    
    Learn to accept SELECT statements with no target list, like:
    
        SELECT
        SELECT LIMIT 5
    
    These are fairly useless, but are symmetric with zero-column tables. We
    need both of these things for PostgreSQL compatibility.

commit 9a0cfe3832b17cfffbb686ae18d44aa5942c2bdd
Author: Nikhil Benesch <nikhil.benesch@gmail.com>
Date:   Wed Nov 11 01:00:49 2020 -0500

    sql: fix crash with zero-arity tables
    
    These are technically allowed, though not with the syntax we were
    permitting. Drop support for
    
        CREATE TABLE t
    
    but, like PostgreSQL, continue to support:
    
        CREATE TABLE t ()
    
    Also, fix the crash that causes
    
        INSERT INTO t VALUES (1)
    
    to panic rather than producing a proper error message.
    
    While I'm here, disallow trailing commas in column specifications in
    CREATE TABLE. This is historical baggage from upstream. We want to
    follow PostgreSQL more strictly, which does not permit trailing commas
    in this context.
    
    Fix #4759.

commit 73401c24ec0f4764677eaf41af53c8997de6b7a3
Merge: f149460fd c730cac4a
Author: Brandon W Maister <bwm@materialize.io>
Date:   Wed Nov 11 10:50:09 2020 -0500

    Merge pull request #4754 from quodlibetor/release-check-status
    
    release: Document how to determine billing demo container status

commit f149460fd515f939a5ad54dea9b9f61e2bc44e6c
Merge: 5064bb7df 2a4c807ed
Author: Brandon W Maister <bwm@materialize.io>
Date:   Wed Nov 11 10:49:38 2020 -0500

    Merge pull request #4757 from quodlibetor/update-prometheus
    
    Update for rust-prometheus having merged from upstream

commit 5064bb7df589bf6a09ff07ec5bc395e2aa21b693
Merge: fe436fb92 d4aea4d9e
Author: Matt Jibson <matt.jibson@gmail.com>
Date:   Tue Nov 10 22:25:47 2020 -0700

    Merge pull request #4752 from mjibson/tail-done
    
    sql: support timestamp done messages in TAIL

commit d4aea4d9e3ab1e8a26a99409cdbc63aa3090da1a
Author: Matt Jibson <matt.jibson@gmail.com>
Date:   Tue Nov 10 10:40:44 2020 -0700

    sql: support timestamp progress messages in TAIL
    
    Add a `WITH (PROGRESS)` option to TAIL that adds a `progressed` bool
    column to the output. At the end of each set of batches send a new
    row with the timestamp, a true `progressed`, and NULL for all columns
    to indicate that no rows will appear before that timestamp. Otherwise
    `progressed` is false.
    
    This works because each batch represents a disjoint and increasing bound
    of time. Thus we only need to send a progress message for the last batch
    of a group of batches.
    
    Closes #4539

commit fe436fb9234c3d2565ac99ba4ec63c6abc349c19
Merge: a1f4630d5 a8288fcbc
Author: Nikhil Benesch <nikhil.benesch@gmail.com>
Date:   Tue Nov 10 22:29:00 2020 -0500

    Merge pull request #4755 from benesch/unicode-crash
    
    sql-parser: better handling of unicode characters in errors

commit a8288fcbccdee5c31896cfdbc2893d397019b301
Author: Nikhil Benesch <nikhil.benesch@gmail.com>
Date:   Tue Nov 10 15:19:19 2020 -0500

    sql-parser: better handling of unicode characters in errors
    
    Slicing a string in Rust requires care to only slice at unicode
    boundaries, and the SQL parser was not being quite careful enough when
    generating error messages about SQL queries that contained unicode
    characters.
    
    This commit fixes:
    
      * a bug in the lexer where the position of the "unexpected character"
        message would start in the middle of that character if the UTF-8
        encoding of that character was more than one byte long.
      * a bug in the parser error renderer where a bounds check was
        unnecessarily subtracting 1, which results in an invalid character
        offset if the last character in a SQL string is not ASCII.

commit a1f4630d51a46acbd2f95becd8a80cc88973da5f
Merge: 9ae248f37 73e07275b
Author: Nikhil Benesch <nikhil.benesch@gmail.com>
Date:   Tue Nov 10 21:18:21 2020 -0500

    Merge pull request #4758 from benesch/pgwire-error
    
    pgwire: prepare for more error response fields

commit 2a4c807ed986902fa4c8d082894c64dd1b86212b
Author: Brandon W Maister <bwm@materialize.io>
Date:   Tue Nov 10 16:44:02 2020 -0500

    Update for rust-prometheus having merged from upstream
    
    This reduces/updates some of the nested dependencies.

commit 9ae248f37f50b4d03adf764473ccc047a8c9b192
Merge: edd8c933a 00a3836db
Author: Matt Jibson <matt.jibson@gmail.com>
Date:   Tue Nov 10 15:51:12 2020 -0700

    Merge pull request #4740 from mjibson/with-sql-opts
    
    sql-parser: standardize WITH options parsing

commit 73e07275bc40eb9e27d9f68cd49093553b454bcf
Author: Nikhil Benesch <nikhil.benesch@gmail.com>
Date:   Tue Nov 10 17:33:16 2020 -0500

    pgwire: prepare for more error response fields
    
    The present design of the error reporting interface in the pgwire crate
    makes it very convenient to report errors that use the default fields
    (code and message), but impossible to report errors that use additional
    fields like hint and detail. Forthcoming commits will add even more
    additional fields, like the position in the query at which the error
    occurred.
    
    Rework the API so that reporting an error requires building up an
    ErrorResponse manually, with whatever fields they like. But add builder
    methods to ErrorResponse so cut down on the verbosity. This results in a
    slight hit to ergonomics in exchange for a big increase in flexibility.
    
    Also, match PostgreSQL in using exactly the same type to represent
    errors and notices. No point in enforcing a separation that doesn't
    exist.

commit 00a3836db219f6c8e1c7e74f8676aa2f70a13f5e
Author: Matt Jibson <matt.jibson@gmail.com>
Date:   Sat Nov 7 18:04:37 2020 -0700

    sql-parser: standardize WITH options parsing
    
    There are currently five ways `WITH` is used in our grammar when configuring options:
    
    1. `WITH SNAPSHOT`
    2. `WITHOUT SNAPSHOT`
    3. `WITH (option value)`
    4. `WITH (option = value)`
    5. `WITH (option)`
    
    We want to reduce this to some more standard form. Postgres has historic
    support for `WITHOUT` but does not appear to have used it since, and
    so we would like to remove that keyword. `WITH KEYWORD` doesn't support
    multiple options or arguments to them, so we would also like to remove
    it. Both of these have been replaced with 4 and 5 from the above list.
    
    `COPY` is a bit special in that we would like to preserve its backward
    compat with most existing Postgres applications, so it is allowed to
    omit the `=` between option names and values. `COPY` has no user-facing
    changes due to this.
    
    `TAIL` has thus had a breaking syntax change. Due to all of the recent
    churn with `TAIL` we think it's ok to not preserve backward compat in
    its syntax.
    
    Other statements that use `WITH` and `WITHOUT` will be changed in
    the future.

commit edd8c933ad72c45bdfcdc600db095456ea9a5546
Merge: ed2fd801d db4abef55
Author: Nikhil Benesch <nikhil.benesch@gmail.com>
Date:   Tue Nov 10 15:56:44 2020 -0500

    Merge pull request #4746 from benesch/copy-panic
    
    Updates for COPY panic

commit ed2fd801d4fac1f5e2122e3556acb190c2cd6f20
Merge: 854634eb4 897da092e
Author: Andi Wang <5522362+wangandi@users.noreply.github.com>
Date:   Tue Nov 10 15:54:41 2020 -0500

    Merge pull request #4751 from wangandi/sourcecrash
    
    SQL+docs: Fix `SHOW FULL MATERIALIZED SOURCES` crash

commit db4abef55b8a85987dfd55cbf214e4136ea46a83
Author: Nikhil Benesch <nikhil.benesch@gmail.com>
Date:   Tue Nov 10 10:06:27 2020 -0500

    sql: tweak statement description interface
    
    This commit tweaks the output of sql::plan::describe so that
    StatementDesc is the sole authority on the output of the statement.
    Previously StatementDesc contained parameter types as a Vec<ScalarType>,
    but sql::plan::describe also returned parameter types as a
    Vec<pgrepr::Type> alongside the StatementDesc.
    
    This commit also changes the `send: bool` field to `is_copy: bool`,
    where `send == !is_copy`. The change seems minor, but I think it more
    clearly separates the responsibilities; the sql crate doesn't really
    want to determine whether the pgwire crate sends back a RowDescription
    to the client or not. Instead the sql crate just surfaces some
    information ("was this a COPY statement?") that the pgwire crate can use
    as it likes. Some additional pgtest coverage is added to account for
    this change.

commit c730cac4aa3d194380d5305470fd0d33d0be8bb1
Author: Brandon W Maister <bwm@materialize.io>
Date:   Tue Nov 10 15:43:18 2020 -0500

    release: Document the new plan for the release schedule reminder

commit 897da092eb86948f4be52c777c22d222dfbdcc6e
Author: Andi Wang <andi@materialize.io>
Date:   Tue Nov 10 13:14:43 2020 -0500

    Fix SHOW FULL MATERIALIZED SOURCES crash.

commit eb9e74a45dbcef3ccb463fb84aedb738473be234
Author: Andi Wang <andi@materialize.io>
Date:   Tue Nov 10 13:12:22 2020 -0500

    Add FULL MATERIALIZED syntax to SHOW SOURCES docs. Fix typos.

commit 854634eb494cadd60e379061291b9460154c6071
Merge: 94613bfc7 258ef2170
Author: Nikhil Benesch <nikhil.benesch@gmail.com>
Date:   Tue Nov 10 14:53:07 2020 -0500

    Merge pull request #4727 from benesch/parser-changes
    
    sql-parser: generate keyword enum

commit 96ad0e4cd312a47e855a61de851dfdeb6ad372de
Author: Brandon W Maister <bwm@materialize.io>
Date:   Tue Nov 10 14:45:36 2020 -0500

    release: Document how to determine billing demo container status

commit 94613bfc73a2883c8d8d465f1725a585ca75a5c5
Merge: 19c632df5 3f85fedce
Author: Nikhil Benesch <nikhil.benesch@gmail.com>
Date:   Tue Nov 10 14:34:55 2020 -0500

    Merge pull request #4728 from MaterializeInc/dependabot/cargo/serde-1.0.117
    
    build(deps): bump serde from 1.0.116 to 1.0.117

commit 19c632df515def574a1e8d0e9d6ad657b19a3d92
Merge: f29e4f734 b5281a9f7
Author: Nikhil Benesch <nikhil.benesch@gmail.com>
Date:   Tue Nov 10 14:33:54 2020 -0500

    Merge pull request #4748 from benesch/insert-anything
    
    sql: support complicated INSERT bodies

commit f29e4f734b6d6f5f2f1bdf076fc16c9d04d76986
Author: Brennan Vincent <brennan@materialize.io>
Date:   Tue Nov 10 13:42:09 2020 -0500

    Debug-serialize Avro schemas as Json (#4745)

commit 1950c8e6d38bfd82d7e992f2a8bf4365e08f49e3
Merge: 468212e94 5e40a6fab
Author: Matt Jibson <matt.jibson@gmail.com>
Date:   Tue Nov 10 10:16:48 2020 -0700

    Merge pull request #4741 from mjibson/copy-text
    
    docs: fix copy-to option docs

commit 468212e94a5939af5544c90ee47ef6de5f3df52d
Merge: 845f2dcc5 796d85b7f
Author: Eli Lindsey <eli@siliconsprawl.com>
Date:   Tue Nov 10 11:33:59 2020 -0500

    Merge pull request #4696 from elindsey/sourceinfots
    
    track lag time of sources in mz_perf_dependency_frontiers

commit 845f2dcc5cd9a976f426ac6cee16dc643b07abed
Merge: 0790b76fc 582c23db9
Author: Eli Lindsey <eli@siliconsprawl.com>
Date:   Tue Nov 10 11:21:14 2020 -0500

    Merge pull request #4747 from elindsey/named_loggingflows
    
    name our logging dataflows

commit 582c23db9be0ba5607a0b6e86a27630e5ccbde39
Author: Eli Lindsey <eli@siliconsprawl.com>
Date:   Mon Nov 9 18:13:53 2020 -0500

    name the logging dataflows

commit 130b5ef4db4458dd9c97f2dbe0f83697f7ca6e3d
Author: Eli Lindsey <eli@siliconsprawl.com>
Date:   Tue Nov 10 10:43:58 2020 -0500

    update timely dependency to latest

commit 1a1e35616d7508279e85ca8458da3563ba5e7578
Author: Nikhil Benesch <nikhil.benesch@gmail.com>
Date:   Tue Nov 10 10:41:33 2020 -0500

    doc/user: document COPY panic as known issue in v0.5.1
    
    The bug is already fixed on main.
    
    See #4742.

commit 0790b76fc3b62543920f7b4134d043d99bac0e64
Author: Brennan Vincent <brennan@materialize.io>
Date:   Tue Nov 10 10:20:33 2020 -0500

    Set `connect.name=io.debezium.data.Json` for JSON fields in sink output (#4744)

commit 1d85745cf7e4dacf1ba264aeca084b14c6dbea3f
Author: Brennan Vincent <brennan@materialize.io>
Date:   Tue Nov 10 09:45:27 2020 -0500

    Make it clearer how to set MZ_DEV (#4743)

commit 258ef21709208c5d9bb53346f5b66b9f40a2f6d6
Author: Nikhil Benesch <nikhil.benesch@gmail.com>
Date:   Thu Nov 5 18:30:24 2020 -0500

    sql-parser: generate keyword enum
    
    Change sql-parser to represent keywords using an auto-generated
    `Keyword` enum rather than constantly performing string matches. This is
    both much faster and more ergonomic, as matching on Token::Keyword
    directly becomes possible.
    
    The cost is a bit more code generation, but it seems well worth it to
    me.

commit b5281a9f70ac97c9cfcb5c3374fe37822ff8a810
Author: Nikhil Benesch <nikhil.benesch@gmail.com>
Date:   Mon Nov 9 23:19:23 2020 -0500

    sql: inline plan_view_select
    
    The plan_view_select is only used in one place now, so just inline it.
    Then we can reuse the shorter name for plan_view_select_intrusive.

commit a3d071c7a398195304e2badacfa538fb7b424b69
Author: Nikhil Benesch <nikhil.benesch@gmail.com>
Date:   Mon Nov 9 22:48:28 2020 -0500

    sql: support complicated INSERT bodies
    
    We don't presently support INSERT statements like
    
        INSERT INTO t1 SELECT * FROM t2
    
    where another table is used as the source of the INSERT. But restricting
    the set of allowable queries to
    
        INSERT INTO t1 VALUES (...)
    
    is a bit *too* restrictive, because a query like
    
        INSERT INTO t1 SELECT 1, 2
    
    is quite easy to support today. This patch adds support for such
    queries.

commit 34573207b1f769a6ff000db411e1bd6f03cbf117
Author: Nikhil Benesch <nikhil.benesch@gmail.com>
Date:   Mon Nov 9 22:33:33 2020 -0500

    sql: reorder INSERT code for other insert sources
    
    Pull as much of the implementation of INSERTs out of the VALUES-specific
    match statement to prepare for INSERT sources that are not VALUES
    clauses.

commit 9a66d82a2c85246af2d04465cac03770f73593c4
Merge: c76a02296 8b105b9a2
Author: Nikhil Benesch <nikhil.benesch@gmail.com>
Date:   Mon Nov 9 21:28:45 2020 -0500

    Merge pull request #4736 from benesch/insert-mz-logical-timestamp
    
    coord: always remember to replace mz_logical_timestamp

commit 8b105b9a2ef6bc5d88f218e942aa28ce196d525f
Author: Nikhil Benesch <nikhil.benesch@gmail.com>
Date:   Tue Nov 3 01:47:06 2020 -0500

    coord: always remember to replace mz_logical_timestamp
    
    Optimizing an expression that calls mz_logical_timestamp will panic.
    Previously, the coordinator was responsible for replacing calls to
    mz_logical_timestamp, except for in contexts where the SQL planner had
    promised not to permit calls to mz_logical_timestamp. This was hard to
    keep track of, and several code paths miscommunicated on their
    responsibilities.
    
    Rework so that the SQL planner is always willing to plan a call to
    mz_logical_timestamp, and the coordinator has the sole responsibility of
    either replacing that call with the actual timestamp, or rejecting the
    query.

commit 5e40a6fab5a457f9d382521ad1cf5dc551df1b34
Author: Matt Jibson <matt.jibson@gmail.com>
Date:   Mon Nov 9 15:32:54 2020 -0700

    docs: fix copy-to option docs

commit 796d85b7fb472a1618d7374006d3553ec2018ca1
Author: Eli Lindsey <eli@siliconsprawl.com>
Date:   Tue Nov 3 17:44:26 2020 -0500

    extend mz_perf_dependency_frontiers to include sources

commit 71ef2a8a2b9e1906ae727cf95ea667803358f826
Author: Eli Lindsey <eli@siliconsprawl.com>
Date:   Tue Nov 3 17:43:28 2020 -0500

    persist per-partition logical timestamp in source_info

commit c76a02296afa3dd0673e4561d6f0e6caf2ca1f21
Merge: 24f089ba5 ac6d47ca7
Author: Benjamin Pellittieri <ben@materialize.io>
Date:   Mon Nov 9 13:36:02 2020 -0600

    Merge pull request #4737 from benLogN/deb_update
    
    Update .deb package

commit ac6d47ca7e1e06560f851be403d8acc669acf46c
Author: Benjamin Pellittieri <ben@materialize.io>
Date:   Mon Nov 9 11:46:13 2020 -0600

    Remove 1 worker default from systemd unit
    
    As of 0.5.1, not specifying this flag defaults to half the number of
    cpus, rounded down, with a minimum of one.

commit 5e8cfe83c8a24b5add6cbc82f455fdf57c2df393
Author: Benjamin Pellittieri <ben@materialize.io>
Date:   Mon Nov 9 11:45:42 2020 -0600

    Add an install target for systemd unit

commit 3f85fedcec5342a204bc7d9e357766d66b9606e1
Author: dependabot-preview[bot] <27856297+dependabot-preview[bot]@users.noreply.github.com>
Date:   Mon Nov 9 16:42:21 2020 +0000

    build(deps): bump serde from 1.0.116 to 1.0.117
    
    Bumps [serde](https://github.com/serde-rs/serde) from 1.0.116 to 1.0.117.
    - [Release notes](https://github.com/serde-rs/serde/releases)
    - [Commits](https://github.com/serde-rs/serde/compare/v1.0.116...v1.0.117)
    
    Signed-off-by: dependabot-preview[bot] <support@dependabot.com>

commit 24f089ba5527ab1ce6854b89f2490600dc668ab2
Merge: 0f88a31c9 728d4a498
Author: Nikhil Benesch <nikhil.benesch@gmail.com>
Date:   Mon Nov 9 11:40:22 2020 -0500

    Merge pull request #4731 from MaterializeInc/dependabot/cargo/backtrace-0.3.54
    
    build(deps): bump backtrace from 0.3.53 to 0.3.54

commit 0f88a31c93bede73ae1424725b39e5fe22fd1f2a
Merge: dd497fb1b 86074622b
Author: Nikhil Benesch <nikhil.benesch@gmail.com>
Date:   Mon Nov 9 11:34:37 2020 -0500

    Merge pull request #4730 from MaterializeInc/dependabot/cargo/csv-1.1.4
    
    build(deps): bump csv from 1.1.3 to 1.1.4

commit dd497fb1b6ba81f765c5b3da2a9c3352984d6834
Merge: 54e5bd628 2b5882e52
Author: Nikhil Benesch <nikhil.benesch@gmail.com>
Date:   Mon Nov 9 11:27:34 2020 -0500

    Merge pull request #4734 from MaterializeInc/dependabot/cargo/hyper-0.13.9
    
    build(deps): bump hyper from 0.13.8 to 0.13.9

commit 54e5bd628c2b0b2beca67f20a4d94295f0328293
Merge: 84a9121a0 a529b81b5
Author: Brandon W Maister <bwm@materialize.io>
Date:   Mon Nov 9 09:44:46 2020 -0500

    Merge pull request #4726 from quodlibetor/release-process-improvements
    
    Various improvements to the release process and release script

commit 2b5882e5254e6c91f5cfb3fbb962c54d11f9ffce
Author: dependabot-preview[bot] <27856297+dependabot-preview[bot]@users.noreply.github.com>
Date:   Mon Nov 9 10:47:12 2020 +0000

    build(deps): bump hyper from 0.13.8 to 0.13.9
    
    Bumps [hyper](https://github.com/hyperium/hyper) from 0.13.8 to 0.13.9.
    - [Release notes](https://github.com/hyperium/hyper/releases)
    - [Changelog](https://github.com/hyperium/hyper/blob/master/CHANGELOG.md)
    - [Commits](https://github.com/hyperium/hyper/compare/v0.13.8...v0.13.9)
    
    Signed-off-by: dependabot-preview[bot] <support@dependabot.com>

commit 728d4a498a89b86a3a4c9e2213c769e9a067639e
Author: dependabot-preview[bot] <27856297+dependabot-preview[bot]@users.noreply.github.com>
Date:   Mon Nov 9 10:44:52 2020 +0000

    build(deps): bump backtrace from 0.3.53 to 0.3.54
    
    Bumps [backtrace](https://github.com/rust-lang/backtrace-rs) from 0.3.53 to 0.3.54.
    - [Release notes](https://github.com/rust-lang/backtrace-rs/releases)
    - [Commits](https://github.com/rust-lang/backtrace-rs/compare/0.3.53...0.3.54)
    
    Signed-off-by: dependabot-preview[bot] <support@dependabot.com>

commit 86074622b07f54208ec28fb4d7077c4593b69846
Author: dependabot-preview[bot] <27856297+dependabot-preview[bot]@users.noreply.github.com>
Date:   Mon Nov 9 10:44:11 2020 +0000

    build(deps): bump csv from 1.1.3 to 1.1.4
    
    Bumps [csv](https://github.com/BurntSushi/rust-csv) from 1.1.3 to 1.1.4.
    - [Release notes](https://github.com/BurntSushi/rust-csv/releases)
    - [Commits](https://github.com/BurntSushi/rust-csv/compare/1.1.3...1.1.4)
    
    Signed-off-by: dependabot-preview[bot] <support@dependabot.com>

commit 84a9121a0a041cf9e65fa9a8348be951fe2244e4
Merge: 7ede0cdc0 0e3df7424
Author: Sean Loiselle <sean@materialize.io>
Date:   Fri Nov 6 17:23:31 2020 -0500

    Merge pull request #4687 from sploiselle/str-list-cast
    
    text -> list cast

commit 7ede0cdc0112c4bfcc53533ccdfe16cee3adb52f
Merge: f8f5a6679 1215520b4
Author: Nikhil Benesch <nikhil.benesch@gmail.com>
Date:   Fri Nov 6 15:57:31 2020 -0500

    Merge pull request #4724 from benesch/v051-relnotes
    
    doc/user: polish release notes for v0.5.1

commit a529b81b5f673f5c25b99a768cce360d3e9bf02c
Author: Brandon W Maister <bwm@materialize.io>
Date:   Fri Nov 6 15:38:08 2020 -0500

    mkrelease: Don't allow bumping the patch version too far
    
    The old logic allowed creating a version e.g. `0.5.2` on top of `0.5.1-rc1` (it
    should be `0.5.1`).
    
    This logic is more verbose but I think easier to reason about, when you take
    the comments into account.

commit 386d674f027b68566bb35bd14c93d05c3359403a
Author: Brandon W Maister <bwm@materialize.io>
Date:   Fri Nov 6 15:35:17 2020 -0500

    mkrelease: Warn for releases on top of old RCs
    
    With this it is harder to accidentally release on -rc1 if you have created -rc2.
    
    The error message that I get when I manually construct some tags is:
    
        $ bin/mkrelease v0.5.2
        Congratulations on the successful release!
        You are about to create a release based on: v0.5.2-rc1
        Which is not the latest prerelease:         v0.5.2-rc2
        Are you sure? [y/N]:

commit 5f6e4a5a22c0e4463e1ffc24291f04c616d3b653
Author: Brandon W Maister <bwm@materialize.io>
Date:   Fri Nov 6 15:34:14 2020 -0500

    mkrelease: Remove unnecessary double-check of dirty worktree
    
    Originally we did some modifications in between the two, but that is no longer
    the case.

commit eb68dcd2856b6fc9c0152561823f1bf36301a8b7
Author: Brandon W Maister <bwm@materialize.io>
Date:   Fri Nov 6 14:32:11 2020 -0500

    release docs: Document how to find the deploy step, since it is async
    
    In particular, it w

commit d4a72819246e515bff4ffb929591a0d139058d6a
Author: Brandon W Maister <bwm@materialize.io>
Date:   Fri Nov 6 14:31:42 2020 -0500

    release docs: Add release tags to main branch history

commit 4959977f111fd9282f166764399dbbe4075dfd84
Author: Brandon W Maister <bwm@materialize.io>
Date:   Fri Nov 6 14:28:06 2020 -0500

    release docs: bin/mkrelease (now) pushes tags
    
    That makes the warning in the docs confusing, since they'll be pushed as part
    of the process.

commit 1215520b4278a4582ecdb198bc4220dc13e6f9e7
Author: Nikhil Benesch <nikhil.benesch@gmail.com>
Date:   Fri Nov 6 14:46:50 2020 -0500

    doc/user: polish release notes for v0.5.1

commit f8f5a667991f310bab9c97a4fb1f44ac24db9c00
Author: Brandon W Maister <bwm@materialize.io>
Date:   Fri Nov 6 15:25:45 2020 -0500

    Mark v0.5.1 as released in the docs config (#4725)

commit 0e3df7424851168e9d3bed571ffe4aa191ef694d
Author: Sean Loiselle <sean@materialize.io>
Date:   Mon Nov 2 13:37:56 2020 -0500

    sql: support casting string to lists

commit 4c1c0a96b59806d86a079411ed8662380c504d9b
Merge: ba4c0d901 6cfc4637b
Author: Brandon W Maister <bwm@materialize.io>
Date:   Fri Nov 6 15:08:00 2020 -0500

    Merge pull request #4723 from quodlibetor/prepare-v0.5.2-dev
    
    Prepare v0.5.2 dev on top of v0.5.1

commit ca11c74bd97c649a181262e5de5ccab0f2b51f71
Author: Sean Loiselle <sean@materialize.io>
Date:   Tue Oct 27 18:25:09 2020 -0400

    sql: reorder list_prepend tests

commit 6cfa870855a3a8c455dfe4e9471b8de6989bbbf8
Author: Sean Loiselle <sean@materialize.io>
Date:   Thu Nov 5 15:40:10 2020 -0500

    ore: adjust some LexBuf impl lifetimes

commit ba4c0d9017bdbb167044d73e96422d9333b6f874
Author: Brandon W Maister <bwm@materialize.io>
Date:   Fri Nov 6 14:17:42 2020 -0500

    xcompile: Make the error message more visible and location agnostic (#4691)

commit 6cfc4637bb3323a10a491844855357b090293462
Author: Brandon W Maister <bwm@materialize.io>
Date:   Fri Nov 6 14:06:46 2020 -0500

    Prepare next phase of development: v0.5.2-dev

commit a64717326b6dae336a3feb4f4b4650b1b4382c90
Merge: 89c58d24a 0b97dff57
Author: Benjamin Pellittieri <ben@materialize.io>
Date:   Fri Nov 6 13:03:45 2020 -0600

    Merge pull request #4715 from MaterializeInc/dot_com
    
    Move documentation links from .io to .com

commit 44e1c06b7c84297bfa8bdf656103eab46c75cde4
Author: Brandon W Maister <bwm@materialize.io>
Date:   Fri Nov 6 13:48:28 2020 -0500

    release: v0.5.1

commit 89c58d24a43a96b23aabc0b83bec8facfb6f0f87
Author: Brennan Vincent <brennan@materialize.io>
Date:   Fri Nov 6 13:43:15 2020 -0500

    Sink keys doc (#4680)
    
    * Update SQL grammar for keyful sinks
    
    * update release notes
    
    * forgot to add the svg
    
    * KEYS -> KEY
    
    * specify Kafka in relnotes

commit 5f5fd2cc38c2cdb575e321a61530bd99e76e0a84
Merge: b502cfb9e 3a3e44d7c
Author: Brandon W Maister <bwm@materialize.io>
Date:   Fri Nov 6 13:33:37 2020 -0500

    Merge pull request #4706 from quodlibetor/prepare-v0.5.2-dev
    
    Prepare v0.5.2 dev

commit b502cfb9edfcfbacdbf32ab14f0337821e96dfd1
Merge: 39d35444e 8252af9bb
Author: Matt Jibson <matt.jibson@gmail.com>
Date:   Fri Nov 6 10:44:32 2020 -0700

    Merge pull request #4718 from mjibson/tail-order
    
    dataflow: order TAIL output by timestamp

commit 39d35444ed09758266d227fdcd1ebd352502b03a
Author: Jessica Laughlin <JLDLaughlin@users.noreply.github.com>
Date:   Fri Nov 6 10:41:49 2020 -0500

    sql: support SHOW and DROP TYPE (#4721)
    
    Adds support for SHOW TYPE and DROP TYPE. SHOW TYPE supports the 'full'
    and 'extended' query options. Like other system objects, builtin types cannot
    be dropped. Like other catalog objects, a user-defined type can only be
    dropped if there is no dependency on it.

commit b9f677d956772cff0805ae7732a92687d1f14ea3
Author: Brandon W Maister <bwm@materialize.io>
Date:   Fri Nov 6 09:25:27 2020 -0500

    Make the dbg! macro fail CI (#4708)

commit 8252af9bbb44eb67df22cec932704f25bb9a1595
Author: Matt Jibson <matt.jibson@gmail.com>
Date:   Thu Nov 5 15:18:23 2020 -0700

    dataflow: order TAIL output by timestamp
    
    Change the tail test to use multiple threads, which (before this change)
    will fail under stress because TAIL output order was not guaranteed,
    but this would never happen under a single thread.

commit 07b565245f0197affa73d20e4af26f5fa805a5fe
Merge: 009454b76 f1e78f18a
Author: Albert Wang <albert@materialize.io>
Date:   Thu Nov 5 18:32:26 2020 -0500

    Merge pull request #4719 from MaterializeInc/awang-patch-1
    
    flag that TAIL has a breaking change

commit f1e78f18a7df0f218d534a2bfca48dc3042c7c50
Author: Albert Wang <albert@materialize.io>
Date:   Thu Nov 5 18:13:26 2020 -0500

    flag that TAIL has a breaking change

commit 0b97dff5746b9c0a9f257f2522beaf22b785d565
Author: Benjamin Pellittieri <ben@materialize.io>
Date:   Thu Nov 5 12:36:45 2020 -0600

    Move documentation links from .io to .com
    
    Add a 301 from materialize.io to materialize.com. Update all
    references to materialize.io with two exceptions:
    packages.materialize.io and email addresses.

commit 009454b76897b7b15916e709dd95604ddf284b6f
Merge: 2d6852d4b 45a9ed380
Author: Matt Jibson <matt.jibson@gmail.com>
Date:   Thu Nov 5 11:39:06 2020 -0700

    Merge pull request #4711 from mjibson/copy-binary
    
    pgwire: support COPY TO BINARY

commit 2d6852d4b5e17df7be71520350055e76201ac259
Author: Jessica Laughlin <JLDLaughlin@users.noreply.github.com>
Date:   Thu Nov 5 13:10:25 2020 -0500

    sql: implement CREATE TYPE .. AS MAP (#4712)
    
    Implements creating a user-defined map type. Map types are stored in the
    catalog and follow the namespacing conventions of other catalog objects.
    Each map type will also be written to the mz_map_types system table. Further
    work is required to drop map types.

commit 45a9ed3809890f079d1a8ae8fb68e97fd4dcc249
Author: Matt Jibson <matt.jibson@gmail.com>
Date:   Wed Nov 4 17:12:21 2020 -0700

    pgwire: support COPY TO BINARY

commit 5509c40a21687d11ef001cad1bf95804ed7b6249
Author: Matt Jibson <matt.jibson@gmail.com>
Date:   Mon Nov 2 10:36:44 2020 -0700

    pgwire: correctly send row descriptions in simple mode
    
    `one_query` was not correctly updated after the changes to StatementDesc
    that can produce a RelationDesc that should not be sent. A test was
    written for this at the time (now included here) but I forgot to add it
    to that commit.

commit 8af5a9fa56b7bcaf7a7dd5e92b4b9aa015a65fd2
Merge: 1b2bc5023 cd5637f9c
Author: Matt Jibson <matt.jibson@gmail.com>
Date:   Thu Nov 5 10:07:04 2020 -0700

    Merge pull request #4702 from benesch/dev-version-check
    
    materialized: disable version check for "-dev" versions

commit 1b2bc5023284f8e6ab3826c372228d98f843aadc
Merge: 3a037fb63 42cf93b41
Author: Nikhil Benesch <nikhil.benesch@gmail.com>
Date:   Thu Nov 5 11:07:52 2020 -0500

    Merge pull request #4713 from MaterializeInc/rm-jsonb-any
    
    sql: refactor casting/function selection to support pg_typeof

commit cd5637f9c08427f3f67317d8da5715058abd71d6
Author: Nikhil Benesch <nikhil.benesch@gmail.com>
Date:   Wed Nov 4 08:45:29 2020 -0500

    materialized: only notify about new versions
    
    This ensures that users who somehow skew with the version cluster (e.g.,
    due to our error) don't get erroneous notifications. It also ensures
    that dev builds don't print out messages about *older* releases.
    
    For good measure, we never print a warn! in a dev build, only an info!,
    on the assumption that users running dev are more likely to be running a
    custom build and don't want to deal with ugprade spam.

commit 42cf93b41fd55286ba7723f938aaa8bfdf857116
Author: Nikhil Benesch <nikhil.benesch@gmail.com>
Date:   Thu Nov 5 03:29:03 2020 -0500

    sql: fix unary plus
    
    The recent changes to the function selection code made the unary plus
    operator *too* PostgreSQL compatible. Restore a balance of
    SQLite/PostgreSQL compatibility.

commit 56ce249e4a66d6489592263948b1ca748740a38f
Author: Nikhil Benesch <nikhil.benesch@gmail.com>
Date:   Thu Nov 5 02:45:18 2020 -0500

    sql: restructure casts
    
    Address the TODO about unifying CastTo and CastContext. Specifying the
    target type and the cast context separately makes things considerably
    more ergonomic, especially now that we have a third cast type
    ("assignment").
    
    This also saves a lot of allocations, since we don't need to constantly
    stuff target types into a `CastTo` enum.

commit ef3d6ec3c73425578fa7fc11a4352620f46d465a
Author: Nikhil Benesch <nikhil.benesch@gmail.com>
Date:   Thu Nov 5 01:06:16 2020 -0500

    sql: refactor away ArgImplementationMatcher
    
    After the latest round of refactorings, the ArgImplementationMatcher
    no longer serves any purpose. The two methods on the
    ArgImplementationMatcher don't even share any state via the struct. So
    remove it, replacing it with two free functions.
    
    This commit is pure code movement.

commit 3269243a2146d7ea67acec57edc677d0255b9ad8
Author: Nikhil Benesch <nikhil.benesch@gmail.com>
Date:   Tue Nov 3 10:00:08 2020 -0500

    sql: add pg_typeof implementation
    
    pg_typeof returns the type of its input, which is useful in tests and
    debugging. This required a small refactor to the function selection code
    to allow for functions that want to see the *uncoerced* inputs.
    pg_typeof needs this information to properly report "unknown" types.

commit c4d9ceef76c6e94e1a08a342fd2d125570e01f8c
Author: Nikhil Benesch <nikhil.benesch@gmail.com>
Date:   Tue Nov 3 13:06:09 2020 -0500

    sql: rework StringAny/JsonbAny coercion
    
    The SQL function selection code previously allowed parameter types to be
    declared as "StringAny" or "JsonbAny", representing any type that could
    be converted to a string or jsonb, respectively. The function selection
    infrastructure was responsible for installing the conversion to string
    or jsonb.
    
    This turns out not to generalize well. In PostgreSQL, only the "Any"
    psuedotype exists, and the function's *implementation*, rather than the
    function selection code, is responsible for casting the arguments to the
    correct type, if required. `concat` applies a nonstandard bool -> string
    conversion, for example, and the forthcoming `pg_typeof` actually
    performs no type conversion at all.
    
    This commit makes our function selection infrastructure work more like
    PostgreSQL's. Rather than trying to capture all possible coercions in
    ParamType, we include only the "Any" type in ParamType, and let the
    few functions that take "Any" arguments apply whatever bespoke
    conversions they want. The big win is that the cast and coercion
    routines no longer need to think about "JsonAny" as a concept, as that
    complexity is entirely isolated in the "typeconv::to_jsonb" function.

commit cb478a0178bbd48ede1f24b9de0e99b9de5ef923
Author: Nikhil Benesch <nikhil.benesch@gmail.com>
Date:   Wed Nov 4 23:04:59 2020 -0500

    sql: convert operation builder functions to methods
    
    Convert the various operation building functions (e.g. nullary_op,
    unary_op) in the sql::plan::func module to methods on the Operation
    type. This groups them together a bit better, and tees us up for more
    complex operators in the next commit.
    
    This commit is entirely code movement.

commit 3a037fb6369284079f40354f6c778829f8cb6298
Merge: f7253791d c8acb20ef
Author: Brandon W Maister <quodlibetor@gmail.com>
Date:   Wed Nov 4 17:11:27 2020 -0500

    Merge pull request #4689 from quodlibetor/avro-more-diagnostics
    
    Add a bunch more diagnostic info to debezium deduplication log events

commit 3a3e44d7c7ec0dd0c27b4f8b0a5fd443d54a4236
Author: Brandon W Maister <bwm@materialize.io>
Date:   Wed Nov 4 17:09:06 2020 -0500

    Prepare next phase of development: v0.5.2-dev

commit f7253791d40e6bc8f8ec7fb6f5f2f4bd93438605
Author: Frank McSherry <fmcsherry@me.com>
Date:   Wed Nov 4 16:44:44 2020 -0500

    Improve error dataflows (#4709)
    
    * concatenate error streams before leaving a scope
    
    * deduplicate imported error streams

commit 671f3c8310b291b3be92627694705d0415ca8c5e
Author: Brandon W Maister <bwm@materialize.io>
Date:   Wed Nov 4 16:23:03 2020 -0500

    release: v0.5.1-rc3

commit af0d2eff79535a17d5fbee287c9ad7eec929498d
Author: Nikhil Benesch <nikhil.benesch@gmail.com>
Date:   Wed Nov 4 16:19:57 2020 -0500

    sql: remove stray dbg! (#4707)

commit 315b362e415bbd4f14b64f1d5fdea8d12b087c99
Merge: d540e306e 9f90c7915
Author: Arjun Narayan <arjun@materialize.io>
Date:   Wed Nov 4 15:46:00 2020 -0500

    Merge pull request #4688 from MaterializeInc/readme-update
    
    Update README

commit d540e306ecb762bc2500603a6d6e9fbcd9f4ccd8
Author: Ruchir Khaitan <ruchir0001@gmail.com>
Date:   Wed Nov 4 13:18:34 2020 -0500

    *: rename all externally visible interfaces from persistence -> caching (#4705)
    
    This commit also updates docs to reflect the name change. We need to make a larger
    refactor to have the internal structure reflect this name as well, but have carved
    this commit out to get it into a release.

commit 226d038f0e3df160678571aaeab0a6aba93988da
Merge: b885912a8 debcf479e
Author: Nikhil Benesch <nikhil.benesch@gmail.com>
Date:   Wed Nov 4 11:22:25 2020 -0500

    Merge pull request #4703 from benesch/lexer-stuff
    
    sql-parser: generalize lexing code

commit debcf479ec490bef88dea00533afc7a00f64376f
Author: Nikhil Benesch <nikhil.benesch@gmail.com>
Date:   Wed Nov 4 09:07:22 2020 -0500

    sql-parser: move lexing utilities into ore
    
    So that they can be reused in repr.

commit 4c7d96f2fad0c968a64eb3f0365b3bf27c3682ab
Author: Nikhil Benesch <nikhil.benesch@gmail.com>
Date:   Wed Nov 4 09:04:56 2020 -0500

    sql-parser: make LexBuf independent of sql-parser
    
    It is general-purpose enough that we can reuse it elsewhere, if we get
    rid of the LexBuf::err method. This patch moves that method to a free
    function in the sql-parser lexer.

commit 3553d5748b5e8c97c33bde91f01a6f5e5c4189b6
Author: Nikhil Benesch <nikhil.benesch@gmail.com>
Date:   Wed Nov 4 08:55:44 2020 -0500

    sql-parser: return strs in LexBuf when possible
    
    This avoids the separate LexBuf::take_while_into API, because
    LexBuf::take_while no longer allocates.

commit b885912a86af8c02051f771efbcebc6a04aecb0b
Author: Brennan Vincent <brennan@materialize.io>
Date:   Wed Nov 4 00:15:15 2020 -0500

    Fix merge skew in ddl test (#4700)

commit 688b51277040cda095b22dec7d5bd4e7570871ec
Author: Brennan Vincent <brennan@materialize.io>
Date:   Tue Nov 3 22:54:17 2020 -0500

    Don't attempt to connect to Twitter on 8080, which hangs forever (#4698)

commit 6c688e4deac5a42cd438dc62554ddea2f11d649b
Merge: ea390ebba 57ec358b1
Author: Nikhil Benesch <nikhil.benesch@gmail.com>
Date:   Tue Nov 3 20:59:33 2020 -0500

    Merge pull request #4695 from benesch/xcompile-root
    
    xcompile: fix bootstrap command when not run from root

commit ea390ebbad77559ed01234975f25867fc4808b96
Merge: a8ee6cb60 55ce6b80d
Author: Nikhil Benesch <nikhil.benesch@gmail.com>
Date:   Tue Nov 3 20:58:56 2020 -0500

    Merge pull request #4661 from benesch/new-lexer
    
    sql-parser: rewrite lexer

commit a8ee6cb60ee7efb67fea5b212261077abe51d109
Author: Brennan Vincent <brennan@materialize.io>
Date:   Tue Nov 3 18:58:03 2020 -0500

    Keys in sinks (#4668)

commit 55ce6b80d28a308d69a2c54391f00f459b923b12
Author: Nikhil Benesch <nikhil.benesch@gmail.com>
Date:   Fri Oct 30 02:48:36 2020 -0400

    sql-parser: rewrite lexer
    
    The SQL lexer was some of our oldest and least idiomatic Rust code. It
    was imported from the sql-parser project long ago, where it needed to
    support lexing more than just the PostgreSQL dialect, and never got
    fully simplified.
    
    This commit is a nearly complete rewrite of the lexer, to make it both
    more idiomatic Rust and more in line with PostgreSQL's lexical
    structure. Notable changes:
    
      * Support for concatenating newline-separated string literals.
      * Support for dollar-quoted string literals.
      * Removal of whitespace tokens, which greatly simplifies the parser.
      * Support for all PostgreSQL operators, including user-definable
        operators. This also means that no changes to the parser will be
        required to add support for new PostgreSQL operators in the planner.
    
    The larger motivation for this change is to support PostgreSQL's
    qualified operator syntax, like OPERATOR(pg_catalog.~).

commit 57ec358b12c9a8b774d53d2a03c5c535cb8e3e3e
Author: Nikhil Benesch <nikhil.benesch@gmail.com>
Date:   Tue Nov 3 17:30:53 2020 -0500

    xcompile: fix bootstrap command when not run from root

commit 248528eef5b8b476c36657140a469325ce76f4af
Merge: 5425936b2 55fe4cd22
Author: Nikhil Benesch <nikhil.benesch@gmail.com>
Date:   Tue Nov 3 17:25:00 2020 -0500

    Merge pull request #4681 from benesch/distinct
    
    sql: support DISTINCT ON (exprs...)

commit 55fe4cd2271d31dcc82494419ef467d29d8aa7d6
Author: Nikhil Benesch <nikhil.benesch@gmail.com>
Date:   Fri Oct 30 21:16:46 2020 -0400

    sql: support DISTINCT ON (exprs...)
    
    `SELECT DISTINCT ON (exprs...)` is a PostgreSQL extension to `SELECT
    DISTINCT` that allows the user to specify exactly which columns they
    want to participate in the distinct-ing.
    
    Our docs incorrectly claimed that we supported this feature. Though this
    was technically a docs bug, we've had at least one user ask for this
    feature, so seemed more userful to make the code match the docs here. So
    there are no docs changes in this patch, because the docs for this
    feature already exist.
    
    Tests are nearly entirely provided by way of a CockroachDB SLT file that
    was incorrectly removed in 30955d54c35. This patch restores that test
    file and makes some minor modifications to the expected error messages
    so that it passes with Materialize.
    
    The initial version of this patch broke `SELECT DISTINCT ... ORDER BY`
    that was not caught by the existing SLT tests, so the patch also adds
    some ORDER BY-related tests.
    
    Fix #4663.

commit c8acb20ef50b3b6b7203b6043a8696e43d39402f
Author: Brandon W Maister <bwm@materialize.io>
Date:   Tue Nov 3 16:27:49 2020 -0500

    avro dedupe: Move deduplication logging into its own function
    
    It really gets in the way of understanding the logic of the deduplication
    stuff.

commit 2423a36547bf99bddd888987c3681078e5a6ba24
Author: Brandon W Maister <bwm@materialize.io>
Date:   Tue Nov 3 11:59:24 2020 -0500

    avro dedupe: Also log the maximum source time ever seen

commit 27d1faaad2bf4008693c0330f6d4bbda6348048b
Author: Brandon W Maister <bwm@materialize.io>
Date:   Tue Nov 3 09:23:37 2020 -0500

    avro dedupe: Add a log for when we clear out the tracking info
    
    There is a bit of a risk that we're thrashing that data by going back and forth
    near the tail end of the tracking window, this should help diagnose that.

commit 2ec4f4ad6c28dadabd632c9af8edae8ea21bf9bc
Author: Brandon W Maister <bwm@materialize.io>
Date:   Mon Nov 2 17:33:54 2020 -0500

    avro dedupe: Log the first time we ever saw each message
    
    When we get the same binlog position multiple times, we expect that the time
    that Debezium reads it should change.

commit c4f9d099f75522a9337892245ade83a479304bf8
Author: Brandon W Maister <bwm@materialize.io>
Date:   Mon Nov 2 16:52:10 2020 -0500

    avro dedupe: logfmt more messages
    
    It's easier to grep for `keyword=\w+` and perform analytics on that than to
    have a variety of different structures.

commit 65c5ac600aef018660f65052153038e0142592b9
Author: Brandon W Maister <bwm@materialize.io>
Date:   Mon Nov 2 15:47:12 2020 -0500

    Make some things that rustfmt gave up on less than 100 chars

commit 5425936b283d1008b07eb9da6a2f0a07f612bd18
Author: Jessica Laughlin <JLDLaughlin@users.noreply.github.com>
Date:   Tue Nov 3 12:28:43 2020 -0500

    catalog: create Builtin Type and CatalogItem Type variants (#4659)
    
    Builds up support for builtin types and user-defined types.
    
    For builtin types, introduces a new Builtin Types variant that has a single
    entry for each data types currently supported in Materialize. Builtin types
    will be loaded into the new mz_builtin_types system table at boot.
    
    For builtin types and user-defined map types, introduces a new CatalogItem
    Type variant to reuse the code paths that create, update, rename, and delete
    catalog objects.

commit 9f90c79155d98a67e6b435e630dc60b56b9f07c8
Author: Arjun Narayan <arjun@materialize.io>
Date:   Tue Nov 3 10:50:12 2020 -0500

    Update README
    
    Slack link was updated.

commit de64d8db6836f3c88f3d837c2b4abab8ad9b0709
Merge: 67d4c8bc5 c1c77804d
Author: Nikhil Benesch <nikhil.benesch@gmail.com>
Date:   Tue Nov 3 10:49:03 2020 -0500

    Merge pull request #4683 from benesch/insert-casts
    
    sql: allow "assignment" casts when INSERT types don't match

commit c1c77804daa1952dad23801615af177f711d85ff
Author: Nikhil Benesch <nikhil.benesch@gmail.com>
Date:   Tue Nov 3 00:37:51 2020 -0500

    sql: allow "assignment" casts when INSERT types don't match
    
    PostgreSQL will automatically cast values in an INSERT statement that
    don't match the type of the table into which they're being inserted.
    The casts allowed in this context are called "assignment" casts, which
    are a superset of "implicit" casts and a subset of "explicit" casts.
    
    This is particularly important for the common case of inserting numbers
    into float columns, as in:
    
        CREATE TABLE t (a float);
        INSERT INTO t VALUES (1234.0);
    
    Previously, Materialize would reject the INSERT, because "1234.0" had
    type "decimal(38, 1)" while the target column had type "float". With
    this patch, an assignment cast from float to decimal is automatically
    injected, and the query succeeds.
    
    This patch also reclassifies many explicit casts as assignment casts,
    based on what PostgreSQL 13 declares in the pg_cast table.
    
    Fix #2852.

commit 67d4c8bc51011f08db2a920daeeed01aa1cb4728
Merge: d2ef62497 5ebebe8c8
Author: Matt Jibson <matt.jibson@gmail.com>
Date:   Mon Nov 2 20:21:08 2020 -0700

    Merge pull request #4682 from mjibson/tele-url-fix
    
    materialized: fix telemetry URL

commit 5ebebe8c80dcda25bd5e27bb34d99372a60d9508
Author: Matt Jibson <matt.jibson@gmail.com>
Date:   Mon Nov 2 16:52:47 2020 -0700

    materialized: fix telemetry URL
    
    Trailing / meant there were two when the full URL was built which the
    server didn't recognize.
    
    Fixes #4678

commit d2ef6249777242c1414e3f348c0b3bf577bc316e
Author: Brennan Vincent <brennan@materialize.io>
Date:   Mon Nov 2 15:02:35 2020 -0500

    Fail fast when trying to create a file source from a directory (#4676)

commit eff9b46de7d2e3c865306aab88b640d20e6358ba
Merge: b18a11bad 6100f748f
Author: Brennan Vincent <brennan@materialize.io>
Date:   Mon Nov 2 14:57:31 2020 -0500

    Merge pull request #4679 from umanwizard/readme
    
    Remove inaccurate "coming soon" section from README.md

commit 6100f748fab83720a6be49bade3ba87f75b3f7b6
Author: Brennan Vincent <brennan@materialize.io>
Date:   Mon Nov 2 14:42:59 2020 -0500

    Remove inaccurate "coming soon" section from README.md

commit b18a11bad0a0145d6572bc1153ef176adf379d11
Merge: 58fc1b47e 60226b2cc
Author: Matt Jibson <matt.jibson@gmail.com>
Date:   Mon Nov 2 11:14:41 2020 -0700

    Merge pull request #4666 from mjibson/tail-rows
    
    sql: make TAIL a normal rows-sending statement

commit 60226b2cc7eba643999f1672044b39e67d6fa444
Author: Matt Jibson <matt.jibson@gmail.com>
Date:   Thu Oct 29 14:20:45 2020 -0600

    sql: make TAIL a normal rows-sending statement
    
    TAIL has transitioned to be send rows similar to a SELECT. It has
    grown two new columns: timestamp and diff. Peek and Tail still operate
    differently, but they implement a common interface that can be used by
    the row send operation.
    
    Additionally, COPY TO has been taught how to send TAIL operations such
    that TAIL can be accessed similarly to how it was before, but now with
    greater ability to parse the output columns.
    
    Closes #4540
    Closes #3091

commit 58fc1b47e87ba47dba416c1dd70646e46b0afd0f
Merge: 82d581df2 26082856b
Author: Nikhil Benesch <nikhil.benesch@gmail.com>
Date:   Mon Nov 2 12:28:26 2020 -0500

    Merge pull request #4590 from benesch/regexp-match
    
    expr: add regexp_match function

commit 26082856b175d8d844a2f36e12afd43288f18e52
Author: Nikhil Benesch <nikhil.benesch@gmail.com>
Date:   Fri Oct 23 02:17:21 2020 -0400

    expr: add regexp_match function
    
    Provides for basic string manipulation capabilities. Matches the
    PostgreSQL function of the same name, except that the regexps we support
    are a bit different.
    
    The name "regexp_match" conflicted badly with the internal naming of the
    "~" operator, which was "MatchRegexp". Those functions have been renamed
    "IsRegexpMatch", to more clearly indicate that they return a bool.
    
    Fix #4545.

commit 82d581df2cf4d5d71d91d3fc6766d5dbf20729ea
Merge: 50397f9b3 bcd244931
Author: Nikhil Benesch <nikhil.benesch@gmail.com>
Date:   Mon Nov 2 10:09:29 2020 -0500

    Merge pull request #4671 from MaterializeInc/dependabot/cargo/syn-1.0.48
    
    build(deps): bump syn from 1.0.45 to 1.0.48

commit 50397f9b36731125a096d67ad539a99a2c5ed4de
Merge: 8ca8529fa cdf6874ae
Author: Nikhil Benesch <nikhil.benesch@gmail.com>
Date:   Mon Nov 2 10:09:10 2020 -0500

    Merge pull request #4670 from MaterializeInc/dependabot/cargo/num-traits-0.2.14
    
    build(deps): bump num-traits from 0.2.12 to 0.2.14

commit 8ca8529fa86649c90b0dc08ffa54fa3e3a71c4a2
Author: Ruchir Khaitan <ruchir0001@gmail.com>
Date:   Mon Nov 2 08:59:16 2020 -0500

    combine accumulable reductions in one dataflow fragment (#4633)
    
    Co-authored-by: Frank McSherry <fmcsherry@me.com>
    
    Closes #4089

commit bcd2449313f79e66f3a5c5f0cc19e3bed7716558
Author: dependabot-preview[bot] <27856297+dependabot-preview[bot]@users.noreply.github.com>
Date:   Mon Nov 2 10:42:10 2020 +0000

    build(deps): bump syn from 1.0.45 to 1.0.48
    
    Bumps [syn](https://github.com/dtolnay/syn) from 1.0.45 to 1.0.48.
    - [Release notes](https://github.com/dtolnay/syn/releases)
    - [Commits](https://github.com/dtolnay/syn/compare/1.0.45...1.0.48)
    
    Signed-off-by: dependabot-preview[bot] <support@dependabot.com>

commit cdf6874aedfb08eefdfa0fefa2f988016bc851a5
Author: dependabot-preview[bot] <27856297+dependabot-preview[bot]@users.noreply.github.com>
Date:   Mon Nov 2 10:41:47 2020 +0000

    build(deps): bump num-traits from 0.2.12 to 0.2.14
    
    Bumps [num-traits](https://github.com/rust-num/num-traits) from 0.2.12 to 0.2.14.
    - [Release notes](https://github.com/rust-num/num-traits/releases)
    - [Changelog](https://github.com/rust-num/num-traits/blob/master/RELEASES.md)
    - [Commits](https://github.com/rust-num/num-traits/compare/num-traits-0.2.12...num-traits-0.2.14)
    
    Signed-off-by: dependabot-preview[bot] <support@dependabot.com>

commit 63f4a470e7ab73a307193d21a5237ee8c46bf1dc
Merge: 2364eef18 a9befcf1f
Author: Nikhil Benesch <nikhil.benesch@gmail.com>
Date:   Sat Oct 31 17:54:04 2020 -0400

    Merge pull request #4665 from benesch/standard-conforming-strings
    
    coord: report correct value for standard_conforming_strings var

commit a9befcf1fbc8577d4b3ce20213be7d12a50cc804
Author: Nikhil Benesch <nikhil.benesch@gmail.com>
Date:   Sat Oct 31 16:25:02 2020 -0400

    coord: reorganize the session module
    
    Reorganize the session module to be less fractured, so it is a bit
    easier to follow. Now that all the vars are in their own file, I think
    it is clearer to have everything else in the top level module. This also
    avoids "module inception", which is a clippy lint for a reason: it's
    very confusing to have a parent module with the identical name as one of
    its children.

commit 924a1bb9579b7709e36203d26d92192d288078dc
Author: Nikhil Benesch <nikhil.benesch@gmail.com>
Date:   Sat Oct 31 15:55:11 2020 -0400

    coord: colocate session vars and var-related types
    
    The old organization didn't make a lot of sense. Colocate the actual
    session variables with the types involved in declaration session
    variables.

commit 12e8f026bbc547a34a1f2d4fd19089ed1d10f6da
Author: Nikhil Benesch <nikhil.benesch@gmail.com>
Date:   Sat Oct 31 15:16:20 2020 -0400

    coord: ensure server and session variables are formatted consistently
    
    In particular, bools should be formatted as "on" and "off" regardless of
    whether they are a ServerVar or SessionVar. This required a substantial
    refactoring of the session variable code.

commit 2364eef183a8babe45c9ee9f29ee105946d2fe37
Merge: a75d5f79c 3c4533a4a
Author: Brennan Vincent <brennan@materialize.io>
Date:   Sat Oct 31 12:32:43 2020 -0500

    Merge pull request #4667 from umanwizard/main
    
    Update futures to 0.3.7

commit 3c4533a4a0e08ab54a1ad6dea756f4b49a37fad4
Author: Brennan Vincent <brennan@umanwizard.com>
Date:   Sat Oct 31 12:57:04 2020 -0400

    allow duplicate pin-project for now

commit a0f59e693a26ee8671aaa3edc8508b432eccb7b4
Author: Brennan Vincent <brennan@umanwizard.com>
Date:   Sat Oct 31 12:11:32 2020 -0400

    Update futures to 0.3.7 (for soundness bug https://github.com/rust-lang/futures-rs/issues/2239)

commit 1a7fe33b51fe78b71c18ab5cb8083ec8d8fb5a16
Author: Nikhil Benesch <nikhil.benesch@gmail.com>
Date:   Fri Oct 30 15:26:24 2020 -0400

    coord: report correct value for standard_conforming_strings var
    
    PostgreSQL versions pre-8.1 had non-standard behavior regarding
    backslashes in string literals. We implement the standard behavior, so
    tell clients about this by reporting the `standard_conforming_strings`
    parameter as "on" at the start of each connection.
    
    Fix #4651.

commit a75d5f79c12a91b72e40700573e7d7adaa4b0c41
Merge: a9e203fc6 7b10047dd
Author: Nikhil Benesch <nikhil.benesch@gmail.com>
Date:   Fri Oct 30 15:17:16 2020 -0400

    Merge pull request #4662 from benesch/invocation-pretty
    
    materialized: prettify invocation output

commit a9e203fc617f0ba2024f4da58844c30ea565ce0f
Merge: b7fb1a478 2af03f1b4
Author: Matt Jibson <matt.jibson@gmail.com>
Date:   Fri Oct 30 11:35:20 2020 -0600

    Merge pull request #4655 from mjibson/copy
    
    sql: support COPY (query) TO STDOUT

commit b7fb1a478928d9738de9cf7546b1eadae4dee8aa
Merge: f73621cef 2557dedac
Author: Ruchir Khaitan <ruchir0001@gmail.com>
Date:   Fri Oct 30 13:34:24 2020 -0400

    Merge pull request #4664 from benesch/sink-topic-query
    
    doc/user: fix docs for getting kafka topic names

commit 2557dedac5bf90bdd214a5f74f9827daae06d381
Author: Nikhil Benesch <nikhil.benesch@gmail.com>
Date:   Fri Oct 30 13:23:44 2020 -0400

    doc/user: fix docs for getting kafka topic names
    
    The underlying column name was changed to "sink_id" in #4510, but I
    forgot to update one of the example queries that used mz_kafak_sinks in
    the docs.

commit 2af03f1b4b62c35775cb3aa952bb483cd4ef2ced
Author: Matt Jibson <matt.jibson@gmail.com>
Date:   Thu Oct 29 17:13:53 2020 -0600

    sql: support COPY (query) TO STDOUT
    
    Add support for COPY where a query is specified in text format. This is
    mostly a copy of what TAIL currently uses but more general. Support for
    other formats (CSV, binary) and other features will come in further PRs.

commit 009367b5f0e84870abeccf7d37b788d0ad3e7257
Author: Matt Jibson <matt.jibson@gmail.com>
Date:   Wed Oct 28 15:51:49 2020 -0600

    sql: add a send property to describe
    
    Useful for statements that have a row description that shouldn't be sent
    over pgwire.

commit 4db05a4114d471b3c3c1daf4da326ae688e8ba63
Author: Matt Jibson <matt.jibson@gmail.com>
Date:   Fri Oct 23 10:35:14 2020 -0600

    sql-parser: add support for parsing more COPY variants

commit f73621cef7071231b0d950ad511f699baa9c6c53
Author: Andi Wang <5522362+wangandi@users.noreply.github.com>
Date:   Fri Oct 30 12:20:00 2020 -0400

    Developer docs: Add diagnostic checklist (#4656)
    
    Add diagnostic checklist to main repo.

commit 2d40b155095e831f7ae4eaff4f214db81b9fef62
Merge: f56915933 c98f81928
Author: Ruchir Khaitan <ruchir0001@gmail.com>
Date:   Fri Oct 30 09:08:51 2020 -0400

    Merge pull request #4658 from ruchirK/rk-sink-creation
    
    Small fixes to sink creation

commit 7b10047dd745b4475f81a3c08c6ec05ab0f20eeb
Author: Nikhil Benesch <nikhil.benesch@gmail.com>
Date:   Fri Oct 30 03:33:35 2020 -0400

    materialized: prettify invocation output
    
    Make the "invoked as" log line a copy/pastable shell command for ease of
    debugging.
    
    Requested by @ruchirK.

commit c98f8192850d8329e0acaf352f071ece20108334
Author: Ruchir Khaitan <ruchir0001@gmail.com>
Date:   Thu Oct 29 16:50:02 2020 -0400

    coord: only update system tables for fully created sinks
    
    Our setup process for sinks more complex than for other objects. First, we "reserve"
    an id in the catalog, then we set up external state (for example we create a new Kafka topic
    and register a schema in the schema registry) and then we delete the provisional object in the
    catalog, and reinsert a new one.
    
    Previously, we were not properly cleaning up state in system tables when we created a reserved catalog
    object for sinks, but the external setup failed. This commit changes the behavior so that we only modify
    system tables when we are sure that the sink will exist (e.g. after setting up external state).

commit 674012b214fba16cc181e5f5a615caa34cb1654e
Author: Ruchir Khaitan <ruchir0001@gmail.com>
Date:   Thu Oct 29 14:30:24 2020 -0400

    ccsr: properly set content type: application/json when publishing schema
    
    According to https://docs.confluent.io/current/schema-registry/develop/api.html#content-types
    specifying content types is recommended but others (see
    https://github.com/confluentinc/schema-registry/issues/173 )
    have found that it may actually be required

commit f56915933e955cf88e61b5bf542e37683754f93b
Author: Jessica Laughlin <JLDLaughlin@users.noreply.github.com>
Date:   Thu Oct 29 13:55:15 2020 -0400

    catalog: add stubs for user-defined types (#4654)
    
    Adds stubs for further user-defined type work in order to implement a SQL
    map type. More specifically, adds a new mz_map_types system table and a
    types field to Schema objects stored in the Catalog.

commit a8d87436b98a440a11109ccb4162a7e376d87a28
Author: Frank McSherry <fmcsherry@me.com>
Date:   Thu Oct 29 13:33:04 2020 -0400

    Use MapFilterProject and arrangement keys for fast path queries (#4649)
    
    * factor MFP extraction logic
    
    * evaluate MFP into an iterator
    
    * use MapFilterProject for fast-path queries
    
    * extract and use key for fast-path reads
    
    * return no literal constraint when no expressions are provided
    
    * decrease lifetime of arena, buffers
    
    * improve comments

commit efca3e812d4502fa34483933bcbc3ad69eccdbeb
Author: Andi Wang <5522362+wangandi@users.noreply.github.com>
Date:   Thu Oct 29 13:29:43 2020 -0400

    Add section for looking for skewed operators. (#4652)

commit 36f32a99fb9aa782f94cb9eae0ee4df4da5946ad
Merge: c2281736e 67798c4cf
Author: Nikhil Benesch <nikhil.benesch@gmail.com>
Date:   Thu Oct 29 11:52:23 2020 -0400

    Merge pull request #4653 from benesch/ops
    
    sql: represent operators as text in AST

commit 67798c4cf8b9be9966243d510c1e2cdf2d75927e
Author: Nikhil Benesch <nikhil.benesch@gmail.com>
Date:   Wed Oct 28 19:04:43 2020 -0400

    sql: represent operators as text in AST
    
    Rather than representing operators via two enums, UnaryOperator and
    BinaryOperator, represent them as a string that stores the literal
    operator symbol. This brings our implementation more in line with
    PostgreSQL, which permits users to create arbitrary operators out of a
    set of allowable operator symbols.
    
    Also rework the function selection API a bit to share more code.
    Operators and functions are now basically indistinguishable from the
    perspective of the sql::plan::func module.
    
    The goal here is to make room for PostgreSQL's qualified operator
    syntax:
    
        SELECT 1 OPERATOR(pg_catalog.+) 2
    
    though actually implementing this syntax is left to a forthcoming
    commit.

commit c2281736e200681d0dc297a739d0acd6d1af3804
Author: Jessica Laughlin <JLDLaughlin@users.noreply.github.com>
Date:   Wed Oct 28 15:06:55 2020 -0400

    sql-parser: parse CREATE TYPE .. AS MAP (#4632)
    
    Adds support for parsing CREATE TYPE .. AS MAP statements, leaving
    everything else unimplemented.

commit 229690a9c7b12e2d36b2cff32fc49182e22f65a9
Merge: a2b90d4bd c7e712d67
Author: Eli Lindsey <eli@siliconsprawl.com>
Date:   Wed Oct 28 09:15:54 2020 -0400

    Merge pull request #4638 from elindsey/gudmetrics
    
    remove unnecessary vec alloc in frontier reporting

commit c7e712d670c4bd22ad54cb580b8eaf99ea4d6908
Author: Eli Lindsey <eli@siliconsprawl.com>
Date:   Tue Oct 27 11:03:42 2020 -0400

    remove unnecessary vec alloc in frontier reporting

commit a2b90d4bd39d8611da96dd39c4661ac9cff90f5e
Merge: a3289ac3c f4aefbe65
Author: Nikhil Benesch <nikhil.benesch@gmail.com>
Date:   Wed Oct 28 00:00:40 2020 -0400

    Merge pull request #4650 from benesch/create-log-dir
    
    materialized: create log file directory if it doesn't exist

commit f4aefbe6563939bba5ac394892661aef6401f4a4
Author: Nikhil Benesch <nikhil.benesch@gmail.com>
Date:   Tue Oct 27 23:11:40 2020 -0400

    materialized: create log file directory if it doesn't exist
    
    This makes the --log-file option work more like --data-directory.
    
    Also, add some context to an error that occurs when trying to open the
    log file for writing.
    
    Fix #4598.

commit a3289ac3c10d6b347937175d3be1ab40e43d02d5
Merge: bb6053de5 9f9fde260
Author: Nikhil Benesch <nikhil.benesch@gmail.com>
Date:   Tue Oct 27 22:26:29 2020 -0400

    Merge pull request #4647 from benesch/log-stuff
    
    materialized: fix + tweak startup logging

commit 9f9fde26050c0508e26fedbfa0cc031b89758fcf
Author: Nikhil Benesch <nikhil.benesch@gmail.com>
Date:   Tue Oct 27 14:19:11 2020 -0400

    materialized: tweak startup logs
    
    Rearrange startup so that the splash screens and "listening on..."
    message are printed at the end of startup, where they are more likely to
    be visible. Previously they'd get lost above a bunch of info logs, if
    logging to stderr.
    
    Also include more information about the OS/hardware on which Materialize
    is running.
    
    Fix #4603.

commit d134e10abd90d0bddab94f80a6d3c08a018114f3
Author: Nikhil Benesch <nikhil.benesch@gmail.com>
Date:   Tue Oct 27 12:30:51 2020 -0400

    materialized: fix logging to file
    
    When logging to a file, we need to fight the tracing API even harder to
    get the desired behavior of a) having MZ_LOG control what messages are
    emitted to the file, and b) bubbling up warnings and errors to stderr.

commit 5dc5746dfb893ff41998a6eeb89dbe5d0ef7e4dc
Author: Nikhil Benesch <nikhil.benesch@gmail.com>
Date:   Tue Oct 27 10:49:48 2020 -0400

    materialized: split binary crate into multiple files
    
    This makes space for some tracing-related support functions.

commit bb6053de556ab4fbc56ecca2e2826c16f8f5cae7
Merge: cf817d583 c484a4f4d
Author: Sean Loiselle <sean@materialize.io>
Date:   Tue Oct 27 17:53:54 2020 -0400

    Merge pull request #4639 from sploiselle/list-unnest
    
    sql: support unnest(listany)

commit c484a4f4d530c4251b3cbd3275df4ab603f94e78
Author: Sean Loiselle <sean@materialize.io>
Date:   Tue Oct 27 11:50:39 2020 -0400

    sql: support unnest(listany)

commit cf817d583f31aa274d4ea291130f82d8f374f7c5
Author: Brennan Vincent <brennan@materialize.io>
Date:   Tue Oct 27 16:40:29 2020 -0500

    Separate tags for Bytes/String depending on the length of their length (#4646)

commit 09505e41dd60565dba7017116ca45c37131020ad
Merge: bab9425cd 84ac3b6ea
Author: Nikhil Benesch <nikhil.benesch@gmail.com>
Date:   Tue Oct 27 17:27:47 2020 -0400

    Merge pull request #4644 from benesch/less-allocy-row-arena
    
    repr: avoid allocation in RowArena::push_bytes

commit 84ac3b6ea407070802f2030a7d8948cad8ae391f
Author: Nikhil Benesch <nikhil.benesch@gmail.com>
Date:   Tue Oct 27 16:32:47 2020 -0400

    repr: improve consistency of RowArena methods

commit 80272d0c5c5d2e7276a11073c915db2a4f407be0
Author: Nikhil Benesch <nikhil.benesch@gmail.com>
Date:   Tue Oct 27 16:28:32 2020 -0400

    repr: avoid allocation in RowArena::push_bytes
    
    By storing the Vec<u8> directly, rather than converting into a
    Box<[u8]>, we avoid an allocation.

commit bab9425cdefadbed579b9765387f9bcdbc7d47c1
Merge: 26b972818 7b70b7a81
Author: Nikhil Benesch <nikhil.benesch@gmail.com>
Date:   Tue Oct 27 16:01:37 2020 -0400

    Merge pull request #4640 from benesch/row-ub
    
    repr: fix undefined behavior in RowArena::push_row

commit 7b70b7a81e5b2581fb09704535626b7663499a70
Author: Nikhil Benesch <nikhil.benesch@gmail.com>
Date:   Tue Oct 27 14:33:15 2020 -0400

    repr: fix undefined behavior in RowArena::push_row
    
    RowArena::push_row resulted in undefined behavior, since the
    reference to the returned Row could be invalidated if
    RowArena::owned_rows reallocated. In practice, we didn't trigger the UB,
    because every call to push_row had the following form:
    
        arena.push_row(row).unpack_first()
    
    That is, we immediately unpacked the returned row, and only held onto a
    reference to the first datum in the row. This *is* ok, because even if
    owned_rows reallocates and the row moves, the data in the row will not.
    Adjust the API of RowArena to only support this pattern via
    
        fn push_unary_row(&'a self, row: Row) -> Datum<'a>
    
    which is actually a safe API that cannot be misused.
    
    h/t @umanwizard for spotting the UB.

commit 26b9728180373b4f428f3fedd4dc196e1c04e7aa
Merge: 149fe1907 c8dd8c8f5
Author: Sean Loiselle <sean@materialize.io>
Date:   Tue Oct 27 12:30:06 2020 -0400

    Merge pull request #4637 from sploiselle/list-concat-impl
    
    List concat

commit 149fe1907d89a35cc95323b28057674efe3933b4
Merge: 3eabf460c 1844c3e5b
Author: Matt Jibson <matt.jibson@gmail.com>
Date:   Tue Oct 27 09:59:59 2020 -0600

    Merge pull request #4624 from mjibson/begin-semi
    
    sql-parser: support semicolon at end of transaction

commit 3eabf460cf085bc231c24aafbf800c0dd078671d
Merge: ffced7f1d ef71692a7
Author: Eli Lindsey <eli@siliconsprawl.com>
Date:   Tue Oct 27 10:34:58 2020 -0400

    Merge pull request #4572 from elindsey/sourcestable
    
    populate a new mz_source_info system table with per partition ingest metrics

commit ffced7f1df51aa6eb9330a0a9e8b862b1e0374f6
Merge: 47e96feab dbb52e8c7
Author: Nikhil Benesch <nikhil.benesch@gmail.com>
Date:   Tue Oct 27 10:11:40 2020 -0400

    Merge pull request #4635 from benesch/macos-sys-python
    
    pyactivate: squash some macOS bugs

commit c8dd8c8f5b81274e3bd1b84071e995a99507218f
Author: Sean Loiselle <sean@materialize.io>
Date:   Mon Oct 26 18:18:36 2020 -0400

    sql: support list concatenation

commit 47e96feabb3674eb740971e11b3442afabad1e4d
Author: Frank McSherry <fmcsherry@me.com>
Date:   Tue Oct 27 09:46:23 2020 -0400

    better move filters between dataflows (#4636)

commit c8d6c8025b420ff28247a75c2b454411c1bf3621
Merge: 03f5aecca e02fe4ea0
Author: Ruchir Khaitan <ruchir0001@gmail.com>
Date:   Tue Oct 27 00:35:48 2020 -0400

    Merge pull request #4634 from ruchirK/rk-fix-tables-doc
    
    doc/user: fix formatting in CREATE TABLE doc

commit dbb52e8c72ee3443b51c10bf6e92014712237a09
Author: Nikhil Benesch <nikhil.benesch@gmail.com>
Date:   Tue Oct 27 00:24:27 2020 -0400

    pyactivate: disable pip version check
    
    This is a simple quality of life improvement that makes pyactivate less
    scary for end users by suppressing the "your pip is outdated; please
    upgrade" message.

commit d9203e3b94abe9070951c0c1333cefe0a445460b
Author: Nikhil Benesch <nikhil.benesch@gmail.com>
Date:   Tue Oct 27 00:16:40 2020 -0400

    pyactivate: work around macOS ARM bug with Xcode 12

commit e02fe4ea0af162e913de3d7c49887e9f9e22ae3a
Author: Ruchir Khaitan <ruchir0001@gmail.com>
Date:   Tue Oct 27 00:23:13 2020 -0400

    doc/user: fix formatting in CREATE TABLE doc

commit 080bf012ff96f382f8e4ce1929fb9957f6a812ab
Author: Nikhil Benesch <nikhil.benesch@gmail.com>
Date:   Tue Oct 27 00:15:49 2020 -0400

    pyactivate: work around venv bug in macOS system python
    
    We need to create the venv with symlinks, not copying, to work around a
    bug in the macOS system Python.

commit 726f3f5ee8452f356d17c4f585454807f94cb797
Author: Sean Loiselle <sean@materialize.io>
Date:   Mon Oct 26 18:13:02 2020 -0400

    sql: improve func selection type system
    
    The process of function selection uses a complex system of type
    inferences, most of which is based around a document detailing
    Postgres' implementation of their function selection. However, the
    assumptions made about the algorithm from its prose differ from
    some of its actual implementation details. This commit brings
    them closer in line based on more exploration of their actual
    code.

commit 03f5aecca89d9b905c70aa3183bc5ebaa5e8bca6
Author: Frank McSherry <fmcsherry@me.com>
Date:   Mon Oct 26 17:42:12 2020 -0400

    re-use allocation for quickselect (#4631)

commit f079fc5ec1b24ad61c539f06a65729257cc5bfcc
Author: Frank McSherry <fmcsherry@me.com>
Date:   Mon Oct 26 17:04:05 2020 -0400

    reintroduce filter and projection in dataflow (#4630)

commit 080470cc105bff38f9c243507287627a8bd492ea
Merge: b061163a6 0d7bf6c74
Author: Matt Jibson <matt.jibson@gmail.com>
Date:   Mon Oct 26 15:03:26 2020 -0600

    Merge pull request #4587 from mjibson/stream-2
    
    pgwire: stream rows

commit b061163a6b01578667391374b0062e0c069fbb70
Merge: 5c66a69ad 18a4572e0
Author: Matt Jibson <matt.jibson@gmail.com>
Date:   Mon Oct 26 15:02:46 2020 -0600

    Merge pull request #4623 from mjibson/runner
    
    sqllogictest: fail during rewrite on unexpected error

commit 5c66a69ad859a452226ec2c83fa63a5c2071fa2f
Merge: d1e601b35 555c72c9b
Author: Nikhil Benesch <nikhil.benesch@gmail.com>
Date:   Mon Oct 26 16:56:21 2020 -0400

    Merge pull request #4613 from MaterializeInc/dependabot/cargo/structopt-0.3.20
    
    build(deps): bump structopt from 0.3.19 to 0.3.20

commit d1e601b35ffc3e33ecf82708b7869f20d14b8249
Merge: f28946081 e44d62eb2
Author: Nikhil Benesch <nikhil.benesch@gmail.com>
Date:   Mon Oct 26 16:56:14 2020 -0400

    Merge pull request #4615 from MaterializeInc/dependabot/cargo/regex-1.4.1
    
    build(deps): bump regex from 1.4.0 to 1.4.1

commit 0d7bf6c7441eada3d4c81d3ce3f2162f5bed4d10
Author: Matt Jibson <matt.jibson@gmail.com>
Date:   Wed Oct 21 17:55:37 2020 -0600

    pgwire: stream rows
    
    Previously all rows had to be present at once before sending them to a
    client. Change the interface to instead accept a `Stream<Result<Vec<Row>,
    Error>>`. This will allow us in the future to send batches of rows from
    the dataflow layer. This is also required for an upcoming PR that will
    convert `TAIL` to a normal rows-sending operation.
    
    Some of the changes here were needed to prevent a reference
    to a portal from being held across an await point. See:
    https://meltware.com/2020/10/21/rust-async-nonsense.html.

commit 1844c3e5bb1a8da0e7fd0257a978fa22b30d49c2
Author: Matt Jibson <matt.jibson@gmail.com>
Date:   Fri Oct 16 10:53:03 2020 -0600

    sql-parser: support semicolon at end of transaction
    
    See: https://github.com/ballista-compute/sqlparser-rs/pull/139

commit 18a4572e0fb4a897f40ebb4041c41e16467372c6
Author: Matt Jibson <matt.jibson@gmail.com>
Date:   Mon Oct 26 11:08:35 2020 -0600

    sqllogictest: fail during rewrite on unexpected error
    
    If there's any kind of unexpected output we should fail during
    rewrite. Otherwise some kind of "query I ..." statement that failed to
    execute (i.e., should have been a "query error ...") will be silently
    ignored. This is different from what we want, which is that the statement
    succeeded, but the output is different.

commit ef71692a7dcb56ba0c1d0ee772feec650b33bfb7
Author: Eli Lindsey <eli@siliconsprawl.com>
Date:   Tue Oct 6 15:56:58 2020 -0400

    populate a new mz_source_info system table with per partition received/ingested offset metrics

commit e44d62eb255e12c0baed99eda9b505ff5e34518f
Author: dependabot-preview[bot] <27856297+dependabot-preview[bot]@users.noreply.github.com>
Date:   Mon Oct 26 10:36:56 2020 +0000

    build(deps): bump regex from 1.4.0 to 1.4.1
    
    Bumps [regex](https://github.com/rust-lang/regex) from 1.4.0 to 1.4.1.
    - [Release notes](https://github.com/rust-lang/regex/releases)
    - [Changelog](https://github.com/rust-lang/regex/blob/master/CHANGELOG.md)
    - [Commits](https://github.com/rust-lang/regex/compare/1.4.0...1.4.1)
    
    Signed-off-by: dependabot-preview[bot] <support@dependabot.com>

commit 555c72c9bc723b89879d33e7b3228b3956b5d103
Author: dependabot-preview[bot] <27856297+dependabot-preview[bot]@users.noreply.github.com>
Date:   Mon Oct 26 10:35:33 2020 +0000

    build(deps): bump structopt from 0.3.19 to 0.3.20
    
    Bumps [structopt](https://github.com/TeXitoi/structopt) from 0.3.19 to 0.3.20.
    - [Release notes](https://github.com/TeXitoi/structopt/releases)
    - [Changelog](https://github.com/TeXitoi/structopt/blob/master/CHANGELOG.md)
    - [Commits](https://github.com/TeXitoi/structopt/compare/v0.3.19...v0.3.20)
    
    Signed-off-by: dependabot-preview[bot] <support@dependabot.com>

commit f28946081ca856fb9cda793f0f50c2c000d88c80
Merge: 559a63983 f8f255478
Author: Sean Loiselle <sean@materialize.io>
Date:   Sun Oct 25 16:12:47 2020 -0400

    Merge pull request #4582 from sploiselle/list-concat-clean
    
    sql: polymorphic types

commit f8f2554782d88558df462e82f5829e1d99de4351
Author: Sean Loiselle <sean@materialize.io>
Date:   Thu Oct 22 11:27:25 2020 -0400

    sql: support polymorphic types
    
    ArrayAny, ListAny, ListElementAny, NonVecAny represent what Postgres
    calls "polymorphic types," which constrain arguments passed to these
    parameters to all share concrete element types. This commit
    actually enforces that behavior in Materialize.
    
    Note that this also includes some noisy code movement to support
    this slightly different type system.

commit 040e256b66fdb4245564771c18dd43c0a34824c0
Author: sploiselle <sean@materialize.io>
Date:   Sun Aug 2 17:26:29 2020 -0400

    sql: pseudotype func params for lists and list elements

commit e2255db97d899b3e33778e0630a502f150ccf5c8
Author: sploiselle <sean@materialize.io>
Date:   Thu Aug 6 11:42:02 2020 -0400

    sql: improve proximity of ParameterType and CoerceTo
    
    CoerceTo values are a function of ParamType, so defining them as
    such makes iterating on them simpler.

commit 131a12407ce891efb173ea287435bb0381d849b0
Author: Sean Loiselle <sean@materialize.io>
Date:   Wed Oct 21 14:17:55 2020 -0400

    sql: func selection code movement

commit 559a6398367cec08aa90ccbfe027ff87f9476784
Merge: de8688233 25ae54327
Author: Nikhil Benesch <nikhil.benesch@gmail.com>
Date:   Fri Oct 23 14:40:04 2020 -0400

    Merge pull request #4606 from benesch/peek-materialize
    
    sql: remove dead materialized parameter for peeks

commit 25ae54327e19710891c752d58a1be31b9808964e
Author: Nikhil Benesch <nikhil.benesch@gmail.com>
Date:   Fri Oct 23 14:01:59 2020 -0400

    sql: remove dead materialized parameter for peeks
    
    In the old days, PEEKs were not permitted to cause a dataflow to be
    created, while SELECTs were. Put another way: PEEKs were guaranteed to
    take the fast path, while SELECTs could optionally take the slow path if
    they were too complicated.
    
    The `materialized: bool` parameter to Plan::Peek captured this
    distinction. But PEEK was removed in 878b715f5, so we no longer need it;
    its value is always implicitly true.

commit de86882339e26ff8ec713f2f77116f22b7cfa7d4
Merge: 2b5e5740e 817f96d55
Author: Nikhil Benesch <nikhil.benesch@gmail.com>
Date:   Fri Oct 23 13:52:09 2020 -0400

    Merge pull request #4602 from benesch/p-help
    
    materialized: sync description of -p/-n opts with docs

commit 817f96d5522e07512c5892d6714f2d45620bbb8f
Author: Nikhil Benesch <nikhil.benesch@gmail.com>
Date:   Fri Oct 23 13:07:05 2020 -0400

    materialized: sync description of -p/-n opts with docs
    
    The docs are a bit more clear than the help text for the distributed
    mode options (-p and -n), so make the help text match the docs.
    
    Fix #4600.

commit 2b5e5740e31569515b8e47e9493a22bdd2c5e1c3
Author: Frank McSherry <fmcsherry@me.com>
Date:   Fri Oct 23 12:59:13 2020 -0400

    WIP: use filters to index into arrangement (#4524)
    
    This PR demonstrates how one can use filter statements in a MapFilterProject structure to index directly in to an arrangement and avoid the linear scan over all records.

commit f14a8c1f507ac096d3a925a1b458595ceeaf8ec3
Merge: b3f8037d8 4f8cc1324
Author: Nikhil Benesch <nikhil.benesch@gmail.com>
Date:   Fri Oct 23 11:28:35 2020 -0400

    Merge pull request #4589 from MaterializeInc/array-list-coercion
    
    sql: eagerly coerce arrays and lists

commit 4f8cc13244441228d60bf42cc9e38d7d98b56ff6
Author: Nikhil Benesch <nikhil.benesch@gmail.com>
Date:   Fri Oct 23 00:42:22 2020 -0400

    sql: eagerly coerce arrays and lists
    
    In PostgreSQL, a bare string literal like
    
        '42'
    
    will have type "unknown". If that string literal is used in an
    expression like
    
        '42' + 1
    
    PostgreSQL will "coerce" it to an integer, and the expression is
    therefore well-typed.
    
    ("unknown" types are confusing, though, so we use something slightly
    different in Materialize: we explicitly represent expressions whose type
    is undetermined via the CoercibleScalarExpression type.)
    
    A similar situation occurs with bare ARRAY expressions, like:
    
        ARRAY['1', '2']
    
    Unlike string literals, in PostgreSQL, ARRAY expressions are eagerly
    coerced, and so this expression is immediately determined to have type
    "text[]". This determination is made by forcibly coercing the elements
    with, so
    
        ARRAY[1, '2']
    
    will be assigned type "int[]", since the usual rules for homogeneous
    coercion apply to the elements. This poses a bit of a problem for
    empty arrays like
    
        ARRAY[]
    
    since there are no elements that can determine the element type. That
    expression alone yields a "cannot determine type of empty array" error.
    
    So PostgreSQL special cases direct casts of ARRAY expressions, as in
    
        ARRAY[]::int[]
    
    so that you can at least construct empty arrays of a desired type.  More
    complicated cases, like `function_accepting_int_array(ARRAY[])`, are not
    handled, and result in the same "cannot determine type of empty array"
    error.
    
    Previously, Materialize was a bit too smart, and typed empty ARRAY
    expressions as "unknown", precisely so that something like
    `function_accepting_int_array(ARRAY[])` would be accepted.  These extra
    smarts interact poorly with polymorphic function arguments (#4582),
    however, as resolving polymorphic function arguments requires knowing
    the concrete array/list types involved.
    
    So, just do it exactly like PostgreSQL does it. ARRAY and LIST
    expressions are now eagerly coerced, with one special case for when an
    ARRAY/LIST expression is directly cast to a different type.  While this
    is a bit less expressive, it results in only minor regressions in our
    test suite, and support for polymorphic function arguments is well worth
    it.

commit 533735e21210633ff4fe3ff200ae76c89e57a9b6
Author: Nikhil Benesch <nikhil.benesch@gmail.com>
Date:   Fri Oct 23 00:35:56 2020 -0400

    sql: split plan_homogeneous_exprs
    
    Cleave plan_homogeneous_exprs into two parts: plan_exprs and
    coerce_homogeneous_exprs. This separation is quite clean. It makes room
    for the next commit, in which a function wants to call
    coerce_homogeneous_exprs with pre-planned expressions.

commit b3f8037d801ac27a44b26c913a1896449016aa48
Merge: 91d49835d faade7421
Author: Eli Lindsey <eli@siliconsprawl.com>
Date:   Thu Oct 22 22:25:41 2020 -0400

    Merge pull request #4586 from elindsey/cpudocs
    
    document the new --workers default

commit 91d49835decf2df72ff6b7db8f152c63c9d2f074
Merge: 2965421f8 352198477
Author: Eli Lindsey <eli@siliconsprawl.com>
Date:   Thu Oct 22 17:33:37 2020 -0400

    Merge pull request #4585 from elindsey/testmzcomp
    
    update testdrive docs to mention -v on mzcompose down

commit faade7421233c3a78a6982e65fb44b5d1c1e16fc
Author: Eli Lindsey <eli@siliconsprawl.com>
Date:   Thu Oct 22 17:30:28 2020 -0400

    document the new --workers default

commit 352198477d3cdf92ad40ed05b415c839adda7692
Author: Eli Lindsey <eli@siliconsprawl.com>
Date:   Thu Oct 22 17:16:56 2020 -0400

    update testdrive docs to mention -v on mzcompose down
    
    -v is important so the materialize catalog is wiped across test runs.
    Witout this materialized is likely going to try writing sinks into
    kafka/schema registry as soon as it starts up - which isn't clean test
    state and may actually fail the testsuite if those dependencies aren't
    yet healthy.

commit 2965421f8ac8ce7def2cf3922a749de09547b5e1
Merge: cb05bd525 da0f977be
Author: Ruchir Khaitan <ruchir0001@gmail.com>
Date:   Thu Oct 22 14:52:00 2020 -0400

    Merge pull request #4563 from ruchirK/rk-4542
    
    Add a command line option to log the logging dataflows

commit da0f977be9235f467269b2deb46477cfa2f360fc
Author: Ruchir Khaitan <ruchir0001@gmail.com>
Date:   Tue Oct 20 18:02:31 2020 -0400

    *: add a new option to let Materialize log its logging dataflows
    
    Closes #4542

commit cb05bd525d76ddc18deffcbd8f6a16f840a4e913
Merge: a4daf1ed6 a9bbe9b90
Author: Nikhil Benesch <nikhil.benesch@gmail.com>
Date:   Thu Oct 22 13:36:43 2020 -0400

    Merge pull request #4583 from benesch/testdrive-grammar
    
    editor/vscode: fix bug in testdrive grammar

commit a4daf1ed64b37001ae94fcc3e9be1951b0e90f50
Merge: 5c5f89957 81268c7d9
Author: Eli Lindsey <eli@siliconsprawl.com>
Date:   Thu Oct 22 13:33:49 2020 -0400

    Merge pull request #4407 from elindsey/cpus
    
    default to using 'physical cores / 2' number of threads

commit a9bbe9b90318dbe52e6a4daac9eb482dfb57c4be
Author: Nikhil Benesch <nikhil.benesch@gmail.com>
Date:   Thu Oct 22 13:25:39 2020 -0400

    editor/vscode: fix bug in testdrive grammar
    
    This fixes a syntax highlighting bug in the testdrive grammar, in which
    `$` command lines were not properly terminated.

commit 5c5f899578ba9fba76bb153de6eafde41a3c71da
Merge: 6424ccc50 fd26880e8
Author: Brandon W Maister <bwm@materialize.io>
Date:   Thu Oct 22 13:21:19 2020 -0400

    Merge pull request #4577 from quodlibetor/debezium-dedupe-windows
    
    Support debezium deduplication over a window of original event times

commit 6424ccc505c49e17b9b8fe242ac8bcbfd7d3f22b
Merge: 8f0fcc4d9 1701724c3
Author: Eli Lindsey <eli@siliconsprawl.com>
Date:   Thu Oct 22 13:05:02 2020 -0400

    Merge pull request #4581 from elindsey/confluentdocs
    
    update confluent install instructions for macos

commit fd26880e8533bdd5c95458ea106862a03777e13d
Author: Brandon W Maister <bwm@materialize.io>
Date:   Tue Oct 20 21:35:18 2020 -0400

    Support debezium deduplication over a window of original event times
    
    With this, users will be able to bound the amount of time that their materialized
    clusters spend with linearly growing memory to track possible duplication.
    
    This solution doesn't implement the full "arbitrary ranges" solution proposed in my
    comment in #4712, since as far as we know debezium should not get into this
    possibly-duplicating state without very specific and extremely unlikely scenarios.
    
    Additionally, we don't have access to composite types (specifically lists) inside our
    with options parsing code, so making this a more generic feature is both not obviously
    ever going to need to grow more flexibility and making it look reasonable would require a
    larger refactor of our sql-parsing code.
    
    Resolves #4172

commit 1701724c3517612041af907826e06d0062b69935
Author: Eli Lindsey <eli@siliconsprawl.com>
Date:   Thu Oct 22 11:12:02 2020 -0400

    update confluent install instructions for macos

commit 8f0fcc4d94869a6555156eaf51b6bc4e0ef8de4b
Merge: 3264387e7 b5f79fc99
Author: Justin Jaffray <justin.jaffray@gmail.com>
Date:   Wed Oct 21 17:47:30 2020 -0400

    Merge pull request #4578 from justinj/memory
    
    Don't reuse a RowArena for MapFilterProject

commit 3264387e79dd7c7098b9f5936d047b1b456e2f4a
Merge: 831f2993b c62020c5f
Author: Sean Loiselle <sean@materialize.io>
Date:   Wed Oct 21 17:12:38 2020 -0400

    Merge pull request #4571 from sploiselle/param-type-cleanup
    
    sql: improve ParamType methods

commit 831f2993b9b2167952883fa4a279652e223e8940
Merge: 48a283376 4d600b05c
Author: Nikhil Benesch <nikhil.benesch@gmail.com>
Date:   Wed Oct 21 17:06:48 2020 -0400

    Merge pull request #4576 from MaterializeInc/cat-coord-simple
    
    coord: unify bootstrap/steady-state catalog reporting

commit b5f79fc99ea3bb7b4ddfb2044ef01b43cd5bf48b
Author: Justin Jaffray <justin.jaffray@gmail.com>
Date:   Wed Oct 21 16:49:06 2020 -0400

    Don't reuse a RowArena for MapFilterProject
    
    In #4463 we introduced MapFilterProjects on top of Gets to reduce the
    amount of data that we had to pack and unpack across operator
    boundaries. When doing this, I made one RowArena that was used across
    each invocation of MFP, which resulted in memory buildup over time. This
    change changes this to occur per-row so that we can throw away
    intermediate data.

commit 4d600b05cdfdb26d0fb7b053cdb5c940aa4be006
Author: Nikhil Benesch <nikhil.benesch@gmail.com>
Date:   Wed Oct 21 15:53:07 2020 -0400

    coord: unify bootstrap/steady-state catalog reporting
    
    The various catalog tables (e.g., mz_databases) need to be updated
    whenever the catalog state changes. This means once at startup, to make
    the tables reflect the initial state of the catalog, and again on every
    catalog operation.
    
    Previously, there were two separate code paths for the startup and
    steady-state updates. This patch unifies those code paths. The key
    insight is that on startup, we can synthesize a list of events that
    describes how to take a catalog from empty to its current on-disk state;
    events that use exactly the same format as the events that are generated
    for a steady-state catalog update.

commit 48a283376df8ee8f8576072251a80a06230720ba
Author: Brennan Vincent <brennan@materialize.io>
Date:   Wed Oct 21 14:17:14 2020 -0500

    Extra logging when encountering a duplicate snapshot (#4570)

commit 6cf84cec7ebdd4b4a0c856e4f867d8ff58046bba
Author: Nikhil Benesch <nikhil.benesch@gmail.com>
Date:   Wed Oct 21 15:09:06 2020 -0400

    coord: rename Catalog::{OpStatus -> Event}
    
    Event is shorter and more evocative.

commit 81268c7d93c339aa48b8f4c95dc2396bc8399e0f
Author: Eli Lindsey <eli@siliconsprawl.com>
Date:   Tue Oct 6 15:56:37 2020 -0400

    default to using 'physical cores / 2' number of threads

commit c62020c5f3eef7de30ebb8d662d8c4db85531478
Author: Sean Loiselle <sean@materialize.io>
Date:   Wed Oct 21 13:10:46 2020 -0400

    sql: improve ParamType methods
    
    - `ParamType::accepts_type_directly` incorrectly identified a few
      pseudotypes as accepting any `ScalarType` without casting, when
      they did, in fact, require casts.
    - `ParamType::accepts_type_implicitly` maintained its own version
      of which implicit casts were allowed, irrespective of the actual
      supported casts. To remove that potential inconsistency,
      `accepts_type_implicitly` now queries the cast dictionary directly
      with the assistance of `ParamType::get_cast_to_for_type`, which
      tracks the approrpriate `CastTo` value for each `ParamType`.

commit bb5781655df5d5dcd742722516959d79a11254cc
Merge: 28052007d 2efda0eba
Author: Nikhil Benesch <nikhil.benesch@gmail.com>
Date:   Wed Oct 21 11:20:57 2020 -0400

    Merge pull request #4561 from benesch/chaos-pw
    
    chaos: fix mysql password

commit 28052007de8f861c32fb22ff63da5cc672218ff7
Author: Brandon W Maister <bwm@materialize.io>
Date:   Wed Oct 21 08:52:43 2020 -0400

    Change warn -> debug for double-deletion of metrics (#4564)
    
    These warn logs caused us to create MaterializeInc/rust-prometheus#12 , which I'll fix soon,
    but as it is these were only put in at warn level to ensure that we did know if that was
    a potential bug. Now that we know that it *is* a bug the warn is spurious and is
    unnecessarily concerning, because there's nothing anyone can do about it.

commit daf1fb748314ebdfc6b77cf59e7647c1299c2b5b
Merge: 747c0bdc6 8a43c3747
Author: Nikhil Benesch <nikhil.benesch@gmail.com>
Date:   Wed Oct 21 02:28:57 2020 -0400

    Merge pull request #4565 from benesch/v050
    
    doc/user: polish docs for v0.5.0

commit 8a43c3747548673d1e5e65b3006cb14fb0c65d9f
Author: Nikhil Benesch <nikhil.benesch@gmail.com>
Date:   Wed Oct 21 02:15:21 2020 -0400

    doc/user: polish docs for v0.5.0

commit 747c0bdc6b63a95a94ec7faae693003dc253876e
Merge: bebb4ab73 c701602f5
Author: Nikhil Benesch <nikhil.benesch@gmail.com>
Date:   Tue Oct 20 18:30:44 2020 -0400

    Merge pull request #4562 from ruchirK/rk-verbose-tail-errors
    
    dataflow: more verbose errors when creating TAILed sources fails

commit bebb4ab73fa0a11d4c063f2f61b9d3768cc866d5
Merge: e4aecf9f8 364424106
Author: Nikhil Benesch <nikhil.benesch@gmail.com>
Date:   Tue Oct 20 18:30:27 2020 -0400

    Merge pull request #4560 from benesch/testdrive-comments
    
    testdrive: permit comment lines in command bodies

commit c701602f569a9bc31237daeb85c19e6e8e3b253d
Author: Ruchir Khaitan <ruchir0001@gmail.com>
Date:   Tue Oct 20 18:05:53 2020 -0400

    dataflow: more verbose errors when creating TAILed sources fails

commit 2efda0ebadc662095b901b5357e8fd4b8e3c3f93
Author: Nikhil Benesch <nikhil.benesch@gmail.com>
Date:   Tue Oct 20 18:01:48 2020 -0400

    chaos: fix mysql password
    
    The default is correct now!

commit e4aecf9f80ed4a405142719c8a18e53c7b752894
Author: Brennan Vincent <brennan@materialize.io>
Date:   Tue Oct 20 18:00:26 2020 -0400

    Deduplicate snapshot rows based on key. (#4556)

commit 364424106415cf9350c7b4a8d05b23cee01d74e8
Author: Nikhil Benesch <nikhil.benesch@gmail.com>
Date:   Tue Oct 20 17:58:08 2020 -0400

    testdrive: permit comment lines in command bodies

commit 9fb21e43935f0f25d6d172f7a37b529bf6e4cb91
Author: Andi Wang <5522362+wangandi@users.noreply.github.com>
Date:   Tue Oct 20 15:29:28 2020 -0400

    Joins: Use the new struct in various transformations. (#4505)
    
    Use the new join code utility in various transformations.
    Global key calculation method is moved to the JoinInputMapper.

commit 5f75d376297a0c1a49dab294bb064d21e27c4626
Author: Brandon W Maister <bwm@materialize.io>
Date:   Tue Oct 20 15:05:47 2020 -0400

    The test results section in the release checklist is test-specific (#4557)

commit 2f1b0423312d32c150a94de3b08af6edb059a42a
Merge: 3e8299869 a4a69103c
Author: Nikhil Benesch <nikhil.benesch@gmail.com>
Date:   Tue Oct 20 14:55:11 2020 -0400

    Merge pull request #4553 from benesch/csharp-test
    
    test: add an integration test for C#/Npgsql

commit 3e82998693da4ea3a05bad583bbbb736a3ef63c4
Merge: 3b44b473a 96b9e3a44
Author: Nikhil Benesch <nikhil.benesch@gmail.com>
Date:   Tue Oct 20 14:51:37 2020 -0400

    Merge pull request #4555 from benesch/demo-fixes
    
    doc/user: fix demo irritants

commit bfa9fe145052b5fc179df7161943112474cd4483
Author: Ruchir Khaitan <ruchir0001@gmail.com>
Date:   Tue Oct 20 13:44:31 2020 -0400

    coord,materialized: create a separate config struct for logging

commit 96b9e3a4420a132bad76ece8ef3986ba66d14ce4
Author: Nikhil Benesch <nikhil.benesch@gmail.com>
Date:   Tue Oct 20 13:09:27 2020 -0400

    doc/user: fix demo irritants
    
    For the demos, use the HTTPS URL to clone the Materialize repository,
    since users might not have GitHuB SSH configured. Also reword part of
    the BI demo to more clearly indicate that mzcompose handles downloading
    and starting components.

commit 3b44b473ab49b6e6c49f8f2c31f063dd37e0e336
Author: Ruchir Khaitan <ruchir0001@gmail.com>
Date:   Tue Oct 20 13:17:58 2020 -0400

    dataflow: optimize TopK memory usage (#4546)
    
    * dataflow: optimize TopK memory usage
    
    Closes #4325
    
    Do the exact same optimization that we recently performed for the
    reduce operator in `8c98df5` for the exact same reasons.

commit a4a69103c13d27b9a6bc03a578db32a809c928cc
Author: Nikhil Benesch <nikhil.benesch@gmail.com>
Date:   Tue Oct 20 01:30:48 2020 -0400

    test: add an integration test for C#/Npgsql
    
    All this integration test verifies so far is that we basically don't
    support Npgsql. But this commit adds enough pg_catalog shims that
    opening a connection succeeds, at least.
    
    Updates #4543.

commit 994ae998b45388b309b06110d92e728f0b724514
Author: Nikhil Benesch <nikhil.benesch@gmail.com>
Date:   Tue Oct 20 12:30:43 2020 -0400

    ci-builder: run with --init (#4554)
    
    Pass --init when running the CI builder Docker container. This causes
    Docker to run a proper init system in the container, which tends to make
    signal handling work better. In particular this makes Ctrl+C work
    correctly on my Linux machine locally. It may also fix the sporadic race
    condition we see in CI where cancellation fails to interrupt `cargo
    build`.

commit d90a6256f879b9ccf8e700ed03f88bfdd472bcbc
Merge: 6f6e61f6e 4ccf6207c
Author: Nikhil Benesch <nikhil.benesch@gmail.com>
Date:   Tue Oct 20 00:33:35 2020 -0400

    Merge pull request #4548 from benesch/toolchain-reqs
    
    doc: specify toolchain requirements

commit 6f6e61f6e13d7f244e7e0c22a61f7c9977efd168
Author: Jessica Laughlin <JLDLaughlin@users.noreply.github.com>
Date:   Mon Oct 19 20:46:11 2020 -0400

    pgcompat: support array_upper (#4515)
    
    Adds support for builtin function array_upper and tests.

commit 4ccf6207c5399131592b23d42ee7d3437f5ae8a1
Author: Nikhil Benesch <nikhil.benesch@gmail.com>
Date:   Mon Oct 19 17:14:22 2020 -0400

    doc: specify toolchain requirements
    
    In a perfect world, we'd be able to pin this down in Cargo.toml. See
    rust-lang/rust#65262. For now, though, some aggressive documentation
    will have to do.
    
    Fix #4544.

commit 16005d150144c631fac85ed5cb57553fbf808282
Merge: cc0840abd 276bf9f28
Author: Brandon W Maister <bwm@materialize.io>
Date:   Mon Oct 19 17:12:01 2020 -0400

    Merge pull request #4522 from quodlibetor/timestamp-info
    
    Add the time that kafka events were created to deduplication logs

commit cc0840abd3c78631b1d0957512cb2e024b469395
Author: Brandon W Maister <bwm@materialize.io>
Date:   Mon Oct 19 17:11:03 2020 -0400

    testdrive: Disallow duplicate arguments to commands (#4547)
    
    Since it is impossible to use arguments that appear multiple times in one command we
    should disallow it, it is always a bug.

commit 276bf9f28a7da334af451efc769f0609a54c693c
Author: Brandon W Maister <bwm@materialize.io>
Date:   Mon Oct 19 16:37:13 2020 -0400

    Add a Debug impl to dataflow::source::SourceMessage
    
    Since we don't have enough information to try it doesn't try to interpret the key or
    payload parameters, just prints whether or not they're present. This isn't used in this
    commit, I just used it while debugging.

commit 0bb496f081475f227237596c5be0df40ddba222c
Author: Brandon W Maister <bwm@materialize.io>
Date:   Fri Oct 16 13:09:16 2020 -0400

    Add the time that kafka events were created to deduplication logs
    
    This will allow folks to create windows of Debezium fallibility as part of the plan
    in #4172

commit 9a8dec8c666b8377e74c5518d21bd197906baafe
Merge: 884e10b43 5bf8c0685
Author: Nikhil Benesch <nikhil.benesch@gmail.com>
Date:   Mon Oct 19 16:29:29 2020 -0400

    Merge pull request #4529 from MaterializeInc/dependabot/cargo/rlimit-0.5.2
    
    build(deps): bump rlimit from 0.4.0 to 0.5.2

commit 5bf8c06858db3ac1feea33d9866e25f05d9bec94
Author: dependabot-preview[bot] <27856297+dependabot-preview[bot]@users.noreply.github.com>
Date:   Mon Oct 19 10:32:25 2020 +0000

    build(deps): bump rlimit from 0.4.0 to 0.5.2
    
    Bumps [rlimit](https://github.com/Nugine/rlimit) from 0.4.0 to 0.5.2.
    - [Release notes](https://github.com/Nugine/rlimit/releases)
    - [Commits](https://github.com/Nugine/rlimit/compare/v0.4.0...v0.5.2)
    
    Signed-off-by: dependabot-preview[bot] <support@dependabot.com>

commit 884e10b432303fe0b4397ed50955456bd96c02a0
Author: Jessica Laughlin <JLDLaughlin@users.noreply.github.com>
Date:   Mon Oct 19 13:23:04 2020 -0400

    pgcompat: fix array_lower bug (#4534)
    
    Fixes #4517 by inspecting an array's dimensions instead of its
    individual elements.

commit 96cdcc72468942b2d1d58c2b1018425991bc0014
Merge: a29c15dd2 a8ef5bf90
Author: Nikhil Benesch <nikhil.benesch@gmail.com>
Date:   Mon Oct 19 13:09:13 2020 -0400

    Merge pull request #4535 from benesch/no-stream-cancel
    
    materialized: drop dependency on stream-cancel

commit a8ef5bf909855715593c93291ed5c2cce8adee1a
Author: Nikhil Benesch <nikhil.benesch@gmail.com>
Date:   Mon Oct 19 12:13:56 2020 -0400

    materialized: drop dependency on stream-cancel
    
    It's incompatibile with Tokio v0.3, and it's easy enough to replace now
    with StreamExt::take_until from the futures crate.

commit a29c15dd239fa6ca334a04774bd9b0bb2e55e6c5
Author: Chris Golden <551285+cirego@users.noreply.github.com>
Date:   Mon Oct 19 08:49:05 2020 -0700

    Fixup broken variable in dump-topics (#4513)
    
    Somehow this `readonly` snuck into the original PR, even though the
    variable is being set multiple times within a loop. Fix the script by
    removing the readonly annotation.

commit ce01170c0922a5de56271a70365982cab82126e3
Author: Brandon W Maister <bwm@materialize.io>
Date:   Mon Oct 19 11:45:30 2020 -0400

    Add a SourceData struct to abstract ingest dataflow data (#4533)
    
    Instead of having a constantly-growing Tuple for everything at the ingest side, we can
    now create and use named fields. Follow up PRs will use this to pipe more kafka
    information through to Avro decode.

commit 32f597a9609ba1950fbf05231522d64b4951ad0c
Merge: 8de2ac5a9 4c2cf7d07
Author: Nikhil Benesch <nikhil.benesch@gmail.com>
Date:   Mon Oct 19 10:34:27 2020 -0400

    Merge pull request #4532 from benesch/dc-124
    
    mzcompose: downgrade required compose version to v1.24

commit 4c2cf7d071151cb275c0c93fe5112b8c23a35b45
Author: Nikhil Benesch <nikhil.benesch@gmail.com>
Date:   Mon Oct 19 10:31:53 2020 -0400

    mzcompose: downgrade required compose version to v1.24
    
    v1.24 is what the cloud infrastructure uses.

commit 8de2ac5a98ae38dcf7516a6011232e2e76172f6a
Merge: f4e0a0935 166fec37e
Author: Nikhil Benesch <nikhil.benesch@gmail.com>
Date:   Mon Oct 19 08:53:29 2020 -0400

    Merge pull request #4526 from MaterializeInc/dependabot/cargo/serde_json-1.0.59
    
    build(deps): bump serde_json from 1.0.58 to 1.0.59

commit f4e0a0935d04015896fef6a028aad922f4637bb1
Merge: 81ab3fc87 6cea43ff4
Author: Nikhil Benesch <nikhil.benesch@gmail.com>
Date:   Mon Oct 19 08:53:02 2020 -0400

    Merge pull request #4527 from MaterializeInc/dependabot/cargo/env_logger-0.8.1
    
    build(deps): bump env_logger from 0.7.1 to 0.8.1

commit 81ab3fc872ca3f88fe735a60bfd0d056ef10da90
Merge: bbc42c13d 017670fe9
Author: Nikhil Benesch <nikhil.benesch@gmail.com>
Date:   Mon Oct 19 08:52:32 2020 -0400

    Merge pull request #4525 from MaterializeInc/dependabot/cargo/syn-1.0.45
    
    build(deps): bump syn from 1.0.44 to 1.0.45

commit bbc42c13da8d789a55a28fd61845edfb2440e275
Merge: af69274ce 71bd4edf5
Author: Nikhil Benesch <nikhil.benesch@gmail.com>
Date:   Mon Oct 19 08:52:15 2020 -0400

    Merge pull request #4528 from MaterializeInc/dependabot/cargo/aho-corasick-0.7.14
    
    build(deps): bump aho-corasick from 0.7.13 to 0.7.14

commit af69274ceec29e5ec23caae9c3f85c764f863428
Merge: d283d2663 1e3420602
Author: Nikhil Benesch <nikhil.benesch@gmail.com>
Date:   Mon Oct 19 08:51:55 2020 -0400

    Merge pull request #4530 from MaterializeInc/dependabot/cargo/datadriven-0.4.0
    
    build(deps): bump datadriven from 0.3.0 to 0.4.0

commit 1e3420602c63f66c20bc4c7242b603a307971a90
Author: dependabot-preview[bot] <27856297+dependabot-preview[bot]@users.noreply.github.com>
Date:   Mon Oct 19 10:32:47 2020 +0000

    build(deps): bump datadriven from 0.3.0 to 0.4.0
    
    Bumps [datadriven](https://github.com/justinj/datadriven) from 0.3.0 to 0.4.0.
    - [Release notes](https://github.com/justinj/datadriven/releases)
    - [Commits](https://github.com/justinj/datadriven/commits)
    
    Signed-off-by: dependabot-preview[bot] <support@dependabot.com>

commit 71bd4edf537701502caa2bcb5ff024dc21a06d87
Author: dependabot-preview[bot] <27856297+dependabot-preview[bot]@users.noreply.github.com>
Date:   Mon Oct 19 10:31:57 2020 +0000

    build(deps): bump aho-corasick from 0.7.13 to 0.7.14
    
    Bumps [aho-corasick](https://github.com/BurntSushi/aho-corasick) from 0.7.13 to 0.7.14.
    - [Release notes](https://github.com/BurntSushi/aho-corasick/releases)
    - [Commits](https://github.com/BurntSushi/aho-corasick/compare/0.7.13...0.7.14)
    
    Signed-off-by: dependabot-preview[bot] <support@dependabot.com>

commit 6cea43ff48c4d64458a9b411423a9b725a54fa19
Author: dependabot-preview[bot] <27856297+dependabot-preview[bot]@users.noreply.github.com>
Date:   Mon Oct 19 10:31:36 2020 +0000

    build(deps): bump env_logger from 0.7.1 to 0.8.1
    
    Bumps [env_logger](https://github.com/env-logger-rs/env_logger) from 0.7.1 to 0.8.1.
    - [Release notes](https://github.com/env-logger-rs/env_logger/releases)
    - [Changelog](https://github.com/env-logger-rs/env_logger/blob/master/CHANGELOG.md)
    - [Commits](https://github.com/env-logger-rs/env_logger/compare/v0.7.1...v0.8.1)
    
    Signed-off-by: dependabot-preview[bot] <support@dependabot.com>

commit 166fec37ebfeafd795671ff36cee16dcd8f44e5d
Author: dependabot-preview[bot] <27856297+dependabot-preview[bot]@users.noreply.github.com>
Date:   Mon Oct 19 10:31:15 2020 +0000

    build(deps): bump serde_json from 1.0.58 to 1.0.59
    
    Bumps [serde_json](https://github.com/serde-rs/json) from 1.0.58 to 1.0.59.
    - [Release notes](https://github.com/serde-rs/json/releases)
    - [Commits](https://github.com/serde-rs/json/compare/v1.0.58...v1.0.59)
    
    Signed-off-by: dependabot-preview[bot] <support@dependabot.com>

commit 017670fe960d4fce237964fd1d9c750a1f0bead0
Author: dependabot-preview[bot] <27856297+dependabot-preview[bot]@users.noreply.github.com>
Date:   Mon Oct 19 10:30:45 2020 +0000

    build(deps): bump syn from 1.0.44 to 1.0.45
    
    Bumps [syn](https://github.com/dtolnay/syn) from 1.0.44 to 1.0.45.
    - [Release notes](https://github.com/dtolnay/syn/releases)
    - [Commits](https://github.com/dtolnay/syn/compare/1.0.44...1.0.45)
    
    Signed-off-by: dependabot-preview[bot] <support@dependabot.com>

commit d283d26638ed629bfd7df5519603d34c1b6b9487
Merge: f200c73d1 55a979cc6
Author: Nikhil Benesch <nikhil.benesch@gmail.com>
Date:   Sun Oct 18 23:04:49 2020 -0400

    Merge pull request #4510 from benesch/sink-catalog-rename
    
    sql: rename global_id column in sink catalog tables to sink_id

commit f200c73d161156d3f54fa24de4e0e6a73606df7d
Merge: 55ee1fb70 b6dc04860
Author: Nikhil Benesch <nikhil.benesch@gmail.com>
Date:   Sun Oct 18 23:03:11 2020 -0400

    Merge pull request #4521 from benesch/prepare-v0.5.1-dev
    
    Prepare next phase of development: v0.5.1-dev

commit 55a979cc661883cd0d6a9f4ecbf39284d7e96c4d
Author: Nikhil Benesch <nikhil.benesch@gmail.com>
Date:   Wed Oct 14 17:45:34 2020 -0400

    sql: rename global_id column in sink catalog tables to sink_id
    
    For consistency with other views in the system catalog. The system
    catalog views are documented now, so best to tidy this up for wider
    consumption while we still can. Confirmed to be low impact with our
    customers.

commit 55ee1fb70984dd6ff7f8e92b13c51cf418c98df5
Author: Ruchir Khaitan <ruchir0001@gmail.com>
Date:   Sat Oct 17 14:13:15 2020 -0400

    dataflow: optimize reduce memory usage. (#4523)
    
    Touches #4325
    
    Reduce operations for hierarchical, inaccumulable reductions (think
    non-monotonic mins and maxs) go through a staged reduction where initially,
    very fine subsets of the group being reduced are handled independently, and slowly
    those reductions are merged together to yield the final reduction.
    
    In a lot of the initial stages, the number of buckets is so large that the reduction
    ends up being a no-op, because each bucket only has one element. The number of
    buckets has to be large because we might have to reduce a enormous data set,
    and we can't change the structure of the "reduction tree" dynamically.
    
    These changes make it so that we don't arrange both the input and the output at each stage
    of the reduction. Instead, we arrange the input, and the elements not in the output. To give
    a little bit of color with an analogy, our reduction is like a winner take all tournament, except
    not nearly enough players enter most of the time. We end up spending a
    bunch of memory recording things like:
    
    "Player X vs. no-one -- Player X advances by default"
    
    and we end up doing this so many times that we keep multiple duplicate
    copies of the original set of players.
    
    This change changes the recording to emit something analogous to
    
    " Player X vs no-one -- no-one eliminated" and save memory on every empty set of
    "eliminations". Astute sports fans will note that in a winner take all
    tournament with N players, N - 1 players have to lose exactly 1 time, and the intent
    of these changes is to arrange the entire dataset in the output of the reduce operator
    exactly one time (as opposed to currently where the dataset is captured ~16x in the
    reduce operator outputs).
    
    This should reduce reduce memory usage by approximately 1/2 in the best case.

commit 8b4a1398446c89e6f07a4cb18b01a1150d2b939c
Merge: 13217abc0 7ec9eec3b
Author: Matt Jibson <matt.jibson@gmail.com>
Date:   Fri Oct 16 12:09:07 2020 -0600

    Merge pull request #4512 from mjibson/memory-view-create
    
    materialized: memory page improvements

commit b6dc04860bb8826dc88a12878b3a4dbb07440e18
Author: Nikhil Benesch <nikhil.benesch@gmail.com>
Date:   Fri Oct 16 11:12:18 2020 -0400

    Prepare next phase of development: v0.5.1-dev

commit 13217abc049201d1e5e9ab75f6de25bc9382162b
Author: Jessica Laughlin <JLDLaughlin@users.noreply.github.com>
Date:   Fri Oct 16 10:28:33 2020 -0400

    chaos: increase kafka topic creation max sleep (#4519)
    
    The chaos tests apply "chaos" to random Docker containers immediately. This
    can prevent the required initial state of the tests (a Kafka topic) from
    getting set up correctly. This change bumps the max sleep around kafka topic
    creation to try to avoid that issue.

commit c3523e73f74d6a8a206d4067c78df8daee83f597
Author: Chris Golden <551285+cirego@users.noreply.github.com>
Date:   Thu Oct 15 16:05:15 2020 -0700

    Helper script to build perf from source on Ubuntu (#4427)
    
    * Add script to build and install perf from source
    
    Finding instructions on how to build perf from source are not easy, so
    let's write a little script to help people know which dependencies need
    to be installed.
    
    Set the appropriate sysctl values so that perf will actually work.

commit 0aa01da7349540fc772101b3d52568c1432905d5
Author: Chris Golden <551285+cirego@users.noreply.github.com>
Date:   Thu Oct 15 15:50:15 2020 -0700

    Configure password for postgres in chbench (#4481)
    
    * Configure password for postgres in chbench
    
    A password is required to connect to the postgres instance created
    during the chbench benchmark. Pass this password into the connection
    params when connecting to postgres, just like we do with mysql.
    
    Fixes #4436

commit 7463ec23a3678d2f30f2d82fe3387f9bb437aec8
Author: Jessica Laughlin <JLDLaughlin@users.noreply.github.com>
Date:   Thu Oct 15 16:06:27 2020 -0400

    pgcompat: support array_lower (#4514)

commit 2411ff3b2260f4e80f10dd261f62c92dd82e0d6a
Merge: 6ffa05dca 4ce07aa75
Author: Sean Loiselle <sean@materialize.io>
Date:   Thu Oct 15 13:49:52 2020 -0400

    Merge pull request #4511 from sploiselle/list-casts
    
    List casts

commit 7ec9eec3b984cc7b385cb0185745e9f08a02cdcc
Author: Matt Jibson <matt.jibson@gmail.com>
Date:   Thu Oct 15 11:35:47 2020 -0600

    materialized: various memory page improvements
    
    - actually fix alpha math
    - don't show elapsed if it's <= 1s
    - truncate long names

commit 4ce07aa7515aec3bbc61187faac46d8b2cc85c6b
Author: Sean Loiselle <sean@materialize.io>
Date:   Wed Oct 14 14:39:43 2020 -0400

    sql: support casting list to text

commit a0cd91274b5343def3a9cc773f13924a080504ee
Author: Sean Loiselle <sean@materialize.io>
Date:   Tue Oct 13 14:32:52 2020 -0400

    sql: support casting between list types

commit 1fe7ff63e13f427a19efee3b5beb0ab264116c42
Author: Matt Jibson <matt.jibson@gmail.com>
Date:   Wed Oct 14 17:52:00 2020 -0600

    materialized: show CREATE VIEW on memory page
    
    This is best effort and has known problems. But that's ok because it's
    good enough for most people who just want to see some quick SQL.
    
    Informs #4492

commit 6d7b01a9a46b0019a538e293d8a290576fdd5f9e
Author: Matt Jibson <matt.jibson@gmail.com>
Date:   Wed Oct 14 17:46:05 2020 -0600

    materialized: set memory share svg width

commit 6ffa05dca1e351783c90e39bda22d8457492c962
Merge: fa422901e 71d28b761
Author: Nikhil Benesch <nikhil.benesch@gmail.com>
Date:   Thu Oct 15 11:46:18 2020 -0400

    Merge pull request #4509 from benesch/mz-columns-split
    
    sql: move index columns out of `mz_indexes` table

commit 71d28b7617a9bfa47c266d9120c4a8992b43f135
Author: Nikhil Benesch <nikhil.benesch@gmail.com>
Date:   Wed Oct 14 17:32:50 2020 -0400

    sql: move index columns out of `mz_indexes` table
    
    Put information about index columns in `mz_index_columns`, rather than
    having multiple rows per-index in `mz_indexes`. The old design was
    totally fine, but this makes it a little easier to explain what's in
    `mz_indexes`, and makes it more consistent with `mz_sources`,
    `mz_tables`, etc.
    
    While I'm here, standardize on using the term "position" to mean
    1-indexed column position. SQL as a whole is 1-indexed, so it is a bit
    more in keeping with SQL to have 1-indexed positions exposed in our
    system catalog, annoying as it is.
    
    Fix #4498.

commit fa422901e6bd3bb0392351738758165221c0b29e
Merge: 5ef439276 f26408f21
Author: Matt Jibson <matt.jibson@gmail.com>
Date:   Wed Oct 14 16:06:47 2020 -0600

    Merge pull request #4508 from mjibson/mem-alpha
    
    materialized: fix alpha strings in memory

commit f26408f21f26bf6d05a74b3fd58665fc9790f64c
Author: Matt Jibson <matt.jibson@gmail.com>
Date:   Wed Oct 14 15:33:17 2020 -0600

    materialized: fix alpha strings in memory
    
    There were problems with div by zero and fractions. This correctly
    detects 0 records, removes any fractions, and pads the alpha value so
    it is always 0 hex chars.

commit 5ef439276da77941eac6eb363b289edfcaf3310d
Author: Jessica Laughlin <JLDLaughlin@users.noreply.github.com>
Date:   Wed Oct 14 17:02:06 2020 -0400

    sql: support accessing elements in arrays (#4504)

commit 5e18a47f40f1977e8cb551ef7a855c576b899056
Merge: 313f97c94 7fa4dd923
Author: Nikhil Benesch <nikhil.benesch@gmail.com>
Date:   Wed Oct 14 16:47:07 2020 -0400

    Merge pull request #4507 from benesch/doc-cat-types
    
    doc/user: document column types for system catalog tables

commit 313f97c94c4978c1a53b2a1b97f4126a036dd0f6
Merge: 119b77817 5222d2887
Author: Matt Jibson <matt.jibson@gmail.com>
Date:   Wed Oct 14 14:44:16 2020 -0600

    Merge pull request #4501 from mjibson/link-compress
    
    materialized: compress share link in memory page

commit 7fa4dd92397739f5603e58dadfd58ef53272caa6
Author: Nikhil Benesch <nikhil.benesch@gmail.com>
Date:   Wed Oct 14 16:36:11 2020 -0400

    doc/user: sort reference alphabetically

commit 74faf715f4c6fddfd0ab110c775e6e0e7efc38f8
Author: Nikhil Benesch <nikhil.benesch@gmail.com>
Date:   Wed Oct 14 16:34:01 2020 -0400

    doc/user: document column types for system catalog tables
    
    Fix #4499.

commit 119b77817761bfab928f87724627f6207e943a09
Merge: 2f631812c bfec915b2
Author: Nikhil Benesch <nikhil.benesch@gmail.com>
Date:   Wed Oct 14 15:54:03 2020 -0400

    Merge pull request #4488 from benesch/mzcompose-fixes
    
    mzcompose: minor fixes

commit 2f631812c5c82ab91517a4e3a6c8b19205f1cd16
Merge: b0de96884 42a290a60
Author: Nikhil Benesch <nikhil.benesch@gmail.com>
Date:   Wed Oct 14 15:53:12 2020 -0400

    Merge pull request #4502 from benesch/rust-147
    
    ci/builder: upgrade to rust 1.47

commit b0de968846caefca79888f4466329550322cc590
Merge: 89fb0d2a8 dbd25939b
Author: Nikhil Benesch <nikhil.benesch@gmail.com>
Date:   Wed Oct 14 15:51:13 2020 -0400

    Merge pull request #4497 from benesch/sql-stuff-ii
    
    sql: document + consistentize SHOW commands + catalog

commit bfec915b2e18dc1d079acee0103684f07d095fbd
Author: Nikhil Benesch <nikhil.benesch@gmail.com>
Date:   Mon Oct 12 22:48:42 2020 -0400

    mzcompose: rename MZBUILD_DOCKER_TAG var to MZBUILD_TAG
    
    Per #3231.
    Fix #3231.

commit d8e5e2b4cd95d012709f4cf8d160e38e4bb0ac31
Author: Nikhil Benesch <nikhil.benesch@gmail.com>
Date:   Mon Oct 12 22:44:52 2020 -0400

    mzcompose: don't export MZ_QUIET
    
    Unclear what purpose this serves, and there is no justification for it
    in the commit that added it (f0b947). So remove it.

commit 82713a2c633c5c3aa85b943a554898f1a4329254
Author: Nikhil Benesch <nikhil.benesch@gmail.com>
Date:   Mon Oct 12 22:42:44 2020 -0400

    misc/python: don't require spacing in ui.speaker
    
    f0b9476 introduced a bug in which messages in mzcompose would be output
    with a leading space. Fix that.

commit dbd25939b34ffbddbc25eaf5a439675df094fe71
Author: Nikhil Benesch <nikhil.benesch@gmail.com>
Date:   Wed Oct 14 03:34:14 2020 -0400

    sql: ditch "global ID" nomenclature for new tables
    
    The term "global ID" doesn't make much sense to end users. Global to
    what? (Internally, it distinguishes between IDs in an expression that
    are local to that expression and those that are not.) Just use the
    phrasing "ID" instead, which is consistent with what we do for databases
    and schemas.

commit 8584e090969ef75b3a7f7e0ef13d5aa13656c313
Author: Nikhil Benesch <nikhil.benesch@gmail.com>
Date:   Wed Oct 14 03:08:44 2020 -0400

    sql: factor out an is_materialized helper function
    
    This simplifies `SHOW SOURCES` and `SHOW VIEWS`.

commit 5aaeb4f27ea1ff3f954a7828dc1d16a1f035e70a
Author: Nikhil Benesch <nikhil.benesch@gmail.com>
Date:   Wed Oct 14 03:00:51 2020 -0400

    sql: factor out ordering and filtering from SHOW commands
    
    Now that the output of the SHOW commands is consistent enough, we can
    factor out the filtering and ordering chunks.

commit 31c9cd05ddaa97e24a68c4e2518c24740903fc74
Author: Nikhil Benesch <nikhil.benesch@gmail.com>
Date:   Wed Oct 14 13:19:36 2020 -0400

    repr: fix ordering of DatumLists
    
    These need to be ordered by their constituent datums, not by their
    bytes.

commit e67b9b38a85857c0111bd554f954dbef45c7d0ec
Author: Nikhil Benesch <nikhil.benesch@gmail.com>
Date:   Wed Oct 14 02:46:36 2020 -0400

    sql: rearrange SHOW COLUMNS so seq_in_index comes earlier
    
    This makes scanning the output make a lot more sense, and will admit a
    simplification to the SHOW code in the next commit.

commit b3193b49be51aa27548aa45f289802945302009e
Author: Nikhil Benesch <nikhil.benesch@gmail.com>
Date:   Wed Oct 14 01:58:29 2020 -0400

    doc/user: document mz_objects and mz_relations

commit 6b07641910ceeb97440f24a378329d8e3d472a44
Author: Nikhil Benesch <nikhil.benesch@gmail.com>
Date:   Wed Oct 14 01:54:56 2020 -0400

    sql: make SHOW {TABLES|SOURCES|...|INDEXES} more consistent
    
    Use a consistent column naming/ordering scheme for the SHOW commands and
    the corresponding tables in mz_catalog.

commit e48b86da7a3ec068621cd07a79f6092dfa134001
Author: Nikhil Benesch <nikhil.benesch@gmail.com>
Date:   Wed Oct 14 01:16:02 2020 -0400

    sql: make mz_columns and `SHOW COLUMNS` more consistent
    
    Use "name" instead of "field" for consistency with other show commands.
    Also make nullable a boolean, because using the strings 'YES'/'NO' to
    represent a boolean value is silly.

commit 04028b6cf2274a25202de5f0d6ddc48d5e859983
Author: Nikhil Benesch <nikhil.benesch@gmail.com>
Date:   Wed Oct 14 00:45:35 2020 -0400

    sql: derive an object's type from its ID
    
    This follows the principles of normalization: don't include data that
    can be derived from other fields. It also avoids a lot of joining in the
    SHOW code.
    
    Also, lowercase the types ("system" and "user" rather than "SYSTEM" and
    "USER") so that it doesn't feel like we're screaming at our users.

commit 42a290a60e873a783eabbe3db1d1e4ba81b7e7fe
Author: Nikhil Benesch <nikhil.benesch@gmail.com>
Date:   Wed Oct 14 13:51:47 2020 -0400

    ci/builder: upgrade to rust 1.47
    
    The code changes here are to comply with new clippy lints.

commit 3b46fe2763273b76df89b8955481eadb57a11eea
Author: Nikhil Benesch <nikhil.benesch@gmail.com>
Date:   Fri Oct 2 01:16:50 2020 -0400

    sql: avoid join in SHOW SCHEMAS
    
    We can pull the ID of the requested database directly out of the catalog
    to avoid joining in the query that powers SHOW SCHEMAS.

commit 799133f907386ec524dd214f93e7dc6282b33e8f
Author: Nikhil Benesch <nikhil.benesch@gmail.com>
Date:   Wed Oct 14 00:18:56 2020 -0400

    sql: adjust name/layout of mz_schemas
    
    Make mz_schemas a bit more consistent with the other system tables by
    calling its ID column just `id`, and putting the `oid` column
    immediately after the ID column.

commit 5aa02a0eeccdc73140eb1a88870e6dd254f17778
Author: Nikhil Benesch <nikhil.benesch@gmail.com>
Date:   Tue Oct 13 11:42:30 2020 -0400

    sql: rename "database" column of mz_databases to "name"

commit e0268a8345728bd892b5d936a6b84e5d1e14d86f
Author: Nikhil Benesch <nikhil.benesch@gmail.com>
Date:   Tue Oct 13 22:25:45 2020 -0400

    doc/user: update system catalog documentation

commit 89fb0d2a8b52700a1d871cb0878b6b326136bd42
Merge: 052add016 3be69ee51
Author: Sean Loiselle <sean@materialize.io>
Date:   Wed Oct 14 14:28:00 2020 -0400

    Merge pull request #4503 from sploiselle/docs-record-ex-typo
    
    docs: row code sample typo

commit 3be69ee51c4361fd2f95c7d11a9d1b82b5344e2d
Author: Sean Loiselle <sean@materialize.io>
Date:   Wed Oct 14 14:25:19 2020 -0400

    docs: row code sample typo

commit 5222d2887f71312d4d8fdec456a17d0d4cfb8181
Author: Matt Jibson <matt.jibson@gmail.com>
Date:   Wed Oct 14 11:53:01 2020 -0600

    materialized: compress share link in memory page
    
    Use pako, a zlib port to javascript, to compress share links. A test
    example went from 7.2k to 1.2k total characters in the URL hash. This
    should help with URL limits imposed when attempting to share links (i.e.,
    in slack or bit.ly).
    
    Fixes #4495

commit 052add016d263a7710a90e5604bf76d09a880380
Merge: b9dbdb45c c69a7c685
Author: Justin Jaffray <justin.jaffray@gmail.com>
Date:   Wed Oct 14 12:33:10 2020 -0400

    Merge pull request #4463 from justinj/fuse
    
    Fuse Map/Filter/Project operators on top of a Get

commit c69a7c68559413540bdae85f6714dd7bf694ff5f
Author: Justin Jaffray <justin.jaffray@gmail.com>
Date:   Wed Oct 7 14:25:21 2020 -0400

    Fuse Map/Filter/Project operators on top of a Get
    
    This is part 1 of the work outlined in #4346, and builds off of #3258,
    where we detect map/filter/project chains already present in plans but
    do not attempt to synthesize them.
    
    I did some quick and dirty unscientific benchmarking and noticed some
    slight slowdown rather than any performance improvement, not sure if
    there are any thoughts on what might need to be done to see some
    improvement.

commit b9dbdb45c11e3c20e54be9deb65781a9a034a250
Merge: f34410fad e4db08d6c
Author: Nikhil Benesch <nikhil.benesch@gmail.com>
Date:   Tue Oct 13 22:51:00 2020 -0400

    Merge pull request #4491 from benesch/sql-stuff
    
    sql: minor cleanups

commit e4db08d6c9d1571a3c8a978dd4ac8959967d0c92
Author: Nikhil Benesch <nikhil.benesch@gmail.com>
Date:   Tue Oct 13 13:57:04 2020 -0400

    sql: auto-derive descriptions for SHOW queries
    
    This avoids duplicating the logic for the various modifiers that change
    the set of columns that are available, like "FULL" and "MATERIALIZED".
    
    It also makes the names of the columns match the names that they have in
    the query. This might be a bit disruptive, but it makes things much more
    consistent. The changes are fully described in the release notes.

commit dda383f7a98e0a61b660ba601ef4a5c35461faac
Author: Nikhil Benesch <nikhil.benesch@gmail.com>
Date:   Tue Oct 13 12:02:11 2020 -0400

    sql: add a helper to create an empty params

commit f34410fad9927fb69a4f8c4e2280c79d6f7c9fc9
Author: Jessica Laughlin <JLDLaughlin@users.noreply.github.com>
Date:   Tue Oct 13 19:04:05 2020 -0400

    pgcompat: add pg_catalog.pg_attribute (#4493)
    
    Adds incomplete pg_catalog.pg_attribute support.

commit db1887d70cb335382828c367f886bb54a4d6a2eb
Author: Andi Wang <5522362+wangandi@users.noreply.github.com>
Date:   Tue Oct 13 17:43:57 2020 -0400

    Create a join utility to avoid repeating code everywhere in joins. (#4414)
    
    Create a join utility to avoid repeating code everywhere in joins.

commit b2fddfd01d3a8a1f0646c994715b093f8e269117
Merge: 8b311e3e2 bcdf57aec
Author: Matt Jibson <matt.jibson@gmail.com>
Date:   Tue Oct 13 12:54:46 2020 -0600

    Merge pull request #4262 from mjibson/telemetry
    
    materialized: report and log version check status during startup

commit 8b311e3e298964b4cf1d1e216f8d6b53baa32f9c
Merge: 1fb18dd28 936fe8a55
Author: Nikhil Benesch <nikhil.benesch@gmail.com>
Date:   Tue Oct 13 14:42:29 2020 -0400

    Merge pull request #4486 from benesch/qual-equiv
    
    sql: fix qualified wildcards with trivial column equivalences

commit bcdf57aecbaa11745e30129aab54b20d715f418b
Author: Matt Jibson <matt.jibson@gmail.com>
Date:   Mon Sep 21 15:40:03 2020 -0600

    materialized: report and log version check status during startup
    
    By default in release mode, report the current version and check for
    the latest version at startup, and print a warning if there's another
    version available. The information sent in the request is the current
    version and a unique (and non-guessable) cluster id.
    
    Fixes #3580

commit 1fb18dd2890da8828a827c37b70f482dc858c963
Author: Jessica Laughlin <JLDLaughlin@users.noreply.github.com>
Date:   Tue Oct 13 10:35:53 2020 -0400

    docs: add psql meta command support to release notes (#4430)

commit ea036eed70284e5f9ec1a88cecebdd6197acea6f
Author: Chris Golden <551285+cirego@users.noreply.github.com>
Date:   Mon Oct 12 21:47:37 2020 -0700

    Relax minimum docker compose version to 1.25 (from 1.27) (#4489)
    
    Our CI tests use Docker Compose 1.25.4, so let's relax the version
    check.

commit e43ca3b491c6e4da605ddd2e0b247c8cf5497d98
Author: Chris Golden <551285+cirego@users.noreply.github.com>
Date:   Mon Oct 12 21:30:44 2020 -0700

    Require a minimum docker-compose version in mzcompose (#4413)
    
    I ran into a situation where my version of docker-compose was outdated,
    causing invocations of mzcompose to print the docker-compose help text.
    Older versions of docker-compose used the argument --project-directory,
    whereas newer versions use --project-name.
    
    Exit with a useful error message if the user's docker-compose version is
    too far out of date.
    
    Fixes #4432

commit 936fe8a55aab3aad76701c616d2f114ce752d415
Author: Nikhil Benesch <nikhil.benesch@gmail.com>
Date:   Mon Oct 12 21:37:55 2020 -0400

    sql: "improve" scope comments
    
    Wrap them at 80 characters and add a big warning label.

commit 6ebbb6e40e7e1a069ed2ae168e1a09259693a9e5
Author: Nikhil Benesch <nikhil.benesch@gmail.com>
Date:   Mon Oct 12 21:26:50 2020 -0400

    sql: fix qualified wildcards with trivial column equivalences
    
    Explicit inner joins with equality predicates trigger special behavior
    to match MySQL. (See the `find_trivial_column_equivalences` function for
    details.) This detection was interacting poorly with qualified wildcard
    expansion; columns detected as equivalent were incorrectly being
    considered part of both sides of the join.
    
    Fix #4477.

commit a3cf42a76d8b46a132418eb65ce68f2a7fb6b6cb
Merge: 75dcceddd a9220d354
Author: Nikhil Benesch <nikhil.benesch@gmail.com>
Date:   Mon Oct 12 21:26:37 2020 -0400

    Merge pull request #4475 from benesch/cat-updates-iv
    
    sql: minor catalog updates

commit a9220d354902c0db0f52661289ddbcedbac5bc52
Author: Nikhil Benesch <nikhil.benesch@gmail.com>
Date:   Fri Oct 2 00:31:43 2020 -0400

    sql: move SHOW handlers to new module
    
    The plan is to eventually split up the monolithic statement module
    completely.

commit 2d45112d76a6b9264dac7b304316cd11e8b2bfb9
Author: Nikhil Benesch <nikhil.benesch@gmail.com>
Date:   Fri Oct 2 00:17:18 2020 -0400

    coord: don't expose mz_temp schema
    
    We're going to need to think a bit harder about how to expose the
    mz_temp schema to users. It exists once per session, and I think
    therefore needs a new OID per session. Seems safer just to not expose it
    for now.

commit be7d5232ccfb86579985884d515e4cb0ffe50002
Author: Nikhil Benesch <nikhil.benesch@gmail.com>
Date:   Fri Oct 2 00:12:13 2020 -0400

    coord: don't expose ambient database
    
    The ambient database is hard to explain to users. Easier to just mark
    the database_id for the system schemas as NULL, which has the right
    implications ("these schemas don't belong to any database").

commit 75dcceddd9e31f2c43d5dcb25af65c87dd298536
Merge: a2e5a5d92 5ff229be7
Author: Matt Jibson <matt.jibson@gmail.com>
Date:   Mon Oct 12 18:50:48 2020 -0600

    Merge pull request #4480 from mjibson/mem-link
    
    www/public: add static memory vizualization page

commit a2e5a5d923be16993fd0cb7327a9e4a595bdb793
Merge: 4aef30d70 04e29f133
Author: Matt Jibson <matt.jibson@gmail.com>
Date:   Mon Oct 12 18:50:08 2020 -0600

    Merge pull request #4479 from mjibson/antichain-comment
    
    coord: document antichain assumption

commit 4aef30d7066bac9d78fcb791c0264740b3350cfe
Author: Chris Golden <551285+cirego@users.noreply.github.com>
Date:   Mon Oct 12 17:41:11 2020 -0700

    Add debugging script to dump kafka topics (#4485)
    
    This script will be used to snapshot Kafka topics so that we can reload
    them and test Materialize ingest performance by itself.

commit 57f5593acb1c50a11335cf83a55167bd614ad9b5
Author: Chris Golden <551285+cirego@users.noreply.github.com>
Date:   Mon Oct 12 17:40:58 2020 -0700

    Send chbench test output to a logfile (#4484)
    
    It's quite verbose and hides the status messages from chbench.
    
    Fixes #4438

commit 3b4a92ea58e78af0ad4d1d0f653911998729c8f0
Author: Chris Golden <551285+cirego@users.noreply.github.com>
Date:   Mon Oct 12 17:40:45 2020 -0700

    Enable configuring OLTP threads in chbench load-test (#4483)
    
    These tests hardcoded the number of writing threads at 1, severely
    limiting the number of messages being written to Kafka. Enable
    configuring this parameter in 'load-test' and 'load-test-postgres', just
    like we can configure this in 'cloud-load-test'.
    
    Fixes #4437

commit 90b0f4dc3152028377f261c1f60df8ffa333533d
Author: Chris Golden <551285+cirego@users.noreply.github.com>
Date:   Mon Oct 12 17:40:26 2020 -0700

    Expose prometheus ports in chbench (#4482)
    
    Helps with debugging to query Prometheus for metrics directly.

commit 5ff229be7b5bf4192f316531c1fa5badfa6567f1
Author: Matt Jibson <matt.jibson@gmail.com>
Date:   Thu Oct 8 14:57:12 2020 -0600

    www/public: add static memory vizualization page
    
    Memory graphs now present a share link that uses our static
    site. Information is passed via the URL hash as a JSON object. This will
    allow for it to be extended in the future. The hash is used instead of
    search ('?search') because the hash is not passed to the server by the
    browser. This reduces privacy issues and also avoids any URL limits
    by netlify (browsers may impose their own limits, but they are likely
    much higher).

commit dab3327abcd2b96a020a564905b6a7416dee559f
Merge: f14487a03 14ef4d17c
Author: Matt Jibson <matt.jibson@gmail.com>
Date:   Mon Oct 12 16:19:50 2020 -0600

    Merge pull request #4434 from mjibson/declone-index
    
    coord: explicitly copy instead of clone GlobalIds

commit f14487a0357f3c68b6bb2b3b46a6790b0c22df45
Author: Frank McSherry <fmcsherry@me.com>
Date:   Mon Oct 12 18:02:55 2020 -0400

    Determine only valid timestamps (#4467)

commit 04e29f133d8a10d87f6cc88e7949c3e4ba466503
Author: Matt Jibson <matt.jibson@gmail.com>
Date:   Mon Oct 12 15:59:31 2020 -0600

    coord: document antichain assumption
    
    This should make the code clearer for the next reader.

commit 14ef4d17ce72f1baeb258ce95db61ef4dc9a3970
Author: Matt Jibson <matt.jibson@gmail.com>
Date:   Fri Oct 9 14:01:28 2020 -0600

    coord: explicitly copy instead of clone GlobalIds

commit f4df981f5f05b46882e7e10cfa27efbc9e37fa07
Merge: 3fd086571 fee7b193c
Author: Nikhil Benesch <nikhil.benesch@gmail.com>
Date:   Mon Oct 12 16:35:36 2020 -0400

    Merge pull request #4428 from benesch/coord-client
    
    coord: introduce a client layer

commit fee7b193ceabd8fdac56ce51253ac7b193e23cf2
Author: Nikhil Benesch <nikhil.benesch@gmail.com>
Date:   Thu Oct 8 22:32:43 2020 -0400

    coord: introduce a client layer
    
    The coordinator's correctness relies on the fact that it runs on its own
    Tokio task (i.e., a thread equivalent). Interacting with the coordinator
    therefore requires sending commands over a channel, and then waiting
    upon a response channel.
    
    This patch introduces a coord::Client abstraction layer that manages the
    communication with the coordinator task. This greatly simplifies all
    code that interacts with the coordinator--pgwire, the HTTP server, and
    the sqllogictest runner--since complicated channel send and receives are
    replaced with simple method calls.
    
    Also upgrade to a more recent version of node-pg. Apparently the version
    we were using had a bug that was tickled by this refactor.

commit 3fd0865717766f1b895caa2dc7f8216ff94b65c9
Author: Jessica Laughlin <JLDLaughlin@users.noreply.github.com>
Date:   Mon Oct 12 16:00:01 2020 -0400

    pgcompat: support pg_catalog.pg_description (#4470)
    
    Adds incomplete support for pg_catalog.pg_description in order to
    support PgJDBC's getTables query.

commit 78f6e88ed89ff2026d3e50c8fabfb56b223f8566
Merge: c2fcd2818 ea5577d8a
Author: Nikhil Benesch <nikhil.benesch@gmail.com>
Date:   Mon Oct 12 13:51:00 2020 -0400

    Merge pull request #4454 from MaterializeInc/dependabot/cargo/backtrace-0.3.53
    
    build(deps): bump backtrace from 0.3.50 to 0.3.53

commit c2fcd2818a6a5d8f6ef9de5a8e5e1b55fabae442
Author: Brennan Vincent <brennan@materialize.io>
Date:   Mon Oct 12 13:44:55 2020 -0400

    SSL sink docs to match source docs (#4468)

commit 6ed6decacd27d17c4caa2a34c48576f667c705e4
Author: Nikhil Benesch <nikhil.benesch@gmail.com>
Date:   Thu Oct 8 15:45:49 2020 -0400

    pgwire: extract connection helper object
    
    Extract a dedicated FramedConn object that manages the sending and
    receiving of pgwire messages. Previously the protocol module had to
    build this up out of various Tokio and pgwire parts; this path
    centralizes that responsibility in the codec module.
    
    Most importantly, this scopes the borrows on the `send`/`recv` family of
    methods to just the `conn` field of `StateMachine`, which is important
    for the next commit.

commit 6462a2321ff3570705f87f4740d8dbed2e6072be
Merge: 6f273c4fd 5de39e68c
Author: Nikhil Benesch <nikhil.benesch@gmail.com>
Date:   Mon Oct 12 12:57:42 2020 -0400

    Merge pull request #4443 from benesch/mux-errors
    
    materialized: improve warn/error logs in the mux

commit ea5577d8a1069ee0ca86900dc95f96c83f9a449c
Author: dependabot-preview[bot] <27856297+dependabot-preview[bot]@users.noreply.github.com>
Date:   Mon Oct 12 16:55:55 2020 +0000

    build(deps): bump backtrace from 0.3.50 to 0.3.53
    
    Bumps [backtrace](https://github.com/rust-lang/backtrace-rs) from 0.3.50 to 0.3.53.
    - [Release notes](https://github.com/rust-lang/backtrace-rs/releases)
    - [Commits](https://github.com/rust-lang/backtrace-rs/compare/0.3.50...0.3.53)
    
    Signed-off-by: dependabot-preview[bot] <support@dependabot.com>

commit 6f273c4fd52bfa904a3778f274acb754cb6288ac
Merge: 5900188b0 c38a93d7e
Author: Nikhil Benesch <nikhil.benesch@gmail.com>
Date:   Mon Oct 12 12:53:53 2020 -0400

    Merge pull request #4450 from MaterializeInc/dependabot/cargo/cfg-if-1.0.0
    
    build(deps): bump cfg-if from 0.1.10 to 1.0.0

commit c38a93d7e0ad832829215bd68626c01fdf9510a9
Author: dependabot-preview[bot] <27856297+dependabot-preview[bot]@users.noreply.github.com>
Date:   Mon Oct 12 14:33:32 2020 +0000

    build(deps): bump cfg-if from 0.1.10 to 1.0.0
    
    Bumps [cfg-if](https://github.com/alexcrichton/cfg-if) from 0.1.10 to 1.0.0.
    - [Release notes](https://github.com/alexcrichton/cfg-if/releases)
    - [Commits](https://github.com/alexcrichton/cfg-if/compare/0.1.10...1.0.0)
    
    Signed-off-by: dependabot-preview[bot] <support@dependabot.com>

commit 5900188b03ff42915367518bcf76a8a8265af779
Merge: 7f0791be2 cad23dce7
Author: Nikhil Benesch <nikhil.benesch@gmail.com>
Date:   Mon Oct 12 11:13:54 2020 -0400

    Merge pull request #4462 from benesch/ban-strum
    
    avro: replace strum with enum-kinds crate

commit 7f0791be2e7dfbd8562cb6b472a8a3f100aca240
Author: Brandon W Maister <bwm@materialize.io>
Date:   Mon Oct 12 11:10:34 2020 -0400

    Fix links in misc/monitoring/README.md (#4431)

commit cad23dce7661b971ab1570248ee0496b79e36994
Author: Nikhil Benesch <nikhil.benesch@gmail.com>
Date:   Mon Oct 12 10:29:28 2020 -0400

    avro: replace strum with enum-kinds crate
    
    I'm suspicious of the code quality in strum; the crate also includes
    many more features than we need. Swap it for the much lighter and
    higher-quality enum-kinds crate.
    
    Fix #4456.
    Fix #4458.

commit 37291b3623d63276248dcd07f9ca554c8d12dde7
Merge: e0d90c716 1136d7d12
Author: Nikhil Benesch <nikhil.benesch@gmail.com>
Date:   Mon Oct 12 10:31:26 2020 -0400

    Merge pull request #4453 from benesch/bump-crossbeam
    
    deps: bump to crossbeam-channel v0.4.4

commit e0d90c7166d9dbbbef3afe10f25d683cfc59228a
Merge: 8891f285d f6ed9e4f5
Author: Nikhil Benesch <nikhil.benesch@gmail.com>
Date:   Mon Oct 12 02:26:22 2020 -0400

    Merge pull request #4452 from MaterializeInc/dependabot/cargo/syn-1.0.44
    
    build(deps): bump syn from 1.0.42 to 1.0.44

commit 8891f285d984907e1d43c058080dc667cb2fd827
Merge: 07311340a 1e8290f97
Author: Nikhil Benesch <nikhil.benesch@gmail.com>
Date:   Mon Oct 12 02:26:11 2020 -0400

    Merge pull request #4451 from MaterializeInc/dependabot/cargo/regex-1.4.0
    
    build(deps): bump regex from 1.3.9 to 1.4.0

commit 1136d7d12993577547a8d54411ee9811ff51473e
Author: Nikhil Benesch <nikhil.benesch@gmail.com>
Date:   Mon Oct 12 00:53:33 2020 -0400

    deps: bump to crossbeam-channel v0.4.4
    
    v0.4.3 contained undefined behavior that was fixed in v0.4.4.

commit 1e8290f97d236f214872e0dbca23a4010dfa8463
Author: dependabot-preview[bot] <27856297+dependabot-preview[bot]@users.noreply.github.com>
Date:   Mon Oct 12 04:52:15 2020 +0000

    build(deps): bump regex from 1.3.9 to 1.4.0
    
    Bumps [regex](https://github.com/rust-lang/regex) from 1.3.9 to 1.4.0.
    - [Release notes](https://github.com/rust-lang/regex/releases)
    - [Changelog](https://github.com/rust-lang/regex/blob/master/CHANGELOG.md)
    - [Commits](https://github.com/rust-lang/regex/compare/1.3.9...1.4.0)
    
    Signed-off-by: dependabot-preview[bot] <support@dependabot.com>

commit f6ed9e4f551ef4bb20d9a5d46622acee87ea746e
Author: dependabot-preview[bot] <27856297+dependabot-preview[bot]@users.noreply.github.com>
Date:   Mon Oct 12 04:51:40 2020 +0000

    build(deps): bump syn from 1.0.42 to 1.0.44
    
    Bumps [syn](https://github.com/dtolnay/syn) from 1.0.42 to 1.0.44.
    - [Release notes](https://github.com/dtolnay/syn/releases)
    - [Commits](https://github.com/dtolnay/syn/compare/1.0.42...1.0.44)
    
    Signed-off-by: dependabot-preview[bot] <support@dependabot.com>

commit 07311340abbdb90e2752265995ac78138a5ada6d
Merge: ed4ca466a d497dff38
Author: Nikhil Benesch <nikhil.benesch@gmail.com>
Date:   Mon Oct 12 00:50:11 2020 -0400

    Merge pull request #4449 from MaterializeInc/dependabot/cargo/structopt-0.3.19
    
    build(deps): bump structopt from 0.3.18 to 0.3.19

commit ed4ca466ab4e5e2834046a4d854168c172f334eb
Merge: 4a343d863 e44eae211
Author: Nikhil Benesch <nikhil.benesch@gmail.com>
Date:   Mon Oct 12 00:49:59 2020 -0400

    Merge pull request #4447 from MaterializeInc/dependabot/cargo/toml-0.5.7
    
    build(deps): bump toml from 0.5.6 to 0.5.7

commit 4a343d863f4d9fb2d34bb348817e257421415fc4
Merge: bf729add3 36741616b
Author: Nikhil Benesch <nikhil.benesch@gmail.com>
Date:   Mon Oct 12 00:49:46 2020 -0400

    Merge pull request #4446 from MaterializeInc/dependabot/cargo/anyhow-1.0.33
    
    build(deps): bump anyhow from 1.0.32 to 1.0.33

commit bf729add3c2f2242360777f71b69e1d58d188ced
Merge: e21393548 3677d6193
Author: Nikhil Benesch <nikhil.benesch@gmail.com>
Date:   Mon Oct 12 00:49:37 2020 -0400

    Merge pull request #4445 from MaterializeInc/dependabot/cargo/futures-0.3.6
    
    build(deps): bump futures from 0.3.5 to 0.3.6

commit e21393548ded2f7fae08769ec2aa025847f38d79
Merge: 0371dc96a 64e89d624
Author: Nikhil Benesch <nikhil.benesch@gmail.com>
Date:   Mon Oct 12 00:49:06 2020 -0400

    Merge pull request #4444 from MaterializeInc/dependabot/cargo/rusqlite-0.24.1
    
    build(deps): bump rusqlite from 0.24.0 to 0.24.1

commit d497dff38befa5211ce1d2d9a4058bc7b326a864
Author: dependabot-preview[bot] <27856297+dependabot-preview[bot]@users.noreply.github.com>
Date:   Mon Oct 12 03:50:22 2020 +0000

    build(deps): bump structopt from 0.3.18 to 0.3.19
    
    Bumps [structopt](https://github.com/TeXitoi/structopt) from 0.3.18 to 0.3.19.
    - [Release notes](https://github.com/TeXitoi/structopt/releases)
    - [Changelog](https://github.com/TeXitoi/structopt/blob/master/CHANGELOG.md)
    - [Commits](https://github.com/TeXitoi/structopt/compare/v0.3.18...v0.3.19)
    
    Signed-off-by: dependabot-preview[bot] <support@dependabot.com>

commit e44eae2111de4f6d6bff41bc7c788f9cbdeea1f1
Author: dependabot-preview[bot] <27856297+dependabot-preview[bot]@users.noreply.github.com>
Date:   Mon Oct 12 03:49:35 2020 +0000

    build(deps): bump toml from 0.5.6 to 0.5.7
    
    Bumps [toml](https://github.com/alexcrichton/toml-rs) from 0.5.6 to 0.5.7.
    - [Release notes](https://github.com/alexcrichton/toml-rs/releases)
    - [Commits](https://github.com/alexcrichton/toml-rs/compare/0.5.6...0.5.7)
    
    Signed-off-by: dependabot-preview[bot] <support@dependabot.com>

commit 36741616b439e49ac009ac5b20a194c5e5ef65e8
Author: dependabot-preview[bot] <27856297+dependabot-preview[bot]@users.noreply.github.com>
Date:   Mon Oct 12 03:49:23 2020 +0000

    build(deps): bump anyhow from 1.0.32 to 1.0.33
    
    Bumps [anyhow](https://github.com/dtolnay/anyhow) from 1.0.32 to 1.0.33.
    - [Release notes](https://github.com/dtolnay/anyhow/releases)
    - [Commits](https://github.com/dtolnay/anyhow/compare/1.0.32...1.0.33)
    
    Signed-off-by: dependabot-preview[bot] <support@dependabot.com>

commit 3677d61939230ee29aa1d92b2d74768c1be91ac2
Author: dependabot-preview[bot] <27856297+dependabot-preview[bot]@users.noreply.github.com>
Date:   Mon Oct 12 03:48:41 2020 +0000

    build(deps): bump futures from 0.3.5 to 0.3.6
    
    Bumps [futures](https://github.com/rust-lang/futures-rs) from 0.3.5 to 0.3.6.
    - [Release notes](https://github.com/rust-lang/futures-rs/releases)
    - [Changelog](https://github.com/rust-lang/futures-rs/blob/master/CHANGELOG.md)
    - [Commits](https://github.com/rust-lang/futures-rs/compare/0.3.5...0.3.6)
    
    Signed-off-by: dependabot-preview[bot] <support@dependabot.com>

commit 64e89d6246ef015637664df8a7504fcc69ab8cec
Author: dependabot-preview[bot] <27856297+dependabot-preview[bot]@users.noreply.github.com>
Date:   Mon Oct 12 03:48:21 2020 +0000

    build(deps): bump rusqlite from 0.24.0 to 0.24.1
    
    Bumps [rusqlite](https://github.com/rusqlite/rusqlite) from 0.24.0 to 0.24.1.
    - [Release notes](https://github.com/rusqlite/rusqlite/releases)
    - [Changelog](https://github.com/rusqlite/rusqlite/blob/master/Changelog.md)
    - [Commits](https://github.com/rusqlite/rusqlite/compare/0.24.0...v0.24.1)
    
    Signed-off-by: dependabot-preview[bot] <support@dependabot.com>

commit 5de39e68c4fe9463b4e99b649429397ff60c955d
Author: Nikhil Benesch <nikhil.benesch@gmail.com>
Date:   Sat Oct 10 13:02:10 2020 -0400

    materialized: improve warn/error logs in the mux
    
    These were broken by 47d1347, resulting in error messages like:
    
        materialized::mux: error handling connection: in pgwire server
    
    with no information about the actual error. This patch fixes the issue
    by ensuring that the underlying error is printed along with all of its
    causes.
    
    It also makes adding the name of the handler to the error message the
    responsibility of the mux, rather than the handler, so that handlers
    don't forget to add the appropriate context.
    
    Fix #4441.

commit 0371dc96a866c26213791c0805eeaee00753e2af
Author: Jessica Laughlin <JLDLaughlin@users.noreply.github.com>
Date:   Fri Oct 9 13:35:59 2020 -0400

    pgcompat: support pg_catalog.pg_index (#4429)
    
    Adds a simplified version of pg_catalog.pg_index as a system view
    in order to support psql meta commands. Other pg_index fields can
    and will be added as needed.

commit 3a2658da2fa851915f24d82bcc6bdaad2fc38591
Merge: 96a93c68f fd30b163d
Author: Matt Jibson <matt.jibson@gmail.com>
Date:   Fri Oct 9 09:46:30 2020 -0600

    Merge pull request #4425 from mjibson/mem-elapsed
    
    materialized: display elapsed operator time in memory viz

commit 96a93c68fa4e6ed860b170427e341e07a9b74c37
Merge: 14d828ae7 642f79289
Author: Brandon W Maister <bwm@materialize.io>
Date:   Fri Oct 9 09:24:59 2020 -0400

    Merge pull request #4422 from quodlibetor/debezium-dupe-diagnostics
    
    Improve Debezium duplicate-detection diagnostics

commit 14d828ae7657151fefebdbe73f3e5a6745b9fe14
Author: Jessica Laughlin <JLDLaughlin@users.noreply.github.com>
Date:   Thu Oct 8 19:52:56 2020 -0400

    pgcompat: Add relkind column to pg_catalog.pg_class (#4424)
    
    Adds the relkind column to the previously implemented pg_class system
    view. Does not currently differentiate between views and materialized
    views, marking them both as plan views.

commit fd30b163df8e28243feea95e9f4f4250fd17f0b2
Author: Matt Jibson <matt.jibson@gmail.com>
Date:   Thu Oct 8 15:52:19 2020 -0600

    materialized: display elapsed operator time in memory viz

commit aaf6cc5a156885dad8b7758431fdadb8cd7ebdc1
Author: Jessica Laughlin <JLDLaughlin@users.noreply.github.com>
Date:   Thu Oct 8 18:04:55 2020 -0400

    sql: support pg_catalog.pg_encoding_to_char (#4423)
    
    Adds limited support for pg_catalog.pg_encoding_to_char. Because
    Materialize only supports UTF8-encoded databases, this implementation
    only returns a value for UTF8's encoding id (6). Providing any other
    encoding id to this function will result in a NULL response.

commit 531266eedf22e478a4da2f4c6979f3336ce6e8d9
Merge: 54474fd76 5df336ac8
Author: Nikhil Benesch <nikhil.benesch@gmail.com>
Date:   Thu Oct 8 15:23:42 2020 -0400

    Merge pull request #4409 from benesch/show-consolidation
    
    catalog + SHOW commands cleanup

commit 54474fd7607879d94224cba76e8438bfdccdbc0c
Merge: 906e43e28 dd358baec
Author: Matt Jibson <matt.jibson@gmail.com>
Date:   Thu Oct 8 12:56:44 2020 -0600

    Merge pull request #4420 from mjibson/http-memory
    
    materialized: memory visualization page

commit 642f79289049f6716c6a8f3ae94234064b566eb3
Author: Brandon W Maister <bwm@materialize.io>
Date:   Thu Oct 8 12:03:41 2020 -0400

    Improve Debezium duplicate-detection diagnostics
    
    With this change we only emit `warn` logs when Debezium guarantees are violated.
    
    This preserves an info log when we see a surprising but legal message -- something behind
    the Debezium event frontier.
    
    This increases the state size for the track-full case, but a future PR will allow us to
    only temporarily enable full-id tracking, permanently flattening memory usage.

commit 906e43e2883db63163d83327194c69dc1c1ff3f3
Merge: caf8ef15c 0c876be1d
Author: Jessica Laughlin <JLDLaughlin@users.noreply.github.com>
Date:   Thu Oct 8 13:17:47 2020 -0400

    Support pg_catalog.pg_database (#4421)
    
    Adds limited support for pg_catalog.pg_database in order to support
    psql meta commands.

commit dd358baecf9d1a28569ae83f7f2ed47a78524f8c
Author: Matt Jibson <matt.jibson@gmail.com>
Date:   Wed Oct 7 14:23:53 2020 -0600

    materialized: memory visualization page
    
    This is a rudimentary but useful memory visualization page. It easily
    lists indexes and can graphviz them with record counts per operator. UI
    and feature improvements will come over time.
    
    Closes #4226

commit 0c876be1d2ac01742bbe52819d58dbb8e02727cc
Author: JLDLaughlin <jessica@materialize.io>
Date:   Thu Oct 8 11:38:47 2020 -0400

    Support pg_catalog.pg_database

commit caf8ef15cb9da2f46be0e9fb055cc6577d4c8719
Merge: 7c3009fb7 baa4c530b
Author: Nikhil Benesch <nikhil.benesch@gmail.com>
Date:   Thu Oct 8 11:03:01 2020 -0400

    Merge pull request #4417 from benesch/sql-expr-types
    
    sql: adjust type computation interfaces

commit 7c3009fb74742d32863b74f822385b26790208a6
Merge: 7b5ff13e7 48e76c16e
Author: Nikhil Benesch <nikhil.benesch@gmail.com>
Date:   Thu Oct 8 11:02:48 2020 -0400

    Merge pull request #4418 from JLDLaughlin/table-is-visible
    
    sql: support pg_catalog.pg_table_is_visible

commit 48e76c16e2b989dffd87cd3be6b2a2146c9653ed
Author: JLDLaughlin <jessica@materialize.io>
Date:   Wed Oct 7 18:24:48 2020 -0400

    sql: support pg_catalog.pg_table_is_visible
    
    Co-authored-by: Nikhil Benesch <nikhil.benesch@gmail.com>

commit fea60ab230bc13158bc5d8d4738524c8a85f9b52
Author: Nikhil Benesch <nikhil.benesch@gmail.com>
Date:   Wed Oct 7 23:05:23 2020 -0400

    sql: handle subqueries in sql_op!-based functions
    
    The sql_op! macro permits defining a function whose implementation is a
    SQL fragment that is executed in the context of the containing query.
    This patch teaches that macro to handle SQL fragments that contain
    subqueries.
    
    This new behavior unlocks some awesome expressivity, as subqueries can
    be correlated, and thus the implementation of a function can elegantly
    introduce a join, which will be important for some pgcompat functions.
    Unfortunately the implementation is a bit complicated, as it requires
    correcting column indexes for any correlated column references.

commit 7b5ff13e7a5d5940ce0377e66c7eab3f717e967c
Merge: 5f32cfbd9 e92a84fa9
Author: Andi Wang <5522362+wangandi@users.noreply.github.com>
Date:   Wed Oct 7 18:01:25 2020 -0400

    Merge pull request #4225 from wangandi/mergembta
    
    MBTA Demo

commit e92a84fa99acfc38726f9cc72164d94ab668c98e
Author: Andi Wang <andi@materialize.io>
Date:   Wed Oct 7 16:12:29 2020 -0400

    Rename mbta_to_mtrlz to mbta-to-mtrlz to comply with package naming conventions.

commit 5f32cfbd92cb1e55a84178baef4a7ea7cdb82981
Merge: 6358a4a84 fc9baeae7
Author: Ruchir Khaitan <ruchir0001@gmail.com>
Date:   Wed Oct 7 16:46:24 2020 -0400

    Merge pull request #4367 from ruchirK/rk-persistence-cluster-id
    
    coord,dataflow: tie persistence data to catalog versions (cluster_id)

commit 6358a4a847c354c555b9d14f20b76c7569e9623a
Merge: ffc274e83 653db6fab
Author: Nikhil Benesch <nikhil.benesch@gmail.com>
Date:   Wed Oct 7 16:46:19 2020 -0400

    Merge pull request #4415 from benesch/verbose-errors
    
    materialized: include causes in error messages

commit ffc274e83de23a329fb3de88fa83580b35de9371
Merge: 0de69be91 fccdfe314
Author: Matt Jibson <matt.jibson@gmail.com>
Date:   Wed Oct 7 14:42:33 2020 -0600

    Merge pull request #4416 from mjibson/billing-topic
    
    demo/billing: document how to create the billing topic

commit baa4c530b6b8620a652b14734036fcb79aff528b
Author: Nikhil Benesch <nikhil.benesch@gmail.com>
Date:   Wed Oct 7 16:41:49 2020 -0400

    sql: adjust type computation interfaces
    
    The SQL planner deals with both "coercible" and "coerced" scalar
    expressions. The main difference is that the type of a coerced
    expression is known, while the type of a coercible expression
    is possibly unknown.
    
    The ExprContext provides helper methods (column_type and scalar_type) to
    determine the column type and scalar type, respectively, of expressions.
    Until this patch, column_type could be called on either type of
    expression, while scalar_type could only be called on coerced
    expressions. Fix this wart by allowing both column_type and scalar_type
    to take either type of expression and return either a ScalarType or
    Option<ScalarType> as appropriate.

commit 0de69be91b74d756dd0ae006534036dbb4d2cfac
Merge: b1f190c36 1674a1800
Author: Matt Jibson <matt.jibson@gmail.com>
Date:   Wed Oct 7 14:25:34 2020 -0600

    Merge pull request #4412 from mjibson/http-sql
    
    materialized: add a SQL-over-HTTP interface

commit fc9baeae724a4c787cf74789c1e8275b007964ee
Author: Ruchir Khaitan <ruchir0001@gmail.com>
Date:   Fri Oct 2 12:55:50 2020 -0400

    coord,dataflow: tie persistence data to catalog versions (cluster_id)
    
    Closes #4029
    
    Previously, we had a ABA type of problem in source persistence where a user
    could take some previously persisted data, and swap out the corresponding catalog,
    at which point its possible that source global ids used in the persistent data
    no longer correspond to those in the catalog.
    
    This change makes it so that all persistent data remembers what catalog
    version it was created from, and refuses to ingest persistent data that does not
    belong to the same catalog.

commit fccdfe314683bb22b52b3042a3854ee6b16fb403
Author: Matt Jibson <matt.jibson@gmail.com>
Date:   Wed Oct 7 14:16:44 2020 -0600

    demo/billing: document how to create the billing topic

commit 2349632594fd84800d78b7d31c613896f21aad6b
Author: Ruchir Khaitan <ruchir0001@gmail.com>
Date:   Wed Oct 7 15:40:23 2020 -0400

    coord,sql: refactor catalog to know the base persistence path
    
    Also change the `internal_read_persisted_data` table function to correctly
    read from the actual persistence directory.

commit b1f190c36cc942e5372a3ef79cf6e183ac2490aa
Author: Jessica Laughlin <JLDLaughlin@users.noreply.github.com>
Date:   Wed Oct 7 16:13:09 2020 -0400

    sql: support ANY() array comparison function (#4410)
    
    Adds support for parsing the ANY() array comparison function. The
    implementation of ANY() can evaluate a subquery or an expr. Only =
    and != comparisons are implemented with this change.

commit 1674a18009f2013d18216d4baf930c38dd5bc453
Author: Matt Jibson <matt.jibson@gmail.com>
Date:   Wed Sep 30 15:06:13 2020 -0600

    materialized: add a SQL-over-HTTP interface
    
    This will be used for an upcoming memory visualizer HTML page. It should
    also be useable for a possible "type SQL into a box and see the results"
    page.
    
    Implement this by sending a SQL request to the coordinator from the
    HTTP server. We avoid users, logins, and sessions by using a system
    user which allows this to be stateless. From a security perspective,
    this is identical to the (lack of) controls we already have.

commit 653db6fabf07c2910cc93ebd6f7105a8c27af2e8
Author: Nikhil Benesch <nikhil.benesch@gmail.com>
Date:   Wed Oct 7 15:50:39 2020 -0400

    materialized: include causes in error messages
    
    anyhow::Error only prints causes if you use the alternate display
    implementation (`{:#}`) rather than the normal display implementation
    (`{}`). Correct the top-level error printing routine in materialized
    accordingly.
    
    This ensures that the underlying error when recreating a sink is
    actually printed, which helps in debugging #4401.

commit 5df336ac8453c7972763bc457383f62ef2c736dd
Author: Nikhil Benesch <nikhil.benesch@gmail.com>
Date:   Tue Oct 6 19:36:00 2020 -0400

    sql: use unqualified names in SHOW INDEX
    
    This makes SHOW INDEX much easier to read and more consistent with the
    other SHOW commands. There is no ambiguity, because the index and the
    object upon which it is built are always in the same database and
    schema.

commit 0de8ba9ff8c44bc5a82cdbe1067103f92bfcf951
Author: Nikhil Benesch <nikhil.benesch@gmail.com>
Date:   Tue Oct 6 19:09:43 2020 -0400

    test: consolidate show.td into other testdrive scripts
    
    The tests in show.td were largely redundant to the tests in other
    testdrive scripts. Remove the redundant ones, and sprinkle the
    nonredundant ones about.

commit f3bbc730885215b499804f1ef9837417307116d9
Author: Nikhil Benesch <nikhil.benesch@gmail.com>
Date:   Tue Oct 6 19:01:02 2020 -0400

    test: consolidate SHOW INDEX tests in indexes.td

commit 3777321a72294e025876ec541912df420928278d
Author: Nikhil Benesch <nikhil.benesch@gmail.com>
Date:   Tue Oct 6 18:46:55 2020 -0400

    test: remove duplicate tests from show.slt
    
    The tests of SHOW COLUMNS, SHOW VIEWS, and SHOW SOURCES are all covered
    in detail in testdrive scripts.

commit 4296e25f83818f02a9e98659fe3953912ef96464
Author: Nikhil Benesch <nikhil.benesch@gmail.com>
Date:   Tue Oct 6 18:44:48 2020 -0400

    test: consolidate SHOW TABLES tests in tables.td

commit d4cdce579b59e7086917454dc1dbbcb3e8ab7acf
Author: Nikhil Benesch <nikhil.benesch@gmail.com>
Date:   Tue Oct 6 18:42:23 2020 -0400

    test: consolidate SHOW SINKS tests in sinks.td

commit 82a4ef55c42e12969395310f1cc4837036511972
Author: Nikhil Benesch <nikhil.benesch@gmail.com>
Date:   Tue Oct 6 18:32:32 2020 -0400

    test: centralize SHOW {DATABASES,SCHEMAS} tests in catalog.td
    
    No need to have these tests split in two different places.

commit 59dfbcc846ce5c32733723dc75d5dd777e732b29
Author: Nikhil Benesch <nikhil.benesch@gmail.com>
Date:   Tue Oct 6 18:19:49 2020 -0400

    testdrive: merge catalog.td and mz-catalog.td
    
    This colocates things that need to be updated when adding a new system
    table.

commit 01f74ca9685c7f3aa059ecd87b2f49b874a5092b
Merge: c09f10017 d77e7e9a0
Author: Nikhil Benesch <nikhil.benesch@gmail.com>
Date:   Tue Oct 6 18:11:40 2020 -0400

    Merge pull request #4392 from benesch/doc-arrays
    
    doc/user: add documentation of array types

commit d77e7e9a03aebca05a9f56f1ac67e3413df91d10
Author: Nikhil Benesch <nikhil.benesch@gmail.com>
Date:   Tue Oct 6 18:06:57 2020 -0400

    doc/user: use .RenderString instead of markdownify filter
    
    The markdownify filter does not properly support render hooks, but the
    slightly-clunkier .RenderString method does. See gohugoio/hugo#6650 for
    context.
    
    The observable behavior of this is that markdownify does not properly
    add the base URL prefix (i.e. /docs) to links within its input, while
    RenderString does.

commit e802b491b2e304e022da91a7b075742435a56dd4
Author: Nikhil Benesch <nikhil.benesch@gmail.com>
Date:   Mon Oct 5 17:13:55 2020 -0400

    doc/user: add documentation of array types

commit c09f1001726bb16beff2642583113db97d90a1b8
Merge: 035483f84 42ad6403d
Author: Nikhil Benesch <nikhil.benesch@gmail.com>
Date:   Tue Oct 6 17:14:04 2020 -0400

    Merge pull request #4406 from MaterializeInc/docs-api
    
    doc/user: add simple versions API

commit 035483f8404021eba745e3eb7bce3a56d6fff069
Merge: 2ee1415cc 758d005f2
Author: Eli Lindsey <eli@siliconsprawl.com>
Date:   Tue Oct 6 16:45:07 2020 -0400

    Merge pull request #4405 from elindsey/doc
    
    fix a doc typo

commit 42ad6403d6297ffc4c4c1e9456643a146ced68cd
Author: Nikhil Benesch <nikhil.benesch@gmail.com>
Date:   Tue Oct 6 16:32:36 2020 -0400

    doc/user: add simple versions API
    
    This commit adds a new JSON endpoint that lists the versions of
    Materialize at:
    
        https://materialize.io/docs/versions.json
    
    The docs site already maintains the list of Materialize versions, so
    this amounts to a simple rendering problem. Having this API available
    simplifies the implementation of tools that want to ask questions like
    "what is the latest available Materialize version?"

commit 758d005f2755fab835333896b9b58212b31ed24a
Author: Eli Lindsey <eli@siliconsprawl.com>
Date:   Tue Oct 6 16:24:03 2020 -0400

    fix a doc typo

commit 2ee1415cc2657737268ad049f6db0b1c850dd73e
Author: Brennan Vincent <brennan@materialize.io>
Date:   Tue Oct 6 15:33:33 2020 -0400

    Make protobuf error messages more useful (#4404)

commit c649fd8bc029f4ab1ccae6a3a36e20710beb265c
Merge: 35ee18270 87ede7216
Author: Ruchir Khaitan <ruchir0001@gmail.com>
Date:   Tue Oct 6 15:15:45 2020 -0400

    Merge pull request #4189 from ruchirK/rk-simplify-sources
    
    Early exit when a dataflow operator is not active for a source

commit 35ee182701e2db59e6df91c3d436a2d2aeab530f
Merge: 26d436c3a 4cd61203e
Author: Sean Loiselle <sean@materialize.io>
Date:   Tue Oct 6 14:16:34 2020 -0400

    Merge pull request #4403 from sploiselle/default-progress-mode
    
    chbench: propagate default_progress_mode setting

commit 4cd61203e51cbfb321d05b7d3a6bd4d50e391b9b
Author: Sean Loiselle <himself@seanloiselle.com>
Date:   Tue Oct 6 14:05:30 2020 -0400

    chbench: propagate default_progress_mode setting

commit 26d436c3adb954baf50a01c38ce58c413899ac83
Merge: 27bca548d 8d1b2e9aa
Author: Nikhil Benesch <nikhil.benesch@gmail.com>
Date:   Tue Oct 6 13:21:15 2020 -0400

    Merge pull request #4398 from benesch/array-to-str
    
    sql: support array -> string casts

commit 8d1b2e9aaf9fa02ffc184afaa3044f439489bb5d
Author: Nikhil Benesch <nikhil.benesch@gmail.com>
Date:   Tue Oct 6 11:04:04 2020 -0400

    sql: support array -> string casts
    
    The code for this conversion already existed to facilitate the pgwire
    text encoding, but it wasn't possible to explicitly request that cast
    in SQL.

commit 27bca548d73cff976fcceff88a2e565e2f55585c
Merge: 83de27306 986be87fc
Author: Justin Jaffray <justin.jaffray@gmail.com>
Date:   Tue Oct 6 10:59:15 2020 -0400

    Merge pull request #4396 from justinj/deduplicate_reduce_keys
    
    Deduplicate reduce keys

commit 986be87fca8a8d3e1a32d44e54a85b17202c44c2
Author: Justin Jaffray <justin.jaffray@gmail.com>
Date:   Tue Oct 6 10:36:06 2020 -0400

    apply nit

commit 83de27306063eec6da37278eb2becdae7d216b7b
Merge: 78dbc76f3 db73a831f
Author: Nikhil Benesch <nikhil.benesch@gmail.com>
Date:   Tue Oct 6 10:19:57 2020 -0400

    Merge pull request #4390 from benesch/array-col
    
    sql: learn to invent column names for array literals

commit 87ede7216a5adb8c4feaa159626b11d53acaebf8
Author: Ruchir Khaitan <ruchir0001@gmail.com>
Date:   Mon Oct 5 16:42:56 2020 -0400

    dataflow: early exit on inactive sources

commit 78dbc76f358adde67722854279f53719a1d62cc3
Author: Brennan Vincent <brennan@materialize.io>
Date:   Mon Oct 5 16:23:35 2020 -0400

    Allow SSL sinks (#4388)

commit e1133ec49d4a0095d5b446ee13176c1c75c90357
Merge: 05187d9dd 7fb1eff8e
Author: Nikhil Benesch <nikhil.benesch@gmail.com>
Date:   Mon Oct 5 16:22:27 2020 -0400

    Merge pull request #4366 from benesch/cat-updates-iii
    
    coord: make mz_catalog_names a view

commit 05187d9dd36e6ee39e1b96fc96ab47376d803973
Merge: 10a4e77c2 6428c6d7b
Author: Eli Lindsey <eli@siliconsprawl.com>
Date:   Mon Oct 5 16:12:58 2020 -0400

    Merge pull request #4389 from elindsey/rmtrx
    
    remove the trx demo

commit 6428c6d7b24dda2afb3c91c60e7b29423c62daf3
Author: Eli Lindsey <eli@siliconsprawl.com>
Date:   Mon Oct 5 16:07:21 2020 -0400

    remove the trx demo
    
    The `simple` demo covers everything this one covers and more.

commit db73a831f3cd8272f7a8f2381121437e9f5a5043
Author: Nikhil Benesch <nikhil.benesch@gmail.com>
Date:   Mon Oct 5 15:46:56 2020 -0400

    sql: learn to invent column names for array literals

commit 10a4e77c27f9d91f2948349965a76ef462a9c968
Merge: b5783dfe4 b8deaac55
Author: Eli Lindsey <eli@siliconsprawl.com>
Date:   Mon Oct 5 15:41:13 2020 -0400

    Merge pull request #4387 from elindsey/exposedemo
    
    expose materialize port in 'simple' demo

commit b5783dfe4cabd0b3b0f5807292ff7754e1d7f283
Merge: d2ae2c9aa adf84901f
Author: Justin Jaffray <justin.jaffray@gmail.com>
Date:   Mon Oct 5 15:31:12 2020 -0400

    Merge pull request #4369 from justinj/transform-tests-2
    
    Add transform testing framework

commit 7fb1eff8ecd3b5bf6ad36b200bb7d0dda286087f
Author: Nikhil Benesch <nikhil.benesch@gmail.com>
Date:   Thu Oct 1 22:22:07 2020 -0400

    coord: make mz_catalog_names a view
    
    Now that we track tables, sources, etc. in their own tables,
    mz_catalog_names can be a simple view over mz_objects. This saves a good
    bit of bookkeeping.

commit 040c9374d12c6c8312f44e15e7fcf45472223a4f
Author: Nikhil Benesch <nikhil.benesch@gmail.com>
Date:   Mon Oct 5 12:30:46 2020 -0400

    coord: don't tie all views to presence of logging
    
    Many, but not all, built-in views depend on the availability of the
    built-in logging sources. We previously disabled *all* views when
    logging was disabled, since you can't install a view on a logging source
    if the logging source doesn't exist, but now we've got a bunch of
    pg_catalog views that don't depend on the logging sources. Get a bit
    smarter and learn to only disable the views that depend on logging
    sources when logging is disabled.

commit d2ae2c9aa6384b97097d6d31a7a7c55e762b3cb3
Merge: 6a71fa3bf 11b2ccfa9
Author: Nikhil Benesch <nikhil.benesch@gmail.com>
Date:   Mon Oct 5 15:26:30 2020 -0400

    Merge pull request #4385 from benesch/oid-testdrive
    
    testdrive: make oid test not dependent on system oids

commit 6a71fa3bf5bf6b78cb7af33a50e31a422e6a2e01
Merge: 36186b755 84517d1c2
Author: Nikhil Benesch <nikhil.benesch@gmail.com>
Date:   Mon Oct 5 15:25:54 2020 -0400

    Merge pull request #4386 from benesch/relnote-4361
    
    doc/user: add relnote for inter-view predicate pushdown bug (#4361)

commit b8deaac5548da18c7992a276758c953426d91f6b
Author: Eli Lindsey <eli@siliconsprawl.com>
Date:   Mon Oct 5 15:10:03 2020 -0400

    expose materialize port in simple demo

commit 84517d1c2a7010461e9d8e0547b1011564f842cd
Author: Nikhil Benesch <nikhil.benesch@gmail.com>
Date:   Mon Oct 5 14:57:12 2020 -0400

    doc/user: add relnote for inter-view predicate pushdown bug (#4361)

commit adf84901ff92048b7d64a30a4e32f26c68429c66
Author: Justin Jaffray <justin.jaffray@gmail.com>
Date:   Tue Sep 29 16:41:08 2020 -0400

    Add transform testing framework
    
    This is still in a pretty early stage but I am throwing it up here since
    we recently had a case that was hard to test directly from SQL. Thoughts
    welcome! The implementation could probably use some cleaning up.

commit 11b2ccfa914dc04e892f500c81aabd7d90808f53
Author: Nikhil Benesch <nikhil.benesch@gmail.com>
Date:   Mon Oct 5 14:37:44 2020 -0400

    testdrive: make oid test not dependent on system oids
    
    System OIDs are not stable, so testing for the existence of any
    particular OID means you have to update the test quite frequently. Just
    testing that a static OID can be transmitted through pgwire provides the
    same benefits with a bit less hassle.

commit 36186b755aa7ce9393904ae9fd298169d755c927
Author: Brandon W Maister <bwm@materialize.io>
Date:   Mon Oct 5 12:59:14 2020 -0400

    Delete the prometheus "demo" (#4381)
    
    It is an example prometheus config, but we do the right thing and point out that we
    expose prometheus metrics in the standard way on the docs/monitoring page.

commit eb8a53b50ec31ccc1352cab1d1201a5e45342066
Author: Brandon W Maister <bwm@materialize.io>
Date:   Mon Oct 5 12:54:29 2020 -0400

    release: Update checklist for clarity and new infrastructure (#4363)

commit b31f729c33b5444d8b3c6e5dd1f81ae362680e65
Merge: 99ff561f2 e23da4a11
Author: Nikhil Benesch <nikhil.benesch@gmail.com>
Date:   Mon Oct 5 12:21:46 2020 -0400

    Merge pull request #4365 from frankmcsherry/cla_fail_fix_4361
    
    Clear predicates for bare `Get` expressions

commit 99ff561f2f98da0d45330c41e69824fc0a6681f2
Merge: 27075d0a5 d9ca7c232
Author: Albert Wang <albert@materialize.io>
Date:   Mon Oct 5 11:32:33 2020 -0400

    Merge pull request #4379 from MaterializeInc/awang-patch-1
    
    adjust persistence copy

commit e23da4a1116321ca00fdb60d8fcadbe423dc677c
Author: Nikhil Benesch <nikhil.benesch@gmail.com>
Date:   Mon Oct 5 11:06:34 2020 -0400

    add test

commit 27075d0a50ab9be95efb84fab8c960365173a893
Author: Jessica Laughlin <JLDLaughlin@users.noreply.github.com>
Date:   Mon Oct 5 11:12:47 2020 -0400

    docs: define officially supported and play demos (#4357)
    
    There are two types of Materialize demos: officially supported demos
    and play demos. Officially supported demos are supported by the engineering
    team and are high-priority if broken. Play demos are not supported by the
    engineering team and will likely be created for the purpose of blog posts.

commit 944b71706b2093e7ea9472aef4db2d8e177c5e46
Merge: 85db23013 66a1ac2cb
Author: Nikhil Benesch <nikhil.benesch@gmail.com>
Date:   Mon Oct 5 10:03:47 2020 -0400

    Merge pull request #4372 from MaterializeInc/dependabot/cargo/async-trait-0.1.41
    
    build(deps): bump async-trait from 0.1.40 to 0.1.41

commit 85db23013122b00693edf86d312b4781b59d8fd1
Merge: f83f3cdf7 226ea2ffb
Author: Nikhil Benesch <nikhil.benesch@gmail.com>
Date:   Mon Oct 5 10:03:41 2020 -0400

    Merge pull request #4371 from MaterializeInc/dependabot/cargo/proc-macro2-1.0.24
    
    build(deps): bump proc-macro2 from 1.0.23 to 1.0.24

commit f83f3cdf734fc5927307fdc36b2863d6debf8b6d
Merge: 14f4f4cce 42d8e5630
Author: Nikhil Benesch <nikhil.benesch@gmail.com>
Date:   Mon Oct 5 10:03:33 2020 -0400

    Merge pull request #4377 from MaterializeInc/dependabot/cargo/serde_json-1.0.58
    
    build(deps): bump serde_json from 1.0.57 to 1.0.58

commit 14f4f4cce39f1732cbed6cd0f171d4d2b9c02d1b
Merge: f3f5895ce 18ff9381b
Author: Nikhil Benesch <nikhil.benesch@gmail.com>
Date:   Mon Oct 5 10:03:25 2020 -0400

    Merge pull request #4378 from MaterializeInc/dependabot/cargo/dogsdogsdogs-470db95
    
    build(deps): bump dogsdogsdogs from `ab404f9` to `470db95`

commit f3f5895ceb6a745c329ed6ccfa47a1ba0a58642a
Merge: 90a5b5e46 e9d41ca77
Author: Nikhil Benesch <nikhil.benesch@gmail.com>
Date:   Mon Oct 5 10:01:23 2020 -0400

    Merge pull request #4375 from MaterializeInc/dependabot/cargo/libc-0.2.79
    
    build(deps): bump libc from 0.2.77 to 0.2.79

commit 90a5b5e4684e6fc817adf27cc344df67f66201c4
Merge: 186636594 11fb5b3d9
Author: Nikhil Benesch <nikhil.benesch@gmail.com>
Date:   Mon Oct 5 10:01:02 2020 -0400

    Merge pull request #4374 from MaterializeInc/dependabot/cargo/chrono-0.4.19
    
    build(deps): bump chrono from 0.4.18 to 0.4.19

commit 186636594a2ce00aa6ca4c4aecf2d07fdd52f8a7
Merge: e458548a2 c32867cbe
Author: Nikhil Benesch <nikhil.benesch@gmail.com>
Date:   Mon Oct 5 10:00:39 2020 -0400

    Merge pull request #4376 from MaterializeInc/dependabot/cargo/tracing-0.1.21
    
    build(deps): bump tracing from 0.1.19 to 0.1.21

commit d9ca7c232e9ea36866efb0b029890b46ae5e2168
Author: Albert Wang <albert@materialize.io>
Date:   Mon Oct 5 09:56:12 2020 -0400

    adjust persistence copy

commit 18ff9381b27a76b4c1a014d8d05fb56cb09a1a9e
Author: dependabot-preview[bot] <27856297+dependabot-preview[bot]@users.noreply.github.com>
Date:   Mon Oct 5 10:35:43 2020 +0000

    build(deps): bump dogsdogsdogs from `ab404f9` to `470db95`
    
    Bumps [dogsdogsdogs](https://github.com/TimelyDataflow/differential-dataflow) from `ab404f9` to `470db95`.
    - [Release notes](https://github.com/TimelyDataflow/differential-dataflow/releases)
    - [Commits](https://github.com/TimelyDataflow/differential-dataflow/compare/ab404f9030d984776039848a3eb6d07ea75f430e...470db958f55c44111210a69ab5788444d99cdf49)
    
    Signed-off-by: dependabot-preview[bot] <support@dependabot.com>

commit 42d8e56304025ddb329470470b375d1e9067d418
Author: dependabot-preview[bot] <27856297+dependabot-preview[bot]@users.noreply.github.com>
Date:   Mon Oct 5 10:35:26 2020 +0000

    build(deps): bump serde_json from 1.0.57 to 1.0.58
    
    Bumps [serde_json](https://github.com/serde-rs/json) from 1.0.57 to 1.0.58.
    - [Release notes](https://github.com/serde-rs/json/releases)
    - [Commits](https://github.com/serde-rs/json/compare/v1.0.57...v1.0.58)
    
    Signed-off-by: dependabot-preview[bot] <support@dependabot.com>

commit c32867cbe4b50ecac34784a208e19008a084be45
Author: dependabot-preview[bot] <27856297+dependabot-preview[bot]@users.noreply.github.com>
Date:   Mon Oct 5 10:34:53 2020 +0000

    build(deps): bump tracing from 0.1.19 to 0.1.21
    
    Bumps [tracing](https://github.com/tokio-rs/tracing) from 0.1.19 to 0.1.21.
    - [Release notes](https://github.com/tokio-rs/tracing/releases)
    - [Commits](https://github.com/tokio-rs/tracing/compare/tracing-0.1.19...tracing-0.1.21)
    
    Signed-off-by: dependabot-preview[bot] <support@dependabot.com>

commit e9d41ca77d9f0a6d0b2d5346621e3bccef869af7
Author: dependabot-preview[bot] <27856297+dependabot-preview[bot]@users.noreply.github.com>
Date:   Mon Oct 5 10:34:25 2020 +0000

    build(deps): bump libc from 0.2.77 to 0.2.79
    
    Bumps [libc](https://github.com/rust-lang/libc) from 0.2.77 to 0.2.79.
    - [Release notes](https://github.com/rust-lang/libc/releases)
    - [Commits](https://github.com/rust-lang/libc/compare/0.2.77...0.2.79)
    
    Signed-off-by: dependabot-preview[bot] <support@dependabot.com>

commit 11fb5b3d9f2a82fda19d6a48004f5ef353e78338
Author: dependabot-preview[bot] <27856297+dependabot-preview[bot]@users.noreply.github.com>
Date:   Mon Oct 5 10:33:57 2020 +0000

    build(deps): bump chrono from 0.4.18 to 0.4.19
    
    Bumps [chrono](https://github.com/chronotope/chrono) from 0.4.18 to 0.4.19.
    - [Release notes](https://github.com/chronotope/chrono/releases)
    - [Changelog](https://github.com/chronotope/chrono/blob/main/CHANGELOG.md)
    - [Commits](https://github.com/chronotope/chrono/compare/v0.4.18...v0.4.19)
    
    Signed-off-by: dependabot-preview[bot] <support@dependabot.com>

commit 66a1ac2cb78a388f6631837c212fc94a29685edf
Author: dependabot-preview[bot] <27856297+dependabot-preview[bot]@users.noreply.github.com>
Date:   Mon Oct 5 10:33:04 2020 +0000

    build(deps): bump async-trait from 0.1.40 to 0.1.41
    
    Bumps [async-trait](https://github.com/dtolnay/async-trait) from 0.1.40 to 0.1.41.
    - [Release notes](https://github.com/dtolnay/async-trait/releases)
    - [Commits](https://github.com/dtolnay/async-trait/compare/0.1.40...0.1.41)
    
    Signed-off-by: dependabot-preview[bot] <support@dependabot.com>

commit 226ea2ffb135a87d66bd37a9813ea12bc4146dd6
Author: dependabot-preview[bot] <27856297+dependabot-preview[bot]@users.noreply.github.com>
Date:   Mon Oct 5 10:32:45 2020 +0000

    build(deps): bump proc-macro2 from 1.0.23 to 1.0.24
    
    Bumps [proc-macro2](https://github.com/alexcrichton/proc-macro2) from 1.0.23 to 1.0.24.
    - [Release notes](https://github.com/alexcrichton/proc-macro2/releases)
    - [Commits](https://github.com/alexcrichton/proc-macro2/compare/1.0.23...1.0.24)
    
    Signed-off-by: dependabot-preview[bot] <support@dependabot.com>

commit 157ecf433d023a651eebc3597ade5b9384c07511
Author: Andi Wang <andi@materialize.io>
Date:   Fri Oct 2 18:08:00 2020 -0400

    Fix broken links.

commit b461e5c7a81db09282db0e29deff0a6e02d64f36
Author: Andi Wang <andi@materialize.io>
Date:   Fri Oct 2 15:48:07 2020 -0400

    Add caveat about heartbeat.

commit 75143339ae4d8fe4c9cb631fa96d2f2e2061c5e7
Author: Andi Wang <andi@materialize.io>
Date:   Fri Oct 2 15:47:48 2020 -0400

    Remove commented out code.

commit 9ea9afba82789555755a867ffa530b68cfa74e2c
Author: Frank McSherry <fmcsherry@me.com>
Date:   Fri Oct 2 15:39:32 2020 -0400

    correct indexes

commit 46f92c090d5dc4e90990a55012bcac358a9888f8
Author: Andi Wang <andi@materialize.io>
Date:   Tue Sep 29 15:34:54 2020 -0400

    Do various renaming and cleanup.

commit 50e92a5fa88a7414fbad785a54f667ea3573ad07
Author: Frank McSherry <fmcsherry@me.com>
Date:   Fri Oct 2 15:11:51 2020 -0400

    deduplicate expressions in group key

commit 5cb4bd38c3333bb0430cf403db42acf84e32e133
Author: Frank McSherry <fmcsherry@me.com>
Date:   Fri Oct 2 13:22:32 2020 -0400

    improve comments

commit 6d3a937e6a690686d352efc554feef9157af6a1d
Author: Frank McSherry <fmcsherry@me.com>
Date:   Fri Oct 2 11:26:38 2020 -0400

    clear predicates for bare gets

commit e458548a25cc7bde5dced9f3302cbde4790bd8dd
Merge: 88a9d9899 7c1d0166e
Author: Ruchir Khaitan <ruchir0001@gmail.com>
Date:   Thu Oct 1 19:20:23 2020 -0400

    Merge pull request #4360 from ruchirK/rk-3770
    
    Add a lateral join query + persistence to the billing demo

commit 7c1d0166efee03af769eef59962da402eadee760
Author: Ruchir Khaitan <ruchir0001@gmail.com>
Date:   Thu Oct 1 18:57:26 2020 -0400

    demo/billing: enable persistence on the billing demo

commit d29701ed9990fd91494d84811f11e92f0b16b4cf
Author: Ruchir Khaitan <ruchir0001@gmail.com>
Date:   Thu Oct 1 18:47:08 2020 -0400

    demo/billing: add lateral join query to the billing demo
    
    Closes #3770

commit 88a9d989902f6329cb830db2062cb3dd751a81b0
Merge: ec1854735 4199f176f
Author: Eli Lindsey <eli@siliconsprawl.com>
Date:   Thu Oct 1 18:02:55 2020 -0400

    Merge pull request #4354 from MaterializeInc/colspec
    
    sql: support column specification in INSERTs

commit 4199f176f5e4fa91da236e4bd5cc8bbbe5f55e07
Author: Eli Lindsey <eli@siliconsprawl.com>
Date:   Thu Oct 1 17:34:45 2020 -0400

    take advantage of size_hint in has_duplicates

commit f21a770de8a7dadbc6b05059a24a4bc58fc0f85e
Author: Eli Lindsey <eli@siliconsprawl.com>
Date:   Thu Oct 1 17:33:52 2020 -0400

    sql: disallow duplicate column names in create table

commit eea391f5bb697bd83dca11735429144d15710c36
Author: Eli Lindsey <eli@siliconsprawl.com>
Date:   Thu Oct 1 11:52:22 2020 -0400

    sql: support column specification in INSERTs

commit ec18547350440daee360718187cdcd81cb20465a
Merge: 37b7e25c2 20bbbee0e
Author: Nikhil Benesch <nikhil.benesch@gmail.com>
Date:   Thu Oct 1 17:16:26 2020 -0400

    Merge pull request #4358 from benesch/fast-debug-bt
    
    deps: always compile adler + rustc-demangle with optimizations

commit 37b7e25c2d16aa455f10f72bcb2bb0d077fee1fe
Author: Jessica Laughlin <JLDLaughlin@users.noreply.github.com>
Date:   Thu Oct 1 16:55:38 2020 -0400

    docs: remove old developer demo (#4356)
    
    In an effort to reduce our demo maintenance burden, we want to eliminate
    redundant or out-of-date demos. The developer demo removed by this change
    is redundant with newer demos.

commit 20bbbee0e4e95a6c3062fa18b8f5e07830ebc5e7
Author: Nikhil Benesch <nikhil.benesch@gmail.com>
Date:   Thu Oct 1 16:47:02 2020 -0400

    deps: always compile adler + rustc-demangle with optimizations
    
    adler in particular is critical to the speed of backtrace generation.
    If compiled without optimizations, generating a backtrace in a debug
    build takes nearly a minute. With optimizations, generating a backtrace
    takes only a few seconds.
    
    rustc-demangle is included for good measure, so that the rule is that
    any transitive dependency of the backtrace crate is compiled with
    optimizations, even in debug builds.

commit 0cff95c648f4d52f9d416b4d0db900b0c581e16e
Merge: a07f08ae7 64d1f7ada
Author: Nikhil Benesch <nikhil.benesch@gmail.com>
Date:   Thu Oct 1 15:52:16 2020 -0400

    Merge pull request #4349 from benesch/bc-policy
    
    doc/user: add notes about versioning and backwards compatibility

commit a07f08ae7e9fb26e9f522a29d116b753b4ec7e14
Merge: 09efdab50 a5203e782
Author: Nikhil Benesch <nikhil.benesch@gmail.com>
Date:   Thu Oct 1 14:58:29 2020 -0400

    Merge pull request #4355 from benesch/downgrade-zstd-sys
    
    deps: downgrade to zstd v1.4.4

commit 64d1f7ada76f945e1cb41a45b1507acd125118a0
Author: Nikhil Benesch <nikhil.benesch@gmail.com>
Date:   Wed Sep 30 14:11:47 2020 -0400

    doc/user: add notes about versioning and backwards compatibility
    
    Fix #3985.

commit a5203e7821f4a60d0fb5fce717d8866fd44ad2ed
Author: Nikhil Benesch <nikhil.benesch@gmail.com>
Date:   Thu Oct 1 12:49:49 2020 -0400

    deps: downgrade to zstd v1.4.4
    
    v1.4.5 has a bug that can cause librdkafka to fail to decompress valid
    messages. See facebook/zstd#2222. Apparently v1.4.4 does not exhibit
    this bug.
    
    v1.4.6 will contain a proper fix, but it's not been released yet.

commit 09efdab5020c9dfb2b72b6c597ccef59cde01758
Merge: 7f60e4779 ef8cd40c5
Author: Nikhil Benesch <nikhil.benesch@gmail.com>
Date:   Thu Oct 1 12:46:49 2020 -0400

    Merge pull request #4352 from benesch/prepare-v0.4.5-dev
    
    Prepare next phase of development: v0.4.5-dev

commit 7f60e477981a2984bf9a8df27ad47b6667e62874
Author: Jessica Laughlin <JLDLaughlin@users.noreply.github.com>
Date:   Thu Oct 1 11:30:07 2020 -0400

    sql: support equality comparisons for oids (#4348)

commit 8bd95903dd9989b2e524a507101f1e540f11b4d5
Author: Brandon W Maister <bwm@materialize.io>
Date:   Thu Oct 1 10:34:43 2020 -0400

    mkrelease: Prompt to push the tag if we know how to (#4337)

commit ef8cd40c50990fbfae549408ccdd901ce8b706c2
Author: Nikhil Benesch <nikhil.benesch@gmail.com>
Date:   Thu Oct 1 10:16:17 2020 -0400

    Prepare next phase of development: v0.4.5-dev

commit 7e5361dd505ba8cdb201e4858d623b45982ba89d
Author: Brennan Vincent <brennan@materialize.io>
Date:   Thu Oct 1 10:02:40 2020 -0400

    Bump Linux deploy timeout to 30m (#4350)

commit 078c31efc7247ebef8c2befc1a155f603b0a979a
Merge: 1e0178e3a 1a2ee650a
Author: Nikhil Benesch <nikhil.benesch@gmail.com>
Date:   Wed Sep 30 18:27:27 2020 -0400

    Merge pull request #4342 from benesch/zstd
    
    dataflow: enable reading zstd-compressed Kafka topics

commit 1e0178e3a32482c9270d6b4e9ad3e4ec387a7a2a
Author: Jessica Laughlin <JLDLaughlin@users.noreply.github.com>
Date:   Wed Sep 30 18:18:54 2020 -0400

    Fix ScalarType::Oid panic (#4347)
    
    Materialize currently panics for any query that returns a ScalarType::Oid column.
    This change adds support for converting Materialize Datums with an oid type to
    Postgres' Int4 type.

commit 4b9afdbe21815732d25da903c3383d113f811f11
Author: Jessica Laughlin <JLDLaughlin@users.noreply.github.com>
Date:   Wed Sep 30 17:29:40 2020 -0400

    sql: support current_schemas() (#4344)
    
    Adds support for Postgres' current_schemas function. current_schemas() returns
    the names of all schemas present in the catalog's search path.

commit 6edf1b68577520e2b39019c8beb9e5611fcd05d7
Merge: fdc86c4f0 2f160df16
Author: Nikhil Benesch <nikhil.benesch@gmail.com>
Date:   Wed Sep 30 15:50:45 2020 -0400

    Merge pull request #4345 from benesch/array-buglet
    
    pg_compat: miscellaneous fallout

commit 2f160df163e56fae76be16599773b57ff2868a45
Author: Nikhil Benesch <nikhil.benesch@gmail.com>
Date:   Wed Sep 30 15:11:58 2020 -0400

    sql: add stub implementation of obj_description
    
    This function returns the comment on a database object, but we don't
    presently support comments.

commit b21f96695d5293358dc90d8f553dd919a5b0f09a
Author: Nikhil Benesch <nikhil.benesch@gmail.com>
Date:   Wed Sep 30 15:06:11 2020 -0400

    sql: fix array type coercion in function selection code
    
    ParamType::accepts_type_implicitly should be true for
    ParamType::ArrayAny when the concrete type is an array type.

commit fdc86c4f0fe1b6e4045a7f39f049ccd3cf4201a0
Merge: cbbc5113b 5d9adda5e
Author: Nikhil Benesch <nikhil.benesch@gmail.com>
Date:   Wed Sep 30 14:57:03 2020 -0400

    Merge pull request #4333 from benesch/array-to-string
    
    sql: support array_to_string

commit cbbc5113b657718299ddb23a47b45b869c43f79e
Merge: 34de4ffd2 d671641b1
Author: Nikhil Benesch <nikhil.benesch@gmail.com>
Date:   Wed Sep 30 14:56:48 2020 -0400

    Merge pull request #4343 from benesch/pg-namespace-complete
    
    coord: add stub nspacl column to pg_namespace

commit 1a2ee650add56583ebebcf8f1b3b11fe224315eb
Author: Nikhil Benesch <nikhil.benesch@gmail.com>
Date:   Wed Sep 30 10:49:00 2020 -0400

    dataflow: enable reading zstd-compressed Kafka topics
    
    Support for this is already builtin into librdkafka. Just needed to
    enable the "zstd" feature.
    
    This commit adds some testdrive tests that use compressed topics, too,
    to protect against future regressions.

commit d671641b18b72658784fa749d2d87a8dfc6a1eb9
Author: Nikhil Benesch <nikhil.benesch@gmail.com>
Date:   Wed Sep 30 11:20:00 2020 -0400

    coord: add stub nspacl column to pg_namespace
    
    pg_namespace now has all the columns that are present in PostgreSQL,
    though nspowner and nspacl are stubs because we don't support users or
    role-based access control.

commit 5d9adda5e0c1bdc4534c9e6344427914bc96f20a
Author: Nikhil Benesch <nikhil.benesch@gmail.com>
Date:   Tue Sep 29 16:04:13 2020 -0400

    sql: support array_to_string
    
    Required for PostgreSQL compatibility.
    
    Fix #4274.

commit 34de4ffd2eb940589b8646564a4772b977c55426
Author: Brennan Vincent <brennan@materialize.io>
Date:   Wed Sep 30 13:39:29 2020 -0400

    Wire up CDCv2 over Avro (#4335)

commit f90fd992d5be4ff91e61338732ddecbc267dda80
Merge: fc3cdc6ad f22356cb0
Author: Nikhil Benesch <nikhil.benesch@gmail.com>
Date:   Wed Sep 30 13:16:47 2020 -0400

    Merge pull request #4340 from benesch/index-names
    
    coord: add mz_objects view + use it to power pg_class

commit f22356cb05b3f4bb75e5c6b4325c2b2c35f75db7
Author: Nikhil Benesch <nikhil.benesch@gmail.com>
Date:   Wed Sep 30 12:31:37 2020 -0400

    coord: use oid type in mz_catalog tables

commit 63c9ba7550f304de49f03ea720e0087046948a15
Author: Nikhil Benesch <nikhil.benesch@gmail.com>
Date:   Wed Sep 30 00:40:16 2020 -0400

    coord: simplify implementation of pg_class
    
    The new mz_objects view is exactly what we need to power pg_class.

commit 046a6c700f8cacb662ae9c7c5c6acd7cf6a3fbab
Author: Nikhil Benesch <nikhil.benesch@gmail.com>
Date:   Wed Sep 30 00:28:21 2020 -0400

    coord: add mz_objects view
    
    An object includes every relation in mz_relations, plus sinks and
    indexes. This view will help to simplify the implementation of pg_class.

commit 275b301272da8a10715be6127e45bd6feab720f6
Author: Nikhil Benesch <nikhil.benesch@gmail.com>
Date:   Wed Sep 30 00:17:21 2020 -0400

    coord: add mz_relations view
    
    A relation is anything with columns, so a table, source, or view.
    This view will help to simplify the implementation of pg_class.

commit 5b9819e2b0908f5199bdb279c58c5e5feae0a702
Author: Nikhil Benesch <nikhil.benesch@gmail.com>
Date:   Wed Sep 30 00:11:23 2020 -0400

    coord: include index names in mz_indexes
    
    The name of the index is important for pg_catalog views.

commit fc3cdc6ad4453b9d50e7f3d6c3a5a2d2a203a356
Merge: 078bbf6cd 5c98b9946
Author: Nikhil Benesch <nikhil.benesch@gmail.com>
Date:   Wed Sep 30 01:54:58 2020 -0400

    Merge pull request #4244 from benesch/pr-guide
    
    doc/dev: add guide about submitting/reviewing PRs

commit 078bbf6cdb1a87f5f4803c086651e8eb4b729003
Merge: 04a8fcc3d b908d4476
Author: Nikhil Benesch <nikhil.benesch@gmail.com>
Date:   Tue Sep 29 19:57:42 2020 -0400

    Merge pull request #4331 from benesch/arrays-sql
    
    sql: support array types

commit 04a8fcc3d8d90f49c4157b90c2eda3d4d0940003
Merge: 0d9560ac8 c49786a3a
Author: Nikhil Benesch <nikhil.benesch@gmail.com>
Date:   Tue Sep 29 19:42:21 2020 -0400

    Merge pull request #4334 from benesch/track-caller
    
    repr: add track_caller annotation to Datum::unwrap_* methods

commit b908d4476084e671a00da9570a6e081fe00e6c7a
Author: Nikhil Benesch <nikhil.benesch@gmail.com>
Date:   Tue Sep 29 14:49:00 2020 -0400

    sql: support array types
    
    Split from #4305. Touches #1248.
    
    This commit adds enough support for PostgreSQL-style array types to the
    SQL layer that they can be constructed (in experimental mode) and sent
    over the wire in either the text or binary format.
    
    The goal here is to unlock pg_catalog views that require arrays, not to
    make these arrays generally usable for end users. Users should in
    general use lists, not arrays.

commit 0d9560ac8dcc852b06770d4b46d4b0389503fe7e
Author: Jessica Laughlin <JLDLaughlin@users.noreply.github.com>
Date:   Tue Sep 29 17:47:41 2020 -0400

    coord: add part of pg_catalog.pg_class (#4332)
    
    Creates a new builtin pg_class view with the following fields
    implemented: oid, relname, relnamespace, and relowner.

commit 8456d7a650bdf65934d53b2b8c3bcc9ea9f6e36e
Merge: 165225b05 42283e8ce
Author: Nikhil Benesch <nikhil.benesch@gmail.com>
Date:   Tue Sep 29 17:04:36 2020 -0400

    Merge pull request #4336 from benesch/relnotes
    
    doc/user: small fixups for release notes

commit 42283e8ce6e0b446a2828fae5541f532e45ef83f
Author: Nikhil Benesch <nikhil.benesch@gmail.com>
Date:   Tue Sep 29 16:56:24 2020 -0400

    doc/user: fix broken link to oid type in release notes

commit 124e456cafef7381f2bc9e21d055cf817aa89c89
Author: Nikhil Benesch <nikhil.benesch@gmail.com>
Date:   Tue Sep 29 16:55:57 2020 -0400

    doc/user: standardize bullet style

commit ab5d9bcc509f724e308460e2825752ada1876aed
Author: Nikhil Benesch <nikhil.benesch@gmail.com>
Date:   Tue Sep 29 16:54:42 2020 -0400

    doc/user: add shortcode for rendering release note headers
    
    This makes it trivial to include the release date, too, by pulling it
    from the same list that powers the list of versions on the versions
    page.

commit c49786a3ab8d79ad6afcb26b06ec46beab595afb
Author: Nikhil Benesch <nikhil.benesch@gmail.com>
Date:   Tue Sep 29 16:07:52 2020 -0400

    repr: add track_caller annotation to Datum::unwrap_* methods
    
    When the `#[track_caller]` attribute is attached to a function, panics
    in that function are reported to occur in the function's caller. The
    Rust standard library has been using this to excellent effect on
    `{Result,Option}::unwrap`. Do the same for our `Datum::unwrap_*` suite
    of functions.

commit 165225b054f4d35befcaf9896d23bd25ed34bb4b
Author: Jessica Laughlin <JLDLaughlin@users.noreply.github.com>
Date:   Tue Sep 29 15:03:41 2020 -0400

    catalog: include keys when creating Builtin::Table Indexes (#4330)
    
    Previously, the code creating and inserting indexes for our builtin system tables was
    erroneously creating indexes with no keys. This meant that the indexes for the system
    tables were not being inserted into the mz_indexes system table.
    
    This change updates the definitions of the system table indexes to use their default
    keys, instead.

commit 0b20b74c26fe291175d60a9062755b36bc68e571
Merge: 453f0cadb 6ed31788b
Author: Nikhil Benesch <nikhil.benesch@gmail.com>
Date:   Tue Sep 29 14:29:54 2020 -0400

    Merge pull request #4329 from benesch/array-storage
    
    repr: add support for storing arrays

commit 6ed31788b46b839394f1069c7b9fdf227e78a428
Author: Nikhil Benesch <nikhil.benesch@gmail.com>
Date:   Tue Sep 29 12:32:33 2020 -0400

    repr: add support for storing arrays
    
    Split out from #4305. Touches #1248. Important for PostgreSQL
    compatibility.
    
    This commit only includes the support for packing arrays into rows.
    Nothing besides unit tests actually uses these arrays yet. Future
    commits will wire up array creation to the SQL layer.

commit 453f0cadbf883f93727a1168a588c039cc00814d
Merge: ab60754a4 6bb57973c
Author: Nikhil Benesch <nikhil.benesch@gmail.com>
Date:   Tue Sep 29 12:30:42 2020 -0400

    Merge pull request #4323 from benesch/array-parsing
    
    sql-parser: learn to parse array literals and data types

commit ab60754a4b5c4b42ade19f00ee791f34127530d2
Author: Eli Lindsey <eli@siliconsprawl.com>
Date:   Tue Sep 29 10:48:31 2020 -0400

    add support for lpad (#4320)
    
    Description of lpad:
    Fill up the string to length length by prepending the characters fill (a
    space by default). If the string is already longer than length then it
    is truncated (on the right).

commit 19d61999d2c4bbde5e64a9cd87050cea9d57c7f0
Merge: 3973eb846 deca34b17
Author: Nikhil Benesch <nikhil.benesch@gmail.com>
Date:   Tue Sep 29 10:35:40 2020 -0400

    Merge pull request #4322 from MaterializeInc/more-pg-namespace
    
    pg_compat: support \dn in psql

commit 6bb57973c7c51aa61ec38672da23be2ea2ca4957
Author: Nikhil Benesch <nikhil.benesch@gmail.com>
Date:   Tue Sep 29 01:23:15 2020 -0400

    sql-parser: learn to parse array literals and data types
    
    Split out from #1248. Important for PostgreSQL compatability work.
    Touches #1248.

commit deca34b17ae8766603dc83220602de1669a85719
Author: Nikhil Benesch <nikhil.benesch@gmail.com>
Date:   Tue Sep 29 01:09:18 2020 -0400

    coord: add oids to pg_namespace view
    
    This makes \dn work in psql.

commit df4b7f1292e911d1d3e3b40fbfff2a6c27ffe844
Author: Nikhil Benesch <nikhil.benesch@gmail.com>
Date:   Tue Sep 29 01:03:45 2020 -0400

    sql: add stub support for pg_get_userbyid
    
    This is just a stub function for PostgreSQL compatibility. At the moment
    it always returns "unknown" since we don't yet support users.
    
    Fix #4272.

commit 6584c6716031dae2aee07e89e69601c79e87451e
Author: Nikhil Benesch <nikhil.benesch@gmail.com>
Date:   Tue Sep 29 00:58:04 2020 -0400

    expr,sql: fix casts to oid
    
    Using a no-op cast was not correct. We need to use a dummy function in
    order to actually convert the type from Int32 to Oid.

commit 3973eb846fbfb0880a7dc1ef0625e96f5353a1c3
Author: Brennan Vincent <brennan@materialize.io>
Date:   Tue Sep 29 00:16:34 2020 -0400

    Break Confluent-style Avro parsing into its own chunk of code, separate from the main Avro decoder (#4318)

commit 3050d5f0995db108bf2ce0c6b65a3a49446481ba
Merge: b77b06a35 53073820b
Author: Nikhil Benesch <nikhil.benesch@gmail.com>
Date:   Mon Sep 28 23:38:01 2020 -0400

    Merge pull request #4317 from benesch/pycheck
    
    bin/pycheck: fix bugs + simplify

commit b77b06a35c5da7991ea967d31dc5f98b46ac8c31
Author: Jessica Laughlin <JLDLaughlin@users.noreply.github.com>
Date:   Mon Sep 28 22:46:55 2020 -0400

    catalog: Support Postgres OIDs (#4316)
    
    Postgres OIDs are object identifiers implemented as unsigned four-byte
    integers. This change adds an OID to each database, schema, index, table,
    source, view, and sink in a Materialize instance. OIDs are not persisted
    and will change on restart.
    
    Adding OID support was necessary to unblock supporting pg_catalog. Future
    OID work potentially includes allowing OIDs to wrap around the current
    u32::max limit (#4319).

commit 136200edb3a903309013506f35b8894aba36d7a9
Merge: 5a2a95660 5ba40bb2c
Author: Andi Wang <5522362+wangandi@users.noreply.github.com>
Date:   Mon Sep 28 19:35:26 2020 -0400

    Merge pull request #4321 from wangandi/4192mergeskew
    
    Fix merge skew from merging #4192. Id of `baz` has changed as a result of #4292.

commit 5ba40bb2c7315c4e4e670a1d44e098fcf030fa0f
Author: Andi Wang <andi@materialize.io>
Date:   Mon Sep 28 19:21:05 2020 -0400

    Fix merge skew. Id of `baz` has changed as a result of #4292.

commit 5a2a95660a6bab2d10ec75b8baa2055262bab63e
Merge: 3439a706c e3076af01
Author: Andi Wang <5522362+wangandi@users.noreply.github.com>
Date:   Mon Sep 28 18:23:15 2020 -0400

    Merge pull request #4192 from wangandi/joinexprimplement
    
    Planning: Allow JoinImplementation to work with expression join keys.

commit 5c98b99460e3888ddeff586fa66ee2af381c1b16
Author: Nikhil Benesch <nikhil.benesch@gmail.com>
Date:   Mon Aug 24 11:53:55 2020 -0400

    doc/dev: add guide about submitting/reviewing PRs

commit 53073820b90360d64876c3b518c61ca9c96bd2b8
Author: Nikhil Benesch <nikhil.benesch@gmail.com>
Date:   Mon Sep 28 16:32:04 2020 -0400

    misc/python: remove separate CI requirements file
    
    Now that the CI requirements are necessary for pycheck, there isn't much
    point to having separate dev and CI environments. It's mostly just
    unnecessary complexity.

commit e8331cfae3efb56a095146cb39fb83e448d76bf8
Author: Nikhil Benesch <nikhil.benesch@gmail.com>
Date:   Mon Sep 28 16:27:12 2020 -0400

    bin/pycheck: fix bugs
    
    There is no `--ci` argument to bin/pyactivate. CI mode is activated by
    setting the "CI" environment variable to a truthy value. This wasn't
    properly failing the script because the `try` command was executed in a
    subshell. Fix that by passing the sysroot to `pytest` as a command line
    argument, rather than changing the CWD.

commit 3439a706c0fb201220f3fb371f59b2a26ced67d0
Merge: b234d9b43 5317cdfa7
Author: Nikhil Benesch <nikhil.benesch@gmail.com>
Date:   Mon Sep 28 16:09:17 2020 -0400

    Merge pull request #4315 from benesch/dev-web
    
    materialized: hot reload web static assets in development

commit 5317cdfa7ebe5d889ea7d2355c4d57f2822add1f
Author: Nikhil Benesch <nikhil.benesch@gmail.com>
Date:   Mon Sep 28 15:22:31 2020 -0400

    materialized: hot reload web static assets in development
    
    Add a development feature to allow hot-reloading static assets, like
    CSS/JS files. This makes developing the web UI much more pleasant, as
    changing CSS/JS no longer requires a recompile.

commit b234d9b4342ccdd92babc9ee7185a762ab4ac6fd
Merge: 4db917637 1ce6b04cf
Author: Justin Jaffray <justin.jaffray@gmail.com>
Date:   Mon Sep 28 14:59:24 2020 -0400

    Merge pull request #4259 from justinj/read-data
    
    Add a table function to view persisted records

commit 1ce6b04cff52e5e1927cb70277e3399b94e25a41
Author: Justin Jaffray <justin.jaffray@gmail.com>
Date:   Wed Sep 9 15:24:21 2020 -0400

    Add a table function to view persisted records
    
    A little loose at the moment since I think it's a bit of a pain to
    thread through the configured persistence directory, but should enable
    some amount of testing. I tried to factor out the behaviour here as much
    as I could but it was a bit of a pain. I'm a bit unsure about the
    package boundaries in general here.

commit 4db917637b9da0ab2dff0c4dbbe7d5f549e79f47
Merge: 460c117aa 75b9835ae
Author: Nikhil Benesch <nikhil.benesch@gmail.com>
Date:   Mon Sep 28 13:48:16 2020 -0400

    Merge pull request #4314 from MaterializeInc/dependabot/cargo/differential-dataflow-ab404f9
    
    build(deps): bump differential-dataflow from `b1355d3` to `ab404f9`

commit 460c117aadeea5e8f15cc3edb3a0c83ca41a03b2
Merge: 176fa7bcc a29bd9e6b
Author: Nikhil Benesch <nikhil.benesch@gmail.com>
Date:   Mon Sep 28 11:33:38 2020 -0400

    Merge pull request #4310 from MaterializeInc/dependabot/cargo/syn-1.0.42
    
    build(deps): bump syn from 1.0.41 to 1.0.42

commit 176fa7bcc7a380fd69c2eac87d1038b3de873ffc
Merge: af8454a27 2e7a363fd
Author: Nikhil Benesch <nikhil.benesch@gmail.com>
Date:   Mon Sep 28 11:33:31 2020 -0400

    Merge pull request #4309 from MaterializeInc/dependabot/cargo/chrono-0.4.18
    
    build(deps): bump chrono from 0.4.15 to 0.4.18

commit af8454a27b7e74e2abbc7dbe5623f641c9b3ecf5
Merge: 931556f92 05e908f11
Author: Nikhil Benesch <nikhil.benesch@gmail.com>
Date:   Mon Sep 28 11:31:44 2020 -0400

    Merge pull request #4308 from MaterializeInc/dependabot/cargo/structopt-0.3.18
    
    build(deps): bump structopt from 0.3.17 to 0.3.18

commit 89417a3b3797c3afd95731f47a3cb7c169267f81
Author: Ruchir Khaitan <ruchir0001@gmail.com>
Date:   Tue Sep 22 16:52:03 2020 -0400

    demo/billing: Update README to remove now-optional arg

commit 75b9835ae05b853a8e23bf757e64ecce69e8ccea
Author: dependabot-preview[bot] <27856297+dependabot-preview[bot]@users.noreply.github.com>
Date:   Mon Sep 28 15:25:23 2020 +0000

    build(deps): bump differential-dataflow from `b1355d3` to `ab404f9`
    
    Bumps [differential-dataflow](https://github.com/TimelyDataflow/differential-dataflow) from `b1355d3` to `ab404f9`.
    - [Release notes](https://github.com/TimelyDataflow/differential-dataflow/releases)
    - [Commits](https://github.com/TimelyDataflow/differential-dataflow/compare/b1355d37880e07469c8da6d940c1096838f1f749...ab404f9030d984776039848a3eb6d07ea75f430e)
    
    Signed-off-by: dependabot-preview[bot] <support@dependabot.com>

commit 931556f9291f48a9ca59edc37af6543cbf35b44b
Merge: 365117309 b1de52116
Author: Nikhil Benesch <nikhil.benesch@gmail.com>
Date:   Mon Sep 28 11:19:39 2020 -0400

    Merge pull request #4311 from MaterializeInc/dependabot/cargo/proc-macro2-1.0.23
    
    build(deps): bump proc-macro2 from 1.0.21 to 1.0.23

commit 36511730999cd8a6da0e8cc93770d43b3e3d4104
Merge: 153988fae 2f0a9febd
Author: Nikhil Benesch <nikhil.benesch@gmail.com>
Date:   Mon Sep 28 11:19:08 2020 -0400

    Merge pull request #4313 from MaterializeInc/dependabot/cargo/dogsdogsdogs-b1355d3
    
    build(deps): bump dogsdogsdogs from `2667ac2` to `b1355d3`

commit 2f0a9febd46e6649f02bbd8115cb15ffa459cade
Author: dependabot-preview[bot] <27856297+dependabot-preview[bot]@users.noreply.github.com>
Date:   Mon Sep 28 10:37:14 2020 +0000

    build(deps): bump dogsdogsdogs from `2667ac2` to `b1355d3`
    
    Bumps [dogsdogsdogs](https://github.com/TimelyDataflow/differential-dataflow) from `2667ac2` to `b1355d3`.
    - [Release notes](https://github.com/TimelyDataflow/differential-dataflow/releases)
    - [Commits](https://github.com/TimelyDataflow/differential-dataflow/compare/2667ac284c2bb94d8074c028692a47f438760751...b1355d37880e07469c8da6d940c1096838f1f749)
    
    Signed-off-by: dependabot-preview[bot] <support@dependabot.com>

commit b1de52116e1476421bbbe6cbbf69d6c0d33f6703
Author: dependabot-preview[bot] <27856297+dependabot-preview[bot]@users.noreply.github.com>
Date:   Mon Sep 28 10:36:15 2020 +0000

    build(deps): bump proc-macro2 from 1.0.21 to 1.0.23
    
    Bumps [proc-macro2](https://github.com/alexcrichton/proc-macro2) from 1.0.21 to 1.0.23.
    - [Release notes](https://github.com/alexcrichton/proc-macro2/releases)
    - [Commits](https://github.com/alexcrichton/proc-macro2/compare/1.0.21...1.0.23)
    
    Signed-off-by: dependabot-preview[bot] <support@dependabot.com>

commit a29bd9e6be0eda416a93ec55393aa6c20c46c287
Author: dependabot-preview[bot] <27856297+dependabot-preview[bot]@users.noreply.github.com>
Date:   Mon Sep 28 10:35:51 2020 +0000

    build(deps): bump syn from 1.0.41 to 1.0.42
    
    Bumps [syn](https://github.com/dtolnay/syn) from 1.0.41 to 1.0.42.
    - [Release notes](https://github.com/dtolnay/syn/releases)
    - [Commits](https://github.com/dtolnay/syn/compare/1.0.41...1.0.42)
    
    Signed-off-by: dependabot-preview[bot] <support@dependabot.com>

commit 2e7a363fd74a09f90c27b0d2cfa6aef1da717c09
Author: dependabot-preview[bot] <27856297+dependabot-preview[bot]@users.noreply.github.com>
Date:   Mon Sep 28 10:35:24 2020 +0000

    build(deps): bump chrono from 0.4.15 to 0.4.18
    
    Bumps [chrono](https://github.com/chronotope/chrono) from 0.4.15 to 0.4.18.
    - [Release notes](https://github.com/chronotope/chrono/releases)
    - [Changelog](https://github.com/chronotope/chrono/blob/main/CHANGELOG.md)
    - [Commits](https://github.com/chronotope/chrono/compare/v0.4.15...v0.4.18)
    
    Signed-off-by: dependabot-preview[bot] <support@dependabot.com>

commit 05e908f110202fdef35e2b83d28aca671da527a2
Author: dependabot-preview[bot] <27856297+dependabot-preview[bot]@users.noreply.github.com>
Date:   Mon Sep 28 10:35:05 2020 +0000

    build(deps): bump structopt from 0.3.17 to 0.3.18
    
    Bumps [structopt](https://github.com/TeXitoi/structopt) from 0.3.17 to 0.3.18.
    - [Release notes](https://github.com/TeXitoi/structopt/releases)
    - [Changelog](https://github.com/TeXitoi/structopt/blob/master/CHANGELOG.md)
    - [Commits](https://github.com/TeXitoi/structopt/compare/v0.3.17...v0.3.18)
    
    Signed-off-by: dependabot-preview[bot] <support@dependabot.com>

commit 153988faeeefbd746a980ef1597310aed83290d3
Merge: 81b9ad76d 3db301f32
Author: Brandon W Maister <bwm@materialize.io>
Date:   Sun Sep 27 22:20:48 2020 -0400

    Merge pull request #4304 from quodlibetor/add-docker-resource-warning
    
    Add a docker resource limits warning to mzconduct start commands

commit 3db301f327e2ef796ae0e3e7b4e49f82767ba38a
Author: Brandon W Maister <bwm@materialize.io>
Date:   Sat Sep 26 12:51:27 2020 -0400

    Add a docker resource limits warning to mzconduct start commands
    
    Changing the `1024 ** 3` to `1024 ** 4` causes the following message to get printed:
    
        $ mzconduct run chbench -w ci
        WARN: Docker only has 15.6 GiB memory, less than 8.0 TiB can cause demos to fail in unexpected ways.
            See https://materialize.io/docs/third-party/docker/
    
        C> Executing chbench -> ci
    
    This is not limited to the BI demo, but in general we are memory hungry and the demos
    need to all run multiple processes so folks may have a bad experience with less resources
    than that when running the demos.
    
    Inspired by #4223

commit 26688fb105ec8ece6dc7a21fe7ee2bccd195a761
Author: Brandon W Maister <bwm@materialize.io>
Date:   Sat Sep 26 12:25:38 2020 -0400

    Enable python testing of doctests
    
    This requires the ci dependencies on all pycheck invocations since some of the
    scripts (bintray) import them, and aren't importable without them.
    
    This adds a doctest skip directive to something that emits to stderr instead of stdout.

commit 81b9ad76d3528bcfb0c9d8131379ba7aa3740813
Merge: fedaaa9e8 486d51a1d
Author: Nikhil Benesch <nikhil.benesch@gmail.com>
Date:   Fri Sep 25 11:25:38 2020 -0400

    Merge pull request #4294 from benesch/coord-startup
    
    coord: refactor startup flow

commit fedaaa9e82c0db054cc921a0a6db35b246e2a117
Merge: 5317e5a8b b7f2c7f35
Author: Nikhil Benesch <nikhil.benesch@gmail.com>
Date:   Fri Sep 25 11:25:08 2020 -0400

    Merge pull request #4302 from benesch/oid-type
    
    sql: add support for the oid type

commit 5317e5a8bb2845e72a8c6cd7c9431ff2e9c5bd92
Merge: 12c135710 38382e4e7
Author: Nikhil Benesch <nikhil.benesch@gmail.com>
Date:   Fri Sep 25 11:15:55 2020 -0400

    Merge pull request #4296 from benesch/stub-pg-namespace
    
    coord: add stub implementation of pg_namespace

commit b7f2c7f35d94f18cdb5375333c5be6d988433695
Author: Nikhil Benesch <nikhil.benesch@gmail.com>
Date:   Fri Sep 25 00:14:23 2020 -0400

    sql: add support for the oid type
    
    The oid type is just a wrapper around int4 that PostgreSQL uses to
    identify its system objects. (It is similar to a newtype in Rust.) Add
    support for the oid type to Materialize to facilitate upcoming
    pg_catalog compatibility work.

commit 38382e4e749d098fcb6f3aa411785e87cc7133c5
Author: Nikhil Benesch <nikhil.benesch@gmail.com>
Date:   Thu Sep 24 13:43:48 2020 -0400

    coord: add stub implementation of pg_namespace
    
    This isn't a complete implementation of pg_namespace, but it's a useful
    starting point, as it's the first built-in view outside of the
    mz_catalog schema.
    
    Touches #4281.

commit 486d51a1d37c2cc2df4bddc02bd116039f6d64fe
Author: Nikhil Benesch <nikhil.benesch@gmail.com>
Date:   Thu Sep 24 13:10:10 2020 -0400

    coord: refactor startup flow
    
    Refactor the coordinator's startup flow to avoid passing ownership via
    `Option`s. This makes the startup flow much easier to follow.
    
    As suggested by @ruchirK in #4287.

commit 12c13571038fcaff26419b9fe4ec66fb7a1741bb
Merge: 68cee1ff8 d4620943e
Author: Nikhil Benesch <nikhil.benesch@gmail.com>
Date:   Thu Sep 24 19:28:47 2020 -0400

    Merge pull request #4297 from benesch/comm-flaky-test
    
    comm: attempt to deflake test_mpsc_connection_reuse

commit d4620943e59c23d42560187a007926bf0dacd688
Author: Nikhil Benesch <nikhil.benesch@gmail.com>
Date:   Thu Sep 24 14:40:18 2020 -0400

    comm: attempt to deflake test_mpsc_connection_reuse
    
    This test is sometimes hanging forever in CI. I'm unable to reproduce
    this failure locally, but a common cause for failures of this sort is
    using Tokio's basic runtime instead of its multi-threaded runtime.
    Successfully using the basic runtime requires being very careful to not
    require any actual parallelism, since everything runs on only one
    thread, and likely this test is not that careful.

commit 68cee1ff8bf3a1aa7e6ac5e1ff7cad238296d699
Merge: 7ac7c3853 85070e039
Author: Nikhil Benesch <nikhil.benesch@gmail.com>
Date:   Thu Sep 24 13:32:49 2020 -0400

    Merge pull request #4295 from benesch/doc-qual-funcs
    
    doc/user: add release notes for qualified function names

commit 85070e039776cb0e8cc2b6a33d589d46cc2d2718
Author: Nikhil Benesch <nikhil.benesch@gmail.com>
Date:   Thu Sep 24 13:27:24 2020 -0400

    doc/user: add release notes for qualified function names

commit 7ac7c3853bf59405f263d254d848289dd40c64ce
Merge: cdf90a8be 083bc9e13
Author: Nikhil Benesch <nikhil.benesch@gmail.com>
Date:   Thu Sep 24 11:25:21 2020 -0400

    Merge pull request #4287 from benesch/async-glue
    
    *: simplify async/sync glue code

commit cdf90a8be7b39c46f5aadab338fb1f05b8ab9488
Merge: 85f9525f6 a670c22ac
Author: Nikhil Benesch <nikhil.benesch@gmail.com>
Date:   Thu Sep 24 11:22:35 2020 -0400

    Merge pull request #4293 from benesch/func-qualnames
    
    sql: support qualified function names

commit 85f9525f6d936e1b38cb439a5e52e3a802644db6
Merge: e6e650b81 9b5d8f9da
Author: Nikhil Benesch <nikhil.benesch@gmail.com>
Date:   Thu Sep 24 10:54:32 2020 -0400

    Merge pull request #4292 from benesch/runaway-ids
    
    coord: allocate persistent and temporary IDs from separate namespaces

commit 083bc9e1351032128d2b40b961ba50cefce2ad31
Author: Nikhil Benesch <nikhil.benesch@gmail.com>
Date:   Wed Sep 23 16:27:37 2020 -0400

    coord: make coordinator use async/await
    
    It is more understandable for the coordinator to be composed of async
    functions that periodically call the `await` operator, rather than
    spinning up a separate futures executor via the `block_on` function.
    
    Now, the only bit of incorrectly-synchronous code lives in the
    timestamper module.
    
    This is the last part of a commit series to improve our async/sync glue
    code.

commit 3d465e4f7f249e8ad7c2e47d6483438dd6da8222
Author: Nikhil Benesch <nikhil.benesch@gmail.com>
Date:   Wed Sep 23 17:04:27 2020 -0400

    kafka-util: use conventional import style

commit 8734d491a2be1706d7b232487a3f43106ab379e3
Author: Nikhil Benesch <nikhil.benesch@gmail.com>
Date:   Wed Sep 23 17:04:01 2020 -0400

    kafka-util: convert kgen to `async fn`
    
    This makes calling async functions much more ergonomic.

commit b391b28193dadbd1325c512fc73a9b29968f0697
Author: Nikhil Benesch <nikhil.benesch@gmail.com>
Date:   Wed Sep 23 16:58:44 2020 -0400

    sqllogictest: properly asyncify
    
    Plumb enough `async fn`s that all calls to `block_on` can be replaced
    with `.await`.
    
    This is part of a commit series to improve our async/sync glue code.

commit 9d3f80707270e0b4c53a819d1831d147d3f0770d
Author: Nikhil Benesch <nikhil.benesch@gmail.com>
Date:   Wed Sep 23 16:23:03 2020 -0400

    dataflow: discover async executor from environment
    
    Analogous to the last commit, which did the same for the comm package.
    
    This is part of a commit series to improve our async/sync glue code.

commit 192786d1cd2fdb6d22aa028d9c635f06df0e1da6
Author: Nikhil Benesch <nikhil.benesch@gmail.com>
Date:   Wed Sep 23 16:10:51 2020 -0400

    comm: discover async executor from environment
    
    Rather than requiring that the Tokio runtime handle be passed in
    explicitly, just derive it from the environment. This is more in line
    with how the rest of the Tokio ecosystem works, and makes code a lot
    simpler.
    
    This is part of a commit series to improve our async/sync glue code.

commit 7de7a23fbc691a25036a43471f47847648963169
Author: Nikhil Benesch <nikhil.benesch@gmail.com>
Date:   Wed Sep 23 15:26:40 2020 -0400

    materialized: don't create Tokio runtime in materialized::serve
    
    Make it the caller's responsibility to construct a Tokio runtime before
    calling materialized::serve. This affords the caller more flexibility,
    and also makes the code inside of materialized::serve more idiomatic, as
    it can use `.await`.
    
    This is part of a commit series to improve our async/sync glue code.

commit a670c22ac94c9d8646fd32e8b794dcca08f3a191
Author: Nikhil Benesch <nikhil.benesch@gmail.com>
Date:   Thu Sep 24 00:35:49 2020 -0400

    sql: support qualified function names
    
    In PostgreSQL functions belong to a schema and can be referred to by
    their fully-qualified name, like "pg_catalog.abs". This commit adds
    support for that feature.
    
    Fix #4258.

commit 9b5d8f9da2a3399bd5ce1df59f63b2fa0f14aab0
Author: Nikhil Benesch <nikhil.benesch@gmail.com>
Date:   Wed Sep 23 21:57:14 2020 -0400

    coord: allocate persistent and temporary IDs from separate namespaces
    
    Introduce a new temporary ID namespace so that queries like "SELECT *
    FROM t" do not unnecessarily run up the ID counter for persistent
    catalog objects. The old behavior had confused users on a few occasions,
    since the first view created might be assigned "u1" but later views
    would easily be assigned much greater and discontiguous IDs, like
    "u10238".
    
    There's no technical reason this was problematic. Just a matter of
    aesthetics.

commit e6e650b81283fcb2a74487e19859c51ecb1b03aa
Merge: 1ccd07876 66f602435
Author: Ruchir Khaitan <ruchir0001@gmail.com>
Date:   Thu Sep 24 06:49:00 2020 -0400

    Merge pull request #4288 from ruchirK/rk-4174
    
    dataflow: more verbose error messages for Kafka sources

commit 707cf6341968fc312ce55290e5f7a326740465c5
Author: Nikhil Benesch <nikhil.benesch@gmail.com>
Date:   Wed Sep 23 23:39:38 2020 -0400

    sql: mash all builtin function types into one map
    
    We previously separated aggregate, table, and scalar functions into
    separate builtin maps. This was aesthetically pleasant, but technically
    wrong, since all types of functions actually belong to the same
    namespace. Merge them into one giant map.
    
    This will facilitate support for qualified function names (#4258).

commit 1ccd07876c0fe0be542d4c3c01a7cb2b5acd4bde
Merge: ccdf6ce37 25e0df52d
Author: Nikhil Benesch <nikhil.benesch@gmail.com>
Date:   Wed Sep 23 22:13:14 2020 -0400

    Merge pull request #4291 from benesch/rm-dead-code
    
    expr: remove dead GlobalId constructors

commit 25e0df52d3246ddd52453023ca57870344e22bc4
Author: Nikhil Benesch <nikhil.benesch@gmail.com>
Date:   Wed Sep 23 21:39:58 2020 -0400

    expr: remove dead GlobalId constructors
    
    These were always rather silly, since the enum variants are public
    and these methods didn't do anything special.

commit 66f602435979cee78279ca253369fccd71045b59
Author: Ruchir Khaitan <ruchir0001@gmail.com>
Date:   Wed Sep 23 16:53:29 2020 -0400

    dataflow: more verbose error messages for Kafka sources
    
    Closes #4174

commit ccdf6ce373ecd1a0e63a7ab866695beadfb02996
Merge: 3dc112e9f b2b6230f8
Author: Ruchir Khaitan <ruchir0001@gmail.com>
Date:   Wed Sep 23 12:08:10 2020 -0400

    Merge pull request #4278 from ruchirK/rk-decode-async
    
    dataflow: only block when decoding formats that need it

commit 3dc112e9f28f1325b55956516df3ba430cf30cf5
Merge: 75804ad11 c00a25f4d
Author: Nikhil Benesch <nikhil.benesch@gmail.com>
Date:   Wed Sep 23 11:46:14 2020 -0400

    Merge pull request #4277 from benesch/docker-config
    
    doc/user: add CPU requirement to the Docker configuration guide

commit b2b6230f88593fbb4a4f2dcdb96602d0688009a1
Author: Ruchir Khaitan <ruchir0001@gmail.com>
Date:   Wed Sep 23 11:30:37 2020 -0400

    dataflow: only block when decoding formats that need it

commit 75804ad11db0296bcd4e6466b0f24510021694f4
Merge: c3aac8719 13cb5b981
Author: Ruchir Khaitan <ruchir0001@gmail.com>
Date:   Wed Sep 23 09:45:42 2020 -0400

    Merge pull request #4267 from ruchirK/rk-4197
    
    dataflow: prefer hashing positions when distributing uniformly across workers

commit 13cb5b981ba548674e2b7117261865b5c5778a66
Author: Ruchir Khaitan <ruchir0001@gmail.com>
Date:   Tue Sep 22 16:59:50 2020 -0400

    dataflow: prefer hashing positions when distributing uniformly across workers
    
    Closes #4197
    
    Previously, when we wanted to distribute records across workers uniformly
    randomly, we distributed them based on the hash of their values. The reasoning
    behind this was that in many potential sources, the distribution of keys might
    be sufficiently skewed (or keys may not even exist) which makes keys a poor
    choice uniformly distributing data (except in cases where we need records
    with the same key to go to the same worker).
    
    Unfortunately, all of those same arguments apply for values as well. This commit
    changes the behavior to distribute records based on the hash of the position if
    the position exists and otherwise fall back to a hash on the value. The
    distribution of positions is much better known to us than the distribution of
    potential values, and its more likely to be amenable to what we are trying to
    accomplish.

commit c00a25f4d40dcd36fc6f4d9398645298900be9fd
Author: Nikhil Benesch <nikhil.benesch@gmail.com>
Date:   Wed Sep 23 01:15:51 2020 -0400

    doc/user: add CPU requirement to the Docker configuration guide
    
    It turns out CPU count is important for running demos, too, so note that
    in the "Using Docker" doc in addition to the BI demo doc. Also adjust
    the wording in the BI demo doc to be a bit more precise about what
    precisely needs its resources adjusted (i.e., Docker for Mac).

commit c3aac8719294a79c8220019634ca5148c8e27286
Author: Jessica Laughlin <JLDLaughlin@users.noreply.github.com>
Date:   Tue Sep 22 19:46:22 2020 -0400

    Add BI demo note for Mac users (#4276)

commit 1cf26e0241168d31dbcbe272dd7c0b4cd655c98d
Author: Brennan Vincent <brennan@materialize.io>
Date:   Tue Sep 22 19:09:09 2020 -0400

    update libz-sys to v1.1.2 to fix build with new xcode (#4271)

commit 3c46ff8e1b7d0297557738b24502d42ad45bb69d
Author: Brennan Vincent <brennan@materialize.io>
Date:   Tue Sep 22 17:19:11 2020 -0400

    Fix td avro parsing (#4266)

commit 505d6043b352c21d2d7b8d7faffe5563caaad901
Author: Jessica Laughlin <JLDLaughlin@users.noreply.github.com>
Date:   Tue Sep 22 15:12:42 2020 -0400

    Add mz_views system table and update SHOW VIEWS (#4261)
    
    Adds a new mz_catalog.mz_views table to track each view in a Materialize
    instance. Updates SHOW VIEWS to read from the mz_views table directly.
    
    This update has the side effect of removing the is_queryable output column
    from SHOW FULL VIEWS.

commit ecfed12997777d067a778ef2eaa554e1d85f086f
Author: Andi Wang <andi@materialize.io>
Date:   Fri Sep 18 18:33:02 2020 -0400

    Comment out BYO support. Add support for config file. Add comments.

commit 3f97b179158f7db2f800737a2a418dace5ac6575
Author: Andi Wang <andi@materialize.io>
Date:   Mon Sep 21 11:45:25 2020 -0400

    Allow copywrite headers on .csv files. Uncommit empty folders.
    
    Some cleanup. Make sure names all line up with each other.

commit fdafabb74a03d99d2516bf519aaf3554f3ef0784
Author: Andi Wang <andi@materialize.io>
Date:   Tue Sep 15 21:22:07 2020 -0400

    Conform to lints.

commit 81d564acf5fad4b8616a19ecbdf0a2c676479e80
Author: Andi Wang <andi@materialize.io>
Date:   Fri Jun 19 10:53:51 2020 -0400

    Add MBTA demo to main.

commit a28b133ece7d00709fa0264bcc09f3f91259fe9d
Merge: 18c13a06e 1557b35e2
Author: Nikhil Benesch <nikhil.benesch@gmail.com>
Date:   Mon Sep 21 16:45:13 2020 -0400

    Merge pull request #4260 from benesch/ci-builder-rebuild
    
    rust-toolchain: upgrade to Rust v1.46

commit 1557b35e29e264bf871f3ce8a4cde5cc1160bc79
Author: Nikhil Benesch <nikhil.benesch@gmail.com>
Date:   Mon Sep 21 15:10:43 2020 -0400

    ci-builder: rebuild stable and nightly images
    
    This incorporates the updates made in the past few commits.

commit 55e8c981bbc3cbf5135098db689d0ba21deb3183
Author: Nikhil Benesch <nikhil.benesch@gmail.com>
Date:   Mon Sep 21 15:10:18 2020 -0400

    ci/test: fix `cargo miri test` flag passing
    
    Fix #4256.

commit a65697c96e35c79fef2c8996a14f6f5ae8e6edf5
Author: Nikhil Benesch <nikhil.benesch@gmail.com>
Date:   Mon Sep 21 15:08:51 2020 -0400

    ci-builder: pin versions of cargo tools
    
    Otherwise builds are not reproducible.

commit 13b03d93f74c487a0f0dba691ea2c7a51b445051
Author: Nikhil Benesch <nikhil.benesch@gmail.com>
Date:   Mon Sep 21 15:08:07 2020 -0400

    ci-builder: fix cargo caching
    
    Avoid forwarding the host's `~/.cargo` directory, because that can
    sometimes result in using the host's toolchain rather than the
    container's, defeating the whole point of this setup.

commit 6f5324a0f6db1afa6abab732a7934256246e43b5
Author: Nikhil Benesch <nikhil.benesch@gmail.com>
Date:   Mon Sep 21 15:07:41 2020 -0400

    rust-toolchain: upgrade to Rust v1.46

commit 18c13a06e9d907e3e53a93e105807dedef10ede4
Merge: 346c19301 69c81fc1f
Author: Nikhil Benesch <nikhil.benesch@gmail.com>
Date:   Mon Sep 21 11:17:02 2020 -0400

    Merge pull request #4253 from MaterializeInc/dependabot/cargo/hyper-0.13.8
    
    build(deps): bump hyper from 0.13.7 to 0.13.8

commit 346c193018e4caf58a81cefab94731f8da8bcc39
Merge: 9e51a4f17 610622beb
Author: Andi Wang <5522362+wangandi@users.noreply.github.com>
Date:   Mon Sep 21 10:57:57 2020 -0400

    Merge pull request #4251 from wangandi/multitopickafkaclient
    
    test-util: have KafkaClient support multiple topics + null payload

commit 9e51a4f1748a60d5dbf3fa1cdb8070d771516a3f
Merge: 1f5b73b79 afef07b01
Author: Nikhil Benesch <nikhil.benesch@gmail.com>
Date:   Mon Sep 21 10:43:41 2020 -0400

    Merge pull request #4254 from MaterializeInc/dependabot/cargo/stacker-0.1.12
    
    build(deps): bump stacker from 0.1.11 to 0.1.12

commit 1f5b73b79ab578ed1d10ab416191c310851ebac7
Merge: 3c7190594 5a03e8db7
Author: Nikhil Benesch <nikhil.benesch@gmail.com>
Date:   Mon Sep 21 10:43:33 2020 -0400

    Merge pull request #4252 from MaterializeInc/dependabot/cargo/syn-1.0.41
    
    build(deps): bump syn from 1.0.40 to 1.0.41

commit 3c71905948f61264d09640baef5621dc93ef50a6
Merge: 520744a60 28bb03c7c
Author: Nikhil Benesch <nikhil.benesch@gmail.com>
Date:   Mon Sep 21 10:42:53 2020 -0400

    Merge pull request #4255 from MaterializeInc/dependabot/cargo/datadriven-0.3.0
    
    build(deps): bump datadriven from 0.2.0 to 0.3.0

commit 69c81fc1f348f55c89d35c847078eddd0dd0eec7
Author: dependabot-preview[bot] <27856297+dependabot-preview[bot]@users.noreply.github.com>
Date:   Mon Sep 21 10:31:07 2020 +0000

    build(deps): bump hyper from 0.13.7 to 0.13.8
    
    Bumps [hyper](https://github.com/hyperium/hyper) from 0.13.7 to 0.13.8.
    - [Release notes](https://github.com/hyperium/hyper/releases)
    - [Changelog](https://github.com/hyperium/hyper/blob/master/CHANGELOG.md)
    - [Commits](https://github.com/hyperium/hyper/compare/v0.13.7...v0.13.8)
    
    Signed-off-by: dependabot-preview[bot] <support@dependabot.com>

commit 28bb03c7cb427f5eef841c89f34ca7afbc7fa2cd
Author: dependabot-preview[bot] <27856297+dependabot-preview[bot]@users.noreply.github.com>
Date:   Mon Sep 21 10:31:58 2020 +0000

    build(deps): bump datadriven from 0.2.0 to 0.3.0
    
    Bumps [datadriven](https://github.com/justinj/datadriven) from 0.2.0 to 0.3.0.
    - [Release notes](https://github.com/justinj/datadriven/releases)
    - [Commits](https://github.com/justinj/datadriven/commits)
    
    Signed-off-by: dependabot-preview[bot] <support@dependabot.com>

commit afef07b01bb42db284afbfb092ac5066d6896449
Author: dependabot-preview[bot] <27856297+dependabot-preview[bot]@users.noreply.github.com>
Date:   Mon Sep 21 10:31:33 2020 +0000

    build(deps): bump stacker from 0.1.11 to 0.1.12
    
    Bumps [stacker](https://github.com/rust-lang/stacker) from 0.1.11 to 0.1.12.
    - [Release notes](https://github.com/rust-lang/stacker/releases)
    - [Commits](https://github.com/rust-lang/stacker/compare/stacker-0.1.11...stacker-0.1.12)
    
    Signed-off-by: dependabot-preview[bot] <support@dependabot.com>

commit 5a03e8db7a706ec6bc575b57d0f4fa4816af8864
Author: dependabot-preview[bot] <27856297+dependabot-preview[bot]@users.noreply.github.com>
Date:   Mon Sep 21 10:30:37 2020 +0000

    build(deps): bump syn from 1.0.40 to 1.0.41
    
    Bumps [syn](https://github.com/dtolnay/syn) from 1.0.40 to 1.0.41.
    - [Release notes](https://github.com/dtolnay/syn/releases)
    - [Commits](https://github.com/dtolnay/syn/compare/1.0.40...1.0.41)
    
    Signed-off-by: dependabot-preview[bot] <support@dependabot.com>

commit 610622bebd5bb103993385030e823d59e087297c
Author: Andi Wang <andi@materialize.io>
Date:   Fri Sep 18 18:44:47 2020 -0400

    Allow test-util kafka_client to create more than one topic
    and messages with null payload.

commit 520744a600dcd5e95b7d4c9ae42e1864dd27ea64
Merge: 13fadf487 d80a906ac
Author: Justin Jaffray <justin.jaffray@gmail.com>
Date:   Fri Sep 18 17:23:18 2020 -0400

    Merge pull request #4250 from justinj/fix-reduce-elision
    
    sql: fix bug in reduce elision

commit d80a906ac3d5f7a576f78fed8d13a5af077dd7de
Author: Justin Jaffray <justin.jaffray@gmail.com>
Date:   Fri Sep 18 15:05:37 2020 -0400

    sql: fix bug in reduce elision
    
    Previously, reduce elision assumed that aggregates besides Count, when
    fed a single row, evaluated to their input, but this was wrong for
    SumInt32, which must evaluate to an Int64 rather than an Int32.

commit 13fadf487b7eb8bd98667312526d3eb32c39a47d
Author: Jessica Laughlin <JLDLaughlin@users.noreply.github.com>
Date:   Fri Sep 18 15:10:05 2020 -0400

    Make handle_show implementations uniform (#4243)
    
    Updates handle_show_databases, handle_show_schemas, and handle_show_indexes to generate
    query strings instead of programmatically building a Select statement. This update allows
    us to clean up unnecessary helper functions.
    
    Additionally, rename the Source_or_view output column from SHOW INDEXES to On_name.

commit 6a6947828dd26141adaf05278590fb69d0e5582c
Merge: 94670147d 3eba3418d
Author: Jessica Laughlin <JLDLaughlin@users.noreply.github.com>
Date:   Fri Sep 18 15:09:07 2020 -0400

    Insert catalog items into coordinator in two loops (#4249)
    
    Sources and indexes may be depended upon. On starting the coordinator, ensure that
    these catalog item types are inserted before other catalog item types to avoid errors.

commit 3eba3418dfc1713f2e7e8917586813d5ea84d546
Author: JLDLaughlin <jessica@materialize.io>
Date:   Fri Sep 18 14:44:55 2020 -0400

    Insert catalog items into coordinator in two loops

commit 94670147d780f7cc800129fc6f5d174ceecfc4d5
Merge: be335c7cd 7c00c654a
Author: Ruchir Khaitan <ruchir0001@gmail.com>
Date:   Fri Sep 18 14:16:17 2020 -0400

    Merge pull request #4224 from ruchirK/rk-persistence-docs
    
    docs: add documentation for source persistence

commit 7c00c654a5e88209f321d72a84bcaa6161b30f33
Author: Ruchir Khaitan <ruchir0001@gmail.com>
Date:   Tue Sep 15 16:33:18 2020 -0400

    docs: add documentation for source persistence

commit be335c7cdcc62014f138d801ff857d5372927d0f
Merge: 878aea72e 20b204e68
Author: Nikhil Benesch <nikhil.benesch@gmail.com>
Date:   Fri Sep 18 12:33:39 2020 -0400

    Merge pull request #4247 from benesch/dbz1.2
    
    demo,test: upgrade to Debezium v1.2

commit 20b204e68220860376fd0087cdf3977fbb317aa3
Author: Nikhil Benesch <nikhil.benesch@gmail.com>
Date:   Fri Sep 18 12:26:11 2020 -0400

    demo,test: upgrade to Debezium v1.2

commit 878aea72e1737a0b5a2e778d0ea292a58b95c69f
Merge: 16abada52 1dc073fdc
Author: Benjamin Pellittieri <ben@materialize.io>
Date:   Fri Sep 18 10:11:56 2020 -0500

    Merge pull request #4238 from benLogN/0.4.3-docs
    
    Update docs site for v0.4.3

commit 16abada52cffddd7281eaa9a2092738e64c90b0f
Merge: b9f5640b7 9a62583ea
Author: Nikhil Benesch <nikhil.benesch@gmail.com>
Date:   Fri Sep 18 09:57:05 2020 -0400

    Merge pull request #4246 from benesch/stable-tables
    
    sql: stabilize tables

commit 3c30c9b18031e0de683fc822903bf4b018a43da6
Author: Ruchir Khaitan <ruchir0001@gmail.com>
Date:   Fri Sep 18 08:47:24 2020 -0400

    materialized: remove the --persistence flag
    
    Make persistence conditional on --experimental

commit 9a62583ea18901986341fddc325367e1dd456a49
Author: Nikhil Benesch <nikhil.benesch@gmail.com>
Date:   Thu Sep 17 23:32:21 2020 -0400

    sql: stabilize tables
    
    All known issues with tables have been fixed, so stabilize `CREATE
    TABLE` and `INSERT`!
    
    h/t to @JLDLaughlin for doing all of the heavy lifting here.

commit e3076af01eed446aac20c4a34aa98954a4d9d4fe
Author: Andi Wang <andi@materialize.io>
Date:   Thu Sep 17 16:17:40 2020 -0400

    Add additional comments.

commit b9f5640b78be32b3cd8fb1ee5bf49ad937911f88
Merge: 75da1186b 45edb5eae
Author: Nikhil Benesch <nikhil.benesch@gmail.com>
Date:   Thu Sep 17 14:29:19 2020 -0400

    Merge pull request #4240 from benesch/finish-file-sources
    
    dataflow: drop capabilities for static file sources when finished

commit 45edb5eaeb075bdeb7ddd3248c5bfac959750606
Author: Nikhil Benesch <nikhil.benesch@gmail.com>
Date:   Thu Sep 17 13:35:41 2020 -0400

    dataflow: drop capabilities for static file sources when finished
    
    This regressed in #3532, and static file sources were having their
    capabilities downgrade only every few seconds. Restore the original
    behavior of dropping the capability entirely after the file is read so
    that there is no need to periodically downgrade the capability at all.
    
    This makes joining a table against a static file source much lower
    latency. Fix #3975.

commit 75da1186b285b77c0671e058de7373b233ce1b7c
Merge: da3c07577 de94cbce9
Author: Nikhil Benesch <nikhil.benesch@gmail.com>
Date:   Thu Sep 17 14:07:09 2020 -0400

    Merge pull request #4241 from benesch/doc-mz-cluster-id
    
    doc/user: linkify mz_cluster_id in release notes

commit de94cbce987fa2938edf90ed9a5e7ca1cd3f6368
Author: Nikhil Benesch <nikhil.benesch@gmail.com>
Date:   Thu Sep 17 13:45:51 2020 -0400

    doc/user: linkify mz_cluster_id in release notes

commit da3c07577ee9f64fcd370dc44350602656b13c06
Author: Jessica Laughlin <JLDLaughlin@users.noreply.github.com>
Date:   Thu Sep 17 13:48:29 2020 -0400

    Support ALTER TABLE .. RENAME (#4239)

commit 1dc073fdc8875afbd3999e74d7dd794b0dabdc5e
Author: Benjamin Pellittieri <ben@materialize.io>
Date:   Thu Sep 17 11:47:19 2020 -0500

    Update docs site for the completed 0.4.3 release
    
    Add a note to the release issue template for how to find the deploy
    in buildkite before starting the homebrew build.

commit 01560a720f103908213a2cac34af8d7b26bb8cdd
Merge: 5fe3eef8f 9fc2289da
Author: Nikhil Benesch <nikhil.benesch@gmail.com>
Date:   Thu Sep 17 11:09:17 2020 -0400

    Merge pull request #4232 from benesch/relnotes-043
    
    doc: add release notes for 0.4.3

commit 9fc2289da9877e324437dae22e0f97d676b5e7ed
Author: Nikhil Benesch <nikhil.benesch@gmail.com>
Date:   Wed Sep 16 16:20:36 2020 -0400

    doc: add release notes for 0.4.3

commit 5fe3eef8f932f7501882e50c4c253157445554e4
Merge: 20671487f 8c6254524
Author: Jessica Laughlin <JLDLaughlin@users.noreply.github.com>
Date:   Thu Sep 17 10:45:47 2020 -0400

    Merge pull request #4233 from JLDLaughlin/mz-cont
    
    Add mz_catalog.mz_sources and mz_catalog.mz_sinks system tables to track
    sources and sinks. These new system tables are used to replace the implementation of
    SHOW SOURCES and SHOW SINKS.

commit 8c6254524aad1556356ddc4ca48c58d432dbbfc4
Author: JLDLaughlin <jessica@materialize.io>
Date:   Thu Sep 17 10:08:00 2020 -0400

    Remove dereference

commit f0d5fc4a15eac853a8ba3812a775831a08febd93
Merge: b54109f04 20671487f
Author: Jessica Laughlin <JLDLaughlin@users.noreply.github.com>
Date:   Thu Sep 17 09:59:13 2020 -0400

    Merge branch 'main' into mz-cont

commit b54109f043651fb314e9c92be8ffeb80f6eb3c68
Author: JLDLaughlin <jessica@materialize.io>
Date:   Thu Sep 17 09:56:49 2020 -0400

    Update unreachable value

commit 20671487f375ffa198a6f69a9df7da8f67ddc271
Merge: 149a19a9c a48d9142e
Author: Ruchir Khaitan <ruchir0001@gmail.com>
Date:   Thu Sep 17 07:57:46 2020 -0400

    Merge pull request #4236 from ruchirK/rk-fix-persistence-log
    
    dataflow: lower log verbosity for unimplemented persistence function

commit a48d9142e500b92a279ec41c5af0045132e6bb3b
Author: Ruchir Khaitan <ruchir0001@gmail.com>
Date:   Thu Sep 17 07:29:38 2020 -0400

    dataflow: lower log verbosity for unimplemented persistence function

commit 149a19a9cecf6f8757d047ba0eb39d158ce62b3f
Merge: ef72e16c2 05917af7b
Author: Ruchir Khaitan <ruchir0001@gmail.com>
Date:   Thu Sep 17 07:27:29 2020 -0400

    Merge pull request #4235 from benesch/merge-skew
    
    sql: fix merge skew on boxing of SelectStatement::query

commit 05917af7bd9f54a44aaa3974e741c1277fd7204d
Author: Nikhil Benesch <nikhil.benesch@gmail.com>
Date:   Thu Sep 17 00:46:11 2020 -0400

    sql: fix merge skew on boxing of SelectStatement::query

commit ef72e16c22257ee53ead93a5bc242822555afc91
Author: Brennan Vincent <brennan@materialize.io>
Date:   Wed Sep 16 22:09:56 2020 -0400

    Make SchemaCache cache schema parsing and resolution errors (#4211)

commit 30ae71cd54bd8d8ce140aba786e7c695cdb586ba
Author: JLDLaughlin <jessica@materialize.io>
Date:   Wed Sep 16 21:03:01 2020 -0400

    Spell out full SHOW SOURCES queries

commit 374c9b917af2b156d004334fdec2173139f29571
Author: JLDLaughlin <jessica@materialize.io>
Date:   Wed Sep 16 20:45:47 2020 -0400

    Small changes

commit ea2920e74221af2bd9c19f76c30e843d8a36f36b
Author: JLDLaughlin <jessica@materialize.io>
Date:   Wed Sep 16 20:13:06 2020 -0400

    Missing trailing newline

commit d9dec5bbdfb8bea396da2a11bd5039c78f2cc475
Author: JLDLaughlin <jessica@materialize.io>
Date:   Wed Sep 16 20:11:08 2020 -0400

    mz_sources and mz_sinks

commit 26a6d29f8d1648a8c8f11cfcc23d718713f13969
Merge: bf8b8a381 f8c38d183
Author: Nikhil Benesch <nikhil.benesch@gmail.com>
Date:   Wed Sep 16 18:36:05 2020 -0400

    Merge pull request #4227 from benesch/insert-prepared
    
    sql: support prepared INSERT statements

commit ad1dc664bb076618baa7f5da2be8a7811225cf3e
Author: Andi Wang <andi@materialize.io>
Date:   Wed Sep 16 18:19:34 2020 -0400

    Add comments on why arrangements are limited to exact matches.
    Add a test that currently crashes if arrangements were not limited
    to exact matches.

commit bf8b8a3817592c64016bf8f2a6c7ecb3ae993079
Merge: 96610c344 9f16504de
Author: Matt Jibson <matt.jibson@gmail.com>
Date:   Wed Sep 16 15:54:02 2020 -0600

    Merge pull request #4230 from mjibson/cluster-id
    
    coord: generate and persist a permanent cluster id

commit 9f16504def40cb0e2a5fae6af3f5365872bd9428
Author: Matt Jibson <matt.jibson@gmail.com>
Date:   Wed Sep 16 13:55:23 2020 -0600

    coord: generate and persist a permanent cluster id
    
    This id can be used to uniquely identify a materialize cluster across
    restarts or being moved among VMs or containers.
    
    Expose a `mz_cluster_id()` SQL function to retrieve it.

commit 96610c344b7265425461a144e0a22cf7fe596274
Merge: 60ef4511c cf8cb6f08
Author: Jessica Laughlin <JLDLaughlin@users.noreply.github.com>
Date:   Wed Sep 16 16:42:31 2020 -0400

    Merge pull request #4218 from JLDLaughlin/mz-table
    
    The mz_catalog.mz_tables system table contains a unique row for each table in a Materialize
    instance. SHOW TABLES reads from mz_tables, instead of computing the results.

commit cf8cb6f08a3a548d53cb14a95e21045dad0501a4
Author: JLDLaughlin <jessica@materialize.io>
Date:   Wed Sep 16 14:41:26 2020 -0400

    Rename mz_tables field

commit f8c38d183519209b585a561a0aab90179ac199ad
Author: Nikhil Benesch <nikhil.benesch@gmail.com>
Date:   Wed Sep 16 00:46:09 2020 -0400

    sql: support prepared INSERT statements
    
    Fix #3941.

commit 75d5bd6a6eff7edb6b46b4a1b1f43b9a04250730
Author: JLDLaughlin <jessica@materialize.io>
Date:   Wed Sep 16 14:07:10 2020 -0400

    Create SchemaSpecifier, update SHOW TABLES

commit 91b1e4a05a02eb8411147a143ba0490f5fb7d89c
Author: Nikhil Benesch <nikhil.benesch@gmail.com>
Date:   Wed Sep 16 13:32:27 2020 -0400

    sql-parser: remove some unnecessary boxes
    
    Unclear where these came from; probably just copypasta.

commit 59fb1d9a6afd2329f3c8b044441deae4bae1f675
Author: JLDLaughlin <jessica@materialize.io>
Date:   Wed Sep 16 13:30:07 2020 -0400

    Add name to mz_tables

commit 60ef4511c45867dea4e4091812cabb0b36c86271
Merge: f084bec1a 5ff31c58e
Author: Nikhil Benesch <nikhil.benesch@gmail.com>
Date:   Wed Sep 16 11:02:21 2020 -0400

    Merge pull request #4200 from MaterializeInc/dependabot/cargo/libc-0.2.77
    
    build(deps): bump libc from 0.2.76 to 0.2.77

commit f084bec1a7b00d79ca57e5ba7460ba1bcb7ecdf1
Merge: bc4be1a08 c1d7fc01a
Author: Nikhil Benesch <nikhil.benesch@gmail.com>
Date:   Wed Sep 16 01:29:19 2020 -0400

    Merge pull request #4202 from MaterializeInc/dependabot/cargo/serde-1.0.116
    
    build(deps): bump serde from 1.0.115 to 1.0.116

commit bc4be1a08fec72a11ad290bf0f86a7477736cebc
Merge: 6e9c4103b dc9bbf590
Author: Nikhil Benesch <nikhil.benesch@gmail.com>
Date:   Wed Sep 16 01:28:47 2020 -0400

    Merge pull request #4201 from MaterializeInc/dependabot/cargo/differential-dataflow-2667ac2
    
    build(deps): bump differential-dataflow from `db74efb` to `2667ac2`

commit 6e9c4103ba6d1b6fdec43c289386d9a315b63589
Merge: 0930212ba 79d3a8248
Author: Nikhil Benesch <nikhil.benesch@gmail.com>
Date:   Wed Sep 16 01:28:38 2020 -0400

    Merge pull request #4203 from MaterializeInc/dependabot/cargo/dogsdogsdogs-2667ac2
    
    build(deps): bump dogsdogsdogs from `db74efb` to `2667ac2`

commit 0930212baf3646009cdb7eb12c2942ea9300fbd5
Merge: 7ff284a6e 0b933be33
Author: Nikhil Benesch <nikhil.benesch@gmail.com>
Date:   Wed Sep 16 01:28:12 2020 -0400

    Merge pull request #4204 from MaterializeInc/dependabot/cargo/proc-macro2-1.0.21
    
    build(deps): bump proc-macro2 from 1.0.20 to 1.0.21

commit 752fbedb3914d1f5a5da7a46581a6b2bb8f5c6b3
Author: JLDLaughlin <jessica@materialize.io>
Date:   Tue Sep 15 14:37:51 2020 -0400

    Remove GlobalIds from HashSet

commit 7ff284a6e61ed065bf385280568b0c8293a95c92
Merge: 3d2b941a8 b785d8539
Author: Ruchir Khaitan <ruchir0001@gmail.com>
Date:   Tue Sep 15 14:31:57 2020 -0400

    Merge pull request #4209 from ruchirK/rk-persistence-load-test2
    
    Change how Materialize reads in persisted data

commit 20e30ea51fc681cbf8019d5f7ddcaffab4e11312
Author: JLDLaughlin <jessica@materialize.io>
Date:   Tue Sep 15 14:06:42 2020 -0400

    SHOW EXTENDED TABLES not yet supported test

commit 3d2b941a857d690f43c25b73b57433c711e9034c
Author: Brennan Vincent <brennan@materialize.io>
Date:   Tue Sep 15 13:48:44 2020 -0400

    Remove unnecessary annotation (#4222)

commit 6ff9fd470787c0c27937ea0c31f2073a03a2239e
Merge: 4f1719208 6e1166a74
Author: Matt Jibson <matt.jibson@gmail.com>
Date:   Tue Sep 15 11:43:26 2020 -0600

    Merge pull request #4221 from mjibson/pgtest-comments
    
    pgwire: address comments from previous pgtest PR

commit dfdc54449ca12f42514a81fb44a25c36bcdc1a11
Author: JLDLaughlin <jessica@materialize.io>
Date:   Tue Sep 15 13:16:53 2020 -0400

    Tidying

commit 4f1719208a6b919721b2758b9c837a45cb988749
Merge: 9768f5b9a 87bf709a8
Author: Sean Loiselle <sean@materialize.io>
Date:   Tue Sep 15 13:03:00 2020 -0400

    Merge pull request #4220 from sploiselle/loadtest-thread-count
    
    peeker: add olap_thread env var to loadtest group

commit 6e1166a74c3450700234dff77ece1a2dd6f3a55e
Author: Matt Jibson <matt.jibson@gmail.com>
Date:   Tue Sep 15 10:50:11 2020 -0600

    pgwire: address comments from previous pgtest PR

commit b785d85395442389f97a73477b7b49095c6ecfd7
Author: Ruchir Khaitan <ruchir0001@gmail.com>
Date:   Tue Sep 15 12:34:14 2020 -0400

    dataflow: change file name format for persisted files.
    
    Previously, persisted files were named [start, end] where `start` and `end`
    denoted the range of offsets stored in this file as 1-indexed Kafka offsets.
    
    This was downright confusing because Kafka offsets are actually 0-indexed, and
    storing them in a 1-indexed format is a (hopefully temporary) Materialize-ism.
    
    This commit tries to preserve as much existing behavior as possible while making
    the generated file names for persisted files more understandable to the end user.
    Now, file names have [start, end) where both are 0-indexed offsets, and `end` is the
    next offset after the last one stored in the file.

commit fd7ebda29a162e72bc10bb42ff305fd8f04e1d83
Author: Ruchir Khaitan <ruchir0001@gmail.com>
Date:   Mon Sep 14 11:53:31 2020 -0400

    dataflow,sql: regenerate RT source persisted record timestamps on startup.
    
    Also disable persistence for BYO sources

commit 87bf709a85ea2b4c8b517e89c146b596d9312ad4
Author: Sean Loiselle <himself@seanloiselle.com>
Date:   Tue Sep 15 12:46:07 2020 -0400

    peeker: add olap_thread env var to loadtest group

commit ffb6ae021ac67cd15e601501c9fc970ac7b5c836
Author: Ruchir Khaitan <ruchir0001@gmail.com>
Date:   Fri Sep 11 19:04:22 2020 -0400

    dataflow: read in files one at a time

commit 9768f5b9a42cc93a8ababa83fdd71ddb7d540159
Merge: a63d599b0 5fdb88033
Author: Matt Jibson <matt.jibson@gmail.com>
Date:   Tue Sep 15 10:41:25 2020 -0600

    Merge pull request #4196 from mjibson/pgtest-enable
    
    pgtest: enable in CI; add some tests

commit cc8bea0ee32fd53263ee354a83d900b47902a1bd
Author: JLDLaughlin <jessica@materialize.io>
Date:   Mon Sep 14 22:12:01 2020 -0400

    Use string formatted query instead

commit d66d4237661a49a34eb6b5bdaeba38ae2afd97e7
Author: JLDLaughlin <jessica@materialize.io>
Date:   Mon Sep 14 21:13:52 2020 -0400

    Update implementation of SHOW TABLES
    
    SHOW TABLES now reads from the mz_tables system table. Additionally, it
    errors if the EXTENDED keyword is provided, which did not work in the prior
    implementation.

commit a63d599b0c8497cdfd866d3e2c1f4f5fff9ebb8d
Author: Brennan Vincent <brennan@materialize.io>
Date:   Mon Sep 14 17:19:43 2020 -0400

    fix minor typo (#4217)

commit d05853b94080a0dc8b87924b9b3fbcb218cd501b
Merge: 4f654117c 7faf38be0
Author: Benjamin Pellittieri <ben@materialize.io>
Date:   Mon Sep 14 15:05:08 2020 -0500

    Merge pull request #4214 from benLogN/prepare-v0.4.4-dev
    
    Prepare v0.4.4 dev

commit 7faf38be060ab047f52de0ff542b4049ebb48bbe
Author: Benjamin Pellittieri <ben@materialize.io>
Date:   Mon Sep 14 14:40:59 2020 -0500

    Prepare next phase of development: v0.4.4-dev

commit d413cb5174f63fd60b4fe1c34e573a5de919fae5
Author: Benjamin Pellittieri <ben@materialize.io>
Date:   Mon Sep 14 14:38:06 2020 -0500

    release: v0.4.3-rc1

commit 4f654117c5f6941d5118d90a814f4b7cd3b85416
Merge: da881148f e21801e5b
Author: Sean Loiselle <sean@materialize.io>
Date:   Mon Sep 14 12:09:49 2020 -0400

    Merge pull request #4208 from sploiselle/peeker-benchmark-all-queries
    
    peeker: add benchmark query group + thread lever

commit 8cf6d28d081d5515a9b1f0230cd3fe3a7b07b95d
Author: Ruchir Khaitan <ruchir0001@gmail.com>
Date:   Thu Sep 10 19:38:05 2020 -0400

    dataflow: move persisted_files to live in KafkaSourceInfo

commit 2339b0e8a324a8767993685d138ec6b07f034b45
Author: JLDLaughlin <jessica@materialize.io>
Date:   Mon Sep 14 11:58:39 2020 -0400

    Add mz_tables system table
    
    Each unique row contains the GlobalId and encompassing schema id of a table
    in a Materialize instance.

commit e21801e5b815b68b33716a523752b8099728326f
Author: Sean Loiselle <himself@seanloiselle.com>
Date:   Mon Sep 14 11:43:12 2020 -0400

    peeker: add benchmark query group + thread lever

commit 61ccad0f570a339e409f1051568fd26f31972cf5
Author: Andi Wang <andi@materialize.io>
Date:   Fri Sep 11 12:32:27 2020 -0400

    Allow JoinImplementation to work with expression join keys.

commit da881148fad3ec0bcde9f9ce3e81d0d460fee6af
Merge: 068833c5a 50426cff2
Author: Andi Wang <5522362+wangandi@users.noreply.github.com>
Date:   Mon Sep 14 11:38:00 2020 -0400

    Merge pull request #4131 from wangandi/useindexcleanup
    
    Cleanup use_indexes.rs

commit 068833c5a487b1d38e44a0a6454d057c16a8e500
Author: Brennan Vincent <brennan@materialize.io>
Date:   Mon Sep 14 11:04:12 2020 -0400

    Get rid of some dubious transmutes (#4199)

commit d4d17e078f95d29da5057891879750ff95c2579d
Merge: fd0f64506 166092f68
Author: Benjamin Pellittieri <ben@materialize.io>
Date:   Mon Sep 14 09:17:07 2020 -0500

    Merge pull request #4179 from benLogN/cloud-link-fix
    
    Update broken link in README

commit fd0f645064f7aca6b1b0613518f00fa4416bde88
Merge: 531b87d67 d05f59a34
Author: Justin Jaffray <justin.jaffray@gmail.com>
Date:   Mon Sep 14 10:06:10 2020 -0400

    Merge pull request #4195 from justinj/fix-lifting
    
    sql: fix literal lifting through unions

commit d05f59a342b16fd98a83098bb87eefaa09cb83cb
Author: Justin Jaffray <justin.jaffray@gmail.com>
Date:   Fri Sep 11 14:19:26 2020 -0400

    sql: fix literal lifting through unions
    
    Previously the logic for determining the literals to lift through a
    union was wrong, because it special-cased the `base` input, and could
    result in changing the shape of some of the inputs in an invalid way.
    
    This change changes this behaviour to extract the longest common suffix
    between all arms, which makes sure that the shape of the inputs is
    always correct.

commit c1d7fc01a41924dcb67133c2004dbe00a93e47a5
Author: dependabot-preview[bot] <27856297+dependabot-preview[bot]@users.noreply.github.com>
Date:   Mon Sep 14 12:46:56 2020 +0000

    build(deps): bump serde from 1.0.115 to 1.0.116
    
    Bumps [serde](https://github.com/serde-rs/serde) from 1.0.115 to 1.0.116.
    - [Release notes](https://github.com/serde-rs/serde/releases)
    - [Commits](https://github.com/serde-rs/serde/compare/v1.0.115...v1.0.116)
    
    Signed-off-by: dependabot-preview[bot] <support@dependabot.com>

commit 0b933be330c67f2e21707005613a9c261a9b3bd0
Author: dependabot-preview[bot] <27856297+dependabot-preview[bot]@users.noreply.github.com>
Date:   Mon Sep 14 12:46:49 2020 +0000

    build(deps): bump proc-macro2 from 1.0.20 to 1.0.21
    
    Bumps [proc-macro2](https://github.com/alexcrichton/proc-macro2) from 1.0.20 to 1.0.21.
    - [Release notes](https://github.com/alexcrichton/proc-macro2/releases)
    - [Commits](https://github.com/alexcrichton/proc-macro2/compare/1.0.20...1.0.21)
    
    Signed-off-by: dependabot-preview[bot] <support@dependabot.com>

commit 531b87d67b3e705e7400587348e5f641af7dd8a8
Author: Brennan Vincent <brennan@materialize.io>
Date:   Mon Sep 14 08:44:47 2020 -0400

    Avro typed errors [1/?] (#4198)

commit 79d3a82486af2dcf0e454123893238a166aad9fc
Author: dependabot-preview[bot] <27856297+dependabot-preview[bot]@users.noreply.github.com>
Date:   Mon Sep 14 10:33:07 2020 +0000

    build(deps): bump dogsdogsdogs from `db74efb` to `2667ac2`
    
    Bumps [dogsdogsdogs](https://github.com/TimelyDataflow/differential-dataflow) from `db74efb` to `2667ac2`.
    - [Release notes](https://github.com/TimelyDataflow/differential-dataflow/releases)
    - [Commits](https://github.com/TimelyDataflow/differential-dataflow/compare/db74efb71a7644a9f0cddefc79657eba457bb16c...2667ac284c2bb94d8074c028692a47f438760751)
    
    Signed-off-by: dependabot-preview[bot] <support@dependabot.com>

commit dc9bbf59006928b1ec3c4488891818126f4bbc72
Author: dependabot-preview[bot] <27856297+dependabot-preview[bot]@users.noreply.github.com>
Date:   Mon Sep 14 10:32:06 2020 +0000

    build(deps): bump differential-dataflow from `db74efb` to `2667ac2`
    
    Bumps [differential-dataflow](https://github.com/TimelyDataflow/differential-dataflow) from `db74efb` to `2667ac2`.
    - [Release notes](https://github.com/TimelyDataflow/differential-dataflow/releases)
    - [Commits](https://github.com/TimelyDataflow/differential-dataflow/compare/db74efb71a7644a9f0cddefc79657eba457bb16c...2667ac284c2bb94d8074c028692a47f438760751)
    
    Signed-off-by: dependabot-preview[bot] <support@dependabot.com>

commit 5ff31c58e2fa313f0384160a59985da84623aa9d
Author: dependabot-preview[bot] <27856297+dependabot-preview[bot]@users.noreply.github.com>
Date:   Mon Sep 14 10:31:34 2020 +0000

    build(deps): bump libc from 0.2.76 to 0.2.77
    
    Bumps [libc](https://github.com/rust-lang/libc) from 0.2.76 to 0.2.77.
    - [Release notes](https://github.com/rust-lang/libc/releases)
    - [Commits](https://github.com/rust-lang/libc/compare/0.2.76...0.2.77)
    
    Signed-off-by: dependabot-preview[bot] <support@dependabot.com>

commit 5fdb8803303b1040e2eac0a7cf04c5a88c5832ed
Author: Matt Jibson <matt.jibson@gmail.com>
Date:   Fri Sep 11 15:58:50 2020 -0600

    pgwire: move some tests to pgtest

commit d6de633943a6ad4c524a990fa99a404068333ad5
Author: Matt Jibson <matt.jibson@gmail.com>
Date:   Fri Sep 11 15:59:10 2020 -0600

    pgtest: add some error options
    
    Although not used yet, I used both of these doing testing and found
    them useful.

commit 0e4846138dc9bff3e75085c8fa0af172f639f87c
Author: Matt Jibson <matt.jibson@gmail.com>
Date:   Fri Sep 11 11:54:23 2020 -0600

    pgtest: enable pgtests during CI

commit e9683151eb108b8897e94055ac9fff5a1018f8dc
Author: Brennan Vincent <brennan@materialize.io>
Date:   Fri Sep 11 15:39:14 2020 -0400

    Make "unexpected foo" defaults in Avro decoders opt-in (#4194)

commit 4b3b5b5d9a126a9c64fe55cb0dd9752ce40bce00
Merge: 08b1250d0 fdcc7ae9f
Author: Matt Jibson <matt.jibson@gmail.com>
Date:   Fri Sep 11 13:26:19 2020 -0600

    Merge pull request #4193 from mjibson/portals
    
    pgwire: correctly handle portal suspension/max rows logic

commit fdcc7ae9fdcf3a88681eecca322a3c7bc137ae83
Author: Matt Jibson <matt.jibson@gmail.com>
Date:   Fri Sep 11 10:59:34 2020 -0600

    pgwire: correctly handle portal suspension/max rows logic
    
    This PR fixes two bugs and now we match Postgres for the included test.
    
    1) When max rows is specified and the number of remaining rows is
    equal to max rows, we should return portal suspended instead of command
    complete. Command complete should only be returned if more rows than
    are remaining were returned.
    2) If a portal has had all of its rows consumed, it should not be
    re-executed. Instead it should return command complete with a count of 0.

commit 08b1250d0cba393fe97329a087b9f32a51dc94a1
Merge: edf1e440c 0f16e8950
Author: Nikhil Benesch <nikhil.benesch@gmail.com>
Date:   Fri Sep 11 12:35:33 2020 -0400

    Merge pull request #4185 from benesch/view-param-binding
    
    sql: don't crash if parameters are used in a view

commit edf1e440cd3ca6ab6d2f70a8f0d9e42412b58dbf
Merge: 61d27d555 be3bdbb96
Author: Jessica Laughlin <JLDLaughlin@users.noreply.github.com>
Date:   Thu Sep 10 20:30:10 2020 -0400

    SHOW DATABASES should work even if current database has been dropped (#4188)
    
    Fixes unknown database error.

commit be3bdbb96a2c61bb7e8775036bdd75965f151573
Author: JLDLaughlin <jessica@materialize.io>
Date:   Thu Sep 10 20:10:34 2020 -0400

    Remove redundant test

commit 7088fc1b6ef46cbf55cab73151b9a1f3618d15f0
Author: JLDLaughlin <jessica@materialize.io>
Date:   Thu Sep 10 19:02:49 2020 -0400

    SHOW DATABASES should work even if current database has been dropped
    
    Fixes #4187

commit 61d27d555f7dbcc11a7ab2cea1a37135aa85e2be
Merge: 0fffa9988 0d33df664
Author: Matt Jibson <matt.jibson@gmail.com>
Date:   Thu Sep 10 16:06:36 2020 -0600

    Merge pull request #4166 from mjibson/uuid-avro
    
    avro: add UUID support

commit 0f16e89500ec2c185f893b7a76781562e9b66918
Author: Nikhil Benesch <nikhil.benesch@gmail.com>
Date:   Thu Sep 10 17:19:28 2020 -0400

    sql: don't crash if parameters are used in a view
    
    Prevent a query like
    
        CREATE VIEW v AS SELECT $1
    
    from crashing Materialize. Now Materialize returns the same error
    message as PostgreSQL ("there is no parameter $N").
    
    Fix #3906.

commit 0d33df664ba6ce3cc5fe646ee8cb3ecd1d9b5597
Author: Matt Jibson <matt.jibson@gmail.com>
Date:   Thu Sep 3 14:27:28 2020 -0600

    avro: add UUID support
    
    Fixes #3577

commit 0fffa99884b19bd23f19947020fef72442b462dc
Merge: 32e16f2c8 99d7c2ab8
Author: Andi Wang <5522362+wangandi@users.noreply.github.com>
Date:   Thu Sep 10 17:11:44 2020 -0400

    Merge pull request #4178 from wangandi/cleanerexplain
    
    EXPLAIN: Have each delta of a DeltaQuery and aggregation of a Reduce be on a separate line.

commit 32e16f2c8aa8d57bdaad4d3372904f18771fed80
Merge: 556da51ed 31f8a96cb
Author: Sean Loiselle <sean@materialize.io>
Date:   Thu Sep 10 15:40:26 2020 -0400

    Merge pull request #4184 from rjnn/fix_doc
    
    fix missing 'FROM' in docs

commit 31f8a96cb6a83848e65edf715d48110b125e8ee1
Author: Arjun Narayan <arjun@materialize.io>
Date:   Thu Sep 10 15:11:26 2020 -0400

    fix missing 'FROM' in docs

commit 556da51edbd32ceafdb47976e566cf3d304792e4
Merge: 160a6bf1b 7b0ff5943
Author: Nikhil Benesch <nikhil.benesch@gmail.com>
Date:   Thu Sep 10 15:04:32 2020 -0400

    Merge pull request #4183 from benesch/sql-subquery-panic
    
    sql: handle dependent map exprs when simplifying quantified comparisons

commit 7b0ff5943799f983ba899e4790a74ca69f750582
Author: Nikhil Benesch <nikhil.benesch@gmail.com>
Date:   Thu Sep 10 14:35:33 2020 -0400

    sql: handle dependent map exprs when simplifying quantified comparisons
    
    The optimization that simplifies quantified comparisons was not properly
    accounting for the fact that map expressions can refer to columns
    introduced by earlier expressions in the same map node.
    
    That map expressions work like this is the gift that just keeps on
    giving.
    
    Fix #4157.

commit 166092f6810df9aefc97f320a3e35a6727fced5a
Author: Benjamin Pellittieri <ben@materialize.io>
Date:   Thu Sep 10 11:44:54 2020 -0500

    Update broken link in README

commit 160a6bf1b0b273a72579af252546ba46681193c4
Merge: 46cb73af5 332b4c7c2
Author: Nikhil Benesch <nikhil.benesch@gmail.com>
Date:   Thu Sep 10 12:39:45 2020 -0400

    Merge pull request #4177 from benesch/uuid-capitalization
    
    *: use conventional capitalization for "Uuid"

commit 99d7c2ab8bd5ec04d5f2845aa68535501782c72d
Author: Andi Wang <andi@materialize.io>
Date:   Thu Sep 10 12:20:33 2020 -0400

    Have each delta of a DeltaQuery be on a separate line. Have each aggregation of a Reduce be on a separate line.

commit 46cb73af5d3fd29083d07430ca9be1ba1decbd8c
Merge: 4d801d190 87d1b54ff
Author: Matt Jibson <matt.jibson@gmail.com>
Date:   Thu Sep 10 10:14:29 2020 -0600

    Merge pull request #4165 from mjibson/pgtest
    
    pgtest: add postgres wire protocol tester

commit 4d801d190d8fa82cb9598ceb6e6248c6179002c5
Merge: 3c9a2a14a 865f65297
Author: Sean Loiselle <sean@materialize.io>
Date:   Thu Sep 10 11:02:06 2020 -0400

    Merge pull request #4169 from sploiselle/peeker-durations
    
    Add durations to peeker

commit 3c9a2a14a9621e9bfe3ea40813f54497782bcff9
Merge: bd3ab3616 165c93a0f
Author: Nikhil Benesch <nikhil.benesch@gmail.com>
Date:   Thu Sep 10 10:58:15 2020 -0400

    Merge pull request #4120 from benesch/042-relnotes
    
    doc/user: tweak v0.4.2 release notes

commit 165c93a0f59f369e0932acac454ef20203a9daea
Author: Nikhil Benesch <nikhil.benesch@gmail.com>
Date:   Mon Aug 31 15:46:27 2020 -0600

    doc/user: tweak v0.4.2 release notes
    
    Several fixes in here:
    
      * Move most release notes from v0.5.0 to v0.4.2. These release notes
        were only speculatively included in part of v0.5.0; now that v0.5.0
        is delayed, they will ship as v0.4.2 instead.
    
      * Remove release note about the `INSERT` panic. As a rule, we don't
        include release notes about experimental features, just to cut
        ourselves some slack.
    
      * Move release note about memory profiles out of the "improve
        memory utilization" section, as it does not improve memory
        utilization. There is probably a more general heading that would
        cover both memory usage and debugging improvements, but I'm not sure
        what it is, and this seemed easier.
    
      * Clarify and add links to several of the existing release notes to
        make them more relevant to end users.
    
      * Update the `SHOW COLUMNS` documentation to note the new ordering
        guarantees.

commit 865f65297ca4c1087a869ce0a9b1510f52912a05
Author: Sean Loiselle <himself@seanloiselle.com>
Date:   Wed Sep 9 13:39:32 2020 -0400

    demo/chbench: add workflow to run prescribed chbench benchmark

commit d516d880bb11dc3fefc0bb5fc9d1022e88c7e163
Author: Sean Loiselle <himself@seanloiselle.com>
Date:   Wed Sep 9 13:38:47 2020 -0400

    peeker: add warmup and run duration parameters

commit bd3ab36165d5a84eac0e32eee3862261b60a05f4
Author: Jessica Laughlin <JLDLaughlin@users.noreply.github.com>
Date:   Wed Sep 9 20:50:49 2020 -0400

    Create new mz_indexes system table (#4130)
    
    Adds a new mz_catalog.mz_indexes table that contains a unique row for each
    index in a Materialize instance. Updates the implementation of handle_show_indexes
    to query mz_indexes instead of building up index information from function calls
    to the catalog.

commit 87d1b54ffbc1d6cf49cb54d81217349d2341e108
Author: Matt Jibson <matt.jibson@gmail.com>
Date:   Tue Sep 8 10:09:08 2020 -0600

    pgtest: add postgres wire protocol tester
    
    Add a postgres wire protocol tester. This is useful because it allows
    us to test things against a real postgres server and compare the results
    to mz without needing to depend on drivers and their specific behavior.
    
    To demonstrate this, a test file is included that demonstrates a current
    bug in our pgwire implementation, hence why it isn't hooked up to
    builds yet.

commit d8e23be4518d2d2165c5156ccbb0fae8386a5885
Merge: bdd269d40 9d9fa22f2
Author: Matt Jibson <matt.jibson@gmail.com>
Date:   Wed Sep 9 17:37:18 2020 -0600

    Merge pull request #4119 from mjibson/testing
    
    testing: improvements

commit bdd269d4055bae6f4320a73efd1ee7ba1b727062
Merge: 39cb5bdcf f8a00a598
Author: Jessica Laughlin <JLDLaughlin@users.noreply.github.com>
Date:   Wed Sep 9 17:43:19 2020 -0400

    Rename catalog update functions (#4175)
    
    Renames coordinator functions updating system tables to match the report_x_update
    naming pattern.

commit 332b4c7c25e15b029a5cf793254c50dc36807ddd
Author: Nikhil Benesch <nikhil.benesch@gmail.com>
Date:   Wed Sep 9 17:40:58 2020 -0400

    *: use conventional capitalization for "Uuid"
    
    Unlike in Go, the conventional capitalization of acronyms in Rust uses CamelCase. Adjust "UUID" to "Uuid" accordingly.

commit f8a00a598b193e246c9344065ffcfe74621bb521
Author: JLDLaughlin <jessica@materialize.io>
Date:   Wed Sep 9 17:23:00 2020 -0400

    Rename catalog update functions

commit 39cb5bdcf8858e3631c338e37002616ccf7ef195
Merge: cccd53626 7650cb575
Author: Jessica Laughlin <JLDLaughlin@users.noreply.github.com>
Date:   Wed Sep 9 17:18:13 2020 -0400

    Database id should be an i64 in builtin tables (#4173)
    
    Updates database id representation in mz_databases and mz_schemas system tables
    from a String to an Int64. Also updates the SHOW SCHEMAS query that references these
    values.

commit 7650cb5755b270a97ab38cccb44b722d2c307911
Author: JLDLaughlin <jessica@materialize.io>
Date:   Wed Sep 9 17:08:46 2020 -0400

    Fix mz_databases columns in testdrive tests

commit c6e53ea7a8d44f2b1de1999f9bc2e72e836c0950
Author: JLDLaughlin <jessica@materialize.io>
Date:   Wed Sep 9 16:48:54 2020 -0400

    Database id should be an i64 in builtin tables

commit cccd536262fa5a6edbf6bc4aff09c44a9acc7b5a
Merge: 848d96109 4d89740ca
Author: Nikhil Benesch <nikhil.benesch@gmail.com>
Date:   Wed Sep 9 14:10:58 2020 -0400

    Merge pull request #4168 from benesch/malloc-conf-simple
    
    prof: simplify installation of malloc_conf

commit 4d89740cadfb32c69db534d26a596d65cd418a87
Author: Nikhil Benesch <nikhil.benesch@gmail.com>
Date:   Wed Sep 9 13:33:00 2020 -0400

    prof: simplify installation of malloc_conf
    
    Export `malloc_conf` as a `&[u8]` rather than a `Option<&c_char>`. This
    seems a good bit less magical.
    
    Based on my read of the Rust reference's "Type Layout" chapter, pointers
    and references have the same layout, and obviously a u8/i8s have the
    same layout, so a symbol of type `&[u8]` should be exactly equivalent to
    a symbol of type `*c_char`. The use of an option type in the old
    approach actually strikes me as kind of sketchy; not sure what the
    representational guarantees of `Option` are.
    
    I've manually verified that this new approach works on Linux.

commit 848d96109422526d37dfc33df30658c1f167788d
Author: Jessica Laughlin <JLDLaughlin@users.noreply.github.com>
Date:   Wed Sep 9 11:59:25 2020 -0400

    Fix hanging sqllogictest runner (#4167)
    
    Since I added the mz_catalog.mz_columns system table in #4085, the sqllogictest runner
    has been hanging locally. Adding the mz_columns table meant that we were broadcasting
    a new insert for every builtin column in a Materialize instance.
    
    Because the sqllogictest runner tried to instantiate a Coordinator before it
    launched its dataflow workers, the Coordinator was sending tons of messages into the
    comm channel without anything to read them back out. This issue was fixed for actual
    Materialize instances with #3284 by simply launching the dataflow workers first. However,
    this fix was not applied to the sqllogictest runner at that time.
    
    This PR updates the sqllogictest runner to launch its dataflow workers before it attempts
    to instantiate the Coordinator, mirroring the fix in #3284.

commit 00e520f0176fd3c7c0122d9cb4df25dfaca931d4
Merge: d8195b468 e08f422a4
Author: Justin Jaffray <justin.jaffray@gmail.com>
Date:   Wed Sep 9 10:18:21 2020 -0400

    Merge pull request #4079 from justinj/compacted-topics
    
    persistence: handle compacted topics

commit e08f422a42b6f3b62def0c033272a67bd1d5f729
Author: Justin Jaffray <justin.jaffray@gmail.com>
Date:   Wed Sep 2 15:27:46 2020 -0400

    persistence: handle multiple readers

commit be87504620da940a0a4584a1a9f00f65a8de72cf
Author: Justin Jaffray <justin.jaffray@gmail.com>
Date:   Thu Aug 27 09:57:48 2020 -0400

    persistence: handle compacted topics
    
    Fixes #4024.
    
    This changes the behaviour of the persister so that instead of assuming
    that the preceding message is always offset-1, to tag messages with
    their predecessor.
    
    TODO on tests.

commit 9d9fa22f27350f919e0abe9ef8016a44dc67f199
Author: Matt Jibson <matt.jibson@gmail.com>
Date:   Mon Aug 31 16:05:29 2020 -0600

    testdrive: add some mzcompose env vars

commit d3d084547c1d4270e08a1d635fbdb292f6b8725f
Author: Matt Jibson <matt.jibson@gmail.com>
Date:   Mon Aug 31 16:04:33 2020 -0600

    mzbuild: support specifying a build mode

commit d8195b46835a33ec86e0b7c6166e72d4baafbfd4
Merge: 42fc18e5d 82dda9bad
Author: Nikhil Benesch <nikhil.benesch@gmail.com>
Date:   Tue Sep 8 13:09:14 2020 -0400

    Merge pull request #4161 from MaterializeInc/dependabot/cargo/proc-macro2-1.0.20
    
    build(deps): bump proc-macro2 from 1.0.18 to 1.0.20

commit 82dda9badf0fdb4e95db2a35fed5945e5dccb5d8
Author: dependabot-preview[bot] <27856297+dependabot-preview[bot]@users.noreply.github.com>
Date:   Tue Sep 8 14:07:49 2020 +0000

    build(deps): bump proc-macro2 from 1.0.18 to 1.0.20
    
    Bumps [proc-macro2](https://github.com/alexcrichton/proc-macro2) from 1.0.18 to 1.0.20.
    - [Release notes](https://github.com/alexcrichton/proc-macro2/releases)
    - [Commits](https://github.com/alexcrichton/proc-macro2/compare/1.0.18...1.0.20)
    
    Signed-off-by: dependabot-preview[bot] <support@dependabot.com>

commit 42fc18e5d67abea2eed423eca6aff0de32e4d163
Merge: 7b8b93928 56e95e926
Author: Ruchir Khaitan <ruchir0001@gmail.com>
Date:   Tue Sep 8 11:20:01 2020 -0400

    Merge pull request #4156 from ruchirK/rk-4155
    
    test/perf-upsert: run lots of select count(*)s on mz

commit 56e95e92626f86d78a9d6188b2a006d9197ee5d3
Author: Ruchir Khaitan <ruchir0001@gmail.com>
Date:   Fri Sep 4 11:52:03 2020 -0400

    test/perf-upsert: run lots of select count(*)s on mz
    
    Touches #3234

commit 7b8b939288fd2d2724a70fee39cce0eedd3a8138
Merge: 6fac2a05a 2f2651834
Author: Nikhil Benesch <nikhil.benesch@gmail.com>
Date:   Tue Sep 8 10:06:13 2020 -0400

    Merge pull request #4159 from MaterializeInc/dependabot/cargo/dogsdogsdogs-db74efb
    
    build(deps): bump dogsdogsdogs from `a245417` to `db74efb`

commit 6fac2a05aaf1673f47e74facdd1311d0a2532b48
Merge: 078222c04 13fe4611f
Author: Nikhil Benesch <nikhil.benesch@gmail.com>
Date:   Tue Sep 8 10:05:51 2020 -0400

    Merge pull request #4160 from MaterializeInc/dependabot/cargo/syn-1.0.40
    
    build(deps): bump syn from 1.0.39 to 1.0.40

commit 13fe4611f58e739266b7bd166f5eb355d618505e
Author: dependabot-preview[bot] <27856297+dependabot-preview[bot]@users.noreply.github.com>
Date:   Mon Sep 7 10:32:18 2020 +0000

    build(deps): bump syn from 1.0.39 to 1.0.40
    
    Bumps [syn](https://github.com/dtolnay/syn) from 1.0.39 to 1.0.40.
    - [Release notes](https://github.com/dtolnay/syn/releases)
    - [Commits](https://github.com/dtolnay/syn/compare/1.0.39...1.0.40)
    
    Signed-off-by: dependabot-preview[bot] <support@dependabot.com>

commit 2f2651834cd0f140cc7908f3f2e00ffe1ca91692
Author: dependabot-preview[bot] <27856297+dependabot-preview[bot]@users.noreply.github.com>
Date:   Mon Sep 7 10:31:47 2020 +0000

    build(deps): bump dogsdogsdogs from `a245417` to `db74efb`
    
    Bumps [dogsdogsdogs](https://github.com/TimelyDataflow/differential-dataflow) from `a245417` to `db74efb`.
    - [Release notes](https://github.com/TimelyDataflow/differential-dataflow/releases)
    - [Commits](https://github.com/TimelyDataflow/differential-dataflow/compare/a245417fc24ee55bd640defdef3ea642fde8f34f...db74efb71a7644a9f0cddefc79657eba457bb16c)
    
    Signed-off-by: dependabot-preview[bot] <support@dependabot.com>

commit 078222c04e1cb44d9f2f8b8b2b0aaf6bd3bca1bb
Author: Frank McSherry <fmcsherry@me.com>
Date:   Fri Sep 4 13:33:58 2020 -0400

    Lift logging retraction earlier (#4158)
    
    This PR lifts the logging retraction action before count_total operators, which are stateful. It appears to result in a flat memory profile over time, though only evaluated on a few minute timescale. Thank to @ruchirK for the live coding session!

commit f7e2506d7095a3db781563511edeb28744fca685
Author: Jessica Laughlin <JLDLaughlin@users.noreply.github.com>
Date:   Fri Sep 4 11:24:25 2020 -0400

    Add UUID type to build_row_schema_json match (#4154)
    
    Fixes merge skew issue.

commit c487a09696f828e39ce59c44fbf7c5dcbb4066d0
Author: Chris Golden <551285+cirego@users.noreply.github.com>
Date:   Thu Sep 3 21:31:21 2020 -0700

    v0.4.2 has been released! (#4152)
    
    * v0.4.2 has been released!
    
    * Update config.toml

commit 2e72d16b9a4eb34dd0bb5abaab0f0de2c3e9c77a
Merge: dec2252e8 03ca903cc
Author: Matt Jibson <matt.jibson@gmail.com>
Date:   Thu Sep 3 21:02:48 2020 -0600

    Merge pull request #4143 from mjibson/uuid
    
    sql: add UUID type support

commit 03ca903cc2bc6f0c538180c0e7c52b6e95072a7b
Author: Matt Jibson <matt.jibson@gmail.com>
Date:   Wed Sep 2 14:57:48 2020 -0600

    sql: add UUID type support
    
    Add simple UUID type support with casting to and from strings.
    
    The uuid crate appears well supported and comes with postgres
    serialization support.
    
    Fixes #3687

commit dec2252e822d087fd7a8236efc6dba625d8eab11
Merge: 443fa0044 9b4f56ae1
Author: Sean Loiselle <sean@materialize.io>
Date:   Thu Sep 3 17:42:49 2020 -0400

    Merge pull request #4149 from MaterializeInc/mjibson-patch-1
    
    docs: remove extra word

commit 9b4f56ae1bdddaa67861453be283037ce09f822f
Author: Matt Jibson <matt.jibson@gmail.com>
Date:   Thu Sep 3 15:23:30 2020 -0600

    docs: remove extra word

commit 443fa0044449da23687872284a2570435081db1c
Author: Brennan Vincent <brennan@materialize.io>
Date:   Thu Sep 3 16:47:03 2020 -0400

    Allow deriving avro decoders that require state. (#4148)

commit 50426cff2a560aa34116117359a57fa8a798aef1
Author: Andi Wang <andi@materialize.io>
Date:   Thu Sep 3 13:42:25 2020 -0400

    Fix typo; improve comments.

commit a5662d87e8a0f3da42c11b1459fe3ce74fd7828d
Author: Brennan Vincent <brennan@materialize.io>
Date:   Thu Sep 3 12:55:57 2020 -0400

    Incrementally improve avro decoding API, by deriving simple cases (#4145)

commit 7e11d5f0cc1589c40cc1c9a337033a14020d8ddd
Merge: 0721f24b2 b51baf7e8
Author: Nikhil Benesch <nikhil.benesch@gmail.com>
Date:   Thu Sep 3 11:58:37 2020 -0400

    Merge pull request #4146 from benesch/ssl-ca
    
    doc/user: correct requirements on SSL configuration

commit b51baf7e801cbc9600394de5011f9b3f034fc907
Author: Nikhil Benesch <nikhil.benesch@gmail.com>
Date:   Thu Sep 3 11:30:55 2020 -0400

    doc/user: correct requirements on SSL configuration
    
    The ssl_ca_location is not actually required; if omitted, the system
    default CA certificates are used.

commit 0721f24b2c4b65d214c48b77cfd6b3d8ce33ab82
Author: Brennan Vincent <brennan@materialize.io>
Date:   Thu Sep 3 07:45:38 2020 -0400

    Use crate name "mz-avro" instead of "avro" internally (#4142)

commit 8f63733ede25faf423f353e62178609e248fd6af
Author: Jessica Laughlin <JLDLaughlin@users.noreply.github.com>
Date:   Wed Sep 2 20:15:09 2020 -0400

    ALTER RENAME statements update the mz_catalog_names system table (#4140)
    
    When an object is updated via an ALTER RENAME statement, issue a retraction
    for the old name and an addition of the new name to the mz_catalog.mz_catalog_names
    system table.

commit c695cedd7c59032389a956598a56a088a84c4caf
Author: Brennan Vincent <brennan@materialize.io>
Date:   Wed Sep 2 18:14:56 2020 -0400

    Avro CDCv2 encoder/decoder (#4125)

commit 908baba6ca2c63b7933311a3639253acfb5b9386
Author: Ruchir Khaitan <ruchir0001@gmail.com>
Date:   Wed Sep 2 16:22:51 2020 -0400

    dataflow: compact mz_scheduling_histogram and mz_scheduling_elapsed (#4127)
    
    This commit uses a cyclic dataflow to compact the mz_scheduling_histogram logs and the mz_scheduling_elapsed logs and bring down the rate of memory growth under heavy query load in Materialize by only retaining log entries that correspond to currently active dataflows.

commit 8ac1652e9e784ba5424281d0cb339d51858390c9
Author: Jessica Laughlin <JLDLaughlin@users.noreply.github.com>
Date:   Wed Sep 2 15:00:41 2020 -0400

    Remove qualified_name from mz_columns system table (#4139)
    
    Replaces the information that was contained in the qualified_name field
    with a join to the mz_catalog_names table.

commit 1e5f1d48bb0338582315f961cbd88f8fcd3ea5c3
Merge: c4ff75d7a 372db1460
Author: Sean Loiselle <sean@materialize.io>
Date:   Wed Sep 2 14:28:36 2020 -0400

    Merge pull request #4138 from sploiselle/str-length-desc
    
    docs: correct descriptions of string length function

commit 372db1460d0f607dd9e09c5affd1830384ff70b6
Author: Sean Loiselle <himself@seanloiselle.com>
Date:   Wed Sep 2 14:05:45 2020 -0400

    docs: correct descriptions of string length function

commit c4ff75d7ab5bac7579aabbb6f5e2a54afa1fc688
Author: Brennan Vincent <brennan@materialize.io>
Date:   Wed Sep 2 13:29:42 2020 -0400

    Fix "messages ingested" metric for upsert sources (#4137)

commit 6dcb09ddefdc82b6c9715a8e956683d2a031bb13
Author: Brennan Vincent <brennan@materialize.io>
Date:   Wed Sep 2 12:21:41 2020 -0400

    Random avro data in kgen (#4136)

commit ff3be06dd79545deb71bf4332271fdd770b355be
Merge: 389d4dcc5 29f8f46b9
Author: Matt Jibson <matt.jibson@gmail.com>
Date:   Wed Sep 2 10:19:53 2020 -0600

    Merge pull request #4132 from mjibson/int-timestamps
    
    coord: add integer_datetimes server var

commit 389d4dcc522acc051e9c6e4985da674070a82fd2
Author: Frank McSherry <fmcsherry@me.com>
Date:   Wed Sep 2 09:35:42 2020 -0400

    Use monoids for monotonic min/max (#4122)
    
    This PR uses differential dataflow's support for monoids (in place of integer counts) to accumulate min and max operators with monotonic (non-removing) inputs. This is appropriate for mins and maxes in a way that doesn't easily generalize to top k (at least, for non-trivial k), so trying it out here first.
    
    There may be some iteration as errors are surfaced. In particular, this implementation will perform less type-based error checking than the prior implementation, which would panic on type errors (this implementation just goes with the smallest non-Datum::Null value, which could in principle be of different types if we have errors elsewhere in the system).

commit 2106ff6fdceff0236afe5de48ed0b249c82e8ea0
Merge: 3521a1d67 a1f77506a
Author: Sean Loiselle <sean@materialize.io>
Date:   Wed Sep 2 09:32:27 2020 -0400

    Merge pull request #4134 from sploiselle/demo-chbench-q08-rewrite
    
    chbench q08 rewrite

commit a1f77506a8bfcbaaa057e2553766dda5ebfcadbe
Author: Sean Loiselle <sean@materialize.io>
Date:   Tue Sep 1 22:52:01 2020 -0400

    demo/chbench: rewrite slt results

commit 930f30c07ebfb40fc655d3d3623f4434e33b96e8
Author: Sean Loiselle <himself@seanloiselle.com>
Date:   Tue Sep 1 22:28:51 2020 -0400

    demo/chbench: rewrite q08 to stop erroring on division by zero

commit 3521a1d67fecbba6bcf9320be5a9cf8fd895135d
Merge: 99bb8b855 d7e35fecc
Author: Sean Loiselle <sean@materialize.io>
Date:   Tue Sep 1 19:21:11 2020 -0400

    Merge pull request #4133 from sploiselle/chbench-default-thread-fix
    
    demo/chbench: propagate NUM_WAREHOUSES to cloud-benchmark-infra

commit d7e35fecc7435015f50e6f2e7c0340bd168a0bac
Author: Sean Loiselle <himself@seanloiselle.com>
Date:   Tue Sep 1 19:14:12 2020 -0400

    demo/chbench: propagate NUM_WAREHOUSES to cloud-benchmark-infra

commit 29f8f46b92280071c96b294d414675aa626f9403
Author: Matt Jibson <matt.jibson@gmail.com>
Date:   Tue Sep 1 16:44:06 2020 -0600

    coord: add integer_datetimes server var
    
    This variable has been hardcoded to on since postgres 10. It affects how
    jdbc (and perhaps other drivers) interpret binary encoded timestamps. The
    encoding we are using corresponds to the hardcoded on setting.
    
    Fixes #4117

commit 99bb8b8553a4a2af9227a1ccd504ba309d795e6d
Author: Jessica Laughlin <JLDLaughlin@users.noreply.github.com>
Date:   Tue Sep 1 17:32:39 2020 -0400

    Move mz_catalog system table docs (#4116)
    
    Moves documentation for mz_catalog system tables (e.g., mz_catalog.mz_databases)
    to a new system-tables.md document.

commit 963b610f1044e9aa1e99b6324320bb4d08e1ed2b
Author: Andi Wang <andi@materialize.io>
Date:   Tue Sep 1 17:27:26 2020 -0400

    Update FilterEqualLiteral in light of Join having ScalarExpr equivalences.

commit c3fd8a25b3d0c99df4ace9cea8dd83cdd0586a83
Author: Brandon W Maister <bwm@materialize.io>
Date:   Tue Sep 1 17:18:20 2020 -0400

    Update dashboard from grafana.mz (#4129)
    
    This primarily fixes the metric name for messages behind kafka

commit f359477ace5981909dc7cbad016cf7d7d474864a
Author: Andi Wang <andi@materialize.io>
Date:   Tue Sep 1 16:30:35 2020 -0400

    Remove long unused optimization. Fix FilterEqualLiteral so it compiles.

commit 5eddd9e4c4348fdb6d6423f6165a24fddd91c765
Author: Chris Golden <551285+cirego@users.noreply.github.com>
Date:   Tue Sep 1 11:20:40 2020 -0700

    Update testing instructions in release process (#4121)

commit d62ae9a5462dbf157ffeedb52fb7ce19895538fb
Merge: 1eaf95a1c 41f1288ba
Author: Sean Loiselle <sean@materialize.io>
Date:   Tue Sep 1 14:14:49 2020 -0400

    Merge pull request #4128 from sploiselle/chbench-default-thread-fix
    
    demo/chbench: assert default number of threads through env var

commit 41f1288ba78fa01444d9df966ca6573832bc6077
Author: Sean Loiselle <himself@seanloiselle.com>
Date:   Tue Sep 1 14:10:08 2020 -0400

    demo/chbench: assert default number of threads through env var in benchmark

commit 1eaf95a1cb984f872cedec2575a705d0327a3b0e
Merge: 1540f1c92 d1a932d36
Author: Sean Loiselle <sean@materialize.io>
Date:   Tue Sep 1 11:34:47 2020 -0400

    Merge pull request #4126 from sploiselle/print-infra-env
    
    demo/chbench: add environment logging for benchmark workflows

commit d1a932d36cc0448bb575ad9cb4da0eb93dc08d98
Author: Sean Loiselle <himself@seanloiselle.com>
Date:   Tue Sep 1 11:16:29 2020 -0400

    demo/chbench: add environment logging for benchmark workflows

commit 1540f1c92ea1505aad5396da5e358094ed9e6287
Merge: 5be55389b f720c7738
Author: Brandon W Maister <bwm@materialize.io>
Date:   Tue Sep 1 10:49:06 2020 -0400

    Merge pull request #4112 from quodlibetor/rel-blockers
    
    Update release checklist for new release blocker label

commit 5be55389bb4b58536b3babacde22f951eda12893
Merge: c1da9520a 0acac1de4
Author: Ruchir Khaitan <ruchir0001@gmail.com>
Date:   Tue Sep 1 08:36:59 2020 -0400

    Merge pull request #4106 from ruchirK/rk-persistence-testdrive
    
    coord: reuse persisted files more aggressively

commit 0acac1de4c9b9d5869094b24b2f5372432eb91fc
Author: Ruchir Khaitan <ruchir0001@gmail.com>
Date:   Tue Sep 1 07:57:40 2020 -0400

    coord: augment source connectors with previously persisted files on-demand
    
    Previously, we only checked to see if we could reuse already persisted data
    after restarts, and we would then cache that information in the catalog. This
    was a simple behavior but ultimately not very useful. This commit teaches the
    coordinator to augment source connectors whenever they are being imported
    into a dataflow, which opens up more opportunities for the persisted data to
    be useful, and makes persistence easier to test.

commit c1da9520abe90df6b69d3283de1a2d377a14dd7a
Merge: 37c07482c db501d9a5
Author: Ruchir Khaitan <ruchir0001@gmail.com>
Date:   Tue Sep 1 07:42:51 2020 -0400

    Merge pull request #4001 from ruchirK/rk-3636
    
    sql-parser: support ALTER INDEX ... {RESET,SET} logical compaction window

commit 37c07482c1516efe7aef8a4798f1d3def8d34cf7
Merge: 5436fa7ce 2b84cd474
Author: Albert Wang <albert@materialize.io>
Date:   Mon Aug 31 16:31:32 2020 -0400

    Merge pull request #4115 from MaterializeInc/awang-relnote-0.4.2
    
    add relnotes for 0.4.2

commit 2b84cd474fe0d8526c16f7de9aa3b3e9b1d26141
Author: Albert Wang <albert@materialize.io>
Date:   Mon Aug 31 16:24:24 2020 -0400

    group memory changes together

commit f9fda148160b8e1bc2a249b9d07300bf3d899f18
Author: Albert Wang <albert@materialize.io>
Date:   Mon Aug 31 16:21:00 2020 -0400

    Group memory-related changes together

commit 5436fa7cef9107dc52b85f06723fe7cef8b867fe
Merge: b15fc8e32 90c65685b
Author: Jessica Laughlin <JLDLaughlin@users.noreply.github.com>
Date:   Mon Aug 31 16:20:47 2020 -0400

    Int64 schema_id (#4114)
    
    Updates the schema_id field of the mz_catalog.mz_schemas system table
    to be an Int64 instead of a String.

commit cf48504649625fdbf158f9d9761d97e313dbf5a2
Author: Albert Wang <albert@materialize.io>
Date:   Mon Aug 31 16:16:08 2020 -0400

    fix broken urls + syntax highlight VALUES

commit e6fba0a567d8604f3fa81d2dd834a4db18b8418d
Author: Albert Wang <albert@materialize.io>
Date:   Mon Aug 31 16:05:44 2020 -0400

    link to appropriate docs

commit e18325178d209b70d24eb7048d3386f55116d1f8
Author: Albert Wang <albert@materialize.io>
Date:   Mon Aug 31 16:02:14 2020 -0400

    Use proper github link syntax
    
    First reviewable step for #4113

commit 90c65685b1931512e331c97f737093d10366a930
Author: JLDLaughlin <jessica@materialize.io>
Date:   Mon Aug 31 16:01:33 2020 -0400

    Int64 schema_id

commit 6ae910ab4b1f39abd44a4f68388836d245d556bb
Author: Albert Wang <albert@materialize.io>
Date:   Mon Aug 31 15:53:14 2020 -0400

    Intermediate step for 0.4.2 release notes
    
    Collect all the relevant changes I could find.  Links directly to most PRs for reference (will be removed).

commit f720c7738f9154ea8a4f6b664bbf1844f29dea45
Author: Chris Golden <551285+cirego@users.noreply.github.com>
Date:   Mon Aug 31 12:17:11 2020 -0700

    Clarify how release notes are updated

commit 01264f0575355b98aaecc36162ba2452c62b776b
Author: Brandon W Maister <bwm@materialize.io>
Date:   Mon Aug 31 15:08:18 2020 -0400

    Don't create an issue for the relnotes team

commit b15fc8e320a90e34bb6bde338ea1bf252de8c2a1
Author: Chris Golden <551285+cirego@users.noreply.github.com>
Date:   Mon Aug 31 11:55:58 2020 -0700

    Prepare v0.4.3 dev (#4111)
    
    * release: v0.4.2-rc1
    
    * Prepare next phase of development: v0.4.3-dev

commit 2fcfae2fd5adcd93b679f75d0dc621b3c81bd637
Author: Brandon W Maister <bwm@materialize.io>
Date:   Mon Aug 31 14:51:24 2020 -0400

    Update release checklist for new release blocker label

commit d54adccbae825ea30bb3b6433ce2f0e82807c97d
Author: Brandon W Maister <bwm@materialize.io>
Date:   Mon Aug 31 14:17:42 2020 -0400

    Update release checklist (#4110)

commit 142bc2fa584c0fa1318129aafed4692e8b97fbbe
Merge: 53eb66f99 60a5344c9
Author: Matt Jibson <matt.jibson@gmail.com>
Date:   Mon Aug 31 12:14:57 2020 -0600

    Merge pull request #4109 from mjibson/testing-links
    
    doc: fix testing testing guide links

commit 53eb66f99ab682cece9006b6a9fe1af02e13675e
Merge: 0590da115 924af9494
Author: Sean Loiselle <sean@materialize.io>
Date:   Mon Aug 31 13:47:40 2020 -0400

    Merge pull request #4108 from sploiselle/chbench-num-warehouses
    
    demo/chbench benchmark tidying up

commit 60a5344c95389607f2a33d3d1f100480df5f1e10
Author: Matt Jibson <matt.jibson@gmail.com>
Date:   Mon Aug 31 11:23:08 2020 -0600

    doc: fix testing testing guide links

commit 924af94940e0ffd23f43556ff2222b1c6b0bde16
Author: Sean Loiselle <himself@seanloiselle.com>
Date:   Mon Aug 31 11:56:00 2020 -0400

    demo/chbench: clean up kafka ports

commit eb55b9162540b5fed15488ecdb36668cef8bbe8d
Author: Sean Loiselle <himself@seanloiselle.com>
Date:   Mon Aug 31 10:49:08 2020 -0400

    demo/chbench: allow setting num warehouses

commit 0590da115d746b53203201a26dd5d57cda1aa50c
Merge: b58133f48 e269ab5f5
Author: Ruchir Khaitan <ruchir0001@gmail.com>
Date:   Mon Aug 31 09:08:48 2020 -0400

    Merge pull request #4103 from MaterializeInc/dependabot/cargo/async-trait-0.1.40
    
    build(deps): bump async-trait from 0.1.38 to 0.1.40

commit e269ab5f529fc7f67da3856213ccb0fcfef4a256
Author: dependabot-preview[bot] <27856297+dependabot-preview[bot]@users.noreply.github.com>
Date:   Mon Aug 31 10:31:29 2020 +0000

    build(deps): bump async-trait from 0.1.38 to 0.1.40
    
    Bumps [async-trait](https://github.com/dtolnay/async-trait) from 0.1.38 to 0.1.40.
    - [Release notes](https://github.com/dtolnay/async-trait/releases)
    - [Commits](https://github.com/dtolnay/async-trait/compare/0.1.38...0.1.40)
    
    Signed-off-by: dependabot-preview[bot] <support@dependabot.com>

commit db501d9a5a804da6aff35eff615d271fa7f2de50
Author: Ruchir Khaitan <ruchir0001@gmail.com>
Date:   Thu Aug 20 10:56:16 2020 -0400

    sql-parser: support ALTER INDEX ... {RESET,SET} logical_compaction_window
    
    Closes #3636
    
    Previously, users had to set `logical_compaction_window` through a command line
    flag when running Materialize. This commit teaches Materialize how to set this
    parameter on a per-index basis.

commit c6c3d6a3cf19b68793281061e1a0a5f326e076db
Author: Ruchir Khaitan <ruchir0001@gmail.com>
Date:   Sat Aug 29 19:14:52 2020 -0400

    testdrive: fix validate_sink and consolidation.td
    
    Previously, validate_sink would not catch an error when comparing a single expected
    record against a empty vec of actually received records, because the function would
    zip two iterators together and one would be advanced, while the other was not. This
    commit fixes that behavior by calling next() on both iterators in parallel and
    complaining loudly if only one of them returns None.
    
    test/testdrive/consolidation.td was broken in a few ways. First, the CREATE SOURCE
    command and the kafka-ingest commands used incorrect Kafka topic names for the
    consistency topic and the data topic respectively. In both cases, we forgot to
    include the "testdrive-" prefix and "-${testdrive-seed}" suffix on topic names.
    
    Furthermore, the timestamping code expects to get Debezium formatted consistency
    information for ENVELOPE DEBEZIUM sources, and silently fails to parse the
    "Materialize-native" format in that case.

commit ad45b8b9d6f617520ecf45c4d271280c71b0c33d
Author: Ruchir Khaitan <ruchir0001@gmail.com>
Date:   Sat Aug 29 14:16:08 2020 -0400

    coord: rename *compaction_latency_ms to *compaction_window_ms

commit 556db838d5a28035eb91c2b0f03d5e185ea0185a
Author: Ruchir Khaitan <ruchir0001@gmail.com>
Date:   Sat Aug 29 14:11:11 2020 -0400

    sql: rename normalize::with_options to normalize::options

commit b58133f48a2458e8298d169b13fd74cf968ca668
Author: Jessica Laughlin <JLDLaughlin@users.noreply.github.com>
Date:   Fri Aug 28 16:32:43 2020 -0400

    Order SHOW COLUMNS output in source order (#4101)
    
    Adds an OrderByExpr to the Select statement generated in handle_show_columns.

commit b24590259ec025b9af764a636d7fcdd075d90a4b
Author: Jessica Laughlin <JLDLaughlin@users.noreply.github.com>
Date:   Fri Aug 28 16:31:59 2020 -0400

    Create filter_expr function (#4102)
    
    Generates a sql_parser::ast::Expr from a ShowStatementFilter.

commit e601fbc246b9e5adde98bc22a9423ee787a02556
Author: Jessica Laughlin <JLDLaughlin@users.noreply.github.com>
Date:   Fri Aug 28 15:33:48 2020 -0400

    Fix unreachable panic in INSERT code (#4100)
    
    Calls transform_query from handle_insert to fix the following
    panic: "entered unreachable code: Expr::Nested not desugared".

commit 888839cf29e47d78681e3504e7f5f80392bf785b
Merge: 09309bcdc 06bd49fa2
Author: Arjun Narayan <arjun@materialize.io>
Date:   Fri Aug 28 14:54:17 2020 -0400

    Merge pull request #4099 from rjnn/doc
    
    doc: remove kinesis alpha warning on kafka page

commit 06bd49fa28c9fd80dc6910a968916b7be0a9d524
Author: Arjun Narayan <arjun@materialize.io>
Date:   Fri Aug 28 14:51:56 2020 -0400

    doc: remove kinesis alpha warning on kafka page

commit 09309bcdc3719642b45b3d1e214e5b5427d3a4c6
Author: Jessica Laughlin <JLDLaughlin@users.noreply.github.com>
Date:   Fri Aug 28 13:43:22 2020 -0400

    Add mz_catalog.mz_columns system table (#4085)
    
    The mz_catalog.mz_columns table contains a row for each column in
    every Table, Source, and View. Each mz_columns row contains information
    about the column, such as: its name, if its nullable, and its type.
    
    mz_columns is used to implement SHOW COLUMNS.

commit b731535417ea4619248ef1d036c7a9fcb67e2559
Merge: 4072370cd 7641747a8
Author: Nikhil Benesch <nikhil.benesch@gmail.com>
Date:   Fri Aug 28 12:04:12 2020 -0400

    Merge pull request #4090 from MaterializeInc/dependabot/cargo/rand_distr-0.3.0
    
    build(deps): bump rand_distr from 0.2.2 to 0.3.0

commit 4072370cd513c5c6f98952cfe00854b2cc261842
Merge: b40a4aff9 12c438f8d
Author: Nikhil Benesch <nikhil.benesch@gmail.com>
Date:   Fri Aug 28 11:25:06 2020 -0400

    Merge pull request #4095 from MaterializeInc/dependabot/cargo/datadriven-0.2.0
    
    build(deps): bump datadriven from 0.1.0 to 0.2.0

commit 7641747a85ab5f68fd5320da31b3803430f9a88f
Author: dependabot-preview[bot] <27856297+dependabot-preview[bot]@users.noreply.github.com>
Date:   Fri Aug 28 15:05:37 2020 +0000

    build(deps): bump rand_distr from 0.2.2 to 0.3.0
    
    Bumps [rand_distr](https://github.com/rust-random/rand) from 0.2.2 to 0.3.0.
    - [Release notes](https://github.com/rust-random/rand/releases)
    - [Changelog](https://github.com/rust-random/rand/blob/master/CHANGELOG.md)
    - [Commits](https://github.com/rust-random/rand/compare/rand_distr-0.2.2...rand_distr-0.3.0)
    
    Signed-off-by: dependabot-preview[bot] <support@dependabot.com>

commit b40a4aff9b8247bee5b6a3e45df344d0cfbac3fe
Merge: f49cc2f85 c59e49473
Author: Nikhil Benesch <nikhil.benesch@gmail.com>
Date:   Fri Aug 28 11:04:23 2020 -0400

    Merge pull request #4092 from MaterializeInc/dependabot/cargo/clap-2.33.3
    
    build(deps): bump clap from 2.33.2 to 2.33.3

commit f49cc2f85d99f2beb7b3434f4ba82dac6fbcc8f6
Merge: 5be2ad71c 8676020a7
Author: Nikhil Benesch <nikhil.benesch@gmail.com>
Date:   Fri Aug 28 11:03:53 2020 -0400

    Merge pull request #4091 from MaterializeInc/dependabot/cargo/libc-0.2.76
    
    build(deps): bump libc from 0.2.74 to 0.2.76

commit 5be2ad71c2b614403b57a3314dcce356f7f01fc8
Merge: dc07ec0d4 13e9496d7
Author: Nikhil Benesch <nikhil.benesch@gmail.com>
Date:   Fri Aug 28 11:03:44 2020 -0400

    Merge pull request #4093 from MaterializeInc/dependabot/cargo/structopt-0.3.17
    
    build(deps): bump structopt from 0.3.16 to 0.3.17

commit dc07ec0d41d1339caffb5485f7b4aaffeca280c0
Merge: caa43c1aa a2465632a
Author: Nikhil Benesch <nikhil.benesch@gmail.com>
Date:   Fri Aug 28 11:03:34 2020 -0400

    Merge pull request #4094 from MaterializeInc/dependabot/cargo/reqwest-0.10.8
    
    build(deps): bump reqwest from 0.10.7 to 0.10.8

commit caa43c1aac0f4b2bc9b4b9b4a433c95c86dac78d
Merge: bc630fd27 a9b3d2e46
Author: Nikhil Benesch <nikhil.benesch@gmail.com>
Date:   Fri Aug 28 11:03:00 2020 -0400

    Merge pull request #4096 from benesch/no-failure-ii
    
    dataflow: remove failure, again

commit a9b3d2e46ff26f87e4c27474b677d038153a1a54
Author: Nikhil Benesch <nikhil.benesch@gmail.com>
Date:   Fri Aug 28 09:56:28 2020 -0400

    dataflow: remove failure, again
    
    These uses of failure got re-added after the big removal push. Switch
    them over to anyhow.

commit 12c438f8d5b6f9a79321d01759aff50db88ca7da
Author: dependabot-preview[bot] <27856297+dependabot-preview[bot]@users.noreply.github.com>
Date:   Fri Aug 28 13:52:59 2020 +0000

    build(deps): bump datadriven from 0.1.0 to 0.2.0
    
    Bumps [datadriven](https://github.com/justinj/datadriven) from 0.1.0 to 0.2.0.
    - [Release notes](https://github.com/justinj/datadriven/releases)
    - [Commits](https://github.com/justinj/datadriven/commits)
    
    Signed-off-by: dependabot-preview[bot] <support@dependabot.com>

commit a2465632a844997003399b2b7d84b2fe03711f67
Author: dependabot-preview[bot] <27856297+dependabot-preview[bot]@users.noreply.github.com>
Date:   Fri Aug 28 13:52:37 2020 +0000

    build(deps): bump reqwest from 0.10.7 to 0.10.8
    
    Bumps [reqwest](https://github.com/seanmonstar/reqwest) from 0.10.7 to 0.10.8.
    - [Release notes](https://github.com/seanmonstar/reqwest/releases)
    - [Changelog](https://github.com/seanmonstar/reqwest/blob/master/CHANGELOG.md)
    - [Commits](https://github.com/seanmonstar/reqwest/compare/v0.10.7...v0.10.8)
    
    Signed-off-by: dependabot-preview[bot] <support@dependabot.com>

commit 13e9496d7882857c73b84cf2e0d58dc93976e1bb
Author: dependabot-preview[bot] <27856297+dependabot-preview[bot]@users.noreply.github.com>
Date:   Fri Aug 28 13:52:11 2020 +0000

    build(deps): bump structopt from 0.3.16 to 0.3.17
    
    Bumps [structopt](https://github.com/TeXitoi/structopt) from 0.3.16 to 0.3.17.
    - [Release notes](https://github.com/TeXitoi/structopt/releases)
    - [Changelog](https://github.com/TeXitoi/structopt/blob/master/CHANGELOG.md)
    - [Commits](https://github.com/TeXitoi/structopt/compare/v0.3.16...v0.3.17)
    
    Signed-off-by: dependabot-preview[bot] <support@dependabot.com>

commit c59e4947361ecf9666ce1e76af3aa5b05dc04be8
Author: dependabot-preview[bot] <27856297+dependabot-preview[bot]@users.noreply.github.com>
Date:   Fri Aug 28 13:51:57 2020 +0000

    build(deps): bump clap from 2.33.2 to 2.33.3
    
    Bumps [clap](https://github.com/clap-rs/clap) from 2.33.2 to 2.33.3.
    - [Release notes](https://github.com/clap-rs/clap/releases)
    - [Changelog](https://github.com/clap-rs/clap/blob/v2.33.3/CHANGELOG.md)
    - [Commits](https://github.com/clap-rs/clap/compare/v2.33.2...v2.33.3)
    
    Signed-off-by: dependabot-preview[bot] <support@dependabot.com>

commit 8676020a7867275c50ac27d84b3287ed7467be3a
Author: dependabot-preview[bot] <27856297+dependabot-preview[bot]@users.noreply.github.com>
Date:   Fri Aug 28 13:51:12 2020 +0000

    build(deps): bump libc from 0.2.74 to 0.2.76
    
    Bumps [libc](https://github.com/rust-lang/libc) from 0.2.74 to 0.2.76.
    - [Release notes](https://github.com/rust-lang/libc/releases)
    - [Commits](https://github.com/rust-lang/libc/compare/0.2.74...0.2.76)
    
    Signed-off-by: dependabot-preview[bot] <support@dependabot.com>

commit bc630fd273d4f138e2c1caf4faa1d5fc8a923107
Merge: dd93ac576 27b451278
Author: Nikhil Benesch <nikhil.benesch@gmail.com>
Date:   Fri Aug 28 09:26:10 2020 -0400

    Merge pull request #4088 from benesch/rusqlite-bump
    
    deps: bump rusqlite to v0.24.0

commit dd93ac57615cbb5e986787f01c0b129e2ee35913
Merge: 5d360e87e 7a422d910
Author: Nikhil Benesch <nikhil.benesch@gmail.com>
Date:   Fri Aug 28 09:25:53 2020 -0400

    Merge pull request #4087 from benesch/redox-bump
    
    deps: bump to redox_users v0.3.5

commit 27b451278acc445103e8b7e77b1bc81f33c37bd6
Author: Nikhil Benesch <nikhil.benesch@gmail.com>
Date:   Thu Aug 27 23:06:29 2020 -0400

    deps: bump rusqlite to v0.24.0
    
    The new version of rusqlite depends on time v0.2, which leaves just two
    remaining crates that still depend on time v0.1.

commit 7a422d91091462712084feada3f66dd7c385e651
Author: Nikhil Benesch <nikhil.benesch@gmail.com>
Date:   Thu Aug 27 23:01:28 2020 -0400

    deps: bump to redox_users v0.3.5
    
    We don't support RedoxOS, but the redox_users crate gets pulled in as
    part of the `dirs` crate, which is a cross-platform abstraction layer
    over finding user's home directories and such. Bump to v0.3.5 to remove
    an old version of the base64 crate from our dependency set.
    
    We're inching ever closer to having no duplicate dependencies in our
    tree.

commit 5d360e87e97d624ac3c1468b19a9a3d3067d412a
Merge: 74dca7a4a 49479102b
Author: Nikhil Benesch <nikhil.benesch@gmail.com>
Date:   Thu Aug 27 22:27:55 2020 -0400

    Merge pull request #4077 from benesch/tb-resume
    
    tb: refactor + support resuming from checkpoint after restart

commit 74dca7a4ab705246bab3e4cc6e1e672321aa6294
Merge: 311a99f11 38df0305b
Author: Sean Loiselle <sean@materialize.io>
Date:   Thu Aug 27 17:08:58 2020 -0400

    Merge pull request #4083 from sploiselle/csv-type-recs
    
    docs: explain how to get typed data from CSV source

commit 311a99f110d926427bdb51abc3cb3fdd9e6565b4
Merge: 53d2fc18a 117609ad5
Author: Sean Loiselle <sean@materialize.io>
Date:   Thu Aug 27 16:48:13 2020 -0400

    Merge pull request #4082 from sploiselle/move-peeker-to-infra-machine
    
    demo/chbench: move peeker to infra machine

commit 38df0305b53774e9e483f1d364cc362056cb5ed8
Author: Sean Loiselle <himself@seanloiselle.com>
Date:   Thu Aug 27 16:38:39 2020 -0400

    docs: explain how to get typed data from CSV source

commit 117609ad5cf41b6a9b1cd98d87bbb90f0aed8efc
Author: Sean Loiselle <himself@seanloiselle.com>
Date:   Thu Aug 27 14:49:10 2020 -0400

    demo/chbench: move peeker to infra machine

commit 49479102be3d533999e9b3a269b2236cad811965
Author: Nikhil Benesch <nikhil.benesch@gmail.com>
Date:   Thu Aug 27 04:34:13 2020 -0400

    tb: refactor + support resuming from checkpoint after restart
    
    The headline feature here is support for resuming from the committed
    checkpoint when tb restarts without rescanning the whole source
    database. This doesn't guarantee that there won't be duplicates, but
    Materialize should in theory be able to handle that deduplication.
    
    This work includes a major refactor of tb as well. I apologize for
    refactoring and changing behavior in one commit, but the whole of tb is
    small enough that I hope it's not too hard to review. The new code
    avoids mixing a bunch of static and non-static state together in one
    large class, so it should be a good bit easier to follow.
    
    Fix MaterializeInc/tb#1.

commit 53d2fc18a48886840f12fdc9ee69e238c895d871
Merge: 5ebd0ff21 3a8d4ad03
Author: Sean Loiselle <sean@materialize.io>
Date:   Thu Aug 27 13:02:24 2020 -0400

    Merge pull request #4081 from sploiselle/csv-kafka-docs-typo
    
    docs: fix CSV kafka code sample

commit 3a8d4ad03de0cf424ccd14c25a84f1a82706af5d
Author: Sean Loiselle <himself@seanloiselle.com>
Date:   Thu Aug 27 13:00:34 2020 -0400

    docs: fix CSV kafka code sample

commit 5ebd0ff21f5b6c44dfb5069fc66a9aec09d60d97
Merge: 34179934c 47d13475c
Author: Brandon W Maister <bwm@materialize.io>
Date:   Thu Aug 27 12:36:23 2020 -0400

    Merge pull request #4074 from quodlibetor/server-error-context
    
    Provide context for mux error messages

commit 34179934c0d8571acd055574cb567eff91ea94e8
Author: Jessica Laughlin <JLDLaughlin@users.noreply.github.com>
Date:   Thu Aug 27 12:35:51 2020 -0400

    Tidy up recent mz_* system table work (#4080)
    
    Creates explicit structs for OpStatus::CreatedDatabase and OpStatus::DroppedDatabase.
    Creates mz_databases and mz_schemas-specific update_catalog_view helper
    functions.

commit 47d13475cc4c14cd9366b0e55754d6de384f4fdb
Author: Brandon W Maister <bwm@materialize.io>
Date:   Wed Aug 26 18:32:48 2020 -0400

    Provide context for mux error messages
    
    Currently some users are seeing error logs like this:
    
        materialized::mux: error handling connection: connection closed before message completed
    
    Which doesn't provide enough context for us to know where the issue is, or what it is.

commit 19e512c413222e7eecacae7ea51c2089738ded38
Merge: 199a7f031 d4883c03e
Author: Sean Loiselle <sean@materialize.io>
Date:   Wed Aug 26 19:41:59 2020 -0400

    Merge pull request #4075 from sploiselle/chbench-remote-kafka-listeners
    
    demo/chbench: create second, publicly accessible kafka listener

commit d4883c03ea1d27f962ee1d6ae8062196b6725cb0
Author: Sean Loiselle <himself@seanloiselle.com>
Date:   Wed Aug 26 19:21:31 2020 -0400

    demo/chbench: create second, publicly accessible kafka listener

commit 199a7f03192fba561d9dcd32edb6a3be79c71770
Author: Jessica Laughlin <JLDLaughlin@users.noreply.github.com>
Date:   Wed Aug 26 17:55:41 2020 -0400

    Add mz_catalog.mz_schemas system table (#4065)
    
    Adds a new mz_catalog.mz_schemas system table to track all schemas in a Materialize
    instance. Updates the implementation of SHOW SCHEMAS to use this new table
    instead of schema-related functions on the Catalog.

commit 57638993b7274fa9d0f984132926527067518f6f
Author: Frank McSherry <fmcsherry@me.com>
Date:   Wed Aug 26 17:16:10 2020 -0400

    Preliminary explanation of arrangement costs (#4042)
    
    This is preliminary, but I wanted to start writing down content explaining where arrangements show up in our query plans, how much memory they are expected to take, and (eventually) what one can do about them.

commit 6158e21b6c35a8bef8c88bb84ba0dfffaa296248
Merge: ca7c59809 7108449f7
Author: Nikhil Benesch <nikhil.benesch@gmail.com>
Date:   Wed Aug 26 16:11:40 2020 -0400

    Merge pull request #4072 from benesch/mzconduct-ports
    
    mzconduct: handle null port entries

commit 7108449f7a958ce1ae7eeb0a25f3b01b9a65fe7f
Author: Nikhil Benesch <nikhil.benesch@gmail.com>
Date:   Wed Aug 26 16:06:10 2020 -0400

    mzconduct: handle null port entries

commit ca7c5980966e7ec9eaa0ed61a3a88141606be8c8
Author: Frank McSherry <fmcsherry@me.com>
Date:   Wed Aug 26 15:55:41 2020 -0400

    Optimize outer equijoin planning (#4047)
    
    * logic for optimized outer join
    
    * improve and simplify plan
    
    * attempt stitching in of plan
    
    * improve handling of nulls in equijoin
    
    * correct right offsets
    
    * adjust type of null literal
    
    * add planning examples for outer joins

commit b019480b4c6d3d3c7a5891c3132cc6bb4e7a48c4
Merge: 8b422395c 4e2abfa57
Author: Nikhil Benesch <nikhil.benesch@gmail.com>
Date:   Wed Aug 26 15:49:11 2020 -0400

    Merge pull request #4071 from benesch/mzconduct-buglets
    
    mzconduct: fix default expected output for WaitFor{Pg,Mz}

commit 4e2abfa57f089d210a668a34a6be9549d6f5de07
Author: Nikhil Benesch <nikhil.benesch@gmail.com>
Date:   Wed Aug 26 15:20:40 2020 -0400

    mzconduct: fix default expected output for WaitFor{Pg,Mz}
    
    These steps support multi-row expectations now, but the default expected
    value had not been updated accordingly.

commit 59073f0a4310db5098092f6e39c02f0fc0248b33
Author: Nikhil Benesch <nikhil.benesch@gmail.com>
Date:   Wed Aug 26 15:19:28 2020 -0400

    mzconduct: don't parse output of `docker-compose ps`
    
    On my machine, although evidently not on CI, the output of
    `docker-compose ps` is dependent on terminal width, and so host port
    discovery fails. Use a different approach to get machine readable
    output. This is hopefully more robust.

commit 8b422395ca320c04836494e89737c6cc3198a3c0
Merge: af20e26b4 4e734a6b8
Author: Sean Loiselle <sean@materialize.io>
Date:   Wed Aug 26 14:34:13 2020 -0400

    Merge pull request #4068 from sploiselle/peeker-typo-fix
    
    demo/chbench: fix typo in config

commit af20e26b41938cd16864394e4303e437cfc99dc1
Author: Brandon W Maister <bwm@materialize.io>
Date:   Wed Aug 26 14:31:28 2020 -0400

    mzconduct: add success messages after retries (#4067)
    
    Before this only the error messages ever got pushed.

commit 4e734a6b88764af22bf6b9b5261712858b312dd1
Author: Sean Loiselle <himself@seanloiselle.com>
Date:   Wed Aug 26 14:18:47 2020 -0400

    demo/chbench: fix typo in config

commit 37cea852847e0303811f8c3e407abbbac036b28f
Merge: fda61e8c4 c48bf4117
Author: Nikhil Benesch <nikhil.benesch@gmail.com>
Date:   Wed Aug 26 14:11:20 2020 -0400

    Merge pull request #4053 from benesch/tb
    
    misc/tb: absorb "tail binlog" (tb) program

commit fda61e8c489dd91151b616437dcb69df59fba1a5
Merge: dbec52fd0 a2328f910
Author: Brandon W Maister <bwm@materialize.io>
Date:   Wed Aug 26 13:56:13 2020 -0400

    Merge pull request #4035 from quodlibetor/dashboard-docs
    
    Update dashboard docs to have fewer implicit priors.

commit a2328f910bed7a525049e44eee5fbbac98793403
Author: Brandon W Maister <bwm@materialize.io>
Date:   Mon Aug 24 23:34:35 2020 -0400

    Sync dashboard

commit e42d7e7db494f678c20bf466c52d5364889124df
Author: Brandon W Maister <quodlibetor@gmail.com>
Date:   Mon Aug 24 23:35:57 2020 -0400

    Make dashboard update instructions more copy-pastable

commit 119b46999db3a47ea5cc34d7b53aa844a0f426a3
Author: Brandon W Maister <bwm@materialize.io>
Date:   Mon Aug 24 16:11:44 2020 -0400

    dashboard: Document updating the arrangement collectors

commit 5f9a9bf8770f7cd5c1904aa3e0f54ec02e56d25c
Author: Brandon W Maister <bwm@materialize.io>
Date:   Mon Aug 24 15:50:19 2020 -0400

    Update dashboard docs to have fewer implicit priors.

commit c48bf4117c455a538cbb40632b544ed59086b994
Author: Brandon W Maister <bwm@materialize.io>
Date:   Wed Aug 26 13:35:00 2020 -0400

    tb: synchronize file writes on file object
    
    We don't need to ensure that only one file is written two at a time.

commit dbec52fd0368a814c652c9d9fb3412f22767a833
Merge: 56745dcf4 a9f947ea9
Author: Sean Loiselle <sean@materialize.io>
Date:   Wed Aug 26 13:31:19 2020 -0400

    Merge pull request #4066 from sploiselle/peeker-ambient-vars
    
    demo/chbench: propagate Kafka + SR ambient env vars into image

commit 6b0521e2d9224bcd8784715541d45a7855da0f2e
Author: Brandon W Maister <bwm@materialize.io>
Date:   Wed Aug 26 10:29:00 2020 -0400

    ci/test: ensure that tb ci workflow always starts from a clean slate

commit 33e00574468a0a68497b829d013e381bafdcd58f
Author: Brandon W Maister <bwm@materialize.io>
Date:   Wed Aug 26 10:26:14 2020 -0400

    ci/test: fix chbench mysql password for new defaults

commit a9f947ea944cfa51813e13a6d54f6aa83d6554cf
Author: Sean Loiselle <himself@seanloiselle.com>
Date:   Wed Aug 26 13:23:11 2020 -0400

    demo/chbench: propagate Kafka + SR ambient env vars into image

commit 56745dcf4110e787c2f6c5f5973f6ab26a1eb3e7
Merge: e817cb2f3 087f0162b
Author: Sean Loiselle <sean@materialize.io>
Date:   Wed Aug 26 12:51:41 2020 -0400

    Merge pull request #4054 from sploiselle/mzconduct-print-env
    
    peeker env var exposure

commit 087f0162b090f1967d9a8979d9bb4fa75a18d74f
Author: Sean Loiselle <himself@seanloiselle.com>
Date:   Wed Aug 26 11:04:56 2020 -0400

    demo/chbench: allow investigation into peeker's in situ environment variables

commit e817cb2f3b48990b5c0fceaf0cd124473e9e0443
Merge: 9eeabb081 3eaeacd7a
Author: Nikhil Benesch <nikhil.benesch@gmail.com>
Date:   Wed Aug 26 12:05:56 2020 -0400

    Merge pull request #4049 from benesch/jemalloc-again
    
    materialized: unlink jemalloc on macOS, again

commit 2acacc3662b853b867bb6c9cebf01f1b62cde14d
Author: Nikhil Benesch <nikhil.benesch@gmail.com>
Date:   Wed Aug 26 05:02:14 2020 -0400

    ci/test: enable tb test

commit e901e6b16a467b74c8fa9e0e09ba6a1706af295a
Author: Nikhil Benesch <nikhil.benesch@gmail.com>
Date:   Wed Aug 26 04:59:42 2020 -0400

    tb: periodically flush files
    
    Fix MaterializeInc/tb#24.

commit e5a8544424c0a7d8dc5bee0afa1d5b5a1401a98f
Author: Nikhil Benesch <nikhil.benesch@gmail.com>
Date:   Wed Aug 26 04:59:42 2020 -0400

    tb: upgrade to new stable "Debezium Engine" API
    
    The old "embedded" API is deprecated.

commit 0d41a1d309956ece08dd9758f214ac9173b29a38
Author: Nikhil Benesch <nikhil.benesch@gmail.com>
Date:   Wed Aug 26 03:35:57 2020 -0400

    misc/tb: absorb "tail binlog" (tb) program
    
    tb is becoming increasingly important for our customers. It previously
    lived in a separate repository
    
        https://github.com/MaterializeInc/tb
    
    where it was not subject to CI or our coding standards. This worked well
    when tb was a proof of concept, but it is now more important than that.
    
    This patch absorbs tb into the main Materialize repository. Immediate
    benefits include:
    
      * A new integration test that uses mzconduct.
    
      * Integration with mzbuild so that the materialize/tb Docker image is
        automatically kept up to date.
    
      * Adherence to the MaterializeInc/materialize code review standards.
    
    The big downside is that it is a bit harder to contribute to tb
    directly, but I think the tradeoff is well worth it.

commit 49fc8e6e310f594264d52244918081399aeb0e83
Author: Nikhil Benesch <nikhil.benesch@gmail.com>
Date:   Wed Aug 26 03:35:42 2020 -0400

    mzconduct: improve ability to run arbitrary sql

commit ac5574cddefa1ed8a39b9be5ed3a8f5051b7a40f
Author: Nikhil Benesch <nikhil.benesch@gmail.com>
Date:   Wed Aug 26 03:34:24 2020 -0400

    mzconduct: use root credentials as mysql defaults
    
    This makes life easier when root powers are needed, and it's not like
    there are security concerns with these containers.

commit f5770b976f033aa8b7e6403afaaa76420abc335a
Author: Nikhil Benesch <nikhil.benesch@gmail.com>
Date:   Wed Aug 26 03:32:56 2020 -0400

    mzconduct: fix directory handling in shell wrapper
    
    The shell wrapper for mzcompose was relativizing the CWD twice. Just do
    it once, so that invoking mzcompose from directories besides the
    repository root works properly.

commit 3eaeacd7ad250a2f67cadc8fcd05e61f74228ab2
Author: Nikhil Benesch <nikhil.benesch@gmail.com>
Date:   Tue Aug 25 17:20:24 2020 -0400

    materialized: unlink jemalloc on macOS, again
    
    This regressed in #3997. Try a different approach that preserves a
    single `prof` crate while also not linking jemalloc on macOS.
    
    Fix #4044.

commit 9eeabb081622c740235c3a3edfee020c6aa9afe1
Merge: 971a0fe7d 7dac5b515
Author: Sean Loiselle <sean@materialize.io>
Date:   Tue Aug 25 20:19:21 2020 -0400

    Merge pull request #4048 from sploiselle/chbench-schema-registry-port
    
    demo/chbench: make schema registry port deterministically accessible

commit 7dac5b5151b5051a1455099c4b11f52e33a00084
Author: Sean Loiselle <himself@seanloiselle.com>
Date:   Tue Aug 25 20:12:52 2020 -0400

    demo/chbench: make schema registry port deterministically accessible

commit 971a0fe7d21ebfe4a4bd6cf3d1fb44c50a6e2f9f
Merge: 901d281dc df88ec13a
Author: Sean Loiselle <sean@materialize.io>
Date:   Tue Aug 25 17:45:24 2020 -0400

    Merge pull request #4046 from sploiselle/chbench-lengthen-timer
    
    demo/chbench: lengthen timeouts for cloud benchmarks

commit df88ec13a609b098f01ea1510c21f6b25baaf87f
Author: Sean Loiselle <himself@seanloiselle.com>
Date:   Tue Aug 25 17:21:26 2020 -0400

    demo/chbench: lengthen timeouts for cloud benchmarks

commit 901d281dc8f0b16869093e0d223e682f62d12947
Merge: f1376b8d8 af5f295ad
Author: Sean Loiselle <sean@materialize.io>
Date:   Tue Aug 25 17:04:49 2020 -0400

    Merge pull request #4045 from sploiselle/chbench-mzcompose-ports
    
    demo/chbench: set exposed ports manually

commit af5f295ad9e990ec40cf22f833a9151db5c76eb5
Author: Sean Loiselle <himself@seanloiselle.com>
Date:   Tue Aug 25 16:21:37 2020 -0400

    demo/chbench: set exposed ports manually

commit f1376b8d8fc6664f37c4e9275e64300079935502
Merge: 2009ce5d1 7215bcf35
Author: Jessica Laughlin <JLDLaughlin@users.noreply.github.com>
Date:   Tue Aug 25 11:30:54 2020 -0400

    Update SHOW DATABASES to read from mz_catalog.mz_databases (#4033)
    
    Instead of reading the list of databases off the StatementContext's catalog,
    query the mz_catalog.mz_databases system table.

commit 2009ce5d1680ab66ecbeb497f6ab828e18920102
Merge: 2d9c65dba 125defab3
Author: Justin Jaffray <justin.jaffray@gmail.com>
Date:   Tue Aug 25 11:28:05 2020 -0400

    Merge pull request #4038 from justinj/fix-materialized-sources
    
    persistence: handle materialized sources properly

commit 7215bcf351f7246fa7cc44124442749e7af44435
Author: JLDLaughlin <jessica@materialize.io>
Date:   Tue Aug 25 11:13:30 2020 -0400

    Update tests

commit 125defab38973e4fece2d74b217c079246f4dca1
Author: Justin Jaffray <justin.jaffray@gmail.com>
Date:   Mon Aug 24 17:09:00 2020 -0400

    persistence: handle materialized sources properly
    
    Before, when we did the drop-recreate workflow, this would result in us
    dropping references to any indexes for the source. This commit changes
    the flow to just mutate the source connector in the catalog (which is
    safe, since it doesn't get persisted in the catalog).

commit b0e81890ec22354905688938aa3b0686a7463eae
Author: JLDLaughlin <jessica@materialize.io>
Date:   Tue Aug 25 10:31:21 2020 -0400

    Use ShowStatementFilter

commit 2d9c65dba9b69ec16e986fb1a88a0995068bcc10
Merge: 3df64bf17 ab58ec459
Author: Ruchir Khaitan <ruchir0001@gmail.com>
Date:   Mon Aug 24 19:55:09 2020 -0400

    Merge pull request #4034 from ruchirK/rk-persistence-improve-writes
    
    coord: change the way persister decides when to write

commit 30ba2a88645d0397789a0162e0a77aa05c29fe64
Author: JLDLaughlin <jessica@materialize.io>
Date:   Mon Aug 24 18:45:01 2020 -0400

    Move SELECT to handle_show_databases

commit fd2ff5d8b71732b1a2161a67e08e70ccf6ba3635
Author: JLDLaughlin <jessica@materialize.io>
Date:   Mon Aug 24 17:56:38 2020 -0400

    Fix sql-parser and sqllogictest

commit e036b7d2ea38b4b1e6a37a2a587b66756a3c3754
Author: JLDLaughlin <jessica@materialize.io>
Date:   Mon Aug 24 17:38:01 2020 -0400

    Update SHOW DATABASES testdrive tests

commit 4b69b38cad63348b1124cb2c645d58f697fe04be
Author: JLDLaughlin <jessica@materialize.io>
Date:   Mon Aug 24 17:06:04 2020 -0400

    Programmatically build mz_databases SELECT in parse_show
    
    Moves the hard-coded query to mz_catalog out of handle_show_databases()
    and into parse_show().

commit 3df64bf17c875b7dabf15eba8dc18e36b2646dd1
Author: Brennan Vincent <brennan@materialize.io>
Date:   Mon Aug 24 16:30:23 2020 -0400

    Add mz_records_per_dataflow_global metric to prometheus (#4036)

commit ab58ec45937fbe14902af7e703b40abd413bf7d5
Author: Ruchir Khaitan <ruchir0001@gmail.com>
Date:   Mon Aug 24 14:57:32 2020 -0400

    coord: change persister to immediately write when num_pending_records > user limit
    
    This is a simpler interface than the one previously. Set the persister to also
    flush sources every 10 minutes to give a relatively conservative bound on latency.

commit 0d935e17e75f1818b87e69cbf5c359a10ed5f70e
Author: JLDLaughlin <jessica@materialize.io>
Date:   Mon Aug 24 14:17:14 2020 -0400

    Remove list_databases from Catalog Trait
    
    list_databases() was only being used to implement SHOW DATABASES,
    which is now querying from mz_catalog.mz_databases, instead.

commit be9d85fabb7a2713b6426b1482ec0901f3671d76
Merge: acf16dee6 603489d94
Author: Nikhil Benesch <nikhil.benesch@gmail.com>
Date:   Mon Aug 24 13:45:43 2020 -0400

    Merge pull request #4032 from benesch/log-config
    
    materialized: print warnings/errors to stderr

commit 9eeb29280a7ba11ac72d83ad983d703b5fba3598
Author: JLDLaughlin <jessica@materialize.io>
Date:   Mon Aug 24 13:23:49 2020 -0400

    Keep handle_show_databases and MZ_DATABASES in sync
    
    To avoid creating a new dependency on the coord crate from the sql crate,
    add comments to handle_show_databases() and MZ_DATABASES to keep their
    respective relation representations of mz_catalog.mz_databases in sync.

commit 41ea7a88008c397152ae41efb464f4e3d94cfa94
Author: JLDLaughlin <jessica@materialize.io>
Date:   Mon Aug 24 13:01:38 2020 -0400

    SHOW DATABASES reads from mz_catalog.mz_databases
    
    Instead of reading the list of databases off the StatementContext's catalog,
    query Materialize for mz_catalog.mz_databases. Uses hard-coded information
    about the mz_databases built-in table.

commit acf16dee68eb604a2c3758c7b90c02cca272a718
Merge: 44de7ee3b c3f677445
Author: Andi Wang <5522362+wangandi@users.noreply.github.com>
Date:   Mon Aug 24 11:45:36 2020 -0400

    Merge pull request #4010 from wangandi/differential-join-bug
    
    Fix join correctness bugs caused by allowing differential join allowing a first arrangement

commit 603489d942cba35356d06500ef11ad8096c9d873
Author: Nikhil Benesch <nikhil.benesch@gmail.com>
Date:   Mon Aug 24 11:18:27 2020 -0400

    materialized: print warnings/errors to stderr
    
    Rework how we configure logging so that warnings/errors go to stderr in
    addition to the log file. This simplifies the panic handling code, too.
    Also remove the use of a global log file variable, which was gross; I
    found a way around that using `File::try_clone`.
    
    Closes #4015.

commit 44de7ee3bd1e6421e2215bf821e47178863f644f
Merge: 5dd1e2777 e09cfb09a
Author: Nikhil Benesch <nikhil.benesch@gmail.com>
Date:   Mon Aug 24 09:43:05 2020 -0400

    Merge pull request #4022 from benesch/dev-guide
    
    doc/dev: note that symbiosis mode is on the way out

commit e09cfb09a7d676f43ad929d5763b91c2c7d1205e
Author: Nikhil Benesch <nikhil.benesch@gmail.com>
Date:   Mon Aug 24 09:12:32 2020 -0400

    doc/dev: note that symbiosis mode is on the way out

commit 5dd1e2777c066d686653279885fbb38d4640ec50
Author: Ruchir Khaitan <ruchir0001@gmail.com>
Date:   Mon Aug 24 08:47:12 2020 -0400

    coord, dataflow: refactor persistence code
    
    Previously, the source persistence code was embedded in the coord and dataflow crates in a way that made the underlying structure hard to reason about.
    
    This commit moves all of the types around records that are persisted, encoding decoding those records, and interpreting persistence filenames to a separate file in the dataflow crate, as these responsibilities are shared by the coordinator and dataflow workers.
    
    In addition, this commit moves all of the logic around doing the actually writing to files, bookkeeping what has been written, and on restart, checking what was previously persisted to a separate file in the coord crate.

commit 081c9a9264e03c6ec6c1d2376f56e3f53a7f4e96
Merge: b5b9581f8 7897a6c00
Author: Nikhil Benesch <nikhil.benesch@gmail.com>
Date:   Mon Aug 24 08:31:15 2020 -0400

    Merge pull request #4017 from MaterializeInc/dependabot/cargo/differential-dataflow-a245417
    
    build(deps): bump differential-dataflow from `0a64d61` to `a245417`

commit b5b9581f83245de0279640c59119650c0263f336
Merge: 9df32a549 0483f52a5
Author: Nikhil Benesch <nikhil.benesch@gmail.com>
Date:   Mon Aug 24 08:30:59 2020 -0400

    Merge pull request #4021 from MaterializeInc/dependabot/cargo/dogsdogsdogs-a245417
    
    build(deps): bump dogsdogsdogs from `0a64d61` to `a245417`

commit 9df32a54923ef485d137017c7e2ae587aed18aea
Merge: 41eca0b3d cf2349c03
Author: Nikhil Benesch <nikhil.benesch@gmail.com>
Date:   Mon Aug 24 08:30:22 2020 -0400

    Merge pull request #4014 from MaterializeInc/dependabot/cargo/syn-1.0.39
    
    build(deps): bump syn from 1.0.38 to 1.0.39

commit 41eca0b3d75396ee8400de8ac9bcc1c362de1129
Merge: 4873736fd 3f7203c93
Author: Nikhil Benesch <nikhil.benesch@gmail.com>
Date:   Mon Aug 24 08:29:56 2020 -0400

    Merge pull request #4016 from MaterializeInc/dependabot/cargo/stacker-0.1.11
    
    build(deps): bump stacker from 0.1.10 to 0.1.11

commit 4873736fd58931c7a6a9d027daaf0444aec4e0d1
Merge: fae559b63 2f1427686
Author: Nikhil Benesch <nikhil.benesch@gmail.com>
Date:   Mon Aug 24 08:29:24 2020 -0400

    Merge pull request #4018 from MaterializeInc/dependabot/cargo/chrono-0.4.15
    
    build(deps): bump chrono from 0.4.13 to 0.4.15

commit fae559b638f4b02e542a2fc75b32468ff6165115
Merge: 1e51faf61 457568cd1
Author: Nikhil Benesch <nikhil.benesch@gmail.com>
Date:   Mon Aug 24 08:28:45 2020 -0400

    Merge pull request #4019 from MaterializeInc/dependabot/cargo/async-trait-0.1.38
    
    build(deps): bump async-trait from 0.1.36 to 0.1.38

commit 1e51faf616f226877d862ea64e763fb9f316bfb9
Merge: f0135a7ca 71bd59f33
Author: Nikhil Benesch <nikhil.benesch@gmail.com>
Date:   Mon Aug 24 08:28:23 2020 -0400

    Merge pull request #4020 from MaterializeInc/dependabot/cargo/smallvec-1.4.2
    
    build(deps): bump smallvec from 1.4.1 to 1.4.2

commit 0483f52a59bc3f029a7e564e42e021e272c1f7e5
Author: dependabot-preview[bot] <27856297+dependabot-preview[bot]@users.noreply.github.com>
Date:   Mon Aug 24 10:33:45 2020 +0000

    build(deps): bump dogsdogsdogs from `0a64d61` to `a245417`
    
    Bumps [dogsdogsdogs](https://github.com/TimelyDataflow/differential-dataflow) from `0a64d61` to `a245417`.
    - [Release notes](https://github.com/TimelyDataflow/differential-dataflow/releases)
    - [Commits](https://github.com/TimelyDataflow/differential-dataflow/compare/0a64d61bc7a69846781aed19f2756c8fb1b12c36...a245417fc24ee55bd640defdef3ea642fde8f34f)
    
    Signed-off-by: dependabot-preview[bot] <support@dependabot.com>

commit 71bd59f3346d5e5a634acc1e88c859f2b9e018a9
Author: dependabot-preview[bot] <27856297+dependabot-preview[bot]@users.noreply.github.com>
Date:   Mon Aug 24 10:33:23 2020 +0000

    build(deps): bump smallvec from 1.4.1 to 1.4.2
    
    Bumps [smallvec](https://github.com/servo/rust-smallvec) from 1.4.1 to 1.4.2.
    - [Release notes](https://github.com/servo/rust-smallvec/releases)
    - [Commits](https://github.com/servo/rust-smallvec/compare/v1.4.1...v1.4.2)
    
    Signed-off-by: dependabot-preview[bot] <support@dependabot.com>

commit 457568cd1d48869b965d512818aad7f62655af35
Author: dependabot-preview[bot] <27856297+dependabot-preview[bot]@users.noreply.github.com>
Date:   Mon Aug 24 10:32:54 2020 +0000

    build(deps): bump async-trait from 0.1.36 to 0.1.38
    
    Bumps [async-trait](https://github.com/dtolnay/async-trait) from 0.1.36 to 0.1.38.
    - [Release notes](https://github.com/dtolnay/async-trait/releases)
    - [Commits](https://github.com/dtolnay/async-trait/compare/0.1.36...0.1.38)
    
    Signed-off-by: dependabot-preview[bot] <support@dependabot.com>

commit 2f1427686d9c41259f2a5cc853423a6e866c7342
Author: dependabot-preview[bot] <27856297+dependabot-preview[bot]@users.noreply.github.com>
Date:   Mon Aug 24 10:32:30 2020 +0000

    build(deps): bump chrono from 0.4.13 to 0.4.15
    
    Bumps [chrono](https://github.com/chronotope/chrono) from 0.4.13 to 0.4.15.
    - [Release notes](https://github.com/chronotope/chrono/releases)
    - [Changelog](https://github.com/chronotope/chrono/blob/main/CHANGELOG.md)
    - [Commits](https://github.com/chronotope/chrono/compare/v0.4.13...v0.4.15)
    
    Signed-off-by: dependabot-preview[bot] <support@dependabot.com>

commit 7897a6c00c91bb9e5e8cb53971e91b02fd7777df
Author: dependabot-preview[bot] <27856297+dependabot-preview[bot]@users.noreply.github.com>
Date:   Mon Aug 24 10:32:03 2020 +0000

    build(deps): bump differential-dataflow from `0a64d61` to `a245417`
    
    Bumps [differential-dataflow](https://github.com/TimelyDataflow/differential-dataflow) from `0a64d61` to `a245417`.
    - [Release notes](https://github.com/TimelyDataflow/differential-dataflow/releases)
    - [Commits](https://github.com/TimelyDataflow/differential-dataflow/compare/0a64d61bc7a69846781aed19f2756c8fb1b12c36...a245417fc24ee55bd640defdef3ea642fde8f34f)
    
    Signed-off-by: dependabot-preview[bot] <support@dependabot.com>

commit 3f7203c9332732b464f84d3c5219648d47e80cdb
Author: dependabot-preview[bot] <27856297+dependabot-preview[bot]@users.noreply.github.com>
Date:   Mon Aug 24 10:31:54 2020 +0000

    build(deps): bump stacker from 0.1.10 to 0.1.11
    
    Bumps [stacker](https://github.com/rust-lang/stacker) from 0.1.10 to 0.1.11.
    - [Release notes](https://github.com/rust-lang/stacker/releases)
    - [Commits](https://github.com/rust-lang/stacker/compare/stacker-0.1.10...stacker-0.1.11)
    
    Signed-off-by: dependabot-preview[bot] <support@dependabot.com>

commit cf2349c0327d9c03c9cf78da8767ffe05948f974
Author: dependabot-preview[bot] <27856297+dependabot-preview[bot]@users.noreply.github.com>
Date:   Mon Aug 24 10:30:46 2020 +0000

    build(deps): bump syn from 1.0.38 to 1.0.39
    
    Bumps [syn](https://github.com/dtolnay/syn) from 1.0.38 to 1.0.39.
    - [Release notes](https://github.com/dtolnay/syn/releases)
    - [Commits](https://github.com/dtolnay/syn/compare/1.0.38...1.0.39)
    
    Signed-off-by: dependabot-preview[bot] <support@dependabot.com>

commit c3f677445c76c696ce5b4ca978c75f2776ead3a7
Author: Andi Wang <andi@materialize.io>
Date:   Fri Aug 21 22:03:40 2020 -0400

    Update query with new plan using an arrangement for the first input

commit f0135a7caa7a26cefa6299aee40471c84da27a2b
Merge: c5d82879a 5e1b66361
Author: Ruchir Khaitan <ruchir0001@gmail.com>
Date:   Fri Aug 21 21:09:49 2020 -0400

    Merge pull request #4011 from ruchirK/rk-persistence-followups-2
    
    Followups tasks from initial persistence prs

commit 5e1b66361ead10ece8d6d50357775fd71d2a7770
Author: Ruchir Khaitan <ruchir0001@gmail.com>
Date:   Wed Aug 19 17:00:21 2020 -0400

    coord: rework persister to select between timer and receiver

commit 5eadd6051ddf97fe8c806dde2137c0119e54d9fc
Author: Ruchir Khaitan <ruchir0001@gmail.com>
Date:   Wed Aug 19 13:02:19 2020 -0400

    coord: safely handle message delivery races in the persister

commit bfaf1582b49f4b49d91c6f862395b714ae780b5f
Author: Ruchir Khaitan <ruchir0001@gmail.com>
Date:   Tue Aug 18 16:04:30 2020 -0400

    coord,persistence: read metadata and data from the same channel
    
    Also, keep the persister thread waiting for reads as often as possible.

commit c085af9715e56f1a9042019e2b8f2a796caf43b1
Author: Ruchir Khaitan <ruchir0001@gmail.com>
Date:   Mon Aug 17 15:03:42 2020 -0400

    coord: use tokio spawn for persistence thread

commit 4c3c915d54ff41855551156229438f2f717a87e9
Author: Ruchir Khaitan <ruchir0001@gmail.com>
Date:   Mon Aug 17 11:45:54 2020 -0400

    coord: properly handle duplicate source instances in persistence
    
    Previously, it was possible for multiple source instances to send copies of
    their data to the persister thread and the persister thread would write out
    multiple copies of the data to disk. This commit changes that by deduplicating
    messages by offset before writing to persistent storage, and changes the behavior
    to keep the copy with the minimum timestamp over all duplicates.
    
    Alternatively, we could have changed the structure of the persister thread to
    key sources on SourceInstanceId instead of GlobalId, but that would mean that
    
    1. We would write down multiple copies of the source data
    2. It made the restart path a lot more complicated, as now the coord layer needs
    to know a source's SourceInstanceId before it can determine what data is
    available to be read.

commit 3ee7ad959155da594d989749fcc6ce4a2008cdd2
Author: Ruchir Khaitan <ruchir0001@gmail.com>
Date:   Fri Aug 21 19:28:53 2020 -0400

    coord: cleanup augment_source_connector

commit d57898009f68ffbd4cb9a10ca513cf46046ad4d5
Author: Ruchir Khaitan <ruchir0001@gmail.com>
Date:   Fri Aug 21 19:07:15 2020 -0400

    persistence: avoid crashing on read failures in dataflow
    
    Additionally, annotate a few more TODOs.

commit 9bc209b001ef572b3d8cd19864781a37e6cd2c0c
Author: Ruchir Khaitan <ruchir0001@gmail.com>
Date:   Fri Aug 21 13:53:51 2020 -0400

    dataflow: return keys in persisted files

commit 0e24bd890621e61b6d18a5d13a6377b2530ae638
Author: Ruchir Khaitan <ruchir0001@gmail.com>
Date:   Fri Aug 21 13:25:37 2020 -0400

    test/perf-upsert: add a flag to enable persistence

commit c5d82879a9c39575b9f83dd5813d9556745851ff
Author: Frank McSherry <fmcsherry@me.com>
Date:   Fri Aug 21 19:23:14 2020 -0400

    reduce frequency of compaction (#4004)

commit 4d687e4ef97c776f6b67adc3785ee40f866a1fec
Author: Andi Wang <andi@materialize.io>
Date:   Fri Aug 21 17:39:28 2020 -0400

    Conform to clippy.

commit e23c0fa36dec866cbfd54e158e1ee3cafe06bf10
Author: Andi Wang <andi@materialize.io>
Date:   Fri Aug 21 17:12:12 2020 -0400

    Add correctness tests for differential join with starting arrangement.

commit 4fd49ea0a3c8661300cb7f502ee03a278d61d31f
Author: Andi Wang <andi@materialize.io>
Date:   Fri Aug 21 17:11:20 2020 -0400

    Have the start be an arrangement only if it lines up with the next input.

commit daa8cd21b52e58d150e7452bef0ff6d86ceca5c1
Merge: 74d469a03 2b08c1615
Author: Nikhil Benesch <nikhil.benesch@gmail.com>
Date:   Fri Aug 21 16:39:05 2020 -0400

    Merge pull request #4009 from benesch/no-timestamp-batches
    
    coord: remove max_timestamp_batch parameter

commit 2b08c1615c52d85c94f782f912de6084502744f5
Author: Nikhil Benesch <nikhil.benesch@gmail.com>
Date:   Fri Aug 21 15:52:22 2020 -0400

    coord: remove max_timestamp_batch parameter
    
    Tuning the batch size is hard for users to understand, and provides
    less-optimal throughput than just using the natural batch size. Plus the
    batch size parameter was ignored for real-time sources, further
    increasing confusion. Just remove it.

commit f225ed3deb4eeba377631bea2ad1aae5dbabf3d0
Author: Andi Wang <andi@materialize.io>
Date:   Fri Aug 21 15:43:44 2020 -0400

    Prevent blank results due to misalignment between first arrangement
    and keys needed by second input.

commit 74d469a03e3bbc210288839da91e6056bb9a8d43
Author: Brennan Vincent <brennan@materialize.io>
Date:   Fri Aug 21 15:33:11 2020 -0400

    Enable (but do not active) memory profiling by default (#4007)

commit 7b3b0d4e3c5a190b6c345784c12284b1c02cbc8a
Author: Andi Wang <andi@materialize.io>
Date:   Fri Aug 21 14:45:14 2020 -0400

    Move *planning.slt to test/sqllogictest/transform.

commit 48b590cb306e144db75c5c4e32c10798ee7e9f54
Author: Andi Wang <andi@materialize.io>
Date:   Fri Aug 21 14:23:50 2020 -0400

    Account that source_columns are different when using a starting arrangement.

commit d44ef29a5cd164f4bb8ca5ba3baeefa561effaf1
Merge: ddf6e2273 232aff439
Author: Nikhil Benesch <nikhil.benesch@gmail.com>
Date:   Fri Aug 21 14:13:24 2020 -0400

    Merge pull request #3997 from benesch/prof-purity
    
    prof: merge back into one crate

commit ddf6e2273242a94c21da3c6ed53dbeaf61be2cc3
Merge: 2d1af2f78 d687b92be
Author: Justin Jaffray <justin.jaffray@gmail.com>
Date:   Fri Aug 21 12:52:55 2020 -0400

    Merge pull request #3981 from justinj/pread
    
    persistence: read persisted data on startup

commit 2d1af2f78d85a88b3fc1aa4ff1e7915d4bc277ad
Author: Frank McSherry <fmcsherry@me.com>
Date:   Fri Aug 21 12:46:48 2020 -0400

    Factor Avro serialization, reduce allocation (#4006)
    
    * factor serialization, reduce allocation
    
    * correct test

commit d687b92bea38ee5228570851e4206a4b7a4f698f
Author: Justin Jaffray <justin.jaffray@gmail.com>
Date:   Thu Aug 13 13:22:32 2020 -0400

    persistence: read persisted data on startup
    
    This is still pretty messy, but I wanted to get it up for someone to
    take a look at! There's a couple things I'm unsure about, namely how to
    test it appropriately, and some other stuff marked with TODOs.

commit 436e5db5dbc4de7dec68c2f5bcd0c44e48ccc290
Merge: 38f70e6f6 836db1b96
Author: Jessica Laughlin <JLDLaughlin@users.noreply.github.com>
Date:   Fri Aug 21 11:04:21 2020 -0400

    Support mz_database (#3999)
    
    Adds a new mz_catalog.mz_databases system table that will contain all databases
    in a Materialize instance.

commit 836db1b9657551fed5ee5eeea8fa23b8ffeed3e6
Author: JLDLaughlin <jessica@materialize.io>
Date:   Fri Aug 21 08:03:13 2020 -0400

    Return unknown database error
    
    If we try to resolve an item in an unknown databse, surface the error.
    This may happen if a user deletes the current database.

commit a7d8a1c8c207ace961ee79b11f4a3b1b653f9951
Author: JLDLaughlin <jessica@materialize.io>
Date:   Thu Aug 20 17:46:12 2020 -0400

    add ambient schema check to get_schema and get_schema_mut
    
    Since Materialize allows users to drop the current database, it's possible
    that we will try to resolve the schema of a database that no longer exists.
    In that case, we should fall back to searching the list of ambient schemas.

commit bc3ae339b739761388b3447196fb3114dd2c6afa
Author: JLDLaughlin <jessica@materialize.io>
Date:   Thu Aug 20 17:42:08 2020 -0400

    Small refactors

commit 38f70e6f60243f70b1905d82d0797778709b9bc8
Author: Frank McSherry <fmcsherry@me.com>
Date:   Thu Aug 20 15:55:10 2020 -0400

    fix merge skew (#4002)

commit a966bf9f6ad1cd6dd61b71681a16025482312ba3
Author: Frank McSherry <fmcsherry@me.com>
Date:   Thu Aug 20 15:20:03 2020 -0400

    Monotonic TopK and Reduce::{min, max} (#3994)
    
    Fixes #3987
    
    This PR introduces a "monotonic" dataflow analysis, which starts from Envelope::None sources, and is observed by RelationExpr::TopK operators. "Monotonic" collections only insert records, and never remove them. In this case, the TopK operator can retract any inputs that are not produced as outputs, allowing it to maintain a compact memory footprint even under unbounded inputs.

commit cb8ad93dfd8527092c3b78501c2921c3633aee2e
Merge: 4e8365148 58a280dd1
Author: Nikhil Benesch <nikhil.benesch@gmail.com>
Date:   Thu Aug 20 12:22:22 2020 -0400

    Merge pull request #3992 from benesch/table-buglets
    
    coord,sql: fix some table buglets

commit 9bb362907b266a218cd1bf9879245e6acb5deace
Author: JLDLaughlin <jessica@materialize.io>
Date:   Thu Aug 20 12:10:52 2020 -0400

    Fix SHOW test

commit f99557a24e1fc705c3c025b14596dccc36d69ec4
Author: JLDLaughlin <jessica@materialize.io>
Date:   Thu Aug 20 11:49:35 2020 -0400

    Fix breaking tests

commit 58a280dd19ff9286838e54c530f2e380f1b70c96
Author: Nikhil Benesch <nikhil.benesch@gmail.com>
Date:   Wed Aug 19 17:21:49 2020 -0400

    sql: prevent inserting into system tables + non-tables

commit 7b6887bc755ac1dbce926256d6bbdc49134720a6
Author: Nikhil Benesch <nikhil.benesch@gmail.com>
Date:   Wed Aug 19 17:15:15 2020 -0400

    coord: prevent dropping a table's default index
    
    ...without dropping the table too, at least. Unlike sources, where an
    unmaterialized source is reasonable, tables are implicitly always
    materialized, since Materialize is the source of truth.
    
    Fix #3905.

commit 76ea970216c5bcfcbfdd25c5394ae2cd9e125387
Author: Nikhil Benesch <nikhil.benesch@gmail.com>
Date:   Wed Aug 19 16:47:34 2020 -0400

    coord: make default index assumptions more obvious
    
    Follow up from #3982.

commit 5b9da122b981e5858112a4c6d4d40fe631d2d354
Author: JLDLaughlin <jessica@materialize.io>
Date:   Thu Aug 20 11:03:01 2020 -0400

    Support mz_database

commit 4e836514883031c557d5de4187708cc5f846170f
Author: Frank McSherry <fmcsherry@me.com>
Date:   Thu Aug 20 10:54:32 2020 -0400

    Use timely logging calibration (#3998)
    
    This PR uses new timely Logger::new() arguments to add a duration offset to the supplied instant for logging. This allows us to wind the instant further back than Instant may allow, and in particular use the unix epoch as calibration.

commit 232aff439f38d96eafcd963433eebcae2e1c450a
Author: Nikhil Benesch <nikhil.benesch@gmail.com>
Date:   Thu Aug 20 03:44:47 2020 -0400

    ci: run clippy on macOS on PRs
    
    Now that compliation varies significantly between macOS/non-macOS
    targets, it's worth running clippy on macOS on every PR. This catches
    issues like missing `#[allow(dead_code)]` directives that are only
    required when compiling on macOS.
    
    Touches #1976.

commit 6ffe7027d0147f51ad6e20b3e20aa84ef421a368
Author: Nikhil Benesch <nikhil.benesch@gmail.com>
Date:   Thu Aug 20 03:39:15 2020 -0400

    prof: merge back into one crate
    
    The split between prof-common and prof-jemalloc is awkward, and exists
    only to work around Cargo's lack of target-specific features. Work
    around that in a different way, so that prof can be a single crate whose
    jemalloc support is conditional on a "jemalloc" feature.
    
    The new workaround involves depending on a special
    "materialized-not-macos" crate when building for non-macOS targets. This
    crate enables the jemalloc feature of the prof crate, and due to the way
    Cargo unions features together across crates, this enables the jemalloc
    feature of the prof crate for *everyone*. This is essentially a hack for
    getting target-specific features on stable Rust.
    
    There are two big advantages of doing it this way:
    
      * `prof` is closer to being ready for public consumption.
      * The approach generalizes to future target-specific features that may
        need to be enabled, especially if those features are in dependencies
        which we do not control. (We could only split up the prof crate into
        its macOS and non-macOS halves because we controlled it.)

commit c627b24d35f946328d9e2798a4bf6c0a9b8d4d57
Merge: 2c0c77367 73977f698
Author: Nikhil Benesch <nikhil.benesch@gmail.com>
Date:   Thu Aug 20 03:05:34 2020 -0400

    Merge pull request #3996 from benesch/union-multi
    
    expr: allow unioning an arbitrary number of inputs

commit 2c0c77367c81dc6454b40f5da8f813dd3d92091c
Merge: 08dd2a8ea f7db54dae
Author: Nikhil Benesch <nikhil.benesch@gmail.com>
Date:   Thu Aug 20 03:04:50 2020 -0400

    Merge pull request #3955 from JLDLaughlin/local-timestamps
    
    Musing: try using wall clock time

commit f7db54dae82fb0d17ddfcb11d750fe946b345927
Author: JLDLaughlin <jessica@materialize.io>
Date:   Fri Aug 14 14:05:06 2020 -0400

    coord,dataflow: move tables + logging sources into wall-clock time domain

commit 73977f698512a2e0cb1cd892a86f22b6517edaf6
Author: Nikhil Benesch <nikhil.benesch@gmail.com>
Date:   Thu Aug 20 02:06:43 2020 -0400

    expr: allow unioning an arbitrary number of inputs
    
    RelationExpr::Union was previously limited to unioning two inputs at a
    time. This was problematic for VALUES clauses in particular, which are
    planned by unioning together many single row collections. For example
    
         VALUES (1), (2), (3)
    
    is planned as:
    
        %0 =
        | Constant ()
        | Map 1
    
        %1 =
        | Constant ()
        | Map 2
    
        %2 =
        | Union %0 %1
    
        %3 =
        | Constant ()
        | Map 3
    
        %4 =
        | Union %2 %3
    
    This resulted in very deep trees of union operators with large VALUES
    clauses. Attempting to plan these deep trees would lead to stack
    overflows, as in #3995.
    
    Since large VALUES clauses are common, teach RelationExpr::Union to
    support an arbitrary number of inputs. Now the example above plans as:
    
        %0 =
        | Constant ()
        | Map 1
    
        %1 =
        | Constant ()
        | Map 2
    
        %2 =
        | Constant ()
        | Map 3
    
        %3 =
        | Union %0 %1 %2
    
    This scales much better, and avoids overflowing the stack. (It still
    plans + optimizes slowly, but we have to start somewhere.)
    
    Multi-unions are also likely to be slightly faster in dataflow
    execution, since they plan as a single timely concat operator, rather
    than a nested tree of concat operators.
    
    Fix #3995.

commit 08dd2a8ea6120f9c8966622494c10daeed41010c
Merge: 36232296a 082d818d6
Author: Nikhil Benesch <nikhil.benesch@gmail.com>
Date:   Wed Aug 19 16:18:47 2020 -0400

    Merge pull request #3990 from benesch/coord-typo
    
    coord: fix typo in comment

commit 082d818d604c4c95987b7c72f9d22aebd0ed3ec9
Author: Nikhil Benesch <nikhil.benesch@gmail.com>
Date:   Wed Aug 19 15:58:23 2020 -0400

    coord: fix typo in comment
    
    Follow up from #3982.

commit 36232296acc73360dcae783da69858d4564ee326
Merge: 2dbf323cb 8dd1ca8e1
Author: Nikhil Benesch <nikhil.benesch@gmail.com>
Date:   Wed Aug 19 15:57:42 2020 -0400

    Merge pull request #3982 from benesch/coord-refactor
    
    coord: major cleanup

commit 2dbf323cb7a4d2cbada6208442e6f51473008d16
Merge: 307278526 658898a0d
Author: Nikhil Benesch <nikhil.benesch@gmail.com>
Date:   Wed Aug 19 15:54:37 2020 -0400

    Merge pull request #3989 from benesch/publish-typo
    
    doc/user: correct release version

commit 658898a0de825d267d66895bf2e112d328801a1e
Author: Nikhil Benesch <nikhil.benesch@gmail.com>
Date:   Wed Aug 19 15:39:14 2020 -0400

    doc/user: correct release version

commit 307278526f4cdba05020c247a050b0668cad5d87
Merge: 5f4aaae31 1e0b686bf
Author: Nikhil Benesch <nikhil.benesch@gmail.com>
Date:   Wed Aug 19 15:35:33 2020 -0400

    Merge pull request #3988 from benesch/publish-041
    
    doc/user: mark v0.4.1 as published

commit 1e0b686bf5ee7b8d21187e316e6a27f6245bd53b
Author: Nikhil Benesch <nikhil.benesch@gmail.com>
Date:   Wed Aug 19 15:33:32 2020 -0400

    doc/user: mark v0.4.1 as published

commit 5f4aaae31be165f94df5fd8222b0f7a294e1bf0b
Merge: 2e3d92e24 599180d1b
Author: Brennan Vincent <brennan@materialize.io>
Date:   Wed Aug 19 15:17:36 2020 -0400

    Merge pull request #3986 from benesch/multiple-brokers
    
    kafka-util: support multiple Kafka broker addresses

commit 599180d1b4d1ac14e77df0def86a9c164eacda1b
Author: Nikhil Benesch <nikhil.benesch@gmail.com>
Date:   Wed Aug 19 14:36:26 2020 -0400

    kafka-util: support multiple Kafka broker addresses
    
    This regressed in #3797. Add an integration test for connecting to
    multiple Kafka brokers to ensure this doesn't regress in the future.

commit 8dd1ca8e155336518065543ba16f580305e4066f
Author: Nikhil Benesch <nikhil.benesch@gmail.com>
Date:   Wed Aug 19 03:10:02 2020 -0400

    coord: adjust dataflow building + shipping APIs
    
    Reconfiguring the APIs for building and shipping DataflowDescs results
    in much simpler call sites, and hopefully easier-to-understand mutation
    patterns. In the new API:
    
      * `build...dataflow` methods do not mutate any coordinator state,
        and return a DataflowDesc.
      * `import...into_dataflow` methods do not mutate any coordinator
        state, but modify the provided `DataflowDesc`.
      * neither the build nor import APIs take `catalog::{Item,View}`, as
        these catalog types are unnecessarily hard to construct for
        transient dataflows.
      * the `ship_dataflow` method is the only method that mutates
        coordinator state based on the provided `DataflowDesc`. It also
        broadcasts that `DataflowDesc` to the dataflow workers.
    
    This isn't perfect, but it should make things much easier to reason
    about, because the construction of the dataflow description is better
    separated from updating coordinator state.

commit 409ec9f842f8e7f03e8b60502862b79d07a21987
Author: Nikhil Benesch <nikhil.benesch@gmail.com>
Date:   Wed Aug 19 02:19:46 2020 -0400

    coord: fix method naming and location
    
    There are no behavioral changes in this commit. The changes include:
    
      * Using the "handle_XXX" terminology consistently to refer to the
        top-level handler function for a coordinator command.
    
      * Colocating all the hander functions near the top of the coordinator
        impl block.
    
      * Removing unnecessary `pub` designations from a number of
        methods/functions, and removing some resulting dead code.

commit 5588d704647d519ab592184f2bba8a384688534b
Author: Nikhil Benesch <nikhil.benesch@gmail.com>
Date:   Wed Aug 19 02:14:40 2020 -0400

    coord: move dump_catalog function to catalog mod
    
    This relieves some more pressure on coord.rs.

commit 697f970b739e2504348ccdb39294e3abffb9a88a
Author: Nikhil Benesch <nikhil.benesch@gmail.com>
Date:   Wed Aug 19 02:11:37 2020 -0400

    coord: split arrangement_state mod into dedicated file
    
    This cuts down on the size of coord.rs, which is still too large.

commit 623e063c518cd5d25a84fea3b48e145663657b3c
Author: Nikhil Benesch <nikhil.benesch@gmail.com>
Date:   Wed Aug 19 02:03:43 2020 -0400

    coord: combine dataflow validation and broadcasting
    
    Doesn't seem like there is any good reason to have these separate.

commit 1ef9e8b6b9c4b2bc532d116b9fd8aff9a182bf64
Author: Nikhil Benesch <nikhil.benesch@gmail.com>
Date:   Wed Aug 19 01:29:11 2020 -0400

    coord: don't track table indexes
    
    Computing whether a view depends on a table is easy enough to do on the
    fly, and is also more correct, because it properly captures transitive
    dependencies.

commit f4d240fd977b01f8db119a2e937d45964b752236
Author: Nikhil Benesch <nikhil.benesch@gmail.com>
Date:   Wed Aug 19 01:21:16 2020 -0400

    coord: remove ViewState
    
    The information contained within ViewState is easily derived from the
    catalog. Removing it avoids a lot of superfluous bookkeeping.

commit 8c977e21491d07a923e48d2f9850519c4ff12eef
Author: Nikhil Benesch <nikhil.benesch@gmail.com>
Date:   Tue Aug 18 17:36:41 2020 -0400

    coord: derive queryability information from catalog
    
    Whether a view is "queryable" or not derives from whether it is possible
    to find indexes for all of the view's inputs. We were previously
    denormalizing this information in the coordinator and keeping it up to
    date by manually propagating querability when new indexes were created.
    
    There were two big downsides to this approach:
    
      * The logic was a bit brittle and error prone. Modifications to the
        coordinator could easily result in missetting the queryability state,
        which caused hard to track down bugs.
    
      * The metadata only existed in the coordinator, and so `SHOW VIEWS`
        and `SHOW SOURCES` had to be special-cased in order to be computed
        in the coordinator. Besides being a bit annoying, this was about to
        impede #913 (mirroring `SHOW` data as views), and prevented using
        `SHOW {SOURCES,VIEWS} ... WHERE`.
    
    The new approach simply computes the queryability property on demand
    using information that is available in the catalog, resolving both of
    the above downsides.
    
    One potential downside of the new approach is that `SHOW VIEWS` has to
    do more work to compute queryability, but the performance of `SHOW
    VIEWS` is not particularly important. The hot path (`SELECT`) is
    probably unaffected by this patch, since computing queryability is done
    concurrently with finding the nearest indexes for the view.

commit 2e3d92e2408e36d3171c7b829873a85b716075f4
Merge: 347813f62 04b3a861d
Author: Sean Loiselle <sean@materialize.io>
Date:   Tue Aug 18 17:17:37 2020 -0400

    Merge pull request #3957 from sploiselle/single-service-workflows
    
    chbench: single service workflows

commit 04b3a861d4caba1883058b9aa261763ea1ec9a87
Author: sploiselle <sean@materialize.io>
Date:   Thu Aug 13 23:04:38 2020 -0400

    infra: introduce workflows to spin up mz independently of chbench

commit 39f3a2a85c37acd503acad01b8dbf35522da6ac0
Author: Nikhil Benesch <nikhil.benesch@gmail.com>
Date:   Tue Aug 18 12:01:52 2020 -0400

    coord: don't track view uses separately from catalog
    
    We were duplicating the dependency information in both the coordinator
    metadata and the catalog. This added complexity and the possibility of
    the metadata getting out of sync. Rework so that the coordinator just
    uses the view dependency information from the catalog, rather than
    duplicating it.
    
    Note that the comment that said "Only views, not sources, on which the
    views depends" appears to have been entirely wrong.

commit 347813f622087b49574cb334848f8ae445c761f8
Merge: fcf79e0ad deac64336
Author: Nikhil Benesch <nikhil.benesch@gmail.com>
Date:   Tue Aug 18 14:44:34 2020 -0400

    Merge pull request #3980 from benesch/global-uses-api
    
    expr: make API of RelationExpr::global_uses nicer

commit deac64336d1d807123d5406556cfb234c401ed62
Author: Nikhil Benesch <nikhil.benesch@gmail.com>
Date:   Tue Aug 18 12:16:56 2020 -0400

    expr: make API of RelationExpr::global_uses nicer
    
    No caller wants to supply their own vector, so just teach the
    global_uses method to return a vector by handling the recursive
    parameter passing internally.

commit fcf79e0add75addb8aba709312e46f35771f711b
Merge: aa88bf1df ca013bd05
Author: Nikhil Benesch <nikhil.benesch@gmail.com>
Date:   Tue Aug 18 12:18:03 2020 -0400

    Merge pull request #3976 from benesch/separate-tables
    
    coord,sql: separate tables and sources

commit ca013bd057e183e31177f64daeaa12f2a6e47892
Author: Nikhil Benesch <nikhil.benesch@gmail.com>
Date:   Tue Aug 18 00:12:20 2020 -0400

    coord,sql: separate tables and sources
    
    A table is still a local source at the level of the dataflow layer, but
    tables and sources are now treated separately by the sql/coord layers.
    This ensures `SHOW SOURCES`/`SHOW TABLES` show different data.

commit aa88bf1df6f5fab6d2fe9467570a28c677f9c9e2
Merge: bc1d11eef 2e2be6a33
Author: Nikhil Benesch <nikhil.benesch@gmail.com>
Date:   Mon Aug 17 13:06:07 2020 -0400

    Merge pull request #3967 from MaterializeInc/dependabot/cargo/rdkafka-2901a4b
    
    build(deps): bump rdkafka from `9a713e3` to `2901a4b`

commit 2e2be6a33e505539e714c3c1ddcd223e1d07d5b6
Author: dependabot-preview[bot] <27856297+dependabot-preview[bot]@users.noreply.github.com>
Date:   Mon Aug 17 16:47:33 2020 +0000

    build(deps): bump rdkafka from `9a713e3` to `2901a4b`
    
    Bumps [rdkafka](https://github.com/fede1024/rust-rdkafka) from `9a713e3` to `2901a4b`.
    - [Release notes](https://github.com/fede1024/rust-rdkafka/releases)
    - [Commits](https://github.com/fede1024/rust-rdkafka/compare/9a713e35b6063983db546bcc09bd155206a4c3d1...2901a4b9027c3cce6fcae48c124fe5296397704a)
    
    Signed-off-by: dependabot-preview[bot] <support@dependabot.com>

commit bc1d11eef59aa02aeed6816ba919c7ea31bdb37f
Merge: 95bdf53d5 8f3389308
Author: Nikhil Benesch <nikhil.benesch@gmail.com>
Date:   Mon Aug 17 12:45:24 2020 -0400

    Merge pull request #3974 from benesch/protobuf-217
    
    deps: upgrade to protobuf 2.17 ecosystem

commit 8f3389308a370874fd9666752892805b456fe7e6
Author: Nikhil Benesch <nikhil.benesch@gmail.com>
Date:   Mon Aug 17 12:02:20 2020 -0400

    deps: upgrade to protobuf 2.17 ecosystem

commit 95bdf53d5d3bcd9e2edb9d69b1c6e65ca715e759
Merge: f8d535065 f7523cfee
Author: Nikhil Benesch <nikhil.benesch@gmail.com>
Date:   Mon Aug 17 11:52:08 2020 -0400

    Merge pull request #3972 from benesch/coord-comment
    
    coord: add commentary about logging index special case

commit f8d535065f10b3bc8c4e63978989bfd9984c9da3
Merge: 5b74c21a5 bcae45900
Author: Nikhil Benesch <nikhil.benesch@gmail.com>
Date:   Mon Aug 17 11:06:02 2020 -0400

    Merge pull request #3965 from MaterializeInc/dependabot/cargo/serde-1.0.115
    
    build(deps): bump serde from 1.0.114 to 1.0.115

commit f7523cfeee06494c50ca0cf856273a0c4e3b41ed
Author: Nikhil Benesch <nikhil.benesch@gmail.com>
Date:   Mon Aug 17 11:04:28 2020 -0400

    coord: add commentary about logging index special case
    
    Follow up from #3963.

commit 5b74c21a516a9e6cd6334b12b8aa94d3af229c9f
Merge: 6bfa05843 c3890347b
Author: Nikhil Benesch <nikhil.benesch@gmail.com>
Date:   Mon Aug 17 10:59:28 2020 -0400

    Merge pull request #3963 from benesch/no-input-special-case
    
    coord,dataflow: un-special-case local inputs

commit 6bfa0584338263a9bfd1297d104f8276945f2ec3
Merge: 6cda22658 9c488dff0
Author: Nikhil Benesch <nikhil.benesch@gmail.com>
Date:   Mon Aug 17 10:42:12 2020 -0400

    Merge pull request #3968 from MaterializeInc/dependabot/cargo/tracing-0.1.19
    
    build(deps): bump tracing from 0.1.18 to 0.1.19

commit 6cda226586cd512de4d24076bd593f6692f640f6
Merge: 5afeedc76 d881a928c
Author: Nikhil Benesch <nikhil.benesch@gmail.com>
Date:   Mon Aug 17 10:40:46 2020 -0400

    Merge pull request #3970 from MaterializeInc/dependabot/cargo/dogsdogsdogs-0a64d61
    
    build(deps): bump dogsdogsdogs from `704beeb` to `0a64d61`

commit 5afeedc76976e4b3bc8a706247cf8bfc0dd4efda
Merge: fe2086d92 a215fb40d
Author: Nikhil Benesch <nikhil.benesch@gmail.com>
Date:   Mon Aug 17 10:39:44 2020 -0400

    Merge pull request #3971 from MaterializeInc/dependabot/cargo/rlimit-0.4.0
    
    build(deps): bump rlimit from 0.3.0 to 0.4.0

commit c3890347ba1b9925f4f2e9c4da3f2fdd80898824
Author: Nikhil Benesch <nikhil.benesch@gmail.com>
Date:   Mon Aug 17 01:39:21 2020 -0400

    coord,dataflow: un-special-case local inputs
    
    The only difference between a local source and an external source is
    that data comes from a local Timely unordered input rather than Kafka or
    a file. Yet the coordinator and dataflow layers had a separate API for
    describing how to build a local input. This complicated the code
    unnecessarily, so remove it. Local sources are now built and exported as
    an index via DataflowDescs, just like for external sources.
    
    Supersedes #3888.

commit fe2086d92ed70727edd0a76175acbc420797a8df
Merge: 8f1489566 e9df86126
Author: Andi Wang <5522362+wangandi@users.noreply.github.com>
Date:   Mon Aug 17 10:18:27 2020 -0400

    Merge pull request #3944 from wangandi/differential_start_arr
    
    Allow differential join to use an arrangement for first input.

commit a215fb40df042517b3ad51f7704dfb6332ee2c12
Author: dependabot-preview[bot] <27856297+dependabot-preview[bot]@users.noreply.github.com>
Date:   Mon Aug 17 10:55:32 2020 +0000

    build(deps): bump rlimit from 0.3.0 to 0.4.0
    
    Bumps [rlimit](https://github.com/Nugine/rlimit) from 0.3.0 to 0.4.0.
    - [Release notes](https://github.com/Nugine/rlimit/releases)
    - [Commits](https://github.com/Nugine/rlimit/compare/v0.3.0...v0.4.0)
    
    Signed-off-by: dependabot-preview[bot] <support@dependabot.com>

commit d881a928cc7de549adcf0846862e963233ae0bb1
Author: dependabot-preview[bot] <27856297+dependabot-preview[bot]@users.noreply.github.com>
Date:   Mon Aug 17 10:55:20 2020 +0000

    build(deps): bump dogsdogsdogs from `704beeb` to `0a64d61`
    
    Bumps [dogsdogsdogs](https://github.com/TimelyDataflow/differential-dataflow) from `704beeb` to `0a64d61`.
    - [Release notes](https://github.com/TimelyDataflow/differential-dataflow/releases)
    - [Commits](https://github.com/TimelyDataflow/differential-dataflow/compare/704beeb3e078b3689ae580c03d4e23c4ff909508...0a64d61bc7a69846781aed19f2756c8fb1b12c36)
    
    Signed-off-by: dependabot-preview[bot] <support@dependabot.com>

commit 9c488dff0ebb6ae2f8bfeebdaf41d966912ceb47
Author: dependabot-preview[bot] <27856297+dependabot-preview[bot]@users.noreply.github.com>
Date:   Mon Aug 17 10:54:11 2020 +0000

    build(deps): bump tracing from 0.1.18 to 0.1.19
    
    Bumps [tracing](https://github.com/tokio-rs/tracing) from 0.1.18 to 0.1.19.
    - [Release notes](https://github.com/tokio-rs/tracing/releases)
    - [Commits](https://github.com/tokio-rs/tracing/compare/tracing-0.1.18...tracing-0.1.19)
    
    Signed-off-by: dependabot-preview[bot] <support@dependabot.com>

commit bcae459001c8ebf0effcf73d1c58d411fd18f1ac
Author: dependabot-preview[bot] <27856297+dependabot-preview[bot]@users.noreply.github.com>
Date:   Mon Aug 17 10:52:59 2020 +0000

    build(deps): bump serde from 1.0.114 to 1.0.115
    
    Bumps [serde](https://github.com/serde-rs/serde) from 1.0.114 to 1.0.115.
    - [Release notes](https://github.com/serde-rs/serde/releases)
    - [Commits](https://github.com/serde-rs/serde/compare/v1.0.114...v1.0.115)
    
    Signed-off-by: dependabot-preview[bot] <support@dependabot.com>

commit 8f148956606ba1d07f677b1c269d278b31bf1256
Merge: 91ea9d909 91d6f7ab5
Author: Nikhil Benesch <nikhil.benesch@gmail.com>
Date:   Sun Aug 16 21:28:50 2020 -0400

    Merge pull request #3961 from benesch/cat-api
    
    coord: make catalog responsible for installing builtins

commit 91d6f7ab5ce6d3db8d6ae2c62b554c2702f44ec7
Author: Nikhil Benesch <nikhil.benesch@gmail.com>
Date:   Sun Aug 16 16:22:38 2020 -0400

    coord: make catalog responsible for installing builtins
    
    Putting the catalog in charge of installing its own builtins is better
    separation of concerns and allows for more code reuse. It also paves the
    way for a more complicated commit to remove the use of
    SourceConnector::Local.

commit 91ea9d909aa4a7812d82353d5ffd0e5673660627
Merge: 115451922 f0031cdf3
Author: Nikhil Benesch <nikhil.benesch@gmail.com>
Date:   Sun Aug 16 16:50:05 2020 -0400

    Merge pull request #3959 from benesch/builtins
    
    coord: unify logging and catalog views

commit f0031cdf3ff753aad174c09ffdf2155f340700fa
Author: Nikhil Benesch <nikhil.benesch@gmail.com>
Date:   Sun Aug 16 12:48:14 2020 -0400

    coord: unify logging and catalog views

commit 1154519228564c55456f4aa5427e21a3343b4820
Author: Ruchir Khaitan <ruchir0001@gmail.com>
Date:   Sun Aug 16 15:55:01 2020 -0400

    demo,test: Rework tests to respect the message-count parameter (#3958)

commit b55ed45362fbee7eb5280296a3b6c16f346a745b
Author: sploiselle <sean@materialize.io>
Date:   Fri Aug 14 17:21:17 2020 -0400

    peeker: extend toml config to support bash-like env vars

commit f87b54431654bbbc4b3a0cdd6421c48e7a1e3d72
Merge: a1e1de98b 9ec5c1fc8
Author: Nikhil Benesch <nikhil.benesch@gmail.com>
Date:   Fri Aug 14 16:24:26 2020 -0400

    Merge pull request #3956 from benesch/prepare-v0.5.0-dev
    
    Prepare next phase of development: v0.5.0-dev

commit 9ec5c1fc85121348b87ed3fbbc6c19cc88e07a77
Author: Nikhil Benesch <nikhil.benesch@gmail.com>
Date:   Fri Aug 14 16:01:48 2020 -0400

    Prepare next phase of development: v0.5.0-dev

commit a1e1de98b62a836b171004122f0f16ac9c734ef0
Merge: 3bd35d069 d8e85ef50
Author: Nikhil Benesch <nikhil.benesch@gmail.com>
Date:   Fri Aug 14 15:14:11 2020 -0400

    Merge pull request #3954 from MaterializeInc/slt-rewrite
    
    sqllogictest: rewrite sqlite results for improvements in avg precision

commit 3bd35d0699938bd8503ca33d2c8e7c79500072fb
Merge: 589365c89 9d9919e27
Author: Brandon W Maister <bwm@materialize.io>
Date:   Fri Aug 14 14:28:22 2020 -0400

    Merge pull request #3953 from quodlibetor/peeker-debug
    
    Add some conveniences for debugging workflows that depend on peeker

commit e9df86126ad41bbdc82502421d608259107c05e7
Author: Andi Wang <andi@materialize.io>
Date:   Fri Aug 14 13:51:21 2020 -0400

    Fix trailing space.

commit fe6e49500301390afd76cf1b3a7293c1de86dcc0
Author: Andi Wang <andi@materialize.io>
Date:   Fri Aug 14 13:42:53 2020 -0400

    Add comment on delta query planning.

commit 2f9c3b643170604825f1379fe04b969b992f76d2
Author: Andi Wang <andi@materialize.io>
Date:   Fri Aug 14 13:38:25 2020 -0400

    Make differential join generic over both arrangements.

commit aae4df9b9e78ae21d1f9f290b2410de8280c5925
Author: Andi Wang <andi@materialize.io>
Date:   Fri Aug 14 13:37:45 2020 -0400

    Add comments about join implementation decisions.

commit d8e85ef506d08467312489ae9bc84aef0367f847
Author: Nikhil Benesch <nikhil.benesch@gmail.com>
Date:   Fri Aug 14 12:40:24 2020 -0400

    sqllogictest: rewrite sqlite results for improvements in avg precision

commit 589365c890999cfe6e3b0ca64145502550a2e5f3
Merge: 41fe5b71b 0332dee99
Author: Nikhil Benesch <nikhil.benesch@gmail.com>
Date:   Fri Aug 14 12:18:11 2020 -0400

    Merge pull request #3951 from benesch/docs-versioning
    
    doc/user: polish release notes for v0.4.1 + add basic doc versioning

commit 9d9919e270dbfbabeda7d3f16c83c16ffb3c4510
Author: Brandon W Maister <bwm@materialize.io>
Date:   Fri Aug 14 12:13:54 2020 -0400

    peeker: Log which sources were created in terminal failure
    
    There's a big difference between zero sources being created and 1+ sources.

commit 0332dee99efd95d372d2b9b403c72eeb306b1229
Author: Nikhil Benesch <nikhil.benesch@gmail.com>
Date:   Fri Aug 14 02:52:24 2020 -0400

    doc/user: polish release notes for v0.4.1

commit cfb0ae6a8aed97d6af00062aac43a1fd3155233e
Author: Nikhil Benesch <nikhil.benesch@gmail.com>
Date:   Fri Aug 14 02:21:18 2020 -0400

    doc/user: add simple version shortcodes
    
    Add some simple version shortcodes that make it easy to indicate when a
    feature is still experimental, or when it is on master but not yet in a
    release. This is a quick fix for not having a more thorough story around
    versioning the docs.
    
    To demonstrate the approach, I retroactively added version shortcodes
    for features added or changed in v0.4.0, but I don't plan to do this for
    earlier versions.
    
    Fix #3868.

commit 7cbdb856e08c715c7a0eef0c58be3e5b5efe7c1e
Author: Brandon W Maister <bwm@materialize.io>
Date:   Fri Aug 14 12:09:41 2020 -0400

    peeker: Add an --init-attempts flag
    
    When debugging it can be nice to only try once to not spam various logs.

commit 41fe5b71bb09c9245876640901e01629aac0648d
Merge: 639c96faf 547d56ef6
Author: Nikhil Benesch <nikhil.benesch@gmail.com>
Date:   Fri Aug 14 01:23:15 2020 -0400

    Merge pull request #3949 from MaterializeInc/rel-template
    
    .github: copyedit release issue template

commit 547d56ef641aa4c0194ea7a573540a4356ecbf5d
Author: Nikhil Benesch <nikhil.benesch@gmail.com>
Date:   Fri Aug 14 01:14:42 2020 -0400

    .github: copyedit release issue template

commit 639c96faf991262e7a334eed5981e240b613bbf4
Merge: 4f6be1868 2f8d3c88f
Author: Nikhil Benesch <nikhil.benesch@gmail.com>
Date:   Fri Aug 14 01:01:39 2020 -0400

    Merge pull request #3948 from benesch/dev-reformat
    
    doc/developer: tweak formatting and hierarchy

commit 4f6be18681c7fdeee54903bbc8521554d4640aa9
Merge: 258f0f4d5 6563442ae
Author: Nikhil Benesch <nikhil.benesch@gmail.com>
Date:   Fri Aug 14 01:01:16 2020 -0400

    Merge pull request #3947 from benesch/experimentalize-tables
    
    sql: experimentalize tables

commit 2f8d3c88f012da2de01a036cc300a27a0127079c
Author: Nikhil Benesch <nikhil.benesch@gmail.com>
Date:   Tue Apr 7 11:36:25 2020 -0400

    doc/developer: tweak formatting and hierarchy
    
    Enforce a bit more of a consistent style on the developer docs. Make the
    README a bit easier on the eyes with a more spaced out TOC, and also add
    a few more pointers for new contributors. Finally, group together the
    docs that form the "developer guide", which are meant to be consumed
    together, rather than as standlone reference material.

commit 6563442ae067f2b7ad9d29f9ed250a3071052ef4
Author: Nikhil Benesch <nikhil.benesch@gmail.com>
Date:   Thu Aug 13 23:51:49 2020 -0400

    sql: experimentalize tables
    
    Tables are a bit buggy at the moment, due to some longstanding
    coordinator bugs. Mark them as experimental to unblock the forthcoming
    v0.4.1 release.

commit 258f0f4d5157557aadcc63cf0c0c5cd7b6a44c83
Merge: d800ef2b5 54a5bb094
Author: Nikhil Benesch <nikhil.benesch@gmail.com>
Date:   Fri Aug 14 00:39:43 2020 -0400

    Merge pull request #3920 from benesch/values-errors
    
    sql: improve error messages for misuse of VALUES

commit d800ef2b59729b995e7d10689c735d45ca19272c
Merge: 15b77022d 3e480a4fe
Author: Nikhil Benesch <nikhil.benesch@gmail.com>
Date:   Thu Aug 13 22:44:16 2020 -0400

    Merge pull request #3946 from benesch/no-cache
    
    ci/deploy: don't bother setting cache-control headers on redirect

commit 3e480a4fe460b28d9a4080d4fdaf7e5ac392aeed
Author: Nikhil Benesch <nikhil.benesch@gmail.com>
Date:   Thu Aug 13 22:20:15 2020 -0400

    ci/deploy: don't bother setting cache-control headers on redirect
    
    S3 doesn't respect them at all, it turns out. Don't bother setting them;
    instead we'll configure CloudFront not to cache the redirects.

commit 15b77022d01c53870acaba0d3b69279a76e90ce5
Author: Brennan Vincent <brennan@materialize.io>
Date:   Thu Aug 13 22:06:15 2020 -0400

    Turn on background_thread:true by default (#3943)

commit bd355846bca61ad02c18af94fb84fe31facc73cd
Merge: 9e423fbde bb9ad291f
Author: Nikhil Benesch <nikhil.benesch@gmail.com>
Date:   Thu Aug 13 20:32:55 2020 -0400

    Merge pull request #3945 from benesch/no-cache-latest
    
    ci/deploy: try harder not to cache latest redirect

commit bb9ad291f48e9e1dfa6f63ae53af9e8bb16b4bab
Author: Nikhil Benesch <nikhil.benesch@gmail.com>
Date:   Thu Aug 13 20:26:36 2020 -0400

    ci/deploy: try harder not to cache latest redirect
    
    Apparently the `--cache-control=no-cache` has no effect unless you also
    set `--metadata-directive=REPLACE`. See if that works.

commit fe9d9d411e3eee018c40e31950e3a69b740f7dd9
Author: Andi Wang <andi@materialize.io>
Date:   Thu Aug 13 12:12:27 2020 -0400

    Allow differential join to use an arrangement for first input.

commit 9e423fbdea1226247f396f2e634ed356d79a2140
Merge: acaaf78bb d51465f90
Author: Nikhil Benesch <nikhil.benesch@gmail.com>
Date:   Thu Aug 13 17:36:01 2020 -0400

    Merge pull request #3942 from benesch/lateral-nested
    
    sql: don't mishandle scopes of nested lateral joins

commit acaaf78bb3d2ed76ccbce6e365c6e3ebd09ff39a
Merge: 5e73ee17f 54e407750
Author: Nikhil Benesch <nikhil.benesch@gmail.com>
Date:   Thu Aug 13 17:10:29 2020 -0400

    Merge pull request #3930 from benesch/coord-logging
    
    coord,dataflow: rework log id assignment

commit 54e407750e92d6d96cbfb67deff4c3736c03cfab
Author: Nikhil Benesch <nikhil.benesch@gmail.com>
Date:   Wed Aug 12 12:50:19 2020 -0400

    coord,dataflow: rework log id assignment
    
    The dataflow layer hardcodes several built-in logging sources that are
    accessible via SQL. This is somewhat awkward for the coordinator, which
    would very much like to be the sole authority on what sources exist in
    the system.
    
    The big danger is that both the coord and dataflow crates assign system
    IDs, which must never overlap. The current design makes it very hard to
    tell what system IDs are in use, and it's easy to accidentally cause
    clashes when allocating a new ID.
    
    This commit reworks the dataflow layer to have no opinion on what IDs to
    assign to its logging views. The new API looks like so:
    
        SequencedCommand::EnableLogging(LoggingConfig {
            granularity_ns: u128,
            active_logs: HashMap<LogVariant, GlobalId>,
        })
    
    Essentially, the dataflow layer exposes the log variants it knows how to
    maintain, along with an API for installing any subset of the known log
    variants with specific IDs. The coordinator is now the sole place where
    system IDs are assigned.
    
    A future commit will unify `LogSource`, `LogView`, and `CatalogView`,
    which all fall under the umbrella of "built-in system object" and will
    be able to share quite a bit of code. The goal here is #913, exposing
    `SHOW` data as views, and #2157, supporting pg_catalog.

commit d51465f905ccae061af07408a3e8b3e67899ccdc
Author: Nikhil Benesch <nikhil.benesch@gmail.com>
Date:   Thu Aug 13 16:19:31 2020 -0400

    sql: don't mishandle scopes of nested lateral joins
    
    The join planning code needs to keep track of *two* query contexts to
    properly support lateral joins, because the left expression exists in an
    outer context while the right expression and constraint expression exist
    in an inner context.
    
    This commit fixes the issue by just plumbing around the left and right
    query contexts appropriately.
    
    Fix #3933.

commit 5e73ee17fdbad1ae90bbd68937128f67efc8c254
Author: Jessica Laughlin <JLDLaughlin@users.noreply.github.com>
Date:   Thu Aug 13 16:26:02 2020 -0400

    Add clippy allowances to http/prof (#3940)

commit 21096fb606885f9bafbd7eb229e3fa53d70bbcdc
Author: Jessica Laughlin <JLDLaughlin@users.noreply.github.com>
Date:   Thu Aug 13 15:06:14 2020 -0400

    Add chaos test verification to release process (#3936)

commit 830ce02e1ae5303dd3ec2c56ff1fd94bce0c5b96
Author: Jessica Laughlin <JLDLaughlin@users.noreply.github.com>
Date:   Thu Aug 13 14:40:37 2020 -0400

    Add docs for split_part (#3937)

commit cc77b48720d38418222688fcd260a2a28eed224f
Author: Brennan Vincent <brennan@materialize.io>
Date:   Thu Aug 13 13:37:34 2020 -0400

    Update prof.html (#3939)

commit 43ddedaed999babafcf65943d4216c81865ea62c
Author: Nikhil Benesch <nikhil.benesch@gmail.com>
Date:   Thu Aug 13 13:16:19 2020 -0400

    materialized: configure jemalloc to apply to c dependencies, too (#3938)
    
    Notably, this will make librdkafka use jemalloc, which should improve
    observability of memory usage at the very least, if not also
    improving performance.

commit c5159de0ea3300415fa45cbdbc19a900e37942f6
Merge: 00f8430b7 6d15af8e0
Author: Nikhil Benesch <nikhil.benesch@gmail.com>
Date:   Thu Aug 13 13:01:19 2020 -0400

    Merge pull request #3935 from benesch/dupl-names
    
    sql: ensure duplicated columns have separate names

commit 6d15af8e04418ac2e0ec36ec67b1a317ec999150
Author: Nikhil Benesch <nikhil.benesch@gmail.com>
Date:   Thu Aug 13 11:07:50 2020 -0400

    sql: ensure duplicated columns have separate names
    
    We were previously misnaming duplicated columns in queries. For example,
    in
    
        SELECT column1, column1 AS column2 FROM (VALUES (1))
    
    the correct column names are "column1" and "column2". Before this patch,
    we were incorrectly computing the column names as "column2" and
    "column2"--essentially, the last name for a duplicated column was being
    applied to all columns.

commit 00f8430b751dbf0e57a1003deb36b81439ed79d8
Author: Jessica Laughlin <JLDLaughlin@users.noreply.github.com>
Date:   Thu Aug 13 11:03:00 2020 -0400

    Chaos test message-count 10_000 -> 1_000_000 (#3934)

commit 92bfe1b6ef4ecaef956f60853e45b3600cd98c58
Merge: 343188aaf 2b564eab2
Author: Jessica Laughlin <JLDLaughlin@users.noreply.github.com>
Date:   Wed Aug 12 16:22:02 2020 -0400

    Refactor chaos tests to add to release checklist (#3919)
    
    Removes prior mzconduct chaos steps and replaces them with a single RandomChaos
    step. RandomChaos will run some type of randomly selected chaos on running Docker
    containers for 60 seconds at a time.

commit 2b564eab2f9caa655b3e9c35c0372da02da55b75
Author: JLDLaughlin <jessica@materialize.io>
Date:   Wed Aug 12 15:34:03 2020 -0400

    Rename function and make it static

commit 343188aaf16f956b4e3366623d8b6f29522d0fb0
Author: Jessica Laughlin <JLDLaughlin@users.noreply.github.com>
Date:   Wed Aug 12 15:19:20 2020 -0400

    Add documentation for SHOW TABLES and SHOW CREATE TABLE (#3928)

commit c754c7181ee5bcccb6179f612bba2ae116184002
Merge: de521b687 84a6703db
Author: Nikhil Benesch <nikhil.benesch@gmail.com>
Date:   Wed Aug 12 15:13:12 2020 -0400

    Merge pull request #3932 from benesch/decorrelation-opt-panic
    
    sql: fix LATERAL-related panic in try_simplify_quantified_comparison

commit 84a6703dbacf4c0bf50f463738533cbe9208d12d
Author: Nikhil Benesch <nikhil.benesch@gmail.com>
Date:   Wed Aug 12 13:49:28 2020 -0400

    sql: fix LATERAL-related panic in try_simplify_quantified_comparison
    
    The try_simplify_quantified_comparison function, which optimizes a SQL
    expression pre-decorrelation, needs to walk a SQL expression while
    keeping track of the outer relation type. It was not properly updated
    for the addition of LATERAL joins, which are an additional expression
    variant that introduce a new inner scope.
    
    If we start writing more SQL optimizations, we'll want to figure out how
    to package up this logic so it only needs to be written in one place.
    But for now, hardcoding it here is the simple fix.
    
    Fix #3924.

commit de521b687828425baaf2a5fe87dd5441421dde32
Author: Brennan Vincent <brennan@materialize.io>
Date:   Wed Aug 12 13:47:53 2020 -0400

    print allocator stats in memory flamegraph (#3931)

commit 34903ef776cb80ade4de05491306c9f806c9b59a
Merge: 1358c55c5 6583bbd86
Author: Andi Wang <5522362+wangandi@users.noreply.github.com>
Date:   Wed Aug 12 13:46:56 2020 -0400

    Merge pull request #3929 from wangandi/remove_temp_frontier_lags
    
    Exclude temp views created by select queries from mz_perf_dependency_frontiers.

commit 6583bbd86f44cbc66d2d5f1bacd0251452d8a2a0
Author: Andi Wang <andi@materialize.io>
Date:   Wed Aug 12 12:56:11 2020 -0400

    Exclude temp views from mz_perf_dependency_frontiers.

commit f2e704ed8e520261e7dd8f11a106ae55a85c5384
Author: JLDLaughlin <jessica@materialize.io>
Date:   Wed Aug 12 12:00:36 2020 -0400

    Update README

commit 3bb6bf4e578bc80d468a27b9aa9c4467d3219742
Author: JLDLaughlin <jessica@materialize.io>
Date:   Wed Aug 12 11:39:00 2020 -0400

    Add docstring to RandomChaos

commit 1358c55c5109de2bbbcb61ddd5483ffb41c18378
Merge: 8d2a7002b 636c23e9b
Author: Albert Wang <albert@materialize.io>
Date:   Wed Aug 12 11:27:37 2020 -0400

    Merge pull request #3927 from MaterializeInc/awang-patch-1
    
    fix warning closing tag

commit 8d2a7002b08115e96b654574abf5dd6aafe8617c
Author: Brennan Vincent <brennan@materialize.io>
Date:   Wed Aug 12 11:21:22 2020 -0400

    Fix comment (#3925)

commit 636c23e9b1370122007435b6432a1ff3519c389e
Author: Albert Wang <albert@materialize.io>
Date:   Wed Aug 12 11:04:33 2020 -0400

    fix warning closing tag

commit 69108af0df7d891d79c8ac15f836e852605aec9a
Author: Brennan Vincent <brennan@materialize.io>
Date:   Wed Aug 12 10:58:30 2020 -0400

    Don't allow simultaneous memory and CPU profiling (#3922)

commit 4f1480298ac5456c8f5c7ba73a414be6dc6151c2
Merge: d7c5791c3 ee210efc3
Author: Nikhil Benesch <nikhil.benesch@gmail.com>
Date:   Wed Aug 12 01:18:33 2020 -0400

    Merge pull request #3894 from benesch/protoc
    
    *: remove generated protobuf code

commit ee210efc3e545cca40981aaac8ebb58ba386f186
Author: Nikhil Benesch <nikhil.benesch@gmail.com>
Date:   Sun Apr 5 15:39:07 2020 -0400

    *: remove generated protobuf code
    
    Instead, generate the protobuf code automatically at build time by using
    the protobuf_codegen_pure crate.
    
    To avoid replicating essentially the same build script in three separate
    places, this commit introduces a new `protoc` crate with a very simple
    and robust API that invokes protobuf_codegen_pure under the hood.

commit d9d99e0097dde7376872744659459b42154e84ac
Author: Nikhil Benesch <nikhil.benesch@gmail.com>
Date:   Sat Apr 4 22:05:08 2020 -0400

    testdrive: don't duplicate protobuf structs
    
    Just ask the protobuf generator to generate the serde implementations.

commit 2a45af30e21e1e4893824847d27a1f5c3bd5b0da
Author: Nikhil Benesch <nikhil.benesch@gmail.com>
Date:   Sat Apr 4 21:26:26 2020 -0400

    interchange,testdrive: remove unnecessary protoc dependencies
    
    These weren't actually used.

commit 54a5bb0949a4e10a0352e17d267c87be9735f383
Author: Nikhil Benesch <nikhil.benesch@gmail.com>
Date:   Tue Aug 11 22:52:51 2020 -0400

    sql: improve error messages for misuse of VALUES
    
    This bit @frankmcsherry earlier today. It will likely bite others in the
    future. Make the error messages involved a bit friendly.

commit 96494c2722888e75ab054f124e0c5e8dc122ab91
Author: JLDLaughlin <jessica@materialize.io>
Date:   Tue Aug 11 20:14:25 2020 -0400

    WIP: random chaos for release testing

commit d7c5791c3f7bac905130e75b7660ff70a817b6a1
Merge: 81a94427f c81359c10
Author: Nikhil Benesch <nikhil.benesch@gmail.com>
Date:   Tue Aug 11 17:49:26 2020 -0400

    Merge pull request #3917 from benesch/transform-bug
    
    transform: fix projection provenance gathering in redundant join opt

commit c81359c1067933f8ebf9681c021e1f772e3d6a4f
Author: Nikhil Benesch <nikhil.benesch@gmail.com>
Date:   Tue Aug 11 16:21:04 2020 -0400

    transform: fix projection provenance gathering in redundant join opt
    
    This code meant to iterate over the pair (new_pos, old_pos), but instead
    iterated over the pair (new_pos, new_pos). Needless to say, this
    resulted in utter chaos whenever this optimization fired on a join whose
    inputs contained projections.
    
    Fix #3914.

commit 81a94427fde5156a92bc3ca99b09dbfd01f6a4fb
Author: Brennan Vincent <brennan@materialize.io>
Date:   Tue Aug 11 14:59:02 2020 -0400

    Use size in bytes for heap flamegraph tooltips (#3916)

commit 37e6a015822408dc092b06cf5ac8ee1b16ee3186
Merge: e3bc9f6f0 a149521aa
Author: Brennan Vincent <brennan@materialize.io>
Date:   Tue Aug 11 12:15:46 2020 -0400

    Merge pull request #3915 from umanwizard/unbias
    
    To get the predicted number of total bytes from the sample, we need to un-bias it by following the logic in
    jeprof's `AdjustSamples`: https:github.com/jemalloc/jemalloc/blob/498f47e1ec83431426cdff256c23eceade41b4ef/bin/jeprof.in#L4064-L4074
    
    However, this algorithm is actually wrong: you actually need to unbias each sample _before_ you add them together, rather
    than adding them together first and then unbiasing the average allocation size. But the heap profile format in released versions of jemalloc
    does not give us access to each individual allocation, so this is the best we can do (and `jeprof` does the same).
    
    It usually seems to be at least close enough to being correct to be useful, but could be very wrong if for the same stack, there is a
    very large amount of variance in the amount of bytes allocated (e.g., if there is one allocation of 8 MB and 1,000,000 of 8 bytes)
    
    In the latest unreleased jemalloc sources from github, the issue is worked around by unbiasing the numbers for each sampled allocation,
    and then fudging them to maintain compatibility with jeprof's logic. So, once those are released and we start using them,
    this will become even more correct.
    
    For more details, see this doc: https:github.com/jemalloc/jemalloc/pull/1902
    
    And this gitter conversation between me (Brennan Vincent) and David Goldblatt: https:gitter.im/jemalloc/jemalloc?at=5f31b673811d3571b3bb9b6b

commit a149521aaf092fc7798c3d5a83e36cad528725db
Author: Brennan Vincent <brennan@materialize.io>
Date:   Tue Aug 11 11:51:05 2020 -0400

    Unbias jemalloc samples

commit 4d821c9561d5a193701d71b079672f5afde859b2
Author: Brennan Vincent <brennan@materialize.io>
Date:   Tue Aug 11 10:45:08 2020 -0400

    make profiling weights f64 instead of usize

commit e3bc9f6f02a5767024670c0b1d5305d417b64d35
Author: Frank McSherry <fmcsherry@me.com>
Date:   Tue Aug 11 08:07:27 2020 -0400

    do not panic if Datum::Dummy is observed (#3913)

commit b24393c79c372d7f1072b6be932ff07902d3fabd
Author: Brennan Vincent <brennan@materialize.io>
Date:   Mon Aug 10 18:51:49 2020 -0400

    Add CPU time profiling (#3901)

commit 088d4ca6d294fe0fcb7d0b2a5c17573967834a9f
Author: Jessica Laughlin <JLDLaughlin@users.noreply.github.com>
Date:   Mon Aug 10 17:31:08 2020 -0400

    Remove purgatory (#3912)
    
    Removes broken Kinesis tests from the CI pipeline until the underlying issue is fixed.

commit 66a419c8dfb900c9e090e797ccf089a4f805ec4b
Author: Jessica Laughlin <JLDLaughlin@users.noreply.github.com>
Date:   Mon Aug 10 17:21:18 2020 -0400

    Don't support INSERT statements that specify columns (#3910)
    
    INSERT statements with column specifications will now raise an unsupported error.

commit f2f4a6a4741f96c31655c97dba5ce120992cede9
Author: Frank McSherry <fmcsherry@me.com>
Date:   Mon Aug 10 16:48:32 2020 -0400

    Use Rust equality for join equivalences (#3908)
    
    When converting equivalences equivalences to post-join filters, we relied on BinaryFunc::Eq which treats Datum::Null as not equal to itself. That is not correct once we have it in equivalences which looks for actual matches.

commit 0204a0547038855b1bd33ae401d1782291052419
Merge: 242d756df 1624d51bc
Author: Nikhil Benesch <nikhil.benesch@gmail.com>
Date:   Mon Aug 10 16:14:41 2020 -0400

    Merge pull request #3900 from benesch/sql-parser-casing
    
    sql-parser: remove superflous case-insensitive comparisons

commit 242d756dfef38c2b541201047caa716bafa03bfe
Author: Jessica Laughlin <JLDLaughlin@users.noreply.github.com>
Date:   Mon Aug 10 12:01:12 2020 -0400

    Move AS OF parsing test to sql-parser (#3902)

commit 8ea75aa76992a1a1c2a2580b8c5047736ad78d7a
Merge: 9cc031d08 ba8e5dc50
Author: Nikhil Benesch <nikhil.benesch@gmail.com>
Date:   Mon Aug 10 11:45:49 2020 -0400

    Merge pull request #3871 from benesch/ct-readability
    
    repr: improve readability of ColumnType construction

commit 9cc031d08bc3fb6c2c4a9c57e4e9a277349d1fbf
Merge: ee1a722ab 09d43a9d8
Author: Nikhil Benesch <nikhil.benesch@gmail.com>
Date:   Mon Aug 10 11:39:16 2020 -0400

    Merge pull request #3864 from benesch/dataflow-ids
    
    dataflow: remove first_export_id

commit ee1a722ab49bb8f24842741ff0d110d0f773eab0
Author: Jessica Laughlin <JLDLaughlin@users.noreply.github.com>
Date:   Mon Aug 10 11:30:37 2020 -0400

    Case-insensitive parsing of AS OF keywords (#3899)
    
    Fixes conditional check for AS OF tokens in parse_optional_alias to be case-insensitive

commit ba8e5dc50ac0e7315609f1b58c47f4bc190a5881
Author: Nikhil Benesch <nikhil.benesch@gmail.com>
Date:   Thu Aug 6 01:08:47 2020 -0400

    repr: improve readability of ColumnType construction
    
    Adjust the ColumnType construction pattern from
    
        ColumnType::new(ScalarType::Bool, true)
    
    to:
    
        ScalarType::Bool.nullable(true)
    
    The most important difference is that the purpose of a literal `true` or
    `false` is immediately clear to the reader. With the old API, I was
    continually forgetting both what the bool parameter meant at all
    ("nullability"), and then it would take me another moment to remember if
    "true" meant "null" or "not null". In the new API, it is much more
    obvious.
    
    An alternative to this design would be to introduce an enum like
    
        enum Nullable {
            Nullable,
            NotNullable
        }
    
    but there are two big downsides with this. The first is the verbosity:
    even if you shorten to e.g. `Nullable::Yes`, it's still a mouthful.
    The second is that enums don't compose as well as booleans. It's nice to
    be able to write
    
        if ty.nullable { /* ... */ }
    
    or:
    
        let nullable = ty1.nullable || ty2.nullable;
    
    Using an enum instead of a raw boolean makes such patterns more
    difficult.
    
    One downside of the proposed approach is that it's not immediately clear
    from the call site that you're creating a `ColumnType`. I think this is
    offset by how fundamental the method is; after all, nullability is *the*
    difference between a scalar type and a column type.

commit 1624d51bce3a99e3f2fdbb1c9f9ea0ebb35de950
Author: Nikhil Benesch <nikhil.benesch@gmail.com>
Date:   Mon Aug 10 10:42:02 2020 -0400

    sql-parser: remove superflous case-insensitive comparisons
    
    The guarantee is that k.keyword contains the uppercase form of the
    keyword, so there is no need to perform a case-insensitive match.

commit 2231e77ad0a9a31fd190d544fac3c64de8f790d1
Merge: f7425177a ffa0e4f4d
Author: Nikhil Benesch <nikhil.benesch@gmail.com>
Date:   Mon Aug 10 09:13:20 2020 -0400

    Merge pull request #3896 from MaterializeInc/dependabot/cargo/structopt-0.3.16
    
    build(deps): bump structopt from 0.3.15 to 0.3.16

commit f7425177a9852b1b46afb4c0a189df4369d3df47
Merge: 7303676f7 af25370e7
Author: Nikhil Benesch <nikhil.benesch@gmail.com>
Date:   Mon Aug 10 09:13:12 2020 -0400

    Merge pull request #3897 from MaterializeInc/dependabot/cargo/num_enum-0.5.1
    
    build(deps): bump num_enum from 0.5.0 to 0.5.1

commit 7303676f7974cb22bddaa6b8b885c637d3d0e3f5
Merge: 34276647e ef654c0f4
Author: Nikhil Benesch <nikhil.benesch@gmail.com>
Date:   Mon Aug 10 09:13:02 2020 -0400

    Merge pull request #3898 from MaterializeInc/dependabot/cargo/clap-2.33.2
    
    build(deps): bump clap from 2.33.1 to 2.33.2

commit 34276647e9d22d8608759c4c65f4fa41269f38cc
Merge: 9fd9dd1c4 7ed02f155
Author: Nikhil Benesch <nikhil.benesch@gmail.com>
Date:   Mon Aug 10 09:12:38 2020 -0400

    Merge pull request #3895 from MaterializeInc/dependabot/cargo/syn-1.0.38
    
    build(deps): bump syn from 1.0.34 to 1.0.38

commit ef654c0f40d4d5c41ea2c4def2689198fc930507
Author: dependabot-preview[bot] <27856297+dependabot-preview[bot]@users.noreply.github.com>
Date:   Mon Aug 10 10:44:51 2020 +0000

    build(deps): bump clap from 2.33.1 to 2.33.2
    
    Bumps [clap](https://github.com/clap-rs/clap) from 2.33.1 to 2.33.2.
    - [Release notes](https://github.com/clap-rs/clap/releases)
    - [Changelog](https://github.com/clap-rs/clap/blob/v2.33.2/CHANGELOG.md)
    - [Commits](https://github.com/clap-rs/clap/compare/v2.33.1...v2.33.2)
    
    Signed-off-by: dependabot-preview[bot] <support@dependabot.com>

commit af25370e7957c15b29f2cefe6ab5287ea13fc76a
Author: dependabot-preview[bot] <27856297+dependabot-preview[bot]@users.noreply.github.com>
Date:   Mon Aug 10 10:44:25 2020 +0000

    build(deps): bump num_enum from 0.5.0 to 0.5.1
    
    Bumps [num_enum](https://github.com/illicitonion/num_enum) from 0.5.0 to 0.5.1.
    - [Release notes](https://github.com/illicitonion/num_enum/releases)
    - [Commits](https://github.com/illicitonion/num_enum/compare/0.5.0...0.5.1)
    
    Signed-off-by: dependabot-preview[bot] <support@dependabot.com>

commit ffa0e4f4d18e2f104a980a1a550a04bc6774b1be
Author: dependabot-preview[bot] <27856297+dependabot-preview[bot]@users.noreply.github.com>
Date:   Mon Aug 10 10:44:17 2020 +0000

    build(deps): bump structopt from 0.3.15 to 0.3.16
    
    Bumps [structopt](https://github.com/TeXitoi/structopt) from 0.3.15 to 0.3.16.
    - [Release notes](https://github.com/TeXitoi/structopt/releases)
    - [Changelog](https://github.com/TeXitoi/structopt/blob/master/CHANGELOG.md)
    - [Commits](https://github.com/TeXitoi/structopt/compare/v0.3.15...v0.3.16)
    
    Signed-off-by: dependabot-preview[bot] <support@dependabot.com>

commit 7ed02f15520f2c6e16e0319359af373b2d6612a7
Author: dependabot-preview[bot] <27856297+dependabot-preview[bot]@users.noreply.github.com>
Date:   Mon Aug 10 10:43:37 2020 +0000

    build(deps): bump syn from 1.0.34 to 1.0.38
    
    Bumps [syn](https://github.com/dtolnay/syn) from 1.0.34 to 1.0.38.
    - [Release notes](https://github.com/dtolnay/syn/releases)
    - [Commits](https://github.com/dtolnay/syn/compare/1.0.34...1.0.38)
    
    Signed-off-by: dependabot-preview[bot] <support@dependabot.com>

commit 09d43a9d8ce46e1e69cea1047faf7573106d060d
Author: Nikhil Benesch <nikhil.benesch@gmail.com>
Date:   Wed Aug 5 17:57:43 2020 -0400

    dataflow: remove first_export_id
    
    Using the Timely dataflow ID, as suggested in #1720, makes things much
    cleaner.
    
    Fix #1720.

commit 9e4db2a4031c1a5bc3c14773c452801f23dc6370
Author: Nikhil Benesch <nikhil.benesch@gmail.com>
Date:   Wed Aug 5 17:21:34 2020 -0400

    dataflow-types: don't key sources by SourceInstanceId
    
    Unclear what was going on here. DataflowDesc::source_imports wants to be
    a map from (imported source ID) -> (imported source description); it has
    no business or interest in importing a particular *instance* of a
    source. And indeed, no one was interested in the anything but the "sid"
    field of the SourceInstanceId, which makes this change a strict decrease
    in incidental complexity.

commit 9fd9dd1c41a641bc6acae5e90c0be76e215dde39
Merge: 142a115d5 a592decec
Author: Albert Wang <albert@materialize.io>
Date:   Sat Aug 8 08:45:34 2020 -0400

    Merge pull request #3867 from MaterializeInc/awang-patch-1
    
    Add release version heads-up

commit a592decec63eaf00abb05b4861791141b66114c7
Author: Albert Wang <albert@materialize.io>
Date:   Sat Aug 8 08:42:13 2020 -0400

    drop "Note"

commit 0046fdb918149648093203edd5fdb6a71a4ec7e1
Author: Albert Wang <albert@materialize.io>
Date:   Sat Aug 8 08:37:11 2020 -0400

    drop "Note"

commit 8591184e7e67397c1528c841b829a4344a48c573
Merge: f1e1cd5f3 142a115d5
Author: Albert Wang <albert@materialize.io>
Date:   Sat Aug 8 08:26:24 2020 -0400

    Merge branch 'main' into awang-patch-1

commit 142a115d598ed0036ae1075cc85fb63117aa9c93
Merge: fb9c87b8a 02edeb37f
Author: Albert Wang <albert@materialize.io>
Date:   Fri Aug 7 20:12:49 2020 -0400

    Merge pull request #3892 from MaterializeInc/awang-patch-2
    
    Instructions on swap setup for Linux and Docker

commit fb9c87b8ab45392e9db3e669897b62f91c1563a9
Author: Jessica Laughlin <JLDLaughlin@users.noreply.github.com>
Date:   Fri Aug 7 16:55:12 2020 -0400

    Support split_part() (#3889)
    
    Adds support for the string function split_part() and related tests.

commit 38b535c30772a530f5b4587d9bc08037b4099c41
Author: Ruchir Khaitan <ruchir0001@gmail.com>
Date:   Fri Aug 7 16:19:00 2020 -0400

    persistence: initial commit to write source data to disk (#3882)
    
    Touches #3305

commit 02edeb37f3dcab7ac35f250dc965d050a44ae7cd
Author: Albert Wang <albert@materialize.io>
Date:   Fri Aug 7 15:59:40 2020 -0400

    Drop unnecessary subheader

commit 300f83f541823320a864f730e841771eb9d70a3c
Author: Albert Wang <albert@materialize.io>
Date:   Fri Aug 7 15:49:32 2020 -0400

    missed some whitespace!

commit 5c63ce3c2fbff8232c069893fad73f54626c6068
Author: Albert Wang <albert@materialize.io>
Date:   Fri Aug 7 15:45:13 2020 -0400

    trailing whitespace

commit ff0bca3fdc7734058de62cb60b6b05b866a0dfcd
Author: Albert Wang <albert@materialize.io>
Date:   Fri Aug 7 15:42:38 2020 -0400

    Instructions on swap setup for Linux and Docker

commit 70d90ff673598417cf3e9ef325da112a359d1173
Author: Jessica Laughlin <JLDLaughlin@users.noreply.github.com>
Date:   Fri Aug 7 15:37:21 2020 -0400

    Implement SHOW CREATE TABLE (#3891)
    
    Adds support SHOW CREATE TABLE and related tests.

commit 46ee6144d12fe8e8b4dcffc7bf8c85f112f22945
Merge: c9e467bfb 79af878f0
Author: Brennan Vincent <brennan@materialize.io>
Date:   Fri Aug 7 14:29:43 2020 -0400

    Merge pull request #3884 from benesch/avro-traits
    
    avro: simplify and document AvroRead/Skip traits

commit c9e467bfb457574cad071d572cd8db0508f5b6b7
Merge: d2e315e86 16e1d1196
Author: Albert Wang <albert@materialize.io>
Date:   Fri Aug 7 13:56:20 2020 -0400

    Merge pull request #3890 from MaterializeInc/awang-patch-2
    
    Point out that swap isn't automatically created

commit 16e1d1196870bb0377d17842b730a35a91119e3f
Author: Albert Wang <albert@materialize.io>
Date:   Fri Aug 7 13:53:59 2020 -0400

    Point out that swap isn't automatically created
    
    Fixes #3669

commit d2e315e86d31767df0018df37e47e17600c1d0e8
Merge: 2711b57a0 d603b3f05
Author: Nikhil Benesch <nikhil.benesch@gmail.com>
Date:   Thu Aug 6 23:44:55 2020 -0400

    Merge pull request #3857 from benesch/stmt-dedicated-structs
    
    sql-parser: split out ast::Statement variants into dedicated structs

commit d603b3f05bb3ac1eeb9279ff65270dd9a2611f0e
Author: Nikhil Benesch <nikhil.benesch@gmail.com>
Date:   Thu Aug 6 23:03:03 2020 -0400

    dataflow-types: split out DataEncoding enum variants
    
    Same rational as the previous commit.

commit 33707d2e96e7c2e11e5767c8387615872033e83f
Author: Nikhil Benesch <nikhil.benesch@gmail.com>
Date:   Tue Aug 4 23:30:04 2020 -0400

    sql-parser: split out ast::Statement variants into dedicated structs
    
    This splits out the large ast::Statement enum variants into dedicated
    structs. For example,
    
        enum Statement {
            CreateTable {
                name: ObjectName,
                columns: Vec<ColumnDef>,
                // ...
            },
            // ...
        }
    
    becomes:
    
        enum Statement {
            CreateTable(CreateTableStatement),
            // ...
        }
    
        struct CreateTableStatement {
            name: ObjectName,
            columns: Vec<ColumnDef>,
        }
    
    This makes it possible to use types to indicate that a function expects
    precisely one Statement variant, for example:
    
        fn handle_create_table(stmt: CreateTableStatement)
    
    Previously, such a function had several bad options. It could take each
    parameter of the struct as an argument...
    
        fn handle_create_table(name: ObjectName, columns: Vec<ColumnDef>, ...)
    
    ...or it could take a Statement and assert that the statement was of the
    correct variant:
    
        fn handle_create_table(stmt: Statement) {
            let (name, columns) = match stmt {
                CreateTableStatement { name, columns } => (name, columns),
                _ => unreachable!("handle_create_table called with wrong type!"),
            };
        }
    
    The new approach is particularly useful in the SQL planner, where both
    of these bad options were in heavy use. The cost is net additional
    verbosity, though some places get quite a bit more concise.
    
    This commit is pure code movement and has no behavioral changes.

commit 2711b57a0a8e4a8061ebe3c1412df521faf78436
Merge: 0882c09b1 43c332b04
Author: Ruchir Khaitan <ruchir0001@gmail.com>
Date:   Thu Aug 6 23:18:55 2020 -0400

    Merge pull request #3887 from ruchirK/rk-remove-persist-ts
    
    materialized/bin: remove unused persist-ts option

commit 43c332b04e5f678b82f95e7d7efa58a0dad05306
Author: Ruchir Khaitan <ruchir0001@gmail.com>
Date:   Thu Aug 6 22:50:13 2020 -0400

    materialized/bin: remove unused persist-ts option

commit 0882c09b14fcec9bb8ad1e180389afad2c1d3c6f
Merge: 6fc837f15 3f28da08e
Author: Nikhil Benesch <nikhil.benesch@gmail.com>
Date:   Thu Aug 6 22:45:13 2020 -0400

    Merge pull request #3886 from benesch/mv-peek-when
    
    dataflow-types: move PeekWhen into sql

commit 3f28da08e8aa52b93327764120adbcd665174419
Author: Nikhil Benesch <nikhil.benesch@gmail.com>
Date:   Thu Aug 6 22:00:26 2020 -0400

    dataflow-types: move PeekWhen into sql
    
    PeekWhen is a purely SQL -> coord concept. It doesn't involve the
    dataflow layer at all, as PeekWhen::Immediate has been resolved into a
    specific peek timestamp by the time the command hits the dataflow layer.
    So move the type into the `sql` crate.

commit 79af878f0c44c267de10bed4d7c78add5bd2af13
Author: Nikhil Benesch <nikhil.benesch@gmail.com>
Date:   Thu Aug 6 18:40:53 2020 -0400

    avro: simplify and document AvroRead/Skip traits
    
    * `AvroRead` can be automatically implemented for traits that implement
      `Read` and `Skip`.
    
    * `Skip::skip` should not error when seeking past the end of a buffer,
       as this is not the behavior of io::Seek, which many implementations
       use under the hood.
    
    * `Skip::skip` should return an `io::Error` instead of an
      `anyhow::Error`.
    
    * Add docs.

commit 6fc837f158ec39aaf4bd7cac13842d351e24a88c
Merge: 8ac14532e 2d771e007
Author: Nikhil Benesch <nikhil.benesch@gmail.com>
Date:   Thu Aug 6 18:11:13 2020 -0400

    Merge pull request #3870 from benesch/timely-crossbeam-channels
    
    dataflow: try even harder not to wrap the SyncActivator in a mutex

commit 8ac14532e4532ab45ea4407e4f2cabb6c48f35d0
Merge: 660360b09 75a8df3f8
Author: Nikhil Benesch <nikhil.benesch@gmail.com>
Date:   Thu Aug 6 17:53:48 2020 -0400

    Merge pull request #3883 from benesch/lateral-panic
    
    sql: don't elide identity joins when LATERAL

commit 660360b09bb4248c8ce0ff39c3b651c665d86808
Author: Frank McSherry <fmcsherry@me.com>
Date:   Thu Aug 6 17:41:19 2020 -0400

    Deduplicate reduce aggregations (#3881)
    
    The aggregations in Reduce may contain duplicates, notably in the case that avg results in multiple counts of non-nullable columns, which yields several count(*) aggregates. This PR removes any duplicates and uses a projection to copy the column references around.

commit 75a8df3f8e8258f5c0537cf1a75062e09495b743
Author: Nikhil Benesch <nikhil.benesch@gmail.com>
Date:   Thu Aug 6 17:08:59 2020 -0400

    sql: don't elide identity joins when LATERAL
    
    A query of the form
    
        SELECT ... FROM t1, LATERAL (SELECT * FROM table_func(t1.col))
    
    would previously cause a panic in decorrelation. This query plans as,
    roughly:
    
        %1 = Get t1
        %2 = Constant ()
        %3 = CallTable table_func(#^^0)
        %4 = InnerLateralJoin %2 %3
        %5 = InnerLateralJoin %1 %4
    
    The planner was previously being too clever and, noticing that %2 was
    the join identity, attempting to simplify to:
    
        %1 = Get t1
        %3 = CallTable table_func(#^^0)
        %5 = InnerLateralJoin %1 %3
    
    And, indeed, this is almost valid... except that the column reference in
    %3 is still doubly outer, when it needs to be only singly outer.
    
    We *could* fix up the column references, but this is a lot of work for a
    normalization rule that exists only to try to tame the output of
    `EXPLAIN RAW PLAN`. (The optimized plan is the same regardless of
    whether we apply this rule during SQL planner). So, instead, just don't
    perform such elision on lateral joins.
    
    Fix #3877.

commit 8adebea84501e6f89719b9462e9b3a27c5df4ad9
Merge: cecf39755 cb5032dcb
Author: Nikhil Benesch <nikhil.benesch@gmail.com>
Date:   Thu Aug 6 16:44:47 2020 -0400

    Merge pull request #3879 from benesch/agg-func-filter
    
    expr,sql: give every aggregate function an identity

commit cb5032dcbecf83adb130344a5208484b33c3d626
Author: Nikhil Benesch <nikhil.benesch@gmail.com>
Date:   Thu Aug 6 15:25:32 2020 -0400

    expr,sql: give every aggregate function an identity
    
    In order to transform a SQL expression of the form
    
        <agg>(<expr>) FILTER (WHERE <cond>)
    
    into
    
        <agg>(CASE WHEN <cond> THEN <expr> ELSE <identity>)
    
    every aggregate function must have an identity. The transformation was
    previously assuming that null was the identity for every aggregate
    function, which was wrong. For example, the identity for ANY is false,
    not null.
    
    There are two big changes in this commit:
    
      * AggregateFunc::CountAll is removed. There was *no* identity for
        this function, because it did not look at its input. Its usage is
        replaced by Count(true).
    
        This has the potential to make count(*) a bit slower, but I can't
        imagine the extra null check being that expensive in practice.
    
      * AggregateFunc::JsonbAgg learns to treat null as the identity.
        These are not the semantics that SQL wants, but the SQL layer can
        easily recover those semantics with a coalesce shim. (Shimming
        an identity onto the old semantics, by contrast, is not possible.)
    
    Fix #3872.

commit 3b785c5f95945e8d5ca0e767fae37be669718877
Author: Nikhil Benesch <nikhil.benesch@gmail.com>
Date:   Thu Aug 6 15:17:10 2020 -0400

    sql: automatically infer nullability in ScalarExpr::literal

commit cecf39755e73cc1619ea82d2293452e49c85aba8
Merge: d96243df8 c2b23ad5e
Author: Nikhil Benesch <nikhil.benesch@gmail.com>
Date:   Thu Aug 6 13:44:45 2020 -0400

    Merge pull request #3874 from benesch/no-bootstrap
    
    materialized: remove bootstrap from flamegraph template

commit c2b23ad5e799bd0ef12ebbd8cfa3ddbeb6af7db2
Author: Nikhil Benesch <nikhil.benesch@gmail.com>
Date:   Thu Aug 6 12:11:46 2020 -0400

    materialized: remove bootstrap from flamegraph template
    
    Also fix a few visual glitches in the UI rendering.

commit 2d771e0071ae8e92628e46f5dc517611cd8e8cd2
Author: Nikhil Benesch <nikhil.benesch@gmail.com>
Date:   Wed Aug 5 21:44:53 2020 -0400

    dataflow: don't wrap SyncActivator in mutex
    
    The `SyncActivator` now implements `Sync`, so it no longer needs to be
    wrapped in a mutex.

commit d96243df80a8285e9f85509160cef507affcf809
Author: Chris Golden <551285+cirego@users.noreply.github.com>
Date:   Wed Aug 5 23:15:44 2020 -0700

    Add warning that INSERT/CREATE TABLE are ephemeral (#3865)

commit f1e1cd5f3d54929026e88e0cc2aba8597def495a
Author: Albert Wang <albert@materialize.io>
Date:   Wed Aug 5 22:10:10 2020 -0400

    Add release version heads-up d0b9c5f

commit d0b9c5f1fce491b93225dd29c1287c4dbe30ea35
Author: Albert Wang <albert@materialize.io>
Date:   Wed Aug 5 22:09:12 2020 -0400

    Add release version heads-up

commit 5a74a57fb08955329905d4632a071b69aca5d317
Merge: 8efc9f741 060a011cd
Author: Ruchir Khaitan <ruchir0001@gmail.com>
Date:   Wed Aug 5 18:28:21 2020 -0400

    Merge pull request #3861 from ruchirK/rk-catalog-load
    
    catalog: load stored catalog items in gid order

commit 8efc9f741847af81f4862c4468edc7741fbae26a
Merge: aa62f5c0c 5e7046c75
Author: Arjun Narayan <arjun@materialize.io>
Date:   Wed Aug 5 17:20:38 2020 -0400

    Merge pull request #3863 from rjnn/badge
    
    fix build badge

commit 5e7046c756bb6d528df57a3749724cb1cad29768
Author: Arjun Narayan <arjun@materialize.io>
Date:   Wed Aug 5 17:19:01 2020 -0400

    fix build badge

commit aa62f5c0cb344798f11d6c713493e3a26126ed43
Merge: 8d4898839 fe2e1f2fa
Author: Arjun Narayan <arjun@materialize.io>
Date:   Wed Aug 5 17:16:54 2020 -0400

    Merge pull request #3862 from rjnn/readme_slack
    
    switch gitter chat to slack chat

commit 8d4898839022f25202f8ea0012a17427d26a07cb
Author: Jessica Laughlin <JLDLaughlin@users.noreply.github.com>
Date:   Wed Aug 5 17:14:30 2020 -0400

    Support INSERT statements (#3718)
    
    Adds support for INSERT statements as well as related documentation.

commit fe2e1f2fad454bafd830a7d585a9b5f16ff70856
Author: Arjun Narayan <arjun@materialize.io>
Date:   Wed Aug 5 15:25:31 2020 -0400

    switch gitter chat to slack chat'

commit 060a011cdf89c2f520b3b2dab91cc98ecad58328
Author: Ruchir Khaitan <ruchir0001@gmail.com>
Date:   Wed Aug 5 12:15:34 2020 -0400

    catalog: load stored catalog items in gid order
    
    Previously, on restart we loaded catalog items in rowid order. This was fine, as
    for most catalog items the rowid order corresponds exactly to the gid order
    (between user items). However, some items need to be modified after they have
    been created, which we currently do by deleting the old item, and then inserting
    a new, modified version of the item. This breaks the rowid ordering.
    
    Note that we will have to revisit this change if we ever persist user items and system
    items in the catalog, as the gid order likely does not do what we want between user and
    system ids.

commit 447913e4be17b4a0663f5677e010d59817b904ca
Merge: 4c216f362 453c6444b
Author: Ruchir Khaitan <ruchir0001@gmail.com>
Date:   Wed Aug 5 12:07:04 2020 -0400

    Merge pull request #3856 from ruchirK/rk-2736
    
    dataflow, sql: store starting offsets in a HashMap

commit 4c216f36215a70d9bba803b8275b3e397b9531cc
Merge: 457e2e32c 2ce1d5249
Author: Nikhil Benesch <nikhil.benesch@gmail.com>
Date:   Wed Aug 5 11:01:55 2020 -0400

    Merge pull request #3849 from benesch/lateral-join-docs
    
    doc/user: document LATERAL joins

commit 457e2e32c2815481e2eb617088ad61896e1f0568
Merge: 84d1ba574 b336a4412
Author: Brennan Vincent <brennan@materialize.io>
Date:   Wed Aug 5 11:01:08 2020 -0400

    Merge pull request #3859 from umanwizard/d3_fg
    
    Add flamegraph link in /prof

commit 2ce1d524932582ba6e112cb3e8b9a94e6d1e3410
Author: Nikhil Benesch <nikhil.benesch@gmail.com>
Date:   Mon Aug 3 22:46:05 2020 -0400

    doc/user: document LATERAL joins

commit b336a4412eec4add7f00d306a7db19d435372806
Author: Brennan Vincent <brennan@umanwizard.com>
Date:   Wed Aug 5 10:47:17 2020 -0400

    Address comments

commit 1ea5ab4b05b5c4c898b6a845a11923e0fa4bb613
Author: Brennan Vincent <brennan@umanwizard.com>
Date:   Wed Aug 5 09:44:24 2020 -0400

    Remove accidentally added file

commit 100d758e7317b4b6deaa9b2a622eb00ef96c43e4
Author: Brennan Vincent <brennan@umanwizard.com>
Date:   Wed Aug 5 09:23:22 2020 -0400

    fix escaping

commit 7dfed87a5e8594923bf2915951233a86e2b6750b
Author: Brennan Vincent <brennan@umanwizard.com>
Date:   Wed Aug 5 09:15:36 2020 -0400

    fix mis-merge

commit 46b7e029792efa994a386d0d3a2d82ab962c591d
Author: Brennan Vincent <brennan@materialize.io>
Date:   Tue Aug 4 17:38:06 2020 -0400

    Add flamegraph link in /prof

commit 84d1ba5744b03e2a60de49a7b7f626b020d82897
Merge: d4eb6a106 a6d61e410
Author: Brennan Vincent <brennan@materialize.io>
Date:   Wed Aug 5 08:44:09 2020 -0400

    Merge pull request #3858 from benesch/http-refactor
    
    materialized: refactor http server

commit d4eb6a1062bc7e4ee3d7d026f21e149b244012f8
Author: Frank McSherry <fmcsherry@me.com>
Date:   Wed Aug 5 07:54:33 2020 -0400

    Redundant join elimination (#3808)
    
    This PR means to generalize #3783, which digs deeper into redundant join elimination. This PR goes a bit further, and tracks provenance of each collection with respect to local and global identifiers. Each collection can have sets of columns that derive from each identifier, with the guarantee that projected on to these columns they will be contained in the corresponding projection of the identified collection. In some cases the sets of columns are identical.
    
    If we join two relations left and right, and left is 1. distinct, 2. has all of its columns drawn from some identifier, and right contains the same columns and they are equated by the join, then we can replace the join by right followed by some projection nonsense.
    
    This recovers the observed TopK optimization in topk.slt, and does a few interesting things in tpch.slt and chbench.slt that I still need to look at. One thing it does not do is optimize query 04 in either, which would be a good target. There it seems that the "branch key optimization", which reduces the columns of left down to those inspected in the subquery, requires the join by left to recover the columns. This might be "correct", in that the subquery might be better computed only on the distinct set of relevant identifiers, rather than e.g. maintain rendundant aggregates decorated with the attendant columns. In cases where this transformation would apply we know that the join is on keys that are distinct in left so there wouldn't be an asymptotic loss to disable the optimization, but it's all complicated.

commit a6d61e410f7cd42e659961f6cbdb8d14cb6b7c73
Author: Nikhil Benesch <nikhil.benesch@gmail.com>
Date:   Wed Aug 5 02:38:31 2020 -0400

    materialized: add http error response helper

commit 56f32ec82bcd41193002b2f55abf37a1f5c1eac7
Author: Nikhil Benesch <nikhil.benesch@gmail.com>
Date:   Wed Aug 5 02:27:06 2020 -0400

    materialized: improve "profiling disabled" page
    
    Use a human-readable template rather than a basic error string.
    This requires a bit of conditional compilation restructuring.
    Also use some more ergonomic APIs from hyper/http in the post handler.

commit b138c76969406f1ecad1e7c122d667c8a5cd4e56
Author: Nikhil Benesch <nikhil.benesch@gmail.com>
Date:   Wed Aug 5 01:57:23 2020 -0400

    materialized: modularize http module
    
    It's much easier to keep track of things if handlers are grouped in
    thematic submodules. This commit is pure code movement.

commit 39cade37543d592d70caabfc5a14021fa8e56dbd
Author: Nikhil Benesch <nikhil.benesch@gmail.com>
Date:   Wed Aug 5 01:40:42 2020 -0400

    materialized: use askama templating in http server
    
    Rendering HTML in Rust does not scale well.

commit a1bf7b9fb351794c8f2d8b385db107cac4d1d8c4
Author: Nikhil Benesch <nikhil.benesch@gmail.com>
Date:   Wed Aug 5 00:44:07 2020 -0400

    materialized: prepare http server for more static files
    
    Including files one-by-one will be tedious. Use the include_dir crate to
    automatically embed and serve anything in the new static resource
    directory.

commit 39a97d65bfd6222c2a1bcc4b19b393a197ef9d2f
Author: Nikhil Benesch <nikhil.benesch@gmail.com>
Date:   Tue Aug 4 16:23:33 2020 -0400

    materialized: change pattern for function handlers
    
    Make HTTP handlers non-async functions, but functions that return an
    `impl Future` instead. This is slightly less ergonomic, but it permits
    each of these functions to retain a borrow of self, which avoids awkward
    and unnecessary cloning of various bits of the Server struct. Instead,
    each handler can clone what it needs, if it needs anything at all,
    before constructing its 'static future.

commit 0a2f1b0825c34b8f9f27cc6a9053e190ea99f8ce
Merge: 09adbd590 da3479760
Author: Nikhil Benesch <nikhil.benesch@gmail.com>
Date:   Tue Aug 4 22:25:57 2020 -0400

    Merge pull request #3685 from benesch/rm-append-log
    
    coord,dataflow: remove SequencedCommand::AppendLog

commit da3479760319be88a8b9b957729f603e675b8414
Author: Nikhil Benesch <nikhil.benesch@gmail.com>
Date:   Mon Jul 20 23:21:43 2020 -0400

    coord,dataflow: remove SequencedCommand::AppendLog
    
    We can avoid the dataflow -> coord -> dataflow transfer for the
    mz_materialization_frontiers logging view by having each worker record
    its own frontiers and taking the min across all workers via a view.
    
    Fix #3684.

commit 09adbd590c9f6d2f8f99bee70bbdcd156ecbc4da
Merge: 34af7d338 2253d5c3f
Author: Nikhil Benesch <nikhil.benesch@gmail.com>
Date:   Tue Aug 4 17:37:36 2020 -0400

    Merge pull request #3763 from benesch/subselect-tests
    
    sqllogictest: import postgres subselect tests

commit 2253d5c3f5157b8437549cbd9840acac81a86dd8
Author: Nikhil Benesch <nikhil.benesch@gmail.com>
Date:   Mon Jul 27 10:29:51 2020 -0400

    sqllogictest: import postgres subselect tests
    
    These include a lot of good tests of correlated subqueries.

commit 744f597945829852036b42d51157e8b2a0f68615
Author: Nikhil Benesch <nikhil.benesch@gmail.com>
Date:   Mon Jul 27 15:36:58 2020 -0400

    expr,dataflow: widen output type of SumInt32
    
    Widen output type of sum(int32) from int32 to int64, to match Postgres.
    Postgres's decision here is sensible, too; very easy for the sum of a
    bunch of int32s to overflow an int32.
    
    This improves the precision of results in various SLTs, as you would
    expect.

commit 69f9ba1d0635d005b3eeb2edb9ecb5f73fecde31
Author: Nikhil Benesch <nikhil.benesch@gmail.com>
Date:   Mon Jul 27 14:22:13 2020 -0400

    sql-parser: make handling of float datatypes more consistent
    
    "float4" and "float8" must be marked as keywords to be picked up by the
    parser. Also render DataType::Double as "double precision", as the bare
    "double" appears to be a Materialize extension that is not supported by
    PostgreSQL.

commit e3430bbcb3fcce80e41da76cd1952fd4d7c20edf
Author: Nikhil Benesch <nikhil.benesch@gmail.com>
Date:   Tue Aug 4 17:14:36 2020 -0400

    sql: don't name aggregates
    
    This is a holdover from before we had a separate invent_column_name
    function. Inventing column names in two places causes clashes.

commit 42630b203e1784e1f096f4bfa14701f97af49577
Author: Nikhil Benesch <nikhil.benesch@gmail.com>
Date:   Tue Aug 4 16:44:08 2020 -0400

    sql: fix overflow in mixed aggregate reference check

commit 320c51bbc4a68624752a51e2a82276ba965c380f
Author: Nikhil Benesch <nikhil.benesch@gmail.com>
Date:   Tue Aug 4 12:55:32 2020 -0400

    lint: allow ico files to omit trailing newline

commit 34af7d338ddb4b24187ffe605be0d5696c62b148
Merge: ca0075727 9af13aa2f
Author: Nikhil Benesch <nikhil.benesch@gmail.com>
Date:   Tue Aug 4 14:31:50 2020 -0400

    Merge pull request #3855 from benesch/jemalloc-cfg
    
    materialized: take responsibility for conditional selection of allocator

commit 453c6444bddd6ca13cb1550fb467348442a9c4c2
Author: Ruchir Khaitan <ruchir0001@gmail.com>
Date:   Tue Aug 4 14:26:59 2020 -0400

    dataflow, sql: store starting offsets in a HashMap
    
    Touches #2736
    
    Previously, we had a single start_offset per source, and we used that start_offset
    across all of the partitions. This commit adds the ability to specify offsets
    on a per-partition basis but does not allow for a user to actually specify multiple
    offsets from the SQL interface.

commit 9af13aa2f59b0043826f4d4d747629d7990f1d71
Author: Nikhil Benesch <nikhil.benesch@gmail.com>
Date:   Tue Aug 4 11:24:39 2020 -0400

    materialized: take responsibility for conditional selection of allocator
    
    The materialized crate should be the one place where we choose which
    allocator to use based on the target OS. This commit relieves the prof
    crate of that responsibility. One day, hopefully when target-specific
    features are supported, the prof crate will be able to expose both
    jemalloc- and non-jemalloc-dependent features, but for the moment we
    just declare that the prof crate depends on jemalloc.
    
    As an added bonus, with this commit, neither the prof crate nor
    the jemallocator crate are linked on macOS. This avoids bringing in the
    jemalloc dependency at all on macOS, where it is unused.
    
    This is an alternative to #3854.
    
    Fix #3853.

commit 7a8efc9eb24ed89e2703b00477b7e06d3758e9d9
Author: Nikhil Benesch <nikhil.benesch@gmail.com>
Date:   Tue Aug 4 11:23:15 2020 -0400

    materialized: improve commentary about choice of allocator
    
    At this point, it's pretty clear we won't be using jemalloc on macOS, so
    note that, along with some rationale.

commit ca0075727b09fb4d96a3d79174b3df030bbcadfc
Merge: a8981beff 9a8e3bf44
Author: Nikhil Benesch <nikhil.benesch@gmail.com>
Date:   Tue Aug 4 12:53:14 2020 -0400

    Merge pull request #3816 from benesch/regex-ops
    
    expr,sql: support POSIX regular expression matching

commit a8981beffbc71881fa371cc4534f27d71f3df970
Merge: 436b0a262 9faa42915
Author: Nikhil Benesch <nikhil.benesch@gmail.com>
Date:   Tue Aug 4 12:41:50 2020 -0400

    Merge pull request #3851 from benesch/linear-operator-helpers
    
    Linear operator helpers

commit 9faa42915f1c355a8725d215a6dba707f670f3bd
Author: Nikhil Benesch <nikhil.benesch@gmail.com>
Date:   Tue Aug 4 00:29:09 2020 -0400

    dataflow-types: merge DataflowDesc impl blocks
    
    Doesn't seem to be any good reason to have two of these.

commit 45875f6600e37ca653e5f2bb7c6cb49e67a4fd8e
Author: Nikhil Benesch <nikhil.benesch@gmail.com>
Date:   Tue Aug 4 00:27:28 2020 -0400

    dataflow-types: add some helper functions
    
    This makes things read just a smidge more nicely.

commit 436b0a262eabb43be805cbd7faa7e5054fc3100f
Merge: c4292f7ba ed08c6da8
Author: Nikhil Benesch <nikhil.benesch@gmail.com>
Date:   Tue Aug 4 00:30:52 2020 -0400

    Merge pull request #3845 from benesch/dataflow-clarity
    
    dataflow: start untangling complexity

commit ed08c6da8bf11ceea9f723d6e839db668d3c724c
Author: Nikhil Benesch <nikhil.benesch@gmail.com>
Date:   Mon Aug 3 15:41:00 2020 -0400

    dataflow: split render::build_dataflow into chunks
    
    There is still far too much complexity in rendering, but this makes it
    possible to reason about each step of the dataflow build more
    independently.
    
    There are no code changes in this PR, except that logging of dataflow
    dependencies is hoisted out of the render module, to simplify the amount
    of state that must be plumbed.

commit f5569428d3fead0c01d33e415efcf856ed725901
Author: Nikhil Benesch <nikhil.benesch@gmail.com>
Date:   Mon Aug 3 14:28:43 2020 -0400

    dataflow: move some per-dataflow-render state into Context
    
    This will make it possible to split render::build_dataflow into
    digestible chunks.

commit c5409b891d7ab4c2473afd8a45719b4d2ebb6318
Author: Nikhil Benesch <nikhil.benesch@gmail.com>
Date:   Mon Aug 3 13:59:14 2020 -0400

    dataflow: bundle render-related state
    
    This avoids passing a dozen parameters to build_dataflow.

commit 2b237e7ae91671d24c44255af1fc3ff400d2360e
Author: Nikhil Benesch <nikhil.benesch@gmail.com>
Date:   Mon Aug 3 13:13:25 2020 -0400

    dataflow: rename Worker::inner to Worker::timely_worker
    
    The name "inner" did not age well. This makes things quite a bit
    clearer, in my opinion.

commit c4292f7ba2a61529851f93907812241f490c4881
Merge: 7baac36b8 9f7ca109c
Author: Nikhil Benesch <nikhil.benesch@gmail.com>
Date:   Mon Aug 3 23:20:41 2020 -0400

    Merge pull request #3813 from benesch/group-by-ordinal-2
    
    sql: handle GROUP BY ordinal refs to items of arbitrary expressions

commit 7baac36b86b202e80e9df08c5db352c6690a203a
Merge: 59b5a9c4d 6af992d63
Author: Nikhil Benesch <nikhil.benesch@gmail.com>
Date:   Mon Aug 3 23:03:34 2020 -0400

    Merge pull request #3850 from benesch/no-lint-ico
    
    lint: exclude ico from copyright/trailing-newline checks

commit 6af992d6312359735da54b00597733d7ba30954c
Author: Nikhil Benesch <nikhil.benesch@gmail.com>
Date:   Mon Aug 3 22:57:09 2020 -0400

    lint: exclude ico from copyright/trailing-newline checks

commit 9f7ca109cd929b52368544d17a78c8f10788e2ee
Author: Nikhil Benesch <nikhil.benesch@gmail.com>
Date:   Fri Jul 31 12:08:07 2020 -0400

    sql: handle GROUP BY ordinal refs to items of arbitrary expressions
    
    Allow ordinal references in `GROUP BY` clauses to refer to items in the
    `SELECT` list that are formed from arbitrary expressions, as in:
    
        SELECT a + 1, sum(b) FROM ... GROUP BY 1
    
    Previously, Materialize only handled ordinal references to items that were
    simple column references, as in:
    
        SELECT a, sum(b) FROM ... GROUP BY 1

commit 59b5a9c4defe7dfab4171b92bde9f0699a7c0a2c
Author: Brennan Vincent <brennan@materialize.io>
Date:   Mon Aug 3 21:22:45 2020 -0400

    Fix name of global; fix two comments (#3848)

commit 4f488f0870eddafd2a7d4f0979d60e303677601d
Author: Brennan Vincent <brennan@materialize.io>
Date:   Mon Aug 3 20:27:08 2020 -0400

    Add /prof profiling endpoint (#3844)
    
    When Materialize is started with `_RJEM_MALLOC_CONF=prof:true`, this endpoint provides a UI to start and stop memory profiling, and generate and download heap dump files (that can later be turned into flamegraphs with the steps described [here](https://github.com/MaterializeInc/wiki/wiki/Linux-memory-heap-profiles)).

commit 07cf51de4f7a34bbc726d363f393d76b7243463c
Author: Brennan Vincent <brennan@materialize.io>
Date:   Mon Aug 3 17:33:57 2020 -0400

    Display Materialize logo as favicon in HTTP UI (#3846)

commit 4f1da6ba17965f4d0d1e297ba0cbaf4a4b233d3a
Merge: 5da56dd72 6ad3c39c7
Author: Nikhil Benesch <nikhil.benesch@gmail.com>
Date:   Mon Aug 3 16:27:56 2020 -0400

    Merge pull request #3847 from benesch/slt-upload
    
    ci: fix slt upload

commit 6ad3c39c76966753b1f5634498feb3bd8b7b8975
Author: Nikhil Benesch <nikhil.benesch@gmail.com>
Date:   Mon Aug 3 16:24:46 2020 -0400

    ci: fix slt upload
    
    We need to pass through the "BUILDKITE_BUILD_ID" environment variable
    too.

commit 5da56dd729abbe48b3abbf82be7ab81bbf8197b8
Merge: efee1c337 644aab787
Author: Nikhil Benesch <nikhil.benesch@gmail.com>
Date:   Mon Aug 3 16:13:54 2020 -0400

    Merge pull request #3810 from benesch/pgwire-parse-types
    
    pgwire,sql: respect client-provided parameter types

commit efee1c33724646828cedfb61fde032c5f31dfb9e
Merge: 8d3f77b4c be958872d
Author: Nikhil Benesch <nikhil.benesch@gmail.com>
Date:   Mon Aug 3 15:50:20 2020 -0400

    Merge pull request #3842 from benesch/timestamp-refmt
    
    coord: reformat hardcoded avro schemas

commit be958872d606dd64c247e30492935f8811880cd4
Author: Nikhil Benesch <nikhil.benesch@gmail.com>
Date:   Mon Aug 3 11:37:36 2020 -0400

    coord: reformat hardcoded avro schemas
    
    These are much easier to read when they are properly formatted.

commit 8d3f77b4cfd48f122955c485cb8bf3112b00fba2
Merge: 7d1c7eb53 eb735098a
Author: Nikhil Benesch <nikhil.benesch@gmail.com>
Date:   Mon Aug 3 11:24:43 2020 -0400

    Merge pull request #3826 from benesch/full-slt
    
    test: fix full sqllogictest

commit 7d1c7eb538c8a10a3217d180f2fc0d6be43e31bb
Merge: 7d2cde8cc d74297ab8
Author: Nikhil Benesch <nikhil.benesch@gmail.com>
Date:   Mon Aug 3 11:23:46 2020 -0400

    Merge pull request #3832 from MaterializeInc/dependabot/cargo/rdkafka-sys-9a713e3
    
    build(deps): bump rdkafka-sys from `770ac74` to `9a713e3`

commit 7d2cde8cc130088d3a4e76af596331a0bd093893
Merge: 6f3262c0c 6478ff53a
Author: Nikhil Benesch <nikhil.benesch@gmail.com>
Date:   Mon Aug 3 11:23:29 2020 -0400

    Merge pull request #3835 from MaterializeInc/dependabot/cargo/rdkafka-9a713e3
    
    build(deps): bump rdkafka from `770ac74` to `9a713e3`

commit 6f3262c0c911297a72ea484565485229d3f67c8c
Merge: 21a0a3877 911625491
Author: Nikhil Benesch <nikhil.benesch@gmail.com>
Date:   Mon Aug 3 11:23:08 2020 -0400

    Merge pull request #3821 from benesch/repeat-experimental
    
    sql: mark repeat function as experimental

commit 21a0a3877afaf228c7eaf290d04583e6eb2a956e
Merge: 7974b14ff 403a34e2d
Author: Ruchir Khaitan <ruchir0001@gmail.com>
Date:   Mon Aug 3 11:09:58 2020 -0400

    Merge pull request #3779 from ruchirK/rk-faster-billing-demo
    
    faster load gen in billing demo + better ux

commit eb735098a8917927d8bcd99792d6d9d20602e6ce
Author: Nikhil Benesch <nikhil.benesch@gmail.com>
Date:   Sat Aug 1 10:54:16 2020 -0400

    test: fix full sqllogictest
    
    This rewrites a few upstream tests for our new semantics, which match
    PostgreSQL rather than SQLite. It also fixes a panic on select1.test
    caused by transform ordering woes, and adds a full SLT run to the
    release checklist so this doesn't rot in the future.
    
    Fix #3817.
    Fix #3824.

commit 7974b14ff714b7d4274d7261a5a8f38e25e51c7a
Author: Frank McSherry <fmcsherry@me.com>
Date:   Mon Aug 3 10:54:49 2020 -0400

    break negate keys (#3840)

commit 6478ff53a5299531b0415019ec1ab24209ff6345
Author: dependabot-preview[bot] <27856297+dependabot-preview[bot]@users.noreply.github.com>
Date:   Mon Aug 3 14:53:47 2020 +0000

    build(deps): bump rdkafka from `770ac74` to `9a713e3`
    
    Bumps [rdkafka](https://github.com/fede1024/rust-rdkafka) from `770ac74` to `9a713e3`.
    - [Release notes](https://github.com/fede1024/rust-rdkafka/releases)
    - [Commits](https://github.com/fede1024/rust-rdkafka/compare/770ac7419f9c2d0b8607a5614efc978dd1c6182b...9a713e35b6063983db546bcc09bd155206a4c3d1)
    
    Signed-off-by: dependabot-preview[bot] <support@dependabot.com>

commit c138a68b9e72be5acbf64d818797b97a0c4296f6
Merge: 4bae670e6 c43203232
Author: Nikhil Benesch <nikhil.benesch@gmail.com>
Date:   Mon Aug 3 10:53:04 2020 -0400

    Merge pull request #3829 from MaterializeInc/dependabot/cargo/stacker-0.1.10
    
    build(deps): bump stacker from 0.1.9 to 0.1.10

commit 4bae670e6ec7f20865b22b09a1c1bc411a806ea5
Merge: 935fcc613 f0e8038f3
Author: Nikhil Benesch <nikhil.benesch@gmail.com>
Date:   Mon Aug 3 10:52:22 2020 -0400

    Merge pull request #3828 from MaterializeInc/dependabot/cargo/postgres-0.17.5
    
    build(deps): bump postgres from 0.17.3 to 0.17.5

commit 935fcc613de01040d04ff6507858b9f7829eca7c
Merge: 7e451fe73 c96746983
Author: Nikhil Benesch <nikhil.benesch@gmail.com>
Date:   Mon Aug 3 10:51:37 2020 -0400

    Merge pull request #3834 from MaterializeInc/dependabot/cargo/libc-0.2.74
    
    build(deps): bump libc from 0.2.73 to 0.2.74

commit 7e451fe73e54eb8955a877f16e78ab8bed4c714b
Merge: 9992bfbe3 02549f1d1
Author: Nikhil Benesch <nikhil.benesch@gmail.com>
Date:   Mon Aug 3 10:51:31 2020 -0400

    Merge pull request #3833 from MaterializeInc/dependabot/cargo/reqwest-0.10.7
    
    build(deps): bump reqwest from 0.10.6 to 0.10.7

commit 9992bfbe309b1112d1aedcc03222f0ce555ca368
Merge: f23fe1e20 82fef8945
Author: Nikhil Benesch <nikhil.benesch@gmail.com>
Date:   Mon Aug 3 10:51:21 2020 -0400

    Merge pull request #3831 from MaterializeInc/dependabot/cargo/clap-2.33.1
    
    build(deps): bump clap from 2.33.0 to 2.33.1

commit f23fe1e20cf610990d4fa3d872147314afee2ff9
Merge: 517797a06 240849a34
Author: Nikhil Benesch <nikhil.benesch@gmail.com>
Date:   Mon Aug 3 10:49:42 2020 -0400

    Merge pull request #3836 from MaterializeInc/dependabot/cargo/tracing-0.1.18
    
    build(deps): bump tracing from 0.1.16 to 0.1.18

commit 517797a06ce492941ecca6ee439c01ad87a010e5
Merge: 25202b23a 47b42c1db
Author: Albert Wang <albert@materialize.io>
Date:   Mon Aug 3 08:44:49 2020 -0400

    Merge pull request #3837 from MaterializeInc/awang-patch-1
    
    Replace VIEW with MATERIALIZED VIEW

commit 47b42c1dbb02434a036a022ac8585ec0ad4e98b5
Author: Albert Wang <albert@materialize.io>
Date:   Mon Aug 3 08:40:57 2020 -0400

    trailing whitespace

commit 90083fb7033ef56e48fc423de90253845eb3d8dd
Author: Albert Wang <albert@materialize.io>
Date:   Mon Aug 3 08:38:31 2020 -0400

    tweak copy to make it feel less dismissive

commit 49f1c0ab6774aa52d31cea9c27c0d4e625df0204
Author: Albert Wang <albert@materialize.io>
Date:   Mon Aug 3 08:34:59 2020 -0400

    Replace VIEW with MATERIALIZED VIEW

commit 25202b23a096d65bce840af1ca350415c7129a07
Author: Frank McSherry <fmcsherry@me.com>
Date:   Mon Aug 3 08:30:06 2020 -0400

    Edits to select docs (#3827)
    
    Edits to the SELECT docs, based on some confusions from the Slack community channel. They were not confused about the docs, but I wanted to point them here to clear up the confusion but the relevant detail wasn't here yet.

commit 240849a346105df8126c7fe3e8c4a1bfe00fcbab
Author: dependabot-preview[bot] <27856297+dependabot-preview[bot]@users.noreply.github.com>
Date:   Mon Aug 3 11:28:29 2020 +0000

    build(deps): bump tracing from 0.1.16 to 0.1.18
    
    Bumps [tracing](https://github.com/tokio-rs/tracing) from 0.1.16 to 0.1.18.
    - [Release notes](https://github.com/tokio-rs/tracing/releases)
    - [Commits](https://github.com/tokio-rs/tracing/compare/tracing-0.1.16...tracing-0.1.18)
    
    Signed-off-by: dependabot-preview[bot] <support@dependabot.com>

commit c967469838b36a7ebbbc199eebb55ee68bff5d91
Author: dependabot-preview[bot] <27856297+dependabot-preview[bot]@users.noreply.github.com>
Date:   Mon Aug 3 11:27:31 2020 +0000

    build(deps): bump libc from 0.2.73 to 0.2.74
    
    Bumps [libc](https://github.com/rust-lang/libc) from 0.2.73 to 0.2.74.
    - [Release notes](https://github.com/rust-lang/libc/releases)
    - [Commits](https://github.com/rust-lang/libc/compare/0.2.73...0.2.74)
    
    Signed-off-by: dependabot-preview[bot] <support@dependabot.com>

commit 02549f1d1d9aa5a8c768c5e0b88724eac1ef95be
Author: dependabot-preview[bot] <27856297+dependabot-preview[bot]@users.noreply.github.com>
Date:   Mon Aug 3 11:27:08 2020 +0000

    build(deps): bump reqwest from 0.10.6 to 0.10.7
    
    Bumps [reqwest](https://github.com/seanmonstar/reqwest) from 0.10.6 to 0.10.7.
    - [Release notes](https://github.com/seanmonstar/reqwest/releases)
    - [Changelog](https://github.com/seanmonstar/reqwest/blob/master/CHANGELOG.md)
    - [Commits](https://github.com/seanmonstar/reqwest/compare/v0.10.6...v0.10.7)
    
    Signed-off-by: dependabot-preview[bot] <support@dependabot.com>

commit d74297ab894b40d74a6ff2812951926793e48ef2
Author: dependabot-preview[bot] <27856297+dependabot-preview[bot]@users.noreply.github.com>
Date:   Mon Aug 3 11:26:42 2020 +0000

    build(deps): bump rdkafka-sys from `770ac74` to `9a713e3`
    
    Bumps [rdkafka-sys](https://github.com/fede1024/rust-rdkafka) from `770ac74` to `9a713e3`.
    - [Release notes](https://github.com/fede1024/rust-rdkafka/releases)
    - [Commits](https://github.com/fede1024/rust-rdkafka/compare/770ac7419f9c2d0b8607a5614efc978dd1c6182b...9a713e35b6063983db546bcc09bd155206a4c3d1)
    
    Signed-off-by: dependabot-preview[bot] <support@dependabot.com>

commit 82fef894509f065312536e6ec5533a30961a0780
Author: dependabot-preview[bot] <27856297+dependabot-preview[bot]@users.noreply.github.com>
Date:   Mon Aug 3 11:26:14 2020 +0000

    build(deps): bump clap from 2.33.0 to 2.33.1
    
    Bumps [clap](https://github.com/clap-rs/clap) from 2.33.0 to 2.33.1.
    - [Release notes](https://github.com/clap-rs/clap/releases)
    - [Changelog](https://github.com/clap-rs/clap/blob/v2.33.1/CHANGELOG.md)
    - [Commits](https://github.com/clap-rs/clap/compare/v2.33.0...v2.33.1)
    
    Signed-off-by: dependabot-preview[bot] <support@dependabot.com>

commit c4320323234e56ff6c19e873cd5c4c9ebe8ca8f8
Author: dependabot-preview[bot] <27856297+dependabot-preview[bot]@users.noreply.github.com>
Date:   Mon Aug 3 11:25:17 2020 +0000

    build(deps): bump stacker from 0.1.9 to 0.1.10
    
    Bumps [stacker](https://github.com/rust-lang/stacker) from 0.1.9 to 0.1.10.
    - [Release notes](https://github.com/rust-lang/stacker/releases)
    - [Commits](https://github.com/rust-lang/stacker/compare/stacker-0.1.9...stacker-0.1.10)
    
    Signed-off-by: dependabot-preview[bot] <support@dependabot.com>

commit f0e8038f3cbea3606f2e5da1007ca9dc3420c5f1
Author: dependabot-preview[bot] <27856297+dependabot-preview[bot]@users.noreply.github.com>
Date:   Mon Aug 3 11:24:52 2020 +0000

    build(deps): bump postgres from 0.17.3 to 0.17.5
    
    Bumps [postgres](https://github.com/sfackler/rust-postgres) from 0.17.3 to 0.17.5.
    - [Release notes](https://github.com/sfackler/rust-postgres/releases)
    - [Commits](https://github.com/sfackler/rust-postgres/compare/postgres-v0.17.3...postgres-v0.17.5)
    
    Signed-off-by: dependabot-preview[bot] <support@dependabot.com>

commit 403a34e2ddf5d012caa32d154bae408c35a89c9e
Author: Ruchir Khaitan <ruchir0001@gmail.com>
Date:   Sat Aug 1 11:58:09 2020 -0400

    demo/billing: cleaner knobs for topic creation and replication factor
    
    Closes #3388

commit 4717d1f9b7dd21dbc3dd1973483b1b1daa14af42
Author: Ruchir Khaitan <ruchir0001@gmail.com>
Date:   Tue Jul 28 17:32:07 2020 -0400

    demo/billing: faster load gen

commit ee7f62980b3316eb3176fe7a2bd1d4b36d538757
Merge: 92c46b7a2 20fcecef0
Author: Nikhil Benesch <nikhil.benesch@gmail.com>
Date:   Sat Aug 1 09:57:12 2020 -0400

    Merge pull request #3806 from benesch/kafka-util
    
    kafka-util: absorb responsibility for creating topics synchronously

commit 92c46b7a2f4557337d71f706b5c127f3c9ed84f4
Merge: ad30e4bab 5905f78d3
Author: Nikhil Benesch <nikhil.benesch@gmail.com>
Date:   Sat Aug 1 09:51:24 2020 -0400

    Merge pull request #3814 from benesch/cast-bool-to-int
    
    sql: support casting bool to int4

commit 5905f78d3ce8796524d18e02bd8591dc75818110
Author: Nikhil Benesch <nikhil.benesch@gmail.com>
Date:   Fri Jul 31 12:27:56 2020 -0400

    sql: support casting bool to int4
    
    Fix #3812.

commit 20fcecef0d840e7a636ab6cdae9c2fd5a3262c1f
Author: Nikhil Benesch <nikhil.benesch@gmail.com>
Date:   Thu Jul 30 17:08:24 2020 -0400

    kafka-util: add docs

commit 403b8f16d2ae0b3e4f48fbc8f21b9738a7ccee04
Author: Nikhil Benesch <nikhil.benesch@gmail.com>
Date:   Thu Jul 30 14:00:52 2020 -0400

    kafka-util: absorb responsibility for creating topics synchronously
    
    This makes it possible to share this code between testdrive and
    test-util.

commit 911625491961707b8867e18b95cb78b0b5698aa1
Author: Nikhil Benesch <nikhil.benesch@gmail.com>
Date:   Fri Jul 31 16:02:13 2020 -0400

    sql: mark repeat function as experimental
    
    If repeat yields negative output, various pieces of Materialize can
    panic, so it's a bit dangerous to have lying around at the moment.
    Mark it as experimental, so folks don't start using it yet without
    agreeing to the experimental mode contract.
    
    Touches #3820.

commit 9a8e3bf440001653006b7b29856532d6bac63595
Author: Nikhil Benesch <nikhil.benesch@gmail.com>
Date:   Fri Jul 31 15:34:48 2020 -0400

    expr,sql: support POSIX regular expression matching
    
    Add support for the regular expression matching operators (~, ~*, !~,
    and !~*), which are required for PgJDBC support.
    
    Fix #804.

commit ad30e4bab047b75435922aa9c88ba01f398b264a
Author: Brennan Vincent <brennan@materialize.io>
Date:   Fri Jul 31 14:15:27 2020 -0400

    Allow snappy-encoded OCF files (#3815)

commit ba2a00ab3cb6805e0d0d9bc9cbde512f38b2f6d8
Merge: 6b22a032e 6519594a0
Author: Natacha Crooks <nacrooks@gmail.com>
Date:   Fri Jul 31 13:17:14 2020 -0400

    Merge pull request #2856 from nacrooks/chbenchcorrectness
    
    This PR
    
    1) adds the ability to run ChBench with both Postgres and MySQL by specifying an additional option when running the benchmark
    
    2) adds the Debezium option for using the consistency topic for Postgres.

commit 6b22a032e32b8cbdef4808a91823bafab273160e
Merge: 93a50df2f 50813112e
Author: Nikhil Benesch <nikhil.benesch@gmail.com>
Date:   Fri Jul 31 13:14:52 2020 -0400

    Merge pull request #3796 from benesch/relnote-draft
    
    doc/user: 0.4.1 release notes draft

commit 6519594a0060cf8ccc7b9c1e4d8ae688f9fc228b
Author: Natacha Crooks <nacrooks@gmail.com>
Date:   Fri May 1 17:32:40 2020 -0400

    This PR
    1) adds support for Postgres in ChBench
    2) adds support for using the consistency topic in Debezium
    4) adds a test-consistency option to ChBench for verifying the TPC-C
    correctness conditions
    5) fixes a couple of issues in the Debezium ingestion logic

commit 50813112e7fa33f16af6a0a05fccedf92f397d2b
Author: Nikhil Benesch <nikhil.benesch@gmail.com>
Date:   Thu Jul 30 00:57:12 2020 -0400

    doc/user: 0.4.1 release notes draft

commit 93a50df2f7536fecfb07c918fe437a045541b51b
Merge: 30535ebf7 4f814a1a2
Author: Brandon W Maister <bwm@materialize.io>
Date:   Fri Jul 31 09:14:14 2020 -0400

    Merge pull request #3807 from quodlibetor/timestamps-need-escaping
    
    Timestamps are not nestable

commit 644aab787f077143df853fcca34fe058ee73b7b2
Author: Nikhil Benesch <nikhil.benesch@gmail.com>
Date:   Fri Jul 31 01:09:32 2020 -0400

    pgwire,sql: respect client-provided parameter types
    
    While most PostgreSQL clients leave parameter types unspecified and rely
    on the server to perform parameter type inference, the protocol allows
    for clients to explicitly specify parameter types. PgJDBC, notably,
    always specifies parameter types in its default configuration.
    
    We were previously dropping this information on the floor, which led to
    some weird error messages with PgJDBC if the types didn't line up. This
    commit fixes that.
    
    Fix #3625.

commit 30535ebf7b963d4e58e87363d8d9fdf6f5262226
Merge: ee4359aad 30e4cccae
Author: Nikhil Benesch <nikhil.benesch@gmail.com>
Date:   Thu Jul 30 20:16:49 2020 -0400

    Merge pull request #3803 from benesch/testdrive-cleanup
    
    testdrive: actually check column names, when specified

commit 4f814a1a2a22cc2d96dc9795e3776a0f678073c5
Author: Brandon W Maister <bwm@materialize.io>
Date:   Thu Jul 30 17:23:41 2020 -0400

    Timestamps are not nestable

commit ee4359aad2369a9e2fcd4e6b9ba8969f29552691
Merge: 056c2e4b5 981b1ad39
Author: Nikhil Benesch <nikhil.benesch@gmail.com>
Date:   Thu Jul 30 17:16:26 2020 -0400

    Merge pull request #3785 from benesch/lateral-join-ii
    
    sql: unblock many remaining postgres lateral join tests

commit 056c2e4b59c8527f63ea4ea34b4b896a3bbade32
Merge: 7c470aeea 273fc667b
Author: Nikhil Benesch <nikhil.benesch@gmail.com>
Date:   Thu Jul 30 16:30:01 2020 -0400

    Merge pull request #3804 from benesch/rdkafka-bump
    
    deps: bump to latest rdkafka

commit 7c470aeea8ee80c28df4b96a6129df936b5c33b4
Merge: 06f6c1861 7f00be914
Author: Nikhil Benesch <nikhil.benesch@gmail.com>
Date:   Thu Jul 30 16:18:36 2020 -0400

    Merge pull request #3805 from benesch/docs-title-case
    
    doc/user: use Title Case for all page titles

commit 7f00be91460f19d5565218ea198f62e89141b13d
Author: Nikhil Benesch <nikhil.benesch@gmail.com>
Date:   Thu Jul 30 16:14:54 2020 -0400

    doc/user: use Title Case for all page titles
    
    We were quite consistent with this rule, with just two exceptions.

commit 273fc667b8c847e7074403491d60f09b5e831c18
Author: Nikhil Benesch <nikhil.benesch@gmail.com>
Date:   Thu Jul 30 16:07:19 2020 -0400

    deps: bump to latest rdkafka
    
    The latest rdkafka includes two particularly relevant fixes:
    
      * The consumer group join logic is much faster, and noticeably cuts
        down on testdrive's running time.
    
      * Partition metadata is automatically fetched when interest in a new
        partition is registered.

commit 30e4cccaed2e190fea0176466e5104485b43b0cc
Author: Nikhil Benesch <nikhil.benesch@gmail.com>
Date:   Thu Jul 30 16:00:37 2020 -0400

    testdrive: actually check column names, when specified
    
    Testdrive was forgetting to assert that the column names specified in
    the test file were, in fact, the column names returned by the SQL query.
    Fix that, and update a bunch of tests that were broken.

commit 06f6c1861e47ec3030f11d8b328aee4ac2c4d7af
Merge: 72620d4ad 5798b73d8
Author: Brandon W Maister <bwm@materialize.io>
Date:   Thu Jul 30 15:42:38 2020 -0400

    Merge pull request #3802 from quodlibetor/text-is-microseconds
    
    Switch to always formatting text as microseconds

commit 5798b73d86e7adc6d6dcca8efe0dcc6fa1f3e6ae
Author: Brandon W Maister <bwm@materialize.io>
Date:   Thu Jul 30 14:15:22 2020 -0400

    Switch to always formatting text as microseconds
    
    Postgres only keeps microsecond granularity internally, so clients are not expected to be
    ready for more than 6 digits of precision.

commit 03b8ad2cbb97ebb878f5ddd7b5bf3bc4fff5fc01
Author: Nikhil Benesch <nikhil.benesch@gmail.com>
Date:   Thu Jul 30 15:11:41 2020 -0400

    testdrive: rename SqlExpectedResult to SqlOutput
    
    "Result" is an overloaded term.

commit 72620d4adb99f0db9c98616bbd27bb81a3e2ee9a
Author: Brandon W Maister <bwm@materialize.io>
Date:   Thu Jul 30 14:34:56 2020 -0400

    Update release instructions to start checking relnotes earlier (#3801)

commit 981b1ad396d352861448d0c1726049e43b04670e
Author: Nikhil Benesch <nikhil.benesch@gmail.com>
Date:   Tue Jul 28 22:49:50 2020 -0400

    ci/slt: enable postgres/join-lateral.slt test

commit 8d57b288240abd307b7da4b4c5ed303c9615efe2
Author: Nikhil Benesch <nikhil.benesch@gmail.com>
Date:   Thu Jul 23 22:52:46 2020 -0400

    sql: disallow aggregates that refer exclusively to outer columns
    
    These apparently have the wrong semantics. Disable them so that we can
    introduce them with the correct semantics later, without having users
    depend on the current buggy behavior. See #3720 for details.

commit a97d65fba3187ab077146707954d89041ef4ff62
Author: Nikhil Benesch <nikhil.benesch@gmail.com>
Date:   Thu Jul 23 20:36:37 2020 -0400

    sql: fix column name assignment through subqueries
    
    In a query where a subquery is used in scalar position, like
    
        SELECT (SELECT * FROM (SELECT 1 AS a))
    
    PostgreSQL can figure out that the column should be named "a". Teach our
    SQL planner to do the same.

commit 6deb0a6bd5d533a489ce4c4b55125f4d78d43c06
Author: Nikhil Benesch <nikhil.benesch@gmail.com>
Date:   Thu Jul 23 19:57:05 2020 -0400

    sql: properly special case aliases for single-col table funcs
    
    Add a strange special case for table functions that ouput one column for
    PostgreSQL compatibility.  If a table alias is provided but not a column
    alias, the column implicitly takes on the same alias.
    
    Concretely, this means `SELECT x FROM generate_series(1, 5) AS x`
    returns a single column of type int, even though
    
        CREATE TABLE t (a int)
        SELECT x FROM t AS x
    
    would return a single column of type record(int).

commit 91168dfd7bc1d7e764bb241a0406297a5e2b68b7
Author: Nikhil Benesch <nikhil.benesch@gmail.com>
Date:   Thu Jul 23 16:37:31 2020 -0400

    sql-parser,symbosis: support INSERT INTO ... DEEFAULT VALUES
    
    This unblocks a PostgreSQL LATERAL join test that wants a zero column
    table with one row.

commit f7b6cf5ec2a077003fbf6c89658b9bed09f53095
Author: Nikhil Benesch <nikhil.benesch@gmail.com>
Date:   Thu Jul 23 16:25:32 2020 -0400

    sql-parser,sql: support aliasing nested joins
    
    This permits syntax like:
    
        SELECT ajb.* FROM (a NATURAL JOIN b) ajb NATURAL JOIN c
    
    This is required to support a PostgreSQL LATERAL join test.

commit feeabf2d3ca5e779649be34cfdb67f50a4533c03
Author: Nikhil Benesch <nikhil.benesch@gmail.com>
Date:   Thu Jul 23 15:35:58 2020 -0400

    sql: permit outer table references
    
    PostgreSQL allows referring to table names in scalar position, as in
    
        SELECT t FROM t
    
    which means to produce a single column which contains a nested record
    containing the columns of t. Extend this logic to support referring to
    outer (correlated) tables, as in:
    
        SELECT t FROM t, LATERAL (SELECT t)
    
    This unblocks a PostgreSQL LATERAL join test.

commit b8e3d2810866c0bf3b1d8358b3d34c9c452f2b9e
Merge: b21046433 9fe686d17
Author: Nikhil Benesch <nikhil.benesch@gmail.com>
Date:   Thu Jul 30 14:04:29 2020 -0400

    Merge pull request #3795 from benesch/monitoring
    
    doc/user: reorg monitoring docs into "operations" section

commit 9fe686d17f04ccfd42b90235419169a1acb3affb
Author: Nikhil Benesch <nikhil.benesch@gmail.com>
Date:   Thu Jul 30 00:13:04 2020 -0400

    doc/user: reorg monitoring docs into "operations" section
    
    This makes space for additional deployment instructions.
    
    I also took the opportunity to reformat the monitoring docs to be more
    consistent with the rest of the documentation.

commit b210464339036eb48bc2b4568d50b7acda7bf2e4
Author: Brandon W Maister <bwm@materialize.io>
Date:   Thu Jul 30 13:35:09 2020 -0400

    The nanos portion of a timestamp needs to come before the tz (#3798)

commit 7fd0d1727c9f70ffc44072a81044dbb7e9d55474
Merge: 709b23bce c889954a5
Author: Nikhil Benesch <nikhil.benesch@gmail.com>
Date:   Thu Jul 30 11:29:11 2020 -0400

    Merge pull request #3797 from benesch/kafka-addrs
    
    kafka-util: introduce dedicated KafkaAddr type

commit c889954a5783a0428d6d8c98fc7bc89bee374acd
Author: Nikhil Benesch <nikhil.benesch@gmail.com>
Date:   Thu Jul 30 09:23:26 2020 -0400

    kafka-util: introduce dedicated KafkaAddr type
    
    We were previously using a url::Url to carry around Kafka broker's
    host/port information. Unfortunately the Rust URL library refuses to
    parse a URL of the form
    
        12.34.56.78:9092
    
    and instead returns a confusing error about a "relative URL without a
    base."
    
    Rather than trying to wrangle this infuriatingly pedantic `url` crate
    into dealing with this, introduce a new KafkaAddr type that stores a
    host string/port number, and has the flexible parsing we're looking for.

commit 709b23bce4093d9f53195135e8962421753aa0ee
Merge: 3870c7cc6 2140443ab
Author: Nikhil Benesch <nikhil.benesch@gmail.com>
Date:   Thu Jul 30 00:12:07 2020 -0400

    Merge pull request #3789 from benesch/release-notes
    
    doc/user: update docs + release notes for 0.3.1 and 0.4.0

commit 2140443ab45425af0a644a08a6043a961d1cd673
Author: Nikhil Benesch <nikhil.benesch@gmail.com>
Date:   Wed Jul 29 09:51:27 2020 -0400

    doc/user: update docs + release notes for 0.3.1 and 0.4.0
    
    This commit polishes the documentation and release notes for the 0.3.1
    and 0.4.0 releases. A bit late, as both of those releases have shipped,
    but better late than never.
    
    The big new items of documentation include:
    
      * basic documentation for record types
      * documentation of escape string literals
      * documentation of typed string literals
    
    I've additionally updated the release notes for 0.3.1 and 0.4.0 to match
    the style guide, added many missing release notes, grouped things by
    theme where possible, marked backwards incompatible changes, and
    resorted several notes that were in the wrong release. These are the
    standards I'd like to hold release notes too, and I'm happy to do the
    legwork to make that so.

commit 3870c7cc6d1e63e9f0d52ca02ea686778c6873a2
Author: Frank McSherry <fmcsherry@me.com>
Date:   Wed Jul 29 16:00:59 2020 -0400

    Decorrelate conditional subqueries carefully (#3736)
    
    This PR makes decorrelation more robust for subqueries in conditional logic (the then and else cases for ScalarExpr::If). The idea is that if no subqueries exist in either case, we use the standard approach (decorrelate each expression, return the If), but if subqueries exist in either then or else, we independently decorrelate each case having first filtered by cond appropriately. For each filtered and decorrelated relation, we apply the logic as a map and change the expression to look at the last column.

commit 8054ccd4a9eab30024e2f488661826d1e32750d8
Merge: 828a3e55f 072197c0d
Author: Natacha Crooks <nacrooks@gmail.com>
Date:   Wed Jul 29 15:49:25 2020 -0400

    Merge pull request #3782 from nacrooks/multipletimestamp
    
    Coordinating real-time timestamps across workers
    
    This PR forces workers to pick real-time timestamps that are identical across workers. This minimises the amount of recomputation work that has to be done every time a capability is downgraded. This is achieved by "rounding" the chosen timestamp modulo "timestamp_frequency".

commit 828a3e55fbfe7952578bc43690c58d0d3b79d766
Author: Brennan Vincent <brennan@materialize.io>
Date:   Wed Jul 29 14:57:37 2020 -0400

    kgen: allow generating messages with random keys (#3788)

commit 77664ac07fbc5ce6859b44edf62c4aa964cf91f0
Author: Nikhil Benesch <nikhil.benesch@gmail.com>
Date:   Wed Jul 29 12:39:30 2020 -0400

    coord: unmaterialize all logging views by default (#3752)
    
    * coord: unmaterialize all logging views by default
    
    These logging views can eat up a lot of CPU. Make them all
    unmaterialized instead. They can still be queried, but doing so will run
    the required joins/aggregations on the underlying sources on demand.
    
    * fix tests
    
    Co-authored-by: Brennan Vincent <brennan@materialize.io>

commit 072197c0daa45cbf48b7deef8b47b346ef5aaee3
Author: Natacha Crooks <nacrooks@gmail.com>
Date:   Tue Jul 28 22:03:46 2020 -0400

    Rounding timestamp to timestamp_frequency

commit 3ca92784a8f2e4961ed551dbcf341351bf52e1fd
Author: Brennan Vincent <brennan@materialize.io>
Date:   Wed Jul 29 10:48:49 2020 -0400

    Make cross toolchain emit build-id; update stable ci builder. (#3787)

commit 1889214104353b77ead43c55b8192ffb149cf9fa
Merge: 23fe9cb2c 2b951aa8f
Author: Sean Loiselle <sean@materialize.io>
Date:   Wed Jul 29 09:45:06 2020 -0400

    Merge pull request #3757 from sploiselle/list-funcs-2
    
    sql: add basic list built-in functions

commit 23fe9cb2c9a0dbd314da9dc05f0d469ad48f355e
Merge: 6fefd770d d1ed07f2e
Author: Ruchir Khaitan <ruchir0001@gmail.com>
Date:   Wed Jul 29 08:29:42 2020 -0400

    Merge pull request #3784 from ruchirK/rk-3776
    
    demo/billing: saner handling of csv file name args

commit 6fefd770d330fb257a99496dc38279cc0b2f1a8e
Merge: 168ee8792 2735531f6
Author: Albert Wang <albert@materialize.io>
Date:   Tue Jul 28 23:56:14 2020 -0400

    Merge pull request #3761 from MaterializeInc/awang-doc-swap
    
    Recommend swap file to deal with OOMs

commit d1ed07f2e7804d268acb66fcf7af222432fea68a
Author: Ruchir Khaitan <ruchir0001@gmail.com>
Date:   Tue Jul 28 23:15:48 2020 -0400

    demo/billing: disable auto create topics

commit cc3ee5eb06709312f8d66cc8ce06c601b2e9f4e4
Author: Ruchir Khaitan <ruchir0001@gmail.com>
Date:   Tue Jul 28 22:48:21 2020 -0400

    demo/billing: saner handling of csv file name args
    
    Closes #3776

commit 168ee8792950489497e87b5f59b370f7fbccbfea
Merge: c07ed67f1 7a1a751fa
Author: Ruchir Khaitan <ruchir0001@gmail.com>
Date:   Tue Jul 28 22:50:21 2020 -0400

    Merge pull request #3781 from ruchirK/rk-3708
    
    test/perf-upsert: misc cleanups

commit c07ed67f1c44857f7ae5a10fa8c5278216acdae4
Merge: 9d56904f3 c90c92238
Author: Nikhil Benesch <nikhil.benesch@gmail.com>
Date:   Tue Jul 28 22:45:36 2020 -0400

    Merge pull request #3768 from benesch/comm-frame-length
    
    comm: disable maximum frame length

commit 7a1a751fa061d89a894c6850fc122b2982ac91b9
Author: Ruchir Khaitan <ruchir0001@gmail.com>
Date:   Tue Jul 28 21:50:01 2020 -0400

    test/perf-upsert: misc cleanups
    
    Closes #3708

commit 9d56904f3d6cc0d808b64230af216ec27845d96a
Author: Brennan Vincent <brennan@materialize.io>
Date:   Tue Jul 28 18:08:24 2020 -0400

    Look through union for LSN (#3780)

commit 2aaadfeda2d6769f91e28caec6bc07b456d949ec
Author: Brennan Vincent <brennan@materialize.io>
Date:   Tue Jul 28 17:34:17 2020 -0400

    Add `kgen` utility to dump random data into Kafka (#3775)

commit 2effefdcc003209d9ef51db49546964c7b7ecd95
Author: Brennan Vincent <brennan@materialize.io>
Date:   Tue Jul 28 12:04:15 2020 -0400

    Support deduplicating based on Postgres LSN (#3771)

commit e58d34d4f93349f7ee8fd606bc403911f6013b6d
Merge: 411abcb26 31ceab764
Author: Brandon W Maister <bwm@materialize.io>
Date:   Tue Jul 28 12:00:01 2020 -0400

    Merge pull request #3769 from quodlibetor/relnotes-include-more-items
    
    Verify that release notes match Release Announcement

commit 31ceab76468d7005759897de79e613725b94bb48
Author: Brandon W Maister <bwm@materialize.io>
Date:   Tue Jul 28 10:38:14 2020 -0400

    Add verification of release notes to release checklist
    
    And more!

commit a3849f3a43cc143e86895f28c204e22592048ff2
Author: Brandon W Maister <bwm@materialize.io>
Date:   Tue Jul 28 10:31:34 2020 -0400

    Include all the items from the release announcment in the relnotes

commit 411abcb2615f87608d6988d9644478b38ce85188
Author: Brennan Vincent <brennan@materialize.io>
Date:   Tue Jul 28 11:36:35 2020 -0400

    Avoid cloning the MySQL binlog filename on every row (#3772)

commit 2b951aa8fe642493fbe127c54bbcd63c9becc735
Author: sploiselle <sean@materialize.io>
Date:   Thu Jul 23 11:33:57 2020 -0400

    sql: add basic list built-in functions

commit 74ec95fffd877b38af80aaa354837083147a8fca
Merge: f644c5084 e59c13d8d
Author: Nikhil Benesch <nikhil.benesch@gmail.com>
Date:   Tue Jul 28 10:16:24 2020 -0400

    Merge pull request #3767 from benesch/simplify-join-elision
    
    transform: simplify join elision

commit c90c92238097352bb16a0ac927082a06a3e22384
Author: Nikhil Benesch <nikhil.benesch@gmail.com>
Date:   Tue Jul 28 10:02:47 2020 -0400

    comm: disable maximum frame length
    
    comm channels are trusted, so we don't actually want a maximum frame
    length at all. (Whatever we pick is destined to be too small; someone
    somewhere has a machine where shipping around N gigabytes is reasonable,
    for all values of N.) Just disable the frame length check entirely. If
    we can allocate it, it's ok.
    
    This isn't to say that we shouldn't be more helpful in preventing folks
    from OOMing their Materialize instance, but enforcing limits at the comm
    layer is pretty unhelpful, because the limits are not tied to anything
    the user understands. Better to enforce limits on e.g. the maximum
    number of rows, or the maximum pgwire result set size, rather than
    "result sets must not exceed 1GB when encoded using Materialize's
    internal bincode representation." Fixing that in a principled way is
    punted to another commit.

commit e59c13d8d5cda064f78e32a805c32b2a3d9186ca
Author: Nikhil Benesch <nikhil.benesch@gmail.com>
Date:   Tue Jul 28 09:51:49 2020 -0400

    transform: simplify join elision
    
    Key equivalence classes no longer need to be updated, I think as a
    result of the switch to using ScalarExprs for equivalences, so this code
    can get a lot simpler.

commit f644c5084d835320b628b0b3bfe82e1384316549
Author: Frank McSherry <fmcsherry@me.com>
Date:   Tue Jul 28 09:01:36 2020 -0400

    Rework topk to do less work (#3758)
    
    This is a WIP PR that tries out a different approach to TopK computation that can do substantially fewer allocations, and Row::unpack calls.

commit f885f1fd4eb0b034d5c570ecedbf232fed6602e3
Merge: 210caae56 f276dfd4a
Author: Nikhil Benesch <nikhil.benesch@gmail.com>
Date:   Tue Jul 28 08:49:33 2020 -0400

    Merge pull request #3765 from benesch/topk-idiom
    
    test: add plan + test for idiomatic top-k-in-group query

commit f276dfd4ac92d2141afd782bb0e8c2534c91680b
Author: Nikhil Benesch <nikhil.benesch@gmail.com>
Date:   Tue Jul 28 08:44:42 2020 -0400

    test: add plan + test for idiomatic top-k-in-group query

commit 210caae56f0c49115e0c0b751415a780ab03f8a4
Merge: 470649bdd d37fe57a0
Author: Nikhil Benesch <nikhil.benesch@gmail.com>
Date:   Tue Jul 28 08:19:48 2020 -0400

    Merge pull request #3713 from benesch/lateral-join
    
    sql: support LATERAL joins

commit 3b35c3f3dcc344e784af9d2f9e017f824a2b9e4a
Author: sploiselle <sean@materialize.io>
Date:   Mon Jul 27 22:51:29 2020 -0400

    docs: reword experimental feature CLI docs

commit 470649bdd6ff1e5316922002d5b9351b69c2895b
Merge: 4d80621b8 704e04d77
Author: Natacha Crooks <nacrooks@gmail.com>
Date:   Mon Jul 27 20:53:11 2020 -0400

    Merge pull request #3575 from nacrooks/kinesis
    
    This PR moves Kinesis sources to unified source ingestion framework. Kinesis do not currently support multi worker reading or BYO consistency.

commit 4d80621b8de90410acb9d944a225cb7bbb118312
Merge: ab4e423ef 4deaf8433
Author: Nikhil Benesch <nikhil.benesch@gmail.com>
Date:   Mon Jul 27 20:02:19 2020 -0400

    Merge pull request #3764 from benesch/copyrights
    
    lint: clean up copyright detection rules

commit 4deaf84330aa9ad14ca5b8ddbd6cf70c4667f2ea
Author: Nikhil Benesch <nikhil.benesch@gmail.com>
Date:   Mon Jul 27 19:59:38 2020 -0400

    lint: clean up copyright detection rules

commit d37fe57a022b3fddd737f4cf1dd2cbc1937e7133
Author: Nikhil Benesch <nikhil.benesch@gmail.com>
Date:   Thu Jul 23 00:32:08 2020 -0400

    sql: support LATERAL joins
    
    A LATERAL join allows the right-hand side of the join to access columns
    defined on the left-hand side of the join. A simple example from the
    PostgreSQL docs is the query
    
        SELECT * FROM foo, LATERAL (SELECT * FROM bar WHERE bar.id = foo.bar_id) ss
    
    which is equivalent to:
    
        SELECT * FROM foo, bar WHERE bar.id = foo.bar_id;
    
    The hope is that LATERAL joins will be useful for expressing "top-k
    within a group", as in:
    
       SELECT * FROM
           (SELECT DISTINCT cat FROM foo) grp,
           JOIN LATERAL (SELECT * FROM foo WHERE foo.cat = grp.cat ORDER BY foo.val LIMIT $k)

commit 704e04d7744cf07588cf4b42c76c345b36736c49
Author: Natacha Crooks <nacrooks@gmail.com>
Date:   Mon Jun 29 09:00:48 2020 -0400

    Moving Kinesis sources to common ingestion framework

commit 7c72cf52bdcc87b61129a5f4f1db7a31c54f0bcb
Author: Nikhil Benesch <nikhil.benesch@gmail.com>
Date:   Thu Jul 23 00:28:34 2020 -0400

    sql: manually recur in RelationExpr::visit_columns
    
    Using the visit_mut helper makes it difficult (impossible?) to increase
    `depth` for certain RelationExprs, which will be important for LATERAL
    joins. Just manually recur rather than using the visit_mut helper.
    
    There are intended to be no semantic changes in this commit.

commit 59432807d20f4d39b21bf218cbc91e2fb73a6d52
Author: Nikhil Benesch <nikhil.benesch@gmail.com>
Date:   Thu Jul 23 00:25:09 2020 -0400

    sql: inline RelationExpr::product
    
    This function is very much not-generalizable, and gets quite tricky with
    LATERAL joins. Just inline it in its one call site.

commit 70bb0a2d08c76472a659f956f6d8982eec5cd8bc
Author: Nikhil Benesch <nikhil.benesch@gmail.com>
Date:   Thu Jul 23 00:21:50 2020 -0400

    sql: allow deriving query context without intervening expr context
    
    This allows creating a new nested "scope" in SQL for lateral joins, as
    required for e.g.
    
        FROM a, LATERAL (...) b
    
    without going through a scalar expression scope first. (Most forms of
    correlation in SQL occur in scalar position.)

commit 19aea09218e3db0c6db5a29d7dbdc592f128945e
Author: Nikhil Benesch <nikhil.benesch@gmail.com>
Date:   Thu Jul 23 00:02:11 2020 -0400

    sql-parser: permit table functions to be preceded by LATERAL
    
    PostgreSQL permits table functions to be preceded by the optional noise
    word LATERAL, as in:
    
        SELECT * FROM foo, LATERAL bar()
    
    This does not change the semantics of the query, as table functions are
    always implicitly planned as if LATERAL was specified. This commit
    teaches the parser to accept this syntax, but not to retain the
    distinction.

commit 1768307836b722559ba74f10d3aa116116d04dfb
Author: Nikhil Benesch <nikhil.benesch@gmail.com>
Date:   Wed Jul 22 23:46:25 2020 -0400

    sql-parser: expose explicit TableFactor::Function variant
    
    It is confusing to use TableFactor::Table for both
    
       FROM foo
    
    and:
    
       FROM foo (a, b, c)
    
    With this patch, the latter gets a separate TableFactor::Function
    variant.

commit 6fe78e80cc46dc0365db30ebe7b8d1e2cdbc74fd
Author: Nikhil Benesch <nikhil.benesch@gmail.com>
Date:   Wed Jul 22 23:35:22 2020 -0400

    sql-parser: remove WITH hints from tables
    
    These are MSSQL-specific and therefore irrelevant to us.

commit fe3001eac15bb6b48a594571fc473823794a44c8
Author: Nikhil Benesch <nikhil.benesch@gmail.com>
Date:   Wed Jul 22 23:20:13 2020 -0400

    sql-parser: remove JoinOperator::{Cross,Outer}Apply
    
    These are MSSQL-specific and therefore irrelevant to us.

commit ab4e423efa795a7f711a324485f7b13761322248
Merge: ba56cdda6 29eae7b6a
Author: Brandon W Maister <bwm@materialize.io>
Date:   Mon Jul 27 16:27:38 2020 -0400

    Merge pull request #3762 from quodlibetor/relnotes-sections-only-current-versions
    
    relnotes: Make sections headers only have their current versions

commit 29eae7b6a592ccb69c736b3448704441eb3fe589
Author: Brandon W Maister <bwm@materialize.io>
Date:   Mon Jul 27 15:55:30 2020 -0400

    relnotes: Add v to release note sections

commit 0dec1da51975fb40ccff0756b484027b9445395f
Author: Brandon W Maister <bwm@materialize.io>
Date:   Mon Jul 27 15:37:02 2020 -0400

    relnotes: Make sections headers only have their current versions
    
    I'm not aware of any other projects that have the previous version of the product as the
    first version that shows up in header for the version being released.

commit ba56cdda67aa8a4746d518f380d5e4e0936a4c7c
Merge: 0bb0683c1 92976ce13
Author: Brandon W Maister <bwm@materialize.io>
Date:   Mon Jul 27 15:33:20 2020 -0400

    Merge pull request #3753 from quodlibetor/update-rel-process
    
    Update doc/release for new "merge RCs" flow

commit 92976ce138d443ae8e2f03226ebd801cab4bce97
Author: Brandon W Maister <bwm@materialize.io>
Date:   Mon Jul 27 15:19:02 2020 -0400

    Clarify load test instructions

commit 624ea6c5300f3f708acd230d38fb0512593dba05
Author: Brandon W Maister <bwm@materialize.io>
Date:   Mon Jul 27 15:17:22 2020 -0400

    Add blog post publishing to release checklist

commit 55d8f7393da8ac929b5bfdbe4c3a92dc5381b583
Author: Brandon W Maister <bwm@materialize.io>
Date:   Mon Jul 27 12:26:40 2020 -0400

    mkrelease: Don't update the change date unless code has changed

commit 0bb0683c12d57149384d95c5cd18f1bfb7851cc9
Merge: 194aa3a32 143004eca
Author: Brandon W Maister <bwm@materialize.io>
Date:   Mon Jul 27 15:12:00 2020 -0400

    Merge pull request #3759 from quodlibetor/update-041-dev
    
    Prepare next phase of development: v0.4.1-dev

commit 2735531f6ff5d6947c31e973fedb6353cc74b79d
Author: Albert Wang <albert@materialize.io>
Date:   Mon Jul 27 15:11:38 2020 -0400

    fix trailing whitespace

commit 194aa3a32e934aa18cbc6d1c8b97847ffdc0f645
Author: Brandon W Maister <bwm@materialize.io>
Date:   Mon Jul 27 15:10:30 2020 -0400

    Update docs to reflect that 0.4.0 is released (#3760)

commit b193e1424d734e8e9d879d4b3ed76e91e78bab2b
Author: Albert Wang <albert@materialize.io>
Date:   Mon Jul 27 15:06:35 2020 -0400

    Add swap recommendation to deal with OOM

commit 1b537ca5c2ad6e5d86ce4a0f6ae06a61a03a7a76
Author: Albert Wang <albert@materialize.io>
Date:   Mon Jul 27 15:04:17 2020 -0400

    Update _index.md

commit 65203e18454224c2fd481dffcfc6bf80481c7cbd
Merge: e3cf37eb3 87799e494
Author: Ruchir Khaitan <ruchir0001@gmail.com>
Date:   Mon Jul 27 13:30:12 2020 -0400

    Merge pull request #3739 from ruchirK/rk-3709
    
    test: refactor load tests / demos to use a common mz-client

commit 143004ecab71b9bac606a58fecce967cb3fff61e
Author: Brandon W Maister <bwm@materialize.io>
Date:   Mon Jul 27 13:27:03 2020 -0400

    Prepare next phase of development: v0.4.1-dev

commit 68d30c123a3531224cbd2a92fb33d345461961a7
Author: Brandon W Maister <bwm@materialize.io>
Date:   Thu Jul 23 16:03:46 2020 -0400

    Fix semver check for deploys (#3716)

commit 87799e494aea4b52eb99d423450c13d50c85a206
Merge: 5b4e99edf e3cf37eb3
Author: Ruchir Khaitan <ruchir0001@gmail.com>
Date:   Mon Jul 27 12:59:01 2020 -0400

    Merge branch 'main' into rk-3709

commit e3cf37eb31ad5cdeab0c20a942a69b239e1edd66
Merge: 51858c698 d08e3a618
Author: Ruchir Khaitan <ruchir0001@gmail.com>
Date:   Mon Jul 27 12:57:58 2020 -0400

    Merge pull request #3737 from ruchirK/rk-3719
    
    test: stop automatically creating topics for the perf-upsert test

commit 51858c698b4949f3a815e94d2725e9b34305f976
Merge: 645a4af01 b743c83e7
Author: Brandon W Maister <bwm@materialize.io>
Date:   Mon Jul 27 12:51:27 2020 -0400

    Merge pull request #3754 from quodlibetor/release-v0.4.0
    
    Prepare next phase of development: v0.4.1-dev

commit b743c83e702385fa73c107e18a6e8d5c2c23b5bb
Author: Brandon W Maister <bwm@materialize.io>
Date:   Mon Jul 27 12:30:52 2020 -0400

    Prepare next phase of development: v0.4.1-dev

commit 73b40667f772f04e46fe3cd0eb5ed1302a444397
Author: Brandon W Maister <bwm@materialize.io>
Date:   Mon Jul 27 12:29:11 2020 -0400

    release: v0.4.0

commit c63e77d3fca6901e1bbebcdb176e56e1d5b2ad7a
Author: Brandon W Maister <bwm@materialize.io>
Date:   Mon Jul 27 12:06:22 2020 -0400

    Fix mkrelease order of checkout/branch creation
    
    "Create branch then checkout something else" doesn't make any sense

commit 795803cb6b93f5ea13dfd603257834b8dac137f2
Author: Brandon W Maister <bwm@materialize.io>
Date:   Mon Jul 27 11:38:59 2020 -0400

    Update doc/release for new "merge rcs" flow
    
    This doesn't update the backport process because gitgraph.js keeps giving me nonsense
    visuals.

commit 645a4af01990c0da315ee9c63940ed33e74a32a6
Author: Brandon W Maister <bwm@materialize.io>
Date:   Mon Jul 27 12:11:36 2020 -0400

    Simplify description of release process (#3731)
    
    This matches load-test steps that you have to actually take (all the load tests spin up
    at the same time.
    
    It also uses mkrelease for the last step, which simplifies everything.

commit 84e7124f9afedd06bd490814bf5996a017331b90
Merge: 4776107f9 d08fafd8c
Author: Nikhil Benesch <nikhil.benesch@gmail.com>
Date:   Mon Jul 27 11:51:59 2020 -0400

    Merge pull request #3659 from MaterializeInc/dependabot/cargo/tokio-postgres-0.5.5
    
    build(deps): bump tokio-postgres from 0.5.4 to 0.5.5

commit d08fafd8c9ee9fa82bb5db4a701b11cf87c11b63
Author: dependabot-preview[bot] <27856297+dependabot-preview[bot]@users.noreply.github.com>
Date:   Mon Jul 27 15:04:00 2020 +0000

    build(deps): bump tokio-postgres from 0.5.4 to 0.5.5
    
    Bumps [tokio-postgres](https://github.com/sfackler/rust-postgres) from 0.5.4 to 0.5.5.
    - [Release notes](https://github.com/sfackler/rust-postgres/releases)
    - [Commits](https://github.com/sfackler/rust-postgres/compare/tokio-postgres-v0.5.4...tokio-postgres-v0.5.5)
    
    Signed-off-by: dependabot-preview[bot] <support@dependabot.com>

commit 4776107f916c0382de2382d020eaa0007a7d0c6e
Merge: 3d51c67b5 d958db65d
Author: Nikhil Benesch <nikhil.benesch@gmail.com>
Date:   Mon Jul 27 10:59:47 2020 -0400

    Merge pull request #3744 from MaterializeInc/dependabot/cargo/futures-0.3.5
    
    build(deps): bump futures from 0.3.4 to 0.3.5

commit 3d51c67b5df4c989416e9074c7c3aded7e38d1ce
Merge: 45af61656 b1062fc5c
Author: Nikhil Benesch <nikhil.benesch@gmail.com>
Date:   Mon Jul 27 10:59:31 2020 -0400

    Merge pull request #3746 from MaterializeInc/dependabot/cargo/serde_json-1.0.57
    
    build(deps): bump serde_json from 1.0.56 to 1.0.57

commit 45af616568d04f68fdb088e68dcd4282897f8e23
Merge: 461504800 cb4b1751f
Author: Nikhil Benesch <nikhil.benesch@gmail.com>
Date:   Mon Jul 27 10:59:22 2020 -0400

    Merge pull request #3749 from MaterializeInc/dependabot/cargo/tokio-0.2.22
    
    build(deps): bump tokio from 0.2.21 to 0.2.22

commit 4615048001b973bcbf4154905b6cceb09d62e951
Merge: 829c1211b e700f4b2f
Author: Nikhil Benesch <nikhil.benesch@gmail.com>
Date:   Mon Jul 27 10:59:15 2020 -0400

    Merge pull request #3743 from MaterializeInc/dependabot/cargo/anyhow-1.0.32
    
    build(deps): bump anyhow from 1.0.31 to 1.0.32

commit 829c1211bcdf65582b41052546e3bd9333368aa7
Merge: c65be55dc 9184a94ec
Author: Nikhil Benesch <nikhil.benesch@gmail.com>
Date:   Mon Jul 27 10:58:20 2020 -0400

    Merge pull request #3372 from benesch/bump-crypto
    
    deps: bump to latest versions of crypto crates

commit 9184a94ec1b10e9cc295e4fb71b68d4357fee383
Author: Nikhil Benesch <nikhil.benesch@gmail.com>
Date:   Mon Jun 15 10:38:57 2020 -0400

    deps: bump to latest versions of crypto crates
    
    Closes #3741.
    Closes #3742.
    Closes #3745.
    Closes #3747.

commit cb4b1751fefe1dfa32454a32bd81c6f0a47f45dc
Author: dependabot-preview[bot] <27856297+dependabot-preview[bot]@users.noreply.github.com>
Date:   Mon Jul 27 10:50:19 2020 +0000

    build(deps): bump tokio from 0.2.21 to 0.2.22
    
    Bumps [tokio](https://github.com/tokio-rs/tokio) from 0.2.21 to 0.2.22.
    - [Release notes](https://github.com/tokio-rs/tokio/releases)
    - [Commits](https://github.com/tokio-rs/tokio/compare/tokio-0.2.21...tokio-0.2.22)
    
    Signed-off-by: dependabot-preview[bot] <support@dependabot.com>

commit b1062fc5c03356fc0699b589066598a8e045b96a
Author: dependabot-preview[bot] <27856297+dependabot-preview[bot]@users.noreply.github.com>
Date:   Mon Jul 27 10:49:03 2020 +0000

    build(deps): bump serde_json from 1.0.56 to 1.0.57
    
    Bumps [serde_json](https://github.com/serde-rs/json) from 1.0.56 to 1.0.57.
    - [Release notes](https://github.com/serde-rs/json/releases)
    - [Commits](https://github.com/serde-rs/json/compare/v1.0.56...v1.0.57)
    
    Signed-off-by: dependabot-preview[bot] <support@dependabot.com>

commit d958db65df00871fbe67091adad0087856ffce00
Author: dependabot-preview[bot] <27856297+dependabot-preview[bot]@users.noreply.github.com>
Date:   Mon Jul 27 10:48:15 2020 +0000

    build(deps): bump futures from 0.3.4 to 0.3.5
    
    Bumps [futures](https://github.com/rust-lang/futures-rs) from 0.3.4 to 0.3.5.
    - [Release notes](https://github.com/rust-lang/futures-rs/releases)
    - [Changelog](https://github.com/rust-lang/futures-rs/blob/master/CHANGELOG.md)
    - [Commits](https://github.com/rust-lang/futures-rs/compare/0.3.4...0.3.5)
    
    Signed-off-by: dependabot-preview[bot] <support@dependabot.com>

commit e700f4b2f4b12c2c79badc49c59da165940e96a6
Author: dependabot-preview[bot] <27856297+dependabot-preview[bot]@users.noreply.github.com>
Date:   Mon Jul 27 10:48:04 2020 +0000

    build(deps): bump anyhow from 1.0.31 to 1.0.32
    
    Bumps [anyhow](https://github.com/dtolnay/anyhow) from 1.0.31 to 1.0.32.
    - [Release notes](https://github.com/dtolnay/anyhow/releases)
    - [Commits](https://github.com/dtolnay/anyhow/compare/1.0.31...1.0.32)
    
    Signed-off-by: dependabot-preview[bot] <support@dependabot.com>

commit d08e3a618faeb78f53ae322c86f214a8dc2fd3d7
Author: Ruchir Khaitan <ruchir0001@gmail.com>
Date:   Sat Jul 25 17:10:24 2020 -0400

    test: add robust logic to detect when Kafka topics are actually created
    
    Closes #3719

commit 5b4e99edf6309a5895e3ca8153f38f35c23b7fbd
Author: Ruchir Khaitan <ruchir0001@gmail.com>
Date:   Sun Jul 26 17:00:19 2020 -0400

    demo/billing: refactor to use the common mz_client
    
    Also get rid of macros for view definition.
    
    Touches #3709

commit 8ecdf86a3e4d6285909cb963914c79f1382e3835
Author: Ruchir Khaitan <ruchir0001@gmail.com>
Date:   Sun Jul 26 14:37:19 2020 -0400

    test: refactor Smith fuzzer to use the common mz_client
    
    Touches #3709

commit f881f3efee35028d1bf01a190db47fb17a54f3e6
Author: Ruchir Khaitan <ruchir0001@gmail.com>
Date:   Sun Jul 26 13:15:53 2020 -0400

    test: refactor perf-upsert to use common mz_client
    
    Touches #3709

commit c65be55dc34d606dac10d8635196c857d39aa12c
Merge: ccd5a4e59 ac7a27f9d
Author: Ruchir Khaitan <ruchir0001@gmail.com>
Date:   Sat Jul 25 20:03:10 2020 -0400

    Merge pull request #3738 from ruchirK/rk-cleanup-demos
    
    demo: use anyhow for error handling in the billing demo

commit ac7a27f9d5a437ec87c542202a15fb0b33562d51
Author: Ruchir Khaitan <ruchir0001@gmail.com>
Date:   Sat Jul 25 18:10:12 2020 -0400

    test: remove thiserror import from perf-kinesis test

commit 4b842f992944d648e841ac6de918d4afd8e9b661
Author: Ruchir Khaitan <ruchir0001@gmail.com>
Date:   Sat Jul 25 18:03:33 2020 -0400

    demo: use anyhow for error handling in the billing demo

commit e847d55c642dd4964ea02f43eb479cda2f7e90d2
Author: Ruchir Khaitan <ruchir0001@gmail.com>
Date:   Sat Jul 25 15:48:53 2020 -0400

    test: stop automatically creating topics for the perf-upsert test
    
    Touches #3719

commit ccd5a4e59df94176c720f0fbf0fabf294a1b3960
Merge: f572ee62c 6220c7ab0
Author: Sean Loiselle <sean@materialize.io>
Date:   Sat Jul 25 12:03:57 2020 -0400

    Merge pull request #3683 from sploiselle/list-funcs
    
    sql: add list subscripting operations

commit 6220c7ab00f41eea8b4fd1666d0bb7a619113ed1
Author: sploiselle <sean@materialize.io>
Date:   Tue Jul 7 15:00:42 2020 -0400

    sql: add list subscripting operations

commit f572ee62cd2d5dc5fdabf7f614b044fe8e443039
Author: Brandon W Maister <bwm@materialize.io>
Date:   Fri Jul 24 20:27:24 2020 -0400

    Bump our rust-prometheus to get thread-level cpu usage (#3733)

commit 6859848b6680890c515a209b4960f0b879a73aa0
Author: Frank McSherry <fmcsherry@me.com>
Date:   Fri Jul 24 16:49:32 2020 -0400

    Hard decorrelation (#3732)
    
    Adds a test that will fail on decorrelation that does not preserve multiplicities.

commit 3667169e298058b2ba5943788f2557964abb2fc2
Author: Frank McSherry <fmcsherry@me.com>
Date:   Fri Jul 24 16:45:09 2020 -0400

    propagate all non-null requirements in map (#3730)

commit 1d4ba847166169e88f180bb95e21c478dcfc7703
Author: Frank McSherry <fmcsherry@me.com>
Date:   Fri Jul 24 13:30:38 2020 -0400

    Render joins even if arrangements are missing (#3726)
    
    Rendering of joins would previously panic if the join asked for an arrangement that was absent. Because some optimizations fight, this wasn't always the case (constant expressions would be hoisted out of the ArrangeBy operator). We certainly do want to ensure that there is a clear spec for the RelationExpr AST, but also we shouldn't panic when we don't need to.

commit 8183c0e43841fa048c3c9740e93553482220cc47
Merge: 2b4c0fa3a 27383c00d
Author: Ruchir Khaitan <ruchir0001@gmail.com>
Date:   Fri Jul 24 13:21:31 2020 -0400

    Merge pull request #3722 from ruchirK/rk-3719-ci
    
    ci: properly invoke mzcompose to exfiltrate logs

commit 27383c00d332316eb59751e4122dbc6da09230af
Author: Ruchir Khaitan <ruchir0001@gmail.com>
Date:   Thu Jul 23 23:55:38 2020 -0400

    test: properly format error in perf-upsert

commit ae4f541ef0d1eb20b4ddccd6172c0f4d65c21fdc
Author: Ruchir Khaitan <ruchir0001@gmail.com>
Date:   Thu Jul 23 23:40:18 2020 -0400

    ci: properly invoke mzcompose to exfiltrate logs
    
    Touches #3719

commit 2b4c0fa3ad348b057b319086891b7136176fbb29
Merge: 580bf1aca 9ac5fca7b
Author: Nikhil Benesch <nikhil.benesch@gmail.com>
Date:   Fri Jul 24 11:05:34 2020 -0400

    Merge pull request #3697 from benesch/expr-no-matching
    
    expr: remove matching on Datum

commit 580bf1aca82e89427d82645471ff87d442e09d3c
Merge: d438c2dd5 78690181d
Author: Nikhil Benesch <nikhil.benesch@gmail.com>
Date:   Fri Jul 24 01:24:35 2020 -0400

    Merge pull request #3723 from benesch/rm-docker-hack
    
    ci/plugins: remove weird docker hack from mzconduct plugin

commit 78690181d292a38b291c94a441bd56312a7a4fe5
Author: Nikhil Benesch <nikhil.benesch@gmail.com>
Date:   Fri Jul 24 01:06:11 2020 -0400

    ci/plugins: remove docker hack from mzconduct plugin
    
    Teach bin/ci-builder not to invoke `docker run --tty` when a terminal is
    not available to avoid stray carriage returns. That way we don't need to
    filter them out in scripts built on top of bin/ci-builder.

commit 9ac5fca7ba5affd59a912d9227bbfef7a912aa2b
Author: Nikhil Benesch <nikhil.benesch@gmail.com>
Date:   Tue Jul 21 16:05:52 2020 -0400

    expr: remove matching on Datum
    
    Explicitly matching on the type of Datum inside of the expr crate
    indicates that the SQL type system has failed. (All type matching should
    happen implicitly through function selection.) Refactor away a few cases
    that had slipped through in table functions.

commit d438c2dd5116af330cb2959541ba6d4127aff32c
Author: Jessica Laughlin <JLDLaughlin@users.noreply.github.com>
Date:   Thu Jul 23 17:58:00 2020 -0400

    Support CREATE and DROP table (#3710)
    
    Adds limited support for CREATE and DROP TABLE, specific details are outlined
    in #3638.

commit 7dfd7e068f884d1be83de4012cb87676e6f93807
Author: Brennan Vincent <brennan@materialize.io>
Date:   Thu Jul 23 16:22:21 2020 -0400

    local -> localhost (#3717)

commit 01dd95a51e5c0af8ee8eba225f259fc9f0af1d3e
Author: Brandon W Maister <bwm@materialize.io>
Date:   Thu Jul 23 16:03:46 2020 -0400

    Fix semver check for deploys (#3716)

commit 7fae27311fae4c8af0cd6fa855d5ac1023bfedeb
Merge: d28ffd69b 604ee9c47
Author: Brandon W Maister <bwm@materialize.io>
Date:   Thu Jul 23 16:01:08 2020 -0400

    Merge pull request #3715 from quodlibetor/next-v0.4.1
    
    Prepare next phase of development: v0.4.1-dev

commit 604ee9c47d9336c317b2af3de41c182bf7e8a549
Author: Brandon W Maister <bwm@materialize.io>
Date:   Thu Jul 23 15:14:06 2020 -0400

    Prepare next phase of development: v0.4.1-dev

commit aab256614cc93d5bb61ad352d6dbf9b95b021efd
Author: Brandon W Maister <bwm@materialize.io>
Date:   Thu Jul 23 15:11:49 2020 -0400

    release: v0.4.0-rc2

commit d28ffd69b746282de8ef74b22ad36b69b8f8ee9a
Merge: 9b1ea4b7c e069f6041
Author: Natacha Crooks <nacrooks@gmail.com>
Date:   Thu Jul 23 12:09:01 2020 -0400

    Merge pull request #3714 from nacrooks/perfregressionfix
    
    Incorrect use of unwrap_or causing source ingestion slowdown. Source Ingestion code was unnecessarily using unwrap_or, causing PartitionMetrics to be created on every iteration of the ingestion loop.

commit 9b1ea4b7cb1b84c1f99d1592ee6c787650ed3535
Merge: 64867d5d0 b6e9c5a3e
Author: Nikhil Benesch <nikhil.benesch@gmail.com>
Date:   Thu Jul 23 12:08:01 2020 -0400

    Merge pull request #3686 from benesch/group-by-ordinals
    
    sql: fix GROUP BY ordinal references

commit 64867d5d03a3f81245972eddfc22fa3d997a7d24
Merge: a509f1b4e b2fcbe9eb
Author: Nikhil Benesch <nikhil.benesch@gmail.com>
Date:   Thu Jul 23 12:07:32 2020 -0400

    Merge pull request #3696 from benesch/sql-errors
    
    sql: improve error messages for unsupported SQL statements

commit a509f1b4ed46860aed84a429eb7d57f05aba9b22
Author: Brandon W Maister <bwm@materialize.io>
Date:   Thu Jul 23 11:49:13 2020 -0400

    Add a current status banner to the release issue template (#3706)

commit e069f6041b0413bfaf08ef6686cb66d8617f8173
Author: Natacha Crooks <nacrooks@gmail.com>
Date:   Thu Jul 23 11:08:07 2020 -0400

    Adding comments

commit a4c78fafb09c4bf7729346fb7480d9b1e9be418f
Author: Natacha Crooks <nacrooks@gmail.com>
Date:   Thu Jul 23 11:05:12 2020 -0400

    Moving to unwrap

commit 00aef8da01d0e7ded3b8152bda44bd05a15c1784
Author: Ruchir Khaitan <ruchir0001@gmail.com>
Date:   Wed Jul 22 14:00:08 2020 -0400

    test: add new upsert performance test (#3701)
    
    Closes #3699
    
    Co-authored-by: Brandon W Maister <bwm@materialize.io>

commit 57984e44f7d32a1ca51ff6a634c12826e449ddc1
Author: Frank McSherry <fmcsherry@me.com>
Date:   Wed Jul 22 12:14:48 2020 -0400

    Column type constructor must take all arguments (#3703)
    
    The ColumnType::new() method previously took a scalar type and defaulted to promising non-nullability. This seems error prone. The method was altered to take nullability as an argument, to avoid any confusion about default values. There are no intended semantic changes, except that ScalarExpr::take, which replaces self with a literal null, now presents as nullable rather than nonnullable.

commit 1ee9e09527992539e8344acd805e60813305bb91
Merge: 1dfdc41c5 bac2b5773
Author: Sean Loiselle <sean@materialize.io>
Date:   Wed Jul 22 11:31:04 2020 -0400

    Merge pull request #3704 from sploiselle/int-cast-fix
    
    sql: make casting to int consistent with pg

commit 1dfdc41c5c0d8b0cf1070e8b5f242b4f6ece4b09
Merge: 9872b9b05 a85f2951b
Author: Nikhil Benesch <nikhil.benesch@gmail.com>
Date:   Wed Jul 22 11:15:27 2020 -0400

    Merge pull request #3702 from benesch/map-lifting-bug
    
    transform: fix bug in literal lifting

commit 9872b9b05d3a0d8aff6c11ed17d4478f3920b1f3
Merge: 4404ba0c0 9d782f289
Author: Brandon W Maister <bwm@materialize.io>
Date:   Wed Jul 22 10:36:25 2020 -0400

    Merge pull request #3695 from quodlibetor/prepare-for-v0.4.1
    
    Prepare next phase of development: v0.4.1-dev

commit bac2b5773ce7f13aae1931349b6f14981c4d1665
Author: sploiselle <sean@materialize.io>
Date:   Wed Jul 22 09:54:27 2020 -0400

    sql: make casting to int consistent with pg

commit 4404ba0c05e1d4c043a307af5817574a38c46fe4
Author: Brennan Vincent <brennan@materialize.io>
Date:   Wed Jul 22 06:50:57 2020 -0400

    Add `repeat` function (#3691)

commit a85f2951b2b490e7a27cfdfc981abde47431a683
Author: Nikhil Benesch <nikhil.benesch@gmail.com>
Date:   Wed Jul 22 00:53:50 2020 -0400

    transform: fix bug in literal lifting
    
    The LiteralLifting transform was incorrectly hardcoding the output type
    of AggregateFunc::{Any,All} as non-nullable, when in fact their output
    type is nullable.
    
    This caused incorrect output on the two correlated subquery tests
    enabled in this commit.
    
    The fix is to use `AggregateFunc::output_type` to compute the correct
    output type; the optimizer should not be duplicating this information.
    (There *is* a larger problem of "it is too easy to get nullability
    information wrong", but even if that were solved, we still wouldn't want
    to be hardcoding information about function output types in the
    optimizer.)

commit 7877bb5b6c3bdfdaaade1cce8d501b34d09397cd
Merge: a7a8d32af 882fcba42
Author: Albert Wang <albert@materialize.io>
Date:   Tue Jul 21 23:06:54 2020 -0400

    Merge pull request #3698 from MaterializeInc/awang-doc-tail-asof
    
    Add AS OF examples

commit 882fcba42fdf70571ab2b6d9b7b44a13408ff3de
Author: Albert Wang <albert@materialize.io>
Date:   Tue Jul 21 22:44:54 2020 -0400

    link timestamp_expression more closely to AS OF

commit 80db395f3c07fbf333e31a693fe60c14ca058e28
Author: Albert Wang <albert@materialize.io>
Date:   Tue Jul 21 22:39:25 2020 -0400

    improve timestamp_expression explanation

commit a7a8d32af60b800317ffa8996f6565613b11f53c
Author: Ruchir Khaitan <ruchir0001@gmail.com>
Date:   Tue Jul 21 20:24:35 2020 -0400

    docs: Document kafka sink cdc output (#3673)
    
    Closes #3541

commit cf3329bdf7d473231e506c8daf19c71f9028acc5
Author: Albert Wang <albert@materialize.io>
Date:   Tue Jul 21 18:06:30 2020 -0400

    fix trailing whitespace

commit efaffd9a3b9db7d1b08de3777a7b48ad37fe7967
Author: Albert Wang <albert@materialize.io>
Date:   Tue Jul 21 16:41:40 2020 -0400

    Add AS OF examples

commit b2fcbe9eb262299ba46f5b29fd254c05c1f6c015
Author: Nikhil Benesch <nikhil.benesch@gmail.com>
Date:   Tue Jul 21 14:58:04 2020 -0400

    sql: improve error messages for unsupported SQL statements
    
    Printing the debug representation of the unsupported statement is gross.
    Print a prettier + more succinct representation.

commit 9d782f28900eccec56bf5e5922ad21e6e03b02c4
Author: Brandon W Maister <bwm@materialize.io>
Date:   Tue Jul 21 15:15:11 2020 -0400

    Prepare next phase of development: v0.4.1-dev

commit b7d6448105564d9279e800f9bf400992f6bf18f1
Author: Brandon W Maister <bwm@materialize.io>
Date:   Tue Jul 21 15:11:31 2020 -0400

    release: v0.4.0-rc1

commit ec56cd4fb6737f51f0bcbffbc1acb2c092c666de
Author: Brandon W Maister <bwm@materialize.io>
Date:   Tue Jul 21 15:03:07 2020 -0400

    Add a mkrelease script (#3693)
    
    Part of #3018

commit b6e9c5a3e08d8a6c261305328262a2529f8f21c3
Author: Nikhil Benesch <nikhil.benesch@gmail.com>
Date:   Tue Jul 21 13:45:16 2020 -0400

    sql: allow wildcards on nullary tables
    
    The following sequence of queries is valid in PostgreSQL:
    
        CREATE TABLE nullary ()
        SELECT * FROM nullary
    
    But in Materialize that sequence of queries was incorrectly generating
    a "SELECT * with no tables specified is not valid" error. This commit
    fixes that.

commit f463f729adae13e614b9f8c87728234e20cebb25
Author: Nikhil Benesch <nikhil.benesch@gmail.com>
Date:   Tue Jul 21 11:48:19 2020 -0400

    sql: allow GROUP BY expressions to refer to output columns
    
    This is an extension to the SQL standard that is supported by
    PostgreSQL, so we must support it too.
    
    Fix #1673.

commit 6c3bfbd0063165d6bf32a3419aa1bc4d9504d436
Author: Nikhil Benesch <nikhil.benesch@gmail.com>
Date:   Mon Jul 20 17:15:03 2020 -0400

    sql: fix GROUP BY ordinal references
    
    GROUP BY ordinal references, like the `1` in the following example
    
        SELECT a, sum(b) FROM foo GROUP BY 1
    
    are meant to refer to an output column, not an input column.
    
    This commit fixes the bug and enables the CockroachDB SLTs that would
    have exposed the issue. It also vastly improves the error message when
    SELECTing a non-aggregated column.
    
    Fix #443.

commit 9dbde81e91355ec5a2c6a7e37cc8c6346048e1bf
Merge: f11a92540 b42b15fe2
Author: Nikhil Benesch <nikhil.benesch@gmail.com>
Date:   Tue Jul 21 10:01:19 2020 -0400

    Merge pull request #3650 from benesch/sql-structured-errors
    
    sql: begin introducing more structured errors

commit b42b15fe2e16e03fdaa94afdffdc6ae49bd56571
Author: Nikhil Benesch <nikhil.benesch@gmail.com>
Date:   Fri Jul 17 16:22:40 2020 -0400

    sql: begin introducing more structured errors
    
    More structured errors will allow us to return much more useful errors
    to the client, like errors that include a "SQLState" code, a detailed
    description, a hint, and so on. Plus, they allow catching and handling
    specific errors, which can be useful in planning.
    
    The refactor here is the minimal refactor required to support #1673. The
    gist is that we need to catch "unknown column" errors without catching
    any _other_ types of errors.
    
    Over time, I expect us to replace all usage of failure::Error in the SQL
    planner with this new PlanError type.

commit f11a92540feb73dfc6eb5fe9f90509fb1a351f41
Merge: 03473fd48 006fe9515
Author: Nikhil Benesch <nikhil.benesch@gmail.com>
Date:   Mon Jul 20 22:16:39 2020 -0400

    Merge pull request #3682 from benesch/consistent-catalog
    
    coord: change more logging views to consistent catalog views

commit 006fe95155b99359e5942d0c6a7c6ebdfa0e71b1
Author: Nikhil Benesch <nikhil.benesch@gmail.com>
Date:   Mon Jul 20 15:16:51 2020 -0400

    coord: change more logging views to consistent catalog views
    
    This commit moves the following logging views over to the new catalog
    view framework:
    
      * mz_avro_ocf_sinks
      * mz_catalog_names
      * mz_view_foreign_keys
      * mz_view_keys
    
    These views are often queried immediately after a catalog-altering
    operation, so it makes for a much better user experience if they are
    guaranteed to be up-to-date with respect to catalog changes. For
    example, we are able to remove several retry loops from our sink test
    code, instead relying on the newly-guaranteed consistency of these
    views.
    
    Only one usage of SequencedCommand::AppendLog remains, for frontier
    information. Porting this over to a catalog view is tricky, as it
    results in runaway CPU usage: if it's a catalog view, updating a catalog
    view results in new frontier information, which results in more updates
    to the catalog view...
    
    Fix #2576.

commit 03473fd48d1b7549679ebc7f4f34984f0ab11fc6
Merge: 1ceeb10c5 07f08bb32
Author: Nikhil Benesch <nikhil.benesch@gmail.com>
Date:   Mon Jul 20 18:30:13 2020 -0400

    Merge pull request #3648 from benesch/no-failure
    
    *: replace all usage of failure with anyhow

commit 07f08bb321beec4b2c082fe8d0c2da7c912e19cd
Author: Nikhil Benesch <nikhil.benesch@gmail.com>
Date:   Fri Jul 17 13:46:24 2020 -0400

    *: replace all usage of failure with anyhow
    
    The failure crate is deprecated, and the anyhow crate has been
    designated as its successor. This patch replaces all usage of failure
    with anyhow.
    
    The primary goal is avoiding confusion about which crate to use in new
    code. The answer is now obviously "anyhow".

commit 1ceeb10c5d3ba65dc34385fd7bfca5ef2d294c44
Author: Brennan Vincent <brennan@materialize.io>
Date:   Mon Jul 20 16:54:29 2020 -0400

    Various changes to publish mz-avro as open source (#3655)

commit ba785c9217540668f2dfa1bc0496e17f8c7b0b90
Merge: 8e710ae85 6bf4639a6
Author: Nikhil Benesch <nikhil.benesch@gmail.com>
Date:   Mon Jul 20 16:33:57 2020 -0400

    Merge pull request #3633 from benesch/pgwire-math
    
    pgrepr,pgwire: remove unsafe `as` conversions

commit 6bf4639a60cbcd7d194d7af476c0df01c6ef4e43
Author: Nikhil Benesch <nikhil.benesch@gmail.com>
Date:   Wed Jul 15 15:31:04 2020 -0400

    pgrepr,pgwire: remove unsafe `as` conversions
    
    Fix #3513.

commit 8e710ae85639ac8a4cb384198f8782df22a2981a
Merge: 0855b9615 9df9d10e1
Author: Sean Loiselle <sean@materialize.io>
Date:   Mon Jul 20 14:40:53 2020 -0400

    Merge pull request #3681 from sploiselle/alter-rename-docs
    
    docs: document ALTER ... RENAME

commit 0855b9615cc4433b907867af0ccee915f4bdd260
Author: Brennan Vincent <brennan@materialize.io>
Date:   Mon Jul 20 14:28:14 2020 -0400

    Gracefully handle key schemas that are not subsets of value schemas (#3679)

commit 0ab9893f4674f6967f23bb8dd38f305cf3f789a1
Author: Jessica Laughlin <JLDLaughlin@users.noreply.github.com>
Date:   Mon Jul 20 14:27:27 2020 -0400

    Add C lang Avro schema tests (#3678)

commit 9df9d10e1012f3fc9f7242e6b9227d1b19ea8047
Author: sploiselle <sean@materialize.io>
Date:   Mon Jul 20 13:55:25 2020 -0400

    docs: document ALTER ... RENAME

commit 6c42c0556a3b9ac662943e6a51eee7bd653e639c
Merge: 1ab2bb34b 8db958a66
Author: Nikhil Benesch <nikhil.benesch@gmail.com>
Date:   Mon Jul 20 13:07:38 2020 -0400

    Merge pull request #3598 from MaterializeInc/dependabot/cargo/ordered-float-2.0.0
    
    build(deps): bump ordered-float from 1.1.0 to 2.0.0

commit 1ab2bb34b8dd754f1add3be44594263f38f1c1a3
Merge: 761c99a18 6ce91d953
Author: Nikhil Benesch <nikhil.benesch@gmail.com>
Date:   Mon Jul 20 13:05:01 2020 -0400

    Merge pull request #3676 from benesch/timestamps
    
    expr: don't panic if date_trunc('week', ...) is out of range

commit 761c99a186341d32b7bdd89c9e54ba556e12da30
Merge: 8d81f68f9 3c02c8348
Author: Nikhil Benesch <nikhil.benesch@gmail.com>
Date:   Mon Jul 20 13:00:34 2020 -0400

    Merge pull request #3658 from MaterializeInc/dependabot/cargo/libc-0.2.73
    
    build(deps): bump libc from 0.2.72 to 0.2.73

commit 8d81f68f943bb2c6be99d74d776f191854d9f5c5
Merge: 91baf4110 66f487645
Author: Nikhil Benesch <nikhil.benesch@gmail.com>
Date:   Mon Jul 20 13:00:24 2020 -0400

    Merge pull request #3666 from MaterializeInc/dependabot/cargo/hyper-0.13.7
    
    build(deps): bump hyper from 0.13.6 to 0.13.7

commit 6ce91d953bc8914678765e33206d1d22d34a9d74
Author: Nikhil Benesch <nikhil.benesch@gmail.com>
Date:   Mon Jul 20 11:27:00 2020 -0400

    expr: don't panic if date_trunc('week', ...) is out of range

commit 91baf41105c61fa89dbf21ad2b8e56dd2766d546
Author: Brandon W Maister <bwm@materialize.io>
Date:   Mon Jul 20 11:24:35 2020 -0400

    Update release issue template with preparation steps (#3674)

commit 1bfbd7c5863d6366c475f3a2f89a3483fb47ec31
Author: Nikhil Benesch <nikhil.benesch@gmail.com>
Date:   Mon Jul 20 11:18:02 2020 -0400

    sql: re-add support for make_timestamp
    
    This got lost in the switch to the new function selection
    infrastructure.

commit dfd709f1c396b8943e494e73596ff71c623a4ef4
Merge: 5848fe553 77a9505db
Author: Nikhil Benesch <nikhil.benesch@gmail.com>
Date:   Mon Jul 20 10:58:20 2020 -0400

    Merge pull request #3672 from benesch/doc-slack
    
    doc/user: fix slack link on install page

commit 5848fe55397e59704b401f89710145ab863d1fc6
Merge: 8820c5de4 a194dccb1
Author: Nikhil Benesch <nikhil.benesch@gmail.com>
Date:   Mon Jul 20 10:51:33 2020 -0400

    Merge pull request #3657 from MaterializeInc/dependabot/npm_and_yarn/test/lang/js/lodash-4.17.19
    
    build(deps): bump lodash from 4.17.15 to 4.17.19 in /test/lang/js

commit 66f4876458233f7fd28a0f83acf21843451db6e9
Author: dependabot-preview[bot] <27856297+dependabot-preview[bot]@users.noreply.github.com>
Date:   Mon Jul 20 14:51:32 2020 +0000

    build(deps): bump hyper from 0.13.6 to 0.13.7
    
    Bumps [hyper](https://github.com/hyperium/hyper) from 0.13.6 to 0.13.7.
    - [Release notes](https://github.com/hyperium/hyper/releases)
    - [Changelog](https://github.com/hyperium/hyper/blob/master/CHANGELOG.md)
    - [Commits](https://github.com/hyperium/hyper/compare/v0.13.6...v0.13.7)
    
    Signed-off-by: dependabot-preview[bot] <support@dependabot.com>

commit 3c02c83484939f4be27a2116071d306fcf0dc1a9
Author: dependabot-preview[bot] <27856297+dependabot-preview[bot]@users.noreply.github.com>
Date:   Mon Jul 20 14:51:28 2020 +0000

    build(deps): bump libc from 0.2.72 to 0.2.73
    
    Bumps [libc](https://github.com/rust-lang/libc) from 0.2.72 to 0.2.73.
    - [Release notes](https://github.com/rust-lang/libc/releases)
    - [Commits](https://github.com/rust-lang/libc/compare/0.2.72...0.2.73)
    
    Signed-off-by: dependabot-preview[bot] <support@dependabot.com>

commit 8820c5de4de21500e6e7030d2218ac830a97e7da
Merge: fba08585b fd635701d
Author: Nikhil Benesch <nikhil.benesch@gmail.com>
Date:   Mon Jul 20 10:49:37 2020 -0400

    Merge pull request #3661 from MaterializeInc/dependabot/cargo/bytes-0.5.6
    
    build(deps): bump bytes from 0.5.5 to 0.5.6

commit fba08585b2fe83c58a110758d4986ffa994cfdc5
Merge: d817d3aaf 10e19fd5b
Author: Nikhil Benesch <nikhil.benesch@gmail.com>
Date:   Mon Jul 20 10:49:25 2020 -0400

    Merge pull request #3662 from MaterializeInc/dependabot/cargo/krb5-src-0.2.41.18.2
    
    build(deps): bump krb5-src from 0.2.3+1.18.2 to 0.2.4+1.18.2

commit d817d3aafb0b578562e32097a7ee9f15595eefdf
Merge: c39ed7437 12df98047
Author: Nikhil Benesch <nikhil.benesch@gmail.com>
Date:   Mon Jul 20 10:49:14 2020 -0400

    Merge pull request #3663 from MaterializeInc/dependabot/cargo/log-0.4.11
    
    build(deps): bump log from 0.4.8 to 0.4.11

commit c39ed74372fbabdba64a45f82bacd752997b4c0f
Merge: 349780e98 3b1386764
Author: Nikhil Benesch <nikhil.benesch@gmail.com>
Date:   Mon Jul 20 10:48:56 2020 -0400

    Merge pull request #3664 from MaterializeInc/dependabot/cargo/tracing-0.1.16
    
    build(deps): bump tracing from 0.1.15 to 0.1.16

commit 349780e987bffbac4e4168234a2508a533d0ab56
Merge: 5b3e811e1 170eea6ed
Author: Nikhil Benesch <nikhil.benesch@gmail.com>
Date:   Mon Jul 20 10:44:19 2020 -0400

    Merge pull request #3660 from MaterializeInc/dependabot/cargo/compile-time-run-0.2.11
    
    build(deps): bump compile-time-run from 0.2.8 to 0.2.11

commit 5b3e811e1761a48295d564bfd8059f8ea3c2df41
Merge: d8b1d2efd 3dc90480d
Author: Nikhil Benesch <nikhil.benesch@gmail.com>
Date:   Mon Jul 20 10:43:50 2020 -0400

    Merge pull request #3665 from MaterializeInc/dependabot/cargo/predicates-1.0.5
    
    build(deps): bump predicates from 1.0.4 to 1.0.5

commit 77a9505db084af4644e6b414752d7046a06e6607
Author: Nikhil Benesch <nikhil.benesch@gmail.com>
Date:   Mon Jul 20 10:38:43 2020 -0400

    doc/user: fix slack link on install page
    
    The current Slack link has expired. Thanks to @sixcorners for
    discovering and submitting the initial fix.
    
    Closes #3644.

commit d8b1d2efd256daad4e2f3fd0de8f6a65ce5bb1c0
Author: Ruchir Khaitan <ruchir0001@gmail.com>
Date:   Mon Jul 20 10:37:34 2020 -0400

    expr: fix underflow in date_trunc week (#3656)
    
    Closes #3651

commit 3dc90480d47f0b4198b7bc345c29b840953429c3
Author: dependabot-preview[bot] <27856297+dependabot-preview[bot]@users.noreply.github.com>
Date:   Mon Jul 20 10:51:11 2020 +0000

    build(deps): bump predicates from 1.0.4 to 1.0.5
    
    Bumps [predicates](https://github.com/assert-rs/predicates-rs) from 1.0.4 to 1.0.5.
    - [Release notes](https://github.com/assert-rs/predicates-rs/releases)
    - [Changelog](https://github.com/assert-rs/predicates-rs/blob/master/CHANGELOG.md)
    - [Commits](https://github.com/assert-rs/predicates-rs/compare/v1.0.4...v1.0.5)
    
    Signed-off-by: dependabot-preview[bot] <support@dependabot.com>

commit 3b138676454dc38303ae4a0cfd9795d98922f109
Author: dependabot-preview[bot] <27856297+dependabot-preview[bot]@users.noreply.github.com>
Date:   Mon Jul 20 10:50:30 2020 +0000

    build(deps): bump tracing from 0.1.15 to 0.1.16
    
    Bumps [tracing](https://github.com/tokio-rs/tracing) from 0.1.15 to 0.1.16.
    - [Release notes](https://github.com/tokio-rs/tracing/releases)
    - [Commits](https://github.com/tokio-rs/tracing/compare/tracing-0.1.15...tracing-0.1.16)
    
    Signed-off-by: dependabot-preview[bot] <support@dependabot.com>

commit 12df980470baa6cdab00ff06e91a41ff022980f0
Author: dependabot-preview[bot] <27856297+dependabot-preview[bot]@users.noreply.github.com>
Date:   Mon Jul 20 10:50:00 2020 +0000

    build(deps): bump log from 0.4.8 to 0.4.11
    
    Bumps [log](https://github.com/rust-lang/log) from 0.4.8 to 0.4.11.
    - [Release notes](https://github.com/rust-lang/log/releases)
    - [Changelog](https://github.com/rust-lang/log/blob/master/CHANGELOG.md)
    - [Commits](https://github.com/rust-lang/log/compare/0.4.8...0.4.11)
    
    Signed-off-by: dependabot-preview[bot] <support@dependabot.com>

commit 10e19fd5b34b9f054c012f65a3e7e752124428da
Author: dependabot-preview[bot] <27856297+dependabot-preview[bot]@users.noreply.github.com>
Date:   Mon Jul 20 10:49:38 2020 +0000

    build(deps): bump krb5-src from 0.2.3+1.18.2 to 0.2.4+1.18.2
    
    Bumps [krb5-src](https://github.com/MaterializeInc/rust-krb5-src) from 0.2.3+1.18.2 to 0.2.4+1.18.2.
    - [Release notes](https://github.com/MaterializeInc/rust-krb5-src/releases)
    - [Changelog](https://github.com/MaterializeInc/rust-krb5-src/blob/master/CHANGELOG.md)
    - [Commits](https://github.com/MaterializeInc/rust-krb5-src/compare/v0.2.3+1.18.2...v0.2.4+1.18.2)
    
    Signed-off-by: dependabot-preview[bot] <support@dependabot.com>

commit fd635701d7f6a4da7bea70d1cd011a8cb4e6e5ea
Author: dependabot-preview[bot] <27856297+dependabot-preview[bot]@users.noreply.github.com>
Date:   Mon Jul 20 10:49:17 2020 +0000

    build(deps): bump bytes from 0.5.5 to 0.5.6
    
    Bumps [bytes](https://github.com/tokio-rs/bytes) from 0.5.5 to 0.5.6.
    - [Release notes](https://github.com/tokio-rs/bytes/releases)
    - [Changelog](https://github.com/tokio-rs/bytes/blob/master/CHANGELOG.md)
    - [Commits](https://github.com/tokio-rs/bytes/compare/v0.5.5...v0.5.6)
    
    Signed-off-by: dependabot-preview[bot] <support@dependabot.com>

commit 170eea6ed4f7fbf5adac01396463bc161965df48
Author: dependabot-preview[bot] <27856297+dependabot-preview[bot]@users.noreply.github.com>
Date:   Mon Jul 20 10:48:16 2020 +0000

    build(deps): bump compile-time-run from 0.2.8 to 0.2.11
    
    Bumps [compile-time-run](https://github.com/de-vri-es/rust-compile-time-run) from 0.2.8 to 0.2.11.
    - [Release notes](https://github.com/de-vri-es/rust-compile-time-run/releases)
    - [Commits](https://github.com/de-vri-es/rust-compile-time-run/commits/0.2.11)
    
    Signed-off-by: dependabot-preview[bot] <support@dependabot.com>

commit a194dccb187f12de2a04e9cc12bcaa769abee8fb
Author: dependabot[bot] <49699333+dependabot[bot]@users.noreply.github.com>
Date:   Mon Jul 20 07:04:04 2020 +0000

    build(deps): bump lodash from 4.17.15 to 4.17.19 in /test/lang/js
    
    Bumps [lodash](https://github.com/lodash/lodash) from 4.17.15 to 4.17.19.
    - [Release notes](https://github.com/lodash/lodash/releases)
    - [Commits](https://github.com/lodash/lodash/compare/4.17.15...4.17.19)
    
    Signed-off-by: dependabot[bot] <support@github.com>

commit b437abc3164a941d5e5e228cb48172d0bfdb11e1
Author: Brennan Vincent <brennan@materialize.io>
Date:   Sat Jul 18 18:19:16 2020 -0400

    a few doc fixes (#3653)

commit 212b8fc6e1269a12f093349e927b30d53dcc8691
Author: Brennan Vincent <brennan@materialize.io>
Date:   Sat Jul 18 15:59:47 2020 -0400

    Get rid of confusing "block" class (#3652)

commit 49f19f0b8892e07ed64ef2c35dd8784ab2dd4d2c
Author: Jessica Laughlin <JLDLaughlin@users.noreply.github.com>
Date:   Fri Jul 17 14:48:08 2020 -0400

    Validate Avro names using regex (#3647)
    
    The name portion of an Avro fullname must start with [A-Za-z_] and subsequently
    contain only [A-Za-z0-9_]. Any invalid names will return an error.

commit 8db958a666f5a7979e6b90a93aa6490bcf452647
Author: dependabot-preview[bot] <27856297+dependabot-preview[bot]@users.noreply.github.com>
Date:   Mon Jul 13 10:47:19 2020 +0000

    build(deps): bump ordered-float from 1.1.0 to 2.0.0
    
    Bumps [ordered-float](https://github.com/reem/rust-ordered-float) from 1.1.0 to 2.0.0.
    - [Release notes](https://github.com/reem/rust-ordered-float/releases)
    - [Commits](https://github.com/reem/rust-ordered-float/compare/v1.1.0...v2.0.0)
    
    Signed-off-by: dependabot-preview[bot] <support@dependabot.com>

commit 5f0eb09ae475f378e7437435127d7af99f013be3
Merge: 779987dc6 297944ee3
Author: Nikhil Benesch <nikhil.benesch@gmail.com>
Date:   Fri Jul 17 14:28:04 2020 -0400

    Merge pull request #3645 from benesch/order-by-project
    
    sql: allow input columns in ORDER BY clause

commit 297944ee3fb819d1bbcfa0298cfabec911e9b589
Author: Nikhil Benesch <nikhil.benesch@gmail.com>
Date:   Fri Jul 17 02:05:22 2020 -0400

    sql: allow input columns in ORDER BY clause
    
    In standard SQL, the ORDER BY clause occurs after the columns specified
    in the SELECT list have been projected. In a query like
    
        CREATE TABLE (a int, b int)
        (SELECT a FROM t) UNION (SELECT a FROM t) ORDER BY a
    
    it is valid to refer to `a`, because it is explicitly selected, but it would
    not be valid to refer to unselected column `b`.
    
    But PostgreSQL extends the standard to permit queries like
    
        SELECT a FROM t ORDER BY b
    
    where expressions in the ORDER BY clause can refer to *both* input columns
    and output columns.
    
    This commit adds support for this extension. It also fixes a
    longstanding bug in RowSetFinishing::is_trivial that was exposed by this
    change.
    
    Fix #696.
    Fix #2260.

commit 779987dc6fe46e6300fb626809b4f10799a082bc
Author: Jessica Laughlin <JLDLaughlin@users.noreply.github.com>
Date:   Fri Jul 17 13:37:52 2020 -0400

    Avro: parse names with dots as namespaces (#3643)
    
    The parsed namespace will override any provided or default namespace.

commit 1c48479e5c3ecc8d625cf9dc9fd941b90a1d0f88
Merge: 1cad47faf f687443b1
Author: Justin Jaffray <justin.jaffray@gmail.com>
Date:   Fri Jul 17 09:53:09 2020 -0400

    Merge pull request #3535 from justinj/cat-view
    
    Make mz_kafka_sinks a local input

commit 1cad47faf1e6ee6b5b38a11bdca40402b11b6166
Author: Jessica Laughlin <JLDLaughlin@users.noreply.github.com>
Date:   Thu Jul 16 19:39:19 2020 -0400

    Fixed, enum, and record Avro types require a non-empty name (#3640)

commit 0bbc8c9f5115195229070e5dc6a8c759749b92b9
Author: Brennan Vincent <brennan@materialize.io>
Date:   Thu Jul 16 19:24:12 2020 -0400

    Make decode API somewhat nicer and less error-prone (#3639)
    
    (1) Remove the redundant AvroFieldAccess::decode_to_value
    (2) Make decoders take self instead of &mut self, and return an output value. This forces any decoder to be used exactly once, letting us get rid of a bunch of assertions.

commit 4e112a8c536ac3528c6dc22d5a01b3a1dd42dca4
Author: Brennan Vincent <brennan@materialize.io>
Date:   Thu Jul 16 18:17:10 2020 -0400

    Fix for td error message (#3642)

commit f687443b16e05ce1c4d3efa50a9e09b8c2fed760
Author: Justin Jaffray <justin.jaffray@gmail.com>
Date:   Thu Jul 2 14:49:37 2020 -0400

    Make mz_kafka_sinks a local input

commit d95aaf10b4a33c0936d68f9fbe0016b0d6a0801e
Merge: 25d09ccce 8b7c9139e
Author: Natacha Crooks <nacrooks@gmail.com>
Date:   Thu Jul 16 16:54:26 2020 -0400

    Merge pull request #3532 from nacrooks/filesourcesunified
    
    Moving file sources to common source ingestion framework. Requires parametrizing SourceInfo to distinguish between Value and Vec<u8> data types.

commit 25d09ccceff97a7a67acbd8e3e75eed7d582dcfd
Author: Brennan Vincent <brennan@materialize.io>
Date:   Thu Jul 16 16:52:45 2020 -0400

    Nicely error when encountering recursively defined type in Avro schema (#3641)

commit 8b7c9139e92e4f11e86c9a939d7a43a69755bec4
Author: Natacha Crooks <nacrooks@gmail.com>
Date:   Mon Jun 29 09:00:48 2020 -0400

    Adding files to unified framework. File sources are parametrised on an
    Out type (Value or Vec<u8>). Adding this parameter required adding a new
    SourceConstructor trait.

commit 581c6f3207f7143e8c584691a296e36e65d9bccb
Merge: f131f4efe 53638fc5d
Author: Nikhil Benesch <nikhil.benesch@gmail.com>
Date:   Thu Jul 16 15:44:35 2020 -0400

    Merge pull request #3635 from benesch/cast-record-to-string
    
    expr,sql: support casting records to strings

commit f131f4efefc71037edbd92ac3d62c9db288578ff
Merge: a3b26114c ffa00d6e8
Author: Sean Loiselle <sean@materialize.io>
Date:   Thu Jul 16 15:10:55 2020 -0400

    Merge pull request #3634 from sploiselle/experimental-flag
    
    catalog: add experimental mode

commit ffa00d6e8e65028123237d6460a6b10598360c0b
Author: sploiselle <sean@materialize.io>
Date:   Wed Jul 15 11:50:51 2020 -0400

    catalog: add experimental mode

commit a3b26114c29e443e698d3b7e7a55217c8ce31cdb
Merge: 2d60742ea 05bf065dd
Author: Nikhil Benesch <nikhil.benesch@gmail.com>
Date:   Thu Jul 16 13:33:26 2020 -0400

    Merge pull request #3637 from benesch/rust-1.45.0
    
    rust-toolchain: upgrade to rust 1.45.0

commit 05bf065dd4b8497c16b71f4d63ea37b9759101a5
Author: Nikhil Benesch <nikhil.benesch@gmail.com>
Date:   Thu Jul 16 12:52:40 2020 -0400

    rust-toolchain: upgrade to rust 1.45.0
    
    The relevant changes in Rust 1.45.0 are a fix for a soundness hole in
    float -> int casts and str::strip_prefix.

commit 2d60742ea0417f598cd83ecfc2712694863322ff
Author: Jessica Laughlin <JLDLaughlin@users.noreply.github.com>
Date:   Thu Jul 16 12:26:23 2020 -0400

    Add tests for more Avro logical types (#3631)
    
    Tests date, time-millis, time-micros, timestamp-millis, and timestamp-micros

commit d336fb21e7cab1c2a9e5159de6ce26f594437dbe
Merge: 1d10643b3 2b2e77598
Author: Andi Wang <5522362+wangandi@users.noreply.github.com>
Date:   Thu Jul 16 09:54:36 2020 -0400

    Merge pull request #3533 from wangandi/filterupsert
    
    Run filters before `arrange_from_upsert`.

commit 53638fc5db4d7688dab03d2a299161d18f81133d
Author: Nikhil Benesch <nikhil.benesch@gmail.com>
Date:   Thu Jul 16 00:34:35 2020 -0400

    expr,sql: support casting records to strings
    
    This is a quick way to allow testing of record types in testdrive
    without manually extracting each field, and until we get support for the
    pg_type table, users will likely appreciate this as well. Plus it's a
    generally useful feature.

commit 1d10643b34b0a9c8971f556e4695626dcd5484f2
Merge: d61697cd0 fbfc6d0fe
Author: Nikhil Benesch <nikhil.benesch@gmail.com>
Date:   Wed Jul 15 18:21:55 2020 -0400

    Merge pull request #3632 from benesch/any-all-regression
    
    expr: improve reduction of IS NULL

commit fbfc6d0fe87e1dbae2751bf58073c8bc0af07bb6
Author: Nikhil Benesch <nikhil.benesch@gmail.com>
Date:   Tue Jun 23 01:38:08 2020 -0400

    expr: improve reduction of IS NULL
    
    An expression like `(a + b) IS NULL` can be reduced to `a IS NULL OR b
    IS NULL` because we know the `+` operator can never introduce a NULL.
    This can unlock further reduction, e.g., because `b` is known to be
    non-NULL.
    
    This fixes the regression described in #3488.
    
    Tracking this "introduces null" property requires yet another method on
    BinaryFunc which is hard to maintain. The fix is a massive refactoring;
    see #3449 for a sense fo the scope.

commit d61697cd0ac3657de50642de0b54a4cbcbcc948b
Merge: 9570ad70b 606bd6661
Author: Jessica Laughlin <JLDLaughlin@users.noreply.github.com>
Date:   Wed Jul 15 15:32:25 2020 -0400

    Avro decimal logical type error (#3628)
    
    If provided precision > max, fall back on the underlying type.

commit 52bfc93b9ef2f7fec35ec21ee90264cf6f682d75
Author: Justin Jaffray <justin.jaffray@gmail.com>
Date:   Thu Jul 2 15:13:29 2020 -0400

    Fix CPU hunger
    
    A hack, we only advance the timestamps now if they've been inspected by
    someone. This has somewhat perverse behaviour in the presence of TAIL,
    so this is just a stopgap fix until we can actually reduce the amount of
    CPU being used by continually updating inputs.

commit 606bd6661c98dfd6243d403f2bab939a256ff1e2
Author: JLDLaughlin <jessica@materialize.io>
Date:   Wed Jul 15 13:24:26 2020 -0400

    Avro decimal logical type error

commit 2b2e77598276d55bda1dcaee0954c386632ba376
Author: Andi Wang <andi@materialize.io>
Date:   Wed Jul 15 11:47:20 2020 -0400

    Have `apply_linear_operators` take the operator to mark operators ran.

commit 9570ad70b17aea44d5d04eee458810a9d0f30c98
Author: Ruchir Khaitan <ruchir0001@gmail.com>
Date:   Wed Jul 15 11:03:01 2020 -0400

    ci/nightly: Add nightly tests for smith fuzzer (#3609)
    
    Closes #1722.

commit b0d563565fddc486282134219059c81352d962ae
Author: Andi Wang <andi@materialize.io>
Date:   Tue Jul 14 19:56:04 2020 -0400

    Shift key out of decode. Add more comments explaining decisions.

commit 7cc9c23186213a63e74943dd67f8f9b89fcd8483
Author: Andi Wang <andi@materialize.io>
Date:   Tue Jul 7 15:38:42 2020 -0400

    Fix position_or to not change the position of datums.

commit 69c074c8a066287fe81837202c740266aef9af94
Author: Andi Wang <andi@materialize.io>
Date:   Tue Jul 7 15:00:40 2020 -0400

    Use Datum::Dummy instead of Datum::null.

commit 716f9607eb843c21a94a3c3a5d496e73e593b227
Author: Andi Wang <andi@materialize.io>
Date:   Tue Jul 7 11:02:19 2020 -0400

    Remove trailing whitespace.

commit f2b4369a475000fa83bda7f92b1985cb2ced00ed
Author: Andi Wang <andi@materialize.io>
Date:   Tue Jul 7 10:58:25 2020 -0400

    Add comments to upsert methods.

commit 407e25bb838188e8eaca33fd384ba58466736138
Author: Andi Wang <andi@materialize.io>
Date:   Tue Jul 7 10:24:32 2020 -0400

    Fix issue where predicate propagating changed plans after optimization.

commit a1662a0aee7b7ff1c54c092ab31d2c91c2765c80
Author: Andi Wang <andi@materialize.io>
Date:   Thu Apr 23 16:49:35 2020 -0400

    Run filters + project before `arrange_from_upsert`.

commit f6f37595a232920c03fd6b1d04881288fafe7101
Author: Brennan Vincent <brennan@materialize.io>
Date:   Wed Jul 15 01:11:11 2020 -0400

    remove stray todos (#3626)

commit b8c37d412ec376628e8f50d79c81f34141382c1f
Author: Brennan Vincent <brennan@materialize.io>
Date:   Wed Jul 15 00:39:51 2020 -0400

    forbid the todo! macro in our codebase (#3627)

commit d0cee8bea775a9bc6153aa3747232966402cc0f8
Author: Brennan Vincent <brennan@materialize.io>
Date:   Tue Jul 14 23:34:28 2020 -0400

    Avro decoding rewrite (#3568)
    
    This diff accomplishes two main goals:
    
    (1) It rewrites avro::decode and interchange::avro to decode directly into rows, rather than into intermediate avro values. This significantly speeds up decoding (3-4x).
    
    The API is loosely inspired by Serde: a "Deserializer" walks the schema, and calls functions provided by a "Decoder".
    
    Unfortunately, when fields do not appear in the writer in the same order as they are expected by the reader, we need to fall back to the old API, because we need to reorder the values before writing them to the row.
    
    (2) It allows arbitrarily nested records and lists to be ingested into Materialize.

commit 5d6065d35055fb1aa292327baa06aa5b980459ab
Merge: 9588d929f f10951321
Author: Sean Loiselle <sean@materialize.io>
Date:   Tue Jul 14 21:59:53 2020 -0400

    Merge pull request #3469 from sploiselle/alter-rename-v2
    
    ALTER...RENAME

commit f1095132140829ea137b2544cd123931486bd569
Author: sploiselle <sean@materialize.io>
Date:   Sun Jul 12 17:08:24 2020 -0400

    sql: create full-fledged ast module

commit 9588d929f52519c4841fc6a16e1254b29af37917
Author: Jessica Laughlin <JLDLaughlin@users.noreply.github.com>
Date:   Tue Jul 14 16:46:38 2020 -0400

    Remove errant commented line (#3501)

commit 49c2a3f91c668a1c1f027f175adc390408d2c4e3
Merge: 3d6f48356 446fe0647
Author: Nikhil Benesch <nikhil.benesch@gmail.com>
Date:   Tue Jul 14 14:34:38 2020 -0400

    Merge pull request #3619 from benesch/transaction-isolation
    
    coord,sql-parser: support SHOW TRANSACTION ISOLATION LEVEL

commit 3d6f48356f79fd685c17f99d1622cbe09a4a8187
Merge: 67c2ded79 2e9f58feb
Author: Nikhil Benesch <nikhil.benesch@gmail.com>
Date:   Tue Jul 14 14:34:21 2020 -0400

    Merge pull request #3567 from benesch/kafka-sasl-test
    
    test: add SASL PLAIN integration test

commit 446fe0647161f9968b1a683bc5e5593ccef462d9
Author: Nikhil Benesch <nikhil.benesch@gmail.com>
Date:   Tue Jul 14 13:20:56 2020 -0400

    test: test setting all session variables
    
    Some of these session variables are read only, in which case we test
    that the "parameter is read only" error is produced.

commit ce1b040658614cbab106da833c7ab447fb3d4a3a
Author: Nikhil Benesch <nikhil.benesch@gmail.com>
Date:   Tue Jul 14 13:15:58 2020 -0400

    coord: add note about funny capitalization of TimeZone session var

commit 67c2ded79a14b48eeab8a37bd7d66b82790410cb
Merge: ce229b143 cad9666fe
Author: Nikhil Benesch <nikhil.benesch@gmail.com>
Date:   Tue Jul 14 12:59:30 2020 -0400

    Merge pull request #3621 from benesch/rust-api-docs
    
    README: fix link to Rust API docs

commit cad9666fe7f9db1e4d73cf86ffce4e80350d1c74
Author: Nikhil Benesch <nikhil.benesch@gmail.com>
Date:   Tue Jul 14 12:55:48 2020 -0400

    README: fix link to Rust API docs
    
    Fix #3620.

commit ce229b14317a68baaece3b20c2843359ef5c874e
Author: Jessica Laughlin <JLDLaughlin@users.noreply.github.com>
Date:   Tue Jul 14 12:02:53 2020 -0400

    Update parsing Avro's decimal logical type (#3612)
    
    If the Avro schema of a decimal logical type is invalid, fall back to using the underlying
    Avro Int type.

commit d818329f6a8218e5a4b28f5269c938ee3a3ebe8d
Author: Nikhil Benesch <nikhil.benesch@gmail.com>
Date:   Tue Jul 14 11:29:28 2020 -0400

    coord,sql-parser: support SHOW TRANSACTION ISOLATION LEVEL
    
    Just pretend to be serializable for now, since we don't actually support
    transactions.

commit 43b749d1e48f5c2ee90e41d1241ac581504cefed
Author: Brennan Vincent <brennan@materialize.io>
Date:   Tue Jul 14 06:46:25 2020 -0400

    fix off-by-one error (#3614)

commit 965d4480599fe129eb629c98700745ddf2efe766
Merge: 486984a5d 7e60425be
Author: Nikhil Benesch <nikhil.benesch@gmail.com>
Date:   Tue Jul 14 00:33:54 2020 -0400

    Merge pull request #3600 from MaterializeInc/dependabot/cargo/libc-0.2.72
    
    build(deps): bump libc from 0.2.71 to 0.2.72

commit 486984a5de737d46b625361a0f787f4fe48b704a
Merge: d3cb12790 e4019ae56
Author: Nikhil Benesch <nikhil.benesch@gmail.com>
Date:   Tue Jul 14 00:33:32 2020 -0400

    Merge pull request #3602 from MaterializeInc/dependabot/cargo/prometheus-static-metric-6afa773
    
    build(deps): bump prometheus-static-metric from `535d5af` to `6afa773`

commit d3cb12790adac8683258f883f91f28a2f75529bf
Merge: 7f14ae0e2 5f51a282e
Author: Nikhil Benesch <nikhil.benesch@gmail.com>
Date:   Tue Jul 14 00:33:21 2020 -0400

    Merge pull request #3603 from MaterializeInc/dependabot/cargo/syn-1.0.34
    
    build(deps): bump syn from 1.0.33 to 1.0.34

commit 7f14ae0e271364872f33444340707ab4d5cdf8fb
Merge: ae9adc2e1 f51148dc3
Author: Nikhil Benesch <nikhil.benesch@gmail.com>
Date:   Tue Jul 14 00:33:06 2020 -0400

    Merge pull request #3601 from MaterializeInc/dependabot/cargo/snap-1.0.1
    
    build(deps): bump snap from 1.0.0 to 1.0.1

commit ae9adc2e1e61ef3b4220ea07bc17a8d42f64ae02
Merge: 24dcb5e64 755372ac5
Author: Nikhil Benesch <nikhil.benesch@gmail.com>
Date:   Tue Jul 14 00:32:52 2020 -0400

    Merge pull request #3599 from MaterializeInc/dependabot/cargo/criterion-0.3.3
    
    build(deps): bump criterion from 0.3.2 to 0.3.3

commit 24dcb5e64021b5243a193ec256ce5f31465db795
Merge: ec4e766c5 0ab00729e
Author: Nikhil Benesch <nikhil.benesch@gmail.com>
Date:   Tue Jul 14 00:32:17 2020 -0400

    Merge pull request #3597 from MaterializeInc/dependabot/cargo/smallvec-1.4.1
    
    build(deps): bump smallvec from 1.4.0 to 1.4.1

commit ec4e766c58cc22b0d1af38e16b43587860f7f2d9
Merge: 63a201a50 6430b9951
Author: Nikhil Benesch <nikhil.benesch@gmail.com>
Date:   Tue Jul 14 00:32:04 2020 -0400

    Merge pull request #3596 from MaterializeInc/dependabot/cargo/backtrace-0.3.50
    
    build(deps): bump backtrace from 0.3.49 to 0.3.50

commit 63a201a5073a589a6564c73138e87e3ddda3a693
Merge: e890f38fb 793b801bd
Author: Nikhil Benesch <nikhil.benesch@gmail.com>
Date:   Tue Jul 14 00:31:46 2020 -0400

    Merge pull request #3595 from MaterializeInc/dependabot/cargo/rdkafka-0c02524
    
    build(deps): bump rdkafka from `2a52094` to `0c02524`

commit e890f38fbbd000bf3389eb7cf73e28edd109fd9b
Author: Jessica Laughlin <JLDLaughlin@users.noreply.github.com>
Date:   Mon Jul 13 17:18:42 2020 -0400

    Add Avro tests, fix decimal logical type panic (#3610)
    
    Ports more Avro tests from the Apache project's python tests, fixes a bug
    where Fixed values with a negative size causes an 'attempt to multiply with overflow'
    panic.

commit ad8faf3c5dc83ea28966a172638554099dfbdf63
Author: Brennan Vincent <brennan@materialize.io>
Date:   Mon Jul 13 16:17:49 2020 -0400

    Add serialization round-trip check for a bunch of our Avro tests, and fix an error it uncovered (#3608)

commit ad8eb78b17418d32eaa243ee69c4204d731eeadd
Author: Brennan Vincent <brennan@materialize.io>
Date:   Mon Jul 13 14:02:19 2020 -0400

    Properly serialize decimal fixed types (#3607)

commit 58a4f5d00383bd1f813463fea43642950a016c20
Merge: 7f6b0782b 958506738
Author: Justin Jaffray <justin.jaffray@gmail.com>
Date:   Mon Jul 13 13:09:00 2020 -0400

    Merge pull request #3605 from justinj/log-view-fix
    
    Only report views a single time

commit 7f6b0782bba879e85fc10763c5bffef3fc5ad8a8
Author: Brennan Vincent <brennan@materialize.io>
Date:   Mon Jul 13 13:02:34 2020 -0400

    Allow logical types in unions to resolve against raw types. (#3606)

commit 958506738941952df529cfed64c82c98c251ff2d
Author: Justin Jaffray <justin.jaffray@gmail.com>
Date:   Mon Jul 13 11:40:44 2020 -0400

    Only report views a single time
    
    Previously, we would emit views into the catalog twice: once when we
    first opened the catalog, and again when we were announcing foreign key
    relationships. Perhaps there is a reason this was happening twice, but
    it seems wrong to me, since the id was noted as a key.

commit 2c13bdefe7638dbaf0f47c81a5617218e4d49539
Author: sploiselle <sean@materialize.io>
Date:   Fri Jun 26 09:33:17 2020 -0400

    sql: support ALTER <item> RENAME TO... in limited contexts

commit 4a840bab5dfd1ef324143ab51b951be2a93718f7
Author: Brennan Vincent <brennan@materialize.io>
Date:   Mon Jul 13 11:22:55 2020 -0400

    Correctly serialize "decimal" nodes in Avro schemas (#3604)

commit 5f51a282eff52e6c0a008c666826f809e1e491e7
Author: dependabot-preview[bot] <27856297+dependabot-preview[bot]@users.noreply.github.com>
Date:   Mon Jul 13 10:49:51 2020 +0000

    build(deps): bump syn from 1.0.33 to 1.0.34
    
    Bumps [syn](https://github.com/dtolnay/syn) from 1.0.33 to 1.0.34.
    - [Release notes](https://github.com/dtolnay/syn/releases)
    - [Commits](https://github.com/dtolnay/syn/compare/1.0.33...1.0.34)
    
    Signed-off-by: dependabot-preview[bot] <support@dependabot.com>

commit e4019ae5667778b37639a04d6bfce77664900e36
Author: dependabot-preview[bot] <27856297+dependabot-preview[bot]@users.noreply.github.com>
Date:   Mon Jul 13 10:49:11 2020 +0000

    build(deps): bump prometheus-static-metric from `535d5af` to `6afa773`
    
    Bumps [prometheus-static-metric](https://github.com/MaterializeInc/rust-prometheus) from `535d5af` to `6afa773`.
    - [Release notes](https://github.com/MaterializeInc/rust-prometheus/releases)
    - [Commits](https://github.com/MaterializeInc/rust-prometheus/compare/535d5af77fa2ef5074d75305a3e3fc1177ef92df...6afa7738ee9fc7960d3a48755154fe09f5d72304)
    
    Signed-off-by: dependabot-preview[bot] <support@dependabot.com>

commit f51148dc3b9ff6d9113c2d2756f21dda6d3e8028
Author: dependabot-preview[bot] <27856297+dependabot-preview[bot]@users.noreply.github.com>
Date:   Mon Jul 13 10:48:42 2020 +0000

    build(deps): bump snap from 1.0.0 to 1.0.1
    
    Bumps [snap](https://github.com/BurntSushi/rust-snappy) from 1.0.0 to 1.0.1.
    - [Release notes](https://github.com/BurntSushi/rust-snappy/releases)
    - [Commits](https://github.com/BurntSushi/rust-snappy/compare/1.0.0...1.0.1)
    
    Signed-off-by: dependabot-preview[bot] <support@dependabot.com>

commit 7e60425beaf4e16d8a238ddf53f8966df0ae7404
Author: dependabot-preview[bot] <27856297+dependabot-preview[bot]@users.noreply.github.com>
Date:   Mon Jul 13 10:48:20 2020 +0000

    build(deps): bump libc from 0.2.71 to 0.2.72
    
    Bumps [libc](https://github.com/rust-lang/libc) from 0.2.71 to 0.2.72.
    - [Release notes](https://github.com/rust-lang/libc/releases)
    - [Commits](https://github.com/rust-lang/libc/compare/0.2.71...0.2.72)
    
    Signed-off-by: dependabot-preview[bot] <support@dependabot.com>

commit 755372ac59696fd181c061cb3e6f08f8fd1ad8a9
Author: dependabot-preview[bot] <27856297+dependabot-preview[bot]@users.noreply.github.com>
Date:   Mon Jul 13 10:47:46 2020 +0000

    build(deps): bump criterion from 0.3.2 to 0.3.3
    
    Bumps [criterion](https://github.com/bheisler/criterion.rs) from 0.3.2 to 0.3.3.
    - [Release notes](https://github.com/bheisler/criterion.rs/releases)
    - [Changelog](https://github.com/bheisler/criterion.rs/blob/master/CHANGELOG.md)
    - [Commits](https://github.com/bheisler/criterion.rs/compare/0.3.2...0.3.3)
    
    Signed-off-by: dependabot-preview[bot] <support@dependabot.com>

commit 0ab00729e59ef2574440a52a6acbadf02b2ee43a
Author: dependabot-preview[bot] <27856297+dependabot-preview[bot]@users.noreply.github.com>
Date:   Mon Jul 13 10:46:55 2020 +0000

    build(deps): bump smallvec from 1.4.0 to 1.4.1
    
    Bumps [smallvec](https://github.com/servo/rust-smallvec) from 1.4.0 to 1.4.1.
    - [Release notes](https://github.com/servo/rust-smallvec/releases)
    - [Commits](https://github.com/servo/rust-smallvec/compare/v1.4.0...v1.4.1)
    
    Signed-off-by: dependabot-preview[bot] <support@dependabot.com>

commit 6430b995149024e00d9d25a7ef772a55a8d2286e
Author: dependabot-preview[bot] <27856297+dependabot-preview[bot]@users.noreply.github.com>
Date:   Mon Jul 13 10:46:27 2020 +0000

    build(deps): bump backtrace from 0.3.49 to 0.3.50
    
    Bumps [backtrace](https://github.com/rust-lang/backtrace-rs) from 0.3.49 to 0.3.50.
    - [Release notes](https://github.com/rust-lang/backtrace-rs/releases)
    - [Commits](https://github.com/rust-lang/backtrace-rs/compare/0.3.49...0.3.50)
    
    Signed-off-by: dependabot-preview[bot] <support@dependabot.com>

commit 793b801bd2949f1fb38d4c682f6697d225c0abe4
Author: dependabot-preview[bot] <27856297+dependabot-preview[bot]@users.noreply.github.com>
Date:   Mon Jul 13 10:45:53 2020 +0000

    build(deps): bump rdkafka from `2a52094` to `0c02524`
    
    Bumps [rdkafka](https://github.com/fede1024/rust-rdkafka) from `2a52094` to `0c02524`.
    - [Release notes](https://github.com/fede1024/rust-rdkafka/releases)
    - [Commits](https://github.com/fede1024/rust-rdkafka/compare/2a5209435e438d7cdb8bbf6bfa4af07073ed6841...0c02524ee95c509b8ec0de6c801016c2457ddf17)
    
    Signed-off-by: dependabot-preview[bot] <support@dependabot.com>

commit e48b6bb3e5c6b32cac8106c24d4329be82b5b28d
Author: sploiselle <sean@materialize.io>
Date:   Fri Jun 26 09:33:44 2020 -0400

    sql: remove tests for ALTER TABLE...

commit c6990ab664d89bd37556e09a4952c6583c55f119
Author: Brennan Vincent <brennan@materialize.io>
Date:   Sun Jul 12 11:17:52 2020 -0400

    rename some functions (#3591)

commit ccf81debe1d64b595e5cddbe3e06bb16b65c2547
Author: Brandon W Maister <bwm@materialize.io>
Date:   Sat Jul 11 17:06:37 2020 -0400

    simplify test configs by getting rid of support for master branch (#3589)

commit f6878796bb8bbd83299e2943b2c9e876805c2d3a
Merge: a3ef3577d 9cb910617
Author: Brandon W Maister <bwm@materialize.io>
Date:   Sat Jul 11 16:40:49 2020 -0400

    Merge pull request #3588 from quodlibetor/devsite-explicit-branch
    
    devsite: use an explicit branch for updating the repo

commit 9cb910617f1df6e69af76cde939b152d33f7098b
Author: Brandon W Maister <bwm@materialize.io>
Date:   Sat Jul 11 16:31:19 2020 -0400

    devsite: temporarily make all the steps in pull explicit
    
    Ensure that we're working off of `main`

commit bf9817c279740d07bb176e6d47c1e9583e43a3f8
Author: Brandon W Maister <bwm@materialize.io>
Date:   Sat Jul 11 16:17:32 2020 -0400

    devsite: use an explicit branch for updating the repo

commit a3ef3577d083071d1ece7edd9710ba19063bdfeb
Author: Brennan Vincent <brennan@materialize.io>
Date:   Sat Jul 11 16:05:14 2020 -0400

    Improve error messages when decoding missing avro enum or union variants (#3587)

commit 7b65829b490429d26b6b8d014747ad194e407ba1
Author: Brandon W Maister <bwm@materialize.io>
Date:   Sat Jul 11 14:58:38 2020 -0400

    peeker: Don't do backoff for evaluation errors (#3586)
    
    It's only intended to back off when we're still waiting for completed timestamps/creating
    the tables.

commit f3338f577b104d5b6804d8a4ae272c5d184217a6
Merge: 2d82128d6 8a8d23c7e
Author: Brandon W Maister <bwm@materialize.io>
Date:   Sat Jul 11 14:21:02 2020 -0400

    Merge pull request #3578 from quodlibetor/rename-default-branch
    
    Support CI with branches named both main and master

commit 2d82128d65296e33c94d670fc824a419b72fb9d8
Author: Brennan Vincent <brennan@materialize.io>
Date:   Sat Jul 11 14:19:39 2020 -0400

    Allow default values in Avro enums (#3585)

commit f6a6f542a3cce1dc8770dcbb9fc815451107997c
Author: Brennan Vincent <brennan@materialize.io>
Date:   Sat Jul 11 13:31:18 2020 -0400

    Fix some bugs in union resolution (#3583)

commit d1313f7f16c6380ce30dc4be1708f13dd42cb354
Author: Brennan Vincent <brennan@materialize.io>
Date:   Sat Jul 11 13:10:28 2020 -0400

    Give readers the correct enum index, rather than the index from the writer (#3584)

commit cd39a0468a7eab73ffe3f0489b8ff1302d1514c1
Author: Brennan Vincent <brennan@materialize.io>
Date:   Sat Jul 11 11:54:00 2020 -0400

    fix a wrong comment (#3582)

commit 1416ab27c40aaf99ddef6d7ddf2ebf9adcdd9996
Author: Brennan Vincent <brennan@materialize.io>
Date:   Sat Jul 11 11:23:25 2020 -0400

    Fix two unchecked array accesses in decode (#3581)

commit 5b15e70026b97f8f5cf01ba78cb080976110c42a
Author: Brennan Vincent <brennan@materialize.io>
Date:   Fri Jul 10 17:08:34 2020 -0400

    Resolve avro date-related logical types (#3579)

commit 8a8d23c7e99cb10ff18055f71ec40d4ae09fef67
Author: Brandon W Maister <bwm@materialize.io>
Date:   Fri Jul 10 14:06:36 2020 -0400

    docs: Change most occurrences of `master` -> `main`

commit b05e69f9631fd9ff79bbd6c03252cd76f65a104d
Author: Brandon W Maister <bwm@materialize.io>
Date:   Fri Jul 10 14:05:55 2020 -0400

    ci: support moving from master -> main
    
    This supports both branches existing, preferring whichever one is newer.

commit 6c2d3e82488ba871f04d62762c612522c968f62e
Author: Brennan Vincent <brennan@materialize.io>
Date:   Fri Jul 10 13:28:55 2020 -0400

    fix a wrong comment (#3574)

commit d0bc3266e7526f2385321f9105e6f4d59283cbee
Author: Brennan Vincent <brennan@materialize.io>
Date:   Fri Jul 10 12:04:36 2020 -0400

    Resolve decimals against bytes/fixed (#3572)
    
    Decimals are a "logical" type that is actually either Fixed or Bytes under the hood. Allow them to be resolved as each other during schema resolution.

commit ca803a7aadd58041bb24e430b30f99d86dbcac3e
Merge: d366706ee 6988d59ce
Author: Nikhil Benesch <nikhil.benesch@gmail.com>
Date:   Fri Jul 10 00:11:13 2020 -0400

    Merge pull request #3570 from benesch/theme-katacoda
    
    doc/user: embed and theme katacoda

commit 6988d59ce96524304ec0b98eb7eb8d8f94cdc3eb
Author: Nikhil Benesch <nikhil.benesch@gmail.com>
Date:   Thu Jul 9 17:03:41 2020 -0400

    doc/user: embed and theme katacoda
    
    This keeps folks on the Materialize site and also makes the Katacoda
    match our branding a bit better.

commit d366706ee91cfac760eb8f9de5af459f5b9ee7f2
Merge: ab9a4ab38 dd0aee7f3
Author: Nikhil Benesch <nikhil.benesch@gmail.com>
Date:   Thu Jul 9 21:52:29 2020 -0400

    Merge pull request #3566 from benesch/input-tty
    
    mzbuild: fix "input is not a TTY" error

commit ab9a4ab38f9ed092c1957b2477fc1656b96ec710
Author: Brennan Vincent <brennan@materialize.io>
Date:   Thu Jul 9 17:16:08 2020 -0400

    Check for union first when using defaults (#3569)
    
    When decoding default values in avro schemas, defaults for unions should always be matched against the first result in the union.
    
    However, we did the check for unions last, so, since in Rust match statements are tried in order, we were attempting to resolve the default against other types like Number and failing.

commit bd583387351603c2eece4d511a9ea7a9aecfca77
Author: Brandon W Maister <bwm@materialize.io>
Date:   Thu Jul 9 13:46:30 2020 -0400

    Fix -w/--worker command-line flag in docs (#3554)
    
    It should be either `-w` or `--workers`, not `--w`. I chose the shorter one for the docs
    in the intro since `--workers` is not supported in v0.3.1, but will be in v0.4.0.
    
    Also adjust docs to point out that it is required.

commit 2e9f58febc1beb93bb926cd1939581f85d3c0e6e
Author: Nikhil Benesch <nikhil.benesch@gmail.com>
Date:   Wed Jul 8 17:48:45 2020 -0400

    test: add smoke test for SASL PLAIN authentication
    
    Also reorganize the Kafka smoke tests so they all start with "kafka-".
    The resulting directories test/kafka-krb5, test/kafka-sasl-plain, and
    test/kafka-ssl.

commit 950f499b61f8c956aee556b2801be532692e3cfd
Author: Nikhil Benesch <nikhil.benesch@gmail.com>
Date:   Thu Jul 9 03:00:34 2020 -0400

    testdrive: rework kafka option handling
    
    Make testdrive oblivious to Kafka options, except for those relating to
    SSL, since those need special handling for the schema registry anyway.
    This removes a lot of Kerberos cruft from testdrive, and paves the way
    for testing other Kafka configurations via testdrive without changing
    testdrive itself.

commit 04bbad9d73856efae877e8c5f949dc744ab7a77f
Merge: 430e835d2 2342adcf7
Author: Brandon W Maister <bwm@materialize.io>
Date:   Thu Jul 9 13:00:33 2020 -0400

    Merge pull request #3565 from quodlibetor/tag-latest-in-automation
    
    Tag docker images `latest` when we are on the latest release tag

commit 2342adcf72a7e15a9e272a5d69ea8d282560c800
Author: Brandon W Maister <bwm@materialize.io>
Date:   Thu Jul 9 12:51:12 2020 -0400

    Use semver lib instead of rolling our own

commit 37420c5e47418437e1a7f90df7d2a1377943a055
Author: Brandon W Maister <bwm@materialize.io>
Date:   Thu Jul 9 11:50:51 2020 -0400

    Tag docker images `latest` when we are on the latest release tag
    
    Related to #2011 and #3018

commit f6ef5ed27fb1ee7f950c0b7e6d8ff3b2a75d2dd1
Author: Brandon W Maister <bwm@materialize.io>
Date:   Thu Jul 9 11:50:32 2020 -0400

    replace repeated constant with a variable

commit b8f6aaa565d512d26bb3109370aa24ab1952100d
Author: Nikhil Benesch <nikhil.benesch@gmail.com>
Date:   Thu Jul 9 02:32:26 2020 -0400

    testdrive: remove --root-cert option
    
    Testdrive does not want to be in the business of managing CA
    certificates. Just let the OS handle it.

commit dd0aee7f3e62e80572776ecd31732048511ea303
Author: Nikhil Benesch <nikhil.benesch@gmail.com>
Date:   Thu Jul 9 12:08:46 2020 -0400

    mzbuild: fix "input is not a TTY" error
    
    I'm not sure exactly what triggers this error, but it happens
    occasionally when mzbuild needs to rebuild a Docker image. Something
    about the `input` parameter confuses the subprocess. Using `stdin`
    instead makes things work.

commit 430e835d23ea5f5b442b25ea9d477157bbc5350e
Author: Ruchir Khaitan <ruchir0001@gmail.com>
Date:   Thu Jul 9 11:23:21 2020 -0400

    Changes to test/smith to reflect changes to upstream API (#3560)

commit 49d1e69bbcae52040e642e20494660c8258dfcb2
Merge: 9167dcd68 63c3fcdd2
Author: Nikhil Benesch <nikhil.benesch@gmail.com>
Date:   Thu Jul 9 11:11:55 2020 -0400

    Merge pull request #3561 from MaterializeInc/sasl-plain
    
    ccsr,sql: support SASL PLAIN authentication for Kafka

commit 9167dcd68858e3d8cdc4656fa8cc195e70f14917
Merge: 21b943c51 0f0e3acb0
Author: Sean Loiselle <sean@materialize.io>
Date:   Thu Jul 9 10:02:10 2020 -0400

    Merge pull request #3564 from sploiselle/x-schema-rel-note
    
    docs: release note for cross-schema db drop bug fix

commit 0f0e3acb090dddae02822404adbe405b34ba0efa
Author: sploiselle <sean@materialize.io>
Date:   Thu Jul 9 09:30:47 2020 -0400

    docs: release note for cross-schema db drop bug fix

commit 21b943c5143386110d5bbe4e8965023824949ec4
Merge: 356fd63ca 8cf5a1841
Author: Sean Loiselle <sean@materialize.io>
Date:   Thu Jul 9 09:26:31 2020 -0400

    Merge pull request #3558 from sploiselle/fix-drop-db-x-schema-dep
    
    coord: support dropping databases with cross-schema dependencies

commit 356fd63cab3ba3226d9c5e4ca920ee8eb4219a89
Merge: a613e7d51 4b89a607a
Author: Nikhil Benesch <nikhil.benesch@gmail.com>
Date:   Thu Jul 9 09:12:34 2020 -0400

    Merge pull request #3563 from benesch/nightly-builder
    
    ci-builder: revert to working nightly

commit a613e7d516553b29dd15a58b215ed1058809cd63
Author: Frank McSherry <fmcsherry@me.com>
Date:   Thu Jul 9 08:10:33 2020 -0400

    Update cse columns (#3559)
    
    This PR ensures that while we do not apply CSE to if-guarded expressions, we do update any column references in those expressions.

commit 4b89a607a4048b82e1c9e90891afca02b0f223f2
Author: Nikhil Benesch <nikhil.benesch@gmail.com>
Date:   Thu Jul 9 03:17:54 2020 -0400

    ci-builder: revert to working nightly
    
    The upgrade broke miri tests in a way that looks difficult to fix. Just
    revert for now, since we don't actually need the new version of the
    nightly CI builder, and hope that the miri issue gets fixed upstream by
    the time we next bump the version.

commit 63c3fcdd2b8bbc356a5362a842bb6774919f0e0f
Author: Nikhil Benesch <nikhil.benesch@gmail.com>
Date:   Thu Jul 9 01:21:45 2020 -0400

    ccsr,sql: support SASL PLAIN authentication for Kafka
    
    Support the SASL PLAIN authentication scheme for Kafka and the HTTP
    basic authentication schema for the schema registry. This makes it
    possible to use Materialize against a Confluent Cloud cluster.
    
    Note that determining which subset of Kafka configuration options are
    allowable for a given security protocol is approximately impossible, so
    instead we just dump all the options that are allowable in *some*
    configuration into one big allow list and let librdkafka sort out the
    rest.
    
    Fix #3418.

commit 741ab065cd129bb4bb9d3df81ae40c34835fdea7
Author: Jessica Laughlin <JLDLaughlin@users.noreply.github.com>
Date:   Wed Jul 8 20:51:24 2020 -0400

    Don't parse Avro schemas with duplicate Enum symbols (#3557)
    
    Return a ParseSchemaError for any Avro schema that has duplicate Enum symbols,
    adds related tests.

commit 8cf5a184169a47894b94757eefe784270a519f04
Author: sploiselle <sean@materialize.io>
Date:   Wed Jul 8 19:44:17 2020 -0400

    coord: support dropping databases with cross-schema dependencies

commit b55462acf413a0d3087ff76959dfa3d5c3f46621
Author: Brennan Vincent <brennan@materialize.io>
Date:   Wed Jul 8 15:59:28 2020 -0400

    allow defaults for decimal types (#3555)

commit fc881a0c8e21308be80a1c10789248454960d0ce
Author: Brandon W Maister <bwm@materialize.io>
Date:   Wed Jul 8 15:59:12 2020 -0400

    Document the docker "install" method (#3552)

commit 025e4d125ed9472b06469aae2c84ab34359b2539
Merge: e2d7bfd46 8e93411b8
Author: Nikhil Benesch <nikhil.benesch@gmail.com>
Date:   Wed Jul 8 14:41:32 2020 -0400

    Merge pull request #3547 from benesch/bump-autouseradd
    
    ci-builder: upgrade to latest autouseradd

commit e2d7bfd46d486f6693cf5d6a32b5cb801308d9c9
Author: Nikhil Benesch <nikhil.benesch@gmail.com>
Date:   Wed Jul 8 11:31:36 2020 -0400

    *: use "allowlist" instead of "whitelist" (#3550)
    
    "Allowlist" is emerging as a more inclusive and more precise alternative
    to "whitelist".

commit 8e93411b89255a291f90cd20232525ed3c3df27a
Author: Nikhil Benesch <nikhil.benesch@gmail.com>
Date:   Tue Jul 7 17:52:06 2020 -0400

    ci-builder: upgrade to latest autouseradd
    
    The latest version of autouseradd has learned to propagate the TMPDIR
    environment variable. This isn't presently useful to us, but it removes
    a pretty serious footgun that took CockroachDB (the other user of
    autouseradd) a while to track down.

commit 851f85f760ee0762c560c7a03957746dd8360448
Merge: a450639d3 718c80142
Author: Albert Wang <albert@materialize.io>
Date:   Wed Jul 8 10:11:23 2020 -0400

    Merge pull request #3549 from MaterializeInc/awang-patch-3
    
    test different demo CTA copy

commit 718c80142e9ee8ab72c592055fdcfbdf1f027425
Author: Albert Wang <albert@materialize.io>
Date:   Wed Jul 8 09:22:56 2020 -0400

    test different demo CTA copy

commit a450639d32c47edb057cce2e6b49b0ed556b4ca0
Merge: 60d6051ea eb23ff082
Author: Natacha Crooks <nacrooks@gmail.com>
Date:   Tue Jul 7 23:17:25 2020 -0400

    Merge pull request #3539 from nacrooks/grafanafix
    
    Prometheus fixes post unified source ingestion framework. This PR renames Grafana metrics to not be Kafka specific.

commit 60d6051ea003816640dbf2b59d53af60dbdb14fe
Author: Ruchir Khaitan <ruchir0001@gmail.com>
Date:   Tue Jul 7 22:38:18 2020 -0400

    dataflow, interchange: consistency topics for sinks (#3471)
    
    Closes #3458
    
    Have sinks emit a Debezium style transaction metadata struct inline with the data output and a separate transaction topic that tells consumers how many messages to expect per transaction id

commit 3d471de82d2529701540c4b5f5ff33a7ff9dce42
Merge: d558d4370 5bf6d861b
Author: Nikhil Benesch <nikhil.benesch@gmail.com>
Date:   Tue Jul 7 22:09:48 2020 -0400

    Merge pull request #3548 from benesch/coord-sql-parser
    
    coord: remove direct dependency on sql-parser

commit 5bf6d861b7f1a751c3f9382f8b3a09384b827ac5
Author: Nikhil Benesch <nikhil.benesch@gmail.com>
Date:   Tue Jul 7 18:20:43 2020 -0400

    coord,sqllogictest,symbiosis: remove direct dependency on sql-parser
    
    sql-parser is meant to be an implementation detail of the sql crate. In
    coord, sqllogictest, and symbiosis, use the ast module that's exposed by
    sql insead of depending on sql-parser directly.

commit eb23ff0826a34612b8cbc2770ae166923d37611b
Author: Natacha Crooks <nacrooks@gmail.com>
Date:   Mon Jul 6 20:28:52 2020 -0400

    Updating source/partition ingestion metrics

commit d558d43700f2d5145fe4c79392e9a7762fb47a5a
Merge: 2ae201fec 2cb85aa4d
Author: Albert Wang <albert@materialize.io>
Date:   Tue Jul 7 17:52:49 2020 -0400

    Merge pull request #3537 from MaterializeInc/awang-patch-2-2
    
    Add link to Katacoda, fix incomplete sentence

commit 2cb85aa4d45ab68e9d928119a11871d4b600c740
Author: Albert Wang <albert@materialize.io>
Date:   Tue Jul 7 17:31:54 2020 -0400

    try a stronger CTA

commit 2ae201fec1d03dd88195935ffe97467c57380ebc
Author: Jessica Laughlin <JLDLaughlin@users.noreply.github.com>
Date:   Tue Jul 7 15:58:15 2020 -0400

    Support SELECT .. AS OF (#3534)
    
    Adds an optional AS OF timestamp flag to SELECT and related documentation.

commit f3ef8584417d3b127f734a4d24d4bec181d44b68
Author: Jessica Laughlin <JLDLaughlin@users.noreply.github.com>
Date:   Tue Jul 7 14:58:29 2020 -0400

    Failed CREATE SINK should not create catalog entry (#3544)
    
    Reorders code to determine the frontier of a sink (which could fail) before putting
    a sink entry to the catalog.

commit de830bcba4ff405025a3c81aba1f4ffa8292e0b3
Author: Albert Wang <albert@materialize.io>
Date:   Mon Jul 6 20:50:40 2020 -0400

    fix lint

commit ef2b5857569331f2ca729eab3159d43f122b75a0
Author: Albert Wang <albert@materialize.io>
Date:   Mon Jul 6 20:48:45 2020 -0400

    fix lint

commit 843ef8fb6e71451168a10745843d25bef43b902c
Author: Albert Wang <albert@materialize.io>
Date:   Mon Jul 6 20:47:18 2020 -0400

    fix lint

commit 020ae1a1b2f2ed7bf8293b5994c5967c14bf9b8a
Author: Albert Wang <albert@materialize.io>
Date:   Mon Jul 6 20:44:05 2020 -0400

    Add link to Katacoda, fix incomplete sentence

commit 7dd463fd94a6ef1659dfebb20d63f26d6e7f3f71
Merge: c1183b752 fa05062dd
Author: Nikhil Benesch <nikhil.benesch@gmail.com>
Date:   Mon Jul 6 18:17:25 2020 -0400

    Merge pull request #3514 from benesch/dummy-datums
    
    repr: reformulate dummy datums

commit c1183b75265d4903fb4e56f166e2cc9991f3a378
Merge: 87dc826d3 f1668ad23
Author: Nikhil Benesch <nikhil.benesch@gmail.com>
Date:   Mon Jul 6 14:13:49 2020 -0400

    Merge pull request #3531 from benesch/tokio-thread-name
    
    materialized: improve tokio thread name

commit f1668ad23d0ffcebe6089c59a634fc8d8a521c29
Author: Nikhil Benesch <nikhil.benesch@gmail.com>
Date:   Mon Jul 6 13:02:31 2020 -0400

    materialized: improve tokio thread name
    
    The default name exceeds Linux's 15 character limit on thread names.

commit 87dc826d30ab56b59bb6a75cb8f034ab3f2da34f
Author: Frank McSherry <fmcsherry@me.com>
Date:   Mon Jul 6 12:40:01 2020 -0400

    make topk_elision recursive (#3529)
    
    This PR makes the elision of TopK operators without limits or offsets recursive, removing them from anywhere inside a query AST. This should be correct as none of the differential dataflow operators should be order-sensitive.

commit 7600b9d1f6b7a6af578dc0c14c08872ee5099f3c
Merge: c958c9c55 679c0ecd0
Author: Nikhil Benesch <nikhil.benesch@gmail.com>
Date:   Mon Jul 6 12:21:14 2020 -0400

    Merge pull request #3524 from MaterializeInc/dependabot/cargo/protoc-rust-2.16.2
    
    build(deps): bump protoc-rust from 2.15.0 to 2.16.2

commit c958c9c5545305618e2fa8855fd448f997b42c0f
Merge: 5f9f20a4a 5cd610331
Author: Nikhil Benesch <nikhil.benesch@gmail.com>
Date:   Mon Jul 6 12:13:51 2020 -0400

    Merge pull request #3515 from benesch/jsonb-agg
    
    sql: support to_jsonb(record)

commit 5f9f20a4a468ba1bdc09b81f5be0b96e6c79ff8e
Merge: 7167dfae1 182b60ed0
Author: Nikhil Benesch <nikhil.benesch@gmail.com>
Date:   Mon Jul 6 12:04:17 2020 -0400

    Merge pull request #3530 from MaterializeInc/dependabot/cargo/timely-76e6049
    
    build(deps): bump timely from `888c81f` to `76e6049`

commit fa05062dd16f9d292458c05bcb987439819c6b6e
Author: Nikhil Benesch <nikhil.benesch@gmail.com>
Date:   Fri Jul 3 00:52:50 2020 -0400

    repr: reformulate dummy datums
    
    There are several moments where our optimizer can prove that a column is
    not observed, and therefore does not need to be computed. Unfortunately,
    our optimizer makes it difficult to actually *remove* this column from
    the plan, and so the execution engine inserts a "dummy datum" where it
    would have computed the column. If the column is nullable, it uses
    `Datum::Null` as the dummy value; otherwise, it uses a reasonable
    default value for the column's type, like zero for integers and false
    for booleans.
    
    There are two things that concern me about this approach.
    
    The first is that this seems overly concerned about avoiding
    `Datum::Null`s in non-nullable columns. If the column truly won't be
    observed, then there would be no harm in introducing `Datum::Null` in a
    column that is supposed to be non-nullable, because no one will ever
    look at that column. If we're worried that the demand optimizations
    might be buggy at the moment, well, then shouldn't we be worried about
    the fact that we might be blanking out the integers in an observed
    column and silently producing wrong data?
    
    The second is that record types, forthcoming in #3505, cannot correctly
    implement `ScalarType::dummy_datum` with its current signature, as it is
    not possible to construct a dummy datum for a record type with non-zero
    arity. E.g., the natural dummy datum for `record(i32, bool)` would be
    `Datum::List(0, false)`, but this requires an allocation, which is not
    possible given the current signature of ScalarType::dummhy_datum.
    
    So, this commit removes `ScalarType::dummy_datum`. In its place, it
    introduces a new `Datum::Dummy` variant, which can be easly constructed
    anywhere a placeholder datum is required without knowledge of the
    expected type. Crucically, `Datum::Dummy` can never be constructed by a
    user, so seeing a `Datum::Dummy` somewhere is a clear sign that an
    optimization somewhere is misbehaving, and Materialize can just panic.
    
    I believe the new approach is actually more paranoid in ensuring that
    the dummy data is not observed, while also not impeding the
    implementation of record types.
    
    Long term, I think we should endeavor to get rid of dummy datums; they
    seem to be solely a result of optimizer limitations.

commit 679c0ecd0171f81680ceb0a7ffa2eb2fcaf817c4
Author: dependabot-preview[bot] <27856297+dependabot-preview[bot]@users.noreply.github.com>
Date:   Mon Jul 6 10:45:48 2020 +0000

    build(deps): bump protoc-rust from 2.15.0 to 2.16.2
    
    Bumps [protoc-rust](https://github.com/stepancheg/rust-protobuf) from 2.15.0 to 2.16.2.
    - [Release notes](https://github.com/stepancheg/rust-protobuf/releases)
    - [Changelog](https://github.com/stepancheg/rust-protobuf/blob/master/CHANGELOG.md)
    - [Commits](https://github.com/stepancheg/rust-protobuf/compare/v2.15.0...v2.16.2)
    
    Signed-off-by: dependabot-preview[bot] <support@dependabot.com>

commit 5cd610331d8791856fa51ebec34c9865a8881a90
Author: Nikhil Benesch <nikhil.benesch@gmail.com>
Date:   Sat Jul 4 23:12:20 2020 -0400

    sql: support to_jsonb(record)
    
    Fix #2414.

commit 182b60ed0da4d3878c0d56bb8254f3fa6012b789
Author: dependabot-preview[bot] <27856297+dependabot-preview[bot]@users.noreply.github.com>
Date:   Mon Jul 6 15:36:07 2020 +0000

    build(deps): bump timely from `888c81f` to `76e6049`
    
    Bumps [timely](https://github.com/TimelyDataflow/timely-dataflow) from `888c81f` to `76e6049`.
    - [Release notes](https://github.com/TimelyDataflow/timely-dataflow/releases)
    - [Commits](https://github.com/TimelyDataflow/timely-dataflow/compare/888c81f514786c8b1dbfa713f30bd50d8e70234b...76e6049ea87ba753311cbf55016f71a735dd47d1)
    
    Signed-off-by: dependabot-preview[bot] <support@dependabot.com>

commit 7167dfae1f11c0c624a76ece704c55b5182cb75d
Merge: e00d46ed9 75ba23e29
Author: Nikhil Benesch <nikhil.benesch@gmail.com>
Date:   Mon Jul 6 11:08:43 2020 -0400

    Merge pull request #3525 from MaterializeInc/dependabot/cargo/thiserror-1.0.20
    
    build(deps): bump thiserror from 1.0.19 to 1.0.20

commit e00d46ed98ad80573f73f254315f7cad35bfd778
Merge: 6c239d78d 998b630ba
Author: Nikhil Benesch <nikhil.benesch@gmail.com>
Date:   Mon Jul 6 11:08:33 2020 -0400

    Merge pull request #3523 from MaterializeInc/dependabot/cargo/base64-0.12.3
    
    build(deps): bump base64 from 0.12.2 to 0.12.3

commit 6c239d78dc2f0b90f7392c3e12c9380c5378f309
Merge: 0218c4269 f64b8e02f
Author: Nikhil Benesch <nikhil.benesch@gmail.com>
Date:   Mon Jul 6 11:07:30 2020 -0400

    Merge pull request #3522 from MaterializeInc/dependabot/cargo/ordered-float-1.1.0
    
    build(deps): bump ordered-float from 1.0.2 to 1.1.0

commit 0218c4269fe5449aadc6bdea7260952ee09c26f4
Merge: a71a28707 a6b7e2c42
Author: Natacha Crooks <nacrooks@gmail.com>
Date:   Mon Jul 6 11:04:51 2020 -0400

    Merge pull request #3452 from nacrooks/unifybranches
    
    This OR moves the source ingestion code to a common code path.
    
    The code is now split into a create_source method parametrized over the SourceInfo trait. Each source (Kafka, Kinesis, File) should implement the SourceInfo trait. This trait includes methods specific to message ingestion.
    
    The ConsistencyInfo structure now stores all timestamp/capability downgrade information. This is common across sources.
    
    The PR also moves sources to be 1-indexed. I am happy to revisit this if this is problematic.
    
    The PR currently ports the Kafka sources to the common framework. It does not yet port files or kinesis.

commit a71a287075931b77bcfec1a90212c7a9677ae83d
Merge: eee634d5f ffbebeb3b
Author: Nikhil Benesch <nikhil.benesch@gmail.com>
Date:   Mon Jul 6 10:59:54 2020 -0400

    Merge pull request #3520 from MaterializeInc/dependabot/cargo/chrono-0.4.13
    
    build(deps): bump chrono from 0.4.11 to 0.4.13

commit eee634d5f11778e3989638780394f9fc9bc103c6
Merge: 7694b25ed 3ff173462
Author: Nikhil Benesch <nikhil.benesch@gmail.com>
Date:   Mon Jul 6 10:59:30 2020 -0400

    Merge pull request #3519 from MaterializeInc/dependabot/cargo/libflate-1.0.2
    
    build(deps): bump libflate from 1.0.1 to 1.0.2

commit ffbebeb3b7ed7d22426ea9fe66858eb4a13e4451
Author: dependabot-preview[bot] <27856297+dependabot-preview[bot]@users.noreply.github.com>
Date:   Mon Jul 6 14:18:56 2020 +0000

    build(deps): bump chrono from 0.4.11 to 0.4.13
    
    Bumps [chrono](https://github.com/chronotope/chrono) from 0.4.11 to 0.4.13.
    - [Release notes](https://github.com/chronotope/chrono/releases)
    - [Changelog](https://github.com/chronotope/chrono/blob/master/CHANGELOG.md)
    - [Commits](https://github.com/chronotope/chrono/compare/v0.4.11...v0.4.13)
    
    Signed-off-by: dependabot-preview[bot] <support@dependabot.com>

commit 998b630bad7b3cbbdc280137606b93254484faa4
Author: dependabot-preview[bot] <27856297+dependabot-preview[bot]@users.noreply.github.com>
Date:   Mon Jul 6 14:18:06 2020 +0000

    build(deps): bump base64 from 0.12.2 to 0.12.3
    
    Bumps [base64](https://github.com/marshallpierce/rust-base64) from 0.12.2 to 0.12.3.
    - [Release notes](https://github.com/marshallpierce/rust-base64/releases)
    - [Changelog](https://github.com/marshallpierce/rust-base64/blob/master/RELEASE-NOTES.md)
    - [Commits](https://github.com/marshallpierce/rust-base64/compare/v0.12.2...v0.12.3)
    
    Signed-off-by: dependabot-preview[bot] <support@dependabot.com>

commit 7694b25ede565569ce2c649369ab8dbb006267cc
Merge: bed546ae7 cc00fb2b1
Author: Nikhil Benesch <nikhil.benesch@gmail.com>
Date:   Mon Jul 6 10:16:42 2020 -0400

    Merge pull request #3527 from MaterializeInc/dependabot/cargo/tracing-subscriber-0.2.7
    
    build(deps): bump tracing-subscriber from 0.2.6 to 0.2.7

commit bed546ae7276abbbf7cdcada9f109f45dfc3cb94
Merge: 20690a866 68e756a3a
Author: Andi Wang <5522362+wangandi@users.noreply.github.com>
Date:   Mon Jul 6 10:16:15 2020 -0400

    Merge pull request #3510 from wangandi/pullpredicate
    
    Lift project made after CSE.

commit 20690a86691f68ee84547aa2e2ea2cac0e54adca
Merge: 98e5811a5 7931758bd
Author: Nikhil Benesch <nikhil.benesch@gmail.com>
Date:   Mon Jul 6 10:15:55 2020 -0400

    Merge pull request #3528 from MaterializeInc/dependabot/cargo/serde_json-1.0.56
    
    build(deps): bump serde_json from 1.0.55 to 1.0.56

commit a6b7e2c42ea8b754862556df9867bff3fbe7dac3
Author: Natacha Crooks <nacrooks@gmail.com>
Date:   Mon Jun 22 09:21:42 2020 -0400

    Unified framework for sources + ported Kafka sources to framework

commit 7931758bd5021ac66a5dfc884a6e05997e588667
Author: dependabot-preview[bot] <27856297+dependabot-preview[bot]@users.noreply.github.com>
Date:   Mon Jul 6 10:48:01 2020 +0000

    build(deps): bump serde_json from 1.0.55 to 1.0.56
    
    Bumps [serde_json](https://github.com/serde-rs/json) from 1.0.55 to 1.0.56.
    - [Release notes](https://github.com/serde-rs/json/releases)
    - [Commits](https://github.com/serde-rs/json/compare/v1.0.55...v1.0.56)
    
    Signed-off-by: dependabot-preview[bot] <support@dependabot.com>

commit cc00fb2b16fc4ac8b0fa810aa3b6d048065d913b
Author: dependabot-preview[bot] <27856297+dependabot-preview[bot]@users.noreply.github.com>
Date:   Mon Jul 6 10:47:26 2020 +0000

    build(deps): bump tracing-subscriber from 0.2.6 to 0.2.7
    
    Bumps [tracing-subscriber](https://github.com/tokio-rs/tracing) from 0.2.6 to 0.2.7.
    - [Release notes](https://github.com/tokio-rs/tracing/releases)
    - [Commits](https://github.com/tokio-rs/tracing/compare/tracing-subscriber-0.2.6...tracing-subscriber-0.2.7)
    
    Signed-off-by: dependabot-preview[bot] <support@dependabot.com>

commit 75ba23e29139c18482d3ffba02e2ef9aff900d9d
Author: dependabot-preview[bot] <27856297+dependabot-preview[bot]@users.noreply.github.com>
Date:   Mon Jul 6 10:46:24 2020 +0000

    build(deps): bump thiserror from 1.0.19 to 1.0.20
    
    Bumps [thiserror](https://github.com/dtolnay/thiserror) from 1.0.19 to 1.0.20.
    - [Release notes](https://github.com/dtolnay/thiserror/releases)
    - [Commits](https://github.com/dtolnay/thiserror/compare/1.0.19...1.0.20)
    
    Signed-off-by: dependabot-preview[bot] <support@dependabot.com>

commit f64b8e02f74e4149a7c604742a2f9bc347899f74
Author: dependabot-preview[bot] <27856297+dependabot-preview[bot]@users.noreply.github.com>
Date:   Mon Jul 6 10:45:03 2020 +0000

    build(deps): bump ordered-float from 1.0.2 to 1.1.0
    
    Bumps [ordered-float](https://github.com/reem/rust-ordered-float) from 1.0.2 to 1.1.0.
    - [Release notes](https://github.com/reem/rust-ordered-float/releases)
    - [Commits](https://github.com/reem/rust-ordered-float/compare/v1.0.2...v1.1.0)
    
    Signed-off-by: dependabot-preview[bot] <support@dependabot.com>

commit 3ff17346232d07e1c89ca682ffbfb84fd053f8c6
Author: dependabot-preview[bot] <27856297+dependabot-preview[bot]@users.noreply.github.com>
Date:   Mon Jul 6 10:43:36 2020 +0000

    build(deps): bump libflate from 1.0.1 to 1.0.2
    
    Bumps [libflate](https://github.com/sile/libflate) from 1.0.1 to 1.0.2.
    - [Release notes](https://github.com/sile/libflate/releases)
    - [Commits](https://github.com/sile/libflate/compare/1.0.1...1.0.2)
    
    Signed-off-by: dependabot-preview[bot] <support@dependabot.com>

commit 98e5811a5d8f1be49069deb26f4ad1ad5f15ee20
Merge: 903f189d3 b3de771a0
Author: Nikhil Benesch <nikhil.benesch@gmail.com>
Date:   Sat Jul 4 23:11:57 2020 -0400

    Merge pull request #3505 from benesch/record-types-ii
    
    *: support anonymous record types

commit b3de771a0f47d7771056ce1b4f3d1f2e673710ac
Author: Nikhil Benesch <nikhil.benesch@gmail.com>
Date:   Thu Jul 2 02:50:54 2020 -0400

    *: support anonymous record types
    
    This commit introduces anonymous record types, like in the following
    query:
    
        SELECT ROW(1, 2, 3)
    
    This initial implementation includes support for:
    
       * Binary and text encoding for pgwire. Note that decoding is not
         supported, and likely never will be; even Postgres does not support
         decoding anonymous record types.
       * Literal ROW constructor comparisons.
       * Subquery comparison.
       * Field access, e.g. `SELECT (ROW(1, 2, 3)).f1`.
    
    This is likely enough support to build nested Avro types.
    
    Notably, this commit does *not* introduce support for named composite
    types, as in:
    
        CREATE TYPE foo AS (a int, b text)
    
    Many PostgreSQL clients have an easier time with named composite types
    than anonymous record types, so we'll likely need named composite types
    soon. That work is blocked on having consistent catalog views available
    (#2576).
    
    Inadvertently fixes #3179.

commit 903f189d3e4d67468dc289090c7109168dafcec6
Author: Brennan Vincent <brennan@materialize.io>
Date:   Thu Jul 2 17:31:58 2020 -0400

    update sasl2, to fix the build on freebsd (#3511)

commit 68e756a3a83a8ab0f99bb1138fb9abf9f3178575
Author: Andi Wang <andi@materialize.io>
Date:   Thu Jul 2 14:56:31 2020 -0400

    Lift project made after CSE.

commit a78d89c55b8a0757cb976735e9e6050eeda14ad3
Merge: b20d048f1 d0cebf54d
Author: Albert Wang <albert@materialize.io>
Date:   Thu Jul 2 14:12:58 2020 -0400

    Merge pull request #3509 from MaterializeInc/awang-patch-1
    
    fix WITH SNAPSHOT urls

commit d0cebf54d2e55f9f9814ace68c5263624450131f
Author: Albert Wang <albert@materialize.io>
Date:   Thu Jul 2 14:10:10 2020 -0400

    fix WITH SNAPSHOT urls

commit b20d048f10608c76caeab73a7670ffe930e558c6
Merge: 08eb7fb05 c051c1587
Author: Albert Wang <albert@materialize.io>
Date:   Thu Jul 2 13:58:15 2020 -0400

    Merge pull request #3508 from umanwizard/versions
    
    Add v0.3.1 to website and update in-progress version to 0.4.0

commit c051c15879c34dda008346a82cfa8f8fa1d24d14
Author: Brennan Vincent <brennan@materialize.io>
Date:   Thu Jul 2 13:30:14 2020 -0400

    update license file

commit 88fc497932d55344d9cc9240c40062f146cdc482
Author: Brennan Vincent <brennan@materialize.io>
Date:   Thu Jul 2 13:27:55 2020 -0400

    Update version stuff

commit 08eb7fb05aad599a491746e9e64f290c37da3657
Merge: 6d1dec65f cd9bce67b
Author: Albert Wang <albert@materialize.io>
Date:   Thu Jul 2 11:45:39 2020 -0400

    Merge pull request #3507 from MaterializeInc/awang-patch-1
    
    Correct 0.3.1 title so it's in-line with the rest

commit cd9bce67b9bb2291e204fa9ec9da4d46f402ad00
Author: Albert Wang <albert@materialize.io>
Date:   Thu Jul 2 11:21:36 2020 -0400

    Correct 0.3.1 title so it's in-line with the rest

commit 6d1dec65fc9ab10c9f50530673999c7edecae66b
Merge: c0224bf36 6c4a71638
Author: Albert Wang <albert@materialize.io>
Date:   Thu Jul 2 09:46:10 2020 -0400

    Merge pull request #3506 from MaterializeInc/awang-patch-1
    
    Update 0.3.1 release status

commit 6c4a7163810cba026a7236007752d0f3c916ed4c
Author: Albert Wang <albert@materialize.io>
Date:   Thu Jul 2 09:24:49 2020 -0400

    Update release-notes.md

commit c0224bf36d6b1f38d302d76e2c4c86d4b861e4e0
Merge: ebbb108b3 6d1ba22f5
Author: Nikhil Benesch <nikhil.benesch@gmail.com>
Date:   Thu Jul 2 03:34:13 2020 -0400

    Merge pull request #3384 from benesch/no-explain-sql
    
    sql-parser: support EXPLAIN <statement>

commit 6d1ba22f5be65a874dfdcce4cc42058142221c3e
Author: Nikhil Benesch <nikhil.benesch@gmail.com>
Date:   Mon Jun 15 19:07:15 2020 -0400

    sql-parser: support EXPLAIN <statement>
    
    Add support for the PostgreSQL standard "EXPLAIN <statement>" form, in
    addition to our more esoteric "EXPLAIN OPTIMIZED PLAN FOR..." and
    friends.
    
    Also, remove `EXPLAIN SQL`, as it is redundant with `SHOW CREATE VIEW`
    and having two ways to do the same thing is confusing.

commit ebbb108b3501075ff7ed3370b53746b6ca372828
Merge: 59720239a a6bf7df86
Author: Nikhil Benesch <nikhil.benesch@gmail.com>
Date:   Wed Jul 1 23:39:13 2020 -0400

    Merge pull request #3503 from benesch/slt-formatting
    
    sqllogictest: clean up formatting code

commit 59720239a2ebf97002bf2f867d40ff1254d21851
Merge: da1074b80 0f72ec206
Author: Nikhil Benesch <nikhil.benesch@gmail.com>
Date:   Wed Jul 1 23:38:58 2020 -0400

    Merge pull request #3504 from benesch/sql-parser-rebuild
    
    sql-parser: don't rebuild when testdata changes

commit da1074b8064ba628eabb31a94f8da4524fc19473
Merge: ea962966f 5c0764268
Author: Nikhil Benesch <nikhil.benesch@gmail.com>
Date:   Wed Jul 1 23:08:02 2020 -0400

    Merge pull request #3490 from benesch/parse-records
    
    sql-parser: support more record-related things

commit 0f72ec20623ce7d8df737273934693eef30236c6
Author: Nikhil Benesch <nikhil.benesch@gmail.com>
Date:   Wed Jul 1 22:50:56 2020 -0400

    sql-parser: don't rebuild when testdata changes
    
    Mark the testdata as excluded, so that `cargo test` does not need to
    recompile the crate when something in the testdata directory changes.

commit 5c07642689c76ffdff478f339df219302fef2ee2
Author: Nikhil Benesch <nikhil.benesch@gmail.com>
Date:   Mon Jun 29 16:50:08 2020 -0400

    sql-parser: parse record field accesses
    
    Parse syntax like (record).field, which indicates that the field named
    `field` should be extracted from `record`. Note that this is
    syntactically distinct from `record.field`, which names the column named
    `field` from the table named record.
    
    This implementation matches the PostgreSQL approach.

commit a6bf7df86578ba1a14b0303c7c51586dd87eabf6
Author: Nikhil Benesch <nikhil.benesch@gmail.com>
Date:   Wed Jul 1 22:36:18 2020 -0400

    sqllogictest: clean up formatting code
    
    This is just reorganization to eliminate the number of special cases and
    make it easier to see how a given (datum, type) pair will be formatted.

commit 1a323b29752f9e0a9d2def61a419052078124d4d
Author: Nikhil Benesch <nikhil.benesch@gmail.com>
Date:   Mon Jun 29 16:16:34 2020 -0400

    sql-parser: simplify SelectItem ast node
    
    Having both SelectItem::QualifiedWildcard and Expr::QualifiedWildcard
    was confusing and redundant. Just keep Expr::QualifiedWildcard around.
    This simplifes the planning of record expansions, forthcoming in a
    future commit.
    
    Also, merge SelectItem::UnnamedExpr and SelectItem::ExprWithAlias. This
    is a perfect opportunity to use an option type.

commit ea962966f06caafb0b172e0ef8fd270b14e627d2
Merge: 90fdeb8ba dc9b21aad
Author: Nikhil Benesch <nikhil.benesch@gmail.com>
Date:   Wed Jul 1 22:28:19 2020 -0400

    Merge pull request #3495 from benesch/desugar
    
    sql,sql-parser: restructure pre-planning transforms to facilitate record types

commit dc9b21aad90a778d850cca629930cf038e5cd280
Author: Nikhil Benesch <nikhil.benesch@gmail.com>
Date:   Tue Jun 30 02:03:39 2020 -0400

    sql: better organize plan_expr
    
    This is pure code movement.

commit 54446cc2f234ef54b48b7f2f06a89577dcb780ca
Author: Nikhil Benesch <nikhil.benesch@gmail.com>
Date:   Tue Jun 30 01:32:50 2020 -0400

    sql-parser, sql: hoist AST transforms into transform_ast module
    
    Various bits of SQL syntax are just sugar. For example,
    
        <expr> BETWEEN <low> AND <high>
    
    is just sugar for:
    
        <expr> >= low AND <expr> <= high
    
    `IN`, `ANY`, and `ALL` are similar. Hoist our handling of this syntax
    sugar into a new "Desugarer" transformer in the transform_ast module,
    which performs an AST -> AST transformation to rewrite the syntax sugar
    in terms of the more fundamental syntax.
    
    This patch is more than just cosmetic; it paves the way for record types
    (#3376) by ensuring that comparison operations are directly visible as
    `<lhs> <op> <rhs>` and not hidden behind several layers of sugar, so
    that comparisons between ROW constructors can be properly discovered and
    planned.

commit ed855e894a2c20ec1eba43ad06645d5a05e0e399
Author: Nikhil Benesch <nikhil.benesch@gmail.com>
Date:   Tue Jun 30 00:38:45 2020 -0400

    sql: suppress trivial maps, projects, and joins during plan gen
    
    When generating plans, supress trivial maps, projections, and joins.
    This presently has no effect besides (substantially) cleaning up the
    display of unoptimized plans, but will unlock some SQL transformations
    in transform_expr that run before the optimizer does.

commit 30a6a30bf86963eb12c17c03ad1bf75fa9cca609
Author: Nikhil Benesch <nikhil.benesch@gmail.com>
Date:   Mon Jun 29 21:42:21 2020 -0400

    sql,sql-parser: add a builder API to Expr
    
    This makes writing AST transforms much more pleasant.

commit 68c6a1543bf2e1a1a6a18181662727efa2d02210
Author: Nikhil Benesch <nikhil.benesch@gmail.com>
Date:   Mon Jun 29 18:37:44 2020 -0400

    sql-parser: don't track ANY vs. SOME
    
    We don't care about the difference, so just throw it away to simplify
    things some.

commit 90fdeb8baf364eb0eb0e18e1ee0315c313e76762
Merge: 0528c4070 07efe611a
Author: Andi Wang <5522362+wangandi@users.noreply.github.com>
Date:   Wed Jul 1 18:19:55 2020 -0400

    Merge pull request #3498 from wangandi/maintenancemetric
    
    Add metrics to measure time spent in maintenance.

commit 07efe611aa520c8e075f8f2f636ecbe90f1912fc
Author: Andi Wang <andi@materialize.io>
Date:   Wed Jul 1 17:01:02 2020 -0400

    Adjust total maintenance to be in seconds. Rename according to prometheus standards.

commit 0528c4070cd7444cc353badb32bcdc7979504015
Author: Jessica Laughlin <JLDLaughlin@users.noreply.github.com>
Date:   Wed Jul 1 16:20:50 2020 -0400

    Test TAILs on sources with empty frontiers (#3500)
    
    Follow up to #3465

commit d18dc772c46be186a4e6330aac50c83a020533b8
Author: Jessica Laughlin <JLDLaughlin@users.noreply.github.com>
Date:   Wed Jul 1 16:19:59 2020 -0400

    Update Kinesis source permissions docs (#3502)
    
    Update docs to reflect the two different ways that users can provide AWS
    credentials for Kinesis sources: 1) Rusoto's ChainProvider (by default) or
    2) static information of an IAM account.

commit 8a57a9af6df76ee3b9532f4eaf2c18d6476b2b92
Merge: 5e836c933 fe965ea97
Author: Justin Jaffray <justin.jaffray@gmail.com>
Date:   Wed Jul 1 15:29:30 2020 -0400

    Merge pull request #3456 from justinj/ts-2
    
    Change how the coordinator assigns timestamps

commit 5e836c933d15c6ad362f7819e6343810821cb47d
Merge: 955169458 25a859b8e
Author: Nikhil Benesch <nikhil.benesch@gmail.com>
Date:   Wed Jul 1 13:52:03 2020 -0400

    Merge pull request #3499 from benesch/convert-from
    
    test: add SLTs for convert_from

commit fe965ea9797af2be4c29c25a6818f17a41ccb744
Author: Justin Jaffray <justin.jaffray@gmail.com>
Date:   Mon Jun 22 16:28:28 2020 -0400

    Change how the coordinator assigns timestamps
    
    Based on some discussions with Frank. Still kind of a WIP, since there's
    a handful of things I'm unsure about.
    
    First of all, it seems sketchy that there's no guarantee that a
    timestamp we assign for a read will get closed in the future, but
    perhaps in practice that's not a problem.
    
    Second of all, this seems to slow down the running of the logic tests,
    on my laptop they go from 12s to 17s, and I'm not really sure of the
    culprit, but posting this here in case there's anything glaringly
    obviously wrong.

commit 25a859b8e07ec34ad74b39e9dcd6c62927b85fc5
Author: Nikhil Benesch <nikhil.benesch@gmail.com>
Date:   Wed Jul 1 12:29:45 2020 -0400

    test: add SLTs for convert_from
    
    Also fix a nullability bug this exposed.
    
    Fix #2281.

commit 7fa671980ca0a67e60795f1006036c9e418d0107
Author: Andi Wang <andi@materialize.io>
Date:   Wed Jul 1 10:01:33 2020 -0400

    Add metrics to measure time spent in maintenance.

commit 9551694587a4c070626975517e44d808cb891332
Author: Jessica Laughlin <JLDLaughlin@users.noreply.github.com>
Date:   Tue Jun 30 15:01:21 2020 -0400

    Parse unsupported SELECT AS OF (#3493)

commit 3489b5c5ea85ba6e286bf801636a320c0167634a
Author: Brandon W Maister <bwm@materialize.io>
Date:   Tue Jun 30 10:41:33 2020 -0400

    Update rust-prometheus to latest upstream (#3497)
    
    Resolves #3485

commit 24360393783ca1611ac309863e314ea1898597b9
Author: Brandon W Maister <bwm@materialize.io>
Date:   Tue Jun 30 09:34:14 2020 -0400

    Add a script and docs for updating dashboard from grafana.mz (#3492)
    
    Part of #3485 , since it includes the fix for the histogram.

commit 72bd9e9710ff8d188e1788e6c4e7c36a82d95bb3
Merge: 597fc6771 85bed73e8
Author: Brandon W Maister <bwm@materialize.io>
Date:   Tue Jun 30 09:33:11 2020 -0400

    Merge pull request #3491 from quodlibetor/rename-threads-workers
    
    Rename interface from threads -> workers

commit 597fc67712fcb2315e621df2ec4af806d266f860
Author: Brandon W Maister <bwm@materialize.io>
Date:   Tue Jun 30 09:32:41 2020 -0400

    Remove expose_decumulated from histograms (#3494)
    
    Part of #3485

commit a445109cd4aaa48a6fe02d3d08a0573b57e96fe5
Author: Jessica Laughlin <JLDLaughlin@users.noreply.github.com>
Date:   Mon Jun 29 20:09:08 2020 -0400

    Add CREATE SINK updates to release notes (#3487)
    
    Includes information about AS OF and WITH/WITHOUT SNAPSHOT arguments.

commit b262b12783b4e28ed201b8841f80f55640fa8cce
Merge: 5b4edb4d4 3c90a735a
Author: Sean Loiselle <sean@materialize.io>
Date:   Mon Jun 29 19:00:50 2020 -0400

    Merge pull request #3472 from sploiselle/list-pg-similarity
    
    parser: support for ARRAY-like syntax for LIST

commit 85bed73e8775cf1f7775b92f1bd23882ca7f7cb8
Author: Brandon W Maister <bwm@materialize.io>
Date:   Mon Jun 29 17:27:20 2020 -0400

    Rename MZ_THREADS -> MZ_WORKERS
    
    Note that this does *not* rename the env vars in the mzcompose files, since we need to
    migrate our infrastructure to set the new variable.

commit fe9a62d04f3602cb2efed324930335af62d2d1cf
Author: Brandon W Maister <bwm@materialize.io>
Date:   Mon Jun 29 17:22:03 2020 -0400

    Rename `--threads` -> `--workers`
    
    It doesn't limit the number of threads that materialized may spin up.

commit 5b4edb4d4ab4becaf261ec653f5acac314b3f0aa
Merge: 88a47cdbe a5f4a6bb6
Author: Brandon W Maister <bwm@materialize.io>
Date:   Mon Jun 29 17:44:43 2020 -0400

    Merge pull request #3489 from quodlibetor/billing-mzcompose
    
    billing-demo: Correctly inherit MZ_THREADS

commit a5f4a6bb6866e2825db21421cafc3e8c8344f5d2
Author: Brandon W Maister <bwm@materialize.io>
Date:   Mon Jun 29 17:05:03 2020 -0400

    billing-demo: Add non-cloud load-test workflow
    
    Also support setting the number of messages that we send to kafka via an env var, and
    default the non-cloud demo to a number of messages that is less likely to completely hose
    a developer's machine.

commit 8807fb6bfbe5844ea2fc18ed82af145ec710ea9e
Author: Brandon W Maister <bwm@materialize.io>
Date:   Mon Jun 29 17:01:29 2020 -0400

    billing-mzcompose: correctly inheret MZ_THREADS

commit 3c90a735a72a6b48558c39a30fe6d98d04f20d74
Author: sploiselle <sean@materialize.io>
Date:   Sun Jun 28 17:57:51 2020 -0400

    sql: make LIST's syntax more like PG ARRAY's

commit 88a47cdbef3accbf2158eb6cb6fbf5cbdc1d49da
Merge: ba4a925e1 092a7f390
Author: Nikhil Benesch <nikhil.benesch@gmail.com>
Date:   Mon Jun 29 15:45:18 2020 -0400

    Merge pull request #3397 from benesch/no-crashy
    
    interchange: fix Avro record field name invention

commit ba4a925e13abbe84fb66de6b36900650e9250451
Merge: c633c82a5 38d009e8f
Author: Nikhil Benesch <nikhil.benesch@gmail.com>
Date:   Mon Jun 29 15:30:33 2020 -0400

    Merge pull request #3399 from benesch/subquery-comparison
    
    sql: fix comparison semantics for NULL with ANY and ALL

commit 092a7f390412bdd2f77b42bdc37c535a5d41e70b
Author: Nikhil Benesch <nikhil.benesch@gmail.com>
Date:   Wed Jun 17 12:08:12 2020 -0400

    interchange: fix Avro record field name invention
    
    The Avro encoder was going to a good bit of trouble to invent field
    names for unnamed columns, but it was accidentally building the Avro
    schema before it had invented the column names. Reorder the steps to fix
    the bug, and tweak the types inovled to avoid such bugs in the future.
    
    Also, tweak the column numbering to start from 1, to be consistent with
    other places where we invent column names.

commit c633c82a5d59e0ac0e76a9cf3ca0b7e897a4d38a
Author: Jessica Laughlin <JLDLaughlin@users.noreply.github.com>
Date:   Mon Jun 29 14:12:37 2020 -0400

    CREATE SINK .. AS OF (#3467)
    
    Updates the CREATE SINK syntax to take two new optional arguments: AS OF
    and WITH/WITHOUT SNAPSHOT. If provided, sinks will only emit data from the
    AS OF timestamp onwards. By default, sinks will be created WITH SNAPSHOT,
    unless otherwise indicated.

commit 38d009e8f354d4a127a75b4ae2cb7c90f86f03b1
Author: Nikhil Benesch <nikhil.benesch@gmail.com>
Date:   Wed Jun 17 15:17:17 2020 -0400

    sql: fix comparison semantics for NULL with ANY and ALL
    
    The transformation of IN/ALL/ANY => EXISTS is only valid when both the
    LHS and RHS are non-nullable, or when the IN/ALL/ANY clause appears
    directly in a WHERE clause. The existing code was only guarded on
    whether the right column was non-nullable.
    
    This commit also moves the transformation to a later stage in the
    pipeline, after planning but before decorrelation. This makes it
    possible to spot when IN/ALL/ANY occurs directly inside of a filter when
    nullability does not need to be taken into account. The new
    transformation is unfortunately a bit harder to read, largely thanks to Rust pattern
    matching struggles.
    
    Note that this change introduced a regression in Q16 of chbench, which
    is a NOT IN query where the LHS is nullable but the RHS is non-nullable.
    This would seem to require a special null-aware antijoin operator, which
    we don't particularly want to introduce at this moment; luckily, we
    think the chbench schema intended for the LHS to be non-nullable (it is
    in vanilla TPCH), and so this commit just applies that change to the
    chbench schema.
    
    Note that this commit presently introduces some regressions, but those
    will be resolved once #3449 lands and we can add more aggressive
    reduction of the IS NULL operator.
    
    Fix #3319.

commit 6c2776a96aafaf1d2149146de8b7635ac6527118
Merge: d25424490 fff8c89e7
Author: Nikhil Benesch <nikhil.benesch@gmail.com>
Date:   Mon Jun 29 12:09:19 2020 -0400

    Merge pull request #3479 from MaterializeInc/dependabot/cargo/serde_json-1.0.55
    
    build(deps): bump serde_json from 1.0.53 to 1.0.55

commit d254244900b34a8752de0044b51a6cd7742b81b2
Merge: 887983cb0 bb7cd8ed9
Author: Natacha Crooks <nacrooks@gmail.com>
Date:   Mon Jun 29 11:27:45 2020 -0400

    Merge pull request #3483 from nacrooks/partitionfix
    
    Fixing off-by-one error in partition creation count
    
    Upon receiving a real-time update of N partitions from the timestamped, a real-time source must ensure that it has created all partitions up to N-1, as Kafka assigns partitions IDs contiguously, starting from 0.

commit fff8c89e7a57fb5b2b41183c3c605d856ad50705
Author: dependabot-preview[bot] <27856297+dependabot-preview[bot]@users.noreply.github.com>
Date:   Mon Jun 29 14:34:35 2020 +0000

    build(deps): bump serde_json from 1.0.53 to 1.0.55
    
    Bumps [serde_json](https://github.com/serde-rs/json) from 1.0.53 to 1.0.55.
    - [Release notes](https://github.com/serde-rs/json/releases)
    - [Commits](https://github.com/serde-rs/json/compare/v1.0.53...v1.0.55)
    
    Signed-off-by: dependabot-preview[bot] <support@dependabot.com>

commit 887983cb0a05dbdd1b19e18f1f0a060a94eb3aee
Merge: afe320c23 6568e9cc9
Author: Nikhil Benesch <nikhil.benesch@gmail.com>
Date:   Mon Jun 29 10:33:59 2020 -0400

    Merge pull request #3475 from MaterializeInc/dependabot/cargo/bincode-1.3.1
    
    build(deps): bump bincode from 1.2.1 to 1.3.1

commit afe320c237338a9fc07cb63516b7b90bf5b28cc9
Merge: b1568ced8 de185ff97
Author: Nikhil Benesch <nikhil.benesch@gmail.com>
Date:   Mon Jun 29 10:33:32 2020 -0400

    Merge pull request #3481 from MaterializeInc/dependabot/cargo/timely-888c81f
    
    build(deps): bump timely from `e37923d` to `888c81f`

commit b1568ced8f7d56eb864a2131148c5b01b0165f92
Merge: 07af3bacc e76743bef
Author: Nikhil Benesch <nikhil.benesch@gmail.com>
Date:   Mon Jun 29 10:32:57 2020 -0400

    Merge pull request #3482 from MaterializeInc/dependabot/cargo/prometheus-static-metric-6ccb92e
    
    build(deps): bump prometheus-static-metric from `9a1ba74` to `6ccb92e`

commit 07af3bacca3436a90ed9e267d447acd642d2f2c4
Merge: cd9355929 cc5e95bbc
Author: Nikhil Benesch <nikhil.benesch@gmail.com>
Date:   Mon Jun 29 10:32:29 2020 -0400

    Merge pull request #3477 from MaterializeInc/dependabot/cargo/whoami-0.9.0
    
    build(deps): bump whoami from 0.8.2 to 0.9.0

commit cd9355929fd45f3e17026afb3cfb35ec319de604
Merge: 44a9f7c09 fede0a048
Author: Nikhil Benesch <nikhil.benesch@gmail.com>
Date:   Mon Jun 29 10:32:05 2020 -0400

    Merge pull request #3476 from MaterializeInc/dependabot/cargo/aho-corasick-0.7.13
    
    build(deps): bump aho-corasick from 0.7.10 to 0.7.13

commit 44a9f7c092b8c8a56244e29d71e056fcc48d8f2f
Merge: 9cb49aa49 0cbe3f133
Author: Nikhil Benesch <nikhil.benesch@gmail.com>
Date:   Mon Jun 29 10:30:04 2020 -0400

    Merge pull request #3474 from MaterializeInc/dependabot/cargo/openssl-0.10.30
    
    build(deps): bump openssl from 0.10.29 to 0.10.30

commit 9cb49aa49e09cb3187ce0e6f767b9b0645dff634
Merge: c618f966f 423126681
Author: Nikhil Benesch <nikhil.benesch@gmail.com>
Date:   Mon Jun 29 10:29:51 2020 -0400

    Merge pull request #3473 from MaterializeInc/dependabot/cargo/tracing-subscriber-0.2.6
    
    build(deps): bump tracing-subscriber from 0.2.5 to 0.2.6

commit bb7cd8ed9f7d8f638042d02bfdc7e517bd075035
Author: Natacha Crooks <nacrooks@gmail.com>
Date:   Mon Jun 29 09:46:30 2020 -0400

    Fixing off-by-one error in partition creation count

commit e76743befe58eb83c760195270feabaf4f30dc8a
Author: dependabot-preview[bot] <27856297+dependabot-preview[bot]@users.noreply.github.com>
Date:   Mon Jun 29 11:27:40 2020 +0000

    build(deps): bump prometheus-static-metric from `9a1ba74` to `6ccb92e`
    
    Bumps [prometheus-static-metric](https://github.com/MaterializeInc/rust-prometheus) from `9a1ba74` to `6ccb92e`.
    - [Release notes](https://github.com/MaterializeInc/rust-prometheus/releases)
    - [Commits](https://github.com/MaterializeInc/rust-prometheus/compare/9a1ba74a7bc64db614a8526180ccdf0fa2c9931b...6ccb92ec25f2c126c4e06f27d5c3f29f2aa26ec9)
    
    Signed-off-by: dependabot-preview[bot] <support@dependabot.com>

commit de185ff978ef426a8c337b06c581fec9c242802f
Author: dependabot-preview[bot] <27856297+dependabot-preview[bot]@users.noreply.github.com>
Date:   Mon Jun 29 11:25:07 2020 +0000

    build(deps): bump timely from `e37923d` to `888c81f`
    
    Bumps [timely](https://github.com/TimelyDataflow/timely-dataflow) from `e37923d` to `888c81f`.
    - [Release notes](https://github.com/TimelyDataflow/timely-dataflow/releases)
    - [Commits](https://github.com/TimelyDataflow/timely-dataflow/compare/e37923d78133501006310bae022cec7ebe41dffe...888c81f514786c8b1dbfa713f30bd50d8e70234b)
    
    Signed-off-by: dependabot-preview[bot] <support@dependabot.com>

commit cc5e95bbc2dd83b816028c05ef6c56328219ffd5
Author: dependabot-preview[bot] <27856297+dependabot-preview[bot]@users.noreply.github.com>
Date:   Mon Jun 29 11:19:04 2020 +0000

    build(deps): bump whoami from 0.8.2 to 0.9.0
    
    Bumps [whoami](https://github.com/libcala/whoami) from 0.8.2 to 0.9.0.
    - [Release notes](https://github.com/libcala/whoami/releases)
    - [Changelog](https://github.com/libcala/whoami/blob/master/CHANGELOG.md)
    - [Commits](https://github.com/libcala/whoami/compare/v0.8.2...v0.9.0)
    
    Signed-off-by: dependabot-preview[bot] <support@dependabot.com>

commit fede0a048c4c16dad98aababa83b8f512b4d1d95
Author: dependabot-preview[bot] <27856297+dependabot-preview[bot]@users.noreply.github.com>
Date:   Mon Jun 29 11:18:15 2020 +0000

    build(deps): bump aho-corasick from 0.7.10 to 0.7.13
    
    Bumps [aho-corasick](https://github.com/BurntSushi/aho-corasick) from 0.7.10 to 0.7.13.
    - [Release notes](https://github.com/BurntSushi/aho-corasick/releases)
    - [Commits](https://github.com/BurntSushi/aho-corasick/compare/0.7.10...0.7.13)
    
    Signed-off-by: dependabot-preview[bot] <support@dependabot.com>

commit 6568e9cc91ef27ebacda37cb14c0de3319caa3a9
Author: dependabot-preview[bot] <27856297+dependabot-preview[bot]@users.noreply.github.com>
Date:   Mon Jun 29 11:17:33 2020 +0000

    build(deps): bump bincode from 1.2.1 to 1.3.1
    
    Bumps [bincode](https://github.com/servo/bincode) from 1.2.1 to 1.3.1.
    - [Release notes](https://github.com/servo/bincode/releases)
    - [Commits](https://github.com/servo/bincode/commits)
    
    Signed-off-by: dependabot-preview[bot] <support@dependabot.com>

commit 0cbe3f133e00a5d6595571aa87cb437ed6c8d755
Author: dependabot-preview[bot] <27856297+dependabot-preview[bot]@users.noreply.github.com>
Date:   Mon Jun 29 11:16:27 2020 +0000

    build(deps): bump openssl from 0.10.29 to 0.10.30
    
    Bumps [openssl](https://github.com/sfackler/rust-openssl) from 0.10.29 to 0.10.30.
    - [Release notes](https://github.com/sfackler/rust-openssl/releases)
    - [Commits](https://github.com/sfackler/rust-openssl/compare/openssl-v0.10.29...openssl-v0.10.30)
    
    Signed-off-by: dependabot-preview[bot] <support@dependabot.com>

commit 423126681d8267e87514bf80b4c183955f726702
Author: dependabot-preview[bot] <27856297+dependabot-preview[bot]@users.noreply.github.com>
Date:   Mon Jun 29 11:15:18 2020 +0000

    build(deps): bump tracing-subscriber from 0.2.5 to 0.2.6
    
    Bumps [tracing-subscriber](https://github.com/tokio-rs/tracing) from 0.2.5 to 0.2.6.
    - [Release notes](https://github.com/tokio-rs/tracing/releases)
    - [Commits](https://github.com/tokio-rs/tracing/compare/tracing-subscriber/-0.2.5...tracing-subscriber-0.2.6)
    
    Signed-off-by: dependabot-preview[bot] <support@dependabot.com>

commit c618f966f73fb7c2a81380d4deb7383ac3e078b8
Merge: 649375a0c 7617777b0
Author: Nikhil Benesch <nikhil.benesch@gmail.com>
Date:   Fri Jun 26 19:40:43 2020 -0400

    Merge pull request #3470 from benesch/sasl2-sys
    
    deps: upgrade to sasl2-sys v0.1.10

commit 7617777b0d06537db1e380ede0227d94b45147cf
Author: Nikhil Benesch <nikhil.benesch@gmail.com>
Date:   Fri Jun 26 16:43:13 2020 -0400

    deps: upgrade to sasl2-sys v0.1.10

commit 649375a0c3467cb0c61c53475662118da90e674d
Merge: b40d1c924 3116e0965
Author: Sean Loiselle <sean@materialize.io>
Date:   Fri Jun 26 09:38:38 2020 -0400

    Merge pull request #3464 from sploiselle/show-create-index
    
    sql: add SHOW CREATE INDEX

commit b40d1c9244813db2547f9f4d4379b4b11f361f28
Author: Jessica Laughlin <JLDLaughlin@users.noreply.github.com>
Date:   Thu Jun 25 18:14:44 2020 -0400

    Fix TAIL frontier bug (#3465)
    
    When determining the frontier for a TailSinkConnector, if the index of the TAIL's source has an empty
    upper frontier, replace that frontier with Timestamp::max_value(). This ensures that all tuples are
    emitted.

commit 40b3321d5729788bc3e56c611f87f68b1b40f530
Merge: 6bf42a1ef 6920f8aa2
Author: Albert Wang <albert@materialize.io>
Date:   Thu Jun 25 13:57:11 2020 -0400

    Merge pull request #3463 from MaterializeInc/awang-add-tb
    
    explain how to use Materialize without Kafka

commit 6920f8aa268133ee5e9199fc2349dca42b53a456
Author: Albert Wang <albert@materialize.io>
Date:   Thu Jun 25 13:40:06 2020 -0400

    clarify how tb works

commit 3116e096581e1d42570676b927b4a269b9616d9a
Author: sploiselle <sean@materialize.io>
Date:   Thu Jun 25 13:33:32 2020 -0400

    sql: add SHOW CREATE INDEX

commit 6bf42a1ef1c5f2798294f58818086ee6406afe73
Merge: d25cf9054 583aeed32
Author: Albert Wang <albert@materialize.io>
Date:   Thu Jun 25 13:24:03 2020 -0400

    Merge pull request #3462 from MaterializeInc/awang-patch-1
    
    mention how to get the latest developer builds

commit 583aeed327a49c23f0b25289cb569a5199558b7c
Author: Albert Wang <albert@materialize.io>
Date:   Thu Jun 25 13:18:23 2020 -0400

    remove trailing whitespace

commit d25cf90548c816f9ce9486087ba8b50313265daf
Merge: 026ba0034 c46e9f055
Author: Jessica Laughlin <JLDLaughlin@users.noreply.github.com>
Date:   Thu Jun 25 11:53:22 2020 -0400

    Chaos README (#3454)

commit d57411a22797fb15ac1cd152c490a30ff7e7918c
Author: Albert Wang <albert@materialize.io>
Date:   Thu Jun 25 11:00:57 2020 -0400

    Update debezium.md

commit bb0dfdf4286e95ac078b4b262d76ec4bd53d599b
Author: Albert Wang <albert@materialize.io>
Date:   Thu Jun 25 10:58:14 2020 -0400

    Update debezium.md

commit 686ba98292caba85174b09a5979a1946f24b30b2
Author: Albert Wang <albert@materialize.io>
Date:   Thu Jun 25 10:57:53 2020 -0400

    Update debezium.md

commit 7faad5fa0c02d6257eb21dd5400c3eb97c385af4
Author: Albert Wang <albert@materialize.io>
Date:   Thu Jun 25 10:55:25 2020 -0400

    Add mention of tb

commit c4b323f54da8efd87eedb6575765abff72e14b5d
Author: Albert Wang <albert@materialize.io>
Date:   Thu Jun 25 10:40:28 2020 -0400

    mention how to get the latest developer builds

commit 026ba0034cc301fe4943c271958ab00e40122af3
Author: Jessica Laughlin <JLDLaughlin@users.noreply.github.com>
Date:   Wed Jun 24 15:05:39 2020 -0400

    Update TAIL to use a SNAPSHOT by default (#3460)
    
    By default, each TAIL will be created with a SNAPSHOT which contains the results of the query
    at its AS OF timestamp. Users can opt out of the default behavior by adding WITHOUT SNAPSHOT
    to their TAIL command.

commit 83cef77e2acb69e6f379ab191da45a4e6227445a
Author: Jessica Laughlin <JLDLaughlin@users.noreply.github.com>
Date:   Wed Jun 24 12:47:43 2020 -0400

    Add unimplemented AS OF to CREATE SINK (#3459)
    
    Adds optional AS OF and WITH/WITHOUT SNAPSHOT arguments to the CREATE SINK
    syntax, leaving both unimplemented.

commit 9f42beae3818e499ea0ba12beefafbed26e62bbe
Merge: 858e6f041 57ae6b335
Author: Natacha Crooks <nacrooks@gmail.com>
Date:   Wed Jun 24 10:55:25 2020 -0400

    Merge pull request #3413 from nacrooks/rtremoval
    
    Clean up RT Timestamping
    
    1) removes the RT timestamping code path. All RT sources now assign timestamps locally.
    2) moves necessary metadatata requests (for partition discovery) back to the timestamped. This further reduces the number of metadata requests done and makes it independent of the number of workers.
    removes the persistence of timestamps codepath as it is no longer used (and no longer usable as we removed metadata requests)
    3) renames the TimestampChannel and TimestampHistory data structures to more semantically meaningful TimestampDataUpdate and TimestampMetadataUpdate structures. The code now distinguishes (unfortunately) between RealTime updates and BYO updates.

commit 858e6f041ba1530b38d7e0e79114fff36ae5b96a
Merge: b0d78b4c0 414e47b34
Author: Nikhil Benesch <nikhil.benesch@gmail.com>
Date:   Wed Jun 24 10:23:42 2020 -0400

    Merge pull request #3391 from benesch/scoping
    
    sql: clean up interface warts

commit 414e47b3459f27babb1bf3b9d2b4874ca90b93f6
Author: Nikhil Benesch <nikhil.benesch@gmail.com>
Date:   Tue Jun 16 01:11:31 2020 -0400

    sql: get rid of type hints
    
    Now that we have proper coercion of function and operator arguments,
    type hints are no longer necessary. Every caller that provides a type
    hint immediately checks that the planned type matches the type hint;
    just wrap that pattern up into a new interface.

commit 5f2901f6e4791be6bfc4d1d06d76843e055cb2a3
Author: Nikhil Benesch <nikhil.benesch@gmail.com>
Date:   Tue Jun 16 00:55:23 2020 -0400

    sql: move coercion and casting to new typeconv module
    
    Originally suggested by @sploiselle. The typeconv module subsumes the
    existing cast module and incorporates more of the casting and coercion
    logic.

commit 260d5921b40be841082bc718432166f80af9863e
Author: Nikhil Benesch <nikhil.benesch@gmail.com>
Date:   Tue Jun 16 00:41:20 2020 -0400

    sql: split expr planning and naming
    
    Inventing a name for an expression is much cleaner if it occurs
    separately from planning an expression, and in only the contexts that
    need it.

commit 57ae6b335c874e7bc2821cfe7864e3856e51d3be
Author: Natacha Crooks <nacrooks@gmail.com>
Date:   Mon Jun 15 16:56:55 2020 -0400

    Timestamping code refactor
    1) removal of dead RT code
    2) timestamper becomes responsible for metadata requests to minimise
    load
    3) move some datastructures into cleaner enums

commit b0d78b4c0eebbac3343d63b56137ec27a1adb5d3
Author: Frank McSherry <fmcsherry@me.com>
Date:   Tue Jun 23 12:00:20 2020 -0400

    Introduce a deterministic order to enumerate dataflow imports. (#3453)
    
    We were using hashmaps to determine the order in which we imported sources and indexes into dataflows. This can be non-deterministic, so we shouldn't do that. This manifested in #3448, and it is possible that with single-process the hashmaps were effectively cloned, whereas when serialization gets involved they naturally end up in different maps with different random seeds.

commit 189b2ef936e0b2e8c6205159e10cfafba83c441a
Merge: b580fd54f 810d622ac
Author: Jessica Laughlin <JLDLaughlin@users.noreply.github.com>
Date:   Tue Jun 23 10:55:03 2020 -0400

    Query chaos rows using limit, offset (#3451)
    
    Update final query of bytes-to-kafka chaos test to paginate through rows instead
    of attempting to read them all at once

commit 810d622ace7a33a30d1a96ec0419c3ff49ba65a2
Author: JLDLaughlin <jessica@materialize.io>
Date:   Tue Jun 23 10:37:48 2020 -0400

    Increment offset by row len

commit c46e9f055c569565fb377209321db35d74387ede
Author: JLDLaughlin <jessica@materialize.io>
Date:   Tue Jun 23 10:17:21 2020 -0400

    Lint

commit 1cc32979b2009b4abddc63820bb08866ad02dc06
Author: JLDLaughlin <jessica@materialize.io>
Date:   Tue Jun 23 10:15:44 2020 -0400

    Chaos README

commit 89bb486f1f02646056124122aecfa7c683db54bc
Author: JLDLaughlin <jessica@materialize.io>
Date:   Tue Jun 23 10:03:30 2020 -0400

    Query final chaos results in batches

commit b580fd54f0a27a869f8bb8ec032155cdcad9b937
Author: Brennan Vincent <brennan@materialize.io>
Date:   Tue Jun 23 09:46:54 2020 -0400

    Properly suppress systemctl output in .deb postinstall script

commit c1d88f778912c94e1e4e8f97303fe3a2073da8ce
Author: Ruchir Khaitan <ruchir0001@gmail.com>
Date:   Mon Jun 22 22:22:06 2020 -0400

    dataflow: shut down sinks after irrecoverable errors (#3419)
    
    Closes #1539

commit 1bdf71c80348e29bb49c2e1f9724518012627778
Author: Brennan Vincent <brennan@materialize.io>
Date:   Mon Jun 22 17:54:59 2020 -0400

    update expected v0.3.2 release date (#3446)

commit a5dbabec2d909b9d2e439cb4f4e53e5de1ac6bd7
Merge: 8aafb6783 4aaf7bb0f
Author: Jessica Laughlin <JLDLaughlin@users.noreply.github.com>
Date:   Mon Jun 22 17:40:48 2020 -0400

    Fix netem docker exec commands (#3447)
    
    Remove the interactive (-i) flag in order to be spun up via terraform

commit 4aaf7bb0f66dca41d62aa09553aefad8d2bcd0a9
Author: JLDLaughlin <jessica@materialize.io>
Date:   Mon Jun 22 17:37:18 2020 -0400

    Fix netem docker exec commands

commit 8aafb67834fe11175447080da09b2fdea2c73225
Merge: 35ce382b3 494cebcca
Author: Nikhil Benesch <nikhil.benesch@gmail.com>
Date:   Mon Jun 22 17:32:28 2020 -0400

    Merge pull request #3406 from benesch/sql-reorg
    
    sql: prepare for additional IR transformations

commit 35ce382b33e229ef2a3be4150df1ca456a07d429
Author: Brennan Vincent <brennan@materialize.io>
Date:   Mon Jun 22 17:28:52 2020 -0400

    Suppress errors from systemcol (#3445)
    
    Fixes #3390

commit 0e32dd700b440706472fbae90f0255a297cb3d5d
Merge: 77e65e151 7f4fc43f1
Author: Nikhil Benesch <nikhil.benesch@gmail.com>
Date:   Mon Jun 22 15:26:53 2020 -0400

    Merge pull request #3429 from benesch/parser-overflow
    
    sql-parser: try harder to avoid stack overflow

commit 77e65e1514260825682f7e28a6e5ba3a4515e469
Merge: 9a10755bf 0b7908360
Author: Nikhil Benesch <nikhil.benesch@gmail.com>
Date:   Mon Jun 22 15:08:57 2020 -0400

    Merge pull request #3439 from MaterializeInc/dependabot/cargo/protoc-rust-2.15.0
    
    build(deps): bump protoc-rust from 2.14.0 to 2.15.0

commit 7f4fc43f1a022bad8648954db4030d72cbc42a24
Author: Nikhil Benesch <nikhil.benesch@gmail.com>
Date:   Fri Jun 19 21:41:05 2020 -0400

    sql-parser: avoid stack overflow
    
    Automatically grow the stack in the SQL parser to avoid stack overflow.
    Also enforce a maximum amount of recursion, just to have *some* limit.
    
    Fix #3424.

commit 0b790836069ef6416a14dcaa28ff0a11a741825e
Author: dependabot-preview[bot] <27856297+dependabot-preview[bot]@users.noreply.github.com>
Date:   Mon Jun 22 17:48:52 2020 +0000

    build(deps): bump protoc-rust from 2.14.0 to 2.15.0
    
    Bumps [protoc-rust](https://github.com/stepancheg/rust-protobuf) from 2.14.0 to 2.15.0.
    - [Release notes](https://github.com/stepancheg/rust-protobuf/releases)
    - [Changelog](https://github.com/stepancheg/rust-protobuf/blob/master/CHANGELOG.md)
    - [Commits](https://github.com/stepancheg/rust-protobuf/compare/v2.14.0...v2.15.0)
    
    Signed-off-by: dependabot-preview[bot] <support@dependabot.com>

commit 9a10755bf4636698e66b6dd62c177ace333b1372
Merge: b5bd1cab2 f21931b10
Author: Nikhil Benesch <nikhil.benesch@gmail.com>
Date:   Mon Jun 22 13:45:40 2020 -0400

    Merge pull request #3421 from benesch/view-desc
    
    coord,sql: don't present unoptimized RelationDesc

commit b5bd1cab294dcb76bd2e441f948a89a6f55311dd
Merge: 3033c75d4 76a3813ae
Author: Nikhil Benesch <nikhil.benesch@gmail.com>
Date:   Mon Jun 22 13:45:26 2020 -0400

    Merge pull request #3444 from benesch/rust-144
    
    rust-toolchain: upgrade to rust 1.44.1

commit f21931b10adc37cfc6004fa56fcd19d306add1b0
Author: Nikhil Benesch <nikhil.benesch@gmail.com>
Date:   Fri Jun 19 12:02:22 2020 -0400

    coord,sql: don't present unoptimized RelationDesc
    
    We've been bitten several times by the fact that sql::plan::View
    presents a RelationDesc for the unoptimized plan. This RelationDesc is
    the only source of column names for the view, but duplicates the type
    information from the RelationExpr; optimizing the RelationExpr requires
    a delicate dance to construct a new RelationDesc with the same column
    names but updated types, which several code paths have historically
    mishandled.
    
    This commit changes sql::plan::View to contain a Vec<ColumnName> instead
    of a RelationDesc. This forces the coord layer to produce a RelationDesc
    if it needs one, which will hopefully make it harder to use the types
    from the unoptimized plan.

commit 76a3813ae01e58aecf87212df2e73cbddf27cf30
Author: Nikhil Benesch <nikhil.benesch@gmail.com>
Date:   Mon Jun 22 12:47:44 2020 -0400

    rust-toolchain: upgrade to rust 1.44.1
    
    The latest version of protoc-rust requires Rust 1.44.1.

commit 3033c75d4997bcd0bd7561cab51cfcdca49c100f
Merge: ed9ab0066 0cf00627b
Author: Nikhil Benesch <nikhil.benesch@gmail.com>
Date:   Mon Jun 22 12:44:17 2020 -0400

    Merge pull request #3436 from MaterializeInc/dependabot/cargo/structopt-0.3.15
    
    build(deps): bump structopt from 0.3.14 to 0.3.15

commit ed9ab0066f9edc561b1960c8a4d2d72e372d308e
Merge: 9444e9407 b4a93b322
Author: Nikhil Benesch <nikhil.benesch@gmail.com>
Date:   Mon Jun 22 12:44:08 2020 -0400

    Merge pull request #3437 from MaterializeInc/dependabot/cargo/serde-1.0.114
    
    build(deps): bump serde from 1.0.112 to 1.0.114

commit 9444e9407c0cbeb596c0450185c767e458a33aa6
Merge: 9d0e4c11f 277367216
Author: Nikhil Benesch <nikhil.benesch@gmail.com>
Date:   Mon Jun 22 12:43:57 2020 -0400

    Merge pull request #3440 from MaterializeInc/dependabot/cargo/async-trait-0.1.36
    
    build(deps): bump async-trait from 0.1.35 to 0.1.36

commit 9d0e4c11f2711e45f8276c76debb7a00a60b4f94
Merge: 21fd81323 6ff0a9118
Author: Nikhil Benesch <nikhil.benesch@gmail.com>
Date:   Mon Jun 22 12:43:49 2020 -0400

    Merge pull request #3441 from MaterializeInc/dependabot/cargo/serde_regex-1.1.0
    
    build(deps): bump serde_regex from 1.0.0 to 1.1.0

commit 21fd81323a765d3fe3f32ed512798dab220e91ff
Merge: 309225ace 308bb35da
Author: Nikhil Benesch <nikhil.benesch@gmail.com>
Date:   Mon Jun 22 12:43:30 2020 -0400

    Merge pull request #3435 from MaterializeInc/dependabot/cargo/bytes-0.5.5
    
    build(deps): bump bytes from 0.5.4 to 0.5.5

commit 309225ace3c1a3ee49a6d11ccc59d55b56bce2d4
Merge: fe1a67d88 37c16c01b
Author: Nikhil Benesch <nikhil.benesch@gmail.com>
Date:   Mon Jun 22 12:43:17 2020 -0400

    Merge pull request #3433 from MaterializeInc/dependabot/cargo/base64-0.12.2
    
    build(deps): bump base64 from 0.12.1 to 0.12.2

commit fe1a67d8842118e21aa4094addaa5c4f0cdaa65f
Merge: 81a3de05e 0cc7bcb7d
Author: Jessica Laughlin <JLDLaughlin@users.noreply.github.com>
Date:   Mon Jun 22 12:34:53 2020 -0400

    Add wait param to chaos-confirm step (#3443)
    
    mzconduct's ChaosConfirmStep now takes an optional wait parameter, indicating
    whether or not the Step should wait for a container to stop running before checking
    its status or exit code

commit 0cc7bcb7d827b5d6562d4f36edb723e84b2d84b6
Author: JLDLaughlin <jessica@materialize.io>
Date:   Mon Jun 22 12:23:47 2020 -0400

    Refactor

commit ae7320801f82cfae23ec29805382928a58095c7e
Author: JLDLaughlin <jessica@materialize.io>
Date:   Mon Jun 22 11:43:53 2020 -0400

    Fix message count and run seconds

commit 8911171d17d3b618b74511c25933bca36f526064
Author: JLDLaughlin <jessica@materialize.io>
Date:   Mon Jun 22 11:42:44 2020 -0400

    Add wait param to chaos-confirm step

commit 81a3de05e1622b827d3a59b6cf046f05a9b3e82d
Merge: e557bdae8 a22708f96
Author: Nikhil Benesch <nikhil.benesch@gmail.com>
Date:   Mon Jun 22 11:08:40 2020 -0400

    Merge pull request #3427 from benesch/nested-joins
    
    sql: fix nested joins

commit 0cf00627be4fc52e43cfabd70b437426afa5cb6c
Author: dependabot-preview[bot] <27856297+dependabot-preview[bot]@users.noreply.github.com>
Date:   Mon Jun 22 14:49:39 2020 +0000

    build(deps): bump structopt from 0.3.14 to 0.3.15
    
    Bumps [structopt](https://github.com/TeXitoi/structopt) from 0.3.14 to 0.3.15.
    - [Release notes](https://github.com/TeXitoi/structopt/releases)
    - [Changelog](https://github.com/TeXitoi/structopt/blob/master/CHANGELOG.md)
    - [Commits](https://github.com/TeXitoi/structopt/compare/v0.3.14...v0.3.15)
    
    Signed-off-by: dependabot-preview[bot] <support@dependabot.com>

commit e557bdae8872eba5bf3449de413493f9dde46960
Merge: 7acf1c5e2 f5a72336e
Author: Nikhil Benesch <nikhil.benesch@gmail.com>
Date:   Mon Jun 22 10:47:20 2020 -0400

    Merge pull request #3438 from MaterializeInc/dependabot/cargo/urlencoding-1.1.1
    
    build(deps): bump urlencoding from 1.0.0 to 1.1.1

commit 6ff0a9118a4f4488a84299051688847e022a55f4
Author: dependabot-preview[bot] <27856297+dependabot-preview[bot]@users.noreply.github.com>
Date:   Mon Jun 22 11:57:57 2020 +0000

    build(deps): bump serde_regex from 1.0.0 to 1.1.0
    
    Bumps [serde_regex](https://github.com/tailhook/serde-regex) from 1.0.0 to 1.1.0.
    - [Release notes](https://github.com/tailhook/serde-regex/releases)
    - [Commits](https://github.com/tailhook/serde-regex/compare/v1.0.0...v1.1.0)
    
    Signed-off-by: dependabot-preview[bot] <support@dependabot.com>

commit 27736721635843f0ef7a5df7d1bc926d59acaed5
Author: dependabot-preview[bot] <27856297+dependabot-preview[bot]@users.noreply.github.com>
Date:   Mon Jun 22 11:57:49 2020 +0000

    build(deps): bump async-trait from 0.1.35 to 0.1.36
    
    Bumps [async-trait](https://github.com/dtolnay/async-trait) from 0.1.35 to 0.1.36.
    - [Release notes](https://github.com/dtolnay/async-trait/releases)
    - [Commits](https://github.com/dtolnay/async-trait/compare/0.1.35...0.1.36)
    
    Signed-off-by: dependabot-preview[bot] <support@dependabot.com>

commit f5a72336e634fd637761ab928db68e147219cbfa
Author: dependabot-preview[bot] <27856297+dependabot-preview[bot]@users.noreply.github.com>
Date:   Mon Jun 22 11:56:51 2020 +0000

    build(deps): bump urlencoding from 1.0.0 to 1.1.1
    
    Bumps [urlencoding](https://github.com/kornelski/rust_urlencoding) from 1.0.0 to 1.1.1.
    - [Release notes](https://github.com/kornelski/rust_urlencoding/releases)
    - [Commits](https://github.com/kornelski/rust_urlencoding/commits)
    
    Signed-off-by: dependabot-preview[bot] <support@dependabot.com>

commit b4a93b32225db42d79f77a310c9584f67fcebefc
Author: dependabot-preview[bot] <27856297+dependabot-preview[bot]@users.noreply.github.com>
Date:   Mon Jun 22 11:56:27 2020 +0000

    build(deps): bump serde from 1.0.112 to 1.0.114
    
    Bumps [serde](https://github.com/serde-rs/serde) from 1.0.112 to 1.0.114.
    - [Release notes](https://github.com/serde-rs/serde/releases)
    - [Commits](https://github.com/serde-rs/serde/compare/v1.0.112...v1.0.114)
    
    Signed-off-by: dependabot-preview[bot] <support@dependabot.com>

commit 308bb35da7d8a6cd5833aa5699cd90d9b7b8b39b
Author: dependabot-preview[bot] <27856297+dependabot-preview[bot]@users.noreply.github.com>
Date:   Mon Jun 22 11:55:30 2020 +0000

    build(deps): bump bytes from 0.5.4 to 0.5.5
    
    Bumps [bytes](https://github.com/tokio-rs/bytes) from 0.5.4 to 0.5.5.
    - [Release notes](https://github.com/tokio-rs/bytes/releases)
    - [Changelog](https://github.com/tokio-rs/bytes/blob/master/CHANGELOG.md)
    - [Commits](https://github.com/tokio-rs/bytes/compare/v0.5.4...v0.5.5)
    
    Signed-off-by: dependabot-preview[bot] <support@dependabot.com>

commit 37c16c01bf06d54252a388f4d752a682140c1cb1
Author: dependabot-preview[bot] <27856297+dependabot-preview[bot]@users.noreply.github.com>
Date:   Mon Jun 22 11:54:13 2020 +0000

    build(deps): bump base64 from 0.12.1 to 0.12.2
    
    Bumps [base64](https://github.com/marshallpierce/rust-base64) from 0.12.1 to 0.12.2.
    - [Release notes](https://github.com/marshallpierce/rust-base64/releases)
    - [Changelog](https://github.com/marshallpierce/rust-base64/blob/master/RELEASE-NOTES.md)
    - [Commits](https://github.com/marshallpierce/rust-base64/compare/v0.12.1...v0.12.2)
    
    Signed-off-by: dependabot-preview[bot] <support@dependabot.com>

commit 7acf1c5e2bacc800bc75d8c47b0a5a362770f441
Merge: 79945c3ee 8bf03b437
Author: Sean Loiselle <sean@materialize.io>
Date:   Sat Jun 20 11:43:37 2020 -0400

    Merge pull request #3431 from sploiselle/default-index-docs
    
    Default index + materialized source docs

commit 8bf03b43787259968dd7eed7610318c5bf2bf317
Author: sploiselle <sean@materialize.io>
Date:   Sat Jun 20 11:32:53 2020 -0400

    docs: default index release notes + link cleanup

commit c9fbed72a617d1e85c0b366a8bbc6faf63615cb6
Author: sploiselle <sean@materialize.io>
Date:   Sat Jun 20 10:46:11 2020 -0400

    docs: add default index docs

commit baed0b688a3b74464b39b2a13892143d48654595
Author: Sean Loiselle <himself@seanloiselle.com>
Date:   Sat Jun 20 14:00:00 2020 +0100

    docs: add materialized source docs

commit 79945c3eeeebbac8a674ca234834c4c2e3324057
Merge: 8772ef6ee f250163ef
Author: Sean Loiselle <sean@materialize.io>
Date:   Sat Jun 20 10:28:47 2020 -0400

    Merge pull request #3414 from sploiselle/create-default-index
    
    Create default index

commit a22708f96cc3683eb980d4a83b1160daaef5d3a3
Author: Nikhil Benesch <nikhil.benesch@gmail.com>
Date:   Fri Jun 19 21:02:54 2020 -0400

    sql: fix nested joins
    
    These got broken in #1426, as apparently we don't have any test coverage
    for nested joins. The precise nature of the bug is hard to describe, as
    I didn't bother to understand it fully, but in short we were completely
    mixing up the join scopes and operators for the nested component.
    
    Roughly, I believe we were planning a query like
    
        SELECT * FROM a INNER JOIN (b INNER JOIN c ON b.x = c.x) ON a.x = c.x
    
    as
    
        SELECT * FROM a INNER JOIN b ON a.x = c.x INNER JOIN c ON b.x = c.x
    
    where the most obvious effect of this misplan was an error about c.x not
    being in scope.
    
    The correct behavior, implemented by this patch, is as follows. A nested
    join stashes away the current stack of joins and builds the nested
    component up from scratch, i.e., with nothing in scope and no tablers
    join. Only once the nested component is fully built is it joined into
    the existing stack of joins.
    
    Fix #3426.

commit f250163ef37b94e72232e84ee8dcd31f85994659
Author: Sean Loiselle <himself@seanloiselle.com>
Date:   Thu Jun 18 14:53:03 2020 -0400

    sql: expand tests for default indexes

commit 12d1bbe79b766cb6c42d85e28f36d4564d19925b
Author: Sean Loiselle <himself@seanloiselle.com>
Date:   Tue Jun 16 17:00:52 2020 -0400

    sql: support implicitly-named and implicitly-structured indexes

commit 49f672cd3aca761d900836b44a48ae60b842ec21
Author: Sean Loiselle <himself@seanloiselle.com>
Date:   Thu Jun 18 14:07:57 2020 -0400

    sql: use stdlib to compare ObjectType and CatalogItemType

commit 53c2b5a1ce08ab2e15c87fd05e6a7c696e279ff6
Author: Sean Loiselle <himself@seanloiselle.com>
Date:   Thu Jun 18 14:05:31 2020 -0400

    coord: make RelationType's default key for "materialized" sources/views explicit

commit 8772ef6eed152f721bdeb394067fd8c245cfbc83
Author: Jessica Laughlin <JLDLaughlin@users.noreply.github.com>
Date:   Fri Jun 19 15:00:17 2020 -0400

    Update cargo run command in docs (#3425)
    
    Use release mode and provide a default number of threads (2)

commit df2fc66f9acc7aa62809eaff52cb56bcc2f5301e
Author: Jessica Laughlin <JLDLaughlin@users.noreply.github.com>
Date:   Fri Jun 19 13:18:52 2020 -0400

    Add retries to source creation in debezium chaos test (#3422)

commit 79bfcf427f5ebd4d468ecdf3a9c335db075a9599
Author: Jessica Laughlin <JLDLaughlin@users.noreply.github.com>
Date:   Fri Jun 19 12:31:47 2020 -0400

    Update chaos testing connector (#3420)
    
    Reverts to an older version of the connector that explicitly uses
    wait-for-it.

commit 11830de750ff85245b39b439413873cb118aa850
Author: Ruchir Khaitan <ruchir0001@gmail.com>
Date:   Thu Jun 18 23:55:57 2020 -0400

    dataflow: add a shutdown button for kafka sinks (#3353)
    
    Closes #2860
    
    Previously, we had to wait for a Kafka sink to finish flushing its writes to the
    broker before it could be freed. Now, when a user types DROP SINK, the Kafka producer
    should be freed immediately.

commit 11a82aee179908de3270e3b15d34d7d6d3aa73cc
Merge: 1d3cdabe2 7953e3207
Author: Ruchir Khaitan <ruchir0001@gmail.com>
Date:   Thu Jun 18 23:04:44 2020 -0400

    Merge pull request #3411 from ruchirK/rk-3401-3
    
    Billing demo improvements

commit 1d3cdabe2df1ce16ce4af3e969e57b595992019c
Merge: 898606826 c8c6c9b4f
Author: Nikhil Benesch <nikhil.benesch@gmail.com>
Date:   Thu Jun 18 22:35:44 2020 -0400

    Merge pull request #3385 from benesch/no-binding
    
    expr, transform: remove dead binding code

commit 898606826f4e25dce0a902c9ae56acaceaa310ce
Merge: 60be72689 0a36d4dbd
Author: Albert Wang <albert@materialize.io>
Date:   Thu Jun 18 19:27:01 2020 -0400

    Merge pull request #3415 from MaterializeInc/awang-patch-1-1
    
    update known limitations for 0.3.0 release

commit 0a36d4dbd9b92ac2cdccc832bdeba7ce57c5ac5d
Author: Albert Wang <albert@materialize.io>
Date:   Thu Jun 18 18:11:45 2020 -0400

    update known limitations for 0.3.0 release

commit 60be726897674f2f50a3bda729bf0851045ef1db
Author: Jessica Laughlin <JLDLaughlin@users.noreply.github.com>
Date:   Thu Jun 18 17:35:56 2020 -0400

    Add Debezium chaos testing (#3400)
    
    Adds the ability to chaos test a debezium container (upstream of Kafka) via the following
    chaos tests: stop/start, pause/unpause, kill, delay, rate, loss, duplicate, corrupt.

commit 7953e32075824c704a8768a8ece7fb92a64946b7
Author: Ruchir Khaitan <ruchir0001@gmail.com>
Date:   Thu Jun 18 14:52:44 2020 -0400

    demo: print start time and seed values for reproducing billing demo runs

commit 614cc94b411978179daf8a02adbefe880fac1c83
Author: Ruchir Khaitan <ruchir0001@gmail.com>
Date:   Thu Jun 18 14:52:15 2020 -0400

    demo: use proper type casting for timestamps

commit cf6c94ca8cd7fb46b16b8a65ef70687a239f814a
Author: Brennan Vincent <brennan@materialize.io>
Date:   Thu Jun 18 13:13:06 2020 -0400

    return frame size error instead of unwrapping (#3409)

commit 19381e6f5a4efa0db69c5722521d6c1d7c1ee624
Author: Ruchir Khaitan <ruchir0001@gmail.com>
Date:   Thu Jun 18 12:47:11 2020 -0400

    catalog: use optimized expression to get relation description on restart (#3408)
    
    Touches #3401
    
    Previously, we were getting the relation desc from the optimized plan when a
    user created a view at runtime, but then getting the relation desc from the
    unoptimized plan on restart.

commit 5dee8e8d5bb5eed60abfaf1b5fa30f7026255142
Merge: 6aafd505c 5272a5dfc
Author: Nikhil Benesch <nikhil.benesch@gmail.com>
Date:   Thu Jun 18 11:24:28 2020 -0400

    Merge pull request #3407 from benesch/sql-extract-trim
    
    sql,expr: harmonize extract and trim functions

commit 6aafd505c240c0928a8c6ec266ebec0c77314ad0
Merge: a1e6c9b84 51992ba66
Author: Nikhil Benesch <nikhil.benesch@gmail.com>
Date:   Thu Jun 18 11:03:43 2020 -0400

    Merge pull request #3398 from benesch/macos-backtraces
    
    materialized: fix backtraces on macOS

commit 5272a5dfc40671adcd1602dcf97afb3e54b900b2
Author: Nikhil Benesch <nikhil.benesch@gmail.com>
Date:   Tue Jun 16 13:35:17 2020 -0400

    sql-parser: remove extract and trim from AST
    
    Make like PostgreSQL and just parse these directly into their underlying
    function calls. This limits the exposure of SQL's weird syntax for these
    functions to the parser.

commit 2eefbc052f62025d0150455077f1612eebeef22c
Author: Nikhil Benesch <nikhil.benesch@gmail.com>
Date:   Tue Jun 16 11:53:50 2020 -0400

    expr: harmonize date_part and date_trunc
    
    The SQL extract function is just sugar on top of PostgreSQL's date_part
    function. Rework the planning of extract so that it just maps directly
    to a new date_part function; then rework date_part/extract's
    implementation so that it matches date_trunc, since the functions are
    very similar.

commit a1e6c9b841fbb3cf0e98b8b9463606d9a21069a6
Author: Ruchir Khaitan <ruchir0001@gmail.com>
Date:   Thu Jun 18 09:47:13 2020 -0400

    expr: mark unary date_trunc as nullable (#3403)
    
    Closes #3401
    
    Match the convention from the corresponding binary funcs

commit 494cebccad50676c5adfb682e2e177223330971f
Author: Nikhil Benesch <nikhil.benesch@gmail.com>
Date:   Thu Jun 18 01:04:11 2020 -0400

    sql: rewrite split_subquery_predicates in terms of visitors
    
    This removes quite a bit of boilerplate.

commit bb4b1cfab17741d6fc879cf6c502cf366f691ef2
Author: Nikhil Benesch <nikhil.benesch@gmail.com>
Date:   Thu Jun 18 00:38:16 2020 -0400

    sql: move decorrelation mod into its own file
    
    Having large inline modules is confusing, in my opinion, and introduces
    an extra layer of nesting that makes rustfmt format things poorly.

commit 99759ebcbfe6218e1b001c72f60e8bf8385e0e6e
Author: Nikhil Benesch <nikhil.benesch@gmail.com>
Date:   Thu Jun 18 00:35:25 2020 -0400

    sql: move visit_columns out of decorrelation mod
    
    Column visitation is more general than decorrelation.

commit 691ff879720a954f9cc9ff27c165f51b81835bee
Author: Nikhil Benesch <nikhil.benesch@gmail.com>
Date:   Thu Jun 18 00:10:57 2020 -0400

    sql: move expression transformations to dedicated module
    
    This makes it a bit easier to see an individual transform, since it
    isn't all mixed up with other random expr-related code.

commit 425129f35bc2137f185471c375ba4b7d63d1077e
Author: Nikhil Benesch <nikhil.benesch@gmail.com>
Date:   Wed Jun 17 23:58:41 2020 -0400

    sql: rename transform module to transform_ast
    
    This better reflects its purpose, and makes space for a separate module
    that will transform the IR.

commit 39faa05714a6e78e8d9e8b518cd39f94e9201e5a
Merge: 4d56e1293 02214091b
Author: Albert Wang <albert@materialize.io>
Date:   Wed Jun 17 13:35:27 2020 -0400

    Merge pull request #3374 from MaterializeInc/awang-patch-1
    
    Add Datadog monitoring configuration

commit 51992ba663e16dabb96c23e39de509de85d77f5d
Author: Nikhil Benesch <nikhil.benesch@gmail.com>
Date:   Wed Jun 17 13:20:19 2020 -0400

    materialized: fix backtraces on macOS
    
    Switch over to the new Gimli-based backtrace symbolicator. Gimli is a
    pure-Rust reimplementation of libbacktrace that will soon be the default
    backtrace implementation in the Rust standard library [0]. Switching to
    it now means we can help shake out problems, like [1], before it ships
    in the standard library, where fixing problems will require a full six
    week release cycle.
    
    This switch has the side effect of fixing backtraces on macOS, which
    seem to be broken at the moment because the backtrace crate is picking
    libbacktrace over coresymbolication. There isn't a good way of fixing
    that because Cargo doesn't support per-platform features [2]; using
    neither libbacktrace or coresymbolicator is a kind of stupid but
    effective way of sidestepping the problem.
    
    [0]: https://github.com/rust-lang/rust/pull/73441
    [1]: https://github.com/rust-lang/backtrace-rs/issues/342
    [2]: https://github.com/rust-lang/cargo/issues/1197

commit 4d56e1293eaf1beb43f017a2c95d28923459a243
Author: Frank McSherry <fmcsherry@me.com>
Date:   Wed Jun 17 11:43:07 2020 -0400

    Do not hoist expressions from `if` bodies (#3395)
    
    Scalar CSE was hoisting common expressions in then and els expressions, without certainty that they would be evaluated. This led to queries like
    ```
    SELECT
        CASE WHEN b = 0 THEN 0 ELSE 1/b END,
        CASE WHEN b != 0 THEN 1/b ELSE 0 END
    FROM x
    ```
    unconditionally evaluating 1/b, because it would be hoisted prematurely. We don't do that now. We could be more advanced and determine the expressions in the intersection of the then and els expressions, but that is future work for now.

commit 8b666b7c743445ae978fc70081990cff16a51c41
Author: Frank McSherry <fmcsherry@me.com>
Date:   Wed Jun 17 10:41:30 2020 -0400

    TPCH query errors (#3394)
    
    Correct errors in our TPCH queries.

commit 02214091b56433e42389715386e84de29f2d3f37
Author: Albert Wang <albert@materialize.io>
Date:   Wed Jun 17 10:11:16 2020 -0400

    lint fixes: remove trailing whitespace

commit 1f3c6572a39fd3860c108c434461e47a9a5d11cf
Merge: e3e082266 2edc9a3e3
Author: Natacha Crooks <nacrooks@gmail.com>
Date:   Wed Jun 17 08:59:26 2020 -0400

    Merge pull request #3392 from nacrooks/reducemetadata
    
    Optimise Kafka metadata requests
    
    This PR 1) adds jitter to metadata requests to ensure that workers do not all query fetch_metadata simultaneously 2) ensures that fetch_watermarks is called only for workers who are responsible for this partition 3) fixes an error in which the mutex protecting partition_count was held while doing the metadata fetch

commit e3e082266fd2eff41d6f4dba66e72d02c2622fc8
Author: Brandon W Maister <bwm@materialize.io>
Date:   Tue Jun 16 18:36:19 2020 -0400

    Add an env var that forces mzbuild to wait for an image to become available (#3393)
    
    We've had several load tests fail because they tried to use the most recent image, and it
    just happened to not be ready yet.

commit 803fbd6c366ca176d71d837ff0a77efdec23a6a5
Author: Jessica Laughlin <JLDLaughlin@users.noreply.github.com>
Date:   Tue Jun 16 17:53:55 2020 -0400

    Add netem chaos tests (#3387)
    
    Use pumba (a tool for chaos testing Docker containers) to add the following
    chaos networking tests: delay, rate, loss, duplication, corruption. Each new type
    of networking test is added as a new workflow in the chaos crate.

commit 2edc9a3e3099001bbc967fbb80ab7ee6ad508460
Author: Natacha Crooks <nacrooks@gmail.com>
Date:   Tue Jun 16 16:40:42 2020 -0400

    Adding jitter to the metadata threads to avoid workers simultaneously requesting metadata

commit fe41ace680bfbf7df743919b61d153ee7ebc8117
Author: Natacha Crooks <nacrooks@gmail.com>
Date:   Tue Jun 16 16:05:13 2020 -0400

    Reducing lock acquisition time in metadata requests

commit d43b1d58b3baa9627f647b8289bba7adcfc38fed
Author: Natacha Crooks <nacrooks@gmail.com>
Date:   Tue Jun 16 11:15:46 2020 -0400

    Collect kafka metrics only for workers who own the partitions

commit f1b371797ed991e9fd2d6ccf2aebae0aa160b8a4
Merge: bbe0726ff 93d1ea6a4
Author: Sean Loiselle <sean@materialize.io>
Date:   Tue Jun 16 15:14:22 2020 -0400

    Merge pull request #3389 from sploiselle/slack-promo
    
    docs: marketingize the install page

commit 93d1ea6a4c639038aed513a4eed1796693fc4d3a
Author: Sean Loiselle <himself@seanloiselle.com>
Date:   Tue Jun 16 14:42:06 2020 -0400

    docs: marketingize the install page

commit bbe0726ff244e72a48a6fa8d1e34ba8064261596
Merge: 51eda7df0 d96477a67
Author: Nikhil Benesch <nikhil.benesch@gmail.com>
Date:   Tue Jun 16 14:48:40 2020 -0400

    Merge pull request #3381 from benesch/column-aliases
    
    sql: allow aliasing column names

commit 51eda7df026c5621777635d433fbaf9d927103d2
Merge: 45c21aa08 b85069098
Author: Justin Jaffray <justin.jaffray@gmail.com>
Date:   Tue Jun 16 11:46:31 2020 -0400

    Merge pull request #3379 from justinj/tss
    
    coord: make local inputs go by real time

commit 45c21aa0813c6f8519c0c4fda773d6060e37f73f
Merge: b0d293a63 9645a54d7
Author: Sean Loiselle <sean@materialize.io>
Date:   Tue Jun 16 11:00:52 2020 -0400

    Merge pull request #3386 from sploiselle/negative-tests-for-casts
    
    Valid type cast, promotion tests

commit 100125e18045518423642785ba4cdf1b0e1a4498
Author: Albert Wang <albert@materialize.io>
Date:   Tue Jun 16 10:50:58 2020 -0400

    retrigger build

commit b0d293a6343b1e6ccab5d0c6f0da8d7c07a777d8
Merge: 5d70a45a6 976ccdf68
Author: Natacha Crooks <nacrooks@gmail.com>
Date:   Tue Jun 16 08:50:14 2020 -0400

    Merge pull request #3377 from nacrooks/docts
    
    Documentation for ts_* options

commit 976ccdf68a4abab84cf28aa6eaf8fd04133847b9
Author: Natacha Crooks <nacrooks@gmail.com>
Date:   Mon Jun 15 15:25:14 2020 -0400

    Documentation for ts_* options

commit 9645a54d77f0c17b6dc60e8e7dfcde828fbc1940
Author: Sean Loiselle <himself@seanloiselle.com>
Date:   Tue Jun 16 00:09:45 2020 -0400

    sql: adjust casts and  tests for pg compatibility

commit fe7267d09c82023f891a358b5fc1bbc28ac3f6e3
Author: Sean Loiselle <himself@seanloiselle.com>
Date:   Mon Jun 15 22:45:06 2020 -0400

    sql: add tests for all casts

commit 5d70a45a6e012516a6085e0914bb2240e9643e7f
Author: Brandon W Maister <bwm@materialize.io>
Date:   Mon Jun 15 20:49:46 2020 -0400

    Cause certain Kafka metrics to be deleted when their resources are (#3371)
    
    This uses MaterializeInc/rust-prometheus#2 to guarantee that at least some metrics stop
    being reported when `DROP SOURCE` is performed. This is enough to resolve the false
    metrics appearing in #3352, but it does not delete all Kafka metrics when their sources
    are deleted, in particular in the timestamper, where we don't have structs that live
    along with their partitions, yet.

commit 215f486978683c774af7ed7da12ad8f156c34fbd
Merge: eaa33247e 93e1509e1
Author: Sean Loiselle <sean@materialize.io>
Date:   Mon Jun 15 20:44:17 2020 -0400

    Merge pull request #3380 from sploiselle/func-selection-cleanup
    
    Func selection cleanup

commit d96477a67957ecbfe4beb1fe4108021cabd6e576
Author: Nikhil Benesch <nikhil.benesch@gmail.com>
Date:   Mon Jun 15 17:24:01 2020 -0400

    sql: allow aliasing column names
    
    This will enable some transformations that will in turn enable record
    types. It also unlocks a slew of CockroachDB sqllogictests, some of
    which are enabled here.
    
    Fix #3112.

commit c8c6c9b4f0908cdebab5b7109a3230c84316ecfb
Author: Nikhil Benesch <nikhil.benesch@gmail.com>
Date:   Mon Jun 15 19:23:00 2020 -0400

    expr, transform: remove dead binding code
    
    The let/deduplicate transforms have long been disabled due to
    performance issues. These transforms are the only dependency on the
    `indexmap` crate in our entire codebase, so removing them allows us to
    prune that dependency.
    
    We do want let/deduplicate transforms someday, but we'll likely need to
    start from scratch to adjust the performance issues. Plus the old
    implementations will continue to be available in Git if we need to refer
    back to them.

commit 93e1509e1271e6d2227dec7b8e2bbcbc0f71ec01
Author: Sean Loiselle <himself@seanloiselle.com>
Date:   Mon Jun 15 14:52:01 2020 -0400

    sql: include type info in func selection error strings more easily

commit eaa33247e0dc7078e64374d0caddda92bdb895ad
Merge: ba0e60089 ee0fe1f75
Author: Andi Wang <5522362+wangandi@users.noreply.github.com>
Date:   Mon Jun 15 18:05:40 2020 -0400

    Merge pull request #3378 from wangandi/upserttest1
    
    Add tests for a column in key with the same name as column in value.

commit 822eb0ea37ac5097313670bf42d3e67663e950b9
Author: Sean Loiselle <himself@seanloiselle.com>
Date:   Mon Jun 15 14:16:30 2020 -0400

    sql: make select_implementation accept Vec<CoercibleScalarExpr>

commit d1d075743bd9530ddf977fae6e75e72474f06ad6
Author: Albert Wang <albert@materialize.io>
Date:   Mon Jun 15 15:58:52 2020 -0400

    retrigger checks
    
    no change

commit 442f08a1a0d14b327d0a4280e0e617a9a8939662
Author: Sean Loiselle <himself@seanloiselle.com>
Date:   Mon Jun 15 13:38:03 2020 -0400

    sql: light func selection cleanup

commit b85069098a46a03b9d762d86cfb85f18a78c12a4
Author: Justin Jaffray <justin.jaffray@gmail.com>
Date:   Tue Jun 9 13:35:05 2020 -0400

    coord: make local inputs go by real time
    
    Also required making DDL changes advance all input timestamps for logic
    tests.
    
    First step towards the discussion in #913.

commit ee0fe1f75755024efa83c21b3f48ff4bccd9a4f8
Author: Andi Wang <andi@materialize.io>
Date:   Mon Jun 15 15:29:42 2020 -0400

    Add tests for a column in key with the same name as column in value.

commit 638e06955f28866001df21f04012427df30a72c6
Author: Albert Wang <albert@materialize.io>
Date:   Mon Jun 15 15:23:30 2020 -0400

    Update _index.md
    
    fix text wraping, add quotes

commit ba0e600896386e4e3e5a602337024cfbac031613
Merge: 3dae76a9c 178b15e69
Author: Sean Loiselle <sean@materialize.io>
Date:   Mon Jun 15 15:21:37 2020 -0400

    Merge pull request #3373 from sploiselle/tail-py
    
    docs: describe using TAIL with a driver

commit ac0d4f360a09dcad6b686ab3d47bf2efde590df9
Author: Albert Wang <albert@materialize.io>
Date:   Mon Jun 15 13:35:01 2020 -0400

    Add Datadog monitoring configuration
    
    Explain how to setup Datadog monitoring

commit 3dae76a9ca1ab3d48e0375f1889c378c0c8657b3
Merge: f92547cce 90a094076
Author: Natacha Crooks <nacrooks@gmail.com>
Date:   Mon Jun 15 13:30:46 2020 -0400

    Merge pull request #3329 from nacrooks/nometadata
    
    RT consistency for Kafka without metadata requests
    
    This PR removes the need for Kafka metadata requests for Real-time consistency.
    
    A separate metadata thread runs for each Kafka source and periodically checks whether new partitions have been added. This thread is the only thread that makes a metadata request. The frequency at which new partitions are checked is controlled via the with with (topic_metadata_refresh_interval_ms='10') parameter.
    
    Each new message is assigned a timestamp based on the local system time. The frequency at which timestamps should be downgraded is specified in a with parameter with (timestamp_frequency_ms='10')
    
    This PR does not yet remove the code path associated with real-time timestamping as other sources (files, OCF sources) have not yet been modified to remove reliance on the timestamped.
    This PR modifies the source activation logic to be triggered every timestamp_frequency_ms. This is necessary to ensure that capabilities are downgraded frequently even when no data is ingested (previously, the timestamper thread would trigger activation).

commit 90a094076ed6df6303960b40e3fe2bbd4a68ba2b
Author: Natacha Crooks <nacrooks@gmail.com>
Date:   Mon Jun 8 13:50:49 2020 -0400

    Remove reliance on timestamper for RT consistency sources. RT sources
    now use the local system clock to assign timestamps to messages and
    downgrade capabilities at a rate specified by the with option
    timestamp_frequency_ms.

commit f92547cce63a4a4250e6496dd66bd8b15b365fae
Author: Jessica Laughlin <JLDLaughlin@users.noreply.github.com>
Date:   Mon Jun 15 12:35:14 2020 -0400

    Update ChaosDockerWorkflowStep to run as long as another service (#3334)
    
    The inheriting classes of the mzconduct ChaosDockerWorkflowStep step
    can now provide two different types of information to indicate how long the step
    should run: a simple duration (int) or the name of another running service. If the
    name of another running service is provided, the step will complete once the other
    running service has completed.

commit 178b15e69d25df62885f1ebd1099ce7898d1ab5d
Author: Sean Loiselle <himself@seanloiselle.com>
Date:   Mon Jun 15 12:06:33 2020 -0400

    docs: describe using TAIL with a driver

commit 29509f498394bfbc52ab3de2f901cedbeff7390e
Merge: 04424e40d 790c1198c
Author: Sean Loiselle <sean@materialize.io>
Date:   Mon Jun 15 11:59:39 2020 -0400

    Merge pull request #3355 from sploiselle/csv-kinesis-docs
    
    docs: flesh out create source

commit 04424e40d73196da38e56a4eb5c6285e0f4a836f
Merge: 005714159 245172d22
Author: Nikhil Benesch <nikhil.benesch@gmail.com>
Date:   Mon Jun 15 11:37:06 2020 -0400

    Merge pull request #3359 from benesch/more-funcs-iii
    
    sql: port aggregates and table functions to generalized infrastructure

commit 245172d228133c5ec582b75df66c440d0ad55837
Author: sploiselle <sean@materialize.io>
Date:   Sun Jun 14 02:56:17 2020 -0400

    sql: clean up func selection maps with traits

commit 69db9c271d1e1386a653c5585c5e1bb4c59edbdb
Author: Nikhil Benesch <nikhil.benesch@gmail.com>
Date:   Sat Jun 13 23:35:51 2020 -0400

    sql: port aggregate functions to generalized infrastructure

commit bc2f5404706f0421a202779bab79a548f4527427
Author: Nikhil Benesch <nikhil.benesch@gmail.com>
Date:   Sat Jun 13 22:14:17 2020 -0400

    sql: port table functions to generalized infrastructure

commit d60a62987c7d0d30393098bd41e1662bded6d1e6
Author: Nikhil Benesch <nikhil.benesch@gmail.com>
Date:   Sat Jun 13 13:39:45 2020 -0400

    sql: generalize FunctionImpl return types

commit a8c248147c6a11309e9519d3814fa807be73cdd0
Author: Nikhil Benesch <nikhil.benesch@gmail.com>
Date:   Sat Jun 13 13:35:28 2020 -0400

    sql: tweak operation representation in func selection
    
    This will make it possible to generalize the function selection
    infrastructure to aggregate and table functions.

commit febf09af678418b3e8e80599bd857076435f7692
Author: Nikhil Benesch <nikhil.benesch@gmail.com>
Date:   Sat Jun 13 12:33:39 2020 -0400

    sql: don't derive Clone for FuncImpl
    
    This will allow us to use a boxed closure as the operation type. The
    interesting bit here is the integration of `saturate_decimals` into
    `coerce_arg_to_type`: rather than rewriting the function parameters to
    have the correct decimal precision and scale, we just avoid planning a
    cast if the function desires a decimal and we already have a decimal.

commit 005714159aaedab07c149d044ba7240954b2d2df
Merge: 10963750c 60f00e6ce
Author: Nikhil Benesch <nikhil.benesch@gmail.com>
Date:   Mon Jun 15 10:36:29 2020 -0400

    Merge pull request #3366 from MaterializeInc/dependabot/cargo/indexmap-1.4.0
    
    build(deps): bump indexmap from 1.3.2 to 1.4.0

commit 10963750c9732480e04fed84890135f70f21be5d
Merge: daf2b31f6 103778d2b
Author: Nikhil Benesch <nikhil.benesch@gmail.com>
Date:   Mon Jun 15 10:36:04 2020 -0400

    Merge pull request #3361 from MaterializeInc/dependabot/cargo/serde_regex-1.0.0
    
    build(deps): bump serde_regex from 0.4.0 to 1.0.0

commit daf2b31f68cbfbddda3a7a94ea664a079f18e8a2
Merge: 44dcc2c33 774fca4eb
Author: Nikhil Benesch <nikhil.benesch@gmail.com>
Date:   Mon Jun 15 10:35:23 2020 -0400

    Merge pull request #3363 from MaterializeInc/dependabot/cargo/serde-1.0.112
    
    build(deps): bump serde from 1.0.111 to 1.0.112

commit 44dcc2c330a48fe1a0dfec7e61d2d816c88b1732
Merge: 3359902ea c8ec60f4f
Author: Nikhil Benesch <nikhil.benesch@gmail.com>
Date:   Mon Jun 15 10:35:07 2020 -0400

    Merge pull request #3364 from MaterializeInc/dependabot/cargo/num-traits-0.2.12
    
    build(deps): bump num-traits from 0.2.11 to 0.2.12

commit 3359902eab574d2151e454a2f9048c7632fe373b
Merge: 8504ab299 241412a2a
Author: Nikhil Benesch <nikhil.benesch@gmail.com>
Date:   Mon Jun 15 10:32:57 2020 -0400

    Merge pull request #3367 from MaterializeInc/dependabot/cargo/async-trait-0.1.35
    
    build(deps): bump async-trait from 0.1.33 to 0.1.35

commit 8504ab299dea84bfdba2bc27a61847d476210457
Merge: 89e4115ab 19bca41df
Author: Brandon W Maister <bwm@materialize.io>
Date:   Mon Jun 15 10:14:06 2020 -0400

    Merge pull request #3362 from MaterializeInc/dependabot/cargo/syn-1.0.31
    
    build(deps): bump syn from 1.0.30 to 1.0.31

commit 89e4115abb12244da5f6407930fcba9f043f0807
Author: dependabot-preview[bot] <27856297+dependabot-preview[bot]@users.noreply.github.com>
Date:   Mon Jun 15 09:51:27 2020 -0400

    build(deps): bump whoami from 0.8.1 to 0.8.2 (#3360)
    
    Bumps [whoami](https://github.com/libcala/whoami) from 0.8.1 to 0.8.2.
    - [Release notes](https://github.com/libcala/whoami/releases)
    - [Changelog](https://github.com/libcala/whoami/blob/master/CHANGELOG.md)
    - [Commits](https://github.com/libcala/whoami/commits)
    
    Signed-off-by: dependabot-preview[bot] <support@dependabot.com>
    
    Co-authored-by: dependabot-preview[bot] <27856297+dependabot-preview[bot]@users.noreply.github.com>

commit 241412a2a571a4467d914cece129ffb66b97598d
Author: dependabot-preview[bot] <27856297+dependabot-preview[bot]@users.noreply.github.com>
Date:   Mon Jun 15 11:06:30 2020 +0000

    build(deps): bump async-trait from 0.1.33 to 0.1.35
    
    Bumps [async-trait](https://github.com/dtolnay/async-trait) from 0.1.33 to 0.1.35.
    - [Release notes](https://github.com/dtolnay/async-trait/releases)
    - [Commits](https://github.com/dtolnay/async-trait/compare/0.1.33...0.1.35)
    
    Signed-off-by: dependabot-preview[bot] <support@dependabot.com>

commit 60f00e6ce03b192f8143141e94cceb6ae248dc20
Author: dependabot-preview[bot] <27856297+dependabot-preview[bot]@users.noreply.github.com>
Date:   Mon Jun 15 11:06:17 2020 +0000

    build(deps): bump indexmap from 1.3.2 to 1.4.0
    
    Bumps [indexmap](https://github.com/bluss/indexmap) from 1.3.2 to 1.4.0.
    - [Release notes](https://github.com/bluss/indexmap/releases)
    - [Commits](https://github.com/bluss/indexmap/compare/1.3.2...1.4.0)
    
    Signed-off-by: dependabot-preview[bot] <support@dependabot.com>

commit c8ec60f4fc39b9f03628f93748f3f5515d69bc39
Author: dependabot-preview[bot] <27856297+dependabot-preview[bot]@users.noreply.github.com>
Date:   Mon Jun 15 11:05:31 2020 +0000

    build(deps): bump num-traits from 0.2.11 to 0.2.12
    
    Bumps [num-traits](https://github.com/rust-num/num-traits) from 0.2.11 to 0.2.12.
    - [Release notes](https://github.com/rust-num/num-traits/releases)
    - [Changelog](https://github.com/rust-num/num-traits/blob/master/RELEASES.md)
    - [Commits](https://github.com/rust-num/num-traits/compare/num-traits-0.2.11...num-traits-0.2.12)
    
    Signed-off-by: dependabot-preview[bot] <support@dependabot.com>

commit 774fca4ebc573679359c5f2f02738c212a23fd35
Author: dependabot-preview[bot] <27856297+dependabot-preview[bot]@users.noreply.github.com>
Date:   Mon Jun 15 11:05:15 2020 +0000

    build(deps): bump serde from 1.0.111 to 1.0.112
    
    Bumps [serde](https://github.com/serde-rs/serde) from 1.0.111 to 1.0.112.
    - [Release notes](https://github.com/serde-rs/serde/releases)
    - [Commits](https://github.com/serde-rs/serde/compare/v1.0.111...v1.0.112)
    
    Signed-off-by: dependabot-preview[bot] <support@dependabot.com>

commit 19bca41df05465747bfbcb70204bb170093fda4f
Author: dependabot-preview[bot] <27856297+dependabot-preview[bot]@users.noreply.github.com>
Date:   Mon Jun 15 11:04:52 2020 +0000

    build(deps): bump syn from 1.0.30 to 1.0.31
    
    Bumps [syn](https://github.com/dtolnay/syn) from 1.0.30 to 1.0.31.
    - [Release notes](https://github.com/dtolnay/syn/releases)
    - [Commits](https://github.com/dtolnay/syn/compare/1.0.30...1.0.31)
    
    Signed-off-by: dependabot-preview[bot] <support@dependabot.com>

commit 103778d2ba29466f7299b1b0eb228d135ebf7032
Author: dependabot-preview[bot] <27856297+dependabot-preview[bot]@users.noreply.github.com>
Date:   Mon Jun 15 11:04:34 2020 +0000

    build(deps): bump serde_regex from 0.4.0 to 1.0.0
    
    Bumps [serde_regex](https://github.com/tailhook/serde-regex) from 0.4.0 to 1.0.0.
    - [Release notes](https://github.com/tailhook/serde-regex/releases)
    - [Commits](https://github.com/tailhook/serde-regex/compare/v0.4.0...v1.0.0)
    
    Signed-off-by: dependabot-preview[bot] <support@dependabot.com>

commit fe85354ce498e5f6836519d047377ce4fbe5d55c
Merge: d3a687c0e abea2542e
Author: Nikhil Benesch <nikhil.benesch@gmail.com>
Date:   Sun Jun 14 16:42:14 2020 -0400

    Merge pull request #3358 from benesch/fix-xcompile
    
    bin/xcompile: fix cross-compilation

commit abea2542e925eb7b3aa17329274163324d4dbb65
Author: Nikhil Benesch <nikhil.benesch@gmail.com>
Date:   Sat Jun 13 20:43:33 2020 -0400

    bin/xcompile: fix cross-compilation
    
    Remove the environment variable overrides in bin/xcompile that apply
    globally, like `CC` and `AR`. Compiling Materialize involves compiling
    some programs for the host as well as the target, and `CC` applies to
    both compilations; setting it indiscriminately to
    x86_64-unknown-linux-gnu means that these host programs are miscompiled.
    
    Also, remove the download and installation of libz. We statically link
    libz now so there is no need to acquire a dynamic version of a Linux
    libz.

commit d3a687c0e852e5f09783274de4aaeaf8221ea222
Merge: 60714f2c2 959ca0ffa
Author: Nikhil Benesch <nikhil.benesch@gmail.com>
Date:   Fri Jun 12 22:29:51 2020 -0400

    Merge pull request #3357 from benesch/more-funcs-ii
    
    sql: generalize some more functions

commit 959ca0ffa7cbedcf7c00fb2e433d29e15679e004
Author: Nikhil Benesch <nikhil.benesch@gmail.com>
Date:   Fri Jun 12 18:30:12 2020 -0400

    sql: rewrite mod and nullif at the AST level
    
    Special casing these in the AST transformer is a bit clearer, in my
    opinion, and makes it so plan_function can call directly into the new
    generalized function selection infrastructure without any special cases.

commit db94aa9fbfd9408ec7e7e255680c3a4765477d9f
Author: Nikhil Benesch <nikhil.benesch@gmail.com>
Date:   Fri Jun 12 17:48:43 2020 -0400

    sql: move nullary functions to generalized infrastructure

commit b21836d39a47f209315ebc8515955a4672e3d3ab
Author: Nikhil Benesch <nikhil.benesch@gmail.com>
Date:   Fri Jun 12 17:40:04 2020 -0400

    sql: move internal_avg_promotion to generalized infrastructure

commit 60714f2c2e5df6094c603a36b5d16e4e018c1acc
Merge: f031fd1be f72922ad7
Author: Nikhil Benesch <nikhil.benesch@gmail.com>
Date:   Fri Jun 12 18:10:26 2020 -0400

    Merge pull request #3348 from benesch/more-funcs
    
    sql: move unary operators to general framework

commit f031fd1bea59a4fb73f724c69df414671987f202
Merge: 6062864b1 6e46dd5c7
Author: Natacha Crooks <nacrooks@gmail.com>
Date:   Fri Jun 12 17:52:50 2020 -0400

    Merge pull request #3349 from nacrooks/positionsfix
    
    Addresses Kafka performance regression testing
    
    In order to support transactions, we have to call consumer.positions() in downgrade_capabality. Unfortunately, this call is expensive as it 1) makes allocations 2) acquires locks. It caused a substantial performance downgrade in our Kafka ingestion.
    
    This PR batches downgrade_capability calls to once per invocation

commit f72922ad751124f253b6f1f5fde51c9846fb3440
Author: Nikhil Benesch <nikhil.benesch@gmail.com>
Date:   Fri Jun 12 02:45:37 2020 -0400

    sql: move unary operators to general framework

commit 1ad207a2b319024ed7487b62865d130b6bc14464
Author: Nikhil Benesch <nikhil.benesch@gmail.com>
Date:   Fri Jun 12 16:24:33 2020 -0400

    sql: import cast and query modules
    
    By convention, modules are `use`d as long as they are not ambiguous.
    This makes function calls a good bit shorter.

commit 790c1198c3c205e7231631ec28fb3bd1a241ce33
Author: Sean Loiselle <himself@seanloiselle.com>
Date:   Fri Jun 12 15:49:29 2020 -0400

    docs: flesh out create source

commit 6062864b1a36f3fb7b94562d783e096d3f243835
Merge: af8ecf232 ebe9d9e1c
Author: Justin Jaffray <justin.jaffray@gmail.com>
Date:   Fri Jun 12 15:59:48 2020 -0400

    Merge pull request #3354 from justinj/checked_mul
    
    Use checked_mul for multiplying integers

commit 6e46dd5c7dd45a9f740da07cf3354f65f8c28620
Author: Natacha Crooks <nacrooks@gmail.com>
Date:   Thu Jun 11 18:01:53 2020 -0400

    Move downgrade_capability to take place one per invocation rather than on every message

commit ebe9d9e1cd933c14e102eabc4f67101b095d75f9
Author: Justin Jaffray <justin.jaffray@gmail.com>
Date:   Fri Jun 12 15:04:24 2020 -0400

    Use checked_mul for multiplying integers

commit af8ecf232c90e2b28ad4a557b427fb89abd76bc8
Author: Ruchir Khaitan <ruchir0001@gmail.com>
Date:   Fri Jun 12 14:59:01 2020 -0400

    dataflow: add grafana metrics for sinks (#3336)
    
    Closes #2956
    
    This should hopefully make debugging sinks easier and help us measure sink performance over time.

commit c4b3a66ecb478422a18a3b3da52cced82be91e25
Merge: 94ab23038 be3f9eabe
Author: Sean Loiselle <sean@materialize.io>
Date:   Fri Jun 12 14:37:24 2020 -0400

    Merge pull request #3351 from sploiselle/param-type-categories
    
    Complete pseudotype support for func selection

commit be3f9eabe59fc7805945672451dae399b544179e
Author: Sean Loiselle <himself@seanloiselle.com>
Date:   Thu Jun 11 23:25:04 2020 -0400

    sql: complete pseudotype support for function selection
    
    Before this change, functions that needed to resolve competing implementations
    when called with parameters would encounter behavior that wasn't aware of
    pseudotypes, which could lead to failing to resolve a function that we should be
    able to select. This change teaches that section of the function selection
    algorithm about pseudotypes.

commit 94ab230380193422fa769df90155fda9bb6b042f
Merge: 0bf8fd1d1 e7d30a41b
Author: Nikhil Benesch <nikhil.benesch@gmail.com>
Date:   Fri Jun 12 12:42:27 2020 -0400

    Merge pull request #3350 from benesch/func-params
    
    sql: minorly improve ergonomics of params! macro

commit e7d30a41b527f9cbf282a56c90e4c3f4f0c50c1f
Author: Nikhil Benesch <nikhil.benesch@gmail.com>
Date:   Fri Jun 12 11:43:57 2020 -0400

    sql: minorly improve ergonomics of params! macro
    
    Allow specifying repeating parameters with a natural variadic syntax
    `(a, b, c)...`.
    
    Also tweak the macro_rules! calls to use the more conventional braced
    syntax, rather than parentheses. By convention, macros that expand to
    statements use braces, while macros that expand to expressions use
    paramentheses.

commit 0bf8fd1d11ac9b22f4a5877be0e91714e275bca0
Merge: ba97c60e0 1284cedee
Author: Nikhil Benesch <nikhil.benesch@gmail.com>
Date:   Fri Jun 12 02:20:55 2020 -0400

    Merge pull request #3346 from benesch/bump-postgres
    
    deps: bump to stable version of postgres crates

commit ba97c60e06bdb6fc5ef756eb2219298e72d8e51e
Merge: 285d8a9eb d04650432
Author: Nikhil Benesch <nikhil.benesch@gmail.com>
Date:   Fri Jun 12 02:01:34 2020 -0400

    Merge pull request #3345 from benesch/pgrepr-fixes
    
    pgrepr: tidy up

commit 1284cedeed2884da496bd8554801e84b774c0dae
Author: Nikhil Benesch <nikhil.benesch@gmail.com>
Date:   Fri Jun 12 01:45:25 2020 -0400

    deps: bump to stable version of postgres crates
    
    The patch we needed made it into postgres v0.17.3/tokio-postgres v0.5.4.

commit d046504325720acd68e7e0758c8a4242c9730150
Author: Nikhil Benesch <nikhil.benesch@gmail.com>
Date:   Fri Jun 12 01:22:18 2020 -0400

    pgrepr: remove some unnecessary pub markers
    
    These functions are helper functions that do not need to be public.

commit b3202122df2e91b90a3af8b34a05184e9113ced3
Author: Nikhil Benesch <nikhil.benesch@gmail.com>
Date:   Fri Jun 12 01:15:38 2020 -0400

    pgrepr: pick a better list OID
    
    Choosing a random OID has the potential to conflict with an OID
    automatically generated by Materialize once `CREATE TYPE` is supported.
    Much better to pick the lowest available OID, and then teach Materialize
    to never allocate an OID below that new threshold.

commit 0f05118014ec1b375623aaa595ac9cc2399dfb4f
Author: Nikhil Benesch <nikhil.benesch@gmail.com>
Date:   Fri Jun 12 01:10:19 2020 -0400

    pgrepr: tidy docs
    
    The documentation in the crate had rotted a bit due to refactors in
    other crates.

commit f19d76f9ff77db349572fc6eb724afc2476f9bcb
Author: Nikhil Benesch <nikhil.benesch@gmail.com>
Date:   Fri Jun 12 00:55:42 2020 -0400

    pgrepr: remove obsolete dependency on serde_json

commit 7e6768927258935fc60613b48b1617dd7bbe659f
Author: Nikhil Benesch <nikhil.benesch@gmail.com>
Date:   Fri Jun 12 00:54:26 2020 -0400

    pgrepr: remove dependency on failure
    
    Touches #3147.

commit 285d8a9ebb2e6c343f16803e25d3e85c45b6f275
Merge: f3674d4ca 9f537d5b7
Author: Nikhil Benesch <nikhil.benesch@gmail.com>
Date:   Thu Jun 11 21:44:32 2020 -0400

    Merge pull request #3344 from benesch/test-literal-coercion
    
    sqllogictest: add a few tests for string literal coercion

commit 9f537d5b75faed29b8ea56fe1fde2286405da0aa
Author: Nikhil Benesch <nikhil.benesch@gmail.com>
Date:   Thu Jun 11 19:00:59 2020 -0400

    sqllogictest: add a few tests for string literal coercion
    
    The combination of removing ScalarType::Unknown (#3160) and generalizing
    function and operator selection (#3126, #3271, #3286, et al.) has
    resulted in complete support for coercing string literals to typed
    values.
    
    This commit adds/enables a few more tests of string literal coercion.
    Many more tests of the feature are hiding in the disabled cockroach SQL
    logic tests, so we don't need to worry about adding too many of these
    tests ourselves.
    
    Fix #481.

commit f3674d4ca1f73dbc9dfdcb890a5708d028533015
Merge: 85c46f929 64cc38943
Author: Sean Loiselle <sean@materialize.io>
Date:   Thu Jun 11 21:15:34 2020 -0400

    Merge pull request #3340 from sploiselle/pseudo-types
    
    sq: proper pseudo-type handling in func selection

commit 85c46f9293ebba5474a64494287bc31a3ba8bed6
Merge: 882a35891 27fe6f1ca
Author: Nikhil Benesch <nikhil.benesch@gmail.com>
Date:   Thu Jun 11 19:33:53 2020 -0400

    Merge pull request #3343 from benesch/walkabout-api
    
    walkabout: remove ir::analyze from public API

commit 64cc38943c02c88e19290a566476d36c75eb4c24
Author: Sean Loiselle <himself@seanloiselle.com>
Date:   Thu Jun 11 19:05:10 2020 -0400

    sql: refactor ArgImplementationMatcher to support more parameter signatures
    
        Previously, sql::plan::func::ArgImplementationMatcher got very confused when encountering some
        signatures, namely those of TextConcat; it couldn't meaningfully differentiate between
        `ParamType::ExplicitStringAny` and `ParamType::Plain(String)`. This PR resolves that issue
        by properly handling `ExplicitStringAny` and its ilk as pseudotypes, rather than a duplicate
        implementation of its "underlying" concrete type.
    
        Also removes PG-incompatible implicit cast from bool to string.

commit 27fe6f1ca54ec272d253933500659c0a964b3f83
Author: Nikhil Benesch <nikhil.benesch@gmail.com>
Date:   Thu Jun 11 18:45:50 2020 -0400

    walkabout: remove ir::analyze from public API
    
    This was meant to be crate internal. It is called automatically by
    ir::load.

commit 882a35891a254f7619fb577d4036aa7768d5a0ca
Merge: d5f473724 7aab4a8fc
Author: Nikhil Benesch <nikhil.benesch@gmail.com>
Date:   Thu Jun 11 18:44:56 2020 -0400

    Merge pull request #3335 from benesch/sqlparser-reorg
    
    sql-parser: reorganize AST for maintainability

commit 7aab4a8fc40e66f5901f0088a61165fc91ec6978
Author: Nikhil Benesch <nikhil.benesch@gmail.com>
Date:   Thu Jun 11 17:07:41 2020 -0400

    sql-parser: delete tokenizer tests
    
    Testing the tokenizer directly is a waste of resources. It is fully
    exercised by the parser, and the parser has datadriven tests that make
    it much easier to test.

commit 21c87a7ceee3d1f44854ec569232a9e006f0b4cb
Author: Nikhil Benesch <nikhil.benesch@gmail.com>
Date:   Thu Jun 11 16:46:57 2020 -0400

    sql-parser: support extended string literals
    
    Support PostgreSQL's "extended" string literals which allow C-like
    escape sequences like "\n" and "\t".
    
    For good measure, this renames Value::SingleQuotedString to
    Value::String, since "SingleQuotedString" (to me) implies the absence of
    the "e" prefix, and is also massively annoying to type and read
    everywhere.
    
    Fix #1734.

commit 8f8ce567c64b4936763b0050734927435f5a6c3a
Author: Nikhil Benesch <nikhil.benesch@gmail.com>
Date:   Thu Jun 11 15:06:19 2020 -0400

    sql-parser: support ROW constructors
    
    This removes all the parse failures in cockroachdb/tuple.slt. Planning
    still fails, of course, because we do not yet support record types.

commit 6ba2e8297fbbb30433d8cf09127eaaf480764928
Author: Nikhil Benesch <nikhil.benesch@gmail.com>
Date:   Thu Jun 11 13:28:53 2020 -0400

    sql-parser: reorganize AST for maintainability
    
    Split the AST into more modules, so it's easier to navigate. Isolate the
    types that are formally part of the AST from helper structs, so that
    walkabout has an easier time finding the structs it cares about.
    
    This commit is purely code movement with the exception of removing the
    FromStr implementations from a few types (ExtractField and
    WindowFrameUnits), as AST nodes should not have FromStr implementations.
    It doesn't make sense to try to parse an AST node from a string without
    invoking the full machinery of the SQL parser.

commit 7f3916570c5673d3c8fea2a9abf013a990cf2193
Author: Natacha Crooks <nacrooks@gmail.com>
Date:   Thu Jun 11 17:40:30 2020 -0400

    Rewrite can_close_timestamp call to only call positions when necessary

commit d5f473724574f2f1d8400c3f0c6c1cc4d3f63ea3
Author: Brandon W Maister <bwm@materialize.io>
Date:   Thu Jun 11 12:24:58 2020 -0400

    Remove interactivity from mzbuild docker run (#3333)
    
    * `--interactive` requires that the _input_ is a tty, which is not something that we want
      to support when just building docker images. This actively breaks mzcompose when it is
      called as a subprocess from mzconduct and it needs to run a docker container, in some
      situations.
    
    * `--tty` means that output that processes see will seem to a tty, which often puts them
      in a different UI mode.
    
      I'm leaving this in because it doesn't seem to be hurting right now, and it probably
      makes running things locally a bit nicer. We should consider only applying this when
      the mzbuild output device itself is a tty, but that seems like hard work.

commit 9f0ebf1c8a795d0857cb11274ae9a20bb3655b66
Merge: fbef84f54 a1a7ed765
Author: Sean Loiselle <sean@materialize.io>
Date:   Thu Jun 11 12:03:40 2020 -0400

    Merge pull request #3330 from sploiselle/best-match-planning
    
    Tidy up `plan_homogeneous_exprs`

commit fbef84f54d38cc838c188df7bf66f2305025c610
Merge: d4649fd69 053012df1
Author: Nikhil Benesch <nikhil.benesch@gmail.com>
Date:   Thu Jun 11 11:57:52 2020 -0400

    Merge pull request #3288 from benesch/sqlparser-visit-gen
    
    sql-parser: generate visitor automatically

commit a1a7ed765ff282de24250f392b880dfc2a85a838
Author: Sean Loiselle <himself@seanloiselle.com>
Date:   Mon Jun 8 23:14:17 2020 -0400

    sql: refactor plan_homogeneous_exprs to use new type system

commit d4649fd69b41b10eaf90fadf7c2c9ad74807d0f7
Author: Brennan Vincent <brennan@materialize.io>
Date:   Thu Jun 11 10:59:44 2020 -0400

    Debezium deduplication strategies: "ordered" or "full" (#3332)
    
    "Ordered" is the previous default: each worker keeps a map of highest-seen coordinates (position and row) for each binlog file, and rejects rows with any lower coordinates.
    
    "Full" requires more memory, but is necessary for users whose data does not follow the ordering constraint implied by "ordered". Each worker holds a map of all coordinates seen for all binlogs, and rejects any duplicate rows.

commit 8f9f87fdbcc5e8867f95e8599903cd43b908008e
Author: Brandon W Maister <bwm@materialize.io>
Date:   Thu Jun 11 10:20:09 2020 -0400

    Add prometheus metrics for rate of command processing (#3328)

commit 188a21fb13aad55dbcdd8678b5da9ec9d5a3e6b8
Merge: 97e72526b 2fe3cf17f
Author: Jessica Laughlin <JLDLaughlin@users.noreply.github.com>
Date:   Thu Jun 11 10:03:09 2020 -0400

    Fix bug in multi-partition chaos test (#3327)
    
    To correctly check if the rows sent to Kafka match the rows in Materialize at the
    end of a chaos test, we need to sort both the rows as they are sent and after they
    are queried. Otherwise, we get false failures from out-of-order rows.

commit 053012df1071d9864eb1ff6aeb07966d747c0dd9
Author: Nikhil Benesch <nikhil.benesch@gmail.com>
Date:   Mon Jun 8 00:56:02 2020 -0400

    sql-parser: generate visitor automatically
    
    Updating the sql-parser visitor by hand has long been the most
    irritating part of modifying the sql-parser crate. So, add the moral
    equivalent of a procedural macro to automatically generate the visitor.
    This is quite a bit less error prone, and will hopefully make modifying
    the SQL AST much less annoying.

commit 2fe3cf17fb43da0c55dd81e807713e7301cedf88
Author: JLDLaughlin <jessica@materialize.io>
Date:   Wed Jun 10 14:58:21 2020 -0400

    Fix bug in multi-partition chaos test

commit 97e72526b2251204aa5fea88048868e8ca632e84
Author: Jessica Laughlin <JLDLaughlin@users.noreply.github.com>
Date:   Wed Jun 10 14:45:52 2020 -0400

    Add ChaosConfimStep to mzconduct (#3325)
    
    Adds ChaosConfirmStep, allowing us to assert the state of a Docker container
    (running, exit code) as an mzconduct workflow step.

commit 06a0cc254cdeb43e7530231a55bbb9ee663034aa
Author: Frank McSherry <fmcsherry@me.com>
Date:   Wed Jun 10 11:16:37 2020 -0400

    Increase reporting of reasons timestamp selection might fail (#3232)
    
    This PR reports more information in each case that we are unable to select a timestamp. If some input has no complete timestamps, all inputs with that condition are reported. If some input is not valid for the selected timestamp, all inputs with that condition are reported.

commit f7581f849e5aee4b043132808871d1785be2974d
Merge: 1b4fc4dc6 f60b29a1a
Author: Nikhil Benesch <nikhil.benesch@gmail.com>
Date:   Wed Jun 10 09:09:22 2020 -0400

    Merge pull request #3321 from benesch/backtrace-no-gimli
    
    materialized: generate backtraces with libbacktrace, not gimli

commit 1b4fc4dc618afad87b7dcd1a411369d8337b57d9
Merge: 7bffeddc8 e751bbe3a
Author: Sean Loiselle <sean@materialize.io>
Date:   Wed Jun 10 00:38:11 2020 -0400

    Merge pull request #3322 from sploiselle/comparison-op-generalization
    
    sql: generalize comparison operator selection

commit e751bbe3abca688f2c2c120e09a4c37f3b39b7d2
Author: Sean Loiselle <himself@seanloiselle.com>
Date:   Tue Jun 9 11:55:26 2020 -0400

    sql: generalize comparison operator selection

commit 7bffeddc8d9a5c53cf26bdbf339319f5f7bf6881
Author: Jessica Laughlin <JLDLaughlin@users.noreply.github.com>
Date:   Tue Jun 9 15:37:24 2020 -0400

    Fix ChaosDockerWorkflowStep string (#3320)
    
    Fix bug in ChaosDockerWorkflowStep string

commit f60b29a1a77baa29bdd602efa49c46ca8e76d7c4
Author: Nikhil Benesch <nikhil.benesch@gmail.com>
Date:   Tue Jun 9 15:29:07 2020 -0400

    materialized: generate backtraces with libbacktrace, not gimli
    
    Gimli does not support compressed debug info and it is also much slower.
    The default changed out from under us in v0.3.47 of the backtrace crate.
    Explictly opt back into libbacktrace instead of gimli.

commit 690091008d2628d0985b11ea0879ab792005f4bf
Merge: 7cb052d55 e1663f7d2
Author: Jessica Laughlin <JLDLaughlin@users.noreply.github.com>
Date:   Tue Jun 9 15:23:02 2020 -0400

    Add ChaosKillDockerStep to mzconduct (#3318)
    
    Given a Docker service name, the new ChaosKillDockerStep in mzconduct will
    run `docker kill` against its running container (presumably {comp.name}_{service}_1).

commit e1663f7d28183fb2537fe18dcae9dc8ea16b92f0
Author: JLDLaughlin <jessica@materialize.io>
Date:   Tue Jun 9 15:09:14 2020 -0400

    Documentation bug

commit dbd31c0e2d5d472c1d6b496ce50ac6e02583dc48
Author: JLDLaughlin <jessica@materialize.io>
Date:   Tue Jun 9 15:06:39 2020 -0400

    Pass around service names, not container names

commit 7cb052d55f52de0dbfdca1ce33ce6b2aa7669d1c
Merge: ba084a9b5 1305a2e1c
Author: Nikhil Benesch <nikhil.benesch@gmail.com>
Date:   Tue Jun 9 14:44:50 2020 -0400

    Merge pull request #3284 from benesch/startup-hang
    
    materialized: start dataflow workers before coordinator

commit ba084a9b57802a9cba7b2fdbbff275546b3a4156
Author: Brandon W Maister <bwm@materialize.io>
Date:   Tue Jun 9 13:59:26 2020 -0400

    load-tests: Create cloud-load-test mzconduct workflows (#3317)
    
    The cloud-load-test workflows expect to be scraped from a prometheus server that is *not*
    in a locally-running dashboard, unlike load-test workflows, which are meant to be used
    locally and are entirely self-contained.
    
    cloud-load-test workflows require that:
    
    * They always start prometheus_sql_exporter_mz exposed on port 9400
    * They never start the dashboard container, which is just unnecessary overhead it won't
      break external metrics collection

commit 1305a2e1c92cbc908a1dfb32f69a782e4ee4d1d9
Author: Nikhil Benesch <nikhil.benesch@gmail.com>
Date:   Sat Jun 6 12:33:44 2020 -0400

    materialized: start dataflow workers before coordinator
    
    Booting the coordinator can involve sending enough data to the workers
    that the `comm` channel buffer fills up, stalling startup permanently.
    The fix is easy: start the workers before the coordinator, so they can
    drain the commands from the buffer as the coordinator puts them in.
    
    Fix #3280.

commit 285a470cead0582fc62282174694358b1e409084
Merge: 3278a6a44 5c54bbc60
Author: Nikhil Benesch <nikhil.benesch@gmail.com>
Date:   Tue Jun 9 12:04:04 2020 -0400

    Merge pull request #3283 from benesch/jsonb-stuff
    
    sql-parser: fix rendering of cast-involving expression

commit d68553e5762c0939473878f51ad8d82748d4ad08
Author: JLDLaughlin <jessica@materialize.io>
Date:   Tue Jun 9 11:46:12 2020 -0400

    Documentation bug

commit 11bcaa4109048f54f95d792f1bcb7326c1f0a61a
Author: JLDLaughlin <jessica@materialize.io>
Date:   Tue Jun 9 11:43:59 2020 -0400

    Add ChaosKillContainerStep to mzconduct

commit 3278a6a4402699dd28414f5949feb6ba95836b13
Merge: e07dfdacc 7eef7eddc
Author: Nikhil Benesch <nikhil.benesch@gmail.com>
Date:   Tue Jun 9 11:43:41 2020 -0400

    Merge pull request #3316 from benesch/rusoto-bump
    
    deps: bump rusoto ecosystem to v0.44.0

commit e07dfdacc3dd5f80a8e95d98362a6862263a8fbd
Merge: 0968d033e 4cb7b56f3
Author: Nikhil Benesch <nikhil.benesch@gmail.com>
Date:   Tue Jun 9 11:43:23 2020 -0400

    Merge pull request #3289 from MaterializeInc/dependabot/cargo/stream-cancel-0.6.1
    
    build(deps): bump stream-cancel from 0.5.2 to 0.6.1

commit 0968d033e66959fcf993ac2a9e85874c7a9da046
Merge: 5b0a801e2 191228075
Author: Sean Loiselle <sean@materialize.io>
Date:   Tue Jun 9 11:12:43 2020 -0400

    Merge pull request #3312 from sploiselle/binary-op-generalization
    
    Binary op generalization

commit 5b0a801e24ee0a542bd612fe66ec01ff6ca0d4ef
Author: Jessica Laughlin <JLDLaughlin@users.noreply.github.com>
Date:   Tue Jun 9 11:06:02 2020 -0400

    Add enable.idempotence to KafkaClient (#3306)
    
    The test-util KafkaClient now optionally takes a list of (String, String) configurations
    to add to the ClientConfig, which is used to create the Kafka producer. For chaos testing
    purposes, we add "enable.idempotence" as true to ensure exactly once delivery of
    each record.

commit 454c3cae1672efe4b3e49c2e0db62232c70e1f1f
Author: Jessica Laughlin <JLDLaughlin@users.noreply.github.com>
Date:   Tue Jun 9 11:00:28 2020 -0400

    Add ChaosDelayContainerStep to mzconduct (#3303)
    
    The new ChaosDelayContainerStep delays inbound and outbound traffic of
    a Docker container by X milliseconds -- the value is either provided by the user
    or 100ms by default.

commit 191228075421796633f75c8b1caaf2c92d934e37
Author: Sean Loiselle <himself@seanloiselle.com>
Date:   Mon Jun 8 19:14:52 2020 -0400

    sql: generalize json operation selection

commit 7eef7eddcde05bfe5b4b5cc6a256d0fa3fbd0d49
Author: Nikhil Benesch <nikhil.benesch@gmail.com>
Date:   Tue Jun 9 10:37:07 2020 -0400

    deps: bump rusoto ecosystem to v0.44.0
    
    Closes #3290.
    Closes #3291.
    Closes #3297.
    Closes #3298.

commit 4cb7b56f3a430892a02f38b9fbcd2fcb362afe72
Author: dependabot-preview[bot] <27856297+dependabot-preview[bot]@users.noreply.github.com>
Date:   Mon Jun 8 11:05:46 2020 +0000

    build(deps): bump stream-cancel from 0.5.2 to 0.6.1
    
    Bumps [stream-cancel](https://github.com/jonhoo/stream-cancel) from 0.5.2 to 0.6.1.
    - [Release notes](https://github.com/jonhoo/stream-cancel/releases)
    - [Commits](https://github.com/jonhoo/stream-cancel/compare/v0.5.2...v0.6.1)
    
    Signed-off-by: dependabot-preview[bot] <support@dependabot.com>

commit 6f257ee4fdf80d35516a2758d63a7cc42d104122
Author: Ruchir Khaitan <ruchir0001@gmail.com>
Date:   Tue Jun 9 10:26:47 2020 -0400

    dataflow: avoid spawning new thread when we drop sinks (#3315)
    
    Touches #2860
    
    This change is meant to be functionality preserving, just a refactor so that we don't spawn a new thread that we can't really interact with. Instead, let's not destroy the sink operator until we know that the Kafka send queue is empty.

commit 2fb1ae32073f9dc3c51e7e13bf4e6c7ad2434652
Merge: b8275287e 21cbbc77d
Author: Nikhil Benesch <nikhil.benesch@gmail.com>
Date:   Tue Jun 9 10:24:57 2020 -0400

    Merge pull request #3295 from MaterializeInc/dependabot/cargo/openssl-sys-0.9.58
    
    build(deps): bump openssl-sys from 0.9.57 to 0.9.58

commit b8275287eb966127717bfa633a028eb3fe18c794
Author: Brandon W Maister <bwm@materialize.io>
Date:   Tue Jun 9 09:30:02 2020 -0400

    Add the time of the crash to the stderr crash message (#3313)
    
    Without this it looks like it is happening directly caused by the previous error message,
    but in fact it may be entirely unrelated.
    
    With this, the error message looks like (for `panic!("oh no!")`):
    
        Jun 09 03:31:39.155Z materialized encountered an internal error and crashed.
        ...
         thread: main
        message: Oh no!

commit 3cab45f670a814120df3a002fb4ff7681a650ca3
Merge: d47aa1745 b9bec5d19
Author: Nikhil Benesch <nikhil.benesch@gmail.com>
Date:   Mon Jun 8 23:56:13 2020 -0400

    Merge pull request #3294 from MaterializeInc/dependabot/cargo/tracing-0.1.15
    
    build(deps): bump tracing from 0.1.14 to 0.1.15

commit d47aa174543f49ff7ff20f8417bfd790c1b67bc5
Merge: 7989b7efc a7c39f667
Author: Nikhil Benesch <nikhil.benesch@gmail.com>
Date:   Mon Jun 8 23:56:02 2020 -0400

    Merge pull request #3293 from MaterializeInc/dependabot/cargo/async-trait-0.1.33
    
    build(deps): bump async-trait from 0.1.31 to 0.1.33

commit 7989b7efcae2aecd70060a8b35d365bf1a52cb51
Merge: 2bfc4cc3d 425e1f58a
Author: Nikhil Benesch <nikhil.benesch@gmail.com>
Date:   Mon Jun 8 23:47:13 2020 -0400

    Merge pull request #3296 from MaterializeInc/dependabot/cargo/rdkafka-2a52094
    
    build(deps): bump rdkafka from `27cb200` to `2a52094`

commit 6d3145ffbc918eede3a989d608343e951c0d33b2
Author: Sean Loiselle <himself@seanloiselle.com>
Date:   Mon Jun 8 16:45:17 2020 -0400

    sql: generalize like/not like selection

commit 37802a6472a914c5429559f52ba02ec5f2adc2fe
Author: Sean Loiselle <himself@seanloiselle.com>
Date:   Mon Jun 8 15:08:02 2020 -0400

    sql: generalize boolean operator selection

commit 0f5d109a46ef6759ef0a83868ac20431680d64cd
Author: Sean Loiselle <himself@seanloiselle.com>
Date:   Mon Jun 8 15:00:02 2020 -0400

    sql: preemptively rename select_arithmetic_op to select_binary_op

commit a7c39f6670b66a1ee35d363b2eb9be3d74a28508
Author: dependabot-preview[bot] <27856297+dependabot-preview[bot]@users.noreply.github.com>
Date:   Mon Jun 8 23:14:49 2020 +0000

    build(deps): bump async-trait from 0.1.31 to 0.1.33
    
    Bumps [async-trait](https://github.com/dtolnay/async-trait) from 0.1.31 to 0.1.33.
    - [Release notes](https://github.com/dtolnay/async-trait/releases)
    - [Commits](https://github.com/dtolnay/async-trait/compare/0.1.31...0.1.33)
    
    Signed-off-by: dependabot-preview[bot] <support@dependabot.com>

commit 2bfc4cc3df67490ed7ee58d3851b849548c84660
Author: Brennan Vincent <brennan@materialize.io>
Date:   Mon Jun 8 19:12:50 2020 -0400

    version bump: v0.3.2-dev (#3307)

commit 9727202b542ac0e47c28cb46e0ae8cf108e50ea4
Author: Brandon W Maister <bwm@materialize.io>
Date:   Mon Jun 8 18:38:52 2020 -0400

    Turns out u64::FromStr doesn't support underscores in numbers (#3285)

commit 29cb30db78c691f5fb7ca950c4bc280d999c8ee8
Author: Brandon W Maister <bwm@materialize.io>
Date:   Mon Jun 8 18:29:31 2020 -0400

    Don't wait-for-mz to backfill load tests (#3311)
    
    Old versions of materialized did not correctly handle `SELECT 1`, so using that to check
    if mzd is running is invalid, sadly.

commit ed49d16e31353fb27df39b86ae59a760e55b4984
Merge: 345d8bdd2 c480c8372
Author: Sean Loiselle <sean@materialize.io>
Date:   Mon Jun 8 16:43:59 2020 -0400

    Merge pull request #3286 from sploiselle/valid-cast-check
    
    sql: refactor structure of casts

commit c480c8372d869b46422cccb0cde4ebc595e35491
Author: Sean Loiselle <himself@seanloiselle.com>
Date:   Fri Jun 5 01:58:34 2020 -0400

    sql: refactor structure of casts

commit 345d8bdd2edbafca192dd7aff7ca7d69b3c7530f
Merge: 0dfb1d1c0 98976c4ae
Author: Sean Loiselle <sean@materialize.io>
Date:   Mon Jun 8 15:18:13 2020 -0400

    Merge pull request #3309 from sploiselle/coalesce-null-comments
    
    sql: improve comments on reudce implementation for coalesce

commit 0dfb1d1c01f970fad6acb877e37ccc1f44e94454
Merge: 10bb74031 1d43b46cc
Author: Sean Loiselle <sean@materialize.io>
Date:   Mon Jun 8 15:08:19 2020 -0400

    Merge pull request #3310 from sploiselle/length-function-tidy
    
    sql: add overflow errors for length functions + release notes

commit 1d43b46cc8045b9c14388ac2de0b119f2594c4bc
Author: Sean Loiselle <himself@seanloiselle.com>
Date:   Mon Jun 8 14:51:42 2020 -0400

    sql: add overflow errors for length functions + release notes

commit 98976c4aef0bf84d39dcd7ca858afd078692eacb
Author: Sean Loiselle <himself@seanloiselle.com>
Date:   Mon Jun 8 14:27:11 2020 -0400

    sql: improve comments on reudce implementation for coalesce

commit 10bb740319c5089318e4e950b48cbd1571756b1e
Merge: 4d8d6ce80 6a9af36f1
Author: Sean Loiselle <sean@materialize.io>
Date:   Mon Jun 8 13:28:36 2020 -0400

    Merge pull request #3304 from sploiselle/assertion-failure
    
    sql: support COALESCE(null)

commit 4d8d6ce80f310c3bee60dfd1d24bedac1ad99917
Author: Ruchir Khaitan <ruchir0001@gmail.com>
Date:   Mon Jun 8 13:08:17 2020 -0400

    dataflow: fuel tank for sinks (#3246)
    
    Adds a limit to how many records we attempt to send on one run of the kafka sink operator. Previously, the system would become unresponsive if we created a sink on a large or rapidly changing view as it would attempt to write down all of the view's history at once.
    
    Closes # 2806

commit d8b8256d0762aec3a9e84bc3208175a06f3c1444
Merge: 28e2dbb26 bc2687ba0
Author: Natacha Crooks <nacrooks@gmail.com>
Date:   Mon Jun 8 13:04:23 2020 -0400

    Merge pull request #3259 from nacrooks/trxproducer
    
    Support for transactional Kafka Producer + associated demo for testing.

commit bc2687ba0fd709f18e3c2b26d626ebabe1d06da3
Author: Natacha Crooks <nacrooks@gmail.com>
Date:   Fri Jun 5 15:51:30 2020 -0400

    Adds support for transactional topics. Sets consumer to read-committed and modifies downgrade_capability logic to consider the consumer position rather than the offset of the last processed message. Includes a demo that produces transactions (and randomly aborts them).

commit 6a9af36f1f7f62f1c35fa318cdfe32a3822da4de
Author: Sean Loiselle <himself@seanloiselle.com>
Date:   Mon Jun 8 12:36:03 2020 -0400

    sql: support COALESCE(null)

commit 28e2dbb265ad67290ace65bc5e0f4920b1b2680b
Merge: 43c21b60f 578af2947
Author: Natacha Crooks <nacrooks@gmail.com>
Date:   Mon Jun 8 12:30:02 2020 -0400

    Merge pull request #3302 from nacrooks/improvecommit
    
    Add explicit panic statement on main consumer loop

commit 578af29479fcd61aad19db81117f1e681bdd9762
Author: Natacha Crooks <nacrooks@gmail.com>
Date:   Mon Jun 8 11:08:00 2020 -0400

    Add an explicit panic statement when receive a message (rather than an error) on the main kafka consumer loop. Errors are expected and can be ignored. Messages are not

commit 43c21b60f6935ed0f7d6a0dd4d3b6e4c63709687
Merge: 186eafab2 32dec782e
Author: Nikhil Benesch <nikhil.benesch@gmail.com>
Date:   Mon Jun 8 10:49:45 2020 -0400

    Merge pull request #3301 from benesch/xcompile-fix
    
    xcompile: don't delete or modify .cargo/config

commit 32dec782ebde8341fd538526167c67fb9e758cde
Author: Nikhil Benesch <nikhil.benesch@gmail.com>
Date:   Mon Jun 8 10:07:58 2020 -0400

    xcompile: don't delete or modify .cargo/config
    
    Modifying .cargo/config is unnecessary because we set
    CARGO_TARGET_X86_64_UNKNOWN_LINUX_GNU_LINKER.

commit 425e1f58ac9fd20cfdbd3e16891e7b7695c47771
Author: dependabot-preview[bot] <27856297+dependabot-preview[bot]@users.noreply.github.com>
Date:   Mon Jun 8 11:09:23 2020 +0000

    build(deps): bump rdkafka from `27cb200` to `2a52094`
    
    Bumps [rdkafka](https://github.com/fede1024/rust-rdkafka) from `27cb200` to `2a52094`.
    - [Release notes](https://github.com/fede1024/rust-rdkafka/releases)
    - [Commits](https://github.com/fede1024/rust-rdkafka/compare/27cb20049652604bf405b8b819efc796f37204ab...2a5209435e438d7cdb8bbf6bfa4af07073ed6841)
    
    Signed-off-by: dependabot-preview[bot] <support@dependabot.com>

commit 21cbbc77d0e427ce52fb61ebb52839f34164aa3e
Author: dependabot-preview[bot] <27856297+dependabot-preview[bot]@users.noreply.github.com>
Date:   Mon Jun 8 11:08:36 2020 +0000

    build(deps): bump openssl-sys from 0.9.57 to 0.9.58
    
    Bumps [openssl-sys](https://github.com/sfackler/rust-openssl) from 0.9.57 to 0.9.58.
    - [Release notes](https://github.com/sfackler/rust-openssl/releases)
    - [Commits](https://github.com/sfackler/rust-openssl/compare/openssl-sys-v0.9.57...openssl-sys-v0.9.58)
    
    Signed-off-by: dependabot-preview[bot] <support@dependabot.com>

commit b9bec5d19dc403f6472a68d9c4eb369f11fdc3a4
Author: dependabot-preview[bot] <27856297+dependabot-preview[bot]@users.noreply.github.com>
Date:   Mon Jun 8 11:08:06 2020 +0000

    build(deps): bump tracing from 0.1.14 to 0.1.15
    
    Bumps [tracing](https://github.com/tokio-rs/tracing) from 0.1.14 to 0.1.15.
    - [Release notes](https://github.com/tokio-rs/tracing/releases)
    - [Commits](https://github.com/tokio-rs/tracing/compare/tracing-0.1.14...tracing-0.1.15)
    
    Signed-off-by: dependabot-preview[bot] <support@dependabot.com>

commit 62a2a0d54eedd06bca57467829a5a83b4a8d5cca
Author: Nikhil Benesch <nikhil.benesch@gmail.com>
Date:   Mon Jun 8 00:51:06 2020 -0400

    sql: fix optimization in AggregateFuncVisitor
    
    AggregateFuncVisitor only needs to look at the current level of the
    the query, so as an optimization it stops recursing if it sees
    Expr::Subquery. There are actually several other forms of subqueries
    (Expr::InSubquery, Expr::Exists) that this optimization was not
    catching. Teach it to look for Query nodes instead, which is guaranteed
    to catch all subqueries.

commit a27cdddf1b01877569fec6462519fa9a9bca84bb
Author: Nikhil Benesch <nikhil.benesch@gmail.com>
Date:   Mon Jun 8 00:45:13 2020 -0400

    sql-parser: reorder AST fields to match SQL source order
    
    We try to have the order of fields in the AST match the order they
    appear in a SQL statement. This isn't particularly important except
    inasmuch as it makes test_basic_visitor easier to follow. Fix a few
    places where the AST order did not match the SQL source order.

commit 186eafab26206447868c5ecec5c1ef41e4df66df
Merge: 13fe83644 365429137
Author: Sean Loiselle <sean@materialize.io>
Date:   Sat Jun 6 21:45:27 2020 -0400

    Merge pull request #3287 from sploiselle/sqrt-decimal
    
    sql: add sqrt_dec function

commit 365429137257c7e2513b917458acfb8ea253c7f6
Author: Sean Loiselle <himself@seanloiselle.com>
Date:   Sat Jun 6 21:26:01 2020 -0400

    sql: add EvalError for negative square roots

commit 55e5236b728d3cb9f2e488eb47b558d873a71bd8
Author: Sean Loiselle <himself@seanloiselle.com>
Date:   Sat Jun 6 18:59:42 2020 -0400

    sql: add sqrt_dec function
    
    Computes square root of decimal by converting it to float64, computing square, and converting back to `ScalarType::Decimal`.

commit 13fe83644eaa806fb6a89f9d7a8d9dc674080ac7
Merge: 8ee48a8ef 909d17ed4
Author: Sean Loiselle <sean@materialize.io>
Date:   Sat Jun 6 15:40:04 2020 -0400

    Merge pull request #3271 from sploiselle/generalize-operator-selection
    
    sql: generalize operator selection

commit 909d17ed4d933882f56fa3f7edaade87950d7110
Author: Sean Loiselle <himself@seanloiselle.com>
Date:   Wed Jun 3 17:42:16 2020 -0400

    sql: generalize operator selection

commit 8ee48a8ef9e24290275869119c66057cd43dc90a
Merge: fb35ac4db e99989a1f
Author: Nikhil Benesch <nikhil.benesch@gmail.com>
Date:   Sat Jun 6 12:17:24 2020 -0400

    Merge pull request #3261 from benesch/repr-regex-docs
    
    repr: improve regex docs

commit 5c54bbc604ca00abe667c23d81ae2540bf9e1159
Author: Nikhil Benesch <nikhil.benesch@gmail.com>
Date:   Sat Jun 6 02:01:58 2020 -0400

    sql-parser: fix rendering of cast-involving expression
    
    Since we rewrite
    
        CAST(<expr> OP <expr> AS <type>)
    
    to
    
        <expr> OP <expr>::<type>
    
    we need to be careful to wrap in parentheses
    
        (<expr> OP <expr>)::<type>
    
    to avoid changing the meaning of the expression.
    
    Fix #3281.

commit 921008d2bda3d58d1ab549c1823d84bad331c783
Author: Nikhil Benesch <nikhil.benesch@gmail.com>
Date:   Sat Jun 6 01:25:56 2020 -0400

    testdrive: move jsonb_agg tests to sqllogictest
    
    It is much shorter as a sqllogictest. Add a basic JSONB smoke test to
    testdrive that tests JSONB over pgwire.

commit fb35ac4dbb5adbab9757e289c7d4c306cf457467
Merge: 15f428f8f 221013362
Author: Nikhil Benesch <nikhil.benesch@gmail.com>
Date:   Fri Jun 5 21:49:22 2020 -0400

    Merge pull request #3282 from benesch/repr-pack-list-dict
    
    repr: improve API of packing lists and dicts into rows

commit 15f428f8f1afe8e6b213b73646aa8e213f36ce56
Author: Frank McSherry <fmcsherry@me.com>
Date:   Fri Jun 5 21:45:43 2020 -0400

    Push predicate information through views to sources (#3279)
    
    This PR pushes predicate information through views and to sources, which can allow sources to filter information early. This is especially helpful for the upsert operator, which is able to reduce the volume of data that it maintains for correct operation to just those records that pass the filter.
    
    This PR does not actually perform these optimizations for any sources, but it makes the data available.

commit 22101336218f37e2fe94597e58b61a97cd3c4ec4
Author: Nikhil Benesch <nikhil.benesch@gmail.com>
Date:   Fri Jun 5 11:36:34 2020 -0400

    interchange: reuse RowPacker
    
    This saves an allocation.

commit 4ba05047fd00d3ab4e9a3c7c79e9f3d285bc891c
Author: Nikhil Benesch <nikhil.benesch@gmail.com>
Date:   Fri Jun 5 11:19:07 2020 -0400

    repr: improve API of packing lists and dicts into rows
    
    Simplify the API for packing lists and dicts to the following two
    functions:
    
        RowPacker::push_list_with<F, R>(&mut self, f: F) -> R
        where
            F: FnOnce(&mut RowPacker) -> R
    
        RowPacker::push_dict_with<F, R>(&mut self, f: F) -> R
        where
            F: FnOnce(&mut RowPacker) -> R
    
    These signatures are general enough to subsume all uses of
    start_list, finish_list, start_dict, finish_dict, try_push_list_with,
    and try_push_dict_with.

commit e63589b75bb90551946c11b7bd2c7d9f30cd1e23
Merge: 3ceed8ecc c7abfb443
Author: Nikhil Benesch <nikhil.benesch@gmail.com>
Date:   Fri Jun 5 15:17:59 2020 -0400

    Merge pull request #3277 from benesch/coord-session
    
    coord: absorb sql::Session

commit 3ceed8ecc351d9dc37991d6b7f53dc17c8a39a3e
Author: Brennan Vincent <brennan@materialize.io>
Date:   Fri Jun 5 13:58:23 2020 -0400

    add trace message with full rows to Avro decode (#3278)

commit a8a69e01aca0d1fc68f06fc2ad64daedad13053f
Author: Frank McSherry <fmcsherry@me.com>
Date:   Fri Jun 5 13:39:40 2020 -0400

    move filter_lets to predicate_pushdown (#3273)
    
    The filter_lets transform used to be where we push predicates down across Let and Get statements, hoisting common predicates from Gets in a Let body. In the interest of inter-view optimization, it makes more sense to have one method that can also collect candidate predicates for each Get statement, to push to other views or to sources.

commit 1ffeef1bcb76e8a1de055832c496237e900ae560
Author: Frank McSherry <fmcsherry@me.com>
Date:   Fri Jun 5 12:06:13 2020 -0400

    Allow Row to be stored in-line (#3248)
    
    * Allow Row to be stored in-line
    
    * rebase
    
    * Reduce use of finish()
    
    * change RowPacker default capacity to empty, reinstate Row::pack
    
    * reduce diff noise

commit ebcd07c8a3deb5b555eb86ad8a82d4c30f452d66
Author: Brandon W Maister <bwm@materialize.io>
Date:   Fri Jun 5 11:57:48 2020 -0400

    perf-kinesis: Fix worklow that exposes mz logs as prom metrics (#3276)
    
    Add it to both nightly and load-test workflows, so that it's harder to accidently not
    import them into our permanent metrics.

commit c7abfb4438294f1d26f28d71b7ee7774f56a33b2
Author: Nikhil Benesch <nikhil.benesch@gmail.com>
Date:   Fri Jun 5 11:51:16 2020 -0400

    coord: absorb sql::Session
    
    The sql crate has now properly abstracted away all details of connection
    state that it relies on with the sql::catalog::Catalog trait. Nothing in
    the sql crate actually depends on the Session type, which is a clear
    sign it belongs in the place it is actually used; i.e., the coordinator.

commit 9a680bad15249f05fc84e88f364c42c055543373
Author: Brandon W Maister <bwm@materialize.io>
Date:   Fri Jun 5 11:47:57 2020 -0400

    Add perf-kinesis to ci (#3275)

commit 1433dc5e23d1e89a2b5f805f7d2aa1aececcfe2b
Author: Brandon W Maister <bwm@materialize.io>
Date:   Fri Jun 5 11:08:12 2020 -0400

    Silence a warning from docker-compose for unset variable (#3269)

commit 44425bbc746894360c391307f5ad56a1087a462b
Author: Jessica Laughlin <JLDLaughlin@users.noreply.github.com>
Date:   Fri Jun 5 11:02:55 2020 -0400

    Add ChaosStopContainerStep test (#3264)
    
    New mzconduct chaos step that runs docker stop and start against a specified
    container.

commit f689520c4267d6570576ca1650680d5949ae17a0
Merge: 5d3ae9add 87bb644f1
Author: Nikhil Benesch <nikhil.benesch@gmail.com>
Date:   Fri Jun 5 10:59:51 2020 -0400

    Merge pull request #3272 from benesch/timestamper-bg-kafka
    
    coord: run realtime kafka metadata fetches in background

commit 87bb644f13b07e804a460974eafab5a572c8aff4
Author: Nikhil Benesch <nikhil.benesch@gmail.com>
Date:   Fri Jun 5 00:23:09 2020 -0400

    coord: run realtime kafka metadata fetches in background
    
    Some production Kafka clusters are known to take upwards of 1s to
    respond to metadata queries. This means the 1s timeouts our timestamper
    uses by default are too low, and can result in the timestamper never
    making any progress.
    
    For just realtime Kafka sources, move the timestamp metadata queries to
    a separate thread, one per source. In time we can be much smarter about
    reusing threads for multiple topics on the same broker, and apply a
    similar approach to other sources (e.g. Kinesis, BYO Kafka) that run on
    the main thread, but for now this solves the immediate problem.

commit 5d3ae9adde5d76d5882114113479cda62d55f33e
Merge: ca89626bb 0da5af5e3
Author: Sean Loiselle <sean@materialize.io>
Date:   Thu Jun 4 22:58:54 2020 -0400

    Merge pull request #3270 from sploiselle/function-selection-macro-improvements
    
    sql: improve macros for function selection

commit 0da5af5e342c2f529038dc8079b32951a03014ea
Author: Sean Loiselle <himself@seanloiselle.com>
Date:   Thu Jun 4 21:27:23 2020 -0400

    sql: improve macros for function selection

commit ca89626bb5e662a5b9521f566a3344ab0dc5e045
Author: Brandon W Maister <bwm@materialize.io>
Date:   Thu Jun 4 19:16:02 2020 -0400

    Add the mz sql exporter to (nightly) load test configs (#3267)
    
    The sql exporter is hard-coded to just hit materialize, but otherwise it is a carbon copy
    of the exporter that we embed in the dashboard.

commit 338cfb346ac0fdf5e54844eddf519c16f12d20bc
Author: Brandon W Maister <bwm@materialize.io>
Date:   Thu Jun 4 19:10:33 2020 -0400

    ci: Correctly handle ports using mzconduct (#3268)
    
    This makes the ci workflows in mzconduct use the port-discovery mzconduct machinery,
    while leaving the default service configs providing human-understandable default ports.
    
    I think we might be able to say that this Resolves #3029

commit 5a9800a9ef1aa5bfd73975c1d994be1d5825f316
Merge: 31f5b992c 979a7a6c0
Author: Sean Loiselle <sean@materialize.io>
Date:   Thu Jun 4 14:43:43 2020 -0400

    Merge pull request #3257 from sploiselle/fix-length-pg-compat
    
    sql: refactor length functions

commit 31f5b992ce1292b34965b3f12d7a51bfc77ad90c
Merge: b5713250d 415612481
Author: Nikhil Benesch <nikhil.benesch@gmail.com>
Date:   Thu Jun 4 13:58:49 2020 -0400

    Merge pull request #3203 from benesch/repr-relation-cleanup
    
    repr: document and polish RelationDesc and RelationType APIs

commit e99989a1f8c720fdf40def59c9c7c8143d8f2795
Author: Nikhil Benesch <nikhil.benesch@gmail.com>
Date:   Thu Jun 4 13:44:11 2020 -0400

    repr: improve regex docs

commit b5713250d13f342990bfee6c3183a6c3cf41fd86
Merge: 237f634c2 9323b479a
Author: Nikhil Benesch <nikhil.benesch@gmail.com>
Date:   Thu Jun 4 13:37:23 2020 -0400

    Merge pull request #3260 from benesch/repr-dead-code
    
    repr: remove dead Datum constructors

commit 4156124818086c5473ae92ea99f47f3c8cd2154a
Author: Nikhil Benesch <nikhil.benesch@gmail.com>
Date:   Sat May 30 22:23:10 2020 -0400

    symbiosis: normalize idents in table-level constraints
    
    A query like
    
        CREATE TABLE (a int, PRIMARY KEY (A))
    
    is valid, but we were failing to normalize the weirdly-capitalized ident
    in the constraint. Also rearrange the method so that we don't try to
    execute the CREATE TABLE statement until after we've validated it, since
    there is no taking it back once we run it.

commit 20a6fa071c977c0d069ecc790884a481d7ef96a8
Author: Nikhil Benesch <nikhil.benesch@gmail.com>
Date:   Sat May 30 22:07:08 2020 -0400

    repr: remove ColumnType::set_nullable
    
    This is redundant with just assigning to the column type's nullable
    field directly.

commit 19d40d94bc36846523d12b80e79dfbbf015d5d32
Author: Nikhil Benesch <nikhil.benesch@gmail.com>
Date:   Sat May 30 17:17:22 2020 -0400

    repr: delete RelationDesc::concat
    
    I think it is a good bit clearer to be more explicit about where keys
    are coming from. Code using concat mixes keys from two RelationDescs
    together in a possibly surprising way.

commit e21f62842f4b55b41a5c8082130220bdc6289b17
Author: Nikhil Benesch <nikhil.benesch@gmail.com>
Date:   Sat May 30 16:50:47 2020 -0400

    repr: add RelationDesc::with_names to rename all columns

commit 8e1b05177db48f9db519ff4c27b3ed82a51a5242
Author: Nikhil Benesch <nikhil.benesch@gmail.com>
Date:   Sat May 30 16:40:08 2020 -0400

    repr: polish docs and API for RelationDesc and RelationType
    
    Use the `with` prefix for all builder methods, instead of `add`, to make
    it more clear that they take ownership of the receiver.

commit 2b3eb1072f795926fb5d3c6be0205daae34cd409
Author: Nikhil Benesch <nikhil.benesch@gmail.com>
Date:   Sat May 30 15:47:55 2020 -0400

    repr: remove RelationDesc::from_cols
    
    Every usage of from_cols can be implemented in terms of add_column or
    add_nonnull_column.

commit 244949b7557fad5fd7542c8000b8c1d1381f917b
Author: Nikhil Benesch <nikhil.benesch@gmail.com>
Date:   Sat May 30 15:23:56 2020 -0400

    repr: delete RelationDesc::add_cols
    
    It is only used in one place, where it's easy enough just to call
    `add_column` in a loop.

commit 25ae647aea336600ee4378d61db1deaaefd0c26d
Author: Nikhil Benesch <nikhil.benesch@gmail.com>
Date:   Sat May 30 15:15:32 2020 -0400

    repr: rename RelationDesc::add_column to add_nonnull_column
    
    The new name better indicates that the added column is marked as
    non-nullable, which may be surprising. It also makes space for an
    add_column method that accepts a column type with variable nullability.

commit c161af539a30b854840e2582d53b01e6ea466844
Author: Nikhil Benesch <nikhil.benesch@gmail.com>
Date:   Sat May 30 13:41:20 2020 -0400

    repr: delete RelationDesc::get_name method
    
    It was only used in one place.

commit a6417e14752662915adfc5839cd39a6490fc9177
Author: Nikhil Benesch <nikhil.benesch@gmail.com>
Date:   Sat May 30 13:40:42 2020 -0400

    repr: delete RelationDesc::set_name method

commit 9323b479a08dea835e4eb6a6304933f1e03baaca
Author: Nikhil Benesch <nikhil.benesch@gmail.com>
Date:   Thu Jun 4 13:05:37 2020 -0400

    repr: remove dead Datum constructors
    
    Datum::from(UnderlyingType::constructor) is the preferred way to
    construct a Datum, and indeed, no code uses these older methods.

commit 979a7a6c05af93e82bb01e218872eeda0c408283
Author: Sean Loiselle <himself@seanloiselle.com>
Date:   Mon May 25 10:59:17 2020 -0400

    sql: refactor length functions

commit 237f634c27251ff3752abf281c3f09846a57fc8c
Author: Jessica Laughlin <JLDLaughlin@users.noreply.github.com>
Date:   Thu Jun 4 11:23:54 2020 -0400

    Run chaos functions in threads (#3254)
    
    Small refactor of test/chaos.

commit 3dc70fc7f45e429aadb72da81761e74f3285a4d6
Author: Brennan Vincent <brennan@materialize.io>
Date:   Thu Jun 4 10:53:53 2020 -0400

    Make a comment about bad code less optimistic (#3253)

commit 06c7d3274165ed71aa12aec4128b8e9caae95b3c
Merge: b6b4fda02 22d588ca4
Author: Sean Loiselle <sean@materialize.io>
Date:   Thu Jun 4 10:39:04 2020 -0400

    Merge pull request #3242 from sploiselle/trim-func
    
    sql: support trim family of functions

commit 22d588ca4d49ad579ed87c10e196873b11f32b56
Author: Sean Loiselle <himself@seanloiselle.com>
Date:   Fri May 22 14:50:03 2020 -0400

    sql: support trim family of functions

commit b6b4fda0288f81c6f3abc6ffdeabee964da7a777
Merge: d936e8536 d9e247636
Author: Nikhil Benesch <nikhil.benesch@gmail.com>
Date:   Thu Jun 4 03:51:01 2020 -0400

    Merge pull request #3241 from benesch/sql-mods
    
    sql: expose module structure

commit d9e24763657ae18e64d0e4a3e1677b9d38aa993d
Author: Nikhil Benesch <nikhil.benesch@gmail.com>
Date:   Mon Jun 1 00:36:08 2020 -0400

    sql: expose module structure
    
    Introduce a `plan` module to the `sql` crate, then expose this structure
    publically. This gives module documentation a nice place to live.

commit d936e8536b4b6f14ad41b7819c10a6bb328495e6
Merge: dff39ee14 151223084
Author: Nikhil Benesch <nikhil.benesch@gmail.com>
Date:   Thu Jun 4 02:59:04 2020 -0400

    Merge pull request #3160 from benesch/no-unknown-type
    
    repr,expr,sql: remove ScalarType::Unknown

commit 151223084b16b793014e04b83a60c901a7aeaada
Author: Nikhil Benesch <nikhil.benesch@gmail.com>
Date:   Wed May 27 01:36:23 2020 -0400

    repr,expr,sql: remove ScalarType::Unknown
    
    ScalarType::Unknown is a Postgresism that has not served us well. It
    is best understood as the type of NULL in the following SQL statement
    
        SELECT NULL
    
    although in recent versions Postgres will assign that NULL a type of
    `text` before planning is complete. That is in fact the key insight: the
    "unknown" type represents a transient state of the planner. Either the
    unknown type will become known by the time planning is complete, or it
    will not, and planning the query will fail.
    
    We can isolate the dataflow execution layer from the unknown type by
    limiting its existence to the few moments in the planner where it is
    needed. To that end, this patch removes the ScalarType::Unknown variant,
    and introduces a CoercibleScalarExpr to take its place.
    
    The idea is that the planner has special handling for expressions which
    could possibly coerce to another type (i.e., a string literal, list
    literal, NULL literal, or query parameter). The expressions will be
    coerced at the moment their true types are required; for example calling
    a function will coerce any unknown parameters, as will reaching the root
    of the expression tree.
    
    All code outside of the `sql` crate gets vastly simpler. The SQL planner
    gets simpler in many places too, and a bit different in others--not more
    complicated, necessarily, just different.

commit dff39ee1436303af61c86ce308c537feb1691e6c
Merge: acefc033a 75473a93b
Author: Nikhil Benesch <nikhil.benesch@gmail.com>
Date:   Thu Jun 4 02:14:34 2020 -0400

    Merge pull request #3225 from benesch/repr-adts
    
    repr: introduce abstract data type (ADT) module

commit 75473a93b0f935b0e00d152db4cc46b1d9443450
Author: Nikhil Benesch <nikhil.benesch@gmail.com>
Date:   Mon Jun 1 23:47:18 2020 -0400

    repr: introduce abstract data type (ADT) module
    
    Introduce a repr module, adt, to house our various abstract data types.
    This keeps things a bit more organized. Also move the strconv module to
    the root, to match the public organization of the repr crate.

commit acefc033a27f83cc8b4c40bee2fc888096f01a03
Author: Brandon W Maister <bwm@materialize.io>
Date:   Wed Jun 3 22:12:56 2020 -0400

    py: Fix a useless format trick (#3256)
    
    The say function allowed you to specify format args as inline parameters because it's a
    pattern that I'm used to from before f-strings. However, with f-strings we literally
    never use it, and it also can cause problems if you want to print a string that has curly
    braces in it, for example because you're printing a dict.

commit f12ecaa48c673041dec711d7af7a084111031d87
Merge: 8a553da87 5804282e6
Author: Brandon W Maister <bwm@materialize.io>
Date:   Wed Jun 3 21:20:39 2020 -0400

    Merge pull request #3255 from quodlibetor/mzconduct-per-workflow-env
    
    mzconduct: Add the ability to set variables in workflows

commit 5804282e6e48986df95e896663d1bf2f2dce335f
Author: Brandon W Maister <bwm@materialize.io>
Date:   Wed Jun 3 21:14:11 2020 -0400

    mzconduct: Add the ability to set variables in workflows
    
    Use this to set a couple chbench variables for nightly tests.

commit fdefba197bc9a32ee2d07e075c6dfdf581dd9a77
Author: Brandon W Maister <bwm@materialize.io>
Date:   Wed Jun 3 17:45:24 2020 -0400

    mzconduct: remove some unused imports

commit 8a553da876cb38a395eb4d612914fad8d18bfebd
Merge: ab43136c9 97385af73
Author: Nikhil Benesch <nikhil.benesch@gmail.com>
Date:   Wed Jun 3 20:41:04 2020 -0400

    Merge pull request #3237 from benesch/no-refresh-metadata
    
    dataflow: don't block on Kafka metadata refreshes

commit ab43136c9f6cdc00c1984ef9634d9b6cc3ac33fc
Merge: 4eb0f6e54 29a2999b6
Author: Jessica Laughlin <JLDLaughlin@users.noreply.github.com>
Date:   Wed Jun 3 18:43:41 2020 -0400

    Pause and unpause Kafka container (#3252)
    
    Add new PauseContainerStep to mzconduct, allowing us to pause and
    unpause the Kafka container for chaos testing.

commit 29a2999b69e1f306e5ae299b9445efdc8cc5d1b1
Author: JLDLaughlin <jessica@materialize.io>
Date:   Wed Jun 3 18:13:11 2020 -0400

    Rename arguments, fix bug

commit 358efd1cf9c372a3e92618f099894a9a1cd713dd
Author: JLDLaughlin <jessica@materialize.io>
Date:   Wed Jun 3 17:19:24 2020 -0400

    Pause and unpause Kafka container

commit 4eb0f6e5483a9d54188e55d518b4294c31e8ab9a
Author: Jessica Laughlin <JLDLaughlin@users.noreply.github.com>
Date:   Wed Jun 3 16:48:41 2020 -0400

    ~Slight~ chaos (#3236)
    
    Creates a new `test/chaos` crate with the goal of testing different types
    of Kafka chaos as it interacts with Materialize. This version of the code
    runs and completes without any Kafka breakages, breakages to be added
    next.

commit ed9c50b8a1b5d2cb0ad804e21dd39498b718554b
Merge: 928c67c1a 21c01e9d1
Author: Nikhil Benesch <nikhil.benesch@gmail.com>
Date:   Wed Jun 3 16:43:44 2020 -0400

    Merge pull request #3249 from benesch/special-coalesce
    
    sql-parser, sql: special case coalesce

commit 21c01e9d101c064e51c96dda13370e181e970997
Author: Nikhil Benesch <nikhil.benesch@gmail.com>
Date:   Wed Jun 3 16:18:01 2020 -0400

    sql-parser, sql: special case coalesce
    
    COALESCE is a really special function because it coalesces the types of
    its arguments in the same way that UNION, VALUES, and other bits of SQL
    syntax do. PostgreSQL special cases COALESCE in the parser, so this
    patch does the same.
    
    This essentially moves a bit of complexity out of the general function
    selector and into the main SQL planner, where it fits in a bit more
    naturally next to all the other weird corners of SQL.

commit 928c67c1a1e99874b2197f81d70758a698daeea2
Merge: b5400f4e2 dd2cd3455
Author: Nikhil Benesch <nikhil.benesch@gmail.com>
Date:   Wed Jun 3 16:03:13 2020 -0400

    Merge pull request #3247 from benesch/sql-func-macros
    
    sql: merge func_impls and impls macros

commit dd2cd3455a29225c044cada7fccc415db563e1e6
Author: Nikhil Benesch <nikhil.benesch@gmail.com>
Date:   Wed Jun 3 15:05:23 2020 -0400

    sql: merge func_impls and impls macros
    
    These two macros always need to be used together, so I think it's a bit
    simpler if we merge them into just one macro!

commit 97385af7376f999024cb0ac392947b740e57b446
Author: Nikhil Benesch <nikhil.benesch@gmail.com>
Date:   Wed Jun 3 13:36:01 2020 -0400

    dataflow: adjust kafka source for infallible partition additions
    
    The control flow gets much simpler if we assert that creating a new
    partition queue cannot fail.

commit b5400f4e2b92e14027800740650c28e31a7a80dd
Merge: 0192aa162 3b5a767a9
Author: Andi Wang <5522362+wangandi@users.noreply.github.com>
Date:   Wed Jun 3 13:58:27 2020 -0400

    Merge pull request #3245 from wangandi/explain_dataflow
    
    Add some dataflow comments

commit 0192aa1621a0039e6fd7d832795ad5094a3080bf
Merge: e9782aaf3 bd751e2fd
Author: Sean Loiselle <sean@materialize.io>
Date:   Wed Jun 3 13:15:44 2020 -0400

    Merge pull request #3244 from sploiselle/abs-decimal
    
    sql: remove scale from abs_decimal

commit 3b5a767a9b9cd31af16485c61273c03149a99c98
Author: Andi Wang <andi@materialize.io>
Date:   Wed Jun 3 12:58:16 2020 -0400

    Add explanation of index.on_id and index_id in local input.

commit bd751e2fdca2d61c8f197a5b6d6c44c31b7b2e68
Author: Sean Loiselle <himself@seanloiselle.com>
Date:   Tue May 26 11:15:48 2020 -0400

    sql: remove scale from abs_decimal

commit 99bb2e01d40eb4e896a2624ce2ee3a01beee33e7
Author: Andi Wang <andi@materialize.io>
Date:   Wed Jun 3 12:38:15 2020 -0400

    Add some comments to Descs.

commit 2f6eb8f543b8d7a50c05d5a466d64bc2f856b5cb
Author: Andi Wang <andi@materialize.io>
Date:   Wed Jun 3 12:14:05 2020 -0400

    Make dataflow functions non-public.

commit 5bca330299faaff2e8a0b3af71cb1561baf75607
Author: Andi Wang <andi@materialize.io>
Date:   Tue Jun 2 15:48:54 2020 -0400

    Add explanations for local input index.on_id vs index_id.

commit e9782aaf34ef137f8053f473e09b2b746eeb22a1
Merge: 90cd56dc3 952595758
Author: Sean Loiselle <sean@materialize.io>
Date:   Wed Jun 3 12:34:24 2020 -0400

    Merge pull request #3243 from sploiselle/remove-inadvertent-file
    
    sql: remove inadvertently commited duplicate func.rs implementation

commit 952595758cf40a11af403c45fd6a402b82c08ad5
Author: Sean Loiselle <himself@seanloiselle.com>
Date:   Wed Jun 3 12:23:25 2020 -0400

    sql: remove inadvertently commited duplicate func.rs implementation

commit 90cd56dc3d6f171d44b208434622676901036149
Merge: 802f2f6e8 a711740f3
Author: Natacha Crooks <nacrooks@gmail.com>
Date:   Wed Jun 3 11:25:41 2020 -0400

    Merge pull request #3089 from nacrooks/checker
    
    Consistency Checker

commit 802f2f6e807ceda23a21e8039f0d5404bf6388ec
Merge: 86637771e e1b526eec
Author: Sean Loiselle <sean@materialize.io>
Date:   Wed Jun 3 11:20:20 2020 -0400

    Merge pull request #3126 from sploiselle/generalize-function-selection
    
    Generalize function selection

commit e1b526eecdb024d3a1b4b961a115c262331234b4
Author: Sean Loiselle <himself@seanloiselle.com>
Date:   Tue May 26 11:15:48 2020 -0400

    sql: add abs for decimal

commit b78b272afd4f8b6bbd434963141393f7be1d6bb4
Author: Sean Loiselle <himself@seanloiselle.com>
Date:   Fri May 22 17:34:49 2020 -0400

    test: convert proto-billing to search on id using proper type

commit e99d5b204df92344a00c2dc1c99729a1af80bdf0
Author: Sean Loiselle <himself@seanloiselle.com>
Date:   Tue May 12 09:57:19 2020 -0400

    sql: generalize function selection

commit a711740f3ff648c130460eb93fb460931f7516a1
Author: Natacha Crooks <nacrooks@gmail.com>
Date:   Fri May 8 19:37:04 2020 -0400

    Adding consistency checker - This commit adds a checker that adds a
    number of correctness checks to run periodically (configurable using a
    TOML file)

commit 86637771e9a0a08369802a184232e7ec5f170d80
Author: Brandon W Maister <bwm@materialize.io>
Date:   Wed Jun 3 08:44:52 2020 -0400

    Correctly include materialized-sources.toml for the BI demo (#3239)
    
    It was being ignored by the .gitignore file in that directory, making it work for me and
    no one else.
    
    Fixes #3238

commit 8364bd104caa5ae558c9dfbbabccea8de404b5ff
Merge: 858d9f4ad 1a11060bf
Author: Nikhil Benesch <nikhil.benesch@gmail.com>
Date:   Wed Jun 3 02:57:32 2020 -0400

    Merge pull request #3221 from benesch/sql-parser-api-cleanup
    
    sql-parser: clean up API

commit 858d9f4ad64f582157b5ad28af417fe9ce1fb8f3
Merge: 8876b7c07 c64ddbbde
Author: Nikhil Benesch <nikhil.benesch@gmail.com>
Date:   Wed Jun 3 02:57:06 2020 -0400

    Merge pull request #3226 from benesch/repr-datetime-errors
    
    repr: copyedit some datetime errors

commit 1a11060bf898e8b5bcac9797291bf960a1e207fd
Author: Nikhil Benesch <nikhil.benesch@gmail.com>
Date:   Mon Jun 1 17:24:31 2020 -0400

    sql-parser: clean up API
    
    We inherited a lot of cruft from upstream on the SQL parser API, which
    tries to be much more general than we need to be. Hide away almost all
    the public API surface, leaving only the AST and two free functions,
    parse_statements and parse_expr, exposed.
    
    Since SQL parsing is stateless to the outside observer, hiding away the
    Parser object that tracks state while parsing is a nice simplification.

commit c64ddbbdea9cc088ad69780d363d424d91b50dd9
Author: Nikhil Benesch <nikhil.benesch@gmail.com>
Date:   Tue Jun 2 00:05:42 2020 -0400

    repr: copyedit some datetime errors
    
    Follow-up changes from #3156.

commit 08441b15ffc6f0ee1ab8968e7eea61f36f1e1639
Author: Nikhil Benesch <nikhil.benesch@gmail.com>
Date:   Wed Jun 3 01:45:42 2020 -0400

    dataflow: document kafka configuration options

commit 39a3fea0de9f97ae5a8e4be52e9de133f7a7299f
Author: Nikhil Benesch <nikhil.benesch@gmail.com>
Date:   Wed Jun 3 00:50:37 2020 -0400

    dataflow: poll kafka consumer more regularly
    
    I don't think it matters in our case, but it's good practice to poll
    this on every call into the Kafka source, just in case there are events
    that rdkafka wants to deliver to us.

commit f78ee7b65d69fb9bd0c2ce2e15b506b15f2b3c2d
Author: Nikhil Benesch <nikhil.benesch@gmail.com>
Date:   Tue Jun 2 11:46:24 2020 -0400

    dataflow: don't block on Kafka metadata refreshes
    
    Synchronously fetching metadata in the Kafka source causes problems. At
    best it blocks the worker thread from performing computation for a few
    milliseconds. At worst it blocks the worker thread for the full 1s
    allotment and then times out, resulting in a second of lost CPU time and
    a wedged Kafka source. Our hope was that production Kafka clusters would
    be reliable enough that the synchronous fetch would be a rare problem,
    but empirical evidence has shown otherwise.
    
    It turns out there is no need to synchronously fetch metadata in the
    Kafka source. librdkafka is happy, almost too happy, to allow us to
    subscribe to a partition for which it does not have metadata. The only
    stipulation is that we will not receive any data for the partition until
    the partition's metadata is retrieved.
    
    There are two main ways that the metadata refresh occurs. The first is
    an explicit call to `fetch_metadata`. The second is the
    regularly-scheduled background metadata fetch, controlled by
    topic.metadata.refresh.interval.ms, which defaults to 5m. This patch
    uses a combination of both strategies for optimal performance
    characteristics.
    
    First, this patch removes the synchronous metadata fetch entirely. Upon
    arrival of a new partition ID, the Timely worker responsible for that
    partition blindly assigns the consumer to that partition. If the
    partition ID is invalid, the source will wedge, but a) the partition ID
    can't be wrong with real-time timestamping, and b) if you use BYO
    consistency, you've put us in an impossible situation, so wedging is
    possibly the most correct outcome.
    
    Second, this patch turns sets the background metadata fetch interval to
    30s, down from its default of 5m. I suspect this is entirely sufficient
    for production deployments, where adding a partition is a rare operation
    on a human timescale, but it means our tests would take 30s to detect
    new partitions.
    
    So, finally, this patch triggers an asynchronous metadata fetch whenever
    it assigns a partition. This means tests detect new partitions almost
    instantly. We don't actually need to wait for the metadata fetch to
    complete, and it's not a problem if it fails, since the background
    metadata fetches will retry indefinitely, and we just need one to
    succeed eventually.
    
    Note that there is a bug in librdkafka that generates spurious error
    messages with this approach, but I've opened a patch to fix that. [0]
    
    [0]: https://github.com/edenhill/librdkafka/pull/2916

commit 3179c1841fb124b66b4aca7591b2ff3fe19715cd
Author: Nikhil Benesch <nikhil.benesch@gmail.com>
Date:   Wed Jun 3 00:48:53 2020 -0400

    dataflow: remove unnecessary configuration params
    
    None of these removed configuration parameters are relevant now that we
    use direct partition assignment instead of the consumer group protocol.
    This makes the important configuration knobs more clear.

commit 8876b7c072bdd4400b82b09ebd4350cf2c23aa01
Merge: 057158e8b 389da905d
Author: Sean Loiselle <sean@materialize.io>
Date:   Tue Jun 2 21:30:45 2020 -0400

    Merge pull request #3172 from sploiselle/interval-sign-128
    
    sql: refactor Interval's duration to be i128

commit 057158e8bfd45e4ea800a3077affeb74773b06ea
Author: Brandon W Maister <bwm@materialize.io>
Date:   Tue Jun 2 21:22:28 2020 -0400

    add a nightly workflow for perf-kinesis (#3235)

commit 63bccc998cf21e3cb410f24453648ed888d6588e
Merge: 6e65616f8 8f3f8da01
Author: Sean Loiselle <sean@materialize.io>
Date:   Tue Jun 2 20:32:32 2020 -0400

    Merge pull request #3200 from sploiselle/timestamp-stray-characters
    
    sql: Allow errant punctuation marks in time strings

commit 389da905d6a202c34f20dd9350b157a9ec7510f8
Author: Sean Loiselle <himself@seanloiselle.com>
Date:   Tue May 26 16:19:47 2020 -0400

    sql: refactor Interval's duration to be i128

commit 8f3f8da01b62995607ce1ef4fb09575c28ab3a25
Author: Sean Loiselle <himself@seanloiselle.com>
Date:   Thu May 28 15:11:21 2020 -0400

    sql: teach timestr tokenizer to handle misc. punctuation

commit 6e65616f897063cb5e9292821e1ca7fea57ebe42
Author: Jessica Laughlin <JLDLaughlin@users.noreply.github.com>
Date:   Tue Jun 2 18:27:25 2020 -0400

    Add mz testing util (#3233)
    
    Creates new common utils for tests and demos to connect to materialized,
    simplifying creating a client and handling errors.

commit 1bc636819dbc64629caf5f336dc60301de9fd5ad
Author: Brandon W Maister <bwm@materialize.io>
Date:   Tue Jun 2 15:58:08 2020 -0400

    mzbuild: support a general MZBUILD_DOCKER_TAG env var (#3231)
    
    It can still be overridden for a specific container with the `MZBUILD_<bin>_TAG`

commit b7eb7e8627a6cfeec57a7b8db8ce5b0f093e5985
Author: Brennan Vincent <brennan@materialize.io>
Date:   Tue Jun 2 15:04:50 2020 -0400

    Re-use allocation in reduce.rs (#3230)

commit 669a90078f7c606363cfbbcf4faabbf19d169b43
Merge: bae0fe805 ae4b2e0e2
Author: Natacha Crooks <nacrooks@gmail.com>
Date:   Tue Jun 2 14:00:49 2020 -0400

    Merge pull request #3202 from nacrooks/demo
    
    Adding Batch size option for billing demo

commit bae0fe8054baaefcb1aed6b0df88fef5c8aed3e2
Merge: 897c3e549 27ef4666d
Author: Jessica Laughlin <JLDLaughlin@users.noreply.github.com>
Date:   Tue Jun 2 12:27:40 2020 -0400

    Add bytes generator to test-util (#3223)
    
    Adds a new generator function to produce random bytes, replaces
    byte generation in Kinesis performance testing.

commit 897c3e5496c27fd6079bac81fc6a4799d3e14011
Merge: bfc022fba 7f01e9832
Author: Nikhil Benesch <nikhil.benesch@gmail.com>
Date:   Tue Jun 2 12:15:07 2020 -0400

    Merge pull request #3224 from benesch/bad-temp-view
    
    coord,sql: reject temp views in non-temp schemas

commit 27ef4666d571d267016c30e57e4f7edf2ee781ce
Author: JLDLaughlin <jessica@materialize.io>
Date:   Tue Jun 2 12:00:35 2020 -0400

    Bytes -> Vec<u8>

commit 7f01e9832bec83232f1677cc7e33ee65223841b1
Author: Nikhil Benesch <nikhil.benesch@gmail.com>
Date:   Mon Jun 1 23:31:51 2020 -0400

    coord,sql: reject temp views in non-temp schemas
    
    We were previously silently rewriting the schema to mz_temp, which made
    for slightly confusing error messages.

commit bfc022fba042277b8ae2cdb2ec390d06a13948f1
Merge: 9f045088b f2df53058
Author: Nikhil Benesch <nikhil.benesch@gmail.com>
Date:   Mon Jun 1 22:29:36 2020 -0400

    Merge pull request #3204 from benesch/src-dirs
    
    *: switch to standard crate layout

commit f2df5305816ada40fd808ece5e28cff91ce575da
Author: Nikhil Benesch <nikhil.benesch@gmail.com>
Date:   Sat May 30 23:59:00 2020 -0400

    *: switch to standard crate layout
    
    The Cargo standard for crate layouts looks like this:
    
        ├── Cargo.toml
        ├── src/
        │   ├── lib.rs
        │   ├── main.rs
        │   └── bin/
        │       ├── named-executable.rs
        │       ├── another-executable.rs
        │       └── multi-file-executable/
        │           ├── main.rs
        │           └── some_module.rs
        ├── benches/
        │   ├── large-input.rs
        │   └── multi-file-bench/
        │       ├── main.rs
        │       └── bench_module.rs
        ├── examples/
        │   ├── simple.rs
        │   └── multi-file-example/
        │       ├── main.rs
        │       └── ex_module.rs
        └── tests/
            ├── some-integration-tests.rs
            └── multi-file-test/
                ├── main.rs
                └── test_module.rs
    
    For historical reasons, our crate layout elides the src directory. This
    is a nice simplification when the crate contains only one or two source
    files, but scales very poorly as the crate grows benches, tests,
    examples, and more modules, as these all get intermingled:
    
        ├── adts/
        ├── benches/
        ├── examples/
        ├── relation/
        ├── tests/
        ├── Cargo.toml
        ├── a_module.rs
        ├── lib.rs
        └── main.rs
    
    Plus the nonstandard layout is confusing to folks who are used to other
    Rust projects.
    
    This patch moves rearranges all of our crates to follow the standard
    crate layout.

commit 9f045088b23d467ea988764142be34f3a29d6a98
Merge: 5f5437521 62f70c255
Author: Nikhil Benesch <nikhil.benesch@gmail.com>
Date:   Mon Jun 1 21:46:34 2020 -0400

    Merge pull request #3222 from benesch/catalog-refactor-iii
    
    catalog: refactor iii

commit 37d0a0b07d6bb38ddc85120e641011a084a7bde3
Author: JLDLaughlin <jessica@materialize.io>
Date:   Mon Jun 1 18:33:21 2020 -0400

    Missing files

commit 1ea1b2be3e318f0679869e7e27f69862e7518fc9
Author: JLDLaughlin <jessica@materialize.io>
Date:   Mon Jun 1 18:32:53 2020 -0400

    Add byte generation to test-util

commit 5f54375215456f720dbfeccd2e3da3200e6683a7
Author: Jessica Laughlin <JLDLaughlin@users.noreply.github.com>
Date:   Mon Jun 1 18:12:35 2020 -0400

    Introduce test-util with KafkaClient (#3219)
    
    Creates a new test-util crate that will provide utilities for test programs and demos
    that run against Materialize. Pulls existing KafkaClient code out of the billing demo.

commit 62f70c2550b1f6f3d121f83331e1e19aa271af44
Author: Nikhil Benesch <nikhil.benesch@gmail.com>
Date:   Thu May 28 02:57:18 2020 -0400

    sql: polish catalog crate
    
    Add a bunch of docs and enforce a good deal more consistency on the API.

commit baadaf2ad323cb5a0423eb1536e58406e7822a1d
Author: Nikhil Benesch <nikhil.benesch@gmail.com>
Date:   Thu May 28 01:10:16 2020 -0400

    coord: rename catalog sql module to storage
    
    The "sql" module name conflicted badly with the "sql" crate.

commit 1e21b1e1fc77b7a181b322e031efb3e007307e54
Author: Nikhil Benesch <nikhil.benesch@gmail.com>
Date:   Thu May 28 01:06:17 2020 -0400

    coord: fix error message when dropping temporary schema

commit 5d6bc501ba009996fa32c295eb5761f6021541e1
Author: Nikhil Benesch <nikhil.benesch@gmail.com>
Date:   Wed May 27 21:03:50 2020 -0400

    sql,coord: remove sql::PlanSession trait
    
    Much simpler to just wrap up the two session parameters that control the
    SQL planner into the new PlanCatalog trait.

commit 2293aae114cf864366dd4f80e39cb91ccc474be3
Merge: b30bc919f 4a246de2b
Author: Nikhil Benesch <nikhil.benesch@gmail.com>
Date:   Mon Jun 1 17:30:08 2020 -0400

    Merge pull request #3218 from benesch/catalog-refactor-ii
    
    catalog: refactor ii

commit b30bc919f52e3199976245060e606ae85a656cf4
Merge: 8d5aa45d5 f94acbaaa
Author: Nikhil Benesch <nikhil.benesch@gmail.com>
Date:   Mon Jun 1 16:58:06 2020 -0400

    Merge pull request #3211 from MaterializeInc/dependabot/cargo/regex-1.3.9
    
    build(deps): bump regex from 1.3.7 to 1.3.9

commit 4a246de2b9c0f434954c32fa028cadb7eefe2608
Author: Nikhil Benesch <nikhil.benesch@gmail.com>
Date:   Mon Jun 1 16:57:47 2020 -0400

    coord: introduce constant for mz_temp schema name

commit 6edb62cb3ecbbebde4cc7620b6abb8d29db8bc42
Author: Nikhil Benesch <nikhil.benesch@gmail.com>
Date:   Wed May 27 20:43:05 2020 -0400

    coord: remove catalog::DatabaseResolver
    
    I think it's a bit simpler if this type does not exist.

commit f94acbaaa2adb3f5d3dae268bd5e0d1d6c8870f9
Author: dependabot-preview[bot] <27856297+dependabot-preview[bot]@users.noreply.github.com>
Date:   Mon Jun 1 20:14:03 2020 +0000

    build(deps): bump regex from 1.3.7 to 1.3.9
    
    Bumps [regex](https://github.com/rust-lang/regex) from 1.3.7 to 1.3.9.
    - [Release notes](https://github.com/rust-lang/regex/releases)
    - [Changelog](https://github.com/rust-lang/regex/blob/master/CHANGELOG.md)
    - [Commits](https://github.com/rust-lang/regex/compare/regex-1.3.7...1.3.9)
    
    Signed-off-by: dependabot-preview[bot] <support@dependabot.com>

commit 8d5aa45d5f239bc37df08d69f0a9e8b6796c0937
Merge: ef2e22111 3cd0be37d
Author: Nikhil Benesch <nikhil.benesch@gmail.com>
Date:   Mon Jun 1 16:12:54 2020 -0400

    Merge pull request #3208 from MaterializeInc/dependabot/cargo/hyper-0.13.6
    
    build(deps): bump hyper from 0.13.5 to 0.13.6

commit ef2e221118cbebe1b68c619cf5db5c8d8d9f24d4
Merge: ef71e609d cb05e3dec
Author: Nikhil Benesch <nikhil.benesch@gmail.com>
Date:   Mon Jun 1 16:12:07 2020 -0400

    Merge pull request #3212 from MaterializeInc/dependabot/cargo/serde-1.0.111
    
    build(deps): bump serde from 1.0.110 to 1.0.111

commit ef71e609daaedc309f8d1ade703931bf07c2f55b
Merge: 05366181a 736e39bf0
Author: Nikhil Benesch <nikhil.benesch@gmail.com>
Date:   Mon Jun 1 16:11:50 2020 -0400

    Merge pull request #3213 from MaterializeInc/dependabot/cargo/reqwest-0.10.6
    
    build(deps): bump reqwest from 0.10.4 to 0.10.6

commit 736e39bf0d55282339edb3dafb9e186aa108249d
Author: dependabot-preview[bot] <27856297+dependabot-preview[bot]@users.noreply.github.com>
Date:   Mon Jun 1 11:54:54 2020 +0000

    build(deps): bump reqwest from 0.10.4 to 0.10.6
    
    Bumps [reqwest](https://github.com/seanmonstar/reqwest) from 0.10.4 to 0.10.6.
    - [Release notes](https://github.com/seanmonstar/reqwest/releases)
    - [Changelog](https://github.com/seanmonstar/reqwest/blob/master/CHANGELOG.md)
    - [Commits](https://github.com/seanmonstar/reqwest/compare/v0.10.4...v0.10.6)
    
    Signed-off-by: dependabot-preview[bot] <support@dependabot.com>

commit b4aed3981cc91f8e15a0d798452a7d911fa03a7b
Author: Nikhil Benesch <nikhil.benesch@gmail.com>
Date:   Wed May 27 19:50:57 2020 -0400

    coord: remove Schemas and Items wrappers from catalog
    
    These are no longer necessary with the simpler sql::PlanCatalog trait.
    Removing them makes the implementation of the catalog a good bit more
    readable.

commit 16afe7b77b43dc4cb69978e4cd6ce70c5a4ff1c8
Author: Nikhil Benesch <nikhil.benesch@gmail.com>
Date:   Wed May 27 19:43:48 2020 -0400

    sql: remove DatabaseSpecifier::Temporary
    
    With Catalog::get_schemas out of the picture, we can complete #3104 and
    use (DatabaseSchema::Ambient, "mz_temp") to represent the temporary
    schema. This is a bit more semantically correct, as "mz_temp" is
    logically part of the same ambient database as mz_catalog and
    pg_catalog. It also simplifies the storage of temporary schemas in the
    catalog, and exposed a bug where `SHOW EXTENDED SCHEMAS` was not showing
    the temporary schema.
    
    Fix #3104.

commit 9fe227895f5a3abcafcf2601700bf4645a813f4f
Author: Nikhil Benesch <nikhil.benesch@gmail.com>
Date:   Wed May 27 19:40:27 2020 -0400

    coord: mandate connection IDs in all catalog APIs
    
    Where a connection ID is not readily available, use the system
    connection ID. This makes it a bit harder to accidentally forget to
    plumb in a connection ID where one is required.

commit 440b03e0057a02d939afe29d08487071be58f7b3
Author: Nikhil Benesch <nikhil.benesch@gmail.com>
Date:   Wed May 27 19:12:41 2020 -0400

    coord: replace Catalog::get_schemas with Catalog::get_schema
    
    This will make removal of DatabaseSpecifier::Temporary possible.

commit 0e25a70e64b0743a522962d8d0a0a992dab5d7b1
Author: Nikhil Benesch <nikhil.benesch@gmail.com>
Date:   Wed May 27 16:29:20 2020 -0400

    sql: extract schema resolution helper
    
    This parallels StatementContext::resolve_name, which is for items rather
    than schemas.

commit 05366181a351061a80a13a99d489d2641ac8c6aa
Merge: 99fd22171 73d77bfaf
Author: Nikhil Benesch <nikhil.benesch@gmail.com>
Date:   Mon Jun 1 15:48:44 2020 -0400

    Merge pull request #3210 from MaterializeInc/dependabot/cargo/libflate-1.0.1
    
    build(deps): bump libflate from 1.0.0 to 1.0.1

commit 99fd22171a09d2cbb0dbfc50299f71c1084c37b8
Merge: 274a0b741 77811560a
Author: Nikhil Benesch <nikhil.benesch@gmail.com>
Date:   Mon Jun 1 15:47:07 2020 -0400

    Merge pull request #3146 from benesch/typed-strings
    
    sql-parser: support general typed string literals

commit 274a0b741782dd4c1743d560d021b73790f31963
Merge: 82d197fe9 709c92b13
Author: Nikhil Benesch <nikhil.benesch@gmail.com>
Date:   Mon Jun 1 15:21:03 2020 -0400

    Merge pull request #3217 from benesch/jsonb-ref
    
    repr: add some notes about possible JSON serialization panics

commit 77811560a23cda4253844ed157ad119240d4cf9a
Author: Nikhil Benesch <nikhil.benesch@gmail.com>
Date:   Mon May 25 14:05:59 2020 -0400

    sql-parser: support general typed string literals
    
    Support PostgreSQL's typed string literals, as in:
    
        SELECT bool 'true'
    
    Previously we only supported the typed string literals for the date,
    timestamp, and timestamp with time zone types as required by the SQL
    standard, but PostgreSQL generalizes this syntax for all types.
    
    As a side effect, this fixes the bug where
    
        SELECT date
    
    parsed as a syntax error rather than as selecting a column named "date".
    The fix also generalizes, e.g., `SELECT bool` is also valid.
    
    Fix #2577.

commit 82d197fe970c046c3bc37a40ff0fac1d899f7f65
Merge: 4ce3cdbc1 772462514
Author: Nikhil Benesch <nikhil.benesch@gmail.com>
Date:   Mon Jun 1 15:04:56 2020 -0400

    Merge pull request #3156 from benesch/strconv-errors
    
    expr,strconv: better error handling

commit 4ce3cdbc13764d7baefeb8091307df35f11b7d96
Merge: c8fa525c6 5afa47096
Author: Nikhil Benesch <nikhil.benesch@gmail.com>
Date:   Mon Jun 1 13:30:31 2020 -0400

    Merge pull request #3206 from benesch/catalog-refactor-i
    
    catalog: refactor i

commit 709c92b137e3202f650be3d460babf06cceccde2
Author: Nikhil Benesch <nikhil.benesch@gmail.com>
Date:   Mon Jun 1 13:25:06 2020 -0400

    repr: add some notes about possible JSON serialization panics
    
    Follow-up comment from a review of #3195.

commit c8fa525c6df8bad86a46353208743d2c06466d92
Merge: 056e9bfb7 7d4340cbb
Author: Nikhil Benesch <nikhil.benesch@gmail.com>
Date:   Mon Jun 1 13:22:26 2020 -0400

    Merge pull request #3195 from benesch/fast-json
    
    repr: speed up JSON decoding

commit 056e9bfb708bccb9a23fc66a50af9d9777aefedd
Merge: 26db5c0b8 0218e7420
Author: Justin Jaffray <justin.jaffray@gmail.com>
Date:   Mon Jun 1 13:10:17 2020 -0400

    Merge pull request #3214 from justinj/parser-dd
    
    Port parser test suite to datadriven

commit 5afa47096ecdf95c643f87191ceea6a84b7fac0b
Author: Nikhil Benesch <nikhil.benesch@gmail.com>
Date:   Wed May 27 16:05:24 2020 -0400

    sql: remove database_resolver from PlanCatalog
    
    This elides most of the associated helper traits. New methods
    `get_items` and `resolve_schema` are added in its place.

commit 26db5c0b81f3bd0dce94eb2f1e3d93a2dfe6c1e6
Merge: a783ac465 2df0a2e9b
Author: Justin Jaffray <justin.jaffray@gmail.com>
Date:   Mon Jun 1 13:03:23 2020 -0400

    Merge pull request #3198 from justinj/lts
    
    Enable a couple additional logic tests

commit a783ac4654c37ed5e9fca4c2c3884772fc07c5d0
Author: Jessica Laughlin <JLDLaughlin@users.noreply.github.com>
Date:   Mon Jun 1 12:51:46 2020 -0400

    v0.3.0 docs (#3215)

commit ae4b2e0e29002cbea60db89a17e327ac1b39e182
Author: Natacha Crooks <nacrooks@gmail.com>
Date:   Fri May 29 21:26:32 2020 -0400

    Adding Batch size option for billing demo

commit 2df0a2e9b68704d1cd8e406962c598d2f527babc
Author: Justin Jaffray <justin.jaffray@gmail.com>
Date:   Wed May 27 10:05:17 2020 -0400

    Enable aggregate Cockroach logic test

commit 903cb8dbdfe5db3b553cfbc6746292fc0a52067d
Author: Justin Jaffray <justin.jaffray@gmail.com>
Date:   Tue May 26 14:30:38 2020 -0400

    Enable apply_join logic test

commit 0218e742014f45101dfaa450f092bae19302aa96
Author: Justin Jaffray <justin.jaffray@gmail.com>
Date:   Mon Jun 1 11:34:28 2020 -0400

    Add note about using datadriven

commit 8dedf206dd257dacd3fd4cd9ae8862cdddaf9e8d
Author: Justin Jaffray <justin.jaffray@gmail.com>
Date:   Mon Jun 1 11:24:32 2020 -0400

    sql: use datadriven for parser tests
    
    Some of these aren't as clean a win as I was hoping for, since the text
    of a parsed AST is pretty noisy to read (I tried pretty-printing them,
    but they were so long then that it was a bit obnoxious).
    
    I think this is still a net win in terms of maintainability, but I'm
    open to discussing how it could be even better.

commit 73d77bfaf8efa3ed74c55b6469357d34c7877a7c
Author: dependabot-preview[bot] <27856297+dependabot-preview[bot]@users.noreply.github.com>
Date:   Mon Jun 1 15:38:09 2020 +0000

    build(deps): bump libflate from 1.0.0 to 1.0.1
    
    Bumps [libflate](https://github.com/sile/libflate) from 1.0.0 to 1.0.1.
    - [Release notes](https://github.com/sile/libflate/releases)
    - [Commits](https://github.com/sile/libflate/compare/1.0.0...1.0.1)
    
    Signed-off-by: dependabot-preview[bot] <support@dependabot.com>

commit c2cdd5730f6f6d50a5d70b0223ab7da3e0fbc5b5
Merge: dd56bf72c 2d8650016
Author: Nikhil Benesch <nikhil.benesch@gmail.com>
Date:   Mon Jun 1 11:36:09 2020 -0400

    Merge pull request #3209 from MaterializeInc/dependabot/cargo/libc-0.2.71
    
    build(deps): bump libc from 0.2.70 to 0.2.71

commit cb05e3decc303b70794ad86446401b21c992e0e6
Author: dependabot-preview[bot] <27856297+dependabot-preview[bot]@users.noreply.github.com>
Date:   Mon Jun 1 15:31:43 2020 +0000

    build(deps): bump serde from 1.0.110 to 1.0.111
    
    Bumps [serde](https://github.com/serde-rs/serde) from 1.0.110 to 1.0.111.
    - [Release notes](https://github.com/serde-rs/serde/releases)
    - [Commits](https://github.com/serde-rs/serde/compare/v1.0.110...v1.0.111)
    
    Signed-off-by: dependabot-preview[bot] <support@dependabot.com>

commit dd56bf72c3e0edf3d7257094883bc27d844bd628
Merge: 5b0fee2e2 fe682ded8
Author: Nikhil Benesch <nikhil.benesch@gmail.com>
Date:   Mon Jun 1 11:29:45 2020 -0400

    Merge pull request #3207 from MaterializeInc/dependabot/cargo/regex-syntax-0.6.18
    
    build(deps): bump regex-syntax from 0.6.17 to 0.6.18

commit 5b0fee2e265f934288e54621233643660fc3dd77
Merge: 3389ffe67 740a86079
Author: Frank McSherry <fmcsherry@me.com>
Date:   Mon Jun 1 07:55:43 2020 -0400

    Work around if statements (#3199)
    
    * work around if statements
    
    * correct logic
    
    * add tests

commit 3389ffe679c5cdc1bd8315f1276195f6c65a727b
Author: Frank McSherry <fmcsherry@me.com>
Date:   Mon Jun 1 07:55:14 2020 -0400

    Reorganize reduce to minimize allocations (#3130)
    
    Several improvements to reduce.rs to improve primarily start-up time, though probably throughput as well.

commit 2d8650016daac4d2899cc5f2f81d991230c64a34
Author: dependabot-preview[bot] <27856297+dependabot-preview[bot]@users.noreply.github.com>
Date:   Mon Jun 1 11:53:23 2020 +0000

    build(deps): bump libc from 0.2.70 to 0.2.71
    
    Bumps [libc](https://github.com/rust-lang/libc) from 0.2.70 to 0.2.71.
    - [Release notes](https://github.com/rust-lang/libc/releases)
    - [Commits](https://github.com/rust-lang/libc/compare/0.2.70...0.2.71)
    
    Signed-off-by: dependabot-preview[bot] <support@dependabot.com>

commit 3cd0be37d8a454ca246be0e7860099e870a28689
Author: dependabot-preview[bot] <27856297+dependabot-preview[bot]@users.noreply.github.com>
Date:   Mon Jun 1 11:52:40 2020 +0000

    build(deps): bump hyper from 0.13.5 to 0.13.6
    
    Bumps [hyper](https://github.com/hyperium/hyper) from 0.13.5 to 0.13.6.
    - [Release notes](https://github.com/hyperium/hyper/releases)
    - [Changelog](https://github.com/hyperium/hyper/blob/master/CHANGELOG.md)
    - [Commits](https://github.com/hyperium/hyper/compare/v0.13.5...v0.13.6)
    
    Signed-off-by: dependabot-preview[bot] <support@dependabot.com>

commit fe682ded89c12f888a5ef5f57351298cc1e6d16f
Author: dependabot-preview[bot] <27856297+dependabot-preview[bot]@users.noreply.github.com>
Date:   Mon Jun 1 11:52:14 2020 +0000

    build(deps): bump regex-syntax from 0.6.17 to 0.6.18
    
    Bumps [regex-syntax](https://github.com/rust-lang/regex) from 0.6.17 to 0.6.18.
    - [Release notes](https://github.com/rust-lang/regex/releases)
    - [Changelog](https://github.com/rust-lang/regex/blob/master/CHANGELOG.md)
    - [Commits](https://github.com/rust-lang/regex/commits)
    
    Signed-off-by: dependabot-preview[bot] <support@dependabot.com>

commit 941c16f449a31d22e2af132d9bc599d396a58287
Author: Nikhil Benesch <nikhil.benesch@gmail.com>
Date:   Wed May 27 13:37:42 2020 -0400

    sql: remove SchemaMap from catalog trait collection
    
    The SchemaMap only existed so that its keys could be iterated. Simpler
    just to expose an iterator over the schema names directly.

commit 4998e496c540431e5cf8b94fc92343cd1f7527ff
Author: Nikhil Benesch <nikhil.benesch@gmail.com>
Date:   Wed May 27 13:29:43 2020 -0400

    sql: have PlanCatalog::get_schemas return an error instead of an option
    
    This means we don't need to construct the same error message in multiple
    places, and also allows us to replace one usage of the database resolver
    with get_schemas.

commit d0c218770bbf72edf5e7d3a13ebd45265314115c
Author: Nikhil Benesch <nikhil.benesch@gmail.com>
Date:   Wed May 27 13:08:31 2020 -0400

    sql: remove StatementContext::{get, get_by_id}
    
    These methods were necessary when conn_id needed to be plumbed from the
    StatmentContext to the catalog, but that plumbing is now handled
    automatically by PlanCatalog, and I think "scx.catalog.get" reads more
    clearly than "scx.get".

commit c6e7e81921681ea2fc43717a6053db4b188fe59f
Author: Nikhil Benesch <nikhil.benesch@gmail.com>
Date:   Wed May 27 13:03:08 2020 -0400

    sql: remove iter from the PlanCatalog trait
    
    Nothing in the SQL planner should be iterating the catalog in its
    entirety. Update the one usage of iter() to use a more efficient
    implementation that does not require iterating the whole catalog.

commit f462e01ad4e7498a47463bd805ab22b5f00b9601
Author: Nikhil Benesch <nikhil.benesch@gmail.com>
Date:   Wed May 27 12:34:51 2020 -0400

    sql: remove conn_id from PlanCatalog trait
    
    This is no longer needed, as the SQL planner is now entirely isolated
    from connection IDs.

commit 2ddce2d61f641b70cbeda5e68b45fa47234e49d6
Merge: 72b394d4f 0d6da5a85
Author: Nikhil Benesch <nikhil.benesch@gmail.com>
Date:   Sun May 31 22:25:44 2020 -0400

    Merge pull request #3205 from benesch/sink-verification
    
    demo/billing: improve reliability of sink verification

commit 0d6da5a85ecb319f5db700d5f0da81b84610ae9f
Author: Nikhil Benesch <nikhil.benesch@gmail.com>
Date:   Sun May 31 21:50:18 2020 -0400

    demo/billing: improve reliability of sink verification
    
    The topic name of the new sink may not be immediately available after
    the sink is created; querying for it needs to be wrapped in a retry
    loop.
    
    The billing demo previously took a two step approach: first it
    queried for the new sink's ID, in a retry loop, and then it queryed for
    the topic name using the previously-retried ID, but not in a retry loop.
    Instead, just use a SQL join to query for the sink's topic name
    directly, and do so in a retry loop.
    
    This fixes some CI flakiness, where the sink demo was incorrectly
    failing because it was unable to find the topic name of the new sink.

commit 72b394d4f30c1f44dc0fe4475814bd777364d9e1
Merge: eeb83b1de 3fb940f82
Author: Nikhil Benesch <nikhil.benesch@gmail.com>
Date:   Sun May 31 00:56:00 2020 -0400

    Merge pull request #3019 from benesch/sql-refactor
    
    sql: extract purification into module

commit 3fb940f82ea15655801e4995927e0af179e69d76
Author: Nikhil Benesch <nikhil.benesch@gmail.com>
Date:   Fri May 8 19:09:36 2020 -0400

    sql: split out pure module
    
    This keeps all the code for statement purification in one place, and
    makes for a nice place to document the approach.

commit 20376fbfdd86e6b1829948701fd6a13311417fab
Author: Nikhil Benesch <nikhil.benesch@gmail.com>
Date:   Fri May 8 18:59:31 2020 -0400

    sql: introduce src directory
    
    Make the sql crate follow the conventional crate layout for Rust
    projects.

commit 772462514dc492c802ebd7639d5821c6a524361c
Author: Nikhil Benesch <nikhil.benesch@gmail.com>
Date:   Tue May 26 16:55:48 2020 -0400

    expr: return runtime errors for casts
    
    Additional follow-on work from runtime errors (#489/#2441). Necessary
    for #3146.

commit eee6d42156604a9ef440921a29be790144ed2d65
Author: Nikhil Benesch <nikhil.benesch@gmail.com>
Date:   Tue May 26 16:21:37 2020 -0400

    strconv: use dedicated error type

commit eeb83b1de510bcd3ec84ce83dd32249275a510c8
Merge: cdd76bc68 01d150ec5
Author: Natacha Crooks <nacrooks@gmail.com>
Date:   Fri May 29 21:24:26 2020 -0400

    Merge pull request #3190 from nacrooks/multireaders
    
    Multi-worker Kafka reading

commit 7d4340cbb597520e132a1f70b6f9c6a14fcc0b0d
Author: Nikhil Benesch <nikhil.benesch@gmail.com>
Date:   Fri May 29 16:07:16 2020 -0400

    repr: avoid more allocations when decoding JSON
    
    With a bit of work, we can use just a single scratch buffer to sort map
    entries. This is another 10-15% performance win on JSON decoding.

commit b5fb57ca5ca74bab8f21e5d488c0d118d4424e6b
Author: Nikhil Benesch <nikhil.benesch@gmail.com>
Date:   Thu May 28 19:47:15 2020 -0400

    repr: speed up JSON decoding
    
    Speed up JSON encoding and decoding by avoiding intermediate
    serde_json::Values.  Initial benchmarks show a 2-2.5x speedup.

commit 740a86079b31463132b77e1a0bf113527a78c2e9
Author: Frank McSherry <fmcsherry@me.com>
Date:   Fri May 29 14:45:11 2020 -0400

    add tests

commit 01d150ec568ac29434e4b49f9e0ef391a8fb21f0
Author: Natacha Crooks <nacrooks@gmail.com>
Date:   Fri May 29 13:43:21 2020 -0400

    moving bytes_read kafka to correct place in code

commit cdd76bc6848fdf2825a210bbed7e69dd37871e00
Author: Jessica Laughlin <JLDLaughlin@users.noreply.github.com>
Date:   Fri May 29 13:42:46 2020 -0400

    Remove prometheus backup step from release checklist (#3201)

commit 215296565b709ea3334129eeea2ed311c41011fe
Merge: d178b9e8a 30d6c9234
Author: Ruchir Khaitan <ruchir0001@gmail.com>
Date:   Fri May 29 13:42:14 2020 -0400

    Merge pull request #3194 from ruchirK/rk-2947-2
    
    demo: edit billing-demo to validate that sink contains expected data

commit 99f25b61c5d90020f67887bd807fdc991a888b23
Author: Natacha Crooks <nacrooks@gmail.com>
Date:   Fri May 29 10:21:37 2020 -0400

    Moving to single consumer interface

commit 5a7afe4b65498cd885443512657244a22f097e97
Author: Frank McSherry <fmcsherry@me.com>
Date:   Fri May 29 12:31:11 2020 -0400

    correct logic

commit aeb4c777709d490943691370a95d4518f2dd51c0
Author: Frank McSherry <fmcsherry@me.com>
Date:   Fri May 29 11:16:19 2020 -0400

    work around if statements

commit d178b9e8ad3386319a9a5a6c0d633703216925c8
Author: Brennan Vincent <brennan@materialize.io>
Date:   Fri May 29 10:42:54 2020 -0400

    More debug info in dbz deduplication (#3197)

commit 6a3e05484d43af5884e0cf0bab8cd19e5ddf7007
Author: Jessica Laughlin <JLDLaughlin@users.noreply.github.com>
Date:   Fri May 29 10:34:49 2020 -0400

    Update load test instructions in release template (#3193)

commit aa67b6b9dea09ec14ba15039a0f66194127a4a7c
Author: Natacha Crooks <nacrooks@gmail.com>
Date:   Wed May 27 17:05:55 2020 -0400

    Adding support for multi-worker reading in Kafka

commit 30d6c92340242c3d4122feb052f6f9153208b438
Author: Ruchir Khaitan <ruchir0001@gmail.com>
Date:   Mon May 18 10:42:07 2020 -0400

    demo: edit billing-demo to validate that sink contains expected data
    
    Specifically, this change validates that after inserting the specified number of
    messages into the source kafka topic, creating a sink, and reingesting the entire
    sink, the contents of the view built from reingesting the sink match the contents
    of the view that the sink was built off of.

commit a207783d8499cd5f0447d21c5071add1975bf334
Merge: 88fc20bf4 fd881a8b5
Author: Nikhil Benesch <nikhil.benesch@gmail.com>
Date:   Thu May 28 17:35:32 2020 -0400

    Merge pull request #3170 from nacrooks/consumers
    
    Reduce the number of  Kafka consumers to one per source

commit 88fc20bf4f8ccf16eb4c7e333f71f6f4340efc7c
Merge: 481ca7cd6 bd70149fe
Author: Albert Wang <albert@materialize.io>
Date:   Thu May 28 17:17:57 2020 -0400

    Merge pull request #3192 from MaterializeInc/awang-releasenote-3.0
    
    Update release-notes.md

commit fd881a8b574774df78a410845e0734982a01186a
Author: Natacha Crooks <nacrooks@gmail.com>
Date:   Thu May 21 13:12:55 2020 -0400

    dataflow: use one consumer with split partition queues in kafka sources
    
    Use the new rust-rdkafka support for split partition queues while
    sharing a consumer. This saves on threads and file descriptors, by using
    only one consumer, while preserving the important property of reading
    from partitions in a round-robin fashion.

commit bd70149fe43d92257361907b2ef1504bb3b2298c
Author: Albert Wang <albert@materialize.io>
Date:   Thu May 28 17:11:46 2020 -0400

    Update release-notes.md

commit 481ca7cd6c7ae87ef4d64f97d4b907d38864f5d2
Merge: 60a39603f 697fc7470
Author: Nikhil Benesch <nikhil.benesch@gmail.com>
Date:   Thu May 28 16:36:10 2020 -0400

    Merge pull request #3189 from benesch/relnotes-030
    
    doc/user: update docs + release notes for 0.3.0

commit 697fc74701735bb7b70224d2fe3ec64360d15842
Author: Nikhil Benesch <nikhil.benesch@gmail.com>
Date:   Thu May 28 15:39:22 2020 -0400

    doc/user: add v0.3.0 release notes

commit edc5644bde725ba309365b946d570ac19c94d939
Author: Nikhil Benesch <nikhil.benesch@gmail.com>
Date:   Thu May 28 15:39:31 2020 -0400

    doc/user: warn about debezium duplicates

commit 60a39603fc52bc198c29a9a8df3226c9e5e5237d
Author: Jessica Laughlin <JLDLaughlin@users.noreply.github.com>
Date:   Thu May 28 16:27:08 2020 -0400

    Fix perf-kinesis mzconduct command (#3191)

commit 15db8852cf2432f6b666c8cd26bdbfa0afa98727
Merge: c2bf31389 4cf91f5eb
Author: Jessica Laughlin <JLDLaughlin@users.noreply.github.com>
Date:   Thu May 28 16:06:47 2020 -0400

    Update perf-kinesis to use mzconduct (#3188)

commit 4cf91f5eb33273ce89dde2606247460295f45efd
Author: JLDLaughlin <jessica@materialize.io>
Date:   Thu May 28 16:02:32 2020 -0400

    Add CI workflow

commit c2bf313890ac523d46f11cc8abb30b6ea477fbab
Merge: a3e1f31cb 9e85a1913
Author: Justin Jaffray <justin.jaffray@gmail.com>
Date:   Thu May 28 15:50:22 2020 -0400

    Merge pull request #3182 from justinj/fix-location
    
    Fix use of location in sqllogictest

commit 61fe44b8d28a5cc82734a36a8c7e1167c3e95260
Author: Nikhil Benesch <nikhil.benesch@gmail.com>
Date:   Thu May 28 15:37:35 2020 -0400

    doc/user: document temporary views

commit 39e05b187337da5554f73e65bbb90a82f28af8d7
Author: Nikhil Benesch <nikhil.benesch@gmail.com>
Date:   Thu May 28 15:38:23 2020 -0400

    doc/user: fix link shortcodes
    
    These can use the go template chomper tags (`{{-` and `-}}`) to avoid
    introducing whitespace around links.

commit 961c9b996477a715574015d8c6dea5294864f451
Author: JLDLaughlin <jessica@materialize.io>
Date:   Thu May 28 15:26:43 2020 -0400

    Update perf-kinesis to use mzconduct

commit a3e1f31cb35205665e9534ae8d2937970add7fb9
Merge: fbcb09bb2 3dff2cf54
Author: Jessica Laughlin <JLDLaughlin@users.noreply.github.com>
Date:   Thu May 28 15:24:45 2020 -0400

    Update billing-demo instructions on release checklist (#3187)
    
    The billing-demo release test can now use an mzconduct workflow instead
    of having to run anything manually

commit fbcb09bb25c5920a24833468ee30f481d46f6dc1
Merge: 15d18c951 e6482c82b
Author: Jessica Laughlin <JLDLaughlin@users.noreply.github.com>
Date:   Thu May 28 15:03:16 2020 -0400

    Compare durations directly (#3186)
    
    Compare Durations directly, remove unnecessary conversions

commit 3dff2cf547f1e2e4579e73db72977b55dc76eae4
Author: JLDLaughlin <jessica@materialize.io>
Date:   Thu May 28 14:57:39 2020 -0400

    errant space part 2

commit 1080c961a5e944f6cf95f9c54f0e09f57f81c216
Author: JLDLaughlin <jessica@materialize.io>
Date:   Thu May 28 14:57:22 2020 -0400

    errant space

commit d438a371128e3a1f29d44c5e93db92e45876106b
Author: JLDLaughlin <jessica@materialize.io>
Date:   Thu May 28 14:56:13 2020 -0400

    Update billing-demo instructions on release checklist

commit e6482c82bbe8598ed9b9002c2bf47f8239fa6de5
Author: JLDLaughlin <jessica@materialize.io>
Date:   Thu May 28 14:51:07 2020 -0400

    debug

commit 15d18c9515509bc5053347a75c2f33e8f1f7e930
Author: Jessica Laughlin <JLDLaughlin@users.noreply.github.com>
Date:   Thu May 28 14:49:07 2020 -0400

    Update to v0.3.1-dev (#3185)

commit 1916653a7d08def87b840ef568d9f740d071bcfb
Author: JLDLaughlin <jessica@materialize.io>
Date:   Thu May 28 14:47:38 2020 -0400

    Compare durations directly

commit 9e85a1913d932d57c1ae09b9bf77a2236b19ab30
Author: Justin Jaffray <justin.jaffray@gmail.com>
Date:   Thu May 28 13:22:43 2020 -0400

    Fix use of location in sqllogictest
    
    This was accidentally using the current location rather than the one we
    grabbed, which resulted in it pointing to after the query, rather than
    at it.

commit 88266cac9858de41b241e42b97db5018a70d8c2c
Author: Jessica Laughlin <JLDLaughlin@users.noreply.github.com>
Date:   Thu May 28 13:22:28 2020 -0400

    Fix billing-demo mzcompose command (#3181)

commit be3a823e6e6b185c088337eee726b071b974a13c
Author: Jessica Laughlin <JLDLaughlin@users.noreply.github.com>
Date:   Thu May 28 12:25:25 2020 -0400

    Fix sleep bug in perf-kinesis (#3180)

commit 1098817a9e27d631f13df862e7642e1e53b4db16
Merge: 866c76942 4910e34a4
Author: Brandon W Maister <bwm@materialize.io>
Date:   Thu May 28 10:29:31 2020 -0400

    Merge pull request #3168 from quodlibetor/mzconduct-in-ci
    
    Add mzconduct buildkite integration, use it for chbench and billing

commit 866c769420dadbc3cbcf250d1822c8d2c4f1e1cd
Author: Brennan Vincent <brennan@materialize.io>
Date:   Thu May 28 09:57:06 2020 -0400

    Shuffle Avro Debezium records by key. (#3177)

commit ff1d3f81e06539b9bebca9e38466b346ca18ab37
Author: Brandon W Maister <bwm@materialize.io>
Date:   Wed May 27 17:45:30 2020 -0400

    mzconduct: startup happens without a tty in automation (#3174)
    
    That means that the `-i` flag breaks docker.

commit 94bfd86e30d8accae4134d7e4b853744b3ac186a
Author: Frank McSherry <fmcsherry@me.com>
Date:   Wed May 27 17:37:11 2020 -0400

    Memoize reused ScalarExpr in Map (#3167)
    
    A first cut at Scalar CSE in Map expressions. Extracts all ScalarExpr subexpressions, converts uses to column references, and then inlines single uses. Intermediate results are projected out. More tests forthcoming, but the rough gist is
    ```
    query T multiline
    EXPLAIN PLAN FOR SELECT b*b*b, b*b FROM x
    ----
    %0 =
    | Get materialize.public.x (u1)
    | Map (#0 * #0), (#1 * #0)
    | Project (#2, #1)
    EOF
    ```

commit 39051c43d6c1db0f386409745d454e28751d086b
Author: Brandon W Maister <bwm@materialize.io>
Date:   Wed May 27 17:14:35 2020 -0400

    mzconduct: Just log to /tmp in automation (#3173)
    
    The automation user does not have a HOME

commit 3e673189d6b3e47b9da1e325f08ae77318b0557a
Author: Brandon W Maister <bwm@materialize.io>
Date:   Wed May 27 17:06:16 2020 -0400

    mzconduct: log tcp errors in wait-for-tcp in automation (#3171)
    
    This is pretty hacky, and again we should move to just using logging, or at least revert
    this soon.
    
    We are seeing issues that happen _only_ at cloud-init startup, never when running
    manually, so this seems like the best option right now.

commit 4910e34a454256dafa0ad153577cddbc0f202dac
Author: Brandon W Maister <bwm@materialize.io>
Date:   Wed May 27 15:56:30 2020 -0400

    ci: change chbench ci workflow
    
    Mostly to get the test to run as part of this PR, but also it is slightly more
    interesting this way.

commit a9418acf656fcf3af2b27ae1badf329fcc82460e
Author: Brandon W Maister <bwm@materialize.io>
Date:   Wed May 27 15:20:22 2020 -0400

    ci: Remove support for the "#image specifier" format
    
    It is no longer necessary now that we can always use a plugin that knows how to export
    its image dependencies.

commit 7ed56da85a6ca2c243709ac59eca2a5b4d26485f
Author: Brandon W Maister <bwm@materialize.io>
Date:   Wed May 27 15:19:27 2020 -0400

    ci: rename manual_inputs to extra_inputs
    
    It is used to to register an extra input that should be resolved for plugins.

commit eb5af8fce169beeb9794aca3cefdb857981910fd
Author: Brandon W Maister <bwm@materialize.io>
Date:   Wed May 27 14:58:30 2020 -0400

    Move billing demo to use mzconduct in CI, add a load-test workflow

commit 3ae66da13eb26711484a608f568dd811b029b6fe
Author: Brandon W Maister <bwm@materialize.io>
Date:   Wed May 27 14:55:22 2020 -0400

    Add mzconduct support to buildpipeline
    
    It just finds the underlying mzcompose file

commit 969a5dacbe68519294886a6849fa707f11318601
Author: Brandon W Maister <bwm@materialize.io>
Date:   Wed May 27 14:37:01 2020 -0400

    Add an mzconduct buildkite plugin
    
    The next few commits will start using it, some changes are necessary to tests and demos
    to use it safely.
    
    This almost completely reuses the shutdown step from mzcompose, since we really want to
    just forcefully kill things, but it does add features to mzconduct to make it integrate
    reasonably.
    
    This also leaves the mzcompose plugin, because we do seem to have several workflows that
    don't do just start up and run correctly with no ordering guarantees.

commit 1c3c427881151a1fc8b70a1b5fffd035942c3428
Merge: b7e7cbff5 ccb8a118a
Author: Brandon W Maister <bwm@materialize.io>
Date:   Wed May 27 15:37:57 2020 -0400

    Merge pull request #3169 from quodlibetor/chbench-loadtests
    
    chbench: update load test to start dashboard earlier

commit ccb8a118a502269ba0863148e780b9ed73808cb1
Author: Brandon W Maister <bwm@materialize.io>
Date:   Wed May 27 15:30:15 2020 -0400

    chbench: update load test to start dashboard earlier

commit 960dec7257cc28914476da2bffd525462dbdd9f3
Author: Brandon W Maister <bwm@materialize.io>
Date:   Wed May 27 15:27:30 2020 -0400

    chbench: allow connect more time to come up

commit b7e7cbff5b8618448f0f9ca9c7f127eaaf2543d9
Merge: bf4f1226c c257ffe32
Author: Sean Loiselle <sean@materialize.io>
Date:   Wed May 27 13:27:35 2020 -0400

    Merge pull request #3133 from sploiselle/date-time-tokenizer-format-refactor
    
    sql: support more date formats in datetime parser

commit bf4f1226ca9eaa0c4520272f012659bae8aeb79c
Author: Brandon W Maister <bwm@materialize.io>
Date:   Wed May 27 13:08:18 2020 -0400

    Clean up dashboard for users again (#3162)
    
    It gained a bunch of debugging panels interspersed with things that are perhasps more
    user-interesting. This doesn't delete any panels, but it does reorganize them.

commit b6bae4d167d7a9f55648774eefe0a107232a4011
Merge: 015ddfba1 895c8e92f
Author: Jessica Laughlin <JLDLaughlin@users.noreply.github.com>
Date:   Wed May 27 13:07:22 2020 -0400

    Fix temporary view name collisions (#3166)
    
    Checks for name collisions within a connection id's
    temporary schema

commit c257ffe32b371b40c766b4cfae799e80f7a2a2e4
Author: Sean Loiselle <himself@seanloiselle.com>
Date:   Sun May 24 10:07:27 2020 -0400

    idk

commit 895c8e92ff2fa64c067cb02405d179106232b853
Author: JLDLaughlin <jessica@materialize.io>
Date:   Wed May 27 12:41:29 2020 -0400

    clean

commit 015ddfba1054ba613b186f03a3a93f7a485d7767
Author: Brennan Vincent <brennan@materialize.io>
Date:   Wed May 27 12:18:36 2020 -0400

    Add topic name to warning message; change "position" to "offset". (#3163)

commit f3d660ce9ea13ccbc904961769324c5b3915b8b3
Author: JLDLaughlin <jessica@materialize.io>
Date:   Wed May 27 12:07:14 2020 -0400

    set

commit 4c8fc926f5cb262abafa5c35308f246f97aad140
Author: JLDLaughlin <jessica@materialize.io>
Date:   Wed May 27 11:53:18 2020 -0400

    Temporary view name collisions

commit a67115ef1f664b51bf8d1b53bd9f5cbd79d01d28
Merge: 4071f59ff 6b8d20f55
Author: Justin Jaffray <justin.jaffray@gmail.com>
Date:   Wed May 27 10:32:08 2020 -0400

    Merge pull request #3099 from justinj/fix-any-again
    
    Fix another problem with ANY/ALL => Exists

commit 6b8d20f550b83762a4a8e25cb716bae24c13f040
Author: Justin Jaffray <justin.jaffray@gmail.com>
Date:   Wed May 20 15:16:27 2020 -0400

    Fix another problem with ANY/ALL => Exists
    
    The original change also didn't handle the case where the LHS was
    nullable. This is sort of a hacky fix at the moment, we just construct
    an `if`, but we should be able to eliminate it in many cases.
    
    This isn't an ideal fix, since it duplicates the possibly expensive LHS,
    but it doesn't seem to practically hurt in any tests we have today.

commit 4071f59ff1b205c1090a7f00ca56a578b4c0f2b3
Author: Brennan Vincent <brennan@materialize.io>
Date:   Wed May 27 09:47:14 2020 -0400

    print Kafka offset in Debezium dedupe error message (#3161)

commit 6881a6966c8f403ba08bb333f6b6c7e6aa62fc15
Merge: b77fdc3a5 720c44887
Author: Nikhil Benesch <nikhil.benesch@gmail.com>
Date:   Tue May 26 23:34:42 2020 -0400

    Merge pull request #3159 from MaterializeInc/bump-nightly
    
    ci/builder: bump nightly image

commit 720c44887176bb0147877a4a1f4fa84950b9e112
Author: Nikhil Benesch <nikhil.benesch@gmail.com>
Date:   Tue May 26 23:09:38 2020 -0400

    ci/builder: bump nightly image
    
    The nightly image was missing some Python modules that recently became
    important for building the Python API docs.

commit b77fdc3a56b8a9689b014a52408f46eea105b3b8
Merge: 2b6a5358a 142318019
Author: Nikhil Benesch <nikhil.benesch@gmail.com>
Date:   Tue May 26 22:58:42 2020 -0400

    Merge pull request #3157 from MaterializeInc/docs-023
    
    doc/user: mark 0.2.3 as released

commit 2b6a5358acd369a5c641c1728a1a34f77318ba54
Author: Brandon W Maister <bwm@materialize.io>
Date:   Tue May 26 22:46:56 2020 -0400

    py: Add docs and copyright notice to materialize.cli (#3158)

commit e6da1cb1505b2e20c1fb606147c569558df78a4a
Merge: 032aabf1a b69b9f95b
Author: Brandon W Maister <bwm@materialize.io>
Date:   Tue May 26 22:16:59 2020 -0400

    Merge pull request #3124 from quodlibetor/mzconduct-add-env-var-substitution
    
    Add env var substition to mzconduct

commit 142318019b1eba3467732e91a82400313a6c6e26
Author: Nikhil Benesch <nikhil.benesch@gmail.com>
Date:   Tue May 26 20:04:32 2020 -0400

    doc/user: mark 0.2.3 as released

commit 032aabf1a4c386f39191a3f2c97cc1f1adb50b60
Merge: e52252390 3742e7486
Author: Nikhil Benesch <nikhil.benesch@gmail.com>
Date:   Tue May 26 14:56:24 2020 -0400

    Merge pull request #3149 from benesch/default-cast-rendering
    
    sql-parser: render CAST expressions using Postgres syntax

commit e52252390de44e4ea8306f1027f8969d1cb3c954
Merge: 9d41d6068 5ac280819
Author: Nikhil Benesch <nikhil.benesch@gmail.com>
Date:   Tue May 26 14:36:34 2020 -0400

    Merge pull request #3153 from MaterializeInc/website-gitignore
    
    www: fix broken link checker

commit 5ac28081904d897e9a32bc3f8b36861700dc17ef
Author: Nikhil Benesch <nikhil.benesch@gmail.com>
Date:   Tue May 26 14:33:16 2020 -0400

    www: fix broken link checker

commit 3742e748678b49ae0fc357ef3afae8442a4ef986
Author: Nikhil Benesch <nikhil.benesch@gmail.com>
Date:   Tue May 26 11:56:24 2020 -0400

    sql-parser: render CAST expressions using Postgres syntax
    
    The PostgreSQL-style casts
    
        'foo'::int4
    
    are a lot less verbose than standard SQL casts:
    
        CAST('foo' AS int4)
    
    When formatting SQL statements, use the PostgreSQL style. This will make
    `SHOW CREATE VIEW` more readable, and allow a forthcoming PR (#3146) to
    avoid introducing a new AST node for typed string literals.

commit 9d41d6068f40502316688f455ae510b6fb713a65
Merge: e1bb1aba8 d81073b88
Author: Justin Jaffray <justin.jaffray@gmail.com>
Date:   Tue May 26 13:04:16 2020 -0400

    Merge pull request #3129 from justinj/lnums
    
    sqllogictest: show line numbers in test failures

commit d81073b887f9e690ba59325ec125024fa54aaec0
Author: Justin Jaffray <justin.jaffray@gmail.com>
Date:   Fri May 22 14:16:29 2020 -0400

    sqllogictest: show line numbers in test failures
    
    This comes accompanied with a mostly-mechanical transformation to
    package the parsing state into a struct to make it easier to track said
    line numbers.

commit e1bb1aba8cbbab55d0418f7489f6e40a457f3969
Merge: b475be2bf 8be29925c
Author: Frank McSherry <fmcsherry@me.com>
Date:   Tue May 26 10:27:26 2020 -0400

    Merge pull request #3132 from frankmcsherry/unpack_less
    
    hoist datums allocation out of loop

commit b475be2bf48fb58d19ca170f8f198e636be4b996
Merge: 314ea0c61 70a85360c
Author: Frank McSherry <fmcsherry@me.com>
Date:   Tue May 26 09:30:51 2020 -0400

    Merge pull request #3098 from frankmcsherry/change_data_capture
    
    Explain CDC requirements

commit 314ea0c611748ed3ce48a7db4272050e4533c4a6
Merge: 92c5c8cbc 9144596a8
Author: Frank McSherry <fmcsherry@me.com>
Date:   Tue May 26 09:30:28 2020 -0400

    Merge pull request #3086 from frankmcsherry/diagnostic_queries
    
    Preliminary diagostic queries

commit 9144596a8a001399d73b5f610ecdf5d4a669f52f
Author: Frank McSherry <fmcsherry@me.com>
Date:   Tue May 26 09:22:08 2020 -0400

    newlines break our stack

commit 70a85360ce97783b9b79a9a1684da964cbccaac4
Author: Frank McSherry <fmcsherry@me.com>
Date:   Tue May 26 09:21:13 2020 -0400

    newlines break our stack

commit 92c5c8cbc4286885655bbc980abb724a774699dd
Merge: ebddb415a d3dfb9961
Author: Nikhil Benesch <nikhil.benesch@gmail.com>
Date:   Tue May 26 08:09:38 2020 -0400

    Merge pull request #3136 from benesch/docs-links
    
    doc/user: fix and lint for broken links

commit ebddb415ac2c8e00a39d7b28ecf8b0fae42b4e37
Merge: 959b9e4cd 631b0d34e
Author: Nikhil Benesch <nikhil.benesch@gmail.com>
Date:   Mon May 25 14:05:20 2020 -0400

    Merge pull request #3143 from MaterializeInc/dependabot/cargo/openssl-sys-0.9.57
    
    build(deps): bump openssl-sys from 0.9.56 to 0.9.57

commit 631b0d34e0c9f5d6b964ac42d6522441934f938a
Author: dependabot-preview[bot] <27856297+dependabot-preview[bot]@users.noreply.github.com>
Date:   Mon May 25 15:48:15 2020 +0000

    build(deps): bump openssl-sys from 0.9.56 to 0.9.57
    
    Bumps [openssl-sys](https://github.com/sfackler/rust-openssl) from 0.9.56 to 0.9.57.
    - [Release notes](https://github.com/sfackler/rust-openssl/releases)
    - [Commits](https://github.com/sfackler/rust-openssl/compare/openssl-sys-v0.9.56...openssl-sys-v0.9.57)
    
    Signed-off-by: dependabot-preview[bot] <support@dependabot.com>

commit 959b9e4cdd97c03735fa6eb47df3b9d3658b5b4a
Merge: 734972be0 73bda547c
Author: Nikhil Benesch <nikhil.benesch@gmail.com>
Date:   Mon May 25 11:46:18 2020 -0400

    Merge pull request #3141 from MaterializeInc/dependabot/cargo/once_cell-1.4.0
    
    build(deps): bump once_cell from 1.3.1 to 1.4.0

commit 734972be063dfc89d330af5c03b3bef547866de1
Merge: 3a34131e6 add504f38
Author: Nikhil Benesch <nikhil.benesch@gmail.com>
Date:   Mon May 25 11:46:07 2020 -0400

    Merge pull request #3144 from MaterializeInc/dependabot/cargo/thiserror-1.0.19
    
    build(deps): bump thiserror from 1.0.18 to 1.0.19

commit 3a34131e6b150f200f55fcf55c270d59b663a2e5
Merge: 3b34a3fe2 ef185a642
Author: Nikhil Benesch <nikhil.benesch@gmail.com>
Date:   Mon May 25 11:45:54 2020 -0400

    Merge pull request #3145 from MaterializeInc/dependabot/cargo/sha2-0.8.2
    
    build(deps): bump sha2 from 0.8.1 to 0.8.2

commit 3b34a3fe2761dff0db40c667e2a3b16ac7888f5a
Merge: 9f7c5654e 57d67a320
Author: Nikhil Benesch <nikhil.benesch@gmail.com>
Date:   Mon May 25 11:42:51 2020 -0400

    Merge pull request #3140 from MaterializeInc/dependabot/cargo/krb5-src-0.2.21.18.1
    
    build(deps): bump krb5-src from 0.2.1+1.18.1 to 0.2.2+1.18.1

commit ef185a64262e9e9097b20a74f90fad8895daf0b7
Author: dependabot-preview[bot] <27856297+dependabot-preview[bot]@users.noreply.github.com>
Date:   Mon May 25 11:00:52 2020 +0000

    build(deps): bump sha2 from 0.8.1 to 0.8.2
    
    Bumps [sha2](https://github.com/RustCrypto/hashes) from 0.8.1 to 0.8.2.
    - [Release notes](https://github.com/RustCrypto/hashes/releases)
    - [Commits](https://github.com/RustCrypto/hashes/compare/sha2-v0.8.1...sha2-v0.8.2)
    
    Signed-off-by: dependabot-preview[bot] <support@dependabot.com>

commit add504f384c77487ad2a4b4e0f605bc2efc55dfd
Author: dependabot-preview[bot] <27856297+dependabot-preview[bot]@users.noreply.github.com>
Date:   Mon May 25 11:00:35 2020 +0000

    build(deps): bump thiserror from 1.0.18 to 1.0.19
    
    Bumps [thiserror](https://github.com/dtolnay/thiserror) from 1.0.18 to 1.0.19.
    - [Release notes](https://github.com/dtolnay/thiserror/releases)
    - [Commits](https://github.com/dtolnay/thiserror/compare/1.0.18...1.0.19)
    
    Signed-off-by: dependabot-preview[bot] <support@dependabot.com>

commit 73bda547c33ddf54788a5795a65e4415abfb9b83
Author: dependabot-preview[bot] <27856297+dependabot-preview[bot]@users.noreply.github.com>
Date:   Mon May 25 10:58:49 2020 +0000

    build(deps): bump once_cell from 1.3.1 to 1.4.0
    
    Bumps [once_cell](https://github.com/matklad/once_cell) from 1.3.1 to 1.4.0.
    - [Release notes](https://github.com/matklad/once_cell/releases)
    - [Changelog](https://github.com/matklad/once_cell/blob/master/CHANGELOG.md)
    - [Commits](https://github.com/matklad/once_cell/compare/v1.3.1...v1.4.0)
    
    Signed-off-by: dependabot-preview[bot] <support@dependabot.com>

commit 57d67a3205e3831c244a311e0cdac0edbcbcb651
Author: dependabot-preview[bot] <27856297+dependabot-preview[bot]@users.noreply.github.com>
Date:   Mon May 25 10:58:24 2020 +0000

    build(deps): bump krb5-src from 0.2.1+1.18.1 to 0.2.2+1.18.1
    
    Bumps [krb5-src](https://github.com/MaterializeInc/rust-krb5-src) from 0.2.1+1.18.1 to 0.2.2+1.18.1.
    - [Release notes](https://github.com/MaterializeInc/rust-krb5-src/releases)
    - [Changelog](https://github.com/MaterializeInc/rust-krb5-src/blob/master/CHANGELOG.md)
    - [Commits](https://github.com/MaterializeInc/rust-krb5-src/compare/v0.2.1+1.18.1...v0.2.2+1.18.1)
    
    Signed-off-by: dependabot-preview[bot] <support@dependabot.com>

commit d3dfb9961e626cfc705bfdf64e62b1bba9066176
Author: Nikhil Benesch <nikhil.benesch@gmail.com>
Date:   Sat May 23 14:34:18 2020 -0400

    doc/user: fix and lint for broken links
    
    This patch adds a CI jobs that uses htmltest [0] to lint for internal
    broken links and images. This exposed a number of links that were
    broken due to various docs refactors, all of which have been fixed in
    this patch.
    
    This commit additionally makes use of Hugo's "markdown render hooks" to
    automatically make links and images of the form `/path` relative to the
    site's base URL. For example, `/images/foo` will be rewritten to
    `/docs/images/foo` when deployed to production.
    
    [0]: https://github.com/wjdp/htmltest

commit 9f7c5654eb05201c0aac85a31406a4837f45c540
Merge: f3dc11ae1 0560c51ff
Author: Nikhil Benesch <nikhil.benesch@gmail.com>
Date:   Sat May 23 12:37:19 2020 -0400

    Merge pull request #3135 from benesch/bi-image-url
    
    doc/user: fix business intelligence deployment diagram

commit 0560c51ff5ae7438e30661573c67054dcda954ab
Author: Nikhil Benesch <nikhil.benesch@gmail.com>
Date:   Sat May 23 12:34:57 2020 -0400

    doc/user: fix business intelligence deployment diagram

commit f3dc11ae107f2701cd87fe854643303472f72659
Merge: 8737b7ee2 3936afc57
Author: Andi Wang <5522362+wangandi@users.noreply.github.com>
Date:   Fri May 22 17:09:58 2020 -0400

    Merge pull request #3131 from wangandi/wwwtolayout
    
    Fix references in doc/user/README.md to stop pointing at www

commit 8737b7ee203210488b60afc38dfaa3bbd557a256
Merge: b58981963 b1b76533c
Author: Frank McSherry <fmcsherry@me.com>
Date:   Fri May 22 16:57:07 2020 -0400

    Merge pull request #3117 from frankmcsherry/source_timestamps
    
    This PR quickly moves capability information for data from sources into payload data. This allows us to manipulate it more casually without blocking computation. We replace the use of the aggregate operator with one that aggregates by payload time (rather than capability).
    
    There are various performance weaknesses in this implementation, and a more complete implementation would look like the MergeBatcher in differential which more carefully manages arbitrarily large numbers of distinct times.
    
    The intended behavior of this PR is that we can now load arbitrarily large batches of source data at the same timestamp with a working footprint that more closely resembles the number of distinct keys.

commit e49a4c5b8b424a1468a7754dc60cd6899c4bd256
Author: Sean Loiselle <himself@seanloiselle.com>
Date:   Fri May 22 13:59:17 2020 -0400

    sql: support more date formats in datetime parser

commit 3936afc57ae979ef509a322f8d3d433bdb0e70e7
Author: Andi Wang <andi@materialize.io>
Date:   Fri May 22 14:50:56 2020 -0400

    Fix links.

commit b58981963f0954a912845db67acfd6e6218c3b7b
Merge: 7a9001401 10a9b2d15
Author: Frank McSherry <fmcsherry@me.com>
Date:   Fri May 22 16:01:25 2020 -0400

    Merge pull request #3040 from frankmcsherry/more_column_knowledge
    
    Improve reasoning about columns

commit 8be29925ce1b95d973dd8ea85a751b1e4a0b3f4a
Author: Frank McSherry <fmcsherry@me.com>
Date:   Fri May 22 15:56:20 2020 -0400

    guard unpacking by filter existence

commit 11f10ce5b6b46902d306e5a4d7dc47c7adb3bd86
Author: Frank McSherry <fmcsherry@me.com>
Date:   Fri May 22 15:54:01 2020 -0400

    hoist datums allocation out of loop

commit 7a9001401edab6ce11ce3632846733b0ec34c799
Merge: 031d9dd59 a5f23f4a0
Author: Andi Wang <5522362+wangandi@users.noreply.github.com>
Date:   Fri May 22 12:17:43 2020 -0400

    Merge pull request #3125 from wangandi/upsertavrokeys
    
    Enable bytes key payload text in upsert.

commit b69b9f95bd37b93e77b7ed404eafc4220c47762f
Author: Brandon W Maister <bwm@materialize.io>
Date:   Thu May 21 16:21:19 2020 -0400

    chbench: Add a workflow that can be used for nightlies

commit 456d582061598a8ad145178f4b9b08d77cfecfb0
Author: Brandon W Maister <bwm@materialize.io>
Date:   Thu May 21 15:42:04 2020 -0400

    mzconduct: Add env var substitution in the mzconduct section
    
    This uses the same syntax as docker-compose. It does not emit an error in most cases
    because it's a little unclear exactly when we should do binding if `-e` or `environment`
    is specified in a docker-compose spec.

commit a6b05c1be9dab54533be80082d5a788de422e04e
Author: Brandon W Maister <bwm@materialize.io>
Date:   Thu May 21 15:02:54 2020 -0400

    py: Add pytest execution to `pycheck`
    
    This takes it a bit further from `cargo check`, perhaps pytest should be run in a
    separate thing called `pyvalidate`? As it stands right now the only test I'm adding (in
    the next commit) runs in less than a 1/2 of a second, including python startup, so I'm
    not sure if it's worth the extra mental complexity of having different tools for folks.
    
    Happy to add it, though.

commit 15be27d6400d31ca61f676b6e363d66e96334eb3
Author: Brandon W Maister <bwm@materialize.io>
Date:   Thu May 21 14:19:38 2020 -0400

    py: move cli tools into materialize.cli
    
    This makes it easy to run the test that I'm going to add in the next commit, without as
    many shenanigans adding bin to path.

commit a5f23f4a0bc11928fa89b21d8cedf36d96db8143
Author: Andi Wang <andi@materialize.io>
Date:   Thu May 21 14:21:32 2020 -0400

    Enable key bytes payload upsert.
    
    Add multiple column keys to upsert testing.

commit 031d9dd590828b00f4f959e9727e05b985fd6668
Merge: c9e2ff741 c8ffe66a4
Author: Nikhil Benesch <nikhil.benesch@gmail.com>
Date:   Thu May 21 20:40:38 2020 -0400

    Merge pull request #3121 from benesch/bump-rdkafka
    
    deps: bump rust-rdkafka

commit c8ffe66a4ee61c1bcc0ca25e8ba14a6652b978e6
Author: Nikhil Benesch <nikhil.benesch@gmail.com>
Date:   Thu May 21 18:37:02 2020 -0400

    deps: bump rust-rdkafka
    
    The latest version allows using partition queues for a single consumer
    from multiple threads.

commit c9e2ff7414cd78b21f88c96f0db18d0e3a38224f
Author: Nikhil Benesch <nikhil.benesch@gmail.com>
Date:   Thu May 21 18:23:05 2020 -0400

    dataflow: use inc() instead of inc_by(1)

commit 8ba02b509abbc3fc2b10140df84de0a380fa019c
Merge: 8753d1844 f3fc3f901
Author: Natacha Crooks <nacrooks@gmail.com>
Date:   Thu May 21 15:55:43 2020 -0400

    Merge pull request #3119 from nacrooks/memleak
    
    Fixes memory leak in TimestampUpdate table

commit 8753d1844a1d58e9d6983f2385833a1342f9bc3e
Merge: 5d34e850f 4ea9e5f3a
Author: Justin Jaffray <justin.jaffray@gmail.com>
Date:   Thu May 21 15:52:23 2020 -0400

    Merge pull request #3120 from justinj/fix-merge-skew
    
    Fix merge skew

commit 4ea9e5f3ae52c98fec41f6950e4704d7670549f4
Author: Justin Jaffray <justin.jaffray@gmail.com>
Date:   Thu May 21 15:46:42 2020 -0400

    Fix merge skew

commit 5d34e850f306c32be5820b1e397c7c77ebbc3455
Merge: 869f6b274 a36d83b9c
Author: Justin Jaffray <justin.jaffray@gmail.com>
Date:   Thu May 21 15:35:42 2020 -0400

    Merge pull request #3116 from justinj/slts
    
    Enable subquery_correlated file

commit f3fc3f90108f2e94d3a19d9b00fcb431a7698018
Author: Natacha Crooks <nacrooks@gmail.com>
Date:   Thu May 21 15:21:00 2020 -0400

    Timestamp Metadata table should only be updated by the active source reader

commit 869f6b27430970bab04d1a5dd70aef04a2729c5b
Author: Brandon W Maister <bwm@materialize.io>
Date:   Thu May 21 15:12:01 2020 -0400

    dashboard: add rate and description to source scheduled counts (#3113)

commit 0cef3e161e6634a4a2eef42b411095deaa16907a
Merge: 8989a1017 4890d9690
Author: Natacha Crooks <nacrooks@gmail.com>
Date:   Thu May 21 14:59:36 2020 -0400

    Merge pull request #3100 from nacrooks/batchsize
    
    Makes timestamp batch size a per-source option (default to off)

commit b1b76533c2823e4fbef8a817f0d42fc5f20d7f66
Author: Frank McSherry <fmcsherry@me.com>
Date:   Thu May 21 13:44:40 2020 -0400

    treat source timestamps as data

commit a36d83b9c7bd803a25acaca76180e6c75419e0ce
Author: Justin Jaffray <justin.jaffray@gmail.com>
Date:   Tue May 19 14:51:03 2020 -0400

    Enable subquery_correlated file

commit 8989a1017a0f79ed5348923f7b0684d481d4bcd6
Merge: 48a58f0c2 f3f1a60d1
Author: Justin Jaffray <justin.jaffray@gmail.com>
Date:   Thu May 21 13:18:14 2020 -0400

    Merge pull request #3115 from justinj/unsupported
    
    Standardize reporting of unsupported SQL features

commit f3f1a60d1bfd00d6fcf088622daec01e6a952b5f
Author: Justin Jaffray <justin.jaffray@gmail.com>
Date:   Thu May 21 11:38:21 2020 -0400

    Standardize reporting of unsupported SQL features
    
    Add a macro that's syntactic sugar for `bail` with an error message
    about unsupported features. Optionally includes a GitHub issue to refer
    to.

commit 48a58f0c2f723c7af630954410f60705b81a95ed
Author: Brandon W Maister <bwm@materialize.io>
Date:   Thu May 21 10:56:43 2020 -0400

    dashboard: Add new source scheduled count panel (#3108)

commit 4890d96906acd9e3cf7a027da77ef83b15a51dc6
Author: Natacha Crooks <nacrooks@gmail.com>
Date:   Wed May 20 15:35:34 2020 -0400

    Adds a per-source max_ts_batch option with a default of 0 (no max batch size). The global option no longer has any effect

commit 7a03b200244d71cdec453fb763c1b34187b1f191
Merge: b5ac7d09c bb23b79f0
Author: Nikhil Benesch <nikhil.benesch@gmail.com>
Date:   Thu May 21 00:12:08 2020 -0400

    Merge pull request #3106 from quodlibetor/prometheus-meta
    
    Add a meta-prometheus dashboard panel, delete some problematic metrics

commit bb23b79f0c982ca1ee5ea82e6fcbc8d327eca244
Author: Brandon W Maister <bwm@materialize.io>
Date:   Wed May 20 23:25:13 2020 -0400

    Remove the scheduling_elapsed and scheduling_histogram metrics
    
    They are easily capable of generating literally hundreds of thousands of timeseries,
    blocking everything for 10s to thousands of milliseconds.
    
    This leaves the dashboard panels present, mostly because of the time of day, but also
    because hopefully we can find a way to trun this back on at least in some limited
    capacity.

commit b0be6863de642a6fc7f059cf9eeea14f156078a1
Author: Brandon W Maister <bwm@materialize.io>
Date:   Wed May 20 23:18:28 2020 -0400

    dashboard: Track how long it takes us to perform prometheus-related tasks
    
    This introduces a new dashboard (at /d/materialize-meta) that makes it easier to track
    how prometheus is doing, and how long it's taking.

commit 987f989d2a5f5015ac519f1fa8f67c7bb6f30dad
Author: Brandon W Maister <bwm@materialize.io>
Date:   Wed May 20 22:40:40 2020 -0400

    dashboard: Share the red "what time is it" line between all panels
    
    The tooltip is very expensive and annoying to have turned on, but the crosshair is nice.

commit 1b2f5212848e5b8f8fa9d4827e2c0263aea8de27
Author: Brandon W Maister <bwm@materialize.io>
Date:   Wed May 20 22:40:16 2020 -0400

    Add the number of timely workers to the grafana dashboard

commit b5ac7d09cb081aa97a67e4d88d84332de4e6f9dc
Author: Jessica Laughlin <JLDLaughlin@users.noreply.github.com>
Date:   Wed May 20 19:19:59 2020 -0400

    Implement temporary views (#3082)
    
    Support creating temporary views for individual sessions/connections.
    Known limitation: only supports temporary views, not temporary
    materialized views.

commit ac8614f97be75143404745c97ad2920683d0c7fc
Merge: cadfc53b8 b82f20618
Author: Nikhil Benesch <nikhil.benesch@gmail.com>
Date:   Wed May 20 18:43:01 2020 -0400

    Merge pull request #3102 from benesch/prometheus-alloc
    
    dataflow: reduce prometheus-related allocations in Kafka source

commit cadfc53b87a7e91a5496ae48b27b0e99f24656d1
Merge: 2141a9b20 6fe3bba20
Author: Natacha Crooks <nacrooks@gmail.com>
Date:   Wed May 20 18:09:11 2020 -0400

    Merge pull request #3101 from nacrooks/veckafka
    
    Optimising data structure in timestamping logic

commit b82f20618db159622188d7e71dc2c96d14b6f1f5
Author: Nikhil Benesch <nikhil.benesch@gmail.com>
Date:   Wed May 20 18:03:30 2020 -0400

    dataflow: reduce prometheus-related allocations in Kafka source
    
    Calling with_label_values is relatively expensive, as it involves
    allocating to convert a partition ID to a string. Hoist all the calls to
    with_label_values into source/partition creation time to avoid the calls
    in the hot loop.

commit 6fe3bba20235a8607b7e9aa36bf9431e2de4be2f
Author: Natacha Crooks <nacrooks@gmail.com>
Date:   Wed May 20 16:23:28 2020 -0400

    Moving Vec structure to VecDeque to avoid unnecessary copy in
    entry.remove(0)

commit 2141a9b20949e69f3bbaf98858ed617a035c52ae
Merge: 18123cb78 cedf625aa
Author: Nikhil Benesch <nikhil.benesch@gmail.com>
Date:   Wed May 20 14:40:52 2020 -0400

    Merge pull request #3095 from benesch/ts-no-subscribe
    
    coord: don't subscribe the timestamper to rt topics

commit 90e9f80a43a09beb80bcd4489c4a0288e8b88b13
Author: Frank McSherry <fmcsherry@me.com>
Date:   Wed May 20 14:25:41 2020 -0400

    explain CDC requirements

commit 18123cb78fc9f8aa6763dca1662343685b73fb05
Merge: 523c89bfb 33f2a831d
Author: Brandon W Maister <bwm@materialize.io>
Date:   Wed May 20 13:05:27 2020 -0400

    Merge pull request #3094 from quodlibetor/dashboard-scheduling-panels
    
    dashboard: Adde new panels for several new metrics

commit cedf625aaaa67caf2b42fe46c566f63829436873
Author: Nikhil Benesch <nikhil.benesch@gmail.com>
Date:   Wed May 20 12:48:58 2020 -0400

    coord: don't subscribe the timestamper to rt topics
    
    The real time Kafka timestamper never polls the consumer, so all
    creating a consumer group and subscription serves to do is to ensure
    that we see timeouts every time we hit the max.poll.interval.ms
    interval.

commit 523c89bfb0dd8389f0822b11b494d720a2db0b30
Merge: 1b5e259c0 958ccd6f6
Author: Justin Jaffray <justin.jaffray@gmail.com>
Date:   Wed May 20 12:40:04 2020 -0400

    Merge pull request #3093 from justinj/fix-any
    
    Fix ANY/ALL regression

commit 33f2a831df2d71bcc64a2b076f9009be49ec2cae
Author: Brandon W Maister <bwm@materialize.io>
Date:   Wed May 20 12:05:49 2020 -0400

    dashboard: Adde new panels for several new metrics

commit 5eff6927f632ed2d577c1af06f25236d376a8c7c
Author: Brandon W Maister <bwm@materialize.io>
Date:   Wed May 20 12:04:34 2020 -0400

    dashboard: Make the Dockerfile build more robust
    
    This adds one extra layer, but it makes it faster to iterate on configuration files and
    makes it impossible to mess up the chmod properties.

commit 1b5e259c040caf923c1d61cdff0343fbb9fe2ebb
Merge: 118a5d1b9 742ebf8e5
Author: Justin Jaffray <justin.jaffray@gmail.com>
Date:   Wed May 20 11:56:44 2020 -0400

    Merge pull request #3087 from justinj/assoc
    
    Some precedence refactoring+fixes

commit 958ccd6f677fa5a5aeff55ace90457b41ce4564a
Author: Justin Jaffray <justin.jaffray@gmail.com>
Date:   Wed May 20 11:50:40 2020 -0400

    Fix ANY/ALL regression
    
    This commit fixes a bug introduced by #3045 in the presence of NULLs: if
    there is a NULL present in an ANY that would otherwise be false, the
    result is NULL, and likewise with ALL and true.
    
    Since we want to retain the planning benefits, we do a sort of hacky fix
    where we require the right column to not be nullable to make use of the
    EXISTS transformation.

commit 742ebf8e5b07d8d7b2f357cbff880f47cf1a2fa1
Author: Justin Jaffray <justin.jaffray@gmail.com>
Date:   Tue May 19 19:24:49 2020 -0400

    Fix some precedence stuff
    
    I'm working my way through enabling more logic tests and found some
    precedence bugs.
    
    Previously there were some precedence discrepancies with Postgres (there
    still might be some lurking, it's nontrivial to extract the exact
    precedences from the Postgres source afaict), for instance
    ```
    a->b = c->d
    ```
    parsed as
    ```
    a->(b = c)->d
    ```
    
    Also add some basic precedence tests.

commit 1ba695adf1d969b456cf74fc14feeafb0f71e00b
Author: Justin Jaffray <justin.jaffray@gmail.com>
Date:   Tue May 19 17:35:11 2020 -0400

    Use enum rather than u8s for precedence
    
    To my knowledge this commit does not change any behaviour.

commit 118a5d1b992a7579bb4b170097ac09678bdc535d
Merge: 56745a336 c0c34d196
Author: Brandon W Maister <bwm@materialize.io>
Date:   Wed May 20 10:04:10 2020 -0400

    Merge pull request #3092 from quodlibetor/fix-improve-scheduling-metrics
    
    Improve scheduling metrics

commit c0c34d19689672cf350defdec0451f455d3bc7c5
Author: Brandon W Maister <bwm@materialize.io>
Date:   Wed May 20 09:36:38 2020 -0400

    Add scheduling histogram as a prometheus metric

commit 24f38ceac4493f07da43d3406d94cd861c613fc0
Author: Brandon W Maister <bwm@materialize.io>
Date:   Wed May 20 09:32:23 2020 -0400

    metrics: Fix scheduling_elapsed_ns, the value is a gauge, not a counter
    
    Every time it comes in we get the current total, not the increase.

commit 56745a33647468a4e78f4cdf3a07d5a16fbca062
Merge: 43d4ddae8 4023f7d6c
Author: Nikhil Benesch <nikhil.benesch@gmail.com>
Date:   Wed May 20 00:25:23 2020 -0400

    Merge pull request #3075 from benesch/diagram-gen
    
    doc/user: use newly open-sourced diagram generator

commit 43d4ddae8a701b2eb198b83c232f2f02113cf1fa
Merge: 168782e16 a2b32765c
Author: Brandon W Maister <bwm@materialize.io>
Date:   Tue May 19 23:42:22 2020 -0400

    Merge pull request #3090 from quodlibetor/grafana-materialized-datasource
    
    dashboard: Add materialized as a data source, and a dashboard showing it off

commit a2b32765c85911952fe9e9eafe505daa2e0c021e
Author: Brandon W Maister <bwm@materialize.io>
Date:   Tue May 19 23:27:53 2020 -0400

    dashboard: only show the top k metrics from a few noisy panels
    
    The goal being to reduce noisinees, this also eliminates the fill from one chart because
    it completely drowned out the lines.

commit fdd21a1576696bf698562bf7d52266f164bb683d
Author: Brandon W Maister <bwm@materialize.io>
Date:   Tue May 19 23:26:11 2020 -0400

    dashboard: Add descriptions and improve panel names
    
    The descriptions have the goal of making it clear to non-experts in Materialize how each
    panel should be interpreted.
    
    I had a bit of a hard time with "Capability Closing Rate" in particular, which I shifted
    the y axis semantics a bit to I think make it more accurate.

commit 3858c55c87d605fa0a27c8a0e62fc9e43ecc9112
Author: Brandon W Maister <bwm@materialize.io>
Date:   Tue May 19 23:23:59 2020 -0400

    dashboard: Sort more hover tooltips, make labels a bit more clear
    
    Unsorted is very hard to parse. Sort: 1 means increasing (so the lowest values will be
    easiest to see) and Sort: 2 means decreasing (highest values will be easiest to see)

commit 71a6a9a5a3d69c3127c20ffc41925ccfa110dd3e
Author: Brandon W Maister <bwm@materialize.io>
Date:   Tue May 19 23:21:17 2020 -0400

    dashboard: add new grafana 7 config parameters
    
    These are some I think mosly ignorable schema changes in the dashboard.

commit 5becad79a5e94430fefcd779aeecb896be340e19
Author: Brandon W Maister <bwm@materialize.io>
Date:   Tue May 19 21:39:51 2020 -0400

    dashboard: Add materialized as a data source, and a dashboard showing it off
    
    This is a live view of the diagnostic queries from #3086 , and demonstrates using
    materialized inside grafana.
    
    All the panels can be exported to CSV from the "inspect" tab.

commit e573e208886c260b58c3256ac778980dc65fad72
Author: Brandon W Maister <bwm@materialize.io>
Date:   Tue May 19 21:28:59 2020 -0400

    dashboard: Upgrade grafana to 7.0

commit 168782e16eeb056f5f9b5ffca9d6fc62abf6b7ef
Merge: 8bac895d9 409126e87
Author: Ruchir Khaitan <ruchir0001@gmail.com>
Date:   Tue May 19 20:42:39 2020 -0400

    Merge pull request #3088 from ruchirK/rk-new-metrics-kafka
    
    dataflow: add new metrics for kafka source scheduled / metadata refresh

commit 8bac895d9e98d546616505eace11785910616041
Merge: f4c21ee84 8b8051691
Author: Arjun Narayan <arjunravinarayan@gmail.com>
Date:   Tue May 19 20:14:50 2020 -0400

    Merge pull request #3076 from rjnn/readme
    
    update feature support in readme

commit 409126e87fdcb1321205356a5448dcc4785f4cc8
Author: Ruchir Khaitan <ruchir0001@gmail.com>
Date:   Tue May 19 20:01:40 2020 -0400

    dataflow: add new metrics for kafka source scheduled / metadata refresh

commit f4c21ee84d702168369d0eec517e22569db16df9
Author: Ruchir Khaitan <ruchir0001@gmail.com>
Date:   Tue May 19 19:21:28 2020 -0400

    dataflow: add new metric for messages ingested per kafka source (#3085)

commit f2f1befd6a5a4543ba803b628b9eda366f0d83e7
Merge: 40a72f02e effd769e5
Author: Natacha Crooks <nacrooks@gmail.com>
Date:   Tue May 19 18:50:06 2020 -0400

    Merge pull request #3046 from nacrooks/kafkarefactor2
    
    Kafka Source refactor

commit cf3a62e37c6549a45efefed85e60907f1805f9d2
Author: Frank McSherry <fmcsherry@me.com>
Date:   Tue May 19 18:16:18 2020 -0400

    preliminary diagostic queries

commit effd769e50d29e24fedd5a7612683ad71e747e52
Author: Natacha Crooks <nacrooks@gmail.com>
Date:   Tue May 19 18:13:47 2020 -0400

    Fixing comments and rename for clarity

commit 40a72f02e4bec272819d437589423c5febefc02c
Author: Brandon W Maister <bwm@materialize.io>
Date:   Tue May 19 18:13:30 2020 -0400

    Add mz_scheduling_elapsed log to prometheus metrics (#3084)

commit fa5ce5d1c2bac10f582c1f0eba2b4b200fd732e4
Author: Brennan Vincent <brennan@materialize.io>
Date:   Tue May 19 15:35:13 2020 -0400

    Accept string value for "snapshot" (#3083)

commit 196fa81023ba4e1a4c48d81ef9323b0908e5914b
Merge: 662a8e85b 8c1eed9da
Author: Justin Jaffray <justin.jaffray@gmail.com>
Date:   Tue May 19 12:53:29 2020 -0400

    Merge pull request #3081 from justinj/generalize-exists
    
    Always plan ANY/ALL with EXISTS

commit 8c1eed9da78ec8b29154d5b146332fc86a2aab72
Author: Justin Jaffray <justin.jaffray@gmail.com>
Date:   Tue May 19 12:04:26 2020 -0400

    Always plan ANY/ALL with EXISTS
    
    Suggested in #3045. Sometimes results in a bad outcome still, but I
    think never worse than before, and I think it's actually a good bit
    cleaner now.

commit 662a8e85bf27da77f65e0740e90336b181019584
Merge: 04f071709 dde61297c
Author: Frank McSherry <fmcsherry@me.com>
Date:   Tue May 19 11:57:47 2020 -0400

    Rework some details (#3073)
    
    Reworks some details in the CREATE INDEX docs. This stops short of explaining how compaction works (the original goal) but is able to be more specific about the memory implications of creating indexes. Other minor changes that may or may not be contentious.

commit 04f07170910d045a0830e6654ce8ac15520d3f55
Author: Brandon W Maister <bwm@materialize.io>
Date:   Tue May 19 11:55:31 2020 -0400

    python: stub make materialize installable in a standard way (#3077)
    
    This makes the materialize project a bit more like a standard Python project, in the
    interest of making it play nicer with virtualenv-management tools.
    
    It is possible to now install most of python/materialize (not the scripts) using:
    
        pip install misc/python
    
    or:
    
        pip install "misc/python[dev,ci]"
    
    This also adds the `py.typed` file, which makes mypy happy if you don't run it with the
    exact runtime configuration of `bin/pycheck`.
    
    I care about being able to use the virtualenvwrapper and tox family of projects,
    partially because all my tooling is built around them, but also because they make
    tearing down/bringing up virtualenvs easy and this brings us a bit closer to being able
    to test that more casually.

commit dde61297c9ab24b1bcbb10ed8443beaf4251aea9
Author: Frank McSherry <fmcsherry@me.com>
Date:   Tue May 19 10:59:31 2020 -0400

    improve text

commit 37626deb8cf18bf27510a59c1474adfec67df3e1
Merge: 54fd0539d b176938fa
Author: Justin Jaffray <justin.jaffray@gmail.com>
Date:   Tue May 19 10:38:09 2020 -0400

    Merge pull request #3045 from justinj/exists
    
    Remap != ALL to NOT EXISTS

commit 54fd0539d5c00daf4ec64d1b3fd0bfdb9cc13cf5
Merge: ea54af4ed c3152e5df
Author: Brandon W Maister <bwm@materialize.io>
Date:   Tue May 19 10:28:03 2020 -0400

    Merge pull request #3072 from quodlibetor/mzconduct-support-per-workflow-file-injection
    
    mzconduct: Support specifying compose files per workflow
    mzcompose: Support multile -f/--file flags.

commit c3152e5df00d3affb693aac311833d2cbbccee6d
Author: Brandon W Maister <bwm@materialize.io>
Date:   Mon May 18 17:19:01 2020 -0400

    mzconduct: Support specifying compose files per workflow
    
    For example it becomes possible with this to do:
    
        mzconduct:
          workflows:
            ci-pg:
              include_compose:
              - pg.yml
              steps:
              - step: start-services
                services: postgres
    
    Allowing us to share all or almost all of the configuration, while:
    
    * Having mutually conflicting services
    * Not breaking the expectation that `mzcompose up` by itself works
    * Making it easy to use the same configuration pattern between all our demos

commit 2a83c944d5e20dc1bed28e056c541a993f63b20e
Author: Brandon W Maister <bwm@materialize.io>
Date:   Mon May 18 16:50:49 2020 -0400

    mzcompose: Support multiple `-f/--file` options

commit b176938fa62900407e359b4c63e42f6a5bf2ab34
Author: Justin Jaffray <justin.jaffray@gmail.com>
Date:   Fri May 15 13:05:33 2020 -0400

    Remap != ALL to NOT EXISTS
    
    After discussion with Frank we landed on this as being a good first step
    as far as improving ALL planning. I looked at the changes to the plans
    and they look sensible to me, and seem to eliminate some cross joins!

commit 8b805169174eb47faab29df0e5b766754c36333d
Author: Arjun Narayan <arjun@materialize.io>
Date:   Tue May 19 09:05:10 2020 -0400

    update feature support in readme

commit 4023f7d6ce771c8961fdc8b976c47436d98cbcaf
Author: Nikhil Benesch <nikhil.benesch@gmail.com>
Date:   Mon May 11 01:34:33 2020 -0400

    doc/user: use newly open-sourced diagram generator
    
    The railroad diagram generator we use has been newly open-sourced,
    which means we can now customize it to our liking without needing to
    post-process the generated SVGs.

commit ea54af4ed006edaeaaacb3849627151cb8cd3a1c
Merge: 46f623557 6eef524cc
Author: Nikhil Benesch <nikhil.benesch@gmail.com>
Date:   Mon May 18 23:31:19 2020 -0400

    Merge pull request #3074 from benesch/www-rebuild
    
    ci/www: rework www build process

commit 6eef524cc01852ea1fa3bbe8e0ae130df3ae37d5
Author: Nikhil Benesch <nikhil.benesch@gmail.com>
Date:   Mon May 18 23:18:39 2020 -0400

    ci/www: rework www build process
    
    The old build process did not appear to be copying robots.txt into the
    right place (see #2044 for context). Rework things so there is a more
    obvious place to store files that should overlay the blog site (i.e.,
    files not in the docs/ subdirectory).

commit 46f623557b0a7427115d4af62ea77c0b08cfda18
Merge: 6fee09ae5 fe8b209bb
Author: Nikhil Benesch <nikhil.benesch@gmail.com>
Date:   Mon May 18 23:05:00 2020 -0400

    Merge pull request #3023 from benesch/require-w1
    
    materialized: fix handling of missing `-w` parameter

commit 6fee09ae5ccdfc9d9de8a187b5d3feaeefcbf75a
Merge: d48ef86a0 64a2ae646
Author: Jessica Laughlin <JLDLaughlin@users.noreply.github.com>
Date:   Mon May 18 21:48:15 2020 -0400

    Allocate temporary names (#3063)
    
    New function to allocate FullNames in the temporary mz_temp schema

commit fe8b209bbac78aa0b62d13e9f7106097f417f4b1
Author: Nikhil Benesch <nikhil.benesch@gmail.com>
Date:   Wed May 13 13:22:14 2020 -0400

    materialized: fix handling of missing `-w` parameter
    
    The correct logic for this got refactored away. Forgetting to specify
    `-w` could result in starting materialized with zero worker threads,
    which is definitely not correct. Add a test, so it doesn't happen again.

commit 3f9a36e5a6bdd1e48021491523a882524d98d093
Author: Frank McSherry <fmcsherry@me.com>
Date:   Mon May 18 20:43:15 2020 -0400

    rework some details

commit d48ef86a0faa711ae6c7aef25476c6cc939e267f
Merge: e8b3c04d3 212728b74
Author: Nikhil Benesch <nikhil.benesch@gmail.com>
Date:   Mon May 18 17:26:58 2020 -0400

    Merge pull request #3070 from benesch/librdkafka-logs
    
    coord,dataflow: allow control of librdkafka debug logs with MZ_LOG

commit 64a2ae64600cfe27a8afc4a19a463e9da9c4d33c
Author: JLDLaughlin <jessica@materialize.io>
Date:   Mon May 18 17:02:03 2020 -0400

    Remove DatabaseSpecifier::Temporary

commit 212728b74c1650beded460e26c162fc5c998db30
Author: Nikhil Benesch <nikhil.benesch@gmail.com>
Date:   Mon May 18 16:39:38 2020 -0400

    coord,dataflow: allow control of librdkafka debug logs with MZ_LOG
    
    When MZ_LOG=librdkafka=debug, we enable the `debug` option for
    librdkafka, so that we can get greater insight into what librdkafka is
    doing.

commit e8b3c04d3da30571a1f094147941de821abedbbf
Author: Brennan Vincent <brennan@materialize.io>
Date:   Mon May 18 16:36:00 2020 -0400

    Track mysql binlog position, in order to avoid duplicate Debezium rows (#3061)

commit 7b09c8cea362ca4ee843fee235195ed1b0abe9cb
Author: JLDLaughlin <jessica@materialize.io>
Date:   Mon May 18 15:59:33 2020 -0400

    Separate allocate_temporary_name

commit daa00d967f54ca8294125f382de570618d943a51
Merge: 71de93cf6 5fbc0f10f
Author: Sean Loiselle <sean@materialize.io>
Date:   Mon May 18 15:54:39 2020 -0400

    Merge pull request #3067 from MaterializeInc/awang/kinesis_beta
    
    clarify Beta status

commit 5fbc0f10fdfaee8456b4c4de9909f99e55226dbf
Author: Albert Wang <albert@materialize.io>
Date:   Mon May 18 15:47:27 2020 -0400

    clarify Beta status

commit 71de93cf68c682806651a77f32c334360b7b85a5
Merge: 68999f419 0086e0704
Author: Brandon W Maister <bwm@materialize.io>
Date:   Mon May 18 15:13:42 2020 -0400

    Merge pull request #3039 from quodlibetor/mzconduct-ux
    
    mzconduct: add `web` functionality that tries to launch a web browser

commit 68999f419c8a0c24bf6e096a7c493631ef6b3ed4
Author: Brandon W Maister <bwm@materialize.io>
Date:   Mon May 18 15:12:58 2020 -0400

    pycheck: always run from the root of the repo (#3041)
    
    My experience is that it only works if run from the root, so we should make that the
    default.

commit 0065408dedebf9f5a26ec005592674d30dd786b6
Author: Natacha Crooks <nacrooks@gmail.com>
Date:   Mon May 18 14:46:11 2020 -0400

    Ensure that Kafka metadata is up-to-date before assigning consumer to partition. This commit adds the option for create_consumer to fail if the underlying metadata does not yet know of the partition to which this consumer should be assigned

commit 4e9966bfb9cea44e00b2eae8c6804d95092afb64
Author: JLDLaughlin <jessica@materialize.io>
Date:   Mon May 18 14:42:55 2020 -0400

    lint

commit 222761786c6615b2eda09e6203b5cb0501fe9b31
Merge: f51fcc85d 60e14238f
Author: Albert Wang <albert@materialize.io>
Date:   Mon May 18 14:41:40 2020 -0400

    Merge pull request #3066 from MaterializeInc/awang/kinesis_beta
    
    Add Beta status to Kinesis docs

commit 5965166fd9f96694439a39c7b7154b760832267a
Author: JLDLaughlin <jessica@materialize.io>
Date:   Mon May 18 14:40:23 2020 -0400

    fix comment

commit 60e14238f9973376e23fcd050cfa857c8416b91b
Author: Albert Wang <albert@materialize.io>
Date:   Mon May 18 14:39:12 2020 -0400

    move beta to the end of title

commit 76de416a0f4905cd4752344a2ca9d1ab9be79243
Author: Albert Wang <albert@materialize.io>
Date:   Mon May 18 14:09:30 2020 -0400

    Add Beta status to Kinesis

commit f51fcc85dceb0f06796ca1cc820c6cca6e6516bd
Merge: 533cbd01e dca7b0e1e
Author: Jessica Laughlin <JLDLaughlin@users.noreply.github.com>
Date:   Mon May 18 13:27:25 2020 -0400

    Merge pull request #3064 from JLDLaughlin/sqlparser-test
    
    Use one_statement_parses_to

commit dca7b0e1e1840f49655f173a070ca9354389c198
Author: JLDLaughlin <jessica@materialize.io>
Date:   Mon May 18 13:10:39 2020 -0400

    Use one_statement_parses_to

commit fb2f9947ea689986301068e981e24d8474cdf610
Author: JLDLaughlin <jessica@materialize.io>
Date:   Mon May 18 12:11:14 2020 -0400

    Fix Temporary mappings

commit 4b4d7dcd8b97f21c4966eff0de74947f7d57e662
Author: JLDLaughlin <jessica@materialize.io>
Date:   Mon May 18 12:01:38 2020 -0400

    Allocate temporary FullNames, introduce DatabaseSpecifier::Tempory

commit 533cbd01eb2e5857a237a0afde910378d5bd1b7c
Merge: c05b42f70 2ad3e8334
Author: Jessica Laughlin <JLDLaughlin@users.noreply.github.com>
Date:   Mon May 18 11:26:55 2020 -0400

    Parse CREATE TEMP/TEMPORARY VIEW (#3038)
    
    Parses CREATE TEMPORARY VIEW and CREATE TEMP VIEW,
    leaves both unimplemented.

commit 067b560bdb2c6dd11c229017c4fd5b7510ad861d
Author: Natacha Crooks <nacrooks@gmail.com>
Date:   Mon May 18 10:44:42 2020 -0400

    Creating a buffer per partition - This commit refactors consumers into wrappers of (pid, consumer, buffer) and creates a buffer per partition. The code will iterate over consumers until it finds a consumer with 1) a full buffer 2) a message when polled. If the message cannot be timestamped, it is returned to the consumer

commit 2ad3e8334be451c71e44fa572015c6988b44a5de
Author: JLDLaughlin <jessica@materialize.io>
Date:   Mon May 18 10:43:44 2020 -0400

    Use unverified_stmt

commit 9e606f5f5c9dcddcbd6144e406af28deeed7f6c3
Author: JLDLaughlin <jessica@materialize.io>
Date:   Mon May 18 10:41:26 2020 -0400

    Test CREATE TEMP

commit c05b42f7012df57ec7325b5f4b2e3230a9076cd6
Merge: 3f558fef1 ce0266eb3
Author: Nikhil Benesch <nikhil.benesch@gmail.com>
Date:   Mon May 18 10:32:32 2020 -0400

    Merge pull request #3051 from MaterializeInc/dependabot/cargo/timely-b42542e
    
    build(deps): bump timely from `516e1d1` to `b42542e`

commit 3f558fef1abf093949fc6e725416b060dd2b4858
Merge: f6362d326 89929919c
Author: Nikhil Benesch <nikhil.benesch@gmail.com>
Date:   Mon May 18 10:32:12 2020 -0400

    Merge pull request #3052 from MaterializeInc/dependabot/cargo/libc-0.2.70
    
    build(deps): bump libc from 0.2.69 to 0.2.70

commit f6362d326b7bd703bb42d77b9738f374507fa9a1
Merge: 9bffa69c6 952ffe611
Author: Nikhil Benesch <nikhil.benesch@gmail.com>
Date:   Mon May 18 10:31:44 2020 -0400

    Merge pull request #3054 from MaterializeInc/dependabot/cargo/tokio-0.2.21
    
    build(deps): bump tokio from 0.2.20 to 0.2.21

commit 9bffa69c69fa9dbf95b132022002fed4c2ce4743
Merge: aceea8e2c 1d73d77fa
Author: Nikhil Benesch <nikhil.benesch@gmail.com>
Date:   Mon May 18 10:31:33 2020 -0400

    Merge pull request #3057 from MaterializeInc/dependabot/cargo/backtrace-0.3.48
    
    build(deps): bump backtrace from 0.3.46 to 0.3.48

commit aceea8e2c4d62efec564daceb7444a275f6e7177
Merge: f59dac4d8 610f992db
Author: Nikhil Benesch <nikhil.benesch@gmail.com>
Date:   Mon May 18 10:31:17 2020 -0400

    Merge pull request #3058 from MaterializeInc/dependabot/cargo/anyhow-1.0.31
    
    build(deps): bump anyhow from 1.0.28 to 1.0.31

commit 952ffe61184714baf0264a425274ec96828d0798
Author: dependabot-preview[bot] <27856297+dependabot-preview[bot]@users.noreply.github.com>
Date:   Mon May 18 13:34:34 2020 +0000

    build(deps): bump tokio from 0.2.20 to 0.2.21
    
    Bumps [tokio](https://github.com/tokio-rs/tokio) from 0.2.20 to 0.2.21.
    - [Release notes](https://github.com/tokio-rs/tokio/releases)
    - [Commits](https://github.com/tokio-rs/tokio/compare/tokio-0.2.20...tokio-0.2.21)
    
    Signed-off-by: dependabot-preview[bot] <support@dependabot.com>

commit 1d73d77fa11d5e97d216d797a7e29426e6d309f3
Author: dependabot-preview[bot] <27856297+dependabot-preview[bot]@users.noreply.github.com>
Date:   Mon May 18 13:34:03 2020 +0000

    build(deps): bump backtrace from 0.3.46 to 0.3.48
    
    Bumps [backtrace](https://github.com/rust-lang/backtrace-rs) from 0.3.46 to 0.3.48.
    - [Release notes](https://github.com/rust-lang/backtrace-rs/releases)
    - [Commits](https://github.com/rust-lang/backtrace-rs/compare/0.3.46...0.3.48)
    
    Signed-off-by: dependabot-preview[bot] <support@dependabot.com>

commit 610f992db8ec4eb05536505f0ad560ee75834490
Author: dependabot-preview[bot] <27856297+dependabot-preview[bot]@users.noreply.github.com>
Date:   Mon May 18 13:33:51 2020 +0000

    build(deps): bump anyhow from 1.0.28 to 1.0.31
    
    Bumps [anyhow](https://github.com/dtolnay/anyhow) from 1.0.28 to 1.0.31.
    - [Release notes](https://github.com/dtolnay/anyhow/releases)
    - [Commits](https://github.com/dtolnay/anyhow/compare/1.0.28...1.0.31)
    
    Signed-off-by: dependabot-preview[bot] <support@dependabot.com>

commit f59dac4d8d1deeafb09df67b87c7ecadb0d10446
Merge: 942df773d 5275fcf9c
Author: Nikhil Benesch <nikhil.benesch@gmail.com>
Date:   Mon May 18 09:32:33 2020 -0400

    Merge pull request #3055 from MaterializeInc/dependabot/cargo/tracing-0.1.14
    
    build(deps): bump tracing from 0.1.13 to 0.1.14

commit 942df773d0ea79303a01afaedf9c129bc85e104f
Merge: 1c7366c77 fd27f51ea
Author: Nikhil Benesch <nikhil.benesch@gmail.com>
Date:   Mon May 18 09:32:23 2020 -0400

    Merge pull request #3056 from MaterializeInc/dependabot/cargo/thiserror-1.0.18
    
    build(deps): bump thiserror from 1.0.16 to 1.0.18

commit 1c7366c77bf9a0b7d678326ffe94773cc01df8c7
Merge: 93ee088b6 b1b6e8dab
Author: Nikhil Benesch <nikhil.benesch@gmail.com>
Date:   Mon May 18 09:31:56 2020 -0400

    Merge pull request #3059 from MaterializeInc/dependabot/cargo/async-trait-0.1.31
    
    build(deps): bump async-trait from 0.1.30 to 0.1.31

commit 89929919ca433248a1b5f1e4ee86913b090da203
Author: dependabot-preview[bot] <27856297+dependabot-preview[bot]@users.noreply.github.com>
Date:   Mon May 18 13:31:50 2020 +0000

    build(deps): bump libc from 0.2.69 to 0.2.70
    
    Bumps [libc](https://github.com/rust-lang/libc) from 0.2.69 to 0.2.70.
    - [Release notes](https://github.com/rust-lang/libc/releases)
    - [Commits](https://github.com/rust-lang/libc/compare/0.2.69...0.2.70)
    
    Signed-off-by: dependabot-preview[bot] <support@dependabot.com>

commit 93ee088b6576ffc8f6e5a0545d6a47b0e40ecde9
Merge: 1e77307e0 e1b692e85
Author: Nikhil Benesch <nikhil.benesch@gmail.com>
Date:   Mon May 18 09:29:37 2020 -0400

    Merge pull request #3049 from benesch/rdkafka-bump
    
    deps: upgrade to latest rdkafka

commit b1b6e8dab2e9c7865b27ac0cc9332e1857683530
Author: dependabot-preview[bot] <27856297+dependabot-preview[bot]@users.noreply.github.com>
Date:   Mon May 18 11:04:19 2020 +0000

    build(deps): bump async-trait from 0.1.30 to 0.1.31
    
    Bumps [async-trait](https://github.com/dtolnay/async-trait) from 0.1.30 to 0.1.31.
    - [Release notes](https://github.com/dtolnay/async-trait/releases)
    - [Commits](https://github.com/dtolnay/async-trait/compare/0.1.30...0.1.31)
    
    Signed-off-by: dependabot-preview[bot] <support@dependabot.com>

commit fd27f51ea07c1ea8975ff787e70d2cddf16aba9a
Author: dependabot-preview[bot] <27856297+dependabot-preview[bot]@users.noreply.github.com>
Date:   Mon May 18 11:02:49 2020 +0000

    build(deps): bump thiserror from 1.0.16 to 1.0.18
    
    Bumps [thiserror](https://github.com/dtolnay/thiserror) from 1.0.16 to 1.0.18.
    - [Release notes](https://github.com/dtolnay/thiserror/releases)
    - [Commits](https://github.com/dtolnay/thiserror/compare/1.0.16...1.0.18)
    
    Signed-off-by: dependabot-preview[bot] <support@dependabot.com>

commit 5275fcf9c4f734722ac8503f193e5fda4d493833
Author: dependabot-preview[bot] <27856297+dependabot-preview[bot]@users.noreply.github.com>
Date:   Mon May 18 11:02:21 2020 +0000

    build(deps): bump tracing from 0.1.13 to 0.1.14
    
    Bumps [tracing](https://github.com/tokio-rs/tracing) from 0.1.13 to 0.1.14.
    - [Release notes](https://github.com/tokio-rs/tracing/releases)
    - [Commits](https://github.com/tokio-rs/tracing/compare/tracing-0.1.13...tracing-0.1.14)
    
    Signed-off-by: dependabot-preview[bot] <support@dependabot.com>

commit ce0266eb3e574b6fc39c6578ec4480f8eff6f99c
Author: dependabot-preview[bot] <27856297+dependabot-preview[bot]@users.noreply.github.com>
Date:   Mon May 18 11:00:15 2020 +0000

    build(deps): bump timely from `516e1d1` to `b42542e`
    
    Bumps [timely](https://github.com/TimelyDataflow/timely-dataflow) from `516e1d1` to `b42542e`.
    - [Release notes](https://github.com/TimelyDataflow/timely-dataflow/releases)
    - [Commits](https://github.com/TimelyDataflow/timely-dataflow/compare/516e1d1999cfc2d411ddc61f57c0d3d7c17ca495...b42542e439327d2504dd2e4a05604a1753a5f191)
    
    Signed-off-by: dependabot-preview[bot] <support@dependabot.com>

commit e1b692e85ad251fd94438a628cce5f3bc46f2991
Author: Nikhil Benesch <nikhil.benesch@gmail.com>
Date:   Sun May 17 23:57:56 2020 -0400

    deps: upgrade to latest rdkafka
    
    There are several breaking changes in the latest version of
    rust-rdkafka. Upgrade early to shake out any problems.

commit 1e77307e01778dc188a36cf57b3dc0d9a51e7b76
Author: Frank McSherry <fmcsherry@me.com>
Date:   Fri May 15 22:47:41 2020 -0400

    Use correct padding values for outer joins (#3048)
    
    fixes #3047

commit 7a9abb967f632ddde96b500a72f87838e847ec91
Author: Natacha Crooks <nacrooks@gmail.com>
Date:   Fri May 15 19:47:02 2020 -0400

    Clippy warnings and removing comment

commit 32bce6ad958136538fe0311cc7deb861b9b01def
Author: Natacha Crooks <nacrooks@gmail.com>
Date:   Fri May 15 19:39:51 2020 -0400

    Move consumer seek into get_next_message. This commit moves the out-of-order seek logic inside of the get_next_message to avoid having to keep track of consumers in the buffer, and of a separate control flow

commit 848421fa7c1443bccb9bdb84a521e0030eb1cdbf
Author: Natacha Crooks <nacrooks@gmail.com>
Date:   Fri May 15 17:04:18 2020 -0400

    Clean seek behaviour when we receive stale messages 1) factor code into separate method for seek 2) clean up control flow when seeks happen

commit 7f1b697da188ce19cb51bff5ef0d75f35a64ca76
Author: Natacha Crooks <nacrooks@gmail.com>
Date:   Fri May 15 14:58:03 2020 -0400

    Make get_next_message a method of DataPlaneInfo. Simplifies handling of buffer in processing loop

commit f863559d005c3474cdfb7199139b4ff404127f25
Author: Natacha Crooks <nacrooks@gmail.com>
Date:   Fri May 15 14:39:24 2020 -0400

    Removes control flow interruption during downgrade_capability: this commit inlines metadata refresh inside downgrade capability, removing some of the complicated code path logic we previously had

commit 8d06f98460f449f818c3cb08bd061c4fec09b06f
Author: Brennan Vincent <brennan@materialize.io>
Date:   Fri May 15 14:06:51 2020 -0400

    Update to Rust 1.43.1 (#3042)

commit d2b2e00978cf7acffe8e506b08e3658141546de7
Author: Brennan Vincent <brennan@materialize.io>
Date:   Fri May 15 13:41:40 2020 -0400

    finally kill flush-tables (#3043)

commit 51ce8edf75950a8154f3a4c70b7f2cef2e7c7ba9
Author: Natacha Crooks <nacrooks@gmail.com>
Date:   Fri May 15 12:50:23 2020 -0400

    This commit refactors all of the update metadata into a set of methods on DataPlaneInfo/ControlPlaneInfo. It breaks out of downgrade_capability when a new partition is detected, and ensures that all metadata is up to date before downgrading any capabilities. It removes the unnecessary fetch_metadata information as we do explicit assignment of partitions to consumers

commit 6697fb9203f457329b086b1382c42717e0d69c98
Merge: 2ec1c3e93 53b02e3eb
Author: Brandon W Maister <bwm@materialize.io>
Date:   Fri May 15 12:04:47 2020 -0400

    Merge pull request #3025 from quodlibetor/chbench-demo-docs
    
    Fix public docs for chbench business intelligence demo

commit 2ec1c3e93a28a9336a5a35e3eeb3adc30639b662
Merge: a17c5b948 b219f1e81
Author: Brandon W Maister <bwm@materialize.io>
Date:   Fri May 15 12:03:06 2020 -0400

    Merge pull request #3031 from quodlibetor/mzconduct-pervasive-quiet
    
    mzimage: Don't announce build status if running under --mz-quiet

commit a17c5b948f3116e67b554759144fd6149942d62a
Merge: 68b208836 5cc55386c
Author: Natacha Crooks <nacrooks@gmail.com>
Date:   Fri May 15 11:51:32 2020 -0400

    Merge pull request #3035 from nacrooks/kafkarefactor
    
    Initial Kafka Source refactor preparation

commit 5cc55386cfb36bc83d8b65ae00c5112ceca48c07
Author: Natacha Crooks <nacrooks@gmail.com>
Date:   Fri May 15 11:23:19 2020 -0400

    Fixing potential issue inrefresh logic

commit b219f1e8167317fd812b6b09aa010ef8a5af1e6c
Author: Brandon W Maister <bwm@materialize.io>
Date:   Wed May 13 17:01:36 2020 -0400

    mzimage: Don't announce build status if running under --mz-quiet

commit 00245134b07ef79eb89dd1354c58a3d1cb3c4563
Author: Brandon W Maister <bwm@materialize.io>
Date:   Wed May 13 16:59:39 2020 -0400

    mzimage: Move arg parsing code into its own function
    
    This just makes main easier to read.

commit f0b9476b856f39f02175e6b723026d38be004d20
Author: Brandon W Maister <bwm@materialize.io>
Date:   Wed May 13 16:58:37 2020 -0400

    mzbuild: use ui.speaker and verbosity more regularly

commit 0086e0704a7480866dc744271b86b1fed2cf95a4
Author: Brandon W Maister <bwm@materialize.io>
Date:   Thu May 14 22:59:12 2020 -0400

    mzconduct: add `web` functionality that tries to launch a web browser
    
    This makes it more pleasant to just specify an internal port, and be guaranteed to get a
    unique ephemeral port on the host, but not have to do nearly as much copy/paste when
    interacting with services.
    
    Part of what's required for #3029

commit bc2e27fb65ab23b97cf49082018c0bdf5a6a7b3a
Author: Brandon W Maister <bwm@materialize.io>
Date:   Thu May 14 22:58:26 2020 -0400

    mzconduct: distinguish between run and up
    
    When running individual services it makes a difference, when running workflows it does
    not.
    
    This commit also gets rid of a couple flags that were unused
    
    * set the relevant `MZBUILD_*` environment variables for `--tag`
    * `--duration-seconds` was leftover from when this didn't have actions

commit 2946688484b85dc294f7e78911d038613a0c9817
Author: Brandon W Maister <bwm@materialize.io>
Date:   Thu May 14 22:54:37 2020 -0400

    mzconduct: Add a ps command proxy

commit d00409976c63b6a844d68c8a4284af32a91a842f
Author: Brandon W Maister <bwm@materialize.io>
Date:   Thu May 14 22:52:13 2020 -0400

    mzconduct: refactor error handling in Composition.find
    
    It was returning an Optional instead of throwing an exception, making all callers a lot
    more verbose for no benefit.

commit 10a9b2d15c016916fb9cab97d1e9284baa29ab16
Author: Frank McSherry <fmcsherry@me.com>
Date:   Fri May 15 10:00:49 2020 -0400

    clippy

commit 77418f4eec7ea439b53c267b98dba31ce6005b36
Author: Natacha Crooks <nacrooks@gmail.com>
Date:   Thu May 14 17:23:13 2020 -0400

    Comments and nits

commit 2c1e0cd03715d88014f31779b2500860c17c9ea7
Author: Frank McSherry <fmcsherry@me.com>
Date:   Fri May 15 09:53:29 2020 -0400

    add test for not(isnull)

commit 81f627d6713030e2adc64c11f069d1576764f686
Author: Frank McSherry <fmcsherry@me.com>
Date:   Fri May 15 09:47:38 2020 -0400

    improve reasoning about columns

commit 5476d8c6c170ae2860a8d21eb20afdb05edebac5
Author: JLDLaughlin <jessica@materialize.io>
Date:   Thu May 14 20:39:49 2020 -0400

    Fix sqlparser test

commit 2e2b11f4636c0e2738a581cdc0a18eaba9fb1fbd
Author: JLDLaughlin <jessica@materialize.io>
Date:   Thu May 14 20:10:13 2020 -0400

    sqlparser tests

commit b202392c9832ee7d2e9e06566c2be26eda133557
Author: JLDLaughlin <jessica@materialize.io>
Date:   Thu May 14 18:51:35 2020 -0400

    Parse CREATE TEMP/TEMPORARY VIEW

commit 88ed3df2b7240d67ec3bb589fcdc04e66100c814
Author: Natacha Crooks <nacrooks@gmail.com>
Date:   Thu May 14 15:55:15 2020 -0400

    Move MzOffset to dataflow-types and remove duplication of KafkaOffset

commit b32e30fbb3e5b4ea64bac9c09cfa485899cb9d76
Author: Natacha Crooks <nacrooks@gmail.com>
Date:   Thu May 14 15:27:03 2020 -0400

    Moving determine_next_timestamp to MzOffset

commit a9c64c7ec6613e20609e320140c01783a3fd5e98
Author: Natacha Crooks <nacrooks@gmail.com>
Date:   Thu May 14 14:55:49 2020 -0400

    Removing unnecessary imports and renaming of datastructure through typedef for clarity

commit 68b208836b7127ea0e529e114b8a596bf14ee398
Merge: f6c18be89 1f3831b9c
Author: Justin Jaffray <justin.jaffray@gmail.com>
Date:   Thu May 14 14:50:16 2020 -0400

    Merge pull request #3022 from justinj/absorb-map
    
    Push more filters down via inlining

commit f6c18be890552815163144796066dcba4bc8c25a
Author: Brennan Vincent <brennan@materialize.io>
Date:   Thu May 14 14:09:27 2020 -0400

    remove ancient doc that is no longer relevant (#3036)

commit 1f3831b9c87c63eda2217bb4f7fedfbe24589630
Author: Justin Jaffray <justin.jaffray@gmail.com>
Date:   Wed May 13 11:11:10 2020 -0400

    Push more filters down via inlining
    
    This commit "absorbs" sufficiently simple Map expressions referenced in
    Filters in order to push them down. In order to avoid exponential
    blowup, this is only done in limited cases: only unary functions and
    binary functions with a leaf input, and the expressions must only
    reference input columns.
    
    I think the last restriction could be lifted, but the appropriate way to
    do so would probably be to inline those expressions in the Map itself
    and subsequently let this transform trigger.
    
    I also added a directory in the slt directory specifically for testing
    transforms like this.

commit cfdf1890bb02986985f135b0bea7519643452528
Author: Jessica Laughlin <JLDLaughlin@users.noreply.github.com>
Date:   Thu May 14 12:58:35 2020 -0400

    Add conn_id to Session (#3033)
    
    Adds the u32 conn_id to the Session struct.

commit eb1aed75e94b5d93633606bb5a93801ddd7be912
Merge: 1da75e901 9dda4b404
Author: Natacha Crooks <nacrooks@gmail.com>
Date:   Thu May 14 10:20:08 2020 -0400

    Merge branch 'kafkarefactor' of github.com:nacrooks/materialize into kafkarefactor

commit 1da75e901ffbe0d1db682bb13b6f1152b842aa76
Author: Natacha Crooks <nacrooks@gmail.com>
Date:   Thu May 14 10:19:25 2020 -0400

    Casting modifications

commit 9dda4b404c6c81888b22f5c9bb5a4a7c4bf7c53b
Author: Natacha Crooks <nacrooks@gmail.com>
Date:   Wed May 13 22:09:18 2020 -0400

    Delete accidentally committed file.

commit 8783b2df652fcfcee7787dfa0d78da3961966607
Author: Natacha Crooks <nacrooks@gmail.com>
Date:   Wed May 13 21:58:02 2020 -0400

    Modify consumer creation logic to explicitly create one consumer per partition. Removes flakiness in testdrive

commit 53b02e3ebfb8595ae3a6f072fd03a43a7ed3b109
Author: Brandon W Maister <bwm@materialize.io>
Date:   Wed May 13 17:38:19 2020 -0400

    chbench: Add demo-load workflow facade, use it in docs
    
    It just exists to ease the transition to a `demo` workflow.
    
    Eventually when `demo` has made it into a stable release we can delete the `demo-load`
    reference and workflow.

commit c0b8b6f1b42fa2ab3a13605273886746760adc8c
Merge: 1cd9972f2 01f4a65bf
Author: Brandon W Maister <bwm@materialize.io>
Date:   Wed May 13 17:50:29 2020 -0400

    Merge pull request #3024 from quodlibetor/pycheck-compiletoo
    
    Add a simple Python compilation check to the lints

commit 1cd9972f2a654646011e1675c248b69c854c3d96
Author: Brandon W Maister <bwm@materialize.io>
Date:   Wed May 13 17:29:49 2020 -0400

    Bump version of prometheus in the dashboard (#3032)
    
    This one claims to have memory and on-disk storage size improvements.

commit 01f4a65bf38f86d6987946b00b5e8e75ceeab74a
Author: Brandon W Maister <bwm@materialize.io>
Date:   Wed May 13 17:28:53 2020 -0400

    lints: Move mypy into generic `pycheck` script
    
    Try to give better error messages

commit e163af7fa60d881d61b18fc9a09c8c1d43abd209
Merge: 469bca22e 08b6453b0
Author: Brandon W Maister <bwm@materialize.io>
Date:   Wed May 13 16:51:08 2020 -0400

    Merge pull request #3030 from quodlibetor/mzconduct-better-errors
    
    Several improvements to mzconduct error handling

commit 08b6453b0fe676c1a084581997e23212bdc33f2c
Author: Brandon W Maister <bwm@materialize.io>
Date:   Wed May 13 16:27:18 2020 -0400

    chbench: you need to start the dashboard in order for it to stay up

commit eb53e039bc03e13ccb548a45c45ee3cbca6668e9
Author: Brandon W Maister <bwm@materialize.io>
Date:   Wed May 13 16:26:48 2020 -0400

    mzconduct: always run from the root of the repo
    
    It's required for correct discovery

commit 66f453714ea8f597b98d113e95c955383e47f357
Author: Brandon W Maister <bwm@materialize.io>
Date:   Wed May 13 16:25:34 2020 -0400

    mzconduct: Don't print tracebacks for well-understood failures

commit d02113766acda8ceabe36c2440d786ebd60c6fb5
Author: Brandon W Maister <bwm@materialize.io>
Date:   Wed May 13 16:18:16 2020 -0400

    mzconduct: Don't swallow output from child processes

commit 41476a86ee7d8cd58c64273dc0ec9e7d95d0ea9a
Author: Brandon W Maister <bwm@materialize.io>
Date:   Wed May 13 16:17:07 2020 -0400

    mzbuild: add ui.shell_quote function
    
    It is a backport of `shlex.join` from 3.8.

commit 862afb760f6ff56a9aa63a3571f29730909c74cc
Author: Brandon W Maister <bwm@materialize.io>
Date:   Wed May 13 16:07:13 2020 -0400

    Update metabase-demo dev docs, add mzconduct section to mzbuild

commit 469bca22e9cd84ae650c5d9f236e692d80417f4e
Merge: a02f13c55 1d01f56e3
Author: Ruchir Khaitan <ruchir0001@gmail.com>
Date:   Wed May 13 16:04:35 2020 -0400

    Merge pull request #3017 from ruchirK/rk-2947
    
    demo: run billing demo on multipartition kafka topics in ci

commit 54bb9aded1d696e2b23b8a8900043e59f9d432d0
Author: Brandon W Maister <bwm@materialize.io>
Date:   Wed May 13 15:08:29 2020 -0400

    Fix public docs for chbench business intelligence demo

commit 912301722f5903b4cdf4234841394f9802491ca9
Author: Natacha Crooks <nacrooks@gmail.com>
Date:   Wed May 13 14:31:29 2020 -0400

    Adding additional information to where we end up actually seeking to + Bugfix introduced in the MzOffset change

commit 0a7218c9a28c6efe65eb668573e6535f3e70c627
Author: Brandon W Maister <bwm@materialize.io>
Date:   Wed May 13 13:49:06 2020 -0400

    Add a simple Python compilation check to the lints
    
    With Python syntax errors mypy is capable of giving very bad error messages, I suppose
    specifically with things in f-strings.
    
    With this change, error messages may get duplicated, but they also may provide actual
    information. Specifically, this makes the error from the mzconduct intro go from:
    
        misc/python/bin/mzconduct.py:1: error: invalid syntax
            # Copyright Materialize, Inc. All rights reserved.
                   ^
        Found 1 error in 1 file (checked 22 source files)
    
    To:
    
        misc/python/bin/mzconduct.py:1: error: invalid syntax
            # Copyright Materialize, Inc. All rights reserved.
                   ^
        Found 1 error in 1 file (checked 22 source files)
        *** Error compiling 'misc/python/bin/mzconduct.py'...
          File "<fstring>", line 1
            (error=)
                  ^
        SyntaxError: invalid syntax
    
    It's not perfect, but it's not completely incorrect anymore, and it at least includes
    something you can search for.

commit bc74dbe62b25ef12f279144427875ba7bbd478ab
Author: Natacha Crooks <nacrooks@gmail.com>
Date:   Wed May 13 12:54:47 2020 -0400

    Reorganising data/consistency information into separate datastructures

commit a02f13c55ee1a6e21073dd5b7cfeb63361d1abdc
Merge: b08ba8a54 0b85ce6ca
Author: Sean Loiselle <sean@materialize.io>
Date:   Wed May 13 11:40:01 2020 -0400

    Merge pull request #3021 from sploiselle/docs-marketing-copy
    
    docs: reflect marketing copy

commit 0b85ce6ca6512d67fbd2ebce341b870ee002baed
Author: Sean Loiselle <himself@seanloiselle.com>
Date:   Wed May 13 11:09:11 2020 -0400

    docs: reflect marketing copy

commit 1d01f56e32769d847cbccb604657fe9fa47e7058
Author: Ruchir Khaitan <ruchir0001@gmail.com>
Date:   Wed May 13 11:01:36 2020 -0400

    demo: run billing demo on multiple partitions in CI

commit f97f8f0f5f2ad7f0fbd299fa766ef7e38917f573
Author: Ruchir Khaitan <ruchir0001@gmail.com>
Date:   Wed May 13 10:42:29 2020 -0400

    demo: fix docker config for billing demo
    
    Touches #2770

commit 717e678c6477b16d966d2458efff83239cf72cc6
Author: Nikhil Benesch <nikhil.benesch@gmail.com>
Date:   Tue May 12 22:21:24 2020 -0400

    mzbuild: properly exclude mzcompose.yml files
    
    The fix in #2953 was not quite right, and caused CI not to depend on
    mzcompose.yml files in many cases where CI *should* depend on
    mzcompose.yml files. Exclude them only from consideration when computing
    crate dependencies, not when computing CI pipeline dependencies.

commit b08ba8a54c4a53585a711f6d6228edf9a09a31e9
Merge: b016673c6 05d5a0ba5
Author: Justin Jaffray <justin.jaffray@gmail.com>
Date:   Wed May 13 10:24:44 2020 -0400

    Merge pull request #2966 from justinj/state
    
    Thread common state through all transforms

commit 3590f8449f4556a143558d5226f120dae99af9f2
Author: Natacha Crooks <nacrooks@gmail.com>
Date:   Wed May 13 10:13:25 2020 -0400

    Factor out consumer configuration set-up in separate function

commit a66eba99f8a731cd67bf8698614faab22fe8ecf6
Author: Natacha Crooks <nacrooks@gmail.com>
Date:   Wed May 13 09:50:27 2020 -0400

    Create specific MzOffset type: MzOffset type is 1-indexed and requires explicit conversion to KafkaOffsets (which are 0 index) and FileOffsets (which are 1-indexed)

commit 05d5a0ba5b7f017eebe7047844f8241d0d86a4d5
Author: Justin Jaffray <justin.jaffray@gmail.com>
Date:   Fri May 8 15:01:02 2020 -0400

    Thread common state through all transforms
    
    We need access to an IdGen to write certain transforms. Take this
    opportunity to bundle up all the state that a transform has access to in
    a struct. In the future there should be some kind of "global state" that
    is common to every stage of planning, that provides everything necessary
    to construct expressions.

commit b016673c66a422e7288a9b52bb1e87e2718ef9ef
Merge: 77cc84a3f ae7af76ab
Author: Sean Loiselle <sean@materialize.io>
Date:   Wed May 13 09:02:46 2020 -0400

    Merge pull request #3010 from sploiselle/github-shortcode
    
    docs: add github shortcode

commit 77cc84a3f80580da779fb2755d0605fd3bb0dc68
Merge: 359cf73d0 e34b9651b
Author: Nikhil Benesch <nikhil.benesch@gmail.com>
Date:   Tue May 12 21:45:33 2020 -0400

    Merge pull request #3016 from benesch/issue-templates
    
    github: rework issue templates for external contributors

commit e34b9651bf909e6fd10974329cd41a0510e4ee03
Author: Nikhil Benesch <nikhil.benesch@gmail.com>
Date:   Tue May 12 19:36:01 2020 -0400

    github: rework issue templates for external contributors
    
    Fix #2748.

commit 359cf73d08ab3636eaa2d219b42f1f4425d65c7d
Author: Brennan Vincent <brennan@materialize.io>
Date:   Tue May 12 20:00:45 2020 -0400

    some doc updates (#3013)

commit c4c4330c5a753b09501cdfbdaf0b418a5850f982
Merge: 2f2e13a92 663c48cef
Author: Nikhil Benesch <nikhil.benesch@gmail.com>
Date:   Tue May 12 18:58:36 2020 -0400

    Merge pull request #3000 from benesch/relchecklist
    
    doc/developer: update release checklist

commit 2f2e13a921594f1c8f280303d9c709931d304f9f
Merge: e18e40b02 0738819a6
Author: Ruchir Khaitan <ruchir0001@gmail.com>
Date:   Tue May 12 18:15:06 2020 -0400

    Merge pull request #3003 from ruchirK/rk-3001
    
    doc: add documentation for the replication_factor knob

commit e18e40b02fa5f70d7af388ec07d0d700635a3d9b
Author: Frank McSherry <fmcsherry@me.com>
Date:   Tue May 12 13:40:07 2020 -0400

    Better respect compaction frontier (#3005)
    
    As described in #2803 we largely ignore the since compaction frontier of arrangements, most especially in the creation of dataflows for new arrangements and sinks. This PR forces that information in to dataflow construction and ensures that dataflows are constructed with such a minimum frontier and that newly created arrangements use this frontier as their starting value for their compaction frontier.

commit 22b5e46e7713c7ed2152d7f11675cec8dc8e3e31
Author: Brennan Vincent <brennan@materialize.io>
Date:   Tue May 12 13:17:30 2020 -0400

    Add `ignore_source_keys` WITH option. (#3012)

commit 74d84221665b05e75cccd1dc88a16454018b7ba2
Author: Frank McSherry <fmcsherry@me.com>
Date:   Tue May 12 12:51:45 2020 -0400

    use post-optimization type information (#3009)

commit 51229b339359996ec435148c524c7f9f7e0ccc79
Merge: 5cbe1809a a24f632b4
Author: Nikhil Benesch <nikhil.benesch@gmail.com>
Date:   Tue May 12 12:47:10 2020 -0400

    Merge pull request #3004 from benesch/doc-stuff
    
    doc/user: document TLS encryption + Kinesis credential changes

commit 5cbe1809a88f0fae6a19162cd8baec1d74e71e16
Author: Brennan Vincent <brennan@materialize.io>
Date:   Tue May 12 12:29:48 2020 -0400

    Make sure to add keys to `DataEncoding` when using non-Upsert format. (#3011)

commit ae7af76ab1a1ee1649fe3bbf5e4c0b697bab01c4
Author: Sean Loiselle <himself@seanloiselle.com>
Date:   Tue May 12 11:04:35 2020 -0400

    docs: add github shortcode

commit a24f632b4295b58ee6ec4e722edc4ca2288814fb
Author: Nikhil Benesch <nikhil.benesch@gmail.com>
Date:   Tue May 12 01:29:42 2020 -0400

    doc/user: document new kinesis credential behavior

commit 0738819a6c5e79a19b3c6f1f06e1e82593aa341a
Author: Ruchir Khaitan <ruchir0001@gmail.com>
Date:   Mon May 11 23:29:04 2020 -0400

    doc: fix typo in drop sink

commit 6fc7de52de69eefb5e987cdd1de53cc3c93b8df8
Author: Ruchir Khaitan <ruchir0001@gmail.com>
Date:   Mon May 11 23:19:05 2020 -0400

    doc: add documentation for the replication_factor knob

commit ff0a2cde11756971e8691ce6de44a57fd0667d54
Author: Frank McSherry <fmcsherry@me.com>
Date:   Tue May 12 11:14:37 2020 -0400

    Correct testdrive output (#3006)
    
    Test drive's diff report was doing a merge, but failing to report differences at the tail end of the merge. This would result in incomplete reports like
    
    rows didn't match; sleeping to see if dataflow catches up 125ms 250ms 500ms 1s 2s 4s 4.825s
    test/testdrive/timestamps-kafka-avro-multi.td:261:1: error: non-matching rows: expected:
    [["1", "6"], ["10", "1"], ["11", "1"], ["2", "1"], ["3", "3"], ["5", "1"], ["6", "1"], ["7", "1"], ["8", "1"], ["9", "1"]]
    got:
    [["1", "6"], ["2", "1"], ["3", "3"], ["5", "1"], ["6", "1"], ["7", "1"]]
    Diff:
    row missing: ["10", "1"]
    row missing: ["11", "1"]

commit d41d037b47f86b258d8a1678135176abcf2d3f84
Merge: 262e7ebec 52fe26b20
Author: Natacha Crooks <nacrooks@gmail.com>
Date:   Tue May 12 10:22:43 2020 -0400

    Merge pull request #3008 from nacrooks/timing
    
    Bumping timeout in multipartition test

commit 52fe26b2094dcfa4ebde325e4c6539c6ec9c6685
Author: Natacha Crooks <nacrooks@gmail.com>
Date:   Tue May 12 09:56:23 2020 -0400

    Bumping timeout in multipartition test

commit 162173e00c791193845696975363f47c0c19f7fb
Author: Nikhil Benesch <nikhil.benesch@gmail.com>
Date:   Tue May 12 01:13:40 2020 -0400

    doc/user: document TLS encryption support

commit 511d01637cf8b9a87ed00ca903964b7d44825347
Author: Nikhil Benesch <nikhil.benesch@gmail.com>
Date:   Tue May 12 01:12:22 2020 -0400

    doc/user: fix bugs in TOC scrolling

commit 53515eda139349ff798c9d5b4d3e80db79872e61
Author: Nikhil Benesch <nikhil.benesch@gmail.com>
Date:   Mon May 11 23:40:09 2020 -0400

    materialized: learn to dump information about C library versions
    
    This is useful to determine e.g. what version of OpenSSL materialized
    was linked against.

commit 9d148292d2e6aa5fe1f6a6424d532add243ffded
Author: Nikhil Benesch <nikhil.benesch@gmail.com>
Date:   Mon May 11 23:39:34 2020 -0400

    doc/user: tweak pre spacing again
    
    `pre`s that were not in lists were not getting the correct line height.

commit 262e7ebeca9a273339ce59bb59bfbef009ba7a89
Merge: c62c988e8 e896f28d1
Author: Nikhil Benesch <nikhil.benesch@gmail.com>
Date:   Mon May 11 23:24:14 2020 -0400

    Merge pull request #3002 from benesch/doc-spacing
    
    doc/user: one more minor spacing fix

commit e896f28d1cc25e99f7b978024f6e936221004b23
Author: Nikhil Benesch <nikhil.benesch@gmail.com>
Date:   Mon May 11 23:16:01 2020 -0400

    doc/user: one more minor spacing fix

commit 663c48cefa46613b877ac49b72894c62932dd82a
Author: Nikhil Benesch <nikhil.benesch@gmail.com>
Date:   Mon May 11 20:07:58 2020 -0400

    doc/developer: update release checklist
    
    Also turn it into a GitHub issue template, so it's a bit easier to file.

commit c62c988e8167875b92122719eee5709cf81cdac4
Merge: 55e618851 bc37c01d3
Author: Nikhil Benesch <nikhil.benesch@gmail.com>
Date:   Mon May 11 20:16:22 2020 -0400

    Merge pull request #2999 from benesch/deb-publish
    
    ci: correct deb publishing on releases

commit 55e6188515c2c34bf5c557613d1a0d05f6347430
Merge: 60e5789c9 e79c91fb8
Author: Nikhil Benesch <nikhil.benesch@gmail.com>
Date:   Mon May 11 20:13:35 2020 -0400

    Merge pull request #2998 from benesch/relnotes-0.2.2
    
    doc/user: add release notes for v0.2.2

commit bc37c01d356648af902e336cd4c47585baa2acc6
Author: Nikhil Benesch <nikhil.benesch@gmail.com>
Date:   Mon May 11 19:30:36 2020 -0400

    ci: correct deb publishing on releases
    
    This needs to go to "materialized" for releases, and
    "materialized-unstable" otherwise.

commit e79c91fb831e76e4e27a0242c65bc456e9c883c6
Author: Nikhil Benesch <nikhil.benesch@gmail.com>
Date:   Mon May 11 19:27:38 2020 -0400

    doc/user: add release notes for v0.2.2

commit 60e5789c925af8e0361f1234dc94d1c14d55d438
Author: Jessica Laughlin <JLDLaughlin@users.noreply.github.com>
Date:   Mon May 11 17:50:46 2020 -0400

    Drop TAILs when connection is dropped (#2996)
    
    Anytime a connection to materialized is dropped, try to drop the TAIL created
    by that connection, if it exists, by: 1) removing it from the Coordinator's list of
    active_tails, and 2) dropping the underlying dataflow sink.

commit f8ec4f5031b157104a0e551abfc27582ca1f4554
Merge: 007bd3a34 2d7ff75cc
Author: Nikhil Benesch <nikhil.benesch@gmail.com>
Date:   Mon May 11 17:47:48 2020 -0400

    Merge pull request #2974 from MaterializeInc/dependabot/cargo/libflate-1.0.0
    
    build(deps): bump libflate from 0.1.27 to 1.0.0

commit 007bd3a3443118495cd2797a16bc498a8a73b46a
Author: Frank McSherry <fmcsherry@me.com>
Date:   Mon May 11 17:43:19 2020 -0400

    Log offending non-positive value (#2991)
    
    We leave early warning signs of defective data when we see non-positive accumulations in reduce, but we did not report the offending value. This PR modifies that complaint to also log the key, value, and count which led to the complaint.

commit 5c12d4e5c30c9151a50e27305ed9ca415b287288
Merge: 744cbb477 c3dc2f41c
Author: Nikhil Benesch <nikhil.benesch@gmail.com>
Date:   Mon May 11 17:28:57 2020 -0400

    Merge pull request #2995 from MaterializeInc/dependabot/cargo/rdkafka-c70f9f5
    
    build(deps): bump rdkafka from `7059333` to `c70f9f5`

commit 2d7ff75ccbd7fe23420d87e0e28fa77d5752d198
Author: Nikhil Benesch <nikhil.benesch@gmail.com>
Date:   Mon May 11 17:24:45 2020 -0400

    deny: remove obsolete exceptions
    
    We no longer depend on rustls, so we no longer need these exceptions.

commit 900b0782379cd88b6b5a5b3d4306d60431ea4a19
Author: Nikhil Benesch <nikhil.benesch@gmail.com>
Date:   Mon May 11 17:23:17 2020 -0400

    deps: bump procfs
    
    This removes a duplicate dependency on an old version of libflate.

commit c3dc2f41c42b35c445818d8d2300108966fff05d
Author: Nikhil Benesch <nikhil.benesch@gmail.com>
Date:   Mon May 11 17:08:40 2020 -0400

    deps: upgrade to num_enum 0.5.0

commit 8bc358e426a6872dd6123437ab48b9594b2b6d08
Author: dependabot-preview[bot] <27856297+dependabot-preview[bot]@users.noreply.github.com>
Date:   Mon May 11 20:46:00 2020 +0000

    build(deps): bump rdkafka from `7059333` to `c70f9f5`
    
    Bumps [rdkafka](https://github.com/fede1024/rust-rdkafka) from `7059333` to `c70f9f5`.
    - [Release notes](https://github.com/fede1024/rust-rdkafka/releases)
    - [Commits](https://github.com/fede1024/rust-rdkafka/compare/7059333050c0b51ab7a1ebb024d9abaf7634d0c3...c70f9f5f9d59878d7c68a9c0920f2f38980513e9)
    
    Signed-off-by: dependabot-preview[bot] <support@dependabot.com>

commit 744cbb4779a18778547a12f13845a10c3615ebc3
Merge: c67489e1a 67359f7ca
Author: Nikhil Benesch <nikhil.benesch@gmail.com>
Date:   Mon May 11 16:39:50 2020 -0400

    Merge pull request #2994 from benesch/hugo-figures
    
    doc/user: fix figure shortcode for non-root baseURLs

commit 67359f7ca84fee86803ca40aaa04c5fe1aaf1566
Author: Nikhil Benesch <nikhil.benesch@gmail.com>
Date:   Mon May 11 16:32:50 2020 -0400

    doc/user: fix figure shortcode for non-root baseURLs
    
    Now that we ask Hugo to generate the docs into /docs, we need a fancier
    figure shortcode that properly handles non-root base URLs.

commit c67489e1aee67e7ecb6d4ea6d783a262c4b808f5
Merge: e72f41901 0ef99c9ad
Author: Nikhil Benesch <nikhil.benesch@gmail.com>
Date:   Mon May 11 16:12:31 2020 -0400

    Merge pull request #2993 from benesch/fix-docs-ii
    
    netlify: fix blog overlay

commit 0ef99c9ada5d06aea6e573508eb6f264c3b2ec57
Author: Nikhil Benesch <nikhil.benesch@gmail.com>
Date:   Mon May 11 16:10:22 2020 -0400

    netlify: fix blog overlay

commit e72f419018fd08cbb3b54122999f1a277d5e8784
Merge: b2362efb9 8296a8989
Author: Nikhil Benesch <nikhil.benesch@gmail.com>
Date:   Mon May 11 16:06:16 2020 -0400

    Merge pull request #2992 from benesch/fix-docs
    
    docs: fix deploy job

commit 8296a8989bbc297d6135e9ad4dcde58c09054801
Author: Nikhil Benesch <nikhil.benesch@gmail.com>
Date:   Mon May 11 16:04:14 2020 -0400

    docs: fix deploy job

commit b2362efb984c9e5dfc8ad50e4e1c756ed05b7324
Merge: 5746240cd 9aba17da3
Author: Nikhil Benesch <nikhil.benesch@gmail.com>
Date:   Mon May 11 15:57:54 2020 -0400

    Merge pull request #2972 from benesch/docs-refactor
    
    doc/user: rework css

commit 9aba17da3524f3befea7b7dd75edf71a6e0c44e5
Author: Nikhil Benesch <nikhil.benesch@gmail.com>
Date:   Sun May 10 22:33:29 2020 -0400

    doc/user: absorb www
    
    Since we no longer maintain the public marketing website in this
    repository, we can merge doc/user and www. This should make the setup
    far less confusing, since content won't be split across two directories
    depending on whether it is a partial or not.

commit f7e176af98de86f49c30b547f2e29e0ee6686dcf
Author: Nikhil Benesch <nikhil.benesch@gmail.com>
Date:   Sun May 10 17:02:17 2020 -0400

    doc/user: use fancy ordered list in Docker instructions

commit 619517e73872bd1ceb8b21abdb4f23668753aee8
Author: Nikhil Benesch <nikhil.benesch@gmail.com>
Date:   Sun May 10 16:47:43 2020 -0400

    doc/user: render SQL/shell snippet and output as one code block

commit 447a3f2bf1ae83a75893a32fffaf240281a018e6
Author: Nikhil Benesch <nikhil.benesch@gmail.com>
Date:   Sun May 10 16:31:08 2020 -0400

    doc/user: consistentize SQL query formatting

commit 806c2ac46f9f3af2427cb75c67b7e58363c70c22
Author: Nikhil Benesch <nikhil.benesch@gmail.com>
Date:   Sun May 10 16:01:36 2020 -0400

    doc/user: correct CREATE SOURCE heading levels
    
    These were skipping over the h3 level, leading to smaller than necessary
    headings.

commit 60993bc7068b0734c1ce74e557c71dcc7b59f33a
Author: Nikhil Benesch <nikhil.benesch@gmail.com>
Date:   Sun May 10 16:00:55 2020 -0400

    doc/user: correct monitoring menu item
    
    This is not a category but a standalone doc, so it needs to indicate as
    such in the doc itself so that it lights up properly when active.

commit fe491aa8c15e4dbb07a9d7febf4b52d48dfa7ed8
Author: Nikhil Benesch <nikhil.benesch@gmail.com>
Date:   Sun May 10 02:36:00 2020 -0400

    doc/user: rework css
    
    This reworks the docs site CSS so that it is not dependent on either
    Bootstrap or the marketing website CSS. This should improve its
    maintainability, despite the small amount of required duplication, as we
    don't need to constantly fight against rules from other stylesheets.
    
    I also took the opportunity to clean up some spacing, so that the
    information hierarchy is better reflected in the visual whitespace, and
    to standardize colors based on the official Materialize style guide.
    
    New features include a scrollspy plugin that automatically highlights
    TOC headings in the sidebar as you scroll, and the ability to use
    non-fancy ordered lists when the list elements do not contain paragraph
    elements.

commit 5746240cdee946df769af4e432bf9b4470ecac5f
Merge: 813957168 ffe1392e2
Author: Natacha Crooks <nacrooks@gmail.com>
Date:   Mon May 11 15:33:14 2020 -0400

    Merge pull request #2968 from nacrooks/compactionfix
    
    Fix timestamp closing logic for compacted topics

commit 813957168bd91f9482b7fbe8aeaa4b74a220ae10
Author: Brandon W Maister <bwm@materialize.io>
Date:   Mon May 11 14:54:57 2020 -0400

    bin/ci-builder: explain subcommands in --help text (#2990)

commit 752a6f9c8e69f6d8b53249a6c91396b054f6a95e
Merge: 2fc7636a2 ca5f3e9ef
Author: Nikhil Benesch <nikhil.benesch@gmail.com>
Date:   Mon May 11 14:31:56 2020 -0400

    Merge pull request #2967 from benesch/always-metrics
    
    materialized: force-enable metrics gathering

commit 2fc7636a21ec82a77a4760b4d31510a3ca8031e4
Merge: 5b9f92b44 e3049bcaa
Author: Nikhil Benesch <nikhil.benesch@gmail.com>
Date:   Mon May 11 14:31:21 2020 -0400

    Merge pull request #2971 from benesch/doc-with-option
    
    doc/user: tweak CREATE SOURCE WITH option docs

commit 5b9f92b448fe179310f23c98ed65e20c0ac7fac9
Merge: e15f3c35c dbadd27a1
Author: Nikhil Benesch <nikhil.benesch@gmail.com>
Date:   Mon May 11 14:30:35 2020 -0400

    Merge pull request #2970 from benesch/avro-ocf
    
    doc/user: fix Avro OCF source documentation

commit e15f3c35c2c570e939dc2b403abbff99d0797a10
Merge: 257c26182 d796c914f
Author: Nikhil Benesch <nikhil.benesch@gmail.com>
Date:   Mon May 11 14:24:32 2020 -0400

    Merge pull request #2975 from MaterializeInc/dependabot/cargo/futures-channel-0.3.5
    
    build(deps): bump futures-channel from 0.3.4 to 0.3.5

commit 257c26182f21b8a17415054d68fc76808592f375
Merge: 8018d8f57 340ca9ddd
Author: Nikhil Benesch <nikhil.benesch@gmail.com>
Date:   Mon May 11 14:24:14 2020 -0400

    Merge pull request #2973 from MaterializeInc/dependabot/cargo/serde_json-1.0.53
    
    build(deps): bump serde_json from 1.0.52 to 1.0.53

commit 8018d8f5730b7fa986aa869f2683c0885a44cd81
Merge: 130a87d0e 02e2e1b83
Author: Nikhil Benesch <nikhil.benesch@gmail.com>
Date:   Mon May 11 14:23:58 2020 -0400

    Merge pull request #2977 from MaterializeInc/dependabot/cargo/serde-1.0.110
    
    build(deps): bump serde from 1.0.106 to 1.0.110

commit 130a87d0eb0137e455c3add0b5a47cfff2d348fe
Merge: 159d67f02 3cf64c016
Author: Nikhil Benesch <nikhil.benesch@gmail.com>
Date:   Mon May 11 14:23:47 2020 -0400

    Merge pull request #2978 from MaterializeInc/dependabot/cargo/base64-0.12.1
    
    build(deps): bump base64 from 0.12.0 to 0.12.1

commit 159d67f027e04f9dbc36f4875d88174def173e93
Merge: 9d7f12b24 3b566dc58
Author: Nikhil Benesch <nikhil.benesch@gmail.com>
Date:   Mon May 11 14:17:24 2020 -0400

    Merge pull request #2987 from benesch/pg8000
    
    mzconduct: use pg8000 instead of psycopg2

commit 3b566dc58c47994da6fd4ffe4637d5fc78d7c0bc
Author: Nikhil Benesch <nikhil.benesch@gmail.com>
Date:   Mon May 11 13:59:12 2020 -0400

    ci-builder: use host networking for mzconduct
    
    Rationale within.

commit 9d7f12b24282c4c8a6ad799736b2aace5d06e502
Author: Sean Loiselle <sean@materialize.io>
Date:   Mon May 11 13:55:05 2020 -0400

    docs: fix broken link (#2980)

commit 6aeca28fb143d9705dc818485a9f9e669d1db110
Author: Brandon W Maister <bwm@materialize.io>
Date:   Mon May 11 13:36:38 2020 -0400

    ci: add --pretty flag to mypy (#2981)
    
    It causes mypy to point to the source of the error (similar to rust error messages)
    instead of just listing the file/line.
    
    Note that we _don't_ want this in mypy.ini because that breaks the error introspection of
    tools like emacs/vim that shell out and expect `path/to/file:line:col` syntax.

commit c702d238e0fb93e84c0165d49156232f58c4de39
Author: Nikhil Benesch <nikhil.benesch@gmail.com>
Date:   Mon May 11 13:23:34 2020 -0400

    python: fix use of 3.7 feature in spawn module
    
    Also merge runv2 and runv, while I'm in here. (We can definitely add a
    shorter alias for the capture_output flag, but wanted to at least unify
    the implementations to start.)

commit d92db388147074e345a07a3359b660f62bf919c5
Author: Nikhil Benesch <nikhil.benesch@gmail.com>
Date:   Mon May 11 12:40:37 2020 -0400

    mzconduct: use pg8000 instead of psycopg2
    
    pg8000 is a pure Python driver and so is much easier to install.

commit b83ad2f6f48761a1b7aae43c707e1306c808f5df
Author: Nikhil Benesch <nikhil.benesch@gmail.com>
Date:   Mon May 11 12:40:04 2020 -0400

    pgwire: include row count in SELECT command tag
    
    This was an overlooked aspect of PostgreSQL compatibility. Necessary for
    compatibility with the pg8000 driver for Python, and probably others.

commit c9d093c8a9c2d9507aef1fe62ea8ac7a7a5dc664
Merge: b87884b15 2cdb56cfe
Author: Nikhil Benesch <nikhil.benesch@gmail.com>
Date:   Mon May 11 12:44:05 2020 -0400

    Merge pull request #2988 from benesch/disable-chbench
    
    ci/test: actually disable chbench job

commit 2cdb56cfe98b5585b8c746a9b2ce04c17cd5ada1
Author: Nikhil Benesch <nikhil.benesch@gmail.com>
Date:   Mon May 11 12:06:46 2020 -0400

    ci/test: actually disable chbench job

commit b87884b15faa7000447be3d34e034dcdb7bd7a52
Merge: d3debffb7 767817871
Author: Nikhil Benesch <nikhil.benesch@gmail.com>
Date:   Mon May 11 11:56:28 2020 -0400

    Merge pull request #2982 from benesch/no-chbench
    
    ci/test: temporarily disable chbench job

commit 76781787135e774746ff7a9066bfc31ab8cacbea
Author: Nikhil Benesch <nikhil.benesch@gmail.com>
Date:   Mon May 11 11:47:57 2020 -0400

    ci/test: temporarily disable chbench job
    
    mzconduct and the builder image need some help to work together, so just
    disable the mzconduct-using job while we work out the issues.

commit d3debffb7b93491b5a319d6f028163abdf0c7c26
Merge: b1c73f847 c157b5c5a
Author: Brandon W Maister <bwm@materialize.io>
Date:   Mon May 11 11:24:10 2020 -0400

    Merge pull request #2942 from quodlibetor/mzconduct-introduction
    
    Introduce bin/mzconduct

commit c157b5c5a21c519ad3da673be291f67703e66450
Author: Brandon W Maister <bwm@materialize.io>
Date:   Mon May 11 10:15:07 2020 -0400

    f-string debug specifier isn't available until python3.8
    
    Also it causes mypy to fail saying invalid syntax pointing at line 1 of
    the source file, instead of the line that contains the error[1].
    
    Probably the f-string debug syntax[2] shouldn't be used in human output anyway.
    
    1: https://github.com/python/mypy/issues/8797
    2: https://docs.python.org/3/whatsnew/3.8.html#f-strings-support-for-self-documenting-expressions-and-debugging

commit 8cbf0abedce473fda0894e90927879b07b33939c
Author: Brandon W Maister <bwm@materialize.io>
Date:   Sun May 10 14:57:38 2020 -0400

    mzconduct: Put error logic and handling in materialize.errors
    
    This creates two trees of errors: MzConfigurationError and MzRuntimeError, the first for
    things that are programmer error, and the second for runtime errors that cannot be
    statically detected.

commit ec2eb0d00fbdf7d583ea1e03559a2692d8e2928a
Author: Brandon W Maister <bwm@materialize.io>
Date:   Fri May 8 15:51:39 2020 -0400

    mzconduct: move some common functionality into shared modules

commit 82530ae31744f75ea9a729a7e103243ea337b1e6
Author: Brandon W Maister <bwm@materialize.io>
Date:   Fri May 8 13:11:48 2020 -0400

    mzconduct: switch to materialize.spawn and materialize.ui

commit 7f9515c056bfd69184b52db772d44d50aafe10ad
Author: Brandon W Maister <bwm@materialize.io>
Date:   Thu May 7 14:34:21 2020 -0400

    mzconduct: Fully replace dc.sh
    
    There are a couple features not present (restart and env var substitution in yaml) but
    all the important features of dc.sh are present in mzconduct

commit 0826c608ab9560c2a9d6836dec893b51f618b89d
Author: Brandon W Maister <bwm@materialize.io>
Date:   Thu May 7 13:08:55 2020 -0400

    mzconduct: Add config for billing

commit 54d28412dad4330586a3397fa7a4bf4956a5f7de
Author: Brandon W Maister <bwm@materialize.io>
Date:   Wed Apr 22 10:59:47 2020 -0400

    Introduce bin/mzconduct
    
    The goal of mzconduct is twofold:
    
    * It provides a central repository of workflow steps, that allow us to package complex
      workflows in a robust and introspectable way
    * It introduces a uniform programatic api to execute any of our docker-compose tests
      * It makes it easy to verify that a process runs to completion, making it easier to run
        compose integration tests in CI
    
    It should make it easier for all new integration tests to come up correctly with fewer
    complex docker builds or hacks around their expected startup behavior.
    
    It should make it easier to notice and faster to debug when steps *fail*, which is
    something that is not necessarily obvious when every docker container is responsible for
    its own dependency checks on startup.

commit b1c73f847d2fd2b75b422580c8e4678f2a228e8d
Merge: 622d167ca eb990ba7b
Author: Justin Jaffray <justin.jaffray@gmail.com>
Date:   Mon May 11 09:19:25 2020 -0400

    Merge pull request #2930 from justinj/doc-tail
    
    Add docs for TAIL AS OF

commit 3cf64c016e8e42c22631108f10c4a6b091809ed5
Author: dependabot-preview[bot] <27856297+dependabot-preview[bot]@users.noreply.github.com>
Date:   Mon May 11 11:01:20 2020 +0000

    build(deps): bump base64 from 0.12.0 to 0.12.1
    
    Bumps [base64](https://github.com/marshallpierce/rust-base64) from 0.12.0 to 0.12.1.
    - [Release notes](https://github.com/marshallpierce/rust-base64/releases)
    - [Changelog](https://github.com/marshallpierce/rust-base64/blob/master/RELEASE-NOTES.md)
    - [Commits](https://github.com/marshallpierce/rust-base64/commits)
    
    Signed-off-by: dependabot-preview[bot] <support@dependabot.com>

commit 02e2e1b83001c46e7f1fca8fb56f52c93c1fef8f
Author: dependabot-preview[bot] <27856297+dependabot-preview[bot]@users.noreply.github.com>
Date:   Mon May 11 11:00:51 2020 +0000

    build(deps): bump serde from 1.0.106 to 1.0.110
    
    Bumps [serde](https://github.com/serde-rs/serde) from 1.0.106 to 1.0.110.
    - [Release notes](https://github.com/serde-rs/serde/releases)
    - [Commits](https://github.com/serde-rs/serde/compare/v1.0.106...v1.0.110)
    
    Signed-off-by: dependabot-preview[bot] <support@dependabot.com>

commit d796c914f639c8d15a1b2f195c6e593d032295c9
Author: dependabot-preview[bot] <27856297+dependabot-preview[bot]@users.noreply.github.com>
Date:   Mon May 11 10:59:52 2020 +0000

    build(deps): bump futures-channel from 0.3.4 to 0.3.5
    
    Bumps [futures-channel](https://github.com/rust-lang/futures-rs) from 0.3.4 to 0.3.5.
    - [Release notes](https://github.com/rust-lang/futures-rs/releases)
    - [Changelog](https://github.com/rust-lang/futures-rs/blob/master/CHANGELOG.md)
    - [Commits](https://github.com/rust-lang/futures-rs/compare/0.3.4...0.3.5)
    
    Signed-off-by: dependabot-preview[bot] <support@dependabot.com>

commit c0047095d900f4bf78d9b1de8e6fba90015b9457
Author: dependabot-preview[bot] <27856297+dependabot-preview[bot]@users.noreply.github.com>
Date:   Mon May 11 10:59:38 2020 +0000

    build(deps): bump libflate from 0.1.27 to 1.0.0
    
    Bumps [libflate](https://github.com/sile/libflate) from 0.1.27 to 1.0.0.
    - [Release notes](https://github.com/sile/libflate/releases)
    - [Commits](https://github.com/sile/libflate/compare/0.1.27...1.0.0)
    
    Signed-off-by: dependabot-preview[bot] <support@dependabot.com>

commit 340ca9ddd8ded9b699e74167d1585651b0f7bd19
Author: dependabot-preview[bot] <27856297+dependabot-preview[bot]@users.noreply.github.com>
Date:   Mon May 11 10:58:57 2020 +0000

    build(deps): bump serde_json from 1.0.52 to 1.0.53
    
    Bumps [serde_json](https://github.com/serde-rs/json) from 1.0.52 to 1.0.53.
    - [Release notes](https://github.com/serde-rs/json/releases)
    - [Commits](https://github.com/serde-rs/json/compare/v1.0.52...v1.0.53)
    
    Signed-off-by: dependabot-preview[bot] <support@dependabot.com>

commit e3049bcaad67d9e490239c2ade24a094a14fab48
Author: Nikhil Benesch <nikhil.benesch@gmail.com>
Date:   Sat May 9 14:21:59 2020 -0400

    doc/user: tweak CREATE SOURCE WITH option docs
    
    Part of the description of the `tail` option didn't make much sense to
    me. Also rename the "Value" column to the "Value type" column.

commit dbadd27a13498b441e37ce7dcc0331baf84073a2
Author: Nikhil Benesch <nikhil.benesch@gmail.com>
Date:   Sat May 9 14:05:14 2020 -0400

    doc/user: fix Avro OCF source documentation
    
    Avro OCF sources are a bit special and are a connector, rather than a
    format. Correct the docs accordingly.
    
    Also remove a bit of magic in the rendering of the CREATE SOURCE
    introduction that seemed to be resulting in a lot of incorrect or
    awkward constructions ("connect Materialize to Avro-formatted Kafka
    topic", "Avro Object Container File-formatted local files").
    
    Fix #2969.

commit ca5f3e9ef0d6de05845e0cc751340eb4a81a0c70
Author: Nikhil Benesch <nikhil.benesch@gmail.com>
Date:   Sat May 9 01:42:22 2020 -0400

    materialized: refactor server shutdown
    
    @quodlibetor remarked that the use of std::sync::Weak in server shutdown
    was a bit non-obvious, so this commit is an attempt to refactor that
    confusing bit of code away.
    
    Instead of the pgwire and http servers checking whether they can upgrade
    their weak cmdq_tx on every new connection, they get a normal cmq_tx.
    When it is time to begin shutting down the server (a process now called
    "draining"), the pgwire and HTTP servers are dropped in their entirety,
    including the contained cmdq_txs.
    
    We introduce a new dependency on the stream_cancel crate, which is
    designed for exactly this purpose, to communicate the drain message
    across task boundaries.
    
    This also fixes a resource leak present in the old code, where the
    listener task would never be cleaned up until the process exited. This
    wasn't a problem in production, because there is no way to terminate the
    server without exiting the process, but it would cause TCP listeners and
    Tokio threads to pile up when running unit tests.

commit 675b63f390ab3fee4bb6c618c6e4e5c64e6198ac
Author: Nikhil Benesch <nikhil.benesch@gmail.com>
Date:   Sat May 9 00:58:15 2020 -0400

    materialized: put mux in charge of polling for connections

commit ffe1392e2a4dc393eeb8820199500177751324ff
Author: Natacha Crooks <nacrooks@gmail.com>
Date:   Fri May 8 20:09:53 2020 -0400

    Closing timestamp fix for compacted topics

commit 71a5988cb84745d84aa529e8d08fc19605d9a396
Author: Nikhil Benesch <nikhil.benesch@gmail.com>
Date:   Fri May 8 20:33:25 2020 -0400

    materialized: force-enable metrics gathering
    
    Empirically metrics gathering does not have a large performance cost,
    but making the option configurable has a large configuration cost.
    Just remove the knob. It wasn't documented, so should have minimal user
    effect.

commit 622d167ca7c5782f6937fbb5ce4acecc292c3ac2
Merge: 21c15ecb6 b2d0cb746
Author: Nikhil Benesch <nikhil.benesch@gmail.com>
Date:   Fri May 8 20:27:50 2020 -0400

    Merge pull request #2900 from benesch/tls
    
    materialized: support tls pgwire encryption

commit b2d0cb746547602b7b16e5dd30b6115222974087
Author: Nikhil Benesch <nikhil.benesch@gmail.com>
Date:   Fri May 8 20:00:48 2020 -0400

    pgwire: introduce constants for encryption responses

commit 5157ee904b5eb53ab96ea9ac77bd8cbe95495a29
Author: Nikhil Benesch <nikhil.benesch@gmail.com>
Date:   Fri May 8 19:49:57 2020 -0400

    materialized: document mux

commit 21c15ecb646fdbc303d297ed9b6d2aa1699ebb42
Merge: aab22e475 173f540bd
Author: Nikhil Benesch <nikhil.benesch@gmail.com>
Date:   Fri May 8 19:35:43 2020 -0400

    Merge pull request #2964 from benesch/pyyaml-no-ext
    
    python: force-disable pyyaml's c extension

commit aab22e475d47d8637d47ca87b7d9eb222b984765
Merge: 8d49c8c72 96c56c2e1
Author: Justin Jaffray <justin.jaffray@gmail.com>
Date:   Fri May 8 14:57:24 2020 -0400

    Merge pull request #2948 from justinj/negation
    
    Push NOT into binary operators

commit 8d49c8c720a07e8b2185706dda002a8c5cccab83
Merge: 92a3bd275 f1068c8de
Author: Nikhil Benesch <nikhil.benesch@gmail.com>
Date:   Fri May 8 13:32:34 2020 -0400

    Merge pull request #2965 from benesch/doc-links
    
    deploy: build docs using nightly

commit f1068c8de2318905efbd71ca3d1a231a0be7753c
Author: Nikhil Benesch <nikhil.benesch@gmail.com>
Date:   Fri May 8 13:28:21 2020 -0400

    deploy: build docs using nightly
    
    The docs need to be built using the nightly toolchain in order for
    intra-rustdoc links to work (#43466). This used to be the case, but got
    dropped in a CI refactor.

commit 92a3bd27548ec9357de234aa8d3294a2ba97674b
Merge: 950ebca3e 9e6073fd7
Author: Nikhil Benesch <nikhil.benesch@gmail.com>
Date:   Fri May 8 12:38:13 2020 -0400

    Merge pull request #2937 from benesch/catalog-refactor
    
    coord: absorb catalog crate

commit 173f540bd4fc8f805ab83b08d7ff1047d663b798
Author: Nikhil Benesch <nikhil.benesch@gmail.com>
Date:   Fri May 8 12:27:16 2020 -0400

    python: force-disable pyyaml's c extension
    
    By default PyYAML will check to see if it can compile a C extension that
    links against libyaml. This is just another thing that can go wrong when
    setting up the venv, and we don't need the additional speed of libyaml
    over the pure Python YAML parser, so just force disable libyaml
    extension.

commit 950ebca3ee9fb4432ba8fa2661ebcab583eac5f2
Merge: 2102c3720 22dd52fdf
Author: Nikhil Benesch <nikhil.benesch@gmail.com>
Date:   Fri May 8 12:26:37 2020 -0400

    Merge pull request #2954 from benesch/pip-wheel
    
    pyactivate: work around debian wheel bug

commit 2102c3720188c36241b56261b1bde741191d43cb
Author: Jessica Laughlin <JLDLaughlin@users.noreply.github.com>
Date:   Fri May 8 12:04:37 2020 -0400

    Add perf-kinesis load test to release checklist (#2962)
    
    Requires that we load test Kinesis sources for each release

commit 96c56c2e183e4b0ba27cb0b2c30911e4a3970fb5
Author: Justin Jaffray <justin.jaffray@gmail.com>
Date:   Thu May 7 14:58:02 2020 -0400

    Push NOT into operators
    
    This commit replaces expressions of the form `NOT(a <op> b)` with
    `NOT(a <negate(op)> b)`, if `<negate(op)>` exists (as it does for `=`
    vs. `!=`, etc.).
    
    It also replaces NOT(NOT(x)) with x.
    
    This improves behaviour for queries like `a JOIN b ON NOT(x != y)`.

commit 8f71fd7bde6c1988fdd9cd2ab43e6d81597b0328
Merge: c13da8721 03d415b7e
Author: Nikhil Benesch <nikhil.benesch@gmail.com>
Date:   Fri May 8 11:53:30 2020 -0400

    Merge pull request #2963 from benesch/version-bump
    
    version: bump for 0.2.3-dev cycle

commit c13da8721527c6f662a26792ddf4af6c928f4f87
Author: Jessica Laughlin <JLDLaughlin@users.noreply.github.com>
Date:   Fri May 8 11:34:41 2020 -0400

    Use AutoRefreshingProvider for chain provider AWS credentials (#2928)
    
    The AutoRefreshingProvider wraps around AWS credentials providers,
    updating its cached credentials once they've expired.
    
    Using the AutoRefreshingProvider when gathering credentials via a chain
    provider ensures that our Kinesis client's credentials will stay valid as
    long as they're valid in AWS IAM.

commit 03d415b7e69d383a45d5286aaa135533bbf0f370
Author: Nikhil Benesch <nikhil.benesch@gmail.com>
Date:   Fri May 8 11:26:53 2020 -0400

    version: bump for 0.2.3-dev cycle

commit 1d8279216400f529e64068006f1712a9aef18f0f
Merge: ba1c39076 35c9ef72d
Author: Natacha Crooks <nacrooks@gmail.com>
Date:   Fri May 8 11:08:44 2020 -0400

    Merge pull request #2951 from nacrooks/grafana
    
    Adding metrics to Kafka source

commit 35c9ef72df7ef2dd455b800b32f925b2368c388b
Author: Natacha Crooks <nacrooks@gmail.com>
Date:   Fri May 8 10:42:06 2020 -0400

    Adding additional explanations to metrics

commit ba1c39076991007b80b2c44ea6ad52918d987812
Merge: 62d57f058 3e1f25d53
Author: Brandon W Maister <bwm@materialize.io>
Date:   Fri May 8 10:32:37 2020 -0400

    Merge pull request #2950 from quodlibetor/dashboard-allow-snapshots
    
    dashboard: Allow snapshots from prometheus

commit 62d57f058f105bd64ce49c0a07274e77d52308cb
Merge: d793b1127 9bdffe5c3
Author: Nikhil Benesch <nikhil.benesch@gmail.com>
Date:   Fri May 8 09:57:25 2020 -0400

    Merge pull request #2953 from benesch/mzcompose-mzcompose
    
    mzbuild: ignore mzcompose files in crate root

commit d1e9991aeec684eb8c5483afad48ad336bb8504e
Author: Natacha Crooks <nacrooks@gmail.com>
Date:   Fri May 8 09:54:53 2020 -0400

    Fixing trait implementation

commit 22dd52fdf333c9d08848833129e7a4c11ca54884
Author: Nikhil Benesch <nikhil.benesch@gmail.com>
Date:   Fri May 8 00:51:22 2020 -0400

    pyactivate: work around debian wheel bug
    
    pyactivate's call to `pip install` would often produce ugly error
    messages about `bdist_wheel` failing. Though harmless, they were awfully
    confusing, as they made the operation look like it had failed. Suppress
    this error message by removing the buggy wheel.whl file that Debian
    installs.

commit 3e1f25d5342a2e50fe9f8601183fd5ad9d38fac5
Author: Brandon W Maister <bwm@materialize.io>
Date:   Thu May 7 23:45:59 2020 -0400

    dashboard: Document observing non-dockerized materialized

commit 0666937c1727abc6655b9c8a3c1d9c36ca8dd818
Author: Brandon W Maister <bwm@materialize.io>
Date:   Thu May 7 23:27:49 2020 -0400

    Add a script that will snapshot the prometheus db

commit 9371abcaaeb40d3a92ac1547eb118ce7df1412d2
Author: Natacha Crooks <nacrooks@gmail.com>
Date:   Thu May 7 18:06:31 2020 -0400

    Adding metrics to Kafka source
    
    Adding additional timestamp lag metric

commit 9bdffe5c3290da486bd14583a8c25ae859470eaa
Author: Nikhil Benesch <nikhil.benesch@gmail.com>
Date:   Thu May 7 21:24:51 2020 -0400

    mzbuild: ignore mzcompose files in crate root
    
    Fix #2940.

commit d793b112758c840c1240eefdd56ca6f7e4f484cf
Merge: 02f3b8a84 53d1dfc7b
Author: Nikhil Benesch <nikhil.benesch@gmail.com>
Date:   Thu May 7 21:14:48 2020 -0400

    Merge pull request #2776 from benesch/list-stuff
    
    repr,pgrepr: tweak list encoding and decoding

commit eb990ba7b0941a32217e2c0613d2553c8f0f6dc6
Author: Justin Jaffray <justin.jaffray@gmail.com>
Date:   Wed May 6 16:01:03 2020 -0400

    Add docs for TAIL AS OF
    
    Closes #2835.
    
    I wasn't sure what level of abstraction the docs are intended to live
    at, so I tried to avoid words like "compaction." Let me know if I missed
    the mark!

commit 4fbdf97b2ee9be5492844e3b74e95e735717e5eb
Author: Brandon W Maister <bwm@materialize.io>
Date:   Thu May 7 17:32:48 2020 -0400

    dashboard: Allow snapshots from prometheus

commit 02f3b8a849d754a32c7de4110f4f8be1d433742f
Merge: 24c3de3b5 bff8a2bcc
Author: Sean Loiselle <sean@materialize.io>
Date:   Thu May 7 17:00:21 2020 -0400

    Merge pull request #2941 from sploiselle/rename-kinesis-access-key
    
    refactor: rename Kinesis access_key to access_key_id

commit 24c3de3b57f1f3ed0b6715b151f03fe2e31360f6
Author: Brennan Vincent <brennan@materialize.io>
Date:   Thu May 7 16:57:26 2020 -0400

    Allow avro unions in value types (#2943)

commit 9025ddaf97518b4b64d3e890cb97f04d3b5831b5
Author: Brandon W Maister <bwm@materialize.io>
Date:   Thu May 7 16:44:32 2020 -0400

    Fix peeker init infinite recursion (#2938)
    
    This wasn't a hot loop, but max retries never went down.

commit 7f6ddfc6ae0179fca48bb9242a33c3cfbfa550dc
Author: Brandon W Maister <bwm@materialize.io>
Date:   Thu May 7 15:46:36 2020 -0400

    dashboard: Start grafana on the overview dashboard (#2946)
    
    Instead of starting on the empty overview page that has no links to dashboards.
    
    Unfortunately grafana does not support provisioning the home dashboard, so we need to do
    it via the API at startup.

commit 52a113dbd5908fc8ee8111575c583b0803b54ee9
Merge: 2767f610e 958a42c60
Author: Justin Jaffray <justin.jaffray@gmail.com>
Date:   Thu May 7 15:42:34 2020 -0400

    Merge pull request #2945 from justinj/invert
    
    Flip around the ice-cream-cone operator

commit 2767f610e2e116b259ca0c9a842e29909925a9d4
Author: Frank McSherry <fmcsherry@me.com>
Date:   Thu May 7 15:12:22 2020 -0400

    Document decorrelation some (#2935)
    
    This PR introduces a bunch of explanatory text for parts of decorrelation, written as part of understanding what it does. I hope they are mostly correct. I stopped at ScalarExpr::applied_to but I'm happy to pick that up.
    
    I put decorrelation methods in a module, with some module-level documentation.
    
    I removed the Result wrappers from the type; the only potential error was the ensure! macro which I replaced with a panic! (perhaps incorrectly).

commit 958a42c6081918f7efac4757620e6573d46a3ba8
Author: Justin Jaffray <justin.jaffray@gmail.com>
Date:   Thu May 7 15:01:44 2020 -0400

    Flip around the ice-cream-cone operator
    
    Prior, it would be inverted in EXPLAINs:
    ```
    materialize=> explain raw plan for select '{"a":"b"}'::jsonb @> '{}'::jsonb;
                            Raw Plan
    ---------------------------------------------------------
     %0 =                                                   +
     | Constant ()                                          +
     | Map (strtojsonb("{\"a\":\"b\"}") <@ strtojsonb("{}"))+
     | Project (#0)                                         +
     | Map                                                  +
    
    (1 row)
    ```
    
    After:
    ```
    materialize=> explain raw plan for select '{"a":"b"}'::jsonb @> '{}'::jsonb;
                            Raw Plan
    ---------------------------------------------------------
     %0 =                                                   +
     | Constant ()                                          +
     | Map (strtojsonb("{\"a\":\"b\"}") @> strtojsonb("{}"))+
     | Project (#0)                                         +
     | Map                                                  +
    
    (1 row)
    ```

commit bff8a2bcc7663c74642af0cc3e49a001ad8def57
Author: sploiselle <sean@materialize.io>
Date:   Thu May 7 12:17:25 2020 -0400

    refactor: rename Kinesis access_key to access_key_id

commit a818f699bc0abd7d8db77b30fa35d86489aa7db3
Merge: 7bd59c796 bcf7a9268
Author: Natacha Crooks <nacrooks@gmail.com>
Date:   Thu May 7 11:32:56 2020 -0400

    Merge pull request #2936 from nacrooks/LogPartition
    
    Improve fairness for multi-partition reading

commit bcf7a92687875f91b7fe5471f83271d980263e1e
Author: Natacha Crooks <nacrooks@gmail.com>
Date:   Thu May 7 10:17:43 2020 -0400

    Removing stray comments

commit a06940751a9f0115c46ab1fba6b602e65987c5c5
Author: Natacha Crooks <nacrooks@gmail.com>
Date:   Thu May 7 00:14:46 2020 -0400

    Formatting

commit 93f1ee58781bb3abdb3e8e9a7b713b4bdc80c680
Author: Natacha Crooks <nacrooks@gmail.com>
Date:   Thu May 7 00:11:19 2020 -0400

    Add missing kafka-create causing ci test to fail

commit 8f3e6b2ef6bbcc1e707ff6e5ca0cc35fa57432a9
Author: Natacha Crooks <nacrooks@gmail.com>
Date:   Tue May 5 13:53:39 2020 -0400

    Fixing multi partition unfairness issue

commit 7bd59c79675e5ac50e8b8f53407b80a7befa2d78
Merge: 81dc9011d cad72e91d
Author: Natacha Crooks <nacrooks@gmail.com>
Date:   Thu May 7 10:54:52 2020 -0400

    Merge pull request #2795 from nacrooks/testdrive
    
    Test-drive support for randomness

commit 81dc9011d3402f94553c1d499ca4c80124122b9a
Merge: c519f2804 0abfa82d2
Author: Sean Loiselle <sean@materialize.io>
Date:   Thu May 7 10:54:21 2020 -0400

    Merge pull request #2939 from sploiselle/errant-println
    
    bug: remove errant println

commit cad72e91d0a6e631ff1145e17db72a5e050207d8
Author: Natacha Crooks <nacrooks@gmail.com>
Date:   Thu May 7 09:20:56 2020 -0400

    Fixing off by on error

commit 22078fbcd9bcaf07675678b1d5283fa0e911f282
Author: Natacha Crooks <nacrooks@gmail.com>
Date:   Mon Apr 27 15:13:47 2020 -0400

    Adding a execution-count option to support retrying a test multiple times

commit 2ca1e331b5dc3ee49f3c67167dfbca96c9d66fde
Author: Natacha Crooks <nacrooks@gmail.com>
Date:   Mon Apr 27 12:23:39 2020 -0400

    Adding support for random_sleep statement

commit 0abfa82d25f60f94ab8703e0019d3bd28eb2249b
Author: sploiselle <sean@materialize.io>
Date:   Thu May 7 10:00:30 2020 -0400

    bug: remove errant println

commit 9e6073fd73f89e2bb79e60e5d7c035373f431029
Author: Nikhil Benesch <nikhil.benesch@gmail.com>
Date:   Wed May 6 23:57:32 2020 -0400

    coord: merge item serializer into main catalog
    
    This generic parameter didn't exist because there was actually a use for
    having multiple catalog serialization formats--catalog serialization is
    a really finicky business--but to work around the circular dependency
    issue that was resolved in the last commit.

commit 8820411e1c33c79923b694bfb2571531c74dfb6f
Author: Nikhil Benesch <nikhil.benesch@gmail.com>
Date:   Wed May 6 23:31:24 2020 -0400

    coord: absorb catalog crate
    
    The dependency graph now looks like:
    
        SQL <- coord
    
    This is the bare minimum code movement necessary to make this viable.
    Many refactoring commits will follow.

commit d29d911b2dfc16c0bd7a4dc1de7f6899fe33d119
Author: Nikhil Benesch <nikhil.benesch@gmail.com>
Date:   Wed May 6 22:06:50 2020 -0400

    sql: introduce a catalog trait
    
    The dependency graph is presently
    
        catalog <- SQL <- coord
           ^               |
           |               |
           +---------------+
    
    because the SQL planner needs the catalog to perform name resolution,
    but the coordinator needs the catalog to actually persist state to disk.
    The catalog really wants to be a part of the coordinator so it can be
    responsible for storing all of the coordinator's metadata, but this
    results in a circular dependency.
    
    Prepare to break that circular dependency by introducing a "PlanCatalog"
    trait that defines the interface that the SQL package needs from a
    catalog. This trait is presently quite ugly, to facilitate the refactor,
    but will hopefully simplify over time.

commit c519f280420f16eb0c41e6765b0be375858c0d11
Merge: 055180748 392960dae
Author: Sean Loiselle <sean@materialize.io>
Date:   Wed May 6 18:46:49 2020 -0400

    Merge pull request #2929 from sploiselle/with-options-cleanup
    
    integration: minor Kafka config cleanup

commit 392960dae87e3ee8ca90d339d4fd076ff3e26240
Author: Sean Loiselle <himself@seanloiselle.com>
Date:   Wed May 6 14:54:57 2020 -0400

    integration: minor Kafka config cleanup

commit 0551807484b28eb928b92554964acc640559008b
Author: Frank McSherry <fmcsherry@me.com>
Date:   Wed May 6 16:04:58 2020 -0400

    doc comments for all items (#2927)

commit b731f5a88fef012b638e123296a10c5eea64dad1
Author: Brennan Vincent <brennan@materialize.io>
Date:   Wed May 6 15:25:10 2020 -0400

    Ingest Avro enum types as strings (#2923)

commit 5bf086322b140d5fe6db5be80f4cd67bb081cf25
Merge: 49e08f86e f1bca6d1d
Author: Sean Loiselle <sean@materialize.io>
Date:   Wed May 6 13:34:03 2020 -0400

    Merge pull request #2926 from sploiselle/docs-group-id-prefix
    
    docs: add group_id_prefix Kafka config

commit f1bca6d1da70ee4d6af68c53071ec25970070f96
Author: Sean Loiselle <himself@seanloiselle.com>
Date:   Wed May 6 13:23:00 2020 -0400

    docs: add group_id_prefix Kafka config

commit 49e08f86e3cd5b03301d6928a413688cd2c3dd1c
Author: Ruchir Khaitan <ruchir0001@gmail.com>
Date:   Wed May 6 13:10:00 2020 -0400

    Multipartition billing demo (#2922)
    
    Add an optional argument to the billing demo that determines how many partitions the source topic will have

commit 7a0c0f84a1fcdb8b035d6af53827418f43ed1448
Merge: 16995b3d2 997e60891
Author: Sean Loiselle <sean@materialize.io>
Date:   Wed May 6 12:18:59 2020 -0400

    Merge pull request #2914 from sploiselle/kafka-group-id-prefix
    
    integration: provide setting for prefixing Kafka group ID

commit 16995b3d24afa17731885e1e330bc9f9d6adbba8
Author: Frank McSherry <fmcsherry@me.com>
Date:   Wed May 6 11:42:46 2020 -0400

    Re-organize render (part 1) (#2916)
    
    The first part of attempts to smash up render/mod.rs into smaller parts. These are the easier parts that were already in their own methods.
    
    One relevant change is that the methods render_foo should be called only after ensuring that their inputs are rendered. This is because the methods can only make that recursive call back in to the Context if they have the most general type parameters, which is more restrictives than we actually require. The change allows for implementations that are more clearly Timestamp-independent, and also a little less shuffling around of things like scopes and worker ids (important for some operators, not for others).

commit 1137f744501ae47ba88e41fd1fdccb395186ddd1
Merge: 58d724918 d2801d6fd
Author: Jessica Laughlin <JLDLaughlin@users.noreply.github.com>
Date:   Wed May 6 11:41:18 2020 -0400

    Kinesis load test (#2719)
    
    Adds a new perf-kinesis crate that contains code to load test Kinesis
    sources. The first available test checks that Kinesis sources can read
    some number of records per second over some amount of time without
    failing -- the Grafana dashboard should be checked for overall performance.

commit d2801d6fd888b0a1564f27dd26af45e7d555deb8
Author: JLDLaughlin <jessica@materialize.io>
Date:   Wed May 6 11:12:44 2020 -0400

    Clean up

commit 58d724918fcded60480d929c0e00f30d1cbb9ef6
Merge: d213a30a1 259048cb3
Author: Sean Loiselle <sean@materialize.io>
Date:   Wed May 6 11:12:17 2020 -0400

    Merge pull request #2912 from sploiselle/create-source-restructure
    
    docs: leverage shortcodes for create source docs

commit 997e60891b4c7ce5bc1ee9fbad081eccdfa9dd0a
Author: Sean Loiselle <himself@seanloiselle.com>
Date:   Tue May 5 21:36:08 2020 -0400

    integration: provide setting for prefixing Kafka group ID

commit d213a30a16786e2d295af7b5126633f9aaf298d3
Author: Brandon W Maister <bwm@materialize.io>
Date:   Wed May 6 10:29:00 2020 -0400

    mzimage: Print image spec on build no matter what (#2910)
    
    I occasionally get mzcompose or docker-compose not running exactly the image that I
    expect it to, this is an attempt to make it more clear to me what's going on.

commit 259048cb30dc8275ddd848a0d86dabc05d6aa1b2
Author: Sean Loiselle <himself@seanloiselle.com>
Date:   Mon May 4 23:14:49 2020 -0400

    docs: leverage shortcodes for create source docs

commit 02b3392a6f00104b70eb5fd9ca9ba608d02ade4d
Author: Frank McSherry <fmcsherry@me.com>
Date:   Wed May 6 05:25:10 2020 -0400

    Introduce `transform` crate (#2911)
    
    This PR moves transformation logic out of the expr crate and in to its own crate. The rationale is that expr is a very popular crate, but many of its users do not depend on the state of transformations. In particular, the dataflow crate is expensive to rebuild and while it does depend on expr it does not depend on transformations.
    
    This PR also removes three transformations that are no longer in use, and flags two for further review. It also slaps up documentation everywhere. I'd love to require doc code examples, but the lint (missing-doc-code-examples) doesn't seem to have an effect that I could tell.

commit 433c498f83929115db6a938c2ee833e6f5f1e286
Author: Nikhil Benesch <nikhil.benesch@gmail.com>
Date:   Tue May 5 11:51:41 2020 -0400

    materialized: support HTTPS connections

commit 0a5b135fa9f5568aa8e59b672e8f259d096ef208
Author: Nikhil Benesch <nikhil.benesch@gmail.com>
Date:   Mon May 4 01:07:53 2020 -0400

    materialized: support TLS pgwire encryption
    
    Fix #739.

commit 0e36cec883a541aaaf46e4c2143874b19842b2fe
Author: Nikhil Benesch <nikhil.benesch@gmail.com>
Date:   Mon May 4 01:00:05 2020 -0400

    materialized: reorganize configuration options
    
    These had gotten a bit disorganized. Regroup them thematically, and use
    the same grouping across option declaration, validation, and config
    definition.
    
    There should be no semantic changes in this commit.

commit 3a7f0588ecc90a521a2225fdf484680a6e4319e8
Author: Nikhil Benesch <nikhil.benesch@gmail.com>
Date:   Sun May 3 15:58:12 2020 -0400

    pgwire,materialized: rework connection dispatching
    
    Introduce explicit HTTP and pgwire servers, which store configuration
    parameters that are global to an instance of materialized. (Previously
    these parameters were passed through as function arguments for every
    connection, which was getting unwieldy.) This will be used in a
    forthcoming TLS patch, which will teach the HTTP and pgwire servers to
    accept TLS connections.

commit 04709fe29494f3daba11e2851b0ea300d32f21bc
Author: Nikhil Benesch <nikhil.benesch@gmail.com>
Date:   Sun May 3 13:03:05 2020 -0400

    pgwire: split startup and regular flows
    
    This facilitates SSL encryption, where the type of the connection will
    change from unecrypted to encrypted. Plus the startup flow never fit
    cleanly with the rest of the protocol; it's clearly designed to be
    implemented as a separate stage like this.

commit e5b4d27f8fa7ef3f5bbe0e08e6fb9f116ea202fe
Author: Jessica Laughlin <JLDLaughlin@users.noreply.github.com>
Date:   Tue May 5 21:05:41 2020 -0400

    Remove stale Kinesis streams in CI cleanup (#2908)
    
    Adds a new job to the daily cleanup CI pipeline that removes
    any stale Kinesis streams (streams created by testdrive that
    are more than an hour old)

commit 187f14422ac42dc5859682ef023c13bc698d862f
Author: JLDLaughlin <jessica@materialize.io>
Date:   Tue May 5 19:32:59 2020 -0400

    Use connection

commit ad78e3dd77f32a6545b48f7878ded71b4ef23a8c
Merge: 5900428c5 06cd198a3
Author: Ruchir Khaitan <ruchir0001@gmail.com>
Date:   Tue May 5 19:13:13 2020 -0400

    Merge pull request #2909 from ruchirK/rk-2903-2
    
    dataflow: print error logs when message production fails

commit 06cd198a309cc4d00fd332ea941a29bde8397352
Author: Ruchir Khaitan <ruchir0001@gmail.com>
Date:   Tue May 5 16:52:52 2020 -0400

    dataflow: print error logs when message production fails

commit 5900428c5ed1371f53806d41c37c22159c91f733
Author: Frank McSherry <fmcsherry@me.com>
Date:   Tue May 5 17:26:06 2020 -0400

    Lift literals in Map (#2898)
    
    Any RelationExpr::Map with literal arguments can have them extracted, potentially removing the need for the map. This transformation is one mechanism to alter the shape of relations: if certain columns are not required, a default value can be placed using a map, and that literal then lifted and absorbed up in the AST.

commit 5922940b56d5994b7105b36c030ac2ba6201f359
Merge: 0a2b176d7 49a8250e3
Author: Ruchir Khaitan <ruchir0001@gmail.com>
Date:   Tue May 5 16:36:11 2020 -0400

    Merge pull request #2906 from ruchirK/rk-2903
    
    sql: add WITH option for users to specify sink replication factor

commit 49a8250e33c8227a3b342fc12b294dd49792d052
Author: Ruchir Khaitan <ruchir0001@gmail.com>
Date:   Tue May 5 12:28:42 2020 -0400

    sql: add WITH option for users to specify sink replication factor
    
    Touches #2903
    
    Default to replication factor = 3

commit 0a2b176d7a3ebf887b02cdf97a691ee9c82593c2
Author: Brennan Vincent <brennan@materialize.io>
Date:   Tue May 5 16:10:48 2020 -0400

    Don't validate the schema for every sink message in release builds (#2907)

commit 24c124e19b140623ff4995d62af93d7dbea15307
Author: JLDLaughlin <jessica@materialize.io>
Date:   Tue May 5 13:08:12 2020 -0400

    PR comments

commit 3c5883cb5abdad7bf5be31dc211ca0eac6fff729
Author: Brennan Vincent <brennan@materialize.io>
Date:   Tue May 5 11:56:13 2020 -0400

    update openssl-src (#2904)

commit bdafe8b78396913bd44a6b927a5dff864b84df67
Author: Brennan Vincent <brennan@materialize.io>
Date:   Tue May 5 11:46:25 2020 -0400

    fix typo in pipeline.template.yml (#2905)

commit 58605d3dc18541b8f88b614a7b08e5be3829694f
Merge: 7294f7120 6850db760
Author: Sean Loiselle <sean@materialize.io>
Date:   Tue May 5 11:43:45 2020 -0400

    Merge pull request #2902 from sploiselle/diagram-fix-text-kafka
    
    docs: fix RR diagram for text over Kafka

commit 7294f7120512f8fb57f49c61ce3b0e9f511b04f5
Merge: db958c92c bb52a3271
Author: Justin Jaffray <justin.jaffray@gmail.com>
Date:   Tue May 5 11:22:36 2020 -0400

    Merge pull request #2896 from justinj/overflow
    
    Use checked_* for integer addition/subtraction

commit 6de66c7333f3cd20cd9b039c56c534b667020fb7
Merge: 51c7c86d8 db958c92c
Author: JLDLaughlin <jessica@materialize.io>
Date:   Tue May 5 11:16:42 2020 -0400

    Merge master, CREATE SOURCE changes

commit 6850db760e4712e5d9ddda3cdd131808f496c785
Author: Sean Loiselle <himself@seanloiselle.com>
Date:   Tue May 5 11:07:39 2020 -0400

    docs: fix RR diagram for text over Kafka

commit db958c92c72f2e0aca98cfab294d25b172569d1e
Author: Brennan Vincent <brennan@materialize.io>
Date:   Tue May 5 08:10:56 2020 -0400

    re-enable publishing of materialized-unstable (#2901)

commit 607989a937c8bdea6c66f4df756be659e0568f13
Author: Frank McSherry <fmcsherry@me.com>
Date:   Mon May 4 23:10:24 2020 -0400

    correct any/all implementations (#2899)

commit 53d1dfc7bd5f94703928e7d1f3f423dd4264137f
Author: Nikhil Benesch <nikhil.benesch@gmail.com>
Date:   Sun Apr 26 18:34:10 2020 -0400

    repr: further optimize formatting list elements
    
    A tiny bit of unsafe code allows us to avoid allocating entirely when
    formatting lists.

commit 4fcdff658f50f411c1444095baf7764243effa86
Author: Nikhil Benesch <nikhil.benesch@gmail.com>
Date:   Sun Apr 26 14:32:09 2020 -0400

    repr: adjust output representation for lists
    
    Lists within lists do not need to be escaped.
    
    Fix #2777.

commit f113f7b378a2834e2aaffcbccba1c133d74ecae8
Merge: 51fc3293f 4c8ef5668
Author: Nikhil Benesch <nikhil.benesch@gmail.com>
Date:   Mon May 4 21:22:29 2020 -0400

    Merge pull request #2872 from benesch/rm-www
    
    www: remove all traces of old marketing website

commit 936f59dba0fbcca3214e65285fa2b99318abc51b
Author: Nikhil Benesch <nikhil.benesch@gmail.com>
Date:   Sun Apr 26 12:43:58 2020 -0400

    repr: add list formatting benchmark

commit 137a434b6affd75a317ab5a52ae6dca772b71748
Author: Nikhil Benesch <nikhil.benesch@gmail.com>
Date:   Sun Apr 26 00:03:41 2020 -0400

    test/js: basic tests for list parameter decoding

commit ca14d3b0801f2048da6abae0bf157de094d600dd
Author: Nikhil Benesch <nikhil.benesch@gmail.com>
Date:   Sat Apr 25 22:50:12 2020 -0400

    pgrepr: preserve error more carefully

commit f2a89374241da6efc7a7f5a0616029ebb22f51ba
Author: Nikhil Benesch <nikhil.benesch@gmail.com>
Date:   Sat Apr 25 22:42:40 2020 -0400

    repr,pgrepr: avoid some clones when formatting lists

commit b70171376a0442d3cfd11754022c53747e504760
Author: Nikhil Benesch <nikhil.benesch@gmail.com>
Date:   Sat Apr 25 19:36:46 2020 -0400

    pgrepr: have Value::from_datum take ScalarType, not ColumnType
    
    It only needs the ScalarType, so doing it this way avoids synthesizing a
    ColumnType for lists.

commit 4c98b6599aa39315725962aa834325804736c989
Author: Nikhil Benesch <nikhil.benesch@gmail.com>
Date:   Sat Apr 25 22:39:23 2020 -0400

    pgrepr: avoid cloning Type
    
    Value::into_datum and Value::decode* are perfectly happy to take Type by
    reference, which avoids a lot of clones.

commit 51fc3293fb41a08985df608a495b4924e0f07cb7
Merge: 259562a8d eac03e227
Author: Nikhil Benesch <nikhil.benesch@gmail.com>
Date:   Mon May 4 20:03:23 2020 -0400

    Merge pull request #2875 from MaterializeInc/dependabot/cargo/thiserror-1.0.16
    
    build(deps): bump thiserror from 1.0.15 to 1.0.16

commit 259562a8d117930df42183f48debd15c6889e73f
Author: Jessica Laughlin <JLDLaughlin@users.noreply.github.com>
Date:   Mon May 4 18:41:53 2020 -0400

    Update CREATE SOURCE for Kinesis sources (#2886)
    
    Updates to creating Kinesis clients via credentials found by a chain provider,
    only using static access_key and secret_access_key strings if provided.

commit 698509a648f864d3838a8ed8f4342a3e1d591715
Merge: 785ae3b45 21b320519
Author: Sean Loiselle <sean@materialize.io>
Date:   Mon May 4 18:40:11 2020 -0400

    Merge pull request #2897 from sploiselle/auth-release-notes
    
    release notes: Kafka SSL & krb5 auth

commit 785ae3b458074b20be8632eb72081112268d3d5c
Merge: 6fdc4164d 28a24856d
Author: Nikhil Benesch <nikhil.benesch@gmail.com>
Date:   Mon May 4 18:15:20 2020 -0400

    Merge pull request #2894 from benesch/ci-test
    
    ci: improve names of ssl/krb5 testdrive jobs

commit 21b32051983ae7e48409d454ea13c7b19eaf964a
Author: Sean Loiselle <himself@seanloiselle.com>
Date:   Mon May 4 18:11:49 2020 -0400

    release notes: Kafka SSL & krb5 auth

commit 6fdc4164dcd065cfd46135e28234aefc2be08e2e
Merge: 39706dbf5 4ec327eb5
Author: Sean Loiselle <sean@materialize.io>
Date:   Mon May 4 18:05:50 2020 -0400

    Merge pull request #2887 from sploiselle/kafka-auth-docs
    
    docs: kafka auth docs

commit 4ec327eb5cb00008cad690e2140ecffc300be6c4
Author: Sean Loiselle <himself@seanloiselle.com>
Date:   Mon May 4 14:04:58 2020 -0400

    docs: kafka auth docs

commit 39706dbf5402f7edbe3046c4cec2d69f8f13ee39
Merge: e81ff1fa3 c0bc03b70
Author: Justin Jaffray <justin.jaffray@gmail.com>
Date:   Mon May 4 18:02:11 2020 -0400

    Merge pull request #2857 from justinj/generate_series
    
    Basic support for generate_series

commit bb52a327129204652a2bc514a383092a9da317e5
Author: Justin Jaffray <justin.jaffray@gmail.com>
Date:   Mon May 4 16:14:00 2020 -0400

    Use checked_* for integer addition/subtraction
    
    There's still some lingering unchecked operations, at least in the
    interval codepath, but I figured I'd do these simpler ones first to make
    sure this is the right change..

commit c0bc03b704c52768d0bec705469c4023e6cd90e3
Author: Justin Jaffray <justin.jaffray@gmail.com>
Date:   Mon May 4 11:37:06 2020 -0400

    Add generate_series to docs

commit 9865f126f4ff8162e1281dffc783794d2293b80e
Author: Justin Jaffray <justin.jaffray@gmail.com>
Date:   Thu Apr 30 22:20:19 2020 -0400

    Basic support for generate_series
    
    This change required generalizing FlatMapUnary to take multiple
    arguments.
    
    This commit does not add support for either of the three-argument
    versions of generate_series.

commit e81ff1fa3dbb78366d33bbb247b12504c5a66b23
Merge: 7f5948c84 172a80427
Author: Nikhil Benesch <nikhil.benesch@gmail.com>
Date:   Mon May 4 17:37:26 2020 -0400

    Merge pull request #2893 from benesch/from-misparse
    
    sql: don't wildly misparse trailing comma in SELECT list

commit 28a24856d3824ff9569410caab11aff4ee5876f4
Author: Nikhil Benesch <nikhil.benesch@gmail.com>
Date:   Mon May 4 17:26:43 2020 -0400

    ci: improve names of ssl/krb5 testdrive jobs
    
    These are Kafka specific, so mark them as such in the CI configuration,
    per @sploiselle's suggestion.
    
    Also, add a bunch of missing dependencies to the deploy job.

commit 7f5948c846479d9cce737efde995884f6c616e77
Merge: 08baf3d9c f9d4f8edf
Author: Nikhil Benesch <nikhil.benesch@gmail.com>
Date:   Mon May 4 17:21:57 2020 -0400

    Merge pull request #2888 from benesch/test-ssl
    
    test/ssl: reorganize into dedicated directory

commit 08baf3d9cd4abe232693342698c306aeb69876d6
Author: Brennan Vincent <brennan@materialize.io>
Date:   Mon May 4 16:50:19 2020 -0400

    Don't hang the client on parse errors (#2882)

commit 172a80427e561fcd7d8a7616a7f00d9b7f002ea2
Author: Nikhil Benesch <nikhil.benesch@gmail.com>
Date:   Mon May 4 16:40:57 2020 -0400

    sql: don't wildly misparse trailing comma in SELECT list
    
    A query like
    
        SELECT 1, 2, FROM foo WHERE blah
    
    would be erroneously parsed as
    
        SELECT 1, 2, "from" AS foo WHERE blah
    
    which was baffling to both users and developers.
    
    Fix this by disallowing "FROM" as an identifier in any expression
    anywhere. This is technically a backwards-incompatible change, but
    almost surely no one was relying upon this behavior.
    
    Fix #2517.

commit d75a3c5b3c8425d23bb7e68eefacf26460e92aaa
Merge: 8f09ed9c2 0c643fd07
Author: Nikhil Benesch <nikhil.benesch@gmail.com>
Date:   Mon May 4 16:18:02 2020 -0400

    Merge pull request #2890 from benesch/push-unstable
    
    ci: push "unstable" tags for Docker images

commit 0c643fd07383d8d80a55ca85e9750b48a9a7f7a0
Author: Nikhil Benesch <nikhil.benesch@gmail.com>
Date:   Mon May 4 16:12:48 2020 -0400

    ci: push "unstable" tags for Docker images
    
    The "unstable" tag will refer to the latest image built from the tip of
    master.

commit 8f09ed9c2a2dc1cf94e76040dc1f35ed0c42968a
Merge: 4933aff5b 5c771b1da
Author: Nikhil Benesch <nikhil.benesch@gmail.com>
Date:   Mon May 4 16:05:18 2020 -0400

    Merge pull request #2889 from benesch/passthru-buildkite-commit
    
    ci: pass through BUILDKITE_COMMIT environment variable

commit 5c771b1da5e1a1126cbd78936a611b1339d19513
Author: Nikhil Benesch <nikhil.benesch@gmail.com>
Date:   Mon May 4 15:56:29 2020 -0400

    ci: pass through BUILDKITE_COMMIT environment variable
    
    The test job was not properly triggering the deploy job due to this
    missing environment variable.

commit f9d4f8edfb95d62c90e7056baa5dce1fe6440773
Author: Nikhil Benesch <nikhil.benesch@gmail.com>
Date:   Mon May 4 15:47:52 2020 -0400

    test/ssl: reduce test script to essentials
    
    We only need to test that the connection is working properly. We can
    leave the other validations to the non-SSL tests. Should speed things up
    a bit.

commit a9b5a33925f51463e4a98c6b8bf6394853f0b2a0
Author: Nikhil Benesch <nikhil.benesch@gmail.com>
Date:   Mon May 4 13:32:06 2020 -0400

    test/ssl: simplify compose configurations

commit 4933aff5b1a859a22254155a2065d393939e6539
Author: Frank McSherry <fmcsherry@me.com>
Date:   Mon May 4 15:33:12 2020 -0400

    Announce names of catalog entries (#2884)
    
    Catalog entries found on start up were not announced as they are in catalog_transact. This led to a mz_catalog_names view that did not match the registered catalog entries.
    
    Fixes #2883

commit 757dd525de459b5655a04a1039848fda852404b4
Author: Brennan Vincent <brennan@materialize.io>
Date:   Mon May 4 15:26:31 2020 -0400

    Write materialized version and other relevant info to log file (#2879)

commit c9f5835328e9ccb335f24f1c3828726be1743fe0
Merge: b8b5d278b ce4a27df2
Author: Brandon W Maister <bwm@materialize.io>
Date:   Mon May 4 14:40:42 2020 -0400

    Merge pull request #2885 from quodlibetor/dashboard-docs
    
    Improve dashboard documentation

commit ce4a27df249e7d8ed4cd3c776239d6af950df4f0
Author: Brandon W Maister <bwm@materialize.io>
Date:   Fri May 1 14:07:18 2020 -0400

    Document changing the user docker runs as when mounting prometheus data

commit 78afea66b6a162a8293a0e9e05fad7fd77c08c8e
Author: Brandon W Maister <bwm@materialize.io>
Date:   Fri May 1 14:06:46 2020 -0400

    Make monitoring docs explain why it's not designed for production

commit b8b5d278b704b9b15ede5fc81025f03d3e8997f6
Merge: d329bc3a4 48460d95f
Author: Nikhil Benesch <nikhil.benesch@gmail.com>
Date:   Mon May 4 13:59:55 2020 -0400

    Merge pull request #2881 from benesch/krb5-bin
    
    test/krb5: wrangle kerberos configuration

commit 0ab99d61fd5b150ddc78a035689e4eb4519b2ffe
Author: Nikhil Benesch <nikhil.benesch@gmail.com>
Date:   Mon May 4 13:07:04 2020 -0400

    testdrive: move SSL tests to dedicated directory
    
    This way they mirror the krb5 tests and keep all the SSL stuff together.

commit 48460d95f6f66dd04b140a80fb38a8a9ef1b7891
Author: Nikhil Benesch <nikhil.benesch@gmail.com>
Date:   Mon May 4 12:36:51 2020 -0400

    ci: rebuild docker-compose containers if necessary
    
    It's crazy that this isn't the docker-compose default, but it isn't.

commit e13e4508049ecff0e5bce42413bfd64b329e0279
Author: Nikhil Benesch <nikhil.benesch@gmail.com>
Date:   Mon May 4 12:07:36 2020 -0400

    test/krb5: have kdc log to stderr
    
    This is conventional for Docker containers.

commit d9287f8272e8077b3004624667fbf227cfe7acc6
Author: Nikhil Benesch <nikhil.benesch@gmail.com>
Date:   Mon May 4 11:10:06 2020 -0400

    test/krb5: use more conventional "kafka" service name
    
    Using "broker" is a strange Confluent-ism.

commit 3c8ca49d313d4c2810db163ed950a09fe51d6ff0
Author: Nikhil Benesch <nikhil.benesch@gmail.com>
Date:   Mon May 4 10:43:34 2020 -0400

    test/krb5: cull unnecessary krb5 configurations

commit 58ac67ab803f1d7ccbd47ca00904ba91aba3368d
Author: Nikhil Benesch <nikhil.benesch@gmail.com>
Date:   Mon May 4 10:34:38 2020 -0400

    test/krb5: ditch krb5.local network
    
    The default Docker Compose networking works ok.

commit 837fd91df5cbf4814bf3becd2072c6cbdb6a63b9
Author: Nikhil Benesch <nikhil.benesch@gmail.com>
Date:   Mon May 4 10:29:51 2020 -0400

    test/krb5: ditch explicit hostname configuration
    
    The default hostnames actually work just fine now.

commit 9dfcf03eaafe3eb966608e3ad166d4ed98125e1c
Author: Nikhil Benesch <nikhil.benesch@gmail.com>
Date:   Mon May 4 10:26:58 2020 -0400

    test/krb5: disable zookeeper client hostname canonicalization
    
    This means we're not reliant on the reverse DNS lookup of the zookeeper
    IP, which Docker Compose really wants to be in charge of.

commit c362e95b443c93bc23e68943fd375a327685c51c
Author: Nikhil Benesch <nikhil.benesch@gmail.com>
Date:   Mon May 4 10:08:05 2020 -0400

    test/krb5: cull some unnecessary environment variables

commit 19c49417f7c0d76cf04df9d1ca3a2c21c587c477
Author: Nikhil Benesch <nikhil.benesch@gmail.com>
Date:   Mon May 4 01:45:17 2020 -0400

    test/krb5: correct wait-for-it

commit c20814f441344651aee12a14c6d70a6831a45808
Author: Nikhil Benesch <nikhil.benesch@gmail.com>
Date:   Mon May 4 01:43:23 2020 -0400

    testdrive: move krb5 test to test/krb5
    
    It's nice to have all the krb5 stuff in one place. It's not like
    int-krb5.td is really useful outside of this test harness anyway.

commit 74cad884bb6522c8d9629ac1e220d6b1c866a6fd
Author: Nikhil Benesch <nikhil.benesch@gmail.com>
Date:   Mon May 4 01:38:23 2020 -0400

    test/krb5: remove tmp/mzdata volumes
    
    We're only interested in a basic test of krb5 support, so we don't need
    to bother with more advanced testdrive features that require shared
    volumes.

commit 93e3423abe9923765a34811a61da036580e102c0
Author: Nikhil Benesch <nikhil.benesch@gmail.com>
Date:   Mon May 4 01:35:24 2020 -0400

    test/krb5: use single JAAS config

commit 95abe7a917ceab9e9c163be928696b1435b09197
Author: Nikhil Benesch <nikhil.benesch@gmail.com>
Date:   Mon May 4 01:29:52 2020 -0400

    test/krb5: use standard mzcompose.yml naming
    
    Since we have a dedicated directory for the krb5 test (unlike the SSL
    test at the moment), we can get all the standard mzcompose niceties if
    we use the standard mzcompose.yml name.

commit d329bc3a4bee047f4be5880364ecfdc6e300f6ed
Merge: f6f54db2d aaa23f603
Author: Brandon W Maister <bwm@materialize.io>
Date:   Mon May 4 11:16:55 2020 -0400

    Merge pull request #2838 from quodlibetor/dashboard-logging
    
    dashboard: Add a program that prefixes logs with the name of their service

commit f6f54db2d408fd2f37bdc4067c7240c76d984e75
Merge: 5b8c9d99d 411031682
Author: Nikhil Benesch <nikhil.benesch@gmail.com>
Date:   Mon May 4 11:13:51 2020 -0400

    Merge pull request #2871 from benesch/krb5-bin
    
    materialized,testdrive: include kinit and kdestroy in Docker images

commit 5b8c9d99d9777e4876fa461f6c837f213865df8d
Merge: 9099a9400 a4d778490
Author: Brandon W Maister <bwm@materialize.io>
Date:   Mon May 4 11:11:44 2020 -0400

    Merge pull request #2859 from quodlibetor/release-updates
    
    Update release checklist

commit 9099a94006d5c256b3397b07bc4a40053fff917c
Author: Brennan Vincent <brennan@materialize.io>
Date:   Mon May 4 10:53:44 2020 -0400

    Use RTEs to handle I/O errors in file sources (#2841)

commit 623244ae7a24005beace833a5b157e19ae1ff0f5
Merge: 94077c5cf ae2c0a1d6
Author: Nikhil Benesch <nikhil.benesch@gmail.com>
Date:   Mon May 4 09:55:09 2020 -0400

    Merge pull request #2864 from benesch/deb-fixups
    
    deb: various fixups

commit eac03e227469f4a186e5b1f076953d66ab855b40
Author: dependabot-preview[bot] <27856297+dependabot-preview[bot]@users.noreply.github.com>
Date:   Mon May 4 13:52:14 2020 +0000

    build(deps): bump thiserror from 1.0.15 to 1.0.16
    
    Bumps [thiserror](https://github.com/dtolnay/thiserror) from 1.0.15 to 1.0.16.
    - [Release notes](https://github.com/dtolnay/thiserror/releases)
    - [Commits](https://github.com/dtolnay/thiserror/compare/1.0.15...1.0.16)
    
    Signed-off-by: dependabot-preview[bot] <support@dependabot.com>

commit 94077c5cfcaa72aadc775181ec8020dab221e6ba
Merge: 91aa59fdf 35892b668
Author: Nikhil Benesch <nikhil.benesch@gmail.com>
Date:   Mon May 4 09:50:36 2020 -0400

    Merge pull request #2878 from MaterializeInc/dependabot/cargo/serde_json-1.0.52
    
    build(deps): bump serde_json from 1.0.51 to 1.0.52

commit 91aa59fdf55eb1bae0a2c7ff7df662c87f48aff5
Merge: 8b4ec9d1e 8da772f81
Author: Nikhil Benesch <nikhil.benesch@gmail.com>
Date:   Mon May 4 09:50:27 2020 -0400

    Merge pull request #2876 from MaterializeInc/dependabot/cargo/failure-0.1.8
    
    build(deps): bump failure from 0.1.7 to 0.1.8

commit 8b4ec9d1e759cb70b3e872d4513d86a3a1505c98
Merge: 33d34a4b0 5aa20f038
Author: Nikhil Benesch <nikhil.benesch@gmail.com>
Date:   Mon May 4 09:50:16 2020 -0400

    Merge pull request #2874 from MaterializeInc/dependabot/cargo/tokio-0.2.20
    
    build(deps): bump tokio from 0.2.19 to 0.2.20

commit 35892b668eeae3824dabb1c08efe65bf53e4ffc7
Author: dependabot-preview[bot] <27856297+dependabot-preview[bot]@users.noreply.github.com>
Date:   Mon May 4 10:55:00 2020 +0000

    build(deps): bump serde_json from 1.0.51 to 1.0.52
    
    Bumps [serde_json](https://github.com/serde-rs/json) from 1.0.51 to 1.0.52.
    - [Release notes](https://github.com/serde-rs/json/releases)
    - [Commits](https://github.com/serde-rs/json/compare/v1.0.51...v1.0.52)
    
    Signed-off-by: dependabot-preview[bot] <support@dependabot.com>

commit 8da772f810df3c19363f087e06f7062cb0f12ea7
Author: dependabot-preview[bot] <27856297+dependabot-preview[bot]@users.noreply.github.com>
Date:   Mon May 4 10:53:37 2020 +0000

    build(deps): bump failure from 0.1.7 to 0.1.8
    
    Bumps [failure](https://github.com/rust-lang-nursery/failure) from 0.1.7 to 0.1.8.
    - [Release notes](https://github.com/rust-lang-nursery/failure/releases)
    - [Changelog](https://github.com/rust-lang-nursery/failure/blob/master/RELEASES.md)
    - [Commits](https://github.com/rust-lang-nursery/failure/commits)
    
    Signed-off-by: dependabot-preview[bot] <support@dependabot.com>

commit 5aa20f03811534a0723641ec9c55c047974e1782
Author: dependabot-preview[bot] <27856297+dependabot-preview[bot]@users.noreply.github.com>
Date:   Mon May 4 10:52:30 2020 +0000

    build(deps): bump tokio from 0.2.19 to 0.2.20
    
    Bumps [tokio](https://github.com/tokio-rs/tokio) from 0.2.19 to 0.2.20.
    - [Release notes](https://github.com/tokio-rs/tokio/releases)
    - [Commits](https://github.com/tokio-rs/tokio/compare/tokio-0.2.19...tokio-0.2.20)
    
    Signed-off-by: dependabot-preview[bot] <support@dependabot.com>

commit 411031682d886ac164d47be1155ffb10625ba2f9
Author: Nikhil Benesch <nikhil.benesch@gmail.com>
Date:   Sun May 3 23:13:42 2020 -0400

    materialized,testdrive: include kinit and kdestroy in Docker images
    
    materialized now statically links libkrb5, but an important part of
    Kerberos is the kinit binary, which obtains the initial
    ticket-granting ticket and is invoked automatically by librdkafka.  This
    binary is normally supplied by the krb5-user package, or the equivalent
    on non-Debian systems, but since we're statically linking libkrb5 we
    need to provide our own statically-linked copy of kinit.
    
    It is in theory possible to use the distribution's kinit with our copy
    of libkrb5, but this can lead to all sorts of subtle problems if the
    distribution's kinit is from a significantly different version of
    libkrb5 than Materialize was linked against.
    
    For good measure, this commit includes kdestroy, since it is the
    complement of kinit. Additional binaries can be added if they prove to
    be necessary, but for now we'll limit it to these two to reduce the size
    of the resulting Docker image. (Each binary is ~2MB in size.)
    
    Fix #2869.

commit 33d34a4b064059605160a2b813f2a51f72f40720
Merge: e6db87a04 271a34c2a
Author: Nikhil Benesch <nikhil.benesch@gmail.com>
Date:   Mon May 4 01:09:58 2020 -0400

    Merge pull request #2873 from benesch/sql-func-yml
    
    www/data: use YAML instead of JSON for SQL function data

commit 271a34c2ad7de84a2f88178238b79d4fce5ff440
Author: Nikhil Benesch <nikhil.benesch@gmail.com>
Date:   Mon May 4 00:24:45 2020 -0400

    www/data: use YAML instead of JSON for SQL function data
    
    I find YAML to be a good bit more human-readable and editable when
    multiline strings are involved.

commit e6db87a04c1ddbefff82842282c3a7308695ae2c
Merge: 62e9ac14a f459897fd
Author: Sean Loiselle <sean@materialize.io>
Date:   Mon May 4 00:24:12 2020 -0400

    Merge pull request #2870 from sploiselle/kerberos-integration-test
    
    integration: test krb5 code

commit 4c8ef56684af9b3c0129bbbc6b2502987c771b40
Author: Nikhil Benesch <nikhil.benesch@gmail.com>
Date:   Mon May 4 00:10:51 2020 -0400

    www: remove all traces of old marketing website
    
    This is all managed externally in WordPress now.

commit f459897fdc6a9cfee1ff8770a53f735cd5f5d2ae
Author: Sean Loiselle <himself@seanloiselle.com>
Date:   Sun May 3 22:42:03 2020 -0400

    integration: test krb5 code

commit 62e9ac14a01feed47c7595784f40657cef3f3150
Merge: af29b80a8 cb8172795
Author: Nikhil Benesch <nikhil.benesch@gmail.com>
Date:   Sun May 3 19:59:02 2020 -0400

    Merge pull request #2865 from benesch/mzbuild-no-pull
    
    mzbuild: don't pass --pull to docker build

commit af29b80a867d7576ca42083420d956008f1dcb50
Merge: 2e22333f2 3862af3e2
Author: Andi Wang <5522362+wangandi@users.noreply.github.com>
Date:   Sun May 3 11:57:04 2020 -0400

    Merge pull request #2854 from wangandi/upsertavrofix
    
    Fix support for avro record in upsert.

commit 2e22333f2cdd08a255ec993be872c0afa4a12d89
Merge: 1717197f4 9d2ead38a
Author: Nikhil Benesch <nikhil.benesch@gmail.com>
Date:   Sun May 3 02:16:36 2020 -0400

    Merge pull request #2867 from benesch/ccsr-doc-bug
    
    ccsr: fix broken documentation comment

commit 1717197f43937ccd76d5721781b6326d866ba9aa
Author: Brandon W Maister <bwm@materialize.io>
Date:   Sat May 2 22:49:11 2020 -0400

    Update LICENSE and materialized version post 0.2.1 (#2863)

commit 9d2ead38a5dacdcfd12c1fc8a24bda77c430dfcb
Author: Nikhil Benesch <nikhil.benesch@gmail.com>
Date:   Sat May 2 22:35:59 2020 -0400

    ccsr: fix broken documentation comment

commit 43d745176b2890391bfa9d206b155801c01bf969
Merge: 073f6577f 98b2fd2d8
Author: Nikhil Benesch <nikhil.benesch@gmail.com>
Date:   Sat May 2 22:31:12 2020 -0400

    Merge pull request #2866 from benesch/remove-ore-macros
    
    ore: remove some ancient, dead macros

commit 98b2fd2d8a268f23a889845761ccfaf826be7d7a
Author: Nikhil Benesch <nikhil.benesch@gmail.com>
Date:   Sat May 2 19:21:51 2020 -0400

    ore: remove some ancient, dead macros
    
    These were used once, long ago, but have been dead code for months at
    least. They're not particularly idiomatic Rust, so just remove them.

commit cb8172795784212742f053cb022f6669858b5108
Author: Nikhil Benesch <nikhil.benesch@gmail.com>
Date:   Sat May 2 19:03:10 2020 -0400

    mzbuild: don't pass --pull to docker build
    
    If building an image where there is a FROM directive for an image that
    is not available on Docker Hub, `docker build --pull` will fail the
    entire build.
    
    The point of `--pull` was to pick up changes to base images on Docker
    Hub, but that's against the philosophy of mzbuild anyway, where images
    are immutable. Instead, we can refer to Ubuntu's immutable tags
    (bionic-20200403 instead of bionic, for example) and drop `--pull`. If
    we need to update to a newer version of Ubuntu, we simply update the
    version in the FROM line, and a normal `docker build`, without `--pull`,
    will fetch the new version.

commit ae2c0a1d6f58eb43e21591a8b84dcf8c9e98ff51
Author: Nikhil Benesch <nikhil.benesch@gmail.com>
Date:   Sat May 2 18:49:32 2020 -0400

    deb: quiet user creation
    
    adduser is very admonishing about the name we've chosen--a name we've
    chosen specifically to avoid the possibility of conflicting with an
    existing username--so jsut tell it to be quiet with the `--quiet` flag.

commit bcc89981ca3d508ab67b08c95563435045f0ec77
Author: Nikhil Benesch <nikhil.benesch@gmail.com>
Date:   Sat May 2 18:46:31 2020 -0400

    deb: fix systemd service thread configuration
    
    Explicitly specifying the desired number of threads is now required.

commit f00a137e9c7731b098e954c18dacf5f990632f23
Author: Nikhil Benesch <nikhil.benesch@gmail.com>
Date:   Sat May 2 18:37:06 2020 -0400

    deb: don't fail if systemd is missing
    
    This is modeled after how the nginx package handled systemd before it
    switched to dh_helper. [0] (Ideally we would use dh_helper, but that's
    not possible with cargo-deb.)
    
    [0]: https://bugs.debian.org/cgi-bin/bugreport.cgi?att=1;bug=713853;filename=0001-Switch-to-dh-systemd-making-packaging-easier-and-mor.patch;msg=5

commit d4d61c06d64585aba4ffc80aaf3b782357dc1b18
Author: Nikhil Benesch <nikhil.benesch@gmail.com>
Date:   Sat May 2 18:08:48 2020 -0400

    dist: move into misc
    
    These scripts are not important enough to warrant a top-level directory.

commit 92c9af3a4a05d55b302f29a377d82a3e7874732b
Author: Nikhil Benesch <nikhil.benesch@gmail.com>
Date:   Sat May 2 18:04:33 2020 -0400

    ci: build correct debian package for release
    
    Building the stable Debian package requires changing some metadata for
    cargo-deb.

commit a4d77849028f278d95d774a01d37fab9a0a94366
Author: Brandon W Maister <bwm@materialize.io>
Date:   Sat May 2 16:51:50 2020 -0400

    release: Move "Update master dev version" to just after the fork
    
    All commits after the release has been tagged are destined for the *next* release unless
    backported, so the materialized version strings should reflect that.

commit 9b430cebc2bac809028c37f93d67198984540195
Author: Brandon W Maister <bwm@materialize.io>
Date:   Sat May 2 16:24:51 2020 -0400

    release: We no longer need to manually create the deb package

commit d094bace68690342ac4969e9e448ebfc0c30fd85
Author: Brandon W Maister <bwm@materialize.io>
Date:   Sat May 2 12:41:18 2020 -0400

    release: Convert "Final Release" artifacts into headings
    
    Mostly aesthetic, this also allows linking directly to headings

commit 4838095e9e3d5a33d71a1257a10622111ff0fa0e
Author: Brandon W Maister <bwm@materialize.io>
Date:   Wed Apr 22 11:14:34 2020 -0400

    Update release checklist
    
    * Add creating a release issue to the beginning
    * Make it easier to follow by breaking out the steps more granularly
    * Hide a fairly large diff by default

commit 073f6577f0b435006275bedf09f422ed9d681bf4
Merge: 3dab7bfe0 3a318dc5e
Author: Nikhil Benesch <nikhil.benesch@gmail.com>
Date:   Sat May 2 12:53:25 2020 -0400

    Merge pull request #2861 from benesch/no-rustls
    
    ccsr: remove dependency on rustls

commit 3a318dc5e43864188bd8d2607b800fc96f842d54
Author: Nikhil Benesch <nikhil.benesch@gmail.com>
Date:   Sat May 2 00:24:39 2020 -0400

    ccsr: remove dependency on rustls
    
    See #2799. We're stuck with OpenSSL for librdkafka, and best not to have
    two crypto libraries in play.

commit 3dab7bfe0cbd5804cf2d493b3100c0c44a68dd0c
Merge: 9974fcfd1 132ee70d4
Author: Nikhil Benesch <nikhil.benesch@gmail.com>
Date:   Sat May 2 10:53:09 2020 -0400

    Merge pull request #2775 from benesch/batch-execute
    
    materialized: use new multi-statement execute support

commit 132ee70d47501ada7aaf7b27b9307957d5e1a3f6
Author: Nikhil Benesch <nikhil.benesch@gmail.com>
Date:   Sun Apr 26 22:31:05 2020 -0400

    pgwire: minorly clean up multi-statement execution

commit c982817ec571a3687768768fbb3abfeb4c353292
Author: Nikhil Benesch <nikhil.benesch@gmail.com>
Date:   Sat Apr 25 19:26:04 2020 -0400

    materialized: use new multi-statement execute support
    
    Use the new support for multi-statement execution requests to clean up
    some of our test code.

commit 9974fcfd14d531813a1934fbb306e65b962a7027
Merge: efce79eec 316f20367
Author: Nikhil Benesch <nikhil.benesch@gmail.com>
Date:   Sat May 2 00:28:26 2020 -0400

    Merge pull request #2840 from benesch/mzbuild-push
    
    ci: ensure all mzbuild images are pushed

commit efce79eec2cd94795e17c3d2be11031e18128ab5
Merge: 602c6bdbf 515979b3f
Author: Nikhil Benesch <nikhil.benesch@gmail.com>
Date:   Fri May 1 23:13:38 2020 -0400

    Merge pull request #2858 from benesch/ccsr-refactor
    
    ccsr: tidy up

commit 515979b3fa294d390e4d7eaf283bcf7fa6b2bc07
Author: Nikhil Benesch <nikhil.benesch@gmail.com>
Date:   Fri May 1 15:09:47 2020 -0400

    *: remove serde snake-case renaming
    
    This is no longer necessary, and leaving it around is just confusing.
    It's gotten cargo-culted in several places.

commit ee75625ebe1bf3ee5a421e8ff6235be46f277e89
Author: Nikhil Benesch <nikhil.benesch@gmail.com>
Date:   Fri May 1 15:07:31 2020 -0400

    ccsr: fill in all missing docs

commit 419ace58f067f007f47d808f81a7923e126f602b
Author: Nikhil Benesch <nikhil.benesch@gmail.com>
Date:   Fri May 1 14:32:47 2020 -0400

    ccsr: capitalize acronyms according to Rust style
    
    Rust capitalizes PEM as "Pem" and so on.

commit 7a84a6f8884480bc66eda9ae0a41f9d84ed771d1
Author: Nikhil Benesch <nikhil.benesch@gmail.com>
Date:   Fri May 1 14:07:02 2020 -0400

    ccsr: document all TLS methods
    
    Also avoid encoding URLs directly in the rustdoc. This will happen
    automatically when using bin/doc.

commit 602c6bdbfbe97dde15bc1a5cd0513676b28ca862
Merge: 39ec67830 48cc82a77
Author: Nikhil Benesch <nikhil.benesch@gmail.com>
Date:   Fri May 1 22:38:25 2020 -0400

    Merge pull request #2831 from benesch/release-notes-021
    
    doc/user: add release notes for v0.2.1

commit 39ec678306318e3e234729d6e3d591354a75beef
Merge: 4dc6ae2be d14abc9fe
Author: Nikhil Benesch <nikhil.benesch@gmail.com>
Date:   Fri May 1 22:34:41 2020 -0400

    Merge pull request #2855 from ruchirK/rk-fix-sinks
    
    dataflow: improve sink responsiveness and perf

commit 3862af3e284002b7a75bace1087d121b09a730c2
Author: Andi Wang <andi@materialize.io>
Date:   Fri May 1 13:05:41 2020 -0400

    Disable support for union of record + null in avro. Fix support for avro record in upsert.

commit d14abc9fe8ed261453e854ba1005367a625a1ec9
Author: Ruchir Khaitan <ruchir0001@gmail.com>
Date:   Fri May 1 17:43:37 2020 -0400

    make kafka producer flush on drop

commit 4dc6ae2bedfd6b4ef853f7c205fc1d56e25e9a33
Merge: c1e8fa1b0 025486204
Author: Ruchir Khaitan <ruchir0001@gmail.com>
Date:   Fri May 1 16:47:11 2020 -0400

    Merge pull request #2850 from ruchirK/rk-2522
    
    catalog: suppress log output for placeholder sink entries

commit f7e89adcf5b44d51ed1cd79b4b1a325a0ef29e48
Author: Ruchir Khaitan <ruchir0001@gmail.com>
Date:   Fri May 1 16:40:59 2020 -0400

    Reintroduce flush w/ 0ms timeout

commit 48cc82a773faf9f219a3c9d96bdcc5aac3736b07
Author: Nikhil Benesch <nikhil.benesch@gmail.com>
Date:   Wed Apr 29 17:32:55 2020 -0400

    doc/user: add release notes for v0.2.1

commit df6a36a29eab1898726e7937b173a52ef6ea2bf4
Author: Ruchir Khaitan <ruchir0001@gmail.com>
Date:   Fri May 1 16:12:11 2020 -0400

    Remove flush entirely

commit f4b9662e0f749b49ca8cee5a014bfeda031f7b9a
Author: Nikhil Benesch <nikhil.benesch@gmail.com>
Date:   Fri May 1 14:06:03 2020 -0400

    ccsr: document ClientConfig methods

commit 89fb922cb6b1c7fb45058656ade20a4ab065ec30
Author: Nikhil Benesch <nikhil.benesch@gmail.com>
Date:   Fri May 1 13:56:15 2020 -0400

    ccsr: make config builder the only interface
    
    It is unusual in Rust to have an object with a builder where the builder
    has a build method that construts the object, and the object has a new
    method that takes the builder. (If there is a way to create the object
    with a default config, then a new/default method that does not take a
    config is typical, but that's not the case here.)
    
    This patch makes ccsr::ClientConfig::build the only means of creating a
    ccsr::Client. It also adjusts the method to take ClientConfig by value,
    as is conventional, to avoid clones in the common case. On the rare
    occasion that the ClientConfig needs to be preserved, it can simply be
    cloned by the caller.

commit 58cba2388e96c6765c9223cc726881f556a9e704
Author: Nikhil Benesch <nikhil.benesch@gmail.com>
Date:   Fri May 1 13:00:14 2020 -0400

    ccsr: split into modules
    
    The main file was getting rather large. Split it into modules to make it
    more manageable. This commit is pure code movement.

commit 95da515de5464a92e7f8b48b5dd1c01b4b7d15ba
Author: Nikhil Benesch <nikhil.benesch@gmail.com>
Date:   Fri May 1 12:49:49 2020 -0400

    ccsr: delete synchronous client
    
    The synchronous client was always meant to be temporary. Port the last
    remaining user of the sync client over to the async client.

commit d88b7e7663c9c9f3079cdf166614caf78f479aab
Author: Ruchir Khaitan <ruchir0001@gmail.com>
Date:   Fri May 1 15:20:32 2020 -0400

    Update comments + downsize max buffer a bit

commit c0aaaf551a400f8edffa65759ecc4b8d42ef7c17
Author: Ruchir Khaitan <ruchir0001@gmail.com>
Date:   Fri May 1 14:24:52 2020 -0400

    dataflow: improve sink responsiveness and perf

commit aaa23f603415e4fb95099e978b6719b57c0ce1dc
Author: Brandon W Maister <bwm@materialize.io>
Date:   Fri May 1 13:43:37 2020 -0400

    dashboards: Reduce prometheus sql poll interval to 10s
    
    When the system is under load these can contribute to it, and they start timing out.

commit 3e99f046383e1dbbfb1193cbb3dccaad362397a7
Author: Brandon W Maister <bwm@materialize.io>
Date:   Thu Apr 30 15:05:37 2020 -0400

    dashboard-logs: Printing causes problems, so write to a file instead
    
    By default in ubuntu docker containers writing to /dev/stdout is similar to printing, but
    it doesn't share the same fileno as the actual stdout stream, which seems to mean that it
    doesn't have problems locking stdout when sharing file descriptors with supervisord.
    
    Additionally, because of the fact that FIFO files block their owning process if there is
    not both a reader and a writer attached, we need to open the same file in both modes,
    even though we're only reading from it.

commit 6aa01b99154e35b3879434595fe0976992829813
Author: Brandon W Maister <bwm@materialize.io>
Date:   Wed Apr 29 23:16:12 2020 -0400

    dashboard: Add a program that prefixes logs with the name of their service
    
    Having a bunch of services in a docker container is bad for a bunch of reasons, one of
    which is docker isn't really designed to handle that kind of logging.
    
    This works around that, to make it easier for us to debug.

commit 51c7c86d811982f83b31989d9fdfe6f0943d8d19
Author: JLDLaughlin <jessica@materialize.io>
Date:   Fri May 1 11:55:02 2020 -0400

    Debug print errors, remove mounted volume from mzcompose

commit c1e8fa1b06d8bc894d08b609bb7a1a054cb8cbab
Author: Jessica Laughlin <JLDLaughlin@users.noreply.github.com>
Date:   Fri May 1 11:47:50 2020 -0400

    Fix get_shard_ids bug (#2853)
    
    Insert all shard id strings to the set individually

commit b023f1c17b865bc1bc1967a665850a5d1feb38f0
Merge: 443986e9e 4b7cac916
Author: Justin Jaffray <justin.jaffray@gmail.com>
Date:   Fri May 1 07:23:15 2020 -0400

    Merge pull request #2849 from justinj/fix-demand
    
    Fix panic in demand analysis

commit 025486204f7dd6653be57ad5681e8efcf9bae43e
Author: Ruchir Khaitan <ruchir0001@gmail.com>
Date:   Fri May 1 00:15:25 2020 -0400

    catalog: suppress log output for placeholder sink entries
    
    Fixes #2522

commit 4b7cac9166c60a14bf91217ddd04c32a311ffba4
Author: Justin Jaffray <justin.jaffray@gmail.com>
Date:   Thu Apr 30 22:56:05 2020 -0400

    Fix panic in demand analysis
    
    Previously, we would inform the input to a FlatMapUnary that we
    expected it to produce even the column we ourselves were producing,
    which understandably caused it anguish. This change only asks for the
    columns the input is capable of producing. I couldn't find an existing
    place that set-returning functions were tested, so I added an SLT file.

commit 443986e9ee1e142c022b6f6e8d1e91cd6af2628c
Merge: c81cdb503 1ecfa669f
Author: Justin Jaffray <justin.jaffray@gmail.com>
Date:   Thu Apr 30 17:45:27 2020 -0400

    Merge pull request #2844 from justinj/fix-timestamp-usage
    
    Fix TAIL's use of TIMESTAMP{,TZ} as timestamps

commit d02242f348d48917f43fcec5f056a54f8825c4f3
Author: JLDLaughlin <jessica@materialize.io>
Date:   Thu Apr 30 16:46:37 2020 -0400

    simple-monitor -> dashboard

commit 6a04340cb7a33b26858093d586e481b8a8e78ac1
Author: JLDLaughlin <jessica@materialize.io>
Date:   Thu Apr 30 16:37:16 2020 -0400

    Move to test/, rename to perf-kinesis, use simple-monitor

commit c81cdb503621565580400163334b20e7afbc8c8f
Author: Brandon W Maister <bwm@materialize.io>
Date:   Thu Apr 30 15:31:20 2020 -0400

    dc.sh: support stopping a service that has been run multiple times (#2778)
    
    if you:
    
        $ dcsh run -d peeker
        $ dcsh run -d peeker
    
    that will result in two peekers running. Before now dc.sh would choke on that, with this
    change it stops them all.

commit b552437effb2d37324851fd91f43c840799d022f
Merge: b4dc283e6 9d71e19b7
Author: Nikhil Benesch <nikhil.benesch@gmail.com>
Date:   Thu Apr 30 15:26:26 2020 -0400

    Merge pull request #2847 from benesch/ore-feature
    
    ore: add missing dependency on tokio's time feature

commit b4dc283e69d4033b12034289dd8e81ba5eecc747
Author: Brandon W Maister <bwm@materialize.io>
Date:   Thu Apr 30 15:13:39 2020 -0400

    Fix dangling reference to grafana mzcompose service (#2848)
    
    It was left over from the transition to single-image monitoring

commit 1ecfa669fba8b478ff0868775be8f31f5bf5cec1
Author: Justin Jaffray <justin.jaffray@gmail.com>
Date:   Thu Apr 30 11:53:09 2020 -0400

    Fix TAIL's use of TIMESTAMP{,TZ} as timestamps
    
    This was inadvertedly using seconds since epoch instead of milliseconds.
    This commit changes it to use the milliseconds.
    
    I'd like to add a test for this, but I'm still not sure how to do so in
    a nice way, so I'll just include the promise that I tested this out by
    hand (thought I did last time, I guess I confused myself somehow),
    unless there are better ideas!

commit f94651996dba32f7018e28a468cdca54efc5eb65
Merge: edec61bbd ddf7c4088
Author: JLDLaughlin <jessica@materialize.io>
Date:   Thu Apr 30 13:13:12 2020 -0400

    Merge master

commit ddf7c4088df7bfadbaa2666a4caa7d0819464a3a
Author: Jessica Laughlin <JLDLaughlin@users.noreply.github.com>
Date:   Thu Apr 30 13:06:33 2020 -0400

    Remove failure from aws-util, kinesis source code (#2828)
    
    Replaces failure usages with anyhow

commit 7439f36f6e869b6c58b179f336ce6633ed7abc4c
Author: Jessica Laughlin <JLDLaughlin@users.noreply.github.com>
Date:   Thu Apr 30 12:45:47 2020 -0400

    Add reset_kinesis to testdrive cleanup (#2832)
    
    reset_kinesis will remove any Kinesis streams created from the
    current run of testdrive iff the testdrive run completes.

commit 9d71e19b7d0e8569446a439ad4b225538ce9ca46
Author: Nikhil Benesch <nikhil.benesch@gmail.com>
Date:   Thu Apr 30 12:22:17 2020 -0400

    ore: add missing dependency on tokio's time feature
    
    This got missed because it's not necessary when building the whole
    workspace, but it *is* necessary when running just repr's miri tests.

commit 256e0cc8547dd9436432aa428290a5f4755caf05
Merge: 5037a6e51 691348258
Author: Justin Jaffray <justin.jaffray@gmail.com>
Date:   Thu Apr 30 11:59:59 2020 -0400

    Merge pull request #2836 from justinj/sql
    
    Some small cleanups to RelationalExprs

commit 5037a6e511270624501950dc95390a8e18a293f7
Author: Jessica Laughlin <JLDLaughlin@users.noreply.github.com>
Date:   Thu Apr 30 11:59:44 2020 -0400

    Release notes: Kinesis multi-shard support (#2843)

commit 711505c1475c896da539edde96358ab1ee4240ed
Merge: e0642417e 05b5c7f6f
Author: Nikhil Benesch <nikhil.benesch@gmail.com>
Date:   Thu Apr 30 11:16:55 2020 -0400

    Merge pull request #2816 from benesch/metabase-demo
    
    test/metabase: validate basic integration with materialize via API

commit 691348258455e69b50bbd4d1b669605b6034721a
Author: Justin Jaffray <justin.jaffray@gmail.com>
Date:   Wed Apr 29 20:50:18 2020 -0400

    Some small cleanups to RelationalExprs
    
    I was reading through this to get a feel for the code and added some
    comments and renamed some stuff as I went.

commit e0642417e63bbc3884b03f298dc39f2eb337ff4a
Author: Brennan Vincent <brennan@materialize.io>
Date:   Thu Apr 30 10:19:50 2020 -0400

    Work around python3.6 timestamp parsing bug (#2842)

commit 0cbbc2b676f52593ebcbfef91b62b22031b2b687
Merge: 569c43cf5 c84b9f1e1
Author: Arjun Narayan <arjunravinarayan@gmail.com>
Date:   Thu Apr 30 09:37:25 2020 -0400

    Merge pull request #2833 from rjnn/fix_doc_link
    
    doc: fix broken link to monitoring dashboard

commit 569c43cf58364edaddeaf084944b2bde8e6763db
Author: Frank McSherry <fmcsherry@me.com>
Date:   Thu Apr 30 09:08:27 2020 -0400

    Extract arrangement frontier state (#2826)
    
    This PR extracts from the coordinator logic related to managing the frontier state of arrangements. These methods were previously member methods of the coordinator, rather than restricted to the index they act on. This is part of a progressive thinning out of tasks from the coordinator and in to comprehensible modules.

commit 316f203675b1cfc2f0c8d827ec0f6fee07d46afe
Author: Nikhil Benesch <nikhil.benesch@gmail.com>
Date:   Thu Apr 30 00:11:59 2020 -0400

    ci: ensure all mzbuild images are pushed
    
    If pushing an image fails (e.g. because the Docker Hub permissions are
    incorrect), that push won't be retried on subsequent CI builds, because
    the image will be available locally and the push will get skipped.
    
    Rework the build jobs so that all images are checked for existence on
    Docker Hub and pushed if they do not exist.

commit 05b5c7f6fee81d226164e2cfd30e79bacacea945
Author: Nikhil Benesch <nikhil.benesch@gmail.com>
Date:   Sun Apr 12 13:40:53 2020 -0400

    test/metabase: validate basic integration with materialize via API
    
    Add some smoke testing of Materialize and Metabase by using the Metabase
    API. The new test installs the Materialize connector in Metabase,
    creates a simple database with a simple table, and verifies that
    Metabase correctly reports this table's columns.
    
    Fix #2083.

commit a30c0fe8c2be5477c8759438a5a499d60059b9d4
Merge: 8202cd5a6 c8ac3d9d9
Author: Nikhil Benesch <nikhil.benesch@gmail.com>
Date:   Thu Apr 30 00:19:55 2020 -0400

    Merge pull request #2839 from benesch/testdrive-flakiness
    
    ci: run docker-compose down before docker-compose up

commit c8ac3d9d91698390e3d8cb9e8eb3bbd1d9c6066d
Author: Nikhil Benesch <nikhil.benesch@gmail.com>
Date:   Wed Apr 29 23:35:12 2020 -0400

    ci: run docker-compose down before docker-compose up
    
    Sometimes build cancellations cause Docker Compose to fail to clean up
    after itself, and those lingering containers and volumes can interfere
    with the next build.

commit 8202cd5a64ffcadbfc089a35b369375dbeb89fd2
Merge: 687b1df7a 1e2fefeba
Author: Nikhil Benesch <nikhil.benesch@gmail.com>
Date:   Wed Apr 29 23:12:27 2020 -0400

    Merge pull request #2829 from benesch/sql-ast-cleanup
    
    sql,sql-parser: assorted cleanups

commit 687b1df7adfb8ae5bf6a5b393afabcaca56599dd
Merge: 1f012b9c8 ace7bb622
Author: Sean Loiselle <sean@materialize.io>
Date:   Wed Apr 29 22:42:26 2020 -0400

    Merge pull request #2820 from sploiselle/client-ssl-support-tests
    
    integration: test Kafka SSL auth

commit 1e2fefeba35cb41af67be021ace82383c5ef50b8
Author: Nikhil Benesch <nikhil.benesch@gmail.com>
Date:   Wed Apr 29 17:22:32 2020 -0400

    sql: avoid unnecessary else branch indentation

commit a28cb782155f06bd676fdf89d221c33538125566
Author: Nikhil Benesch <nikhil.benesch@gmail.com>
Date:   Wed Apr 29 17:14:04 2020 -0400

    sql: limit places where we parse wildcards
    
    Wildcards are really special in SQL syntax, and can only appear
    unqualifed in a select list, like
    
        SELECT * FROM ...
    
    or inside of an aggregate function, like:
    
        count(*)
    
    Our parser previously permitted wildcards anywhere in an expression
    tree, which didn't make much sense. Adjust it so it only allows
    wildcards in the two places mentione dabove.

commit 1c3189fc0edf666177acac88fb5eea1b97103e2c
Author: Nikhil Benesch <nikhil.benesch@gmail.com>
Date:   Wed Apr 29 16:13:43 2020 -0400

    sql-parser: remove distinction between single and compound identifier
    
    Compound identifiers are fully general; there's no reason to special
    case single-element compound identifiers.

commit ace7bb6226a1cf69dd9d7bba3162e4ea8564e77d
Author: Sean Loiselle <himself@seanloiselle.com>
Date:   Wed Apr 22 15:07:52 2020 -0400

    integration: test Kafka SSL auth

commit c84b9f1e1d53a599372a96abe40fd9e0fea26bc8
Author: Arjun Narayan <arjun@materialize.io>
Date:   Wed Apr 29 18:40:26 2020 -0400

    docs: typo
    
    thanks Frank!

commit 81aa7e68407fd3522b9f2c5c6d607ed9fe1fdab0
Author: Arjun Narayan <arjun@materialize.io>
Date:   Wed Apr 29 18:26:50 2020 -0400

    doc: fix broken link to monitoring dashboard
    
    when rendered, it renders into a link under materialize.io, which is
    incorrect.

commit 1f012b9c8d59a2564485c6d87cc7ede860772097
Merge: 2412b4182 8ad2ea574
Author: Brandon W Maister <bwm@materialize.io>
Date:   Wed Apr 29 18:02:26 2020 -0400

    Merge pull request #2780 from quodlibetor/single-image-monitoring
    
    Add materialize/dashboard docker image

commit edec61bbd407da0fed3590597c1e9afbb7d5c688
Merge: 895be9f65 2412b4182
Author: JLDLaughlin <jessica@materialize.io>
Date:   Wed Apr 29 17:30:44 2020 -0400

    Merge master, remove testdrive dependency

commit 8ad2ea574cefa099796ae4088cc3c719d564df1f
Author: Brandon W Maister <bwm@materialize.io>
Date:   Wed Apr 29 12:40:44 2020 -0400

    dashboard: Change prometheus retention to max out at 1GB
    
    Or 15 days, whichever is smaller. 15 days is the default, this just makes it explicit.

commit 7a3dcd363b4b4f3149a9225d97981df59f93c923
Author: Brandon W Maister <bwm@materialize.io>
Date:   Sun Apr 26 17:09:44 2020 -0400

    Add dashboard to all our demos, replacing the old setup in chbench
    
    This uses the new mzbuild download-files pre-image plugin to build simple-monitor, and
    uses `mzbuild: simple-monitor` everywhere.

commit ba0363a0879451b30e455373a2575e8078a979b7
Author: Brandon W Maister <bwm@materialize.io>
Date:   Fri Apr 24 17:31:58 2020 -0400

    Provide an easy to use, pleasant monitoring experience
    
    This builds a new simple-monitor Docker repo which can be run with only one parameter,
    and gets you the most important metrics easily. It also makes it easy for us to provide
    updates to users.

commit 79d9cf634f805f3bd83469983946035edb049f99
Author: Brandon W Maister <bwm@materialize.io>
Date:   Sun Apr 26 12:50:42 2020 -0400

    mzbuild: support passing --build-args to docker-build
    
    I want this so that for some cases configuration doesn't need to live in both Dockerfile
    and build scripts, the mzbuild.yml file can become the single source of truth of all
    versions in the build.

commit 2412b418250e37d52ae1201e4e067a05d2b5819b
Author: Jessica Laughlin <JLDLaughlin@users.noreply.github.com>
Date:   Wed Apr 29 17:17:57 2020 -0400

    Rename kinesis-util -> aws-util (#2827)

commit 915c518264f77cf7ae2f0f023f0bdfe19ab0df1e
Merge: d9406649f 2ff02661e
Author: Andi Wang <5522362+wangandi@users.noreply.github.com>
Date:   Wed Apr 29 16:25:47 2020 -0400

    Merge pull request #2818 from wangandi/upsertreleasenotes
    
    Add missing avg to docs. Add release note for upsert.

commit 2ff02661e1ef6d7f2be177ba68083ac683fe13e9
Author: Andi Wang <andi@materialize.io>
Date:   Wed Apr 29 11:11:52 2020 -0400

    Add missing avg. Add release notes for upsert.

commit d9406649f9b93633fc042561fa83a0b241b33bf9
Author: Frank McSherry <fmcsherry@me.com>
Date:   Wed Apr 29 14:48:12 2020 -0400

    Pivot frontier structures to antichains (#2822)
    
    This tracks a differential dataflow change that exposes more Antichain<T> and AntichainRef<T> types in public APIs where things that were formerly Vec<T> and &[T] should actually be antichains.
    
    I think most of these changes are superficial, and lead us to more semantically clear things that we hand around.

commit 43eadc68dd04ec0923f06e695287a1cf485ba829
Author: Jessica Laughlin <JLDLaughlin@users.noreply.github.com>
Date:   Wed Apr 29 13:52:45 2020 -0400

    Move get_shard_iterator to kinesis-utils (#2819)

commit 895be9f6537a2cad82ddc4d2ec286dd7a1db899c
Merge: 3213d142d 575058263
Author: JLDLaughlin <jessica@materialize.io>
Date:   Wed Apr 29 13:09:46 2020 -0400

    Merge master for kinesis-util

commit 5750582631386bedcfaa34429e015161d3d945f7
Merge: 83f2152ae d1e0346ad
Author: Justin Jaffray <justin.jaffray@gmail.com>
Date:   Wed Apr 29 12:14:41 2020 -0400

    Merge pull request #2762 from justinj/tail-as-of
    
    Support TAIL ... AS OF ...

commit d1e0346ad901137d63455009c843e39369766375
Author: Justin Jaffray <justin.jaffray@gmail.com>
Date:   Thu Apr 23 09:46:27 2020 -0400

    Support TAIL ... AS OF ...
    
    Closes #2721.
    
    This commit permits the inclusion of an AS OF argument to TAIL, which
    causes TAIL to emit updates after that timestamp.
    
    It also allows WITH SNAPSHOT, which, if set, will move the timestamps of
    all events prior to the given timestamp up to the timestamp.

commit 83f2152ae4f0df2ba942e24e948e22ad2b0b98d5
Merge: 53c6608d5 e9f8c2ae4
Author: Sean Loiselle <sean@materialize.io>
Date:   Wed Apr 29 10:46:10 2020 -0400

    Merge pull request #2744 from sploiselle/client-ssl-support
    
    Support SSL auth for Kafka clusters

commit e9f8c2ae424f98b1f40eecc15c284a222419a318
Author: Sean Loiselle <himself@seanloiselle.com>
Date:   Tue Apr 28 10:55:37 2020 -0400

    config: address issues with  license

commit 1836ef29d3de259ea3399307e4378ceb672b54fe
Author: Sean Loiselle <himself@seanloiselle.com>
Date:   Wed Apr 22 15:07:25 2020 -0400

    integration: Kafka SSL auth

commit 53c6608d596824e18591aed2e4909b5d042bd177
Author: Brennan Vincent <brennan@materialize.io>
Date:   Wed Apr 29 10:15:00 2020 -0400

    fix typo (#2817)

commit 179d9f7b3cfb7210c9d688321962d0b53eecb913
Merge: ec762547b 1747673e7
Author: Nikhil Benesch <nikhil.benesch@gmail.com>
Date:   Tue Apr 28 23:57:33 2020 -0400

    Merge pull request #2815 from MaterializeInc/pyactivate
    
    pyactivate: reinstall venv iv dependencies are missing

commit 1747673e7f8cb78450f3be94d7000a509dbf0291
Author: Nikhil Benesch <nikhil.benesch@gmail.com>
Date:   Tue Apr 28 22:20:13 2020 -0400

    pyactivate: reinstall venv if dependencies are missing
    
    This prevents wedged virtual envs on Debian/Ubuntu when the python-venv
    is not installed.
    
    This fixes part of #2752.

commit ec762547b397122e000b73ce4c1941a1f8232473
Merge: 5c10925d3 04b93941c
Author: Nikhil Benesch <nikhil.benesch@gmail.com>
Date:   Tue Apr 28 21:31:40 2020 -0400

    Merge pull request #2801 from benesch/bump-sasl
    
    deps: bump librdkafka for proper gssapi support

commit 04b93941c081dd60795823d0b3bed26e7941524d
Author: Nikhil Benesch <nikhil.benesch@gmail.com>
Date:   Tue Apr 28 00:47:50 2020 -0400

    deps: bump librdkafka for proper gssapi support
    
    We weren't working hard enough before to statically link in GSSAPI
    support. That is now fixed with the latest version of rdkafka, with help
    from sasl2-sys and krb5-src. We are rapidly becoming the Rust
    authentication experts.

commit 5c10925d3a3f3351e6875bfee3652b08e3232246
Author: Jessica Laughlin <JLDLaughlin@users.noreply.github.com>
Date:   Tue Apr 28 19:32:45 2020 -0400

    Pull get_shard_ids into new kinesis-util crate (#2810)
    
    Creates a new kinesis-util crate for common implementations of wrappers
    around AWS Kinesis APIs.

commit 28ba1368e7829210411da6ed72e0653f30ee99c6
Author: Jessica Laughlin <JLDLaughlin@users.noreply.github.com>
Date:   Tue Apr 28 15:32:51 2020 -0400

    Rate limit Timestamper hitting Kinesis ListShards API (#2807)
    
    Actually hit the ListShards API every 100 iterations of Timestamper's
    update(), use a cached list of Shard ids otherwise.

commit 003951827d610bfe89760a5aeb20da66047e8cc9
Merge: e15fefff3 0200a0630
Author: Nikhil Benesch <nikhil.benesch@gmail.com>
Date:   Tue Apr 28 10:30:32 2020 -0400

    Merge pull request #2761 from benesch/testdrive-auto-topic-creation
    
    testdrive: disable automatic topic creation

commit e15fefff3ec7677e26a4361adb1500c8c06c5594
Author: Brennan Vincent <brennan@materialize.io>
Date:   Tue Apr 28 09:14:36 2020 -0400

    Quick check that a file exists when creating a source interactively  (#2459)

commit 26c261753621a7fe971672b11a9039f74f480fd5
Author: Frank McSherry <fmcsherry@me.com>
Date:   Mon Apr 27 21:26:00 2020 -0400

    implement as_of for sources (#2797)
    
    This PR updates source creation to respect the as_of component of a DataflowDesc. This was previously used for index imports, but not for sources. This may not have been a problem, as it was not clear that you could create a DataflowDesc that had an as_of set and used bare sources, but it is becoming possible so we should fix it up.

commit 33dc9a89996244034487b7dbbbd66e2d9d429369
Author: Frank McSherry <fmcsherry@me.com>
Date:   Mon Apr 27 21:25:15 2020 -0400

    Consolidate sink updates (#2798)
    
    Sinks were previously not consolidating their inputs, which lead to things like TAIL producing updates like (in #2767):
    
    \N      Diff: -1 at 1587733550550
    \N      Diff: 1 at 1587733550550
    Presumably we would also see these in other sinks, and committing them to output is not necessary.

commit 47ab3ebe0160ef61aaa79c4be5a885912dd66240
Author: Brennan Vincent <brennan@materialize.io>
Date:   Mon Apr 27 16:36:32 2020 -0400

    Add script to delete materialized-unstable binaries older than 14 days. (#2794)

commit 0c8d6db1a3380a0df0cad0b8aceb7c3ce955d735
Merge: 6e6600c53 5d342da52
Author: Nikhil Benesch <nikhil.benesch@gmail.com>
Date:   Mon Apr 27 16:02:52 2020 -0400

    Merge pull request #2782 from benesch/mzbuild-deleted-files
    
    mzbuild: don't panic on unstaged deletions

commit 6e6600c534acfdc24fd65c3565fbc0d5b9b98594
Author: Frank McSherry <fmcsherry@me.com>
Date:   Mon Apr 27 15:44:30 2020 -0400

    use count_total where appropriate (#2796)

commit de5ef9dae98c0cd7b9754507d3327f4f56b6f76f
Author: Brennan Vincent <brennan@materialize.io>
Date:   Mon Apr 27 12:18:34 2020 -0400

    fix `publish_wait_for_secs` spelling (#2793)

commit 7e773a88ad0837d311ac87faaa3b8c0f318325e2
Author: Brennan Vincent <brennan@materialize.io>
Date:   Mon Apr 27 12:04:05 2020 -0400

    Don't force Bintray usernames to the form user@materialize (#2792)

commit 089e7c09d89e5ceaf875d3419c7f36b162e712e8
Merge: 18dac8d66 b3ce2dbf8
Author: Nikhil Benesch <nikhil.benesch@gmail.com>
Date:   Mon Apr 27 12:02:53 2020 -0400

    Merge pull request #2785 from MaterializeInc/dependabot/cargo/criterion-0.3.2
    
    build(deps): bump criterion from 0.3.1 to 0.3.2

commit b3ce2dbf8644bea0878a24fa805cc49d3b33a315
Author: dependabot-preview[bot] <27856297+dependabot-preview[bot]@users.noreply.github.com>
Date:   Mon Apr 27 11:01:07 2020 +0000

    build(deps): bump criterion from 0.3.1 to 0.3.2
    
    Bumps [criterion](https://github.com/bheisler/criterion.rs) from 0.3.1 to 0.3.2.
    - [Release notes](https://github.com/bheisler/criterion.rs/releases)
    - [Changelog](https://github.com/bheisler/criterion.rs/blob/master/CHANGELOG.md)
    - [Commits](https://github.com/bheisler/criterion.rs/compare/0.3.1...0.3.2)
    
    Signed-off-by: dependabot-preview[bot] <support@dependabot.com>

commit 18dac8d667c00fbe57fe0f172dbe3c58fd067dd8
Author: Brennan Vincent <brennan@materialize.io>
Date:   Mon Apr 27 11:30:00 2020 -0400

    disable materialized-unstable uploads. (#2791)

commit 36e906380fe446c577ae662550185737c420ef3c
Merge: b42c0c276 c1fd0c2c4
Author: Nikhil Benesch <nikhil.benesch@gmail.com>
Date:   Mon Apr 27 11:29:32 2020 -0400

    Merge pull request #2788 from MaterializeInc/dependabot/cargo/tokio-0.2.19
    
    build(deps): bump tokio from 0.2.18 to 0.2.19

commit b42c0c276fbe2f657ee08737d7ff59def98a7cfa
Merge: 82f6d4474 84113dc56
Author: Nikhil Benesch <nikhil.benesch@gmail.com>
Date:   Mon Apr 27 11:29:12 2020 -0400

    Merge pull request #2789 from MaterializeInc/dependabot/cargo/tracing-subscriber-0.2.5
    
    build(deps): bump tracing-subscriber from 0.2.4 to 0.2.5

commit 82f6d44744527ac6bb61c34134e184a202bdf599
Merge: 20654a22e c7bda0088
Author: Natacha Crooks <nacrooks@gmail.com>
Date:   Mon Apr 27 11:20:56 2020 -0400

    Merge pull request #2743 from nacrooks/kafkabug
    
    Fixing issues with multi-partition Kafka streams

commit c1fd0c2c443f44982ee8217ef4de4e7c73eb9929
Author: dependabot-preview[bot] <27856297+dependabot-preview[bot]@users.noreply.github.com>
Date:   Mon Apr 27 14:59:30 2020 +0000

    build(deps): bump tokio from 0.2.18 to 0.2.19
    
    Bumps [tokio](https://github.com/tokio-rs/tokio) from 0.2.18 to 0.2.19.
    - [Release notes](https://github.com/tokio-rs/tokio/releases)
    - [Commits](https://github.com/tokio-rs/tokio/compare/tokio-0.2.18...tokio-0.2.19)
    
    Signed-off-by: dependabot-preview[bot] <support@dependabot.com>

commit 20654a22e887800dc66e9e783722f770807150e5
Merge: 429fe2dee b8bf950e8
Author: Nikhil Benesch <nikhil.benesch@gmail.com>
Date:   Mon Apr 27 10:57:39 2020 -0400

    Merge pull request #2787 from MaterializeInc/dependabot/cargo/structopt-0.3.14
    
    build(deps): bump structopt from 0.3.13 to 0.3.14

commit 429fe2deefe17c46487731ab6b9ef15f0ab3b04e
Merge: bf76b2c6b d6d1577f5
Author: Nikhil Benesch <nikhil.benesch@gmail.com>
Date:   Mon Apr 27 10:33:35 2020 -0400

    Merge pull request #2786 from MaterializeInc/dependabot/cargo/derivative-2.1.1
    
    build(deps): bump derivative from 2.1.0 to 2.1.1

commit 84113dc5680d33b5f7e81964e22ea767e36b7bda
Author: dependabot-preview[bot] <27856297+dependabot-preview[bot]@users.noreply.github.com>
Date:   Mon Apr 27 14:33:18 2020 +0000

    build(deps): bump tracing-subscriber from 0.2.4 to 0.2.5
    
    Bumps [tracing-subscriber](https://github.com/tokio-rs/tracing) from 0.2.4 to 0.2.5.
    - [Release notes](https://github.com/tokio-rs/tracing/releases)
    - [Commits](https://github.com/tokio-rs/tracing/compare/tracing-subscriber-0.2.4...tracing-subscriber/-0.2.5)
    
    Signed-off-by: dependabot-preview[bot] <support@dependabot.com>

commit bf76b2c6b8f2f90e56c70772e739fe4d31767038
Merge: 7b8b102cf 40cb41d57
Author: Nikhil Benesch <nikhil.benesch@gmail.com>
Date:   Mon Apr 27 10:31:10 2020 -0400

    Merge pull request #2784 from MaterializeInc/dependabot/cargo/smallvec-1.4.0
    
    build(deps): bump smallvec from 1.3.0 to 1.4.0

commit c7bda0088b5888ddbe0b36cfc43d34d6fc1275e8
Author: Natacha Crooks <nacrooks@gmail.com>
Date:   Thu Apr 23 10:36:37 2020 -0400

    Fix liveness and safety issues with multipartition
    Fixing corner-case where start_offset > current number of entries in topic

commit b8bf950e84a3393699523ea3e4523f590bbb6c5a
Author: dependabot-preview[bot] <27856297+dependabot-preview[bot]@users.noreply.github.com>
Date:   Mon Apr 27 14:10:49 2020 +0000

    build(deps): bump structopt from 0.3.13 to 0.3.14
    
    Bumps [structopt](https://github.com/TeXitoi/structopt) from 0.3.13 to 0.3.14.
    - [Release notes](https://github.com/TeXitoi/structopt/releases)
    - [Changelog](https://github.com/TeXitoi/structopt/blob/master/CHANGELOG.md)
    - [Commits](https://github.com/TeXitoi/structopt/compare/v0.3.13...v0.3.14)
    
    Signed-off-by: dependabot-preview[bot] <support@dependabot.com>

commit d6d1577f54764171eef2b6ee3809f80c55e5c963
Author: dependabot-preview[bot] <27856297+dependabot-preview[bot]@users.noreply.github.com>
Date:   Mon Apr 27 14:07:14 2020 +0000

    build(deps): bump derivative from 2.1.0 to 2.1.1
    
    Bumps [derivative](https://github.com/mcarton/rust-derivative) from 2.1.0 to 2.1.1.
    - [Release notes](https://github.com/mcarton/rust-derivative/releases)
    - [Changelog](https://github.com/mcarton/rust-derivative/blob/master/CHANGELOG.md)
    - [Commits](https://github.com/mcarton/rust-derivative/commits)
    
    Signed-off-by: dependabot-preview[bot] <support@dependabot.com>

commit 40cb41d57401bd6eb74272c50b140b9bfe4ce59d
Author: dependabot-preview[bot] <27856297+dependabot-preview[bot]@users.noreply.github.com>
Date:   Mon Apr 27 14:06:54 2020 +0000

    build(deps): bump smallvec from 1.3.0 to 1.4.0
    
    Bumps [smallvec](https://github.com/servo/rust-smallvec) from 1.3.0 to 1.4.0.
    - [Release notes](https://github.com/servo/rust-smallvec/releases)
    - [Commits](https://github.com/servo/rust-smallvec/compare/v1.3.0...v1.4.0)
    
    Signed-off-by: dependabot-preview[bot] <support@dependabot.com>

commit 7b8b102cf7180db83163b9a4e9fc8ab44b05b2fb
Merge: 7fd948ce6 acd08f0b6
Author: Nikhil Benesch <nikhil.benesch@gmail.com>
Date:   Mon Apr 27 10:03:53 2020 -0400

    Merge pull request #2783 from MaterializeInc/dependabot/cargo/rdkafka-c414a78
    
    build(deps): bump rdkafka from `5a5f284` to `c414a78`

commit 7fd948ce6e34daa43943d2b07af8c63c2265400b
Merge: acca70a02 f990d8723
Author: Nikhil Benesch <nikhil.benesch@gmail.com>
Date:   Mon Apr 27 10:03:19 2020 -0400

    Merge pull request #2781 from benesch/chbench-schema-registry
    
    chbench: remove custom schema-registry container

commit acd08f0b6d146a0fd4e666028ddd2d80f7179d0b
Author: dependabot-preview[bot] <27856297+dependabot-preview[bot]@users.noreply.github.com>
Date:   Mon Apr 27 11:00:20 2020 +0000

    build(deps): bump rdkafka from `5a5f284` to `c414a78`
    
    Bumps [rdkafka](https://github.com/fede1024/rust-rdkafka) from `5a5f284` to `c414a78`.
    - [Release notes](https://github.com/fede1024/rust-rdkafka/releases)
    - [Commits](https://github.com/fede1024/rust-rdkafka/compare/5a5f284b9d5cbe8ad2d44f268f51aa91a3a87614...c414a780f47fbfc9fa783cf47d0f09759f504edc)
    
    Signed-off-by: dependabot-preview[bot] <support@dependabot.com>

commit 5d342da52404372eb0fe5736ba643046929b67b0
Author: Nikhil Benesch <nikhil.benesch@gmail.com>
Date:   Sun Apr 26 21:41:20 2020 -0400

    mzbuild: don't panic on unstaged deletions
    
    Discovered by @quodlibetor. See the comment within for the full story.

commit f990d8723e5266b8c77cb22a4e421c36859aee1a
Author: Nikhil Benesch <nikhil.benesch@gmail.com>
Date:   Sun Apr 26 20:34:19 2020 -0400

    chbench: remove custom schema-registry container
    
    flush-tables is now run by the chbench container. Plus this avoids
    depending on a weirdly flaky `apt-get install` command; something about
    the Confluent images breaks APT.

commit acca70a020ac92b66db4004adcd41a5241b34657
Author: Brennan Vincent <brennan@materialize.io>
Date:   Sat Apr 25 19:05:59 2020 -0400

    Allow multiple statements in one SQL query (#2773)

commit b9071eaa736edaecb128ea43ce9efe5e85fd669a
Merge: 6db5fae7e cde443cae
Author: Brandon W Maister <bwm@materialize.io>
Date:   Sat Apr 25 14:52:29 2020 -0400

    Merge pull request #2769 from quodlibetor/dcsh-demo-load-creates-materialized-views
    
    dc.sh and peeker now support creating materialized sources

commit 6db5fae7e248da087bb0787aeef26b9228cdc4d7
Author: Brennan Vincent <brennan@materialize.io>
Date:   Sat Apr 25 11:39:30 2020 -0400

    bump rusqlite version (#2774)

commit 0200a0630e40412e0443f2764e6bf871c0fe6934
Author: Nikhil Benesch <nikhil.benesch@gmail.com>
Date:   Fri Apr 24 21:29:14 2020 -0400

    coord: don't loop forever on erroring metadata requests
    
    The timestamper could wedge forever in a Kafka metadata retrieval loop.
    This would prevent any sources from getting timestamped, leading to the
    system wedging. (This presented in CI as flakes in testdrive.)
    
    In particular, if a topic is deleted from Kafka before the timestamper
    is instructed to drop the source, the metadata requests on the topic
    will fail forever. If auto topic creation is enabled, as it previously
    was in CI, we would accidentally recreate the topic and break out of the
    loop; but with that setting disabled, we get stuck forever.
    
    Instead of assuming that every metadata request will succeed eventually,
    bubble the error up so that it can be handled appropriately.

commit 1765126b016a7b962d879d21c3714b930be965fe
Author: Nikhil Benesch <nikhil.benesch@gmail.com>
Date:   Thu Apr 23 16:41:46 2020 -0400

    testdrive: disable automatic topic creation
    
    Testdrive and Materialize often race to create the same topic. We want
    testdrive to win, as it issues actual create topic requests with
    specific partition counts, while Materialize is accidentally creating
    the topic via Kafka's auto-topic creation feature. Auto-topic creation
    is usually disabled in production, so it's actually more realistic to
    test with it off, anyway.
    
    This exposed we were forgetting to create topics in a few testdrive
    scripts.
    
    The hypothesis is that this is a cause of one the flakes described in

commit 2abbdafc8b5c36ecd595253ed228194f68296786
Merge: 0a2d3d356 ef9534463
Author: Nikhil Benesch <nikhil.benesch@gmail.com>
Date:   Fri Apr 24 16:08:25 2020 -0400

    Merge pull request #2764 from benesch/source-config
    
    dataflow: rework source configuration

commit 0a2d3d3568ddfbaf64bdc00bfe82ac59a970b7ce
Merge: 66f1ba1d4 e350041cd
Author: Nikhil Benesch <nikhil.benesch@gmail.com>
Date:   Fri Apr 24 16:06:26 2020 -0400

    Merge pull request #2768 from benesch/deemphasize-pgcompat
    
    doc: de-emphasize PostgreSQL compatiblitiy

commit e350041cd76f696f283f84fd20a53770c301a9b2
Author: Nikhil Benesch <nikhil.benesch@gmail.com>
Date:   Fri Apr 24 12:09:49 2020 -0400

    doc: de-emphasize PostgreSQL compatiblitiy
    
    We are decidedly not compatible with pgcli, so strike that from the
    docs. Also tone down the language about PostgreSQL compatibility to cut
    ourselves some slack.

commit ef95344631b8e231d8dd4c79c6f3164369b9ca77
Author: Nikhil Benesch <nikhil.benesch@gmail.com>
Date:   Thu Apr 23 19:43:09 2020 -0400

    dataflow: rework source configuration
    
    Put a few more parameters into the shared source configuration, so more
    logic can be shared between source configurations.
    
    This doesn't change any sematics.

commit 66f1ba1d48e54fa20e3fe560c85d7009a4e74aa7
Merge: d86a94e05 a520ffd1e
Author: Nikhil Benesch <nikhil.benesch@gmail.com>
Date:   Fri Apr 24 13:51:57 2020 -0400

    Merge pull request #2771 from benesch/mzimage-spec
    
    mzimage: add spec convenience subcommand

commit cde443cae6ba77f73468da3861ab17677572c1b4
Author: Brandon W Maister <bwm@materialize.io>
Date:   Fri Apr 24 12:02:30 2020 -0400

    dcsh demo-load --up to handle starting up demos

commit a520ffd1eb449f3e08beb40b3c5ef4e1020d724e
Author: Nikhil Benesch <nikhil.benesch@gmail.com>
Date:   Fri Apr 24 13:49:02 2020 -0400

    mzimage: add spec convenience subcommand
    
    Add a subcommand that prints out an image spec, like
    
        materialize/testdrive:mzbuild-U6WKRP7LGOLURBHYKVZK65KCY7MOXHZ4
    
    so that folks don't need to manually construct one from the output of
    `mzimage describe`.

commit d86a94e055ddb20485bea9bbaff23fd3b6481a21
Author: Brennan Vincent <brennan@materialize.io>
Date:   Fri Apr 24 13:04:24 2020 -0400

    Simplify timestamps (#2766)

commit 70dd366b7b6597446f8b64a96c089d864033ab97
Author: Brandon W Maister <bwm@materialize.io>
Date:   Fri Apr 24 11:31:57 2020 -0400

    runv: quote arguments to sub-processes

commit 68beb2618200e48283d2d4db9209e3fd69840d96
Author: Brandon W Maister <bwm@materialize.io>
Date:   Fri Apr 24 11:30:40 2020 -0400

    Make dc.sh demo-load create materialized sources

commit 6b3ecea370517e8b585e1be7e69344c484ef281f
Author: Brandon W Maister <bwm@materialize.io>
Date:   Fri Apr 24 11:04:12 2020 -0400

    peeker: allow configuring sources to be materialized

commit cd5f97d32f424739f5c12ef95c9d9de0aa4992eb
Merge: 3248fc335 7927db5b3
Author: Natacha Crooks <nacrooks@gmail.com>
Date:   Fri Apr 24 11:39:39 2020 -0400

    Merge pull request #2765 from nacrooks/tailing
    
    Fixing testdrive failure on file sources

commit 3248fc3350f09ebf4766b6445cca0fdf7cd2a2e2
Author: Ruchir Khaitan <ruchir0001@gmail.com>
Date:   Fri Apr 24 10:09:34 2020 -0400

    Add support for Smith fuzzer (#2754)
    
    Touches #1722

commit 7927db5b3a90e5288822f73f3c7f4781ae72a206
Author: Natacha Crooks <nacrooks@gmail.com>
Date:   Fri Apr 24 01:02:15 2020 -0400

    Removing stale comment

commit 6337f3db6536a4407222e67573f8a79bfc5f55d1
Author: Natacha Crooks <nacrooks@gmail.com>
Date:   Thu Apr 23 23:46:31 2020 -0400

    Missing field

commit c13ee0ed5a7b612dcb574b0c7f524aa518e497e8
Author: Natacha Crooks <nacrooks@gmail.com>
Date:   Thu Apr 23 23:35:56 2020 -0400

    Missing lib file

commit 9452dc58e1867daabb9f307d5facbb265d72fcf7
Author: Natacha Crooks <nacrooks@gmail.com>
Date:   Thu Apr 23 23:24:05 2020 -0400

    Making persistence of RT timestamp an optional feature (default off)

commit 01b28f98f36bb1318f23d970f75fbcb60fb2a65c
Author: Natacha Crooks <nacrooks@gmail.com>
Date:   Thu Apr 23 20:34:04 2020 -0400

    Adds mandatory activation of source after every timestamp update.

commit ce05fe6306e7ec7adeb2f5d2ebab699246c3a78f
Merge: 5d7d1545e b2874b270
Author: Jamie Brandon <jamie@scattered-thoughts.net>
Date:   Thu Apr 23 14:37:50 2020 -0700

    Merge pull request #2644 from jamii/datum-array
    
    Add a LIST type

commit 3213d142d8a3801801ba05320df5c31ef34dab6b
Author: JLDLaughlin <jessica@materialize.io>
Date:   Thu Apr 23 17:16:09 2020 -0400

    Add comments

commit b2874b270fb53630307e2049844376419404fc7d
Merge: a8416e2af 5d7d1545e
Author: Jamie Brandon <jamie@scattered-thoughts.net>
Date:   Thu Apr 23 13:26:03 2020 -0700

    Merge branch 'master' into datum-array

commit 161d7bfbf60e8d16a76f60e4170691553e234e2e
Author: JLDLaughlin <jessica@materialize.io>
Date:   Thu Apr 23 16:34:49 2020 -0400

    Better logging

commit 5d7d1545e6be7f84dcf8aab9233c40d51330b55e
Merge: e7e0539b5 169ac3e78
Author: Brandon W Maister <bwm@materialize.io>
Date:   Thu Apr 23 15:40:54 2020 -0400

    Merge pull request #2745 from quodlibetor/kafka-stream-tracking
    
    Add "messages distance behind kafka" prometheus metrics

commit 169ac3e781160d294bffae2ff9bc4a6711668f0b
Author: Brandon W Maister <bwm@materialize.io>
Date:   Wed Apr 22 22:00:17 2020 -0400

    Delete leftover commented-out code

commit 713645ebf09328361e43e67a73ff95ba56a40dfc
Author: Brandon W Maister <bwm@materialize.io>
Date:   Wed Apr 22 17:49:05 2020 -0400

    Add "messages distance behind kafka" prometheus metrics

commit 408b8e83bb4b57bdc01ed054767e200738a0b434
Author: Brandon W Maister <bwm@materialize.io>
Date:   Wed Apr 22 13:02:01 2020 -0400

    Tiny rust idiom refactor

commit e7e0539b5ea587559517e1c8dd02a0c61d69cd2e
Author: Brennan Vincent <brennan@materialize.io>
Date:   Thu Apr 23 14:10:04 2020 -0400

    Hide dashboard .json files in GitHub code review UI (#2758)

commit 67846167a5479cab47ba612c5e2feb44fa460ae2
Author: Brandon W Maister <bwm@materialize.io>
Date:   Thu Apr 23 14:01:34 2020 -0400

    Propagate uid-gid for prometheus (#2757)
    
    So that it can write to the WAL that it generates on startup

commit 535e7e2737713075287fa6ce7b8f6c086bf05f17
Merge: 3646c1ace 16b93619b
Author: Nikhil Benesch <nikhil.benesch@gmail.com>
Date:   Thu Apr 23 12:26:22 2020 -0400

    Merge pull request #2760 from benesch/ci-deb-fix
    
    ci/test: use bin/xcompile to invoke cargo deb

commit 16b93619ba202ec9088d8e355009755696c81c2a
Author: Nikhil Benesch <nikhil.benesch@gmail.com>
Date:   Thu Apr 23 12:22:28 2020 -0400

    ci/test: use bin/xcompile to invoke cargo deb
    
    This ensures that it looks in target/x86_64-unknown-linux-gnu/release
    for the binary instead of in target/release directly.

commit 3646c1ace5b5495aeee07d9761b1e51a44318295
Merge: ce1df2715 421c7ee7b
Author: Nikhil Benesch <nikhil.benesch@gmail.com>
Date:   Thu Apr 23 12:16:24 2020 -0400

    Merge pull request #2759 from benesch/chbench-cleanup
    
    demo/chbench: remove obsolete terraform/packer configuration

commit 421c7ee7b2e93e8efb17bd4fff863fefbf62c891
Author: Nikhil Benesch <nikhil.benesch@gmail.com>
Date:   Thu Apr 23 12:09:08 2020 -0400

    demo/chbench: remove obsolete terraform/packer configuration

commit ce1df27154c8887f71f78097a6faa71a97d1d198
Merge: eacdc6564 9eb861eee
Author: Justin Jaffray <justin.jaffray@gmail.com>
Date:   Thu Apr 23 12:02:16 2020 -0400

    Merge pull request #2756 from justinj/error-cat
    
    Refer to issue re: CREATE TABLE persistence

commit eacdc6564b69afa0e37135d1bfb77b58dc6f4f96
Merge: cbaa3d0ee 6d9bea486
Author: Justin Jaffray <justin.jaffray@gmail.com>
Date:   Thu Apr 23 11:49:34 2020 -0400

    Merge pull request #2667 from justinj/quotes
    
    Don't track quote styles with identifiers

commit 9eb861eee2770464b01794987cf389250cda1505
Author: Justin Jaffray <justin.jaffray@gmail.com>
Date:   Thu Apr 23 11:33:54 2020 -0400

    Refer to issue re: CREATE TABLE persistence

commit 6d9bea4863ddadac88f15e385b6d116fc8af2fba
Author: Justin Jaffray <justin.jaffray@gmail.com>
Date:   Wed Apr 15 11:04:26 2020 -0400

    Don't track quote styles with identifiers
    
    This commit simplifies (in some ways) the parser's handling of
    identifiers.
    
    Previously, to determine if an identifier needed to be quoted when being
    printed out, the parser would track if it was quoted when it was read
    in. This worked, but was a little clunky. After this change, we always
    store the identifier in its normalized form (i.e., if it was entered
    without quotes, it gets normalized, and if it was entered with quotes,
    it does not) and determine if it needs quoting only when it gets printed
    out.
    
    This leads to a small change in behaviour in some cases, as the
    capitalization of identifiers is now stripped away when it is not
    relevant.

commit cbaa3d0ee41b450a8b769531879340a165399a56
Merge: 3853b6af2 4c9989071
Author: Nikhil Benesch <nikhil.benesch@gmail.com>
Date:   Wed Apr 22 20:02:00 2020 -0400

    Merge pull request #2750 from benesch/run-miri
    
    ci: test miri when src/repr changes

commit 4c998907184ba32887e2ed27b10c858df6fa9474
Author: Nikhil Benesch <nikhil.benesch@gmail.com>
Date:   Wed Apr 22 19:50:29 2020 -0400

    ci: test miri when src/repr changes
    
    I missed this in #2746.

commit 3853b6af22eaec5d6ba58dccabed26548d72b2fc
Merge: 02df00400 d2630c49e
Author: Nikhil Benesch <nikhil.benesch@gmail.com>
Date:   Wed Apr 22 19:45:03 2020 -0400

    Merge pull request #2746 from benesch/quick-ci
    
    ci: speed things up

commit d2630c49e28843d047ba3076738a9185707e6bf2
Author: Nikhil Benesch <nikhil.benesch@gmail.com>
Date:   Wed Apr 22 19:25:56 2020 -0400

    ci-builder: adjust env configuration for uploading within container

commit 01e10cef3c8b4547c3c08f505741c32e47dd5d49
Author: Nikhil Benesch <nikhil.benesch@gmail.com>
Date:   Wed Apr 22 18:08:02 2020 -0400

    ci: only run steps whose inputs have changed
    
    Replace mkpipeline.sh with a Python implementation that can
    automatically track inputs in almost all cases. This means that CI will
    be both faster and less likely to skip a build that needs to be run.
    
    Touches #2695.

commit 9548c9078453e6e5df41d7abd40c040aac5e9d94
Author: Nikhil Benesch <nikhil.benesch@gmail.com>
Date:   Wed Apr 22 18:07:20 2020 -0400

    mzbuild: track input globs too
    
    Input globs can be used to determine whether the changes between two Git
    revisions have affected a particular image.

commit 4524cd75f3a106abdb5c27b072461c000fc0ab14
Author: Nikhil Benesch <nikhil.benesch@gmail.com>
Date:   Wed Apr 22 15:32:52 2020 -0400

    mzbuild: learn to compute transitive inputs

commit 1aa45ece040087bd05d82b915983a54da2ba8379
Author: Nikhil Benesch <nikhil.benesch@gmail.com>
Date:   Wed Apr 22 15:02:26 2020 -0400

    mzimage: use argparse
    
    This will allow more flexibile additions to the CLI in the future.

commit 02df00400b3ed2bf5ed1886d5f82d1c35f729472
Merge: 06be6748c fb0fa5361
Author: Nikhil Benesch <nikhil.benesch@gmail.com>
Date:   Wed Apr 22 19:09:39 2020 -0400

    Merge pull request #2747 from benesch/ssh-known-host
    
    ci: bake github.com SSH key into builder

commit 06be6748cf10f65cc656e76d4db215cd6829badb
Merge: 6f8006367 5a421f032
Author: Nikhil Benesch <nikhil.benesch@gmail.com>
Date:   Wed Apr 22 18:46:58 2020 -0400

    Merge pull request #2723 from benesch/bugs
    
    materialized: don't ask for emailed bug reports

commit fb0fa53613fd60dafe37f29bf899bfe949eff3e2
Author: Nikhil Benesch <nikhil.benesch@gmail.com>
Date:   Wed Apr 22 18:30:02 2020 -0400

    ci: bake github.com SSH key into builder
    
    This makes it possible to pull from GitHub in a CI job.

commit 6f800636782307858b546fd9b82c23da9a7dbf5f
Merge: 714ded1ab 3a9fc71d8
Author: Natacha Crooks <nacrooks@gmail.com>
Date:   Wed Apr 22 18:27:01 2020 -0400

    Merge pull request #2700 from benesch/file-consistency
    
    coord,dataflow: add timestamping for OCF and file sources

commit 3a9fc71d8f1d76361751760531b3200f5ca91fd4
Author: Natacha Crooks <nacrooks@gmail.com>
Date:   Wed Apr 22 17:20:53 2020 -0400

    Suggested refactors/cleaning up

commit a8416e2afb0b4c141ee7f2e0717bfe71b933855f
Author: Jamie Brandon <jamie@scattered-thoughts.net>
Date:   Wed Apr 22 14:16:30 2020 -0700

    Fix encoding. Add encoding tests.

commit 54b6ff990d81fbd049dbe29e91e17f6eb395133f
Author: Jamie Brandon <jamie@scattered-thoughts.net>
Date:   Wed Apr 22 14:16:00 2020 -0700

    Expose encode/decode_list so we can call them from From/ToSql

commit 51b207e4c10583e7bf5e858a2656e96eb5df49ad
Author: Natacha Crooks <nacrooks@gmail.com>
Date:   Wed Apr 22 16:45:02 2020 -0400

    Updating compaction.td test to use the correct consistency format

commit 8e39c2af9e52c5c40d8640d8971b6c6770044716
Author: Jamie Brandon <jamie@scattered-thoughts.net>
Date:   Wed Apr 22 12:55:56 2020 -0700

    Clippy

commit 61dd7509abc3f9ea7e0639e8809170f91eb341f3
Author: Natacha Crooks <nacrooks@gmail.com>
Date:   Mon Apr 20 17:31:47 2020 -0400

    Move to SourceConfig for sources

commit 38425f47d25cfa66ee1b4fc6d56969da80bfe95d
Author: Natacha Crooks <nacrooks@gmail.com>
Date:   Mon Apr 20 15:59:13 2020 -0400

    Refactoring Timestamping Update logic into separate function

commit 04acb07caa5e29c2b5839c95d7c2934ed4496fac
Author: Natacha Crooks <nacrooks@gmail.com>
Date:   Mon Apr 20 13:49:13 2020 -0400

    Fixing error in parsing consistency information

commit 1049e7e1ea44b1b8af7ba4f0cee7af00e2a23f1e
Author: Natacha Crooks <nacrooks@gmail.com>
Date:   Sun Apr 19 22:47:59 2020 -0400

    coord,dataflow: add timestamping for OCF and file sources

commit 43a7fbd441eab4cf865f46b9ef3772d005ddd30f
Author: Natacha Crooks <nacrooks@gmail.com>
Date:   Sun Apr 19 22:39:39 2020 -0400

    coord: tie envelope and encoding of consistency source together

commit 031e460666de44f29f74b9729984daf9841fef14
Author: JLDLaughlin <jessica@materialize.io>
Date:   Wed Apr 22 15:15:20 2020 -0400

    Up default, 1QPS

commit 156945c4f17475e9c3a9be97fb04d5e8e05ded22
Author: JLDLaughlin <jessica@materialize.io>
Date:   Wed Apr 22 14:44:59 2020 -0400

    Grafana dashboard info

commit 714ded1ab6fdc33bc77c78c22bd714e5c31f000f
Merge: baed7c731 65373cef6
Author: Sean Loiselle <sean@materialize.io>
Date:   Wed Apr 22 14:30:23 2020 -0400

    Merge pull request #2742 from sploiselle/upsert-docs-restructure
    
    docs: restructuring upsert doc

commit 113da87209f155f70cf88a777ef0b0b5f6061d88
Author: JLDLaughlin <jessica@materialize.io>
Date:   Wed Apr 22 14:22:53 2020 -0400

    bump timeout

commit 65373cef67c4688d0e78abfcd8ad8a831b6680f5
Author: Sean Loiselle <himself@seanloiselle.com>
Date:   Wed Apr 22 13:18:35 2020 -0400

    docs: restructuring upsert doc

commit baed7c7312d2cef8a33ac8643fafd1b075095ef7
Merge: 4c3384ef9 287521a47
Author: Jamie Brandon <jamie@scattered-thoughts.net>
Date:   Wed Apr 22 11:13:40 2020 -0700

    Merge pull request #2727 from jamii/fix-antilookup
    
    Proposed fix for #2724

commit ba70f5617d5641fefca70f41ccdc90b470c89720
Author: JLDLaughlin <jessica@materialize.io>
Date:   Wed Apr 22 13:44:16 2020 -0400

    retry -> retry for

commit 4c3384ef94d51befa50e25e0b24b87e145265dde
Merge: aacea18df 3bedcd53d
Author: Sean Loiselle <sean@materialize.io>
Date:   Wed Apr 22 13:36:41 2020 -0400

    Merge pull request #2567 from sploiselle/avro-ocf-docs
    
    docs: avro files + create source filename restructure

commit 3bedcd53daec5040261a29d14d352e1c774dd3c8
Author: Sean Loiselle <himself@seanloiselle.com>
Date:   Mon Apr 6 13:34:03 2020 -0400

    docs: avro files + create source filename restructure

commit 47fb4ba1f7928465ab95b3dd427ca4424dbf1483
Merge: 74955a3f0 aacea18df
Author: JLDLaughlin <jessica@materialize.io>
Date:   Wed Apr 22 13:11:49 2020 -0400

    Merge branch 'master' into load-test-kinesis

commit 287521a47a2871e5a011c7c05459cd4fa03fb9be
Author: Frank McSherry <fmcsherry@me.com>
Date:   Wed Apr 22 13:11:04 2020 -0400

    add tests

commit aacea18df50553e0b1509cacda560af0fb15994a
Merge: e71187d8d db379f487
Author: Nikhil Benesch <nikhil.benesch@gmail.com>
Date:   Wed Apr 22 13:09:58 2020 -0400

    Merge pull request #2739 from benesch/mzbuild-linux
    
    xcompile: compile in Docker on Linux

commit db379f487a7bfe7428ff0299529269a659d53fb3
Author: Nikhil Benesch <nikhil.benesch@gmail.com>
Date:   Wed Apr 22 12:04:26 2020 -0400

    xcompile: compile in Docker on Linux
    
    We need to compile in the Docker image in order to target a sufficiently
    old version of glibc.

commit e71187d8dde559ff986a9c9d76dffb975d71a4ed
Author: Brennan Vincent <brennan@materialize.io>
Date:   Wed Apr 22 12:39:12 2020 -0400

    allow starting Kafka sources at a positive offset (#2726)
    
    Should be pretty straightforward, a few caveats:
    
    * offsets are per-partition, so specifying a global per-source start offset is not very useful if someone has multiple partitions. Specifying the start offset per-partition will be a short follow up, but I wanted to limit the changes to timestamp.rs to avoid causing merge conflicts in other large changes to that file that are ongoing. This particular PR needs to land soon though to unblock specific users from testing who happen only to be using 1 partition
    * Obviously, deletes and Debezium-style updates (which we handle as a delete + an insert) are dangerous when not reading from the beginning, so we don't allow that to happen in fast-forwarded (i.e., started at a positive offset) sources. Append-only, upserts, and debezium where before: null always, should all be fine.
    * I haven't looked at how to do this for BYO consistency. Maybe it is easy. For now just bailing until I get a chance to look at that more.

commit d71332025cd21968d71516810200ebc29580a679
Author: Brandon W Maister <bwm@materialize.io>
Date:   Wed Apr 22 11:21:25 2020 -0400

    mzimage: print usage on `-h/--help` (#2738)

commit 74955a3f0348a2b8113e6c75b9562cc9d75817d8
Author: JLDLaughlin <jessica@materialize.io>
Date:   Wed Apr 22 10:43:09 2020 -0400

    Add region arg, refactor Kinesis puts

commit 5f653966daa92c1c3bf7e113a4357246f5ea8a72
Merge: b460e4b36 946f4e3dd
Author: Nikhil Benesch <nikhil.benesch@gmail.com>
Date:   Wed Apr 22 10:30:15 2020 -0400

    Merge pull request #2737 from benesch/fine-rust-deps
    
    mzbuild: finer-grained rust dependency tracking

commit 970cc52fff351ed6ff6abc3d7f1e2e402488e247
Author: Frank McSherry <fmcsherry@me.com>
Date:   Wed Apr 22 10:20:17 2020 -0400

    rebase and comment out deduplicate

commit 8efcc4d0584f9da1555af9512ec07c0688935ea7
Author: JLDLaughlin <jessica@materialize.io>
Date:   Wed Apr 22 10:20:00 2020 -0400

    Get rid of unnecessary prometheus container

commit b460e4b361c770a161d519c0082fc32eaec21afd
Merge: c8f6ca2b3 1d37a727d
Author: Sean Loiselle <sean@materialize.io>
Date:   Wed Apr 22 10:11:53 2020 -0400

    Merge pull request #2729 from wangandi/upsertdoc
    
    Add documentation for upsert.

commit 1d37a727d89172d5cfc8f57f232fac1e85d97025
Author: Sean Loiselle <himself@seanloiselle.com>
Date:   Wed Apr 22 10:09:15 2020 -0400

    upsert doc CI fix

commit 95a66e64cb7fb2fddc46061bbb14e0668754127b
Author: Jamie Brandon <jamie@scattered-thoughts.net>
Date:   Tue Apr 21 14:24:31 2020 -0700

    Proposed fix for https://github.com/MaterializeInc/materialize/issues/2724

commit 946f4e3dd5d201bf13bc1b7fef56ff4c1eefa19b
Author: Nikhil Benesch <nikhil.benesch@gmail.com>
Date:   Wed Apr 22 01:57:18 2020 -0400

    mzbuild: track rust dependencies at the crate level
    
    Changing e.g. peeker or the billing demo will no longer invalidate the
    materialized fingerprint. The approach taken involves some very light
    parsing of the Cargo.toml dependencies to discover all transitive path
    dependencies.
    
    This should have a nice effect on #2695.

commit 4f7b85959ad9e8d6fc3e59e07f899e4c74728e87
Author: Nikhil Benesch <nikhil.benesch@gmail.com>
Date:   Wed Apr 22 00:29:06 2020 -0400

    mzimage: learn describe command
    
    `mzimage describe` prints many useful details about an mzimage, like
    what its inputs are and what images it depends upon.

commit df25ffc2082dffa17a5ccd6520e5d810b304cc5a
Author: Nikhil Benesch <nikhil.benesch@gmail.com>
Date:   Wed Apr 22 00:20:35 2020 -0400

    mzbuild: incorporate dependencies into fingerprint
    
    If a dependency changes, so should the dependent image.

commit 2e8f19cf51bfd5f9ce13b9abeb0bfffdb6e24ee6
Author: Nikhil Benesch <nikhil.benesch@gmail.com>
Date:   Wed Apr 22 00:12:48 2020 -0400

    mzbuild: extract a ResolvedImage class
    
    This cleans up the code, and prepares for a fix to the fingerprinting
    logic.

commit c8f6ca2b3f70378e9bb182b93abac83c4b2a5d52
Author: Frank McSherry <fmcsherry@me.com>
Date:   Tue Apr 21 22:18:20 2020 -0400

    Add notes on memory requirements (#2733)
    
    * add notes on memory requirements
    
    * update join description
    
    * improve language

commit 76ec022c5953ff134df4b50cd1ae5e6b81929013
Author: Frank McSherry <fmcsherry@me.com>
Date:   Tue Apr 21 21:52:16 2020 -0400

    update column reference to an input column (#2731)

commit 3f776e21b516c09f8d6ac24bc981b70fe5b54d75
Merge: ff5d4f228 013bfb3df
Author: Nikhil Benesch <nikhil.benesch@gmail.com>
Date:   Tue Apr 21 21:10:39 2020 -0400

    Merge pull request #2734 from benesch/deploy-macos
    
    pyactivate: install CI python deps on macOS

commit 013bfb3dfbd5c0640981ef6ea843dc371a4e5a19
Author: Nikhil Benesch <nikhil.benesch@gmail.com>
Date:   Tue Apr 21 20:33:33 2020 -0400

    pyactivate: install CI python deps on macOS

commit 6c1f072faf3a319595ed82d12b12ec1fa997ace8
Author: JLDLaughlin <jessica@materialize.io>
Date:   Tue Apr 21 19:33:42 2020 -0400

    Clean up

commit 92683313fad55edf9b34f4433ab4dde616b636b7
Author: JLDLaughlin <jessica@materialize.io>
Date:   Tue Apr 21 19:19:49 2020 -0400

    Incorporate mzcompose

commit ff5d4f228c55edf76959af757a2d899d49848373
Merge: 0b490e633 ce3476061
Author: Nikhil Benesch <nikhil.benesch@gmail.com>
Date:   Tue Apr 21 19:11:05 2020 -0400

    Merge pull request #2730 from benesch/deploy-aws
    
    ci: fix more bugs in deploy job

commit ce34760616b45b8a864930093ce6972925e94798
Author: Nikhil Benesch <nikhil.benesch@gmail.com>
Date:   Tue Apr 21 18:49:15 2020 -0400

    ci: don't deploy macOS from within builder
    
    The macOS deploy job needs to run on macOS itself.

commit a586f51585f864fde522e833cc126bdc91ce461b
Author: Nikhil Benesch <nikhil.benesch@gmail.com>
Date:   Tue Apr 21 18:47:45 2020 -0400

    ci: set no-cache on latest redirect
    
    Otherwise the latest redirect gets stuck for the cloudfront TTL (24
    hours).

commit f6afa19baaba0815d68c9b6a538de674511265ac
Author: Nikhil Benesch <nikhil.benesch@gmail.com>
Date:   Tue Apr 21 18:42:18 2020 -0400

    ci: add awscli to builder

commit 988aa21800196e8b9afad1741632cadbb249029a
Author: Andi Wang <andi@materialize.io>
Date:   Thu Apr 2 14:29:18 2020 -0400

    Add documentation for upsert.

commit 0b490e633348b5134c49ae066e54aa8d695c9154
Merge: 9ec22b08d 6dcc42b14
Author: Nikhil Benesch <nikhil.benesch@gmail.com>
Date:   Tue Apr 21 17:48:41 2020 -0400

    Merge pull request #2728 from benesch/deploy-fixes
    
    ci: fix deploy build

commit 9ec22b08d5494164bfb4eb6ee9a2c63b366ea240
Merge: e9792a9e6 876b2ead8
Author: Andi Wang <5522362+wangandi@users.noreply.github.com>
Date:   Tue Apr 21 17:48:35 2020 -0400

    Merge pull request #2647 from wangandi/upsertaggregate
    
    Support real time timestamping with timely aggregate.

commit 6dcc42b142565ba6eb5ba35d9caa47e712c166cb
Author: Nikhil Benesch <nikhil.benesch@gmail.com>
Date:   Tue Apr 21 17:34:12 2020 -0400

    ci: extract and fix materialized binary extraction
    
    This may need to create the target/release directory.

commit e8b96164c48891336bb54977641afa88e305b2db
Author: Nikhil Benesch <nikhil.benesch@gmail.com>
Date:   Tue Apr 21 17:33:41 2020 -0400

    ci-builder: plumb additional credential env vars

commit e9792a9e6e3996bd113cdb5397778f8b29659e94
Merge: 1b1fd850c c0844de73
Author: Nikhil Benesch <nikhil.benesch@gmail.com>
Date:   Tue Apr 21 17:02:27 2020 -0400

    Merge pull request #2696 from benesch/pythonify-build
    
    ci: rewrite test build pipeline in python

commit c0844de732ad89d7532afa19449b99cfb633054c
Author: Nikhil Benesch <nikhil.benesch@gmail.com>
Date:   Tue Apr 21 14:11:40 2020 -0400

    ci: rewrite in python

commit b55bfb06a8032359195b9993ccf70a9f40c96a8d
Author: Nikhil Benesch <nikhil.benesch@gmail.com>
Date:   Tue Apr 21 14:10:41 2020 -0400

    python: add new support libraries for CI
    
    Thsee will allow us to rewrite most of the remaining parts of our CI
    pipeline in Python.

commit 876b2ead83f996850f6103fa4aa09f40d57676d4
Author: Andi Wang <andi@materialize.io>
Date:   Tue Apr 21 15:43:09 2020 -0400

    Add testing of deletions on non-existent keys. Add test of default format.

commit d2406e82506263ba2255a9e7b16d3e837de4caa2
Author: Nikhil Benesch <nikhil.benesch@gmail.com>
Date:   Tue Apr 21 14:07:29 2020 -0400

    ci-builder: don't fail if SSH_AUTH_SOCK isn't present
    
    Instead, just don't forward the SSH agent. Most build jobs don't require
    it, so requiring it unconditionally impedes debugging.

commit 5a421f032e31cf51fdfd1c3b329dba8aee0fe0ec
Author: Nikhil Benesch <nikhil.benesch@gmail.com>
Date:   Tue Apr 21 11:04:19 2020 -0400

    materialized: don't ask for emailed bug reports
    
    We would much rather receive GitHub issues.

commit 1b1fd850c39a995c647567df048f8066173a191d
Author: Frank McSherry <fmcsherry@me.com>
Date:   Tue Apr 21 10:35:53 2020 -0400

    WIP Inter-dataflow optimization, pushed to sources (#2658)
    
    Inter-dataflow demand optimization, which allows sources and intermediate dataflows to clobber columns that are not examined downstream. This has the potential to simplify source processing, and can make intermediate dataflows more efficient as the number of distinct records they track can decrease.

commit 872658ed1f7f6da6fb8b647b7c488976e269243f
Merge: fbeef5ee0 8899578a0
Author: Justin Jaffray <justin.jaffray@gmail.com>
Date:   Tue Apr 21 09:42:00 2020 -0400

    Merge pull request #2714 from justinj/fmt
    
    Introduce AstDisplay

commit 8899578a07dec85f313939fc1a05dc12a48aeb51
Author: Justin Jaffray <justin.jaffray@gmail.com>
Date:   Thu Apr 16 15:42:06 2020 -0400

    Introduce AstDisplay
    
    This commit introduces a new trait for formatting ASTs that is distinct
    from fmt::Display. The main difference is that it is orchestrated by a
    Formatter we control, and can thus be configured to print the entire
    tree in specific ways. It comes with the unfortunate ergonomic downside
    of no longer being able to use the format!/write! macro. Suggestions for
    how to improve the ergonomics here are welcome!
    
    This is specifically to enable #2667, but I foresee being able to
    configure the formatting of an AST to be useful in the future as we use
    them for more things (in the past we used this kind of infrastructure
    for things like forcing full-qualification of names)..

commit 80f3ca126bb21eb821c376aa8f7017a1d2ce361b
Author: Jamie Brandon <jamie@scattered-thoughts.net>
Date:   Mon Apr 20 16:52:26 2020 -0700

    Remove Display impl for pgrepr::Value

commit 2c2054580d685fdfe2eebef92da239c8f0a6c6fb
Author: Jamie Brandon <jamie@scattered-thoughts.net>
Date:   Mon Apr 20 16:43:24 2020 -0700

    Move parse/format_list into strconv

commit e90e9f5e3ec49d97e54ce185b80d1c11ed449729
Author: Jamie Brandon <jamie@scattered-thoughts.net>
Date:   Mon Apr 20 15:46:07 2020 -0700

    Text encode/decode for lists

commit 365e66e4d1f670e5b6f5d2377c248febaf4bcef5
Author: Jamie Brandon <jamie@scattered-thoughts.net>
Date:   Thu Apr 16 14:42:34 2020 -0700

    Clippy

commit fc97a52e6ad27ba3d98f04d706c21f9f1c466946
Author: Jamie Brandon <jamie@scattered-thoughts.net>
Date:   Thu Apr 16 14:19:05 2020 -0700

    Add a LIST type

commit 090fb89ac275af30a0ae5a7281ef9c464c6ab62b
Author: Jamie Brandon <jamie@scattered-thoughts.net>
Date:   Thu Apr 16 13:53:47 2020 -0700

    Make a Type::List and use it to choose elem type for empty lists in params

commit 9ca2c62114d8e41ce4daa445e0b91255af9ac767
Author: Jamie Brandon <jamie@scattered-thoughts.net>
Date:   Thu Apr 16 11:54:26 2020 -0700

    Just use text encoding when asked for binary encoding of list

commit d34ed6abb817467bb7d15201c8896da39089200a
Author: Jamie Brandon <jamie@scattered-thoughts.net>
Date:   Thu Apr 16 11:37:41 2020 -0700

    Use a ScalarType instead of ColumnType for List element type

commit 3ccb9543e020d755906960ff0dd6beb9e2dd1157
Author: Jamie Brandon <jamie@scattered-thoughts.net>
Date:   Tue Apr 14 14:28:25 2020 -0700

    Don't use arrays in parsing tests

commit 6ca5dab5af7aa6f21e5364d3bd35ec1c9ee6552c
Author: Jamie Brandon <jamie@scattered-thoughts.net>
Date:   Tue Apr 14 13:17:27 2020 -0700

    Clippy

commit 8ade3dd871c629d61cf91d685c6c2b06654f6b82
Author: Jamie Brandon <jamie@scattered-thoughts.net>
Date:   Tue Apr 14 12:30:19 2020 -0700

    Add tests

commit 8f06941205ddfd2b833347bd9f599a56528b9db2
Author: Jamie Brandon <jamie@scattered-thoughts.net>
Date:   Tue Apr 14 12:02:31 2020 -0700

    Rename Array to List

commit ca23c56518e83c826a669cc4eab313eabb30450e
Author: Jamie Brandon <jamie@scattered-thoughts.net>
Date:   Tue Apr 14 11:45:39 2020 -0700

    Bail on encoding arrays in binary mode

commit 903cb506761db6b3efa177327d3f8bd5fe041483
Author: Jamie Brandon <jamie@scattered-thoughts.net>
Date:   Tue Apr 14 11:24:52 2020 -0700

    Discover type of array during decoding

commit 1077ea186a4199e484c3ad891abbb2fbf112c3ce
Author: Jamie Brandon <jamie@scattered-thoughts.net>
Date:   Mon Apr 13 13:47:59 2020 -0700

    Basic support for creating and returning arrays

commit 49d4177c41cb8293ce86b11b5d9eac574a0e87ef
Author: Jamie Brandon <jamie@scattered-thoughts.net>
Date:   Mon Apr 13 12:39:47 2020 -0700

    Fix instance_of for arrays

commit 64999da4f07e4cc6533d53baf13ba3120fa46ad8
Author: Jamie Brandon <jamie@scattered-thoughts.net>
Date:   Mon Apr 13 12:39:29 2020 -0700

    Parse arrays correctly

commit fbeef5ee0af2c2962448480962beba3c7b430f7c
Merge: abe53370a 770619fcd
Author: Nikhil Benesch <nikhil.benesch@gmail.com>
Date:   Mon Apr 20 19:39:43 2020 -0400

    Merge pull request #2720 from benesch/mzbuild-fingerprint
    
    mzbuild: fingerprint file modes appropriately

commit 770619fcd2042f9cf99bd720dafbe438c0237fff
Author: Nikhil Benesch <nikhil.benesch@gmail.com>
Date:   Mon Apr 20 19:34:20 2020 -0400

    mzbuild: fingerprint file modes appropriately
    
    mzbuild was including the entire file mode in the fingerprint, when it
    meant to do what Git does, and include only the executable bit and the
    symlink bit. The other bits often vary from environment to environment,
    but not in a way meaningful to Git or mzbuild.

commit abe53370a55da2664aaac8da772e6b0709d74aca
Merge: ccade71d6 9f722c076
Author: Nikhil Benesch <nikhil.benesch@gmail.com>
Date:   Mon Apr 20 18:33:30 2020 -0400

    Merge pull request #2711 from benesch/unused-deps
    
    deps: remove unused deps

commit d75dc897b64bf299499f1be54161a6925059ae08
Author: JLDLaughlin <jessica@materialize.io>
Date:   Mon Apr 20 18:21:23 2020 -0400

    WIP: Kinesis load test

commit ccade71d6ffc58b1074f4d6fa99e4f04d2a13fed
Merge: 0bdc86041 01fe9405c
Author: Nikhil Benesch <nikhil.benesch@gmail.com>
Date:   Mon Apr 20 17:40:40 2020 -0400

    Merge pull request #2718 from benesch/sqlite-unlock-wait
    
    coord: retry catalog op if SQLite database is locked

commit 01fe9405ce03098d675520c55c0b2d3b76842085
Author: Nikhil Benesch <nikhil.benesch@gmail.com>
Date:   Mon Apr 20 17:02:36 2020 -0400

    coord: retry catalog op if SQLite database is locked
    
    Database operations sometimes fail with a "database is locked" error in
    CI due to the way testdrive validates the on-disk catalog state with its
    own SQLite connection.
    
    This commit enables rusqlite's unlock_notify feature, which
    automatically retries SQLite operations that would return a "database is
    locked" error.

commit 9f722c07611cf1027a11df67f59a550c927ee536
Author: Nikhil Benesch <nikhil.benesch@gmail.com>
Date:   Mon Apr 20 10:52:16 2020 -0400

    deps: remove unused deps
    
    Every dependency we don't compile means CI gets that much faster.

commit 0bdc86041209d94cb35027e8a43a3686b2f240a9
Merge: 643467ea0 a210667dd
Author: Nikhil Benesch <nikhil.benesch@gmail.com>
Date:   Mon Apr 20 16:44:18 2020 -0400

    Merge pull request #2717 from benesch/bash3
    
    shlib: fix mapfile_shim on Bash 3

commit 643467ea00e93589a7524b72fa302a6d9c48c5b0
Merge: 07a5a6d6a 2a920a8e3
Author: Nikhil Benesch <nikhil.benesch@gmail.com>
Date:   Mon Apr 20 16:43:55 2020 -0400

    Merge pull request #2715 from benesch/testdrive-retry
    
    testdrive: retry when waiting for errors, too

commit a210667dd8e10810753b7688cbc7765e03045e06
Author: Nikhil Benesch <nikhil.benesch@gmail.com>
Date:   Mon Apr 20 16:39:11 2020 -0400

    shlib: fix mapfile_shim on Bash 3
    
    This function, meant to shim a feature missing in Bash 4 for Bash 3, was
    somehow still relying on features in Bash 4.

commit 07a5a6d6a96754a61274b0aa400fe3d323b04770
Author: Jessica Laughlin <JLDLaughlin@users.noreply.github.com>
Date:   Mon Apr 20 14:37:36 2020 -0400

    Introduce shard refresh rate (#2712)
    
    Requires a minimum of 60 seconds between querying
    for a stream's shards.

commit 2a920a8e38b9397fa4dff724a44436dd8dac6698
Author: Nikhil Benesch <nikhil.benesch@gmail.com>
Date:   Mon Apr 20 14:35:29 2020 -0400

    testdrive: retry when waiting for errors, too
    
    Now that we have runtime errors, we potentially need to wait for a query
    to enter an error state (e.g., for a bad datum to arrive from Kafka and
    propagate through the dataflow). This should fix up some CI flakiness
    we've been seeing lately.

commit 110dc67c5afb896fb0f76be0e0f492028d790202
Author: Nikhil Benesch <nikhil.benesch@gmail.com>
Date:   Mon Apr 20 14:16:32 2020 -0400

    testdrive: unify retries around one flexible API
    
    All the retrying code in testdrive seems satisfied enough with a retry
    utility function where the maximum total backoff is specified, as long
    as the callback provides information about the number of retries and
    such. Standardize on that API so we don't have several retry
    implementations floating around.

commit f4cfc6d3a7991377cfcacf4a63eafc47414921a9
Author: Andi Wang <andi@materialize.io>
Date:   Fri Apr 17 14:46:30 2020 -0400

    Add a test of realtime upsert

commit 2c3ae08c4cd2bf35520ef9155cdaf0d721777d85
Author: Andi Wang <andi@materialize.io>
Date:   Thu Apr 16 18:18:34 2020 -0400

    Add comments.

commit e61acca4edbbeba2862b9614977247efdde1e7d5
Author: Andi Wang <andi@materialize.io>
Date:   Tue Apr 14 13:00:12 2020 -0400

    Support real time timestamping with timely aggregate.

commit 55bff31b77c07a5a9eb5881d6dafaba7645a01fe
Merge: f113b4746 087eb5071
Author: Nikhil Benesch <nikhil.benesch@gmail.com>
Date:   Mon Apr 20 12:28:22 2020 -0400

    Merge pull request #2699 from benesch/file-consistency-prep
    
    coord,dataflow: prep work for timestamping file sources

commit 087eb507163e3e774997d3c664c6620b7341efc8
Author: Natacha Crooks <nacrooks@gmail.com>
Date:   Sun Apr 19 22:44:50 2020 -0400

    coord: extract determine_next_offset method in timestamper

commit 49981de8fedca9463a308a1ae6088d71401f0214
Author: Natacha Crooks <nacrooks@gmail.com>
Date:   Sun Apr 19 22:09:08 2020 -0400

    coord: extract is_ts_valid method in timestamper

commit 9f7292e0758c1fc9eaf3b34aed8a11784c8d39f4
Author: Natacha Crooks <nacrooks@gmail.com>
Date:   Sun Apr 19 21:53:54 2020 -0400

    coord: read partition IDs from BYO storage
    
    Previously we were assuming they'd be i32s, but not all source types use
    i32 partition IDs (e.g. Kinesis).

commit 9f1d1ca5854ce3c476ddb216f19948aa2e0d2912
Author: Natacha Crooks <nacrooks@gmail.com>
Date:   Sun Apr 19 21:25:10 2020 -0400

    dataflow: adjust sentinel for "no offsets processed"

commit b107acac1e1c343f99926e6a65b449d482d2d122
Author: Natacha Crooks <nacrooks@gmail.com>
Date:   Sun Apr 19 20:44:01 2020 -0400

    coord,dataflow: don't transmit consistency separately
    
    This consistency information is trivially derivable from the catalog in
    the places that need it.

commit 285691b4dccc61159f04aef229711fe6363c0838
Author: Natacha Crooks <nacrooks@gmail.com>
Date:   Sun Apr 19 19:18:42 2020 -0400

    dataflow: require that timestamping is activated
    
    The timestamping code is stable and tested enough that we can mandate
    that it is activated. This removes a lot of complexity from the Kafka
    operator in particular.

commit f113b4746802c47225972f06844d6b97738eb5fb
Merge: 93e977904 5f1e06993
Author: Nikhil Benesch <nikhil.benesch@gmail.com>
Date:   Mon Apr 20 11:10:25 2020 -0400

    Merge pull request #2713 from benesch/mzbuild-bug
    
    mzbuild: restore fingerprinting of cargo inputs

commit 5f1e06993384a3b2fd0b8820568d74978f91256c
Author: Nikhil Benesch <nikhil.benesch@gmail.com>
Date:   Mon Apr 20 11:08:18 2020 -0400

    mzbuild: restore fingerprinting of cargo inputs
    
    This was the result of a bad refactor.

commit 93e977904ee42a2a21a0dcfa30c449f9c227c3f0
Merge: 9a7370afe 1c2340220
Author: Nikhil Benesch <nikhil.benesch@gmail.com>
Date:   Mon Apr 20 10:13:08 2020 -0400

    Merge pull request #2710 from benesch/rm-pretty
    
    repr: remove unused pretty dependency

commit 1c23402208acec0bec86806a9c6450ed95b62db4
Author: Nikhil Benesch <nikhil.benesch@gmail.com>
Date:   Mon Apr 20 09:31:07 2020 -0400

    repr: remove unused pretty dependency
    
    Usage of pretty was removed in the EXPLAIN PLAN redesign (0be6866e).

commit 9a7370afeee2f2ccac6d57a99d41fe2356aaed70
Merge: 0ff61deac e33148877
Author: Nikhil Benesch <nikhil.benesch@gmail.com>
Date:   Mon Apr 20 08:43:24 2020 -0400

    Merge pull request #2702 from MaterializeInc/dependabot/cargo/regex-1.3.7
    
    build(deps): bump regex from 1.3.6 to 1.3.7

commit 0ff61deac5d9e81ad39b4fb6f7d7eb10ccb7ab8b
Merge: d5885f760 638dc7ef8
Author: Nikhil Benesch <nikhil.benesch@gmail.com>
Date:   Mon Apr 20 08:42:57 2020 -0400

    Merge pull request #2703 from MaterializeInc/dependabot/cargo/timely-516e1d1
    
    build(deps): bump timely from `a455441` to `516e1d1`

commit d5885f760d4438395f167be248e045430de5a5c4
Merge: e4de44418 d020d266a
Author: Nikhil Benesch <nikhil.benesch@gmail.com>
Date:   Mon Apr 20 08:42:25 2020 -0400

    Merge pull request #2705 from MaterializeInc/dependabot/cargo/dogsdogsdogs-1a97786
    
    build(deps): bump dogsdogsdogs from `2aa113c` to `1a97786`

commit e4de44418eea0cf9f1fca8d681153cbdf41027ad
Merge: efd635b1c 87ce8357e
Author: Nikhil Benesch <nikhil.benesch@gmail.com>
Date:   Mon Apr 20 08:41:20 2020 -0400

    Merge pull request #2706 from MaterializeInc/dependabot/cargo/libc-0.2.69
    
    build(deps): bump libc from 0.2.68 to 0.2.69

commit efd635b1c8fad5c9bb58e570801fc977b5e0e35b
Merge: bfe7d9b86 66c6db400
Author: Nikhil Benesch <nikhil.benesch@gmail.com>
Date:   Mon Apr 20 08:40:27 2020 -0400

    Merge pull request #2708 from MaterializeInc/dependabot/cargo/hyper-0.13.5
    
    build(deps): bump hyper from 0.13.4 to 0.13.5

commit 66c6db400cb45af522a18f3af765b7acbcd86c53
Author: dependabot-preview[bot] <27856297+dependabot-preview[bot]@users.noreply.github.com>
Date:   Mon Apr 20 11:07:34 2020 +0000

    build(deps): bump hyper from 0.13.4 to 0.13.5
    
    Bumps [hyper](https://github.com/hyperium/hyper) from 0.13.4 to 0.13.5.
    - [Release notes](https://github.com/hyperium/hyper/releases)
    - [Changelog](https://github.com/hyperium/hyper/blob/master/CHANGELOG.md)
    - [Commits](https://github.com/hyperium/hyper/compare/v0.13.4...v0.13.5)
    
    Signed-off-by: dependabot-preview[bot] <support@dependabot.com>

commit 87ce8357e84114b61a398ce8398d8116f971b738
Author: dependabot-preview[bot] <27856297+dependabot-preview[bot]@users.noreply.github.com>
Date:   Mon Apr 20 11:06:19 2020 +0000

    build(deps): bump libc from 0.2.68 to 0.2.69
    
    Bumps [libc](https://github.com/rust-lang/libc) from 0.2.68 to 0.2.69.
    - [Release notes](https://github.com/rust-lang/libc/releases)
    - [Commits](https://github.com/rust-lang/libc/compare/0.2.68...0.2.69)
    
    Signed-off-by: dependabot-preview[bot] <support@dependabot.com>

commit d020d266a0872614b8be5dfc148bd37fc4997abe
Author: dependabot-preview[bot] <27856297+dependabot-preview[bot]@users.noreply.github.com>
Date:   Mon Apr 20 11:05:28 2020 +0000

    build(deps): bump dogsdogsdogs from `2aa113c` to `1a97786`
    
    Bumps [dogsdogsdogs](https://github.com/TimelyDataflow/differential-dataflow) from `2aa113c` to `1a97786`.
    - [Release notes](https://github.com/TimelyDataflow/differential-dataflow/releases)
    - [Commits](https://github.com/TimelyDataflow/differential-dataflow/compare/2aa113cfdd471ac9f1e6f7267ff2dbdbbdb02c03...1a977866897035ada8c55240a0c1ccf7a8d03b81)
    
    Signed-off-by: dependabot-preview[bot] <support@dependabot.com>

commit 638dc7ef8a55b99af3f1e460b2fdb21792ed4c1d
Author: dependabot-preview[bot] <27856297+dependabot-preview[bot]@users.noreply.github.com>
Date:   Mon Apr 20 11:03:45 2020 +0000

    build(deps): bump timely from `a455441` to `516e1d1`
    
    Bumps [timely](https://github.com/TimelyDataflow/timely-dataflow) from `a455441` to `516e1d1`.
    - [Release notes](https://github.com/TimelyDataflow/timely-dataflow/releases)
    - [Commits](https://github.com/TimelyDataflow/timely-dataflow/compare/a45544119a3695eda51c2b549428d6974dc005ec...516e1d1999cfc2d411ddc61f57c0d3d7c17ca495)
    
    Signed-off-by: dependabot-preview[bot] <support@dependabot.com>

commit e331488775b3c94109bb0440b531cbfcbb3270e7
Author: dependabot-preview[bot] <27856297+dependabot-preview[bot]@users.noreply.github.com>
Date:   Mon Apr 20 11:03:06 2020 +0000

    build(deps): bump regex from 1.3.6 to 1.3.7
    
    Bumps [regex](https://github.com/rust-lang/regex) from 1.3.6 to 1.3.7.
    - [Release notes](https://github.com/rust-lang/regex/releases)
    - [Changelog](https://github.com/rust-lang/regex/blob/master/CHANGELOG.md)
    - [Commits](https://github.com/rust-lang/regex/compare/1.3.6...regex-1.3.7)
    
    Signed-off-by: dependabot-preview[bot] <support@dependabot.com>

commit bfe7d9b86f5443917f08d3d264f60b6d9468c030
Merge: b60095a53 f3797c714
Author: Nikhil Benesch <nikhil.benesch@gmail.com>
Date:   Mon Apr 20 00:34:40 2020 -0400

    Merge pull request #2701 from benesch/pydoc-url
    
    www: fix link to python api docs

commit f3797c714bff08b79fba9228a961abe76b096ec8
Author: Nikhil Benesch <nikhil.benesch@gmail.com>
Date:   Mon Apr 20 00:24:45 2020 -0400

    www: fix link to python api docs

commit b60095a533604d876f75abbc7a1561a6917d9903
Merge: 7b3aa80a3 f1334d4f7
Author: Nikhil Benesch <nikhil.benesch@gmail.com>
Date:   Sun Apr 19 19:24:51 2020 -0400

    Merge pull request #2698 from benesch/pydoc
    
    ci: automatically build internal Python API docs

commit f1334d4f758b9771894a7ee7e1e23d7372a1af41
Author: Nikhil Benesch <nikhil.benesch@gmail.com>
Date:   Sun Apr 19 18:48:03 2020 -0400

    ci: automatically build internal Python API docs

commit 7b3aa80a3b93299238ba2dc1567eeba3d91b70ed
Merge: 757a95fb5 db94bc5bb
Author: Nikhil Benesch <nikhil.benesch@gmail.com>
Date:   Sun Apr 19 13:24:23 2020 -0400

    Merge pull request #2671 from MaterializeInc/mv-billing-demo
    
    billing-demo: move into demos directory

commit db94bc5bbd15be1e648e35a5c9b94e5d1c02b0ee
Author: Nikhil Benesch <nikhil.benesch@gmail.com>
Date:   Sun Apr 19 10:51:08 2020 -0400

    python: introduce dedicated materialize package
    
    This will make it clearer what is third party code and what is ours.

commit 89dc9779b847d48facf3226132767f321c095525
Author: Nikhil Benesch <nikhil.benesch@gmail.com>
Date:   Sat Apr 18 19:36:47 2020 -0400

    mzbuild: rename universal_newlines param to unicode
    
    The phrasing "unicode" is shorter and clearer, I think.

commit d8c18cc917133c52fcc5850632be6e011ee7d43d
Author: Nikhil Benesch <nikhil.benesch@gmail.com>
Date:   Wed Apr 15 16:42:58 2020 -0400

    billing-demo: move into demos directory
    
    With mzbuild, we no longer need to keep all Rust crates in src. I think
    it's much clearer to have all the demos in the demo directory.

commit 757a95fb5ba86cdc9521cdf88ab422f3fd4a5e83
Merge: fa5f6313e e7742f0de
Author: Nikhil Benesch <nikhil.benesch@gmail.com>
Date:   Sun Apr 19 12:21:51 2020 -0400

    Merge pull request #2697 from benesch/testdrive-disable
    
    testdrive: temporarily disable flaky tests

commit e7742f0de4e7ca022c57124f91f2c9a3208fee1d
Author: Nikhil Benesch <nikhil.benesch@gmail.com>
Date:   Sun Apr 19 12:11:23 2020 -0400

    testdrive: temporarily disable flaky tests

commit fa5f6313efedb7bf5367dc677bdeb95a616434b7
Merge: 4d48c3306 770aada5f
Author: Nikhil Benesch <nikhil.benesch@gmail.com>
Date:   Sun Apr 19 01:14:55 2020 -0400

    Merge pull request #2692 from benesch/pyactivate-reorg
    
    python: reorganize python activation code

commit 770aada5fa3b4860c7ac56668e36c79ae814b921
Author: Nikhil Benesch <nikhil.benesch@gmail.com>
Date:   Sat Apr 18 16:28:58 2020 -0400

    python: reorganize python activation code

commit 4d48c33062018225787977495661e460710b592d
Merge: a24737518 c9fa2164e
Author: Nikhil Benesch <nikhil.benesch@gmail.com>
Date:   Sun Apr 19 01:02:02 2020 -0400

    Merge pull request #2693 from benesch/testdrive-timeout
    
    testdrive: hopefully fix some kinesis-related flakiness

commit c9fa2164ea1a53696af1d15de4da6c8add5191c4
Author: Nikhil Benesch <nikhil.benesch@gmail.com>
Date:   Sun Apr 19 00:34:14 2020 -0400

    testdrive: run ci-only tests first
    
    This is a hack that makes us less likely to hit the Kinesis rate limits.

commit 91b38a719a720e1e7271ab5b9a33fdb439c33afb
Author: Nikhil Benesch <nikhil.benesch@gmail.com>
Date:   Sat Apr 18 23:09:42 2020 -0400

    ci: upload testdrive logs on failure

commit 77630653c692936efc23cc03e8f8231bb3ddbc62
Author: Nikhil Benesch <nikhil.benesch@gmail.com>
Date:   Sat Apr 18 20:10:41 2020 -0400

    testdrive: wait for shards after creating a stream, too
    
    Ingesting immediately after creating a stream would occasionally fail
    with a "stream does not exist" error. Likely the result of inconsistency
    on AWS's end. Stick in a retry loop after creating a stream to wait for
    the stream to become visible. This required a bit of refactoring to
    share the very similar code with the update stream count action.

commit a24737518f928fb91c702c87bdc4204002cda80c
Merge: d5277eb1c 87ccfdbf1
Author: Nikhil Benesch <nikhil.benesch@gmail.com>
Date:   Sat Apr 18 19:30:46 2020 -0400

    Merge pull request #2690 from benesch/py-activate
    
    misc/python: robustify venv activation

commit d5277eb1cc4b790888f734d3c7fd9e883466f8df
Merge: 9e52887a9 02cc34cb7
Author: Nikhil Benesch <nikhil.benesch@gmail.com>
Date:   Sat Apr 18 19:20:04 2020 -0400

    Merge pull request #2691 from benesch/linux-binsize
    
    build: reduce linux release binary size by 87%

commit 02cc34cb7c7d9f1b775fe95e1697b797d8fa9b6d
Author: Nikhil Benesch <nikhil.benesch@gmail.com>
Date:   Sat Apr 18 01:34:39 2020 -0400

    build: reduce linux release binary size by 87%
    
    Our Linux release binary was hilariously large, weighing in at nearly
    800MB (!). Nearly all of the bloat was from DWARF debug info:
    
        $ bloaty materialized -n 10
            FILE SIZE        VM SIZE
         --------------  --------------
          24.5%   194Mi   0.0%       0    .debug_info
          24.1%   191Mi   0.0%       0    .debug_loc
          13.8%   109Mi   0.0%       0    .debug_pubtypes
          10.1%  79.9Mi   0.0%       0    .debug_pubnames
           8.8%  70.0Mi   0.0%       0    .debug_str
           8.3%  66.3Mi   0.0%       0    .debug_ranges
           4.4%  35.3Mi   0.0%       0    .debug_line
           3.1%  24.8Mi  66.3%  24.8Mi    .text
           1.8%  14.4Mi  25.1%  9.39Mi    [41 Others]
           0.6%  4.79Mi   0.0%       0    .strtab
           0.4%  3.22Mi   8.6%  3.22Mi    .eh_frame
         100.0%   793Mi 100.0%  37.4Mi    TOTAL
    
    This patch gets a handle on this by attacking the problem
    from several angles:
    
      1. We instruct the linker to compress debug info sections. Most of the
         debug info is redundant and compresses exceptionally well. Part of
         the reason we didn't notice the issue is because our Docker images
         and gzipped tarballs were relatively small (~150MB).
    
      2. We strip out the unnecessary `.debug_pubnames` and `.debug_pubtypes`
         sections from the binary. This works around a known Rust bug
         (rust-lang/rust#46034).
    
      3. We ask Rust to generate less debug info for release builds,
         limiting it to line info. This is enough information to symbolicate
         a backtrace, but not enough information to run an interactive
         debugger. This is usually the right tradeoff for a release build.
    
        $ bloaty materialized -n 10
            FILE SIZE       VM SIZE
         --------------   --------------
          33.8%  31.9Mi     0.0%       0  .debug_info
          26.5%  25.0Mi    70.5%  25.0Mi  .text
           8.0%  7.54Mi     0.0%       0  .debug_str
           6.7%  6.36Mi     0.0%       0  .debug_line
           5.7%  5.36Mi     9.4%  3.33Mi  [38 Others]
           5.0%  4.71Mi     0.0%       0  .strtab
           3.8%  3.55Mi     0.0%       0  .debug_ranges
           3.3%  3.11Mi     8.8%  3.11Mi  .eh_frame
           3.0%  2.87Mi     0.0%       0  .symtab
           2.2%  2.12Mi     6.0%  2.12Mi  .rodata
           2.0%  1.92Mi     5.4%  1.92Mi  .gcc_except_table
         100.0%  94.4Mi   100.0%  35.5Mi  TOTAL
    
    One issue remains unsolved, which is that Rust/LLVM cannot currently
    garbage collect DWARF that refers to unused symbols/types. The actual
    symbols get cut from the binary, but their debug info remains. Follow
    rust-lang/rust#56068 and LLVM D74169 [0] if curious. I tested with the
    aforementioned lld patch and the resulting binary is even small, at
    71MB, so there's another 25MB of savings to be had there. (That patch on
    its own, without the other changes, cuts the ~800MB binary to a ~300MB
    binary, so it's an impressive piece of work. Unfortunately it also
    increases link time by 15-25x.)
    
    [0]: https://reviews.llvm.org/D74169

commit 5af08de9cf73f4f3494de531663f6da2c34d9f02
Author: Nikhil Benesch <nikhil.benesch@gmail.com>
Date:   Sat Apr 18 01:33:22 2020 -0400

    bin/xcompile: set more paths/variables appropriately
    
    Cargo apparently needs to be told explicitly what linker to use now (it
    doesn't automatically look for a linker prefixed with the target
    triple), and the root path needs to be absolute for some various C
    dependencies' build scripts to work correctly.

commit 9e52887a9f4d083fcb7f3b5f8dcdf31842da5a5f
Author: Jessica Laughlin <JLDLaughlin@users.noreply.github.com>
Date:   Fri Apr 17 18:03:24 2020 -0400

    Track Kinesis millis_behind_latest (#2688)
    
    Adds Kinesis metrics to Grafana

commit 87ccfdbf1ef7e35330475269fcfe91725a0fb608
Author: Nikhil Benesch <nikhil.benesch@gmail.com>
Date:   Fri Apr 17 17:47:04 2020 -0400

    misc/python: robustify venv activation
    
    The new code additionaly handles cases where the `python` process fails
    to exec, e.g. because the user has upgraded their system version of
    Python.

commit 8afe0d731c82ab87cfded0ce9bee2058afd72f03
Author: Brandon W Maister <bwm@materialize.io>
Date:   Fri Apr 17 17:04:35 2020 -0400

    mzcompose: Don't crash on bootstrap if no venv exists (#2689)
    
    subprocess.run will throw an exception if the thing it's trying to run doesn't exist at
    all, even if check=False.

commit 0333ec650f0c28722c298bf782fb3840cc8548e7
Author: Jessica Laughlin <JLDLaughlin@users.noreply.github.com>
Date:   Fri Apr 17 11:08:16 2020 -0400

    Update Kinesis streams to read from all of a stream's shards, tests (#2670)
    
    Kinesis sources now query AWS for the list of shards in a
    stream on each activation, adding any new shards to the
    back of the source's queue. Kinesis sources read from the
    queue of shards in a FIFO fashion with no efforts to
    prioritize.

commit 6334105e35b7a31408021f22640ba3ba02479847
Merge: ee98096ae eefb50e38
Author: Nikhil Benesch <nikhil.benesch@gmail.com>
Date:   Thu Apr 16 22:27:08 2020 -0400

    Merge pull request #2675 from benesch/py-typeck-fmt
    
    python: format and typecheck

commit ee98096ae08c53c48264efa214196e7b1247bd0a
Merge: 64b2f3f8b 25c22ee66
Author: Nikhil Benesch <nikhil.benesch@gmail.com>
Date:   Thu Apr 16 21:29:29 2020 -0400

    Merge pull request #2633 from MaterializeInc/dependabot/cargo/protoc-rust-2.14.0
    
    build(deps): bump protoc-rust from 2.12.0 to 2.14.0

commit eefb50e38ec3d15b7bff69ee33b32052c8f1e21b
Author: Nikhil Benesch <nikhil.benesch@gmail.com>
Date:   Wed Apr 15 23:36:59 2020 -0400

    python: format and typecheck
    
    Also upgrade code to the new minimum Python version, v3.6+, which brings
    a lot of niceties: f-string literals, variable type annotations, and
    support for passing pathlib.Path objects to stdlib functions that
    previously only accepted str/bytes.

commit 64b2f3f8b39a58d338807845fcdba012a2f91a57
Merge: 464166dc8 b0d54ed86
Author: Nikhil Benesch <nikhil.benesch@gmail.com>
Date:   Thu Apr 16 19:00:55 2020 -0400

    Merge pull request #2681 from benesch/redundancy
    
    bin/check: re-enable clippy::redundant-closure link

commit b0d54ed86b2e951a4696ebba7f988868a7f2433e
Author: Nikhil Benesch <nikhil.benesch@gmail.com>
Date:   Thu Apr 16 15:01:26 2020 -0400

    bin/check: re-enable clippy::redundant-closure link
    
    I'm told avoiding unnecessary closures means LLVM has less work to do,
    which means compile times will be faster.

commit 464166dc8d9ce8b9c124de94aafbe9e552214217
Merge: 01c52252d 91cf41879
Author: Nikhil Benesch <nikhil.benesch@gmail.com>
Date:   Thu Apr 16 18:22:52 2020 -0400

    Merge pull request #2682 from benesch/crosstool
    
    ci/builder: use cross-compiling toolchain to target old systems

commit 91cf418793ffe1ea27943460f6ba9b7b367067a5
Author: Nikhil Benesch <nikhil.benesch@gmail.com>
Date:   Thu Apr 16 21:28:06 2020 +0000

    mzbuild: add missing dependency on CI builder

commit 14d4812c1b6a44a6802f56d30ecae51884d25515
Author: Nikhil Benesch <nikhil.benesch@gmail.com>
Date:   Thu Apr 16 10:25:20 2020 -0400

    ci/builder: use cross-compiling toolchain to target old systems
    
    We downgraded the CI builder image to Ubuntu Xenial (16.04) in order to
    build a binary that was more widely compatible with old Linux
    distributions. The rule is essentially you need to build on the oldest
    distribution you wish to support.
    
    Building on Xenial is annoying, though, because it contains relatively
    ancient versions of various tools. Python v3.5 reaches EOL this year,
    for example, and some Python tools already only support v3.6+. While
    it's possible to install a more modern version of Python from a PPA,
    this bloats the image over time, e.g. as other tools depend on the
    distribution-provided Python.
    
    Instead, we can build a cross-compiling toolchain that targets an
    arbitrarily old version of the Linux kernel/glibc. This commit
    introduces a cross-compiling toolchain that targets Linux 2.6/glibc
    2.12, which means the built binaries will run even on a distribution as
    old as RHEL 6. (Seriously, this was verified.)
    
    The builder is then restored to Ubuntu 18.04, where Python 3.6 is
    available.
    
    A side effect of using this new toolchain was noticing that we were
    failing to link libz statically. This commit also plumbs the correct
    option to rust-rdkafka to remedy this.

commit 01c52252d1ad6777e8fe7256f6aac1dbee7903bf
Author: Frank McSherry <fmcsherry@me.com>
Date:   Thu Apr 16 16:14:39 2020 -0400

    More clearly indicate state of malformed reduce input (#2622)
    
    We are seeing Reduce panics in the wild, where the intended number of contributions to each key is not found. This PR more clearly complains, and also highlights one possible source of this error (if we have negative records in the input, some accumulations may zero out and vanish, whereas others remain with surprising tallies; re-aligning their results would panic).
    
    There is an important discussion point about how much program data is legit to produce as output here. It would probably be helpful to produce the offending key in the panic, for example, but this is potentially sensitive data and just jamming that in to logs is not something to be done casually. This PR does not do that. This PR does do report integer accumulations in an error!(), and we should perhaps discuss that (counts, but also sums).
    
    For a clearer example of the weird case with negative records, imagine our input change stream was exactly (yes, it accumulates to a collection with negative counts; I agree it shouldn't):
    
    ((frank, mcsherry), t, -1)
    ((frank, zappa), t, +1)
    and we wanted to do both a count(*) and maybe a count(*) filter (where val == zappa). The first aggregation will project out the data and say "nothing to see here; don't even mention frank". The second aggregation will come back with a (frank, 1) aggregation and be confused that it didn't find the first count(*) it was expecting.
    
    This failure is slightly robustified against in the PR by suppressing aggregate output when the net number of records participating isn't positive (anything that nets zero, or negative, doesn't produce an aggregate even if it looks like there is good data). In this case we log an error instead, and we should be vigilant about having folks check their logs for this sort of error as it implies that something is awry with either their input or our pipeline.

commit 0fac80963acb0dfcb5d029e24d431356baa82ed3
Author: Frank McSherry <fmcsherry@me.com>
Date:   Thu Apr 16 15:38:08 2020 -0400

    add non-dropping finish to RowPacker (#2680)

commit aef59618112ce7973040c7affb072c7fb45a89d8
Merge: 976355f7b 4466c87ea
Author: Justin Jaffray <justin.jaffray@gmail.com>
Date:   Thu Apr 16 09:51:59 2020 -0400

    Merge pull request #2649 from justinj/show
    
    Support more SHOW ... WHERE

commit 4466c87ea3a9d94d9f3e27c97142281e8f1dec92
Author: Justin Jaffray <justin.jaffray@gmail.com>
Date:   Tue Apr 14 13:45:34 2020 -0400

    Support more SHOW ... WHERE
    
    Fixes #1529.
    
    The only remaining unsupported case is SHOW VIEWS/SOURCES, because we
    don't plumb down the needed info via the catalog.
    
    I got rid of some ordering stuff, I can add it back in the form of a
    RowSetFinishing, but it doesn't seem to have been tested so I'm not sure
    it was actually important.

commit 976355f7b97238f3ca49ee4ef2f9975894c12796
Merge: 0389ff0c7 d91a49f7f
Author: Nikhil Benesch <nikhil.benesch@gmail.com>
Date:   Thu Apr 16 01:14:39 2020 -0400

    Merge pull request #2676 from benesch/fix-agent-forwarding
    
    ci-builder: fix SSH agent forwarding

commit d91a49f7fbab1e900d1383dae9293ef0a814204f
Author: Nikhil Benesch <nikhil.benesch@gmail.com>
Date:   Thu Apr 16 01:06:39 2020 -0400

    ci-builder: fix SSH agent forwarding
    
    We were forgetting to set the environment variable to point at the
    forwarded SSH agent socket.

commit 0389ff0c7e5fb324c4e5cc73289f69d99461edce
Merge: 8243bf8c7 e40b49544
Author: Nikhil Benesch <nikhil.benesch@gmail.com>
Date:   Wed Apr 15 23:46:06 2020 -0400

    Merge pull request #2674 from benesch/ci-slt
    
    ci/slt: use mzbuild for dependency management

commit e40b49544ca8661303571f4c4c5f3276cde8028b
Author: Nikhil Benesch <nikhil.benesch@gmail.com>
Date:   Wed Apr 15 21:15:53 2020 -0400

    ci/slt: use mzbuild for dependency management
    
    We no longer need to carefully manage the build dependencies of the full
    SLT CI job. It will automatically download the correct version of the
    SLT mzimage from Docker Hub.

commit 8243bf8c7bed62110fd32bb2a7271c548b3f40fc
Merge: 85ae6105c 1c1df1d14
Author: Nikhil Benesch <nikhil.benesch@gmail.com>
Date:   Wed Apr 15 19:58:55 2020 -0400

    Merge pull request #2673 from benesch/ci-test-reorg
    
    ci: reorganize for mzbuild

commit 1c1df1d14671c62b7a97f224f8c669be0f81efdc
Author: Nikhil Benesch <nikhil.benesch@gmail.com>
Date:   Wed Apr 15 19:18:46 2020 -0400

    ci/slt: remove now-unused docker-compose.yml

commit e2a57f2e8b71ee5e8e576a310719eff99038b61d
Author: Nikhil Benesch <nikhil.benesch@gmail.com>
Date:   Wed Apr 15 19:08:26 2020 -0400

    misc/docker/cli: hoist into misc/cli
    
    This removes the last usage of misc/docker. Docker images now live
    alongside the code that they test, which should make them easier to
    discover and develop.

commit e23e65de1d5f5d13d37bd7dd3d2f4fe4fe0003f6
Author: Nikhil Benesch <nikhil.benesch@gmail.com>
Date:   Wed Apr 15 19:07:57 2020 -0400

    ci-cargo-test: move into ci/test

commit de91490527105fc071c5fbcb81ec0d9578ebb667
Author: Nikhil Benesch <nikhil.benesch@gmail.com>
Date:   Wed Apr 15 19:05:52 2020 -0400

    ci-builder: move into ci/builder

commit 0e3d33b37bdbc3956ff86dcc3ace2a43be0bcfa7
Author: Nikhil Benesch <nikhil.benesch@gmail.com>
Date:   Wed Apr 15 19:01:47 2020 -0400

    ci: move metabase healthcheck into dedicated directory

commit 25c22ee6616a46057f772ef34f15ad848c2a8c5a
Author: dependabot-preview[bot] <27856297+dependabot-preview[bot]@users.noreply.github.com>
Date:   Mon Apr 13 10:45:43 2020 +0000

    build(deps): bump protoc-rust from 2.12.0 to 2.14.0
    
    Bumps [protoc-rust](https://github.com/stepancheg/rust-protobuf) from 2.12.0 to 2.14.0.
    - [Release notes](https://github.com/stepancheg/rust-protobuf/releases)
    - [Changelog](https://github.com/stepancheg/rust-protobuf/blob/master/CHANGELOG.md)
    - [Commits](https://github.com/stepancheg/rust-protobuf/compare/v2.12.0...v2.14.0)
    
    Signed-off-by: dependabot-preview[bot] <support@dependabot.com>

commit 85ae6105cbce8cfca9b8cd03a657be5215a6f04f
Merge: cf98487c0 49801ed06
Author: Nikhil Benesch <nikhil.benesch@gmail.com>
Date:   Wed Apr 15 17:13:56 2020 -0400

    Merge pull request #2640 from benesch/doc-errors
    
    dataflow: describe error handling approach

commit cf98487c090767819de879da147d09b62865acc9
Merge: deea00a08 11f3d9df9
Author: Nikhil Benesch <nikhil.benesch@gmail.com>
Date:   Wed Apr 15 17:13:39 2020 -0400

    Merge pull request #2672 from benesch/git-clean-ffd
    
    mzbuild: `git clean` with `-d` flag

commit 11f3d9df9d50f6b4fff4af339929238c20b049b7
Author: Nikhil Benesch <nikhil.benesch@gmail.com>
Date:   Wed Apr 15 17:09:50 2020 -0400

    mzbuild: `git clean` with `-d` flag
    
    In newer versions of git the `-d` flag is redundant, because we've
    specified an explicit path to clean, but in old versions of Git, like
    the one we have in the CI builder, the `-d` flag needs to be passed
    explicitly to get `git clean` to remove ignored directories. [0]
    
    This was causing mzbuild failures in CI, where the ci-cargo-test image
    could have build directories lying around from the last job to run on
    the agent.
    
    [0]: https://github.com/git/git/commit/e86bbcf987faad8e487beb814351a404fa80957f

commit deea00a08d4c2c083be9ddd4a55fbe0a84447756
Author: Brennan Vincent <brennan@materialize.io>
Date:   Wed Apr 15 16:29:07 2020 -0400

    bump wait time in `test_conn_params` (#2669)

commit 6157253e3691d63b3b4e5dd04ce99581d2e3c016
Merge: 0bd6f01a8 96d07914f
Author: Nikhil Benesch <nikhil.benesch@gmail.com>
Date:   Wed Apr 15 16:03:30 2020 -0400

    Merge pull request #2629 from benesch/ci-deps
    
    ci,demo,test: introduce mzbuild system to manage Docker

commit 96d07914f1f159bb40e8d7328469b03c9d22e545
Author: Nikhil Benesch <nikhil.benesch@gmail.com>
Date:   Sun Apr 12 19:11:44 2020 -0400

    ci,demo,test: introduce mzbuild system to manage Docker
    
    Introduce the mzbuild system to provide a unified control plane for our
    growing collection of Docker images and Docker Compose configurations.
    
    See the documentation in doc/developer/mzbuild.md for details.

commit 0bd6f01a8fd196f7b754ef1ca1a20dfb9791bb43
Author: Nikhil Benesch <nikhil.benesch@gmail.com>
Date:   Wed Apr 15 15:15:19 2020 -0400

    ci/test: actually fix deb publishing (#2668)

commit 9c62f7c98d0f9802df83c747e2ae3647d4c18546
Author: Brennan Vincent <brennan@materialize.io>
Date:   Wed Apr 15 14:07:40 2020 -0400

    Pass client.id to librdkafka (#2666)

commit 81390c34e8a22f84bda818b578f69e87a4aa550c
Merge: 74036bcfb 48bd2b64f
Author: Nikhil Benesch <nikhil.benesch@gmail.com>
Date:   Wed Apr 15 13:41:11 2020 -0400

    Merge pull request #2664 from MaterializeInc/license-release-checklist
    
    doc/developer: add note about updating LICENSE terms

commit 48bd2b64f9c4f074b3819943d24c9e29ad95dc7a
Author: Nikhil Benesch <nikhil.benesch@gmail.com>
Date:   Wed Apr 15 13:30:22 2020 -0400

    doc/developer: add note about updating LICENSE terms

commit 74036bcfbc7bd9460af94ecd197d64aed476a0a7
Merge: a147ae216 2e20fe94e
Author: Arjun Narayan <arjun@materialize.io>
Date:   Wed Apr 15 13:32:05 2020 -0400

    Merge pull request #2662 from rjnn/release_0.2
    
    update version and change date

commit 2e20fe94ed7da8b59ebd959f5543d8cd907fe33e
Author: Arjun Narayan <arjun@materialize.io>
Date:   Wed Apr 15 13:20:33 2020 -0400

    update version and change date

commit a147ae216be67b9932f8969ee3198c37520731a3
Merge: e5e39073f bb6fdcc36
Author: Nikhil Benesch <nikhil.benesch@gmail.com>
Date:   Wed Apr 15 10:56:07 2020 -0400

    Merge pull request #2655 from benesch/deb-build
    
    ci/test: unbrick deb build (hopefully)

commit bb6fdcc36283d798c44d8cef0adc78aae4064781
Author: Nikhil Benesch <nikhil.benesch@gmail.com>
Date:   Wed Apr 15 02:12:15 2020 -0400

    ci/test: unbrick deb build (hopefully)

commit 49801ed0676a19723ac02006c3ce454c75aac2eb
Author: Nikhil Benesch <nikhil.benesch@gmail.com>
Date:   Mon Apr 13 11:29:36 2020 -0400

    dataflow: describe error handling approach

commit e5e39073fa94206ebca84635b3bac48871080beb
Merge: a62d705f2 a8e02fa19
Author: Nikhil Benesch <nikhil.benesch@gmail.com>
Date:   Wed Apr 15 01:51:25 2020 -0400

    Merge pull request #2654 from benesch/ci-builder-cleanup
    
    ci: use ci-builder script instead of Docker plugin

commit a8e02fa1906f734df648384fb3a366fb5a7f8020
Author: Nikhil Benesch <nikhil.benesch@gmail.com>
Date:   Tue Apr 14 22:46:16 2020 -0400

    ci: use ci-builder script instead of Docker plugin
    
    Doing it this way is less verbose and more understandable. Plus it gives
    us just one place to update when we bump the ci-builder version, and we
    can have the ci-builder script update this place automatically.

commit a62d705f270f5a1d74cbb3e43e51b1b43b2814fe
Merge: 7d60ed2f7 f434e4291
Author: Nikhil Benesch <nikhil.benesch@gmail.com>
Date:   Wed Apr 15 00:01:00 2020 -0400

    Merge pull request #2653 from benesch/billing-demo-exit-code
    
    billing-demo: properly set exit code

commit f434e429104ca4f8f67d62c73a08c1eefa6c293d
Author: Nikhil Benesch <nikhil.benesch@gmail.com>
Date:   Tue Apr 14 22:28:04 2020 -0400

    billing-demo: properly set exit code
    
    The billing-demo test in CI would always exit successfully, even if the
    test failed, because the billing-demo binary would not exit with a
    failing code on error.

commit 7d60ed2f7de9c2abb7f002fef0632e7f732c9b01
Author: Brennan Vincent <brennan@materialize.io>
Date:   Tue Apr 14 20:40:16 2020 -0400

    Avoid a bunch of unnecessary per-message copying in kafka.rs (#2652)

commit e479fc22c8a5d4f23da1dc5fe29a8ee0c0e5ca63
Author: Brennan Vincent <brennan@materialize.io>
Date:   Tue Apr 14 19:28:51 2020 -0400

    Allow verbosely printing Kafka statistics with a WITH option (#2650)

commit 7597ff91036f39143b252c50fa0d888d852b1ee6
Merge: 1b9ecc755 1d5beb1d2
Author: Nikhil Benesch <nikhil.benesch@gmail.com>
Date:   Tue Apr 14 00:50:05 2020 -0400

    Merge pull request #2645 from benesch/sasl2-sys
    
    deps: bump sasl2-sys

commit 1d5beb1d21705a7eda4c729ec5b02acda8430568
Author: Nikhil Benesch <nikhil.benesch@gmail.com>
Date:   Mon Apr 13 20:58:39 2020 -0400

    deps: bump sasl2-sys
    
    The latest version avoids depending on nroff, which is not available in
    CI. (Unclear why the failure only happened occasionally; probably a bug
    in the sasl2-sys build system.)

commit 1b9ecc7556fb452e5949129dd9ce1ee291c67ca2
Merge: 696ef88ee cc7491709
Author: Nikhil Benesch <nikhil.benesch@gmail.com>
Date:   Mon Apr 13 20:38:26 2020 -0400

    Merge pull request #2630 from MaterializeInc/dependabot/cargo/structopt-0.3.13
    
    build(deps): bump structopt from 0.3.12 to 0.3.13

commit 696ef88eec5bc10e54b16449ec6daac1c0e7e73f
Merge: 66341d388 f05f765a3
Author: Justin Jaffray <justin.jaffray@gmail.com>
Date:   Mon Apr 13 13:02:17 2020 -0400

    Merge pull request #2615 from justinj/update-view
    
    Make mz_perf_arrangement_records use a left join

commit 66341d38835dbaff9970ebb2e4ecdb525cd70bb7
Author: Brennan Vincent <brennan@materialize.io>
Date:   Mon Apr 13 12:18:35 2020 -0400

    Add comment in decode/avro.rs (#2641)

commit f05f765a3078a777c4ef095b889f9c36172b037e
Author: Justin Jaffray <justin.jaffray@gmail.com>
Date:   Thu Apr 9 12:36:50 2020 -0400

    Make mz_perf_arrangement_records use a left join
    
    Fixes #2040.
    
    Might have missed somewhere, but I couldn't find another place where
    this seemed appropriate.

commit b5f136bc1c433e2b70ee711fc2b2178f71ade025
Merge: cb568af10 538bb6440
Author: Nikhil Benesch <nikhil.benesch@gmail.com>
Date:   Mon Apr 13 10:59:47 2020 -0400

    Merge pull request #2441 from benesch/fallible-dataflow
    
    dataflow: thread runtime errors through rendering

commit cc7491709f7bef2e5e4931fee20bb7219ed5e406
Author: dependabot-preview[bot] <27856297+dependabot-preview[bot]@users.noreply.github.com>
Date:   Mon Apr 13 14:56:54 2020 +0000

    build(deps): bump structopt from 0.3.12 to 0.3.13
    
    Bumps [structopt](https://github.com/TeXitoi/structopt) from 0.3.12 to 0.3.13.
    - [Release notes](https://github.com/TeXitoi/structopt/releases)
    - [Changelog](https://github.com/TeXitoi/structopt/blob/master/CHANGELOG.md)
    - [Commits](https://github.com/TeXitoi/structopt/commits)
    
    Signed-off-by: dependabot-preview[bot] <support@dependabot.com>

commit cb568af100224d82732defc800c4b85b51bf0715
Merge: 691ec1f43 f4d260d93
Author: Nikhil Benesch <nikhil.benesch@gmail.com>
Date:   Mon Apr 13 10:56:53 2020 -0400

    Merge pull request #2623 from benesch/js-lang-tests
    
    test: add some JavaScript tests

commit 691ec1f438ad99e26599704ee57d7a855a989251
Merge: 15f5d56de ca6536a0c
Author: Nikhil Benesch <nikhil.benesch@gmail.com>
Date:   Mon Apr 13 10:55:01 2020 -0400

    Merge pull request #2631 from MaterializeInc/dependabot/cargo/thiserror-1.0.15
    
    build(deps): bump thiserror from 1.0.14 to 1.0.15

commit 15f5d56deab70469460d38b60491cf8c6f79595e
Merge: c8ba21926 84ea6e590
Author: Nikhil Benesch <nikhil.benesch@gmail.com>
Date:   Mon Apr 13 10:54:54 2020 -0400

    Merge pull request #2634 from MaterializeInc/dependabot/cargo/tracing-subscriber-0.2.4
    
    build(deps): bump tracing-subscriber from 0.2.3 to 0.2.4

commit c8ba21926c90d4bd9c21a69dc78642af3c66f524
Merge: 14c989934 2e9e45895
Author: Nikhil Benesch <nikhil.benesch@gmail.com>
Date:   Mon Apr 13 10:54:32 2020 -0400

    Merge pull request #2635 from MaterializeInc/dependabot/cargo/smallvec-1.3.0
    
    build(deps): bump smallvec from 1.2.0 to 1.3.0

commit 14c9899346a0eebadbe030c23d093a46d3495e89
Merge: ccac0fd73 6d27a6655
Author: Justin Jaffray <justin.jaffray@gmail.com>
Date:   Mon Apr 13 10:43:47 2020 -0400

    Merge pull request #2620 from justinj/show-where
    
    Support SHOW DATABASES { WHERE | LIKE }

commit ca6536a0cb35b282a128662975a727e997a61e0e
Author: dependabot-preview[bot] <27856297+dependabot-preview[bot]@users.noreply.github.com>
Date:   Mon Apr 13 14:17:46 2020 +0000

    build(deps): bump thiserror from 1.0.14 to 1.0.15
    
    Bumps [thiserror](https://github.com/dtolnay/thiserror) from 1.0.14 to 1.0.15.
    - [Release notes](https://github.com/dtolnay/thiserror/releases)
    - [Commits](https://github.com/dtolnay/thiserror/compare/1.0.14...1.0.15)
    
    Signed-off-by: dependabot-preview[bot] <support@dependabot.com>

commit ccac0fd73f6eee63f99bc4e977875617fbb3731a
Merge: a31c988e1 c22c1f05c
Author: Nikhil Benesch <nikhil.benesch@gmail.com>
Date:   Mon Apr 13 10:16:05 2020 -0400

    Merge pull request #2636 from MaterializeInc/dependabot/cargo/tokio-0.2.18
    
    build(deps): bump tokio from 0.2.16 to 0.2.18

commit a31c988e1ed37667e355c63905508b890e039891
Merge: 81fe56d86 f0b1d19c0
Author: Nikhil Benesch <nikhil.benesch@gmail.com>
Date:   Mon Apr 13 10:15:39 2020 -0400

    Merge pull request #2637 from MaterializeInc/dependabot/cargo/dogsdogsdogs-2aa113c
    
    build(deps): bump dogsdogsdogs from `e381bfb` to `2aa113c`

commit 6d27a66551a80a5515cbce93b62baa06fc957684
Author: Justin Jaffray <justin.jaffray@gmail.com>
Date:   Fri Apr 10 12:59:22 2020 -0400

    Support SHOW DATABASES { WHERE | LIKE }
    
    Relevant to #1529.
    
    This is an initial spike at support `SHOW ... WHERE` that only supports
    SHOW DATABASES. Remaining work after this involves:
    * supporting SHOW VIEWS ... which I think is fundamentally the same but
      involves reogranizing some logic.
    * supporting other SHOW variants, some of which have multiple columns
      (I'm not yet sure how they choose what column to use for `LIKE`).
    
    This uses a different approach than the existing implementations of LIKE
    which I think is a little more generalizable: rather than running the
    predicate on each row as the plan is generated, it just shoves all the
    rows into a constant relational expression and puts a filter on top and
    lets the execution engine (or more likely, the optimizer) sort out the
    details.

commit f0b1d19c0722343b76761485410d0ac45bae2658
Author: dependabot-preview[bot] <27856297+dependabot-preview[bot]@users.noreply.github.com>
Date:   Mon Apr 13 10:47:48 2020 +0000

    build(deps): bump dogsdogsdogs from `e381bfb` to `2aa113c`
    
    Bumps [dogsdogsdogs](https://github.com/TimelyDataflow/differential-dataflow) from `e381bfb` to `2aa113c`.
    - [Release notes](https://github.com/TimelyDataflow/differential-dataflow/releases)
    - [Commits](https://github.com/TimelyDataflow/differential-dataflow/compare/e381bfb1b7ef1ea9fa2424c844628768f0d0d947...2aa113cfdd471ac9f1e6f7267ff2dbdbbdb02c03)
    
    Signed-off-by: dependabot-preview[bot] <support@dependabot.com>

commit c22c1f05c1c99a861d228705e256085e7e2ed088
Author: dependabot-preview[bot] <27856297+dependabot-preview[bot]@users.noreply.github.com>
Date:   Mon Apr 13 10:47:12 2020 +0000

    build(deps): bump tokio from 0.2.16 to 0.2.18
    
    Bumps [tokio](https://github.com/tokio-rs/tokio) from 0.2.16 to 0.2.18.
    - [Release notes](https://github.com/tokio-rs/tokio/releases)
    - [Commits](https://github.com/tokio-rs/tokio/compare/tokio-0.2.16...tokio-0.2.18)
    
    Signed-off-by: dependabot-preview[bot] <support@dependabot.com>

commit 2e9e458953c6c5d4abb10a44068c662bc77c7c33
Author: dependabot-preview[bot] <27856297+dependabot-preview[bot]@users.noreply.github.com>
Date:   Mon Apr 13 10:46:46 2020 +0000

    build(deps): bump smallvec from 1.2.0 to 1.3.0
    
    Bumps [smallvec](https://github.com/servo/rust-smallvec) from 1.2.0 to 1.3.0.
    - [Release notes](https://github.com/servo/rust-smallvec/releases)
    - [Commits](https://github.com/servo/rust-smallvec/compare/v1.2.0...v1.3.0)
    
    Signed-off-by: dependabot-preview[bot] <support@dependabot.com>

commit 84ea6e5902fb2a62e1f500c2d4de310ecbaca1fa
Author: dependabot-preview[bot] <27856297+dependabot-preview[bot]@users.noreply.github.com>
Date:   Mon Apr 13 10:46:24 2020 +0000

    build(deps): bump tracing-subscriber from 0.2.3 to 0.2.4
    
    Bumps [tracing-subscriber](https://github.com/tokio-rs/tracing) from 0.2.3 to 0.2.4.
    - [Release notes](https://github.com/tokio-rs/tracing/releases)
    - [Commits](https://github.com/tokio-rs/tracing/compare/tracing-subscriber-0.2.3...tracing-subscriber-0.2.4)
    
    Signed-off-by: dependabot-preview[bot] <support@dependabot.com>

commit 81fe56d8690f8ee07a3164e538001f0cab1bf4e8
Merge: 093c57484 74d8d7771
Author: Sean Loiselle <sean@materialize.io>
Date:   Sun Apr 12 23:23:53 2020 -0400

    Merge pull request #2628 from sploiselle/metabase-rewording
    
    docs: reword metabase guidance for surfacing views' embedded queries

commit 74d8d7771c2765e79b49713ea5206baa91e72cd4
Author: Sean Loiselle <himself@seanloiselle.com>
Date:   Sun Apr 12 15:52:28 2020 -0400

    docs: reword metabase guidance for surfacing views' embedded queries

commit 093c574846392a2f94bcb88404b13cba2b6714ce
Merge: 5ce6bc247 791ec29b8
Author: Nikhil Benesch <nikhil.benesch@gmail.com>
Date:   Sun Apr 12 11:56:06 2020 -0400

    Merge pull request #2483 from benesch/search
    
    www: add ability to search docs

commit 5ce6bc247d7dbbbf071c66fef9e9b498bd93b7ba
Merge: 5a223613c a1601e812
Author: Nikhil Benesch <nikhil.benesch@gmail.com>
Date:   Sat Apr 11 23:55:18 2020 -0400

    Merge pull request #2626 from benesch/rel-note-copyedit
    
    doc/user: copyedit 0.2 release notes

commit 538bb64402223b8fdabaeffb1eac6558e8863d52
Author: Nikhil Benesch <nikhil.benesch@gmail.com>
Date:   Thu Mar 19 18:14:25 2020 -0400

    dataflow: thread runtime errors through rendering
    
    Dataflow graphs are now built with two parallel trees of computation:
    the oks tree and the errs tree. At any point where computation can fail,
    errors can be injected into the errs tree. For example:
    
        oks1  errs1       oks2  errs2
          |     |           |     |
          |     |           |     |
       project  |           |     |
          |     |           |     |
          |     |           |     |
         map    |           |     |
          |\    |           |     |
          | \   |           |     |
          |  \  |           |     |
          |   \ |           |     |
          |    \|           |     |
       project  +           +     +
          |     |          /     /
          |     |         /     /
        join ------------+     /
          |     |             /
          |     | +----------+
          |     |/
         oks   errs
    
    The project operation cannot fail, so errors from errs1 are propagated
    directly. Map operators are fallible and so can inject additional errors
    into the stream. Join operators combine the errors from each of their
    inputs.
    
    Completing a peek now involves checking the errs stream. The presence of
    even a single error indicates that the computation is in an error state,
    and we simply choose whatever error sorts first to return to the client.
    
    If the error-causing data is later removed from the oks stream, the
    computation will naturally remove the errors from the errs stream, and
    peeking the computation will no longer return an error.
    
    Future improvements include:
    
      * Allowing sources to produce errors. In this patch, all sources are
        forced to have a permanently empty error stream.
    
      * Allowing users to view the error stream directly. At the moment, if
        a stream has multiple errors, there is no way to see any error but
        the first.
    
    Fix #489.

commit a1601e812155d5031f740c25cf9593b17c426cb8
Author: Nikhil Benesch <nikhil.benesch@gmail.com>
Date:   Sat Apr 11 21:02:51 2020 -0400

    doc/user: copyedit 0.2 release notes

commit 791ec29b8f5384cf1d2951511cda001574d679aa
Author: Nikhil Benesch <nikhil.benesch@gmail.com>
Date:   Mon Mar 30 16:50:46 2020 -0400

    www: add ability to search docs
    
    This adds a search box to the sidebar that's powered by Algolia
    DocSearch. It's not perfect, but probably better than not having any
    search at all.

commit 5a223613c0aec57f2c6e57b8cd311a347ce12cf0
Merge: 58fad8a02 eb0fcb30a
Author: Nikhil Benesch <nikhil.benesch@gmail.com>
Date:   Sat Apr 11 19:03:45 2020 -0400

    Merge pull request #2621 from benesch/async-testdrive
    
    testdrive: properly async-ify

commit 58fad8a02a45adfff65b935497f600ec247899eb
Author: Brennan Vincent <brennan@materialize.io>
Date:   Sat Apr 11 18:58:05 2020 -0400

    Update docs for v0.2.0 (#2625)

commit 950977a7acdb7f398cbdcb485765dec95c155c3f
Author: Brennan Vincent <brennan@materialize.io>
Date:   Sat Apr 11 18:47:49 2020 -0400

    Bump master to v0.2.1-dev (#2624)

commit f4d260d93762ec71a8bb3f2c3881c676c95f4051
Author: Nikhil Benesch <nikhil.benesch@gmail.com>
Date:   Sat Apr 11 15:10:39 2020 -0400

    test: add some JavaScript tests
    
    The rust-postgres client is a bit too helpful in doing client-side
    validations, making it difficult to test things like a query with an
    incorrect number of bind parameters. The JavaScript Postgres driver is
    far less strict about this, so add support for writing tests in
    JavaScript.
    
    We'll likely want to expand our support for testing in other languages,
    so I've set up a new test/lang directory to facilitate future expansion
    of these non-Rust test suites.
    
    Fix #2610.

commit eb0fcb30ab42a85ae5e7f36d3fac4777d1994df2
Author: Nikhil Benesch <nikhil.benesch@gmail.com>
Date:   Fri Apr 10 17:56:18 2020 -0400

    testdrive: properly async-ify
    
    Make testdrive use the async/await sugar, rather than manually
    constructing futures and driving them around with a Tokio runtime.  We
    don't actually care about or unlock the performance benefits of
    async/await--this is test code, and not performance sensitive--but
    because testdrive uses so many async components, using async/await is
    far more ergonomic.
    
    Hopefully this makes folks a lot less confused about how to use async
    components in testdrive.
    
    Note that the Avro OCF writer does not have an async library, and
    presumably won't be the only testdrive dependency with no async support,
    so a sync compatibility shim is provided for the actions that need it.

commit 54f9318de3aa626bbed2cb0310beca45edf9bb7d
Author: Jessica Laughlin <JLDLaughlin@users.noreply.github.com>
Date:   Fri Apr 10 13:15:18 2020 -0400

    Read from Kinesis streams with multiple shards (#2590)
    
    Expands dataflow::source::kinesis as well as the
    testdrive implementation of reading from Kinesis streams.

commit 31462f0d9e3e6fb28953599a9a08bf00c4ae8d92
Author: Ruchir Khaitan <ruchir0001@gmail.com>
Date:   Fri Apr 10 12:07:53 2020 -0400

    docs: update docs for create sink + release notes (#2550)
    
    Adds docs + release notes for new sink functionality

commit 261fca35bb9cd498a9b4f1a9cb4393e17834977a
Merge: 080a86cbb 8cb2716a1
Author: Sean Loiselle <sean@materialize.io>
Date:   Thu Apr 9 20:48:21 2020 -0400

    Merge pull request #2586 from sploiselle/kerberized-kafka
    
    Kerberized kafka login

commit 080a86cbbb33887bd85c499ec446282502c38a8f
Merge: 3b275bb0d 8a7d1d05a
Author: Nikhil Benesch <nikhil.benesch@gmail.com>
Date:   Thu Apr 9 20:36:30 2020 -0400

    Merge pull request #2618 from benesch/ci-postgres
    
    ci: probably fix slow-to-start postgres

commit 8a7d1d05a80e79450e4d7e47880fd8bfbceb0927
Author: Nikhil Benesch <nikhil.benesch@gmail.com>
Date:   Thu Apr 9 17:03:06 2020 -0400

    ci: probably fix slow-to-start postgres
    
    Apparently just waiting for the PostgreSQL port to have a listener bound
    is insufficient, as PostgreSQL might yet reject the connection during
    server startup. Check using the pg_isready utility, which presumably
    does things properly.

commit 8cb2716a1079440819e6144c4e089d7f1d5c076e
Author: Sean Loiselle <himself@seanloiselle.com>
Date:   Mon Mar 30 11:57:59 2020 -0400

    integration: expose Kafka configs for kerberized clusters

commit 3b275bb0dc96ea225c508be02b7705a7837a1721
Merge: 4cd7a2b25 b5cb8b9c8
Author: Nikhil Benesch <nikhil.benesch@gmail.com>
Date:   Thu Apr 9 18:56:10 2020 -0400

    Merge pull request #2606 from benesch/env
    
    expr,sql: replace EvalEnv with PlanContext

commit 4cd7a2b25284d7c008c4c8671ed7fe605959e7de
Author: Brandon W Maister <bwm@materialize.io>
Date:   Thu Apr 9 17:04:54 2020 -0400

    Don't allow running dc.sh in parallel (#2611)
    
    The behavior is basically undefined, and if you happen to be on a shared ec2 instance
    with multiple people working simultaneously (or with the automation) it can cause serious
    problems.

commit b5cb8b9c8d5b80bece64af3cc0c7f3ca7cf511b1
Author: Nikhil Benesch <nikhil.benesch@gmail.com>
Date:   Wed Apr 8 15:55:11 2020 -0400

    expr,sql: replace EvalEnv with PlanContext
    
    EvalEnv represented plan-local (or dataflow-local) state, like the
    logical time chosen for the query's execution, or the wall time at which
    the query was planned. It was intended to one day store information
    from the session that planned the query, like the session timezone,
    which impacts how e.g. timestamptzs are parsed and formatted.
    
    Unfortunately the approach made cross-dataflow optimization hard. Two
    plans will almost always have different wall times, and in the future
    might have different timezones... but most plans don't actually
    reference the wall time (or the timezone, in the future), and so it's
    perfectly safe to share dataflow fragments across these dataflows, even
    though their EvalEnvs differ.
    
    Instead, we can inline the EvalEnv into the AST.
    
    So
    
        ScalarExpr::CallNullary(NullaryFunc::Now)
    
    becomes:
    
        ScalarExpr::Literal(<inlined now>).
    
    If we had timezones,
    
        ScalarExpr::CallBinary(BinaryFunc::CastTimestampTzToString)
    
    would become:
    
        ScalarExpr::CallBinary(BinaryFunc::CastTimestampTzToString(<inlined tz>))
    
    Determining whether a dataflow fragment can be shared now reduces to the
    problem of determining whether two RelationExprs are equivalent.
    
    The EvalEnv becomes a catalog/sql/coord-only concern, now called
    PlanContext. If the plan results in creating a new item, then the
    PlanContext needs to be persisted alongside the item, but otherwise the
    PlanContext is entirely handled by the process of planning the SQL
    query.

commit 25d64e32ac74f8bc814d57522d327d2ae93b8e82
Merge: e88d8015a f7d9e493b
Author: Andi Wang <5522362+wangandi@users.noreply.github.com>
Date:   Thu Apr 9 16:28:45 2020 -0400

    Merge pull request #2493 from wangandi/readkeyvaluetopics
    
    Enable decoding of key-value input/creating upsert envelope sources.

commit f7d9e493b88cf174c9b82dbecd9e139bd8121e9b
Author: Andi Wang <andi@materialize.io>
Date:   Thu Apr 9 12:27:29 2020 -0400

    Fix rebase; disable upsert in certain cases.

commit e88d8015ae6be83d435cad5688ab0fe15fe04848
Author: Brandon W Maister <bwm@materialize.io>
Date:   Thu Apr 9 14:58:31 2020 -0400

    dc.sh: Improve log output on load test, make sure prometheus is up (#2612)
    
    This doesn't emit possibly 10s of thousands of lines of chbench logs, just the last 50.
    
    The changes to dc_logs are ugly, the right thing to do is to more formally support
    --tail, but that requires changine the external api and doesn't seem like it's worth it.

commit e236c55c937f7a959a34226256c11e402ae697f5
Merge: 00a07c3dd ed3c11a38
Author: Justin Jaffray <justin.jaffray@gmail.com>
Date:   Thu Apr 9 13:11:07 2020 -0400

    Merge pull request #2593 from justinj/check-param
    
    Ensure sufficiently many parameters were provided

commit ed3c11a38ad67505b35867dc94a1b1249fe400e3
Author: Justin Jaffray <justin.jaffray@gmail.com>
Date:   Wed Apr 8 13:47:47 2020 +0000

    Ensure sufficiently many parameters were provided
    
    Fixes #2591.
    
    Previously, the following node program would crash Materialize:
    
    ```node
    const { Client } = require('pg')
    const client = new Client({
      host: 'localhost',
      port: 6875,
    });
    
    client.connect();
    
    client.query({
      text: 'select $1::int + $2::int',
      values: [1],
    }, (err, res) => {
      console.log(err);
      console.log(res);
      client.end()
    });
    ```

commit 00a07c3dd14869a8410ecf0cd2a34b5e29bd90de
Author: Frank McSherry <fmcsherry@me.com>
Date:   Thu Apr 9 12:35:08 2020 -0400

    Remove uses of un-demanded columns (#2603)
    
    Demand analysis would indicate that some columns could be set to dummy values, but eager evaluation in e.g. Map and Reduce could result in runtime errors. This is not a problem at the moment in the code as runtime errors are just cast to Null and never read. However, with upcoming runtime errors it seemed worth fixing anyhow.
    
    fixes #2601

commit d4d75a7d230a8cf2a966df411a5af76b6a7dbac0
Author: Andi Wang <andi@materialize.io>
Date:   Wed Apr 8 17:50:24 2020 -0400

    Move drop_key functionality to where it is called.

commit 19b18d8853eba7ab43168b8e8d47d44e916abca4
Author: Andi Wang <andi@materialize.io>
Date:   Wed Apr 8 10:31:30 2020 -0400

    Add data-consistency to compaction-kafka tests.

commit 1715e512fcd68af97b862d8cf97cfcb6c222c3bf
Author: Andi Wang <andi@materialize.io>
Date:   Mon Apr 6 18:53:23 2020 -0400

    Connect to arrange_from_upsert.

commit 1568fc7f62cbd2dcc69bb1b581ea6d6b1daf3919
Author: Andi Wang <andi@materialize.io>
Date:   Fri Apr 3 16:38:39 2020 -0400

    Support null payloads.

commit 78830a5c9fc17ef552e8bce1cad9b95784475890
Author: Andi Wang <andi@materialize.io>
Date:   Thu Mar 26 17:46:55 2020 -0400

    Read from log-compacted topics.

commit 78662d70375916ec6c58f2cd28d69103da68c6d9
Merge: 7a0e242b1 1d6c581c0
Author: Justin Jaffray <justin.jaffray@gmail.com>
Date:   Thu Apr 9 10:11:03 2020 -0400

    Merge pull request #2595 from justinj/pgcode-mod
    
    Add a pgcode module

commit 1d6c581c09eb4ee1dcd7bc155d4f532c0a17fdef
Author: Justin Jaffray <justin.jaffray@gmail.com>
Date:   Wed Apr 8 14:49:37 2020 +0000

    Use the rust-postgres error codes in pgwire

commit 7a0e242b1efbe7893ffbb09745509d6b580a5af7
Author: Brennan Vincent <brennan@materialize.io>
Date:   Thu Apr 9 09:10:26 2020 -0400

    Fix typo in release documentation (#2605)

commit 5747d3cbb13177e0f44b762943e2919262ecbc96
Author: Brennan Vincent <brennan@materialize.io>
Date:   Thu Apr 9 00:03:09 2020 -0400

    Fix skew (#2604)

commit dcda03872020f88080667f71aeab817b521e5952
Author: Brennan Vincent <brennan@materialize.io>
Date:   Wed Apr 8 22:23:21 2020 -0400

    Make Avro reading synchronous again. (#2602)

commit 182ad7afaaf36617338b7f9b1edcaf5875779f83
Merge: eba91ddd2 af7584400
Author: Justin Jaffray <justin.jaffray@gmail.com>
Date:   Wed Apr 8 17:56:09 2020 -0400

    Merge pull request #2589 from justinj/exp
    
    Support placeholders in EXPLAIN

commit eba91ddd219dabeaf01b39dfc3fc8a037bf98dbb
Merge: ab955348a bdffe751b
Author: Jamie Brandon <jamie@scattered-thoughts.net>
Date:   Wed Apr 8 14:05:12 2020 -0700

    Merge pull request #2600 from jamii/datum-array
    
    Add ScalarType::Array

commit bdffe751b40a9e541fbcb5df3f9626951edf083a
Author: Jamie Brandon <jamie@scattered-thoughts.net>
Date:   Wed Apr 8 13:43:21 2020 -0700

    Add ScalarType::Array

commit af75844008e07527c15ddc4e65a7dd10c428de8c
Author: Justin Jaffray <justin.jaffray@gmail.com>
Date:   Tue Apr 7 18:14:49 2020 +0000

    Support placeholders in EXPLAIN
    
    Fixes #2498.
    
    Two halves to changing this: first, we have to pass through the param
    types of a query to also be the types of its corresponding EXPLAIN, and
    second, we have to make sure we bind any params when EXPLAINing.

commit 1b8b1babca619ae160efee7302757093404f2324
Author: Justin Jaffray <justin.jaffray@gmail.com>
Date:   Tue Apr 7 18:41:14 2020 +0000

    allow src/sql/statement.rs to rustfmt

commit ab955348ac9927e066490a39d141804f70382b5f
Author: Jessica Laughlin <JLDLaughlin@users.noreply.github.com>
Date:   Wed Apr 8 15:12:36 2020 -0400

    Set database for mtrlz-shell (#2594)

commit 23845ef01f8ca55f40b753ac3b4d0d5ee4b2aaf4
Merge: 0faca7ef5 6c9197457
Author: Natacha Crooks <nacrooks@gmail.com>
Date:   Wed Apr 8 13:14:01 2020 -0400

    Merge pull request #2534 from nacrooks/debezium
    
    Adding support for Debezium-style transactional guarantees.

commit 6c91974579aaca246a0c39c632408330336baed3
Author: Natacha Crooks <nacrooks@gmail.com>
Date:   Wed Apr 8 12:39:50 2020 -0400

    Fixing bug in identify_consistency_format

commit 01c0074981adec15e075fd8c7a333b297d9cfba5
Author: Natacha Crooks <nacrooks@gmail.com>
Date:   Wed Apr 8 11:19:52 2020 -0400

    Adding additional exception to clippy

commit 4685159c353340e4ed786e62f778e3735879fdcb
Author: Natacha Crooks <nacrooks@gmail.com>
Date:   Tue Mar 24 17:43:43 2020 -0400

    Add support for Debezium consistency topic and for recognising consistency format automatically

commit 0faca7ef5443d67d70e562d9d00a1f0b489f7dc0
Author: Jessica Laughlin <JLDLaughlin@users.noreply.github.com>
Date:   Wed Apr 8 10:34:45 2020 -0400

    Refactor i32 partition ids to PartitionId enum (#2574)
    
    Expands the representation of partition or shard ids from
    i32s to match the unique id of the source's partition or
    shard type (ie: Strings for Kinesis shards).

commit f574ca703019de99d5fd064887454e4cc2ee4ee4
Author: Frank McSherry <fmcsherry@me.com>
Date:   Wed Apr 8 07:50:35 2020 -0400

    add unmaterialized tail test (#2587)

commit c4bf03ed40d8caa24a39d2234595a6d6a1ae7ca8
Merge: 2d7378e90 d21a64dd4
Author: Jamie Brandon <jamie@scattered-thoughts.net>
Date:   Tue Apr 7 13:56:07 2020 -0700

    Merge pull request #2573 from jamii/explain-docs
    
    EXPLAIN docs

commit d21a64dd4063fe19ea0fc4d1907a9a8e9f451a74
Author: Jamie Brandon <jamie@scattered-thoughts.net>
Date:   Tue Apr 7 13:31:50 2020 -0700

    Update explain.md
    
    `EXPLAIN PLAN ...` is equivalent to `EXPLAIN OPTIMIZED PLAN ...`, rather than printing every stage.

commit 2d7378e907bdca76611fd7f342116314d5c4729f
Merge: 3f5308c1d d52ef2bae
Author: Nikhil Benesch <nikhil.benesch@gmail.com>
Date:   Tue Apr 7 16:11:28 2020 -0400

    Merge pull request #2588 from benesch/gitfail
    
    materialized: improve error if unable to fetch commit SHA during build

commit d52ef2bae31b96e400cc941a24b8795669da78db
Author: Nikhil Benesch <nikhil.benesch@gmail.com>
Date:   Tue Apr 7 14:53:27 2020 -0400

    materialized: improve error if unable to fetch commit SHA during build

commit 5f223415a103cf87bee9ed31b1bb91736f71e81c
Author: Sean Loiselle <himself@seanloiselle.com>
Date:   Tue Apr 7 15:03:38 2020 -0400

    docs: copy edits for explain

commit 3f5308c1da9a8b96b132aa3e37a81c2a1bc766f6
Author: Brennan Vincent <brennan@materialize.io>
Date:   Tue Apr 7 14:58:07 2020 -0400

    Don't tell people to make a debug build (#2584)

commit 8ef1c752b8b470d84b1f742667e14f9a951bf7ea
Merge: d2d2a0850 a40a5577f
Author: Nikhil Benesch <nikhil.benesch@gmail.com>
Date:   Tue Apr 7 12:14:01 2020 -0400

    Merge pull request #2552 from benesch/testdrive-verify
    
    testdrive: harden sink verification

commit a40a5577f340fe53f2a1beabc7cb41adc3e1f2a9
Author: Nikhil Benesch <nikhil.benesch@gmail.com>
Date:   Mon Apr 6 00:43:11 2020 -0400

    testdrive: harden sink verification
    
    We guarantee order for sinks now, so we should test that. Turns out
    the fix in #2551 was unnecessary.
    
    Also includes a few assorted cleanups that I noticed, most notably
    timing out in 15 seconds if we're unable to read the expected number of
    messages from Kafka, rather than waiting around forever.

commit d2d2a0850547eeea13d5c4db04502e6801781918
Merge: c1f6dd7fc 37c8d471d
Author: Nikhil Benesch <nikhil.benesch@gmail.com>
Date:   Tue Apr 7 11:37:00 2020 -0400

    Merge pull request #2582 from benesch/testdrive-aws
    
    testdrive: rework AWS state for localstack edge router

commit c1f6dd7fcfa318fed8d92d96e21973569ac63c10
Merge: 2801812cf 490430a55
Author: Nikhil Benesch <nikhil.benesch@gmail.com>
Date:   Tue Apr 7 11:35:34 2020 -0400

    Merge pull request #2549 from benesch/testdrive-encoding
    
    testdrive: rework kafka ingestion transcoding

commit 2801812cfd392d57cce391fce91902aaa50c73d7
Author: Jessica Laughlin <JLDLaughlin@users.noreply.github.com>
Date:   Tue Apr 7 10:43:56 2020 -0400

    Add antipattern note to jsonb_agg (#2563)
    
    Creates a new doc page for jsonb_agg to document
    best practices and antipatterns of its usage.

commit 37c8d471d81821633fdeeafa50f9543474beb300
Author: Nikhil Benesch <nikhil.benesch@gmail.com>
Date:   Tue Apr 7 08:50:45 2020 -0400

    testdrive: rework AWS state for localstack edge router
    
    The latest version of localstack (v0.11) includes an edge router which
    exposes all AWS services on the same port (4566 by default). This makes
    our lives much easier, as testdrive doesn't need to track the Kinesis
    endpoint separately from the endpoint for other services.
    
    This patch does a few things:
    
      - Introduces --aws-region and --aws-endpoint options to configure
        the AWS region and endpoint that testdrive targets. These replace
        the --kinesis-region option.
    
        By default, these target a localstack region running at
        http://localhost:4566, which is correct for development
        environments.
    
        To test against real AWS, specify --aws-region=us-east-2 or another
        standard region of your choosing.
    
        To test against a localstack running on a nonstandard host or port,
        specify e.g. --aws-endpoint=http://host:1234.
    
      - Only fetches credentials when running against real AWS, and does so
        with a short timeout (5s). This prevents testdrive from blocking
        silently for 30s if AWS credentials are not present on the machine.
    
      - Adjusts action::State to carry around more strongly-typed
        AWS information, in an effort to reduce the number of fields.

commit 1844f14f95c20277b0bc4a466d765df40f203b0c
Merge: 7f9a00364 16bed270f
Author: Nikhil Benesch <nikhil.benesch@gmail.com>
Date:   Tue Apr 7 10:09:26 2020 -0400

    Merge pull request #2581 from benesch/testdrive-types
    
    testdrive: hoist option parsing into binary crate

commit 16bed270fc3d5a6f996fabab9c5d5ea25cfdd458
Author: Nikhil Benesch <nikhil.benesch@gmail.com>
Date:   Mon Apr 6 23:16:49 2020 -0400

    testdrive: hoist option parsing into binary crate
    
    Make testdrive::Config require real Rust types, like `Url`s and
    `postgres::Config`s, and move the requisite string parsing into the
    binary crate. This makes the Rust API of testdrive a bit nicer, and will
    allow the testdrive CLI options to not match exactly with the
    testdrive::Config fields, which will become important in a future
    commit.

commit 7f9a003647fb434b855d47f04f9993f4236670a7
Merge: 83237510b 95ace0125
Author: Nikhil Benesch <nikhil.benesch@gmail.com>
Date:   Tue Apr 7 09:06:35 2020 -0400

    Merge pull request #2555 from MaterializeInc/dependabot/cargo/serde-1.0.106
    
    Bump serde from 1.0.105 to 1.0.106

commit 83237510baf41c32b8ceabaec431d957a9a0587d
Merge: 037089998 ca4199e6a
Author: Sean Loiselle <sean@materialize.io>
Date:   Tue Apr 7 00:44:17 2020 -0400

    Merge pull request #2580 from sploiselle/page-title-fix
    
    set html title tag to page title by default

commit 037089998301779a9f1ae8a993fc96b2522b532f
Author: Brennan Vincent <brennan@materialize.io>
Date:   Mon Apr 6 22:42:19 2020 -0400

    Fix syntax in avro source docs (#2571)

commit a1c6c58ad071e0be1fdc61545a9f81f54b43125f
Author: Brennan Vincent <brennan@materialize.io>
Date:   Mon Apr 6 22:27:20 2020 -0400

    Change dev version to 0.2 (#2579)

commit 95ace0125ff99c1aae4623a7543431468e1f9da8
Author: dependabot-preview[bot] <27856297+dependabot-preview[bot]@users.noreply.github.com>
Date:   Tue Apr 7 02:25:45 2020 +0000

    Bump serde from 1.0.105 to 1.0.106
    
    Bumps [serde](https://github.com/serde-rs/serde) from 1.0.105 to 1.0.106.
    - [Release notes](https://github.com/serde-rs/serde/releases)
    - [Commits](https://github.com/serde-rs/serde/compare/v1.0.105...v1.0.106)
    
    Signed-off-by: dependabot-preview[bot] <support@dependabot.com>

commit 1077ce5535b14765bb4e02c529429689c23de8d7
Merge: 7b28339c9 b2a2947da
Author: Nikhil Benesch <nikhil.benesch@gmail.com>
Date:   Mon Apr 6 22:23:56 2020 -0400

    Merge pull request #2561 from benesch/serde-json-order
    
    testdrive: ditch serde_json preserve_order feature

commit 7b28339c99fb74435eaec56b00d6f863b826aec2
Merge: 0611362e6 724113fec
Author: Nikhil Benesch <nikhil.benesch@gmail.com>
Date:   Mon Apr 6 21:44:13 2020 -0400

    Merge pull request #2548 from benesch/sec
    
    ci/test: move security advisories check to dedicated job

commit ca4199e6a50f411f177dae4c21a43dd10246bba0
Author: Sean Loiselle <himself@seanloiselle.com>
Date:   Mon Apr 6 20:59:24 2020 -0400

    set html title tag to page title by default

commit 0611362e601ad5df833fe0420ff08dc1ced7966d
Author: Brennan Vincent <brennan@materialize.io>
Date:   Mon Apr 6 19:53:07 2020 -0400

    Don't attempt to add a line number, which doesn't make sense, to Debezium records (#2578)

commit 1d600f0a8efb56d01d08797cd7ac91c8b8e5b897
Merge: 93c428395 bdba98d4f
Author: Sean Loiselle <sean@materialize.io>
Date:   Mon Apr 6 19:46:16 2020 -0400

    Merge pull request #2575 from sploiselle/fix-docs-ordering
    
    docs: fix sidebar ordering

commit 93c4283952ed77e7cf7f38b5d6a7e4d6e28056fb
Author: Frank McSherry <fmcsherry@me.com>
Date:   Mon Apr 6 18:10:56 2020 -0400

    Use timestamp zero for tails of unmaterialized sources/views (#2520)
    
    This PR changes the behavior on TAIL requests for collections that are not materialized. Previously, we would error as we could not determine a time to tail from. Now, we use zero as the time. This PR also changes the behavior of TAIL to include updates at the current upper frontier of materialized collections, to align with the updates that are reflected by a SELECT statement at the same logical time.
    
    fixes #2519

commit bdba98d4ff8c6319c4973e223fb288d47ebe4e4a
Author: Sean Loiselle <himself@seanloiselle.com>
Date:   Mon Apr 6 17:03:11 2020 -0400

    docs: fix sidebar ordering

commit 5431f5a6937f1514961cb2c712a90bc916cefad8
Merge: 0913cb4f9 b056e7b87
Author: Sean Loiselle <sean@materialize.io>
Date:   Mon Apr 6 16:59:35 2020 -0400

    Merge pull request #2569 from sploiselle/monitoring-docs
    
    docs: create sketch for monitoring docs

commit 0913cb4f95349b313ed92d12f4f633d04e249f3a
Merge: 6d9a9378f 1f156a505
Author: Sean Loiselle <sean@materialize.io>
Date:   Mon Apr 6 16:58:54 2020 -0400

    Merge pull request #2564 from sploiselle/cli-docs
    
    CLI docs reorg

commit 1f156a505283cb169035d4e71f753dc231d24034
Author: Sean Loiselle <himself@seanloiselle.com>
Date:   Mon Apr 6 11:45:03 2020 -0400

    docs: fix broken links

commit 9fce36318df82a906845a6bb1120408543288fbb
Author: Jamie Brandon <jamie@scattered-thoughts.net>
Date:   Mon Apr 6 13:26:24 2020 -0700

    Edit doc

commit 6850a668f91530a5994937578855818aa68d41bb
Author: Jamie Brandon <jamie@scattered-thoughts.net>
Date:   Mon Apr 6 13:14:25 2020 -0700

    Tweak explain output to match the docs

commit b056e7b87fe04141d849b1850fa5791fbad37d06
Author: Sean Loiselle <himself@seanloiselle.com>
Date:   Mon Apr 6 14:46:54 2020 -0400

    docs: create sketch for monitoring docs

commit 2c235448ccf4b3b89ee00054c8e81d79ab7352da
Author: Jamie Brandon <jamie@scattered-thoughts.net>
Date:   Mon Apr 6 13:14:15 2020 -0700

    First pass at explain docs

commit 6d9a9378f29580f80cea14067f794d0a46a1bec7
Merge: 4a608b610 70e8cc826
Author: Sean Loiselle <sean@materialize.io>
Date:   Mon Apr 6 16:11:21 2020 -0400

    Merge pull request #2572 from sploiselle/type-cleanup
    
    docs: type cleanup

commit 4a608b61073505cc325bd947d7a1f3cfbc275c6f
Merge: d3fb2aafa 2f76780bb
Author: Sean Loiselle <sean@materialize.io>
Date:   Mon Apr 6 16:11:00 2020 -0400

    Merge pull request #2570 from sploiselle/current-timestmap-func
    
    docs: add current_timestamp

commit 70e8cc826d1f1b5792122a26add589b58cc01e6b
Author: Sean Loiselle <himself@seanloiselle.com>
Date:   Mon Apr 6 16:01:12 2020 -0400

    docs: integrate cast information, aliases, and make type names consistent

commit 2f76780bb717ca2d87bffbf55a070a9325342207
Author: Sean Loiselle <himself@seanloiselle.com>
Date:   Mon Apr 6 15:31:08 2020 -0400

    docs: add current_timestamp

commit d3fb2aafac0c684f2002fc7c8b82f9f5a1756896
Merge: 29c0663b3 63e8271e3
Author: Sean Loiselle <sean@materialize.io>
Date:   Mon Apr 6 12:42:12 2020 -0400

    Merge pull request #2566 from sploiselle/sync-bnf-hashes
    
    docs: sync bnf file hashes

commit 63e8271e32f95e2aa637df0607071df0b47039bb
Author: Sean Loiselle <himself@seanloiselle.com>
Date:   Mon Apr 6 12:39:26 2020 -0400

    docs: sync bnf file hashes

commit 29c0663b39c2600a1886696ef652442298e31e6b
Merge: 4b0d62872 ec8af41c0
Author: Jamie Brandon <jamie@scattered-thoughts.net>
Date:   Mon Apr 6 09:15:24 2020 -0700

    Merge pull request #2565 from jamii/update-release-notes
    
    Add EXPLAIN to release notes

commit ec8af41c0825391d8ee9a087dfb7836289a62806
Author: Jamie Brandon <jamie@scattered-thoughts.net>
Date:   Mon Apr 6 09:11:40 2020 -0700

    Add EXPLAIN to release notes

commit c6fa02fae59854bfaefa12f32671fa9f8a697bab
Author: Sean Loiselle <himself@seanloiselle.com>
Date:   Mon Apr 6 11:34:44 2020 -0400

    docs: move CLI docs; integrate --w flag

commit 4b0d62872e03d15ec2a429875ec841747438161f
Merge: fd5c57a35 d1be9eeea
Author: Nikhil Benesch <nikhil.benesch@gmail.com>
Date:   Mon Apr 6 08:35:37 2020 -0400

    Merge pull request #2560 from MaterializeInc/dependabot/cargo/tokio-0.2.16
    
    Bump tokio from 0.2.13 to 0.2.16

commit b2a2947da41aa627dc00ebc594b0d16fbe365718
Author: Nikhil Benesch <nikhil.benesch@gmail.com>
Date:   Mon Apr 6 07:51:26 2020 -0400

    testdrive: ditch serde_json preserve_order feature
    
    This was made unnecessary with #2539, since we no longer depend upon
    (non-standard) JSON field ordering when converting JSON datums to Avro
    datums.

commit d1be9eeea2857c08e7d91d77def2911a1747ce93
Author: dependabot-preview[bot] <27856297+dependabot-preview[bot]@users.noreply.github.com>
Date:   Mon Apr 6 11:55:14 2020 +0000

    Bump tokio from 0.2.13 to 0.2.16
    
    Bumps [tokio](https://github.com/tokio-rs/tokio) from 0.2.13 to 0.2.16.
    - [Release notes](https://github.com/tokio-rs/tokio/releases)
    - [Commits](https://github.com/tokio-rs/tokio/compare/tokio-0.2.13...tokio-0.2.16)
    
    Signed-off-by: dependabot-preview[bot] <support@dependabot.com>

commit fd5c57a3532b64ebe8cfa41be821fcc0fcae0a97
Merge: 7888a9900 854a53ff8
Author: Nikhil Benesch <nikhil.benesch@gmail.com>
Date:   Mon Apr 6 07:53:56 2020 -0400

    Merge pull request #2556 from MaterializeInc/dependabot/cargo/dogsdogsdogs-e381bfb
    
    Bump dogsdogsdogs from `2fbea46` to `e381bfb`

commit 7888a9900a053df52da8741a57c0829104fff882
Merge: 2b4cf1fa2 6d58be6c4
Author: Nikhil Benesch <nikhil.benesch@gmail.com>
Date:   Mon Apr 6 07:53:50 2020 -0400

    Merge pull request #2557 from MaterializeInc/dependabot/cargo/anyhow-1.0.28
    
    Bump anyhow from 1.0.27 to 1.0.28

commit 2b4cf1fa25a2eb6676ab370962097ead7aed88d1
Merge: 5b85c1767 59fab4ec9
Author: Nikhil Benesch <nikhil.benesch@gmail.com>
Date:   Mon Apr 6 07:53:35 2020 -0400

    Merge pull request #2558 from MaterializeInc/dependabot/cargo/regex-1.3.6
    
    Bump regex from 1.3.5 to 1.3.6

commit 5b85c1767bb39998d48a38bb2f10d87145ee2d96
Merge: 09d67db39 7678c4e98
Author: Nikhil Benesch <nikhil.benesch@gmail.com>
Date:   Mon Apr 6 07:53:12 2020 -0400

    Merge pull request #2559 from MaterializeInc/dependabot/cargo/assert_cmd-1.0.1
    
    Bump assert_cmd from 1.0.0 to 1.0.1

commit 09d67db39aca7dfa9c333c32a2452d4cb07c7627
Merge: 5a4974b37 8be5bdd43
Author: Nikhil Benesch <nikhil.benesch@gmail.com>
Date:   Mon Apr 6 07:50:09 2020 -0400

    Merge pull request #2554 from MaterializeInc/dependabot/cargo/serde_json-1.0.51
    
    Bump serde_json from 1.0.50 to 1.0.51

commit 7678c4e9841003e3a398acfa7dbcf685e4f739c7
Author: dependabot-preview[bot] <27856297+dependabot-preview[bot]@users.noreply.github.com>
Date:   Mon Apr 6 10:53:21 2020 +0000

    Bump assert_cmd from 1.0.0 to 1.0.1
    
    Bumps [assert_cmd](https://github.com/assert-rs/assert_cmd) from 1.0.0 to 1.0.1.
    - [Release notes](https://github.com/assert-rs/assert_cmd/releases)
    - [Changelog](https://github.com/assert-rs/assert_cmd/blob/master/CHANGELOG.md)
    - [Commits](https://github.com/assert-rs/assert_cmd/compare/v1.0.0...v1.0.1)
    
    Signed-off-by: dependabot-preview[bot] <support@dependabot.com>

commit 59fab4ec958528471b783f166b7f96661d199c6f
Author: dependabot-preview[bot] <27856297+dependabot-preview[bot]@users.noreply.github.com>
Date:   Mon Apr 6 10:52:57 2020 +0000

    Bump regex from 1.3.5 to 1.3.6
    
    Bumps [regex](https://github.com/rust-lang/regex) from 1.3.5 to 1.3.6.
    - [Release notes](https://github.com/rust-lang/regex/releases)
    - [Changelog](https://github.com/rust-lang/regex/blob/master/CHANGELOG.md)
    - [Commits](https://github.com/rust-lang/regex/compare/1.3.5...1.3.6)
    
    Signed-off-by: dependabot-preview[bot] <support@dependabot.com>

commit 6d58be6c4b6141fc2120fdf6aa80835b89f62f74
Author: dependabot-preview[bot] <27856297+dependabot-preview[bot]@users.noreply.github.com>
Date:   Mon Apr 6 10:52:29 2020 +0000

    Bump anyhow from 1.0.27 to 1.0.28
    
    Bumps [anyhow](https://github.com/dtolnay/anyhow) from 1.0.27 to 1.0.28.
    - [Release notes](https://github.com/dtolnay/anyhow/releases)
    - [Commits](https://github.com/dtolnay/anyhow/compare/1.0.27...1.0.28)
    
    Signed-off-by: dependabot-preview[bot] <support@dependabot.com>

commit 854a53ff8058758577e5e22c6d234638664ef297
Author: dependabot-preview[bot] <27856297+dependabot-preview[bot]@users.noreply.github.com>
Date:   Mon Apr 6 10:52:04 2020 +0000

    Bump dogsdogsdogs from `2fbea46` to `e381bfb`
    
    Bumps [dogsdogsdogs](https://github.com/TimelyDataflow/differential-dataflow) from `2fbea46` to `e381bfb`.
    - [Release notes](https://github.com/TimelyDataflow/differential-dataflow/releases)
    - [Commits](https://github.com/TimelyDataflow/differential-dataflow/compare/2fbea46f5bedb2474133c18fcf5299ab70204956...e381bfb1b7ef1ea9fa2424c844628768f0d0d947)
    
    Signed-off-by: dependabot-preview[bot] <support@dependabot.com>

commit 8be5bdd43219abeeb54f842cd496f84149bcaf2e
Author: dependabot-preview[bot] <27856297+dependabot-preview[bot]@users.noreply.github.com>
Date:   Mon Apr 6 10:51:12 2020 +0000

    Bump serde_json from 1.0.50 to 1.0.51
    
    Bumps [serde_json](https://github.com/serde-rs/json) from 1.0.50 to 1.0.51.
    - [Release notes](https://github.com/serde-rs/json/releases)
    - [Commits](https://github.com/serde-rs/json/compare/v1.0.50...v1.0.51)
    
    Signed-off-by: dependabot-preview[bot] <support@dependabot.com>

commit 490430a55fdb477052f5a22cbbf8829b3695e58a
Author: Nikhil Benesch <nikhil.benesch@gmail.com>
Date:   Sat Apr 4 16:43:47 2020 -0400

    testdrive: clean up avro imports

commit a73f8b5bd731882617db7b30a0a69a76fbb11ad8
Author: Nikhil Benesch <nikhil.benesch@gmail.com>
Date:   Sat Apr 4 16:23:42 2020 -0400

    testdrive: rework kafka ingestion transcoding
    
    Testdrive now supports ingesting records with both keys and values into
    Kafka. Since `kafka-ingest` expects one line per Kafka record, that line
    needs to contain both the key and value. This is easy enough when the
    key or value format is Avro/Protobuf, as testdrive expects Avro/Protobuf
    input in JSON, and JSON is self delimiting. A line like
    
        {"a": 1}  null
    
    is easily separated into the key JSON ({"a": 1) and the value JSON
    (null).
    
    The bytes format is challenging, though, as the nature of an
    unstructured format like bytes means that there is no one universal
    separator that can be used to separate the key and value. Presently
    testdrive requires that bytes input be a JSON-formatted string, but this
    is unnecessarily limiting, as not all bytes input is representable as a
    JSON string.
    
    Instead, adopt the approach that kafka-console-producer uses of allowing
    a configurable separator between key and value. By default the separator
    is a `:` character, as in
    
        key: value
    
    but it can be configured via the `key-terminator` option:
    
        $ kafka-ingest key-format=bytes key-terminator=$
        key$ value
    
    Also rename the encoder to "transcoder" to capture the confusion that
    Andi and I had about whether it was a decoder or encoder: it's actually
    both.

commit 5a4974b378df451bad326d1d1c028387ba9d1e15
Merge: c1d400ef6 16c4c7027
Author: Nikhil Benesch <nikhil.benesch@gmail.com>
Date:   Sun Apr 5 22:27:27 2020 -0400

    Merge pull request #2551 from MaterializeInc/testdrive-org
    
    testdrive: put helper function in right spot

commit 16c4c70275c712646f43f077db7823f8e4252c02
Author: Nikhil Benesch <nikhil.benesch@gmail.com>
Date:   Sun Apr 5 17:07:59 2020 -0400

    testdrive: put helper function in right spot
    
    An Avro helper function does not belong in the top-level action mod.
    Also simplify its implementation and add tests.

commit c1d400ef6e2a1657cf32bee959f1ad17fee8ed24
Merge: c54e69a55 cd3e84378
Author: Jessica Laughlin <JLDLaughlin@users.noreply.github.com>
Date:   Sun Apr 5 12:21:57 2020 -0400

    Add Kinesis sources to testdrive (#2507)
    
    Expands CREATE SOURCE for Kinesis streams to
    include a token with option.
    Allows testdrive to hit a local version of Kinesis when
    running locally and the real AWS Kinesis service
    when running in CI.

commit cd3e843781e3eb26d6eac72f0caf676bd2db68ec
Merge: 634f06406 4a314b278
Author: JLDLaughlin <jessica@materialize.io>
Date:   Sun Apr 5 11:06:23 2020 -0400

    Merge branch 'kinesis-testdrive' of github.com:JLDLaughlin/materialize into kinesis-testdrive

commit 634f06406b7446be4145e7642e8e8b0b5b7dae30
Author: JLDLaughlin <jessica@materialize.io>
Date:   Sun Apr 5 11:06:16 2020 -0400

    map_err(), update testing docs

commit c54e69a556dfcce88678357d72cc0a1bc838043b
Merge: 3d2234262 9e4dbc166
Author: Nikhil Benesch <nikhil.benesch@gmail.com>
Date:   Sat Apr 4 13:21:38 2020 -0400

    Merge pull request #2547 from benesch/bump-h2
    
    deps: bump h2

commit 724113fec3e0a374fe8de9cb50359e51b56d47a2
Author: Nikhil Benesch <nikhil.benesch@gmail.com>
Date:   Sat Apr 4 12:59:25 2020 -0400

    ci/test: move security advisories check to dedicated job
    
    We don't want historical builds or PR builds failing just because a
    security vulnerability was discovered in one of our dependencies. These
    are serious, but not serious enough to warrant nondeterminism in our CI
    pipeline.
    
    Instead introduce a separate CI job whose only responsibility is to
    check for these vulnerabilites in the Rust advisory database. That job
    will be scheduled to run daily and post failures in Slack.

commit 9e4dbc1669084a72caef1a4f0af000b610cc484b
Author: Nikhil Benesch <nikhil.benesch@gmail.com>
Date:   Sat Apr 4 12:47:23 2020 -0400

    deps: bump h2
    
    This removes a duplicated copy of tokio-util.

commit 3d2234262709ba8c0701e1d70876488ce4caa593
Merge: f05920fae 9ba5f8c5c
Author: Nikhil Benesch <nikhil.benesch@gmail.com>
Date:   Sat Apr 4 12:45:27 2020 -0400

    Merge pull request #2546 from benesch/bump-rdkafka
    
    deps: bump rdkafka

commit 4a314b278903a3f8eb708aaaaf9f1ca6448cce98
Merge: 373c06239 f05920fae
Author: Jessica Laughlin <JLDLaughlin@users.noreply.github.com>
Date:   Sat Apr 4 12:30:35 2020 -0400

    Merge branch 'master' into kinesis-testdrive

commit 373c0623928abc637669845eaab52647fa87c01b
Author: JLDLaughlin <jessica@materialize.io>
Date:   Sat Apr 4 12:24:13 2020 -0400

    Add localstack docker-compose

commit caed6e0c56ef73c63a3ac57ed7a360dfb6084f4a
Author: JLDLaughlin <jessica@materialize.io>
Date:   Sat Apr 4 11:59:38 2020 -0400

    Pipe AWS token throught

commit 9ba5f8c5c1184af6342b5734aadbf231eb646d08
Author: Nikhil Benesch <nikhil.benesch@gmail.com>
Date:   Sat Apr 4 00:12:25 2020 -0400

    deps: bump rdkafka
    
    The new version supports vendoring libsasl.

commit f254437a531c1b0ad224a97acf12bdcf56107cd7
Author: JLDLaughlin <jessica@materialize.io>
Date:   Fri Apr 3 23:41:10 2020 -0400

    print out token

commit f05920fae9cec468e3f08c3b29929c132e2b731f
Author: Ruchir Khaitan <ruchir0001@gmail.com>
Date:   Fri Apr 3 23:17:22 2020 -0400

    Add tests for Avro OCF (#2541)

commit 262015f884bbe98cd85088be7059c2ee35ec87e9
Author: JLDLaughlin <jessica@materialize.io>
Date:   Fri Apr 3 23:11:12 2020 -0400

    Undo

commit 463ed2797994f1784d96fac2a290c390e8e79956
Merge: 48430858f b1fe9560c
Author: Sean Loiselle <sean@materialize.io>
Date:   Fri Apr 3 22:27:47 2020 -0400

    Merge pull request #2545 from sploiselle/interval-to-time-fix
    
    sql: fix cast_interval_to_time implementation

commit 57aa12a5635f889eb234c7d6f3cc1c0b4789ecc7
Author: JLDLaughlin <jessica@materialize.io>
Date:   Fri Apr 3 19:49:33 2020 -0400

    Imports

commit b1fe9560cefe31739adfb7459d15964b29c7c0e2
Author: Sean Loiselle <himself@seanloiselle.com>
Date:   Fri Apr 3 18:55:54 2020 -0400

    sql: fix cast_interval_to_time implementation

commit df3d90da38904ed6392f0b83dc190c7dab719497
Author: JLDLaughlin <jessica@materialize.io>
Date:   Fri Apr 3 17:47:13 2020 -0400

    Add ca-certificate to materialized

commit 48430858ff719b1add5810b1061f5a9335c39abb
Merge: bc194b9f2 7645243dd
Author: Brandon W Maister <bwm@materialize.io>
Date:   Fri Apr 3 15:55:15 2020 -0400

    Merge pull request #2514 from quodlibetor/avro-ocf-default-codec
    
    Support default codecs in avro ocf files

commit 6ed88355c39908ffee9dafa5ea612b72c95345f9
Author: JLDLaughlin <jessica@materialize.io>
Date:   Fri Apr 3 14:52:07 2020 -0400

    remove bail

commit 7645243dd322d7938acd0fda72165ceb48dec61c
Author: Brandon W Maister <bwm@materialize.io>
Date:   Tue Mar 31 17:40:34 2020 -0400

    Support default codecs in avro ocf files
    
    From the docs:
    
    > avro.codec ... If codec is absent, it is assumed to be “null”.
    
    https://avro.apache.org/docs/current/spec.html#Object+Container+Files

commit 311152e71571751eee4aab9407430aa0f5d0afae
Author: JLDLaughlin <jessica@materialize.io>
Date:   Fri Apr 3 14:22:29 2020 -0400

    Try bailing

commit bc194b9f2e909fb1778c8e8e3e6de7ddf2708ae8
Author: Brennan Vincent <brennan@materialize.io>
Date:   Fri Apr 3 14:14:23 2020 -0400

    Make json-to-avro properly reorder fields in Testdrive (#2539)
    
    Avro record values require that fields be listed in the order they appear in schemas, but users of Json, in general, expect to be able to write down object fields in whatever order they like without changing behavior.
    
    `avro-rs` already had a utility class for creating records with the fields in the proper order; we extend it slightly for this use case.
    
    While I'm here, fix some comments.
    
    I have not bothered including a test, because this behavior is already exercised by an as-yet-unlanded testdrive test that Natacha has, so it'll naturally be tested once that goes in.

commit 3367fce4852760b5ffd0ea2c27a422bf38bbb58b
Merge: 92e523541 cb4774fcc
Author: Andi Wang <5522362+wangandi@users.noreply.github.com>
Date:   Fri Apr 3 14:09:41 2020 -0400

    Merge pull request #2496 from wangandi/upsertparsing
    
    Parse and validate upsert envelope command.

commit 92e5235417eadea675c461d9e5e04b4d4d427693
Merge: 018edfea8 fa85c28e5
Author: Sean Loiselle <sean@materialize.io>
Date:   Fri Apr 3 13:43:07 2020 -0400

    Merge pull request #2506 from sploiselle/tail-docs
    
    docs: add tail

commit 018edfea83bedfb60dc336554fe019e3ecb2852d
Merge: e227ce420 be218ccf0
Author: Sean Loiselle <sean@materialize.io>
Date:   Fri Apr 3 13:42:40 2020 -0400

    Merge pull request #2542 from sploiselle/release-note-catchup
    
    docs: misc. docs cleanup

commit be218ccf0622a8ac143d8eb1df5debc7e362e7c4
Author: Sean Loiselle <himself@seanloiselle.com>
Date:   Fri Apr 3 13:36:47 2020 -0400

    docs: misc. docs cleanup including 2.0 release notes for col names and time casts

commit e227ce4201c6cbe804338e4b0c79eacf9b03a38b
Merge: 637e5cd03 0b94a9e5c
Author: Sean Loiselle <sean@materialize.io>
Date:   Fri Apr 3 13:11:51 2020 -0400

    Merge pull request #2540 from sploiselle/create-source-col-names
    
    docs: add option to name columns in create source

commit 637e5cd031b8f256e034e7dfecfc189f12f46f91
Merge: c42641fc8 255d92aeb
Author: Sean Loiselle <sean@materialize.io>
Date:   Fri Apr 3 13:11:23 2020 -0400

    Merge pull request #2527 from sploiselle/time-casts
    
    sql: support casts time->string, time->interval, interval->time

commit c42641fc810b0a6bf42ef00cee363d7383d994da
Author: Frank McSherry <fmcsherry@me.com>
Date:   Fri Apr 3 13:09:01 2020 -0400

    establish nullability of constant relations (#2538)
    
    We now update the type of constant relations to reflect the nullability of the constant values found therein. If all values in a column are non-null, the column is announced as non-nullable.
    
    Fixes #2529

commit cb4774fcc25fe10a6eb6d609d2a51ccdec77a5f1
Author: Andi Wang <andi@materialize.io>
Date:   Thu Mar 26 17:46:55 2020 -0400

    Parse and validate upsert envelope command.

commit d7733b6d495489c8e963cd4e1a85d96c958bb687
Author: Andi Wang <andi@materialize.io>
Date:   Thu Mar 26 17:46:55 2020 -0400

    Rename method to be less confusing.

commit 255d92aeb7865452b764a4242c9e885b8b8cdb78
Author: Sean Loiselle <himself@seanloiselle.com>
Date:   Thu Apr 2 11:13:44 2020 -0400

    sql: support casts time->string, time->interval, interval->time

commit 1794985cad156b84a850f7f56ff1a89831adf7a3
Merge: 22af5dd6f 38eba4a33
Author: Nikhil Benesch <nikhil.benesch@gmail.com>
Date:   Fri Apr 3 12:43:50 2020 -0400

    Merge pull request #2526 from benesch/rel-note-style
    
    doc/user: consistentize and document release notes

commit 0b94a9e5c0defc64e7315a7dea2ae8b89297fa1b
Author: Sean Loiselle <himself@seanloiselle.com>
Date:   Fri Apr 3 12:34:59 2020 -0400

    docs: add option to name columns in create source

commit 22af5dd6fd4db2b5ddafa8bcb4aeb8aa94ccbf00
Author: Frank McSherry <fmcsherry@me.com>
Date:   Fri Apr 3 12:22:07 2020 -0400

    Use distinct in Reduce on Constant (#2536)
    
    The constant folding for Reduce ignored the distinct field of the aggregation. Now it does not.
    
    Fixes #2535

commit 82ff2ef15a4e90972bad7aabe5534b6f5a0182ee
Merge: 40a0492b1 1830a29e6
Author: Sean Loiselle <sean@materialize.io>
Date:   Fri Apr 3 12:15:53 2020 -0400

    Merge pull request #2530 from sploiselle/csv-headers-v2
    
    sql: support naming columns in create source

commit 40a0492b1fb80e7d68260b7f6f63b560810bcd07
Merge: fd8f87b50 b99ac40f6
Author: Jamie Brandon <jamie@scattered-thoughts.net>
Date:   Fri Apr 3 08:45:02 2020 -0700

    Merge pull request #2531 from jamii/explain-row-set-finishing
    
    Explain RowSetFinishing

commit 1830a29e6e7bd38b6d66b5072ea34be0a8f5d314
Author: Sean Loiselle <himself@seanloiselle.com>
Date:   Wed Apr 1 16:50:43 2020 -0400

    sql: support naming columns in create source

commit 86e890cd2262a9ce4dc79435f0c1e9584e78c0c0
Author: JLDLaughlin <jessica@materialize.io>
Date:   Fri Apr 3 11:36:26 2020 -0400

    Print out failures

commit aad1c9f0824485fdd6b565170a95aada48a84496
Author: JLDLaughlin <jessica@materialize.io>
Date:   Fri Apr 3 11:15:27 2020 -0400

    Debug, print the whole query

commit 9257892be299c6291fc1e588d3e519f0e83fdbb0
Author: JLDLaughlin <jessica@materialize.io>
Date:   Fri Apr 3 10:48:26 2020 -0400

    Even longer...

commit ab91bbd7d25a67ed4e91c711106ddf5340216c88
Author: JLDLaughlin <jessica@materialize.io>
Date:   Fri Apr 3 10:26:14 2020 -0400

    Try a much longer SQL timeout

commit 8e80f8a49d362b8f93b89abee4ad83749420856b
Author: JLDLaughlin <jessica@materialize.io>
Date:   Fri Apr 3 09:23:06 2020 -0400

    Add ca-certificates to testdrive container

commit fd8f87b5025ce01d43c8efd5d0a39f4821098641
Merge: bf4362eb3 0d0ee5300
Author: Nikhil Benesch <nikhil.benesch@gmail.com>
Date:   Fri Apr 3 03:30:37 2020 -0400

    Merge pull request #2521 from benesch/agg-filter
    
    sql: support the FILTER aggregate clause

commit dff3d1a304b6a7220d732a836889bef1cd15e3c1
Author: JLDLaughlin <jessica@materialize.io>
Date:   Thu Apr 2 20:48:50 2020 -0400

    Try get_caller_identity

commit bf4362eb3344ef0035e3a9ebeb5ad62289dd2ca0
Merge: 5ad452364 7c6b1efee
Author: Andi Wang <5522362+wangandi@users.noreply.github.com>
Date:   Thu Apr 2 18:33:40 2020 -0400

    Merge pull request #2494 from wangandi/textkeytestdrive
    
    Testdrive can create log-compacted topics with plain string keys.

commit 4bc8a87fcc7d8d2e75c81505b37fb6b2a849d3b0
Author: JLDLaughlin <jessica@materialize.io>
Date:   Thu Apr 2 17:26:53 2020 -0400

    Add Kinesis region to testdrive.compose.yml

commit 61ba9f09ad61e42b6084633092fa796e79b571fc
Author: JLDLaughlin <jessica@materialize.io>
Date:   Thu Apr 2 17:23:09 2020 -0400

    Try grabbing CI credentials

commit 5ad452364d7f43d6387c85706df9df609a4a261e
Author: Brennan Vincent <brennan@materialize.io>
Date:   Thu Apr 2 17:04:06 2020 -0400

    Remove Gemfury deb deploy (#2533)

commit b99ac40f6c6609dd30b729962ea94a1a4aea5de3
Author: Jamie Brandon <jamie@scattered-thoughts.net>
Date:   Thu Apr 2 12:57:07 2020 -0700

    Share formatting structs between both explain files

commit a2f70317ea3a4c3f9b533066054eb7ca675d3dce
Merge: 0b2f3cb35 cabf5558f
Author: Ruchir Khaitan <ruchir0001@gmail.com>
Date:   Thu Apr 2 15:32:36 2020 -0400

    Merge pull request #2524 from ruchirK/rk-2523
    
    Fix issues with encoding timestamps / a few other logical types

commit 0b2f3cb35f34a5cf0d61bbb05b4ac2fa80c6c12f
Author: Brennan Vincent <brennan@materialize.io>
Date:   Thu Apr 2 15:17:07 2020 -0400

    Move deb package building to before binaries are stripped (#2515)

commit cabf5558fdb9b490416f5d2f19364a25ee453fc6
Author: Ruchir Khaitan <ruchir0001@gmail.com>
Date:   Thu Apr 2 00:01:02 2020 -0400

    Change billing demo to emit timestamps in sink

commit 3d1b0a571f307333596413b0ad9b36c15c785b2c
Author: Ruchir Khaitan <ruchir0001@gmail.com>
Date:   Wed Apr 1 23:59:49 2020 -0400

    Modify logical time fields in generated Avro schemas to match spec
    
    Fixes #2523

commit e09f6c73720cdc9bf7628b6e66e869bdb13bd99a
Author: Jamie Brandon <jamie@scattered-thoughts.net>
Date:   Thu Apr 2 11:56:05 2020 -0700

    Update tpch/chbench

commit b2b4fa64f09e27d5877e2c620c1a582a9b09cbfb
Author: Jamie Brandon <jamie@scattered-thoughts.net>
Date:   Thu Apr 2 11:52:02 2020 -0700

    Make sure that views get explained as topk rather than finishing

commit 23c683ef772fafa366d3d16ee254c5bcf3df2ce8
Author: Jamie Brandon <jamie@scattered-thoughts.net>
Date:   Thu Apr 2 10:54:13 2020 -0700

    Explain RowSetFinishing

commit 1c7a7863ec5a4c2f6f30ce43f67c6e52b67b85d1
Merge: 44899c532 51d11f5f9
Author: Andi Wang <5522362+wangandi@users.noreply.github.com>
Date:   Thu Apr 2 13:19:30 2020 -0400

    Merge pull request #2528 from wangandi/fix-kinesis-link
    
    Fix broken links in kinesis docs.

commit 51d11f5f98797842712a450e35b32df6bb4dbc5b
Author: Andi Wang <andi@materialize.io>
Date:   Thu Apr 2 13:05:37 2020 -0400

    Fix typo.

commit 8f3e3402e39fc5c5e8b38975bc45d9a307075e89
Author: Andi Wang <andi@materialize.io>
Date:   Thu Apr 2 12:55:16 2020 -0400

    Fix broken links in kinesis docs.

commit 44899c532793c912510321e1b900aa4ca2800994
Merge: be3aab363 2633ee4f4
Author: Nikhil Benesch <nikhil.benesch@gmail.com>
Date:   Thu Apr 2 11:49:35 2020 -0400

    Merge pull request #2525 from benesch/cast-docs
    
    doc/user: fix cast documentation for timestamps

commit 2633ee4f4af90ab3e321f58eb63c18c5d995a6ce
Author: Nikhil Benesch <nikhil.benesch@gmail.com>
Date:   Thu Apr 2 01:43:05 2020 -0400

    doc/user: fix cast documentation for timestamps
    
    Fix #2512.

commit 38eba4a331cd8f431f363d93edb9b0bc23a083e1
Author: Nikhil Benesch <nikhil.benesch@gmail.com>
Date:   Thu Apr 2 02:14:07 2020 -0400

    doc/user: consistentize and document release notes
    
    Add a short guide about writing a good release note, and make the
    existing release notes conform to the new style guide.

commit 0d0ee53001de02fe9fda96da9aae2b71ce114dd0
Author: Nikhil Benesch <nikhil.benesch@gmail.com>
Date:   Wed Apr 1 21:34:45 2020 -0400

    sql: support the FILTER aggregate clause
    
    FILTER allows filtering rows out of an aggregate function on a
    per-invocation basis. The approach taken is to rewrite an expression of
    the form
    
        agg(input) FILTER (condition)
    
    as:
    
        agg(CASE WHEN condition THEN input ELSE NULL)
    
    A bit of special care is required with count(*), which is described
    within the patch.
    
    Fix #2504.

commit be3aab363d17bda72db07d02ee5dde6191d57588
Merge: f835fcd08 68222a04c
Author: Nikhil Benesch <nikhil.benesch@gmail.com>
Date:   Wed Apr 1 20:12:32 2020 -0400

    Merge pull request #2518 from benesch/file-testdrive
    
    testdrive: absorb a bunch more tests

commit 68222a04c28029ca9816e0abf3f3ac3204abcb72
Author: Nikhil Benesch <nikhil.benesch@gmail.com>
Date:   Wed Apr 1 14:39:26 2020 -0400

    testdrive: absorb CSV tests
    
    These tests are much better suited to testdrive for the most part. Leave
    behind only the TAIL test, which is special enough to deserve dedicated
    Rust code.
    
    This change required teaching testdrive to interpret standard escape
    sequences like \n inside of quoted strings.

commit 7035be8a68ca1743458d7b456968c3f8c8f6a22a
Author: JLDLaughlin <jessica@materialize.io>
Date:   Wed Apr 1 17:03:31 2020 -0400

    Clippy, implement backoff

commit 7c6b1efee3d6f2eb5be388cf7615f4710ddd9e24
Author: Andi Wang <andi@materialize.io>
Date:   Thu Mar 26 17:46:55 2020 -0400

    Testdrive can create log-compacted topics with bytes keys.

commit 58b3afe3ba718e387235ac0e34a6c379f75ca2b4
Author: JLDLaughlin <jessica@materialize.io>
Date:   Wed Apr 1 16:26:19 2020 -0400

    Add more variables to state, clean up errors

commit 7dc8269fafeeff5e08e9e2cbfc5adc1de04e140d
Author: Nikhil Benesch <nikhil.benesch@gmail.com>
Date:   Wed Apr 1 12:34:18 2020 -0400

    testdrive: absorb dynamic avro ocf test

commit 9bc16d5b7c8425ed1c6530309ed9a686a4c4f330
Author: Nikhil Benesch <nikhil.benesch@gmail.com>
Date:   Wed Apr 1 10:51:50 2020 -0400

    avro: support appending to existing file
    
    Introduce Writer::append_to, which allows initializing an OCF writer
    based on an existing OCF file.

commit f835fcd085769410465deff2335dacaa6a4a9710
Merge: 4e8dc8cc9 5eb0222c6
Author: Nikhil Benesch <nikhil.benesch@gmail.com>
Date:   Wed Apr 1 16:09:30 2020 -0400

    Merge pull request #2500 from benesch/regex-sources
    
    test: move regex source test to testdrive

commit 4e8dc8cc9ec7c5698a49db0a9e88b08069b44b24
Merge: f71f282b6 887f9f159
Author: Nikhil Benesch <nikhil.benesch@gmail.com>
Date:   Wed Apr 1 16:09:04 2020 -0400

    Merge pull request #2499 from benesch/simplify-noblock
    
    coord: move noblock test to materialized

commit f71f282b6631e28debf2fc7dcce3466c364a6a4c
Merge: b3ed639c0 125073a98
Author: Ruchir Khaitan <ruchir0001@gmail.com>
Date:   Wed Apr 1 15:31:28 2020 -0400

    Merge pull request #2448 from ruchirK/rk-1572
    
    Add support for Avro OCF sinks
    
    Fixes #1572

commit b3ed639c0e82c8d657a5e5cfebb69704bc276c5c
Author: Brennan Vincent <brennan@materialize.io>
Date:   Wed Apr 1 14:34:16 2020 -0400

    Include debug symbols in .deb packages. (#2511)

commit 125073a98118f215a13837cbdc3222f061180e19
Author: Ruchir Khaitan <ruchir0001@gmail.com>
Date:   Wed Apr 1 12:29:01 2020 -0400

    Make corrupt catalog error slightly more helpful

commit 019e4d94838ab06a08caa0ec5173b9f44da3e3d1
Author: Ruchir Khaitan <ruchir0001@gmail.com>
Date:   Tue Mar 31 18:42:12 2020 -0400

    Support Avro OCF sinks
    
    Fixes #1572
    
    This commit adds support for outputting data to Avro Object Container Files (OCFs)

commit 525ffbfa437bafdd619934fbba8b3056b19f2c9a
Author: Ruchir Khaitan <ruchir0001@gmail.com>
Date:   Wed Apr 1 11:59:31 2020 -0400

    Make write_avro_datum publicly usable
    
    The previous API only exposed to_avro_datum which required an extra Vec for
    appending to an existing buffer.

commit d928b00f1a5e58aff65359fdc106323d4681d1f0
Author: Ruchir Khaitan <ruchir0001@gmail.com>
Date:   Tue Mar 31 18:41:16 2020 -0400

    Make Avro Writer own Schema
    
    Previously, avro::Writer held a reference to Schema and was bound by the borrowed
    Schema's lifetime. We were not able to use Writer within a closure for dataflow
    operators because it required that the borrowed Schema have 'static lifetime.
    
    Instead, we changed Writer to directly own the Schema it uses, which has a
    marginal cost on memory usage but leads to a much more broadly usable API

commit 6ff21a63e6ac569082667d51b54ffcad208d153f
Merge: d4120ee12 2020ae678
Author: Jamie Brandon <jamie@scattered-thoughts.net>
Date:   Wed Apr 1 10:46:37 2020 -0700

    Merge pull request #2501 from jamii/explain-sql
    
    Explain sql

commit 2020ae678a2baa5d116fb9eb854568c1e3d0e8cd
Author: Jamie Brandon <jamie@scattered-thoughts.net>
Date:   Wed Apr 1 10:04:36 2020 -0700

    Clearer comment

commit 26ea68891691d4a8eca0c4f39b3ce05ea71a2167
Author: Jamie Brandon <jamie@scattered-thoughts.net>
Date:   Wed Apr 1 10:03:56 2020 -0700

    Better error message

commit 1068089b35355086c7df2971e16c869518a6a615
Author: Jamie Brandon <jamie@scattered-thoughts.net>
Date:   Wed Apr 1 10:01:06 2020 -0700

    Remove default option to OptimizedPlan

commit d89e69026ab461f9bee1aef12ec988d82cc886eb
Author: Jamie Brandon <jamie@scattered-thoughts.net>
Date:   Wed Apr 1 09:56:09 2020 -0700

    unwrap -> into_inner

commit 7635f6c1dc3c1ebdbc34353f9104bfb0ea7e2578
Author: JLDLaughlin <jessica@materialize.io>
Date:   Wed Apr 1 11:51:09 2020 -0400

    WIP: Add Kinesis sources to testdrive

commit fa85c28e5b8ad181cb7505ab7cda20710dbf23b8
Author: Sean Loiselle <himself@seanloiselle.com>
Date:   Wed Apr 1 11:17:03 2020 -0400

    docs: add tail

commit d4120ee125c102f6c86c45c7529f67fbeee64ae2
Author: Jessica Laughlin <JLDLaughlin@users.noreply.github.com>
Date:   Wed Apr 1 09:56:59 2020 -0400

    Support custom regions for Kinesis sources (#2491)
    
    Useful in order to hit localstack (a local version of Kinesis) when testing.

commit bab46640a45390b936fce50cd1e1f35a5856e182
Merge: 9097df971 679f55d37
Author: Nikhil Benesch <nikhil.benesch@gmail.com>
Date:   Wed Apr 1 09:45:12 2020 -0400

    Merge pull request #2503 from benesch/kafka-verify
    
    dataflow,testdrive: various kafka sink fixes

commit 679f55d3738b202cdfc1af5ced78f4147fc5c6b3
Author: Nikhil Benesch <nikhil.benesch@gmail.com>
Date:   Tue Mar 31 23:42:37 2020 -0400

    dataflow,testdrive: expose kafka sink topic names; use in testdrive
    
    Bring back kafka-verify in testdrive by using a new logging view,
    mz_kafka_sinks, which exposes the name of the topic created for each
    Kafka sink.
    
    Fix #2431.

commit 9097df97138582b57fedd4604bdcc8fa58f23a4f
Merge: d134c4f09 ddd9e0544
Author: Nikhil Benesch <nikhil.benesch@gmail.com>
Date:   Wed Apr 1 00:43:21 2020 -0400

    Merge pull request #2495 from benesch/tail-id
    
    coord,sql: tail IDs, not catalog entries

commit 7ea955345423349ec149c3aa4002a12f9f46c0e3
Author: Nikhil Benesch <nikhil.benesch@gmail.com>
Date:   Tue Mar 31 23:41:02 2020 -0400

    dataflow: fix kafka sink production
    
    Using the FutureProducer is incorrect, because we're not awaiting the
    results of the futures, because the dataflow crate does not use
    async/await. We were getting lucky most of the time by relying on an
    implementation detail. Use the ThreadedProducer instead, which is better
    suited for our use case.

commit d90ae6d2b0a6214de50bd75438e9025fce1321bc
Author: Jamie Brandon <jamie@scattered-thoughts.net>
Date:   Tue Mar 31 17:29:57 2020 -0700

    Clippy

commit 6822ef1ae3c70023d94d2babbc32b906b5f6fd13
Author: Jamie Brandon <jamie@scattered-thoughts.net>
Date:   Tue Mar 31 17:26:33 2020 -0700

    Clippy

commit d7c4bd194ea530a9a23d2edd7e8bd6bc4627df68
Author: Jamie Brandon <jamie@scattered-thoughts.net>
Date:   Tue Mar 31 16:47:08 2020 -0700

    Clippy

commit 65cb8f309917ca26eeb90c545836898f0d544eb5
Author: Jamie Brandon <jamie@scattered-thoughts.net>
Date:   Tue Mar 31 16:46:20 2020 -0700

    Copy Cargo.lock from master

commit 2b82a3469b95912d8d57a9ac8a31d2de883c5f98
Merge: 57cb39d97 d134c4f09
Author: Jamie Brandon <jamie@scattered-thoughts.net>
Date:   Tue Mar 31 16:40:52 2020 -0700

    Merge branch 'master' into explain-sql

commit 5eb0222c676a0e5954abdf385dd6164815a41c62
Author: Nikhil Benesch <nikhil.benesch@gmail.com>
Date:   Tue Mar 31 19:38:29 2020 -0400

    test: move regex source test to testdrive
    
    This test was a perfect test for testdrive, and testdrive tests are much
    easier to iterate on since they don't involve recompiling Rust.

commit 57cb39d975f3f3661e07f70c478706ce00484bee
Author: Jamie Brandon <jamie@scattered-thoughts.net>
Date:   Tue Mar 31 16:23:40 2020 -0700

    Add test for EXPLAIN SQL FOR VIEW ...

commit 887f9f159b14e8c62e3dc681409a0e395d09b373
Author: Nikhil Benesch <nikhil.benesch@gmail.com>
Date:   Tue Mar 31 19:18:56 2020 -0400

    coord: move noblock test to materialized
    
    This test can be much simpler if it uses the integration test framework
    in the materialized crate.

commit 380cac77b3ca36c2c93acb8f5f681e8054ca9110
Author: Jamie Brandon <jamie@scattered-thoughts.net>
Date:   Tue Mar 31 16:18:12 2020 -0700

    Add examples for failing test for parameters

commit 3e12b38899cf4a84941e41995229fe5f85eb9d67
Author: Jamie Brandon <jamie@scattered-thoughts.net>
Date:   Tue Mar 31 16:04:37 2020 -0700

    Render subqueries

commit ddd9e05445aa8078558e71faaff0e15d62aab3ee
Author: Nikhil Benesch <nikhil.benesch@gmail.com>
Date:   Tue Mar 31 18:01:48 2020 -0400

    coord,sql: tail IDs, not catalog entries
    
    Returning a CatalogEntry in a sql::Plan is strange, since it could get
    out of sync with the entry in the actual catalog. Since only the ID is
    needed, I think it's cleaner and cheaper to pass around the GlobalId
    instead.
    
    Also make a match statement exhaustive while I'm in here, just to
    future-proof the code. If we ever get a new type of tailable object,
    it'll be harder to forget about it.

commit d134c4f091ffaaad8a13cdb76f831f6280e08966
Merge: 156335be3 ab67e1aa6
Author: Nikhil Benesch <nikhil.benesch@gmail.com>
Date:   Tue Mar 31 17:00:53 2020 -0400

    Merge pull request #2486 from benesch/asink
    
    coord,sql: make sink topic creation asynchronous

commit ab67e1aa632404009e8d68c6a9115bc6e8bfba8e
Author: Nikhil Benesch <nikhil.benesch@gmail.com>
Date:   Tue Mar 31 16:40:55 2020 -0400

    coord: make catalog dump lightweight
    
    We don't actually need to build a full dataflow/coordinator subsystem
    just to dump the catalog, and doing so can mutate the catalog. Dumping
    should be a readonly operation.

commit c4b96211ba3e6bfeb739bf5f288a42190d119157
Author: Nikhil Benesch <nikhil.benesch@gmail.com>
Date:   Tue Mar 31 01:51:58 2020 -0400

    coord,sql: make sink topic creation asynchronous
    
    Just like sources need an asynchronous pre-planning step
    ("purification"), sinks need an asynchronous post-planning step. With
    Kafka sinks, for example, we need to create the topic the sink will
    write to.
    
    Previously we'd do that by blocking the SQL planning thread, but that
    has the usual performance caveats. This patch teaches the coordinator to
    instead create the topic asynchronously. The plumbing is a real drag, as
    we write a state machine by hand that's split across a few crates:
    
      * The SQL layer creates a "sink connector builder" that contains all
        the necessary pieces of state to actually build a sink connector.
    
      * The coordinator installs a temporary catalog item to reserve the
        name while the connector is built. Because we can't transactionally
        create a Kafka topic, we need to "lock" the name while we go create
        the Kafka topic, otherwise another session might claim the name.
        (We cannot fail for any reason after creating the Kafka topic or
        we'll leak the topic.)
    
      * The coordinator launches an asynchronous task to create the topic.
    
      * After the topic is created, the future resolves with the actual
        connector, and the coordinator updates the catalog with the actual
        connector.
    
      * The dataflow layer builds the sink using the connector.

commit 156335be33aed58e01052a74c9ae27efa342e5c8
Merge: eb2e2c498 cf831f3df
Author: Jessica Laughlin <JLDLaughlin@users.noreply.github.com>
Date:   Tue Mar 31 15:32:24 2020 -0400

    Add jsonb_agg to release notes, docs (#2492)

commit cf831f3df7d22d4bfd9a72d9cb07b788f51b9791
Author: JLDLaughlin <jessica@materialize.io>
Date:   Tue Mar 31 15:29:36 2020 -0400

    Updates from comments

commit eb2e2c498b8ee80402e23c3321db2f29cdbfe4ba
Author: Brennan Vincent <brennan@materialize.io>
Date:   Tue Mar 31 11:48:00 2020 -0400

    Add release notes lines for stuff I have been working on (#2489)

commit 5d0d673851ebf21a61929b4e05c5e84be98fc697
Author: JLDLaughlin <jessica@materialize.io>
Date:   Tue Mar 31 11:24:16 2020 -0400

    Add jsonb_agg to release notes, docs

commit 41ac0d2163959a861c1c81b64ff39ab73266fca5
Author: Cuong Do <cuongdo@users.noreply.github.com>
Date:   Tue Mar 31 10:31:24 2020 -0400

    Release note for -w/--threads change (#2488)

commit 30ba0809c76d3dc77648c2c6ae95f5e6eb65b783
Author: Nikhil Benesch <nikhil.benesch@gmail.com>
Date:   Mon Mar 30 23:24:01 2020 -0400

    coord: have plans manage their own client communication
    
    This paves the way for some types of plans to perform asynchronous work
    before returning an ExecuteResponse to the client.

commit 742ab321e669eaac2b2cf996b062c50aee226560
Merge: 8de9ea04d 4d8bb2b13
Author: Nikhil Benesch <nikhil.benesch@gmail.com>
Date:   Mon Mar 30 23:19:45 2020 -0400

    Merge pull request #2485 from benesch/some-coord-cleanup
    
    coord: small cleanups

commit 4d8bb2b13a4e3dc3c3ed598ce4d52eb744e78e15
Author: Nikhil Benesch <nikhil.benesch@gmail.com>
Date:   Mon Mar 30 22:00:22 2020 -0400

    coord: rename ExecuteResponse::{SendRows -> SendingRows}
    
    This is more consistent with the other ExecuteResponse variants.

commit 8fb17faf54dc26d4b79226267162222ebf09eedb
Author: Nikhil Benesch <nikhil.benesch@gmail.com>
Date:   Mon Mar 30 21:56:40 2020 -0400

    coord: add more doc comments
    
    Folks have requested more documentation comments.

commit abe9579a4bcbb1e2c0b4db3c942fc87f4741215a
Author: Nikhil Benesch <nikhil.benesch@gmail.com>
Date:   Mon Mar 30 21:43:21 2020 -0400

    coord,sql: fix consistency of transaction management commands
    
    These did not match their surroundings. ExecuteResponse variants should
    be in the past tense, for example, since they represent actions that
    have already been taken.

commit b5e4bd2294ac19e733c8b4b9cd0313f8391055bb
Author: Nikhil Benesch <nikhil.benesch@gmail.com>
Date:   Mon Mar 30 21:32:28 2020 -0400

    coord: use derivative instead of custom debug impl
    
    This is much more convenient.

commit 8de9ea04d7a0c25d90abd83045c5ba1acd340e17
Merge: 6502a25df 49b42dfe8
Author: Nikhil Benesch <nikhil.benesch@gmail.com>
Date:   Mon Mar 30 21:58:07 2020 -0400

    Merge pull request #2484 from benesch/split-sequence-plan
    
    coord: split sequence_plan into multiple methods

commit 49b42dfe87aaf2f35a6a97c153746180d7f5defc
Author: Nikhil Benesch <nikhil.benesch@gmail.com>
Date:   Mon Mar 30 21:08:28 2020 -0400

    coord: split sequence_plan into multiple methods
    
    No changes; just code movement. This is necessary to facilitate another
    refactor; plus this method was way too large.

commit 0be6866ed3b06f370d206867800274fa6f0b1231
Author: Jamie Brandon <jamie@scattered-thoughts.net>
Date:   Mon Mar 30 17:49:06 2020 -0700

    First pass at EXPLAIN RAW PLAN

commit 6502a25df6f409c49b070fe1b2ebb483b1354ecd
Author: Ruchir Khaitan <ruchir0001@gmail.com>
Date:   Mon Mar 30 16:53:28 2020 -0400

    Rework Kafka sinks (#2470)
    
    This change set addresses many issues with Kafka sinks.
    
    * Allow Kafka sinks to work when running with multiple threads
    * Allow sink name reuse
    * Fix error where we were double encoding the before value
    * Move recoverable errors from sink dataflow to the planner
    
    Fixes #2469
    Fixes #2472

commit 7f93d12858048aed333767b2a9691cf11bd638e7
Merge: fda4cd7ee 0efbd6a5f
Author: Nikhil Benesch <nikhil.benesch@gmail.com>
Date:   Mon Mar 30 15:55:19 2020 -0400

    Merge pull request #2340 from benesch/dep-bump-20200316
    
    deps: bump to latest base64 and tokio-util

commit 74f7737ae910f9ca79f23fa5aae023009e796c02
Author: Jamie Brandon <jamie@scattered-thoughts.net>
Date:   Mon Mar 30 12:05:38 2020 -0700

    Hook up new stages to planner/coord

commit fda4cd7eea8eee9bde9f6eb5d79217649b826039
Merge: 72f4442ea 1b4f52c08
Author: Nikhil Benesch <nikhil.benesch@gmail.com>
Date:   Mon Mar 30 14:52:01 2020 -0400

    Merge pull request #2249 from MaterializeInc/dependabot/cargo/itertools-0.9.0
    
    build(deps): bump itertools from 0.8.2 to 0.9.0

commit 0efbd6a5fae398ef213afc5554dc9a22107f12c9
Author: Nikhil Benesch <nikhil.benesch@gmail.com>
Date:   Mon Mar 16 23:02:54 2020 -0400

    deps: bump to latest base64, postgres-protocol, tokio-util
    
    These need to be updated together to avoid duplicate dependencies.

commit 1b4f52c087cb57fb2e13a4e649feca12c08fbfa3
Author: dependabot-preview[bot] <27856297+dependabot-preview[bot]@users.noreply.github.com>
Date:   Sun Mar 29 18:53:11 2020 +0000

    build(deps): bump itertools from 0.8.2 to 0.9.0
    
    Bumps [itertools](https://github.com/bluss/rust-itertools) from 0.8.2 to 0.9.0.
    - [Release notes](https://github.com/bluss/rust-itertools/releases)
    - [Changelog](https://github.com/rust-itertools/itertools/blob/master/CHANGELOG.md)
    - [Commits](https://github.com/bluss/rust-itertools/commits)
    
    Signed-off-by: dependabot-preview[bot] <support@dependabot.com>

commit c4067c43de842c1b69a1131e89dfa3aeb9a3e32a
Author: Jamie Brandon <jamie@scattered-thoughts.net>
Date:   Mon Mar 30 11:24:10 2020 -0700

    Add new stages to parser

commit 72f4442ea172e87015c325f9fe2acceb378103dd
Merge: 67f9998e2 922273c5e
Author: Nikhil Benesch <nikhil.benesch@gmail.com>
Date:   Mon Mar 30 14:17:12 2020 -0400

    Merge pull request #2477 from MaterializeInc/dependabot/cargo/protoc-rust-2.12.0
    
    build(deps): bump protoc-rust from 2.10.2 to 2.12.0

commit 67f9998e2b88bd96ce68fbb6e4445d2318ecdb18
Merge: cacc38163 e0b57bd4a
Author: Nikhil Benesch <nikhil.benesch@gmail.com>
Date:   Mon Mar 30 13:16:20 2020 -0400

    Merge pull request #2480 from MaterializeInc/dependabot/cargo/thiserror-1.0.14
    
    build(deps): bump thiserror from 1.0.13 to 1.0.14

commit 922273c5e830c83b0cb0226b09f9e3820f781e9f
Author: dependabot-preview[bot] <27856297+dependabot-preview[bot]@users.noreply.github.com>
Date:   Mon Mar 30 15:17:25 2020 +0000

    build(deps): bump protoc-rust from 2.10.2 to 2.12.0
    
    Bumps [protoc-rust](https://github.com/stepancheg/rust-protobuf) from 2.10.2 to 2.12.0.
    - [Release notes](https://github.com/stepancheg/rust-protobuf/releases)
    - [Changelog](https://github.com/stepancheg/rust-protobuf/blob/master/CHANGELOG.md)
    - [Commits](https://github.com/stepancheg/rust-protobuf/compare/v2.10.2...v2.12.0)
    
    Signed-off-by: dependabot-preview[bot] <support@dependabot.com>

commit e0b57bd4a46cc536d597dd2cf28b03fd2b3af2ea
Author: dependabot-preview[bot] <27856297+dependabot-preview[bot]@users.noreply.github.com>
Date:   Mon Mar 30 15:17:10 2020 +0000

    build(deps): bump thiserror from 1.0.13 to 1.0.14
    
    Bumps [thiserror](https://github.com/dtolnay/thiserror) from 1.0.13 to 1.0.14.
    - [Release notes](https://github.com/dtolnay/thiserror/releases)
    - [Commits](https://github.com/dtolnay/thiserror/compare/1.0.13...1.0.14)
    
    Signed-off-by: dependabot-preview[bot] <support@dependabot.com>

commit cacc38163d167f085fc41a7678796c4fd5d6a464
Merge: 7494d806c 631c503f3
Author: Nikhil Benesch <nikhil.benesch@gmail.com>
Date:   Mon Mar 30 11:16:12 2020 -0400

    Merge pull request #2473 from MaterializeInc/dependabot/cargo/libfuzzer-sys-0.3.2
    
    build(deps): bump libfuzzer-sys from 0.3.1 to 0.3.2

commit 7494d806c135cdb031ab75f72c7544e7a0edd9bf
Merge: b48c11db5 39dc1e4f4
Author: Nikhil Benesch <nikhil.benesch@gmail.com>
Date:   Mon Mar 30 11:15:59 2020 -0400

    Merge pull request #2478 from MaterializeInc/dependabot/cargo/serde_json-1.0.50
    
    build(deps): bump serde_json from 1.0.48 to 1.0.50

commit b48c11db54adec4f7a1b707063d34f46108f5d2d
Merge: 5dadaa613 9d4c64cb1
Author: Nikhil Benesch <nikhil.benesch@gmail.com>
Date:   Mon Mar 30 11:15:32 2020 -0400

    Merge pull request #2476 from MaterializeInc/dependabot/cargo/backtrace-0.3.46
    
    build(deps): bump backtrace from 0.3.45 to 0.3.46

commit 5dadaa613a29ea7bb5baa34eca48d782c6e1a3c9
Merge: 1d28e6ebc 234a839c6
Author: Nikhil Benesch <nikhil.benesch@gmail.com>
Date:   Mon Mar 30 11:15:22 2020 -0400

    Merge pull request #2475 from MaterializeInc/dependabot/cargo/structopt-0.3.12
    
    build(deps): bump structopt from 0.3.11 to 0.3.12

commit 1d28e6ebc142ef277e2c6afebb5e89e5e57bd435
Merge: bdcdac929 b9f3689ab
Author: Nikhil Benesch <nikhil.benesch@gmail.com>
Date:   Mon Mar 30 11:14:57 2020 -0400

    Merge pull request #2479 from MaterializeInc/dependabot/cargo/assert_cmd-1.0.0
    
    build(deps): bump assert_cmd from 0.12.0 to 1.0.0

commit bdcdac929a39ffb9f93ceee0f3fd59c3bab64783
Merge: 26345284c 75e8ba15c
Author: Nikhil Benesch <nikhil.benesch@gmail.com>
Date:   Mon Mar 30 11:14:28 2020 -0400

    Merge pull request #2481 from MaterializeInc/dependabot/cargo/differential-dataflow-2fbea46
    
    build(deps): bump differential-dataflow from `c014eca` to `2fbea46`

commit 75e8ba15c6411431f7ff7eb7ab7aa676eff304a8
Author: dependabot-preview[bot] <27856297+dependabot-preview[bot]@users.noreply.github.com>
Date:   Mon Mar 30 10:49:42 2020 +0000

    build(deps): bump differential-dataflow from `c014eca` to `2fbea46`
    
    Bumps [differential-dataflow](https://github.com/TimelyDataflow/differential-dataflow) from `c014eca` to `2fbea46`.
    - [Release notes](https://github.com/TimelyDataflow/differential-dataflow/releases)
    - [Commits](https://github.com/TimelyDataflow/differential-dataflow/compare/c014eca8547213e29f60552431acb47a8a0d5bd7...2fbea46f5bedb2474133c18fcf5299ab70204956)
    
    Signed-off-by: dependabot-preview[bot] <support@dependabot.com>

commit b9f3689abe5ab57e953a6368df2c74b65fdeba4a
Author: dependabot-preview[bot] <27856297+dependabot-preview[bot]@users.noreply.github.com>
Date:   Mon Mar 30 10:48:46 2020 +0000

    build(deps): bump assert_cmd from 0.12.0 to 1.0.0
    
    Bumps [assert_cmd](https://github.com/assert-rs/assert_cmd) from 0.12.0 to 1.0.0.
    - [Release notes](https://github.com/assert-rs/assert_cmd/releases)
    - [Changelog](https://github.com/assert-rs/assert_cmd/blob/master/CHANGELOG.md)
    - [Commits](https://github.com/assert-rs/assert_cmd/compare/v0.12.0...v1.0.0)
    
    Signed-off-by: dependabot-preview[bot] <support@dependabot.com>

commit 39dc1e4f4c944637cd915b4e20c17c4347657ca3
Author: dependabot-preview[bot] <27856297+dependabot-preview[bot]@users.noreply.github.com>
Date:   Mon Mar 30 10:48:23 2020 +0000

    build(deps): bump serde_json from 1.0.48 to 1.0.50
    
    Bumps [serde_json](https://github.com/serde-rs/json) from 1.0.48 to 1.0.50.
    - [Release notes](https://github.com/serde-rs/json/releases)
    - [Commits](https://github.com/serde-rs/json/compare/v1.0.48...v1.0.50)
    
    Signed-off-by: dependabot-preview[bot] <support@dependabot.com>

commit 9d4c64cb1cc52e19ae5fe3f522bf4c260a2e66da
Author: dependabot-preview[bot] <27856297+dependabot-preview[bot]@users.noreply.github.com>
Date:   Mon Mar 30 10:47:34 2020 +0000

    build(deps): bump backtrace from 0.3.45 to 0.3.46
    
    Bumps [backtrace](https://github.com/rust-lang/backtrace-rs) from 0.3.45 to 0.3.46.
    - [Release notes](https://github.com/rust-lang/backtrace-rs/releases)
    - [Commits](https://github.com/rust-lang/backtrace-rs/compare/0.3.45...0.3.46)
    
    Signed-off-by: dependabot-preview[bot] <support@dependabot.com>

commit 234a839c69346598d361e53db3baced078723099
Author: dependabot-preview[bot] <27856297+dependabot-preview[bot]@users.noreply.github.com>
Date:   Mon Mar 30 10:47:10 2020 +0000

    build(deps): bump structopt from 0.3.11 to 0.3.12
    
    Bumps [structopt](https://github.com/TeXitoi/structopt) from 0.3.11 to 0.3.12.
    - [Release notes](https://github.com/TeXitoi/structopt/releases)
    - [Changelog](https://github.com/TeXitoi/structopt/blob/master/CHANGELOG.md)
    - [Commits](https://github.com/TeXitoi/structopt/compare/v0.3.11...v0.3.12)
    
    Signed-off-by: dependabot-preview[bot] <support@dependabot.com>

commit 631c503f35b4d0013c8b10de4b33ebad1b50ae5b
Author: dependabot-preview[bot] <27856297+dependabot-preview[bot]@users.noreply.github.com>
Date:   Mon Mar 30 10:46:15 2020 +0000

    build(deps): bump libfuzzer-sys from 0.3.1 to 0.3.2
    
    Bumps [libfuzzer-sys](https://github.com/rust-fuzz/libfuzzer) from 0.3.1 to 0.3.2.
    - [Release notes](https://github.com/rust-fuzz/libfuzzer/releases)
    - [Changelog](https://github.com/rust-fuzz/libfuzzer/blob/master/CHANGELOG.md)
    - [Commits](https://github.com/rust-fuzz/libfuzzer/commits)
    
    Signed-off-by: dependabot-preview[bot] <support@dependabot.com>

commit 26345284ce1daa5102e8298485e51dbcf2da87d4
Merge: e596bf34b 8350ec90a
Author: Jamie Brandon <jamie@scattered-thoughts.net>
Date:   Sun Mar 29 22:24:08 2020 -0700

    Merge pull request #2471 from jamii/explain-type
    
    Implement EXPLAIN TYPED

commit 8350ec90a0788d1866038350ea8fb4ad6ae343fe
Author: Jamie Brandon <jamie@scattered-thoughts.net>
Date:   Sun Mar 29 22:06:28 2020 -0700

    Fix tests

commit 8ee29943c9e94efa8983fdbc7d33c7bb4dc5dd60
Author: Jamie Brandon <jamie@scattered-thoughts.net>
Date:   Sun Mar 29 22:05:17 2020 -0700

    Fix weird autoimport

commit 8080765e6337506654ac5bca5b6f7b4cbc270e39
Author: Jamie Brandon <jamie@scattered-thoughts.net>
Date:   Sun Mar 29 21:43:56 2020 -0700

    Implement EXPLAIN TYPED

commit e596bf34b534a3df7c12b90cbc9d92cb60d96764
Author: Nikhil Benesch <nikhil.benesch@gmail.com>
Date:   Sun Mar 29 14:51:20 2020 -0400

    interchange: rework avro encoding (#2465)
    
    Rework how Avro encoding works so that it is no longer fallible. Rather
    than generating a schema and encoder separately, have the encoder
    tightly manage the generation of the schema; then encoding can rely on
    these tightly-managed properties of the generated schema.
    
    As a side effect, this diff adds support for encoding all known
    Materialize data types as Avro.
    
    This could use quite a few more tests, but those will have to wait for a
    future commit that re-enables testdrive testing of Avro sinks.
    
    Fix #1517.

commit 684a3ab04804a32a1937bb6eb258bda5ff76accf
Merge: 20820c08f b3b83d0fb
Author: Brandon W Maister <bwm@materialize.io>
Date:   Sat Mar 28 15:22:44 2020 -0400

    Merge pull request #2468 from quodlibetor/dcsh-fix-for-old-bash
    
    Fix dcsh in CI, test chbench it has changed

commit b3b83d0fbfdd1b85b2233314b260649a6649b2cd
Author: Brandon W Maister <bwm@materialize.io>
Date:   Sat Mar 28 14:42:37 2020 -0400

    Run chbench CI if chbench config has changed

commit e1b4b362d3e01882109e88f42a0e47ac8c1cabe9
Author: Brandon W Maister <bwm@materialize.io>
Date:   Sat Mar 28 14:41:56 2020 -0400

    dc.sh: Use a global instead of `local -n` for backcompat

commit 20820c08fccdf65495c6bd054fab4bc5eae73aa9
Author: Frank McSherry <fmcsherry@me.com>
Date:   Sat Mar 28 14:10:39 2020 -0400

    Threshold should only produce positive updates (#2466)
    
    Threshold would set negative diffs to zero, but that confused other parts of the system. Specifically (for future ref) differential's consolidate method, which we used, doesn't seem to expect zero diffs and does not proactively filter out those that it does not create.
    
    Fixes #2464

commit e4ca26a3d0f838cbfe2842c5b84e81f3bd096d08
Merge: e7dd1a75a d8444b32e
Author: Brandon W Maister <bwm@materialize.io>
Date:   Sat Mar 28 14:09:17 2020 -0400

    Merge pull request #2467 from quodlibetor/dcsh-for-load-tests
    
    dc.sh fixes for load tests

commit d8444b32e4a7c3342ceeafffe581999c51ed677e
Author: Brandon W Maister <bwm@materialize.io>
Date:   Sat Mar 28 13:31:27 2020 -0400

    Expose more materialize options via dc.sh
    
    To facilitate discovery and to make it easier to run repeatable load tests.

commit e7dd1a75acda1a27742c8f565ae41c7fcea621e9
Author: Ruchir Khaitan <ruchir0001@gmail.com>
Date:   Fri Mar 27 18:43:36 2020 -0400

    Accurately converting Differential records to Debezium (#2460)
    
    This change sidesteps the question of how to handle diffs that are not +1 / -1 and instead teaches the avro encoder to treat diff = -1 as a Debezium retraction and to yell at any diffs that are not +1 / -1
    
    Fixes #1665

commit 80f38dfad7d345677a6c8e3db244d60688f592ca
Author: Brandon W Maister <bwm@materialize.io>
Date:   Fri Mar 27 17:12:24 2020 -0400

    Fix dc.sh prometheus startup

commit 2c51b0a7d02430cf82f92b3c2603b7efc50ccf45
Author: Cuong Do <cuongdo@users.noreply.github.com>
Date:   Fri Mar 27 16:35:54 2020 -0400

    Require -w/--threads or MZ_THREADS (#2447)
    
    * Require -w/--threads or MZ_THREADS
    
    To educate users and make -w / --threads discoverable, we require that
    the user specify the number of worker threads when running a release
    binary.
    
    This isn't a requirement for debug builds (--debug / MZ_DEV), because
    performance is unlikely to be a primary consideration in that situation.
    
    * Specify -w for testdrive
    
    * Fix catalog compatibility test
    
    * Handle non-Unicode chars in MZ_THREADS

commit 3129b98a1229b258f8ff537fdc7b4de40528f024
Author: Brennan Vincent <brennan@materialize.io>
Date:   Fri Mar 27 15:26:34 2020 -0400

    Clarify error message (#2457)

commit 07ef051b4882134346ee60fd3d08bff263b09eb7
Merge: 0c1ad75af f0d86a6df
Author: Arjun Narayan <arjun@materialize.io>
Date:   Fri Mar 27 15:03:19 2020 -0400

    Merge pull request #2451 from rjnn/configs
    
    docs: add a configuration section

commit f0d86a6dfac832d7d687cbaf51516b692d8f3d88
Author: Arjun Narayan <arjun@materialize.io>
Date:   Fri Mar 27 12:34:36 2020 -0400

    docs: add a configuration section

commit 0c1ad75af7f5e9142dbd9c7bc37c72b2fdcb3365
Merge: 0128d0a01 36a7524ad
Author: Nikhil Benesch <nikhil.benesch@gmail.com>
Date:   Fri Mar 27 14:59:53 2020 -0400

    Merge pull request #2452 from benesch/testdrive-reorg
    
    test/testdrive: split basic.td into well-organized files

commit 36a7524ad7a8a7fb7b1d170c135adf6b1941acd8
Author: Nikhil Benesch <nikhil.benesch@gmail.com>
Date:   Fri Mar 27 12:59:12 2020 -0400

    test/testdrive: split basic.td into well-organized files
    
    basic.td had become a dumping ground for many unrelated testdrive tests.
    Split that file into more targeted and thematic files.

commit 0128d0a0116a4d6e5ac1f174503ae761961088ca
Author: Nikhil Benesch <nikhil.benesch@gmail.com>
Date:   Fri Mar 27 13:43:13 2020 -0400

    ci/deploy: bump macOS timeout (#2453)
    
    15m is still too short for a clean build, e.g., when we bump the Rust version.

commit b1e65f3231d4ddb8727ea2d2c324c8dc0362c1f7
Author: Frank McSherry <fmcsherry@me.com>
Date:   Fri Mar 27 13:41:16 2020 -0400

    Allow ScalarExpr in Join keys (#2235)
    
    This PR means to allow general ScalarExprs in join keys, rather than just columns. There are several cases where this helps, most prominently when there is a single constant value to be joined with other values (e.g. a filter to implement as an indexed look-up). This shows up in @wangandi's work, but also in set intersection work, plausibly.
    
    Anyhow, it also just seems like the right thing to do, and simplifies logic in many cases. In particular, it may obviate the need for simplify.rs which currently exists only to work around this limitation.

commit cde032f8b361890291827818b6936c1b280e0a5e
Merge: 80a6b1e85 727f0fdc4
Author: Sean Loiselle <sean@materialize.io>
Date:   Fri Mar 27 12:16:37 2020 -0400

    Merge pull request #2450 from sploiselle/subquery-operators
    
    docs: add ANY as a subquery operator

commit 727f0fdc496c7be6cdc3af265647cde444ffad49
Author: Sean Loiselle <himself@seanloiselle.com>
Date:   Fri Mar 27 12:14:25 2020 -0400

    docs: add ANY as a subquery operator

commit 80a6b1e852a4ddc258e5dafa082917aa4c0fd7f0
Author: Brennan Vincent <brennan@materialize.io>
Date:   Fri Mar 27 11:21:14 2020 -0400

    Upgrade Rust version to 1.42.0 (#2444)

commit e08a3d43c84b1f96758234c10f0f312da896e0e8
Merge: 3d065a949 8bd511753
Author: Sean Loiselle <sean@materialize.io>
Date:   Fri Mar 27 10:59:27 2020 -0400

    Merge pull request #2445 from sploiselle/subquery-operators
    
    docs: add scalar and subquery operators

commit 8bd5117539931254169918a3ed2a591e4efd72af
Author: Sean Loiselle <himself@seanloiselle.com>
Date:   Thu Mar 26 21:15:55 2020 -0400

    docs: add scalar and subquery operators

commit 3d065a9496aa778bf17aa08322e7ee83b99867b4
Merge: 7243a8e2b 8d9459a74
Author: Nikhil Benesch <nikhil.benesch@gmail.com>
Date:   Thu Mar 26 23:38:47 2020 -0400

    Merge pull request #2442 from benesch/in-values
    
    sql-parser: support IN (VALUES ...)

commit 8d9459a74042aec715de0c79d6e9ff447ed52713
Author: Nikhil Benesch <nikhil.benesch@gmail.com>
Date:   Thu Mar 26 22:57:00 2020 -0400

    sql-parser: support IN (VALUES ...)
    
    Fix #2440.

commit 7243a8e2bce18e835c0659bba1bfe0c94e837551
Merge: cecc2ba9f 69bc8b8ef
Author: Nikhil Benesch <nikhil.benesch@gmail.com>
Date:   Thu Mar 26 19:54:02 2020 -0400

    Merge pull request #2434 from benesch/netlify-rm-deploy-key
    
    ci/www: remove deploy key

commit 69bc8b8efbddabaa0baf4e3f698e4b778e1920cb
Author: Nikhil Benesch <nikhil.benesch@gmail.com>
Date:   Thu Mar 26 19:32:59 2020 -0400

    ci/www: remove deploy key
    
    Now that the repository is public, Netlify no longer needs a deploy key.
    Remove it, so that Netlify doesn't think that our build contains
    anything secret.

commit cecc2ba9f83a0c53f84d37bc77a31b021f1fc85a
Merge: fbba32e31 4df5df182
Author: Sean Loiselle <sean@materialize.io>
Date:   Thu Mar 26 19:32:00 2020 -0400

    Merge pull request #2433 from sploiselle/csv-header-docs
    
    docs: document CSV sources with headers

commit fbba32e31dc3a0cf35217af52dc3217105c37795
Merge: feb68ea38 0141965c2
Author: Jamie Brandon <jamie@scattered-thoughts.net>
Date:   Thu Mar 26 16:24:57 2020 -0700

    Merge pull request #2432 from jamii/more-more-fix-slt
    
    More "division by zero" fixes

commit 4df5df182e07b3b2e9cee13535ed67ca9a7fa3cf
Author: Sean Loiselle <himself@seanloiselle.com>
Date:   Thu Mar 26 18:34:56 2020 -0400

    docs: document CSV sources with headers

commit 0141965c2a913dafc677199094674ceb3a268f68
Author: Jamie Brandon <jamie@scattered-thoughts.net>
Date:   Thu Mar 26 16:05:54 2020 -0700

    Bump sqlite

commit feb68ea38a2b755c60c9bfef8ab13cd59092adca
Merge: 8919747ef cbe80cbae
Author: Sean Loiselle <sean@materialize.io>
Date:   Thu Mar 26 18:52:16 2020 -0400

    Merge pull request #2430 from sploiselle/csv-headers
    
    sql: support CSVs with headers

commit cbe80cbae196260d86158514f7dba8755d4d252d
Author: Sean Loiselle <himself@seanloiselle.com>
Date:   Wed Mar 25 17:01:56 2020 -0400

    sql: support CSVs with headers

commit 8919747ef76bf8ffdebf4662a03c9353e8ad6b01
Author: Ruchir Khaitan <ruchir0001@gmail.com>
Date:   Thu Mar 26 16:37:09 2020 -0400

    Allow for kafka sinks that write to a new topic on each restart (#2427)
    
    Fixes #1442

commit 3776c97062d693f1e62011083f2e29080babb127
Merge: 29c5c49ae e68008203
Author: Nikhil Benesch <nikhil.benesch@gmail.com>
Date:   Thu Mar 26 12:57:37 2020 -0400

    Merge pull request #2420 from benesch/wait-for-it-timeout
    
    ci/test: increase wait-for-it timeout

commit e680082033c20b4443280b02d96addaf5d35cd3b
Author: Nikhil Benesch <nikhil.benesch@gmail.com>
Date:   Wed Mar 25 15:59:59 2020 -0400

    ci/test: increase wait-for-it timeout
    
    Reports have surfaced where more than 15s are required for services to
    come online.
    
    Fix #2419.

commit 29c5c49aed296461e3ed1f557dae48c0cf27fdae
Author: Brennan Vincent <brennan@materialize.io>
Date:   Wed Mar 25 22:18:25 2020 -0400

    Support ingesting JSON-valued fields in Avro (#2423)

commit e1bf83d688e3b29a84083e8b36523a5940c03c72
Author: Brennan Vincent <brennan@materialize.io>
Date:   Wed Mar 25 22:12:38 2020 -0400

    Allow user to specify the address to bind to (#2426)

commit fd07dce99751ea56b2e8de30f2237ca7f6d8f393
Merge: 16c2066ec f4fe6b616
Author: Jamie Brandon <jamie@scattered-thoughts.net>
Date:   Wed Mar 25 15:01:38 2020 -0700

    Merge pull request #2421 from jamii/fix-explain-crash
    
    Don't crash when explaining a Get without a Let

commit 16c2066ecbca4b49a3d2bb459d17246ce662af6b
Merge: 6735ff259 220d4ad82
Author: Jamie Brandon <jamie@scattered-thoughts.net>
Date:   Wed Mar 25 13:32:15 2020 -0700

    Merge pull request #2411 from jamii/fix-slt
    
    Fix various slt failures

commit f4fe6b616bd5aa5f2eda4c0d55e30e84b8f0b668
Author: Jamie Brandon <jamie@scattered-thoughts.net>
Date:   Wed Mar 25 13:10:44 2020 -0700

    Don't crash when explaining a Get without a Let

commit 6735ff259d61be95ae0e3d7a2c2f39fd41b42543
Author: Jessica Laughlin <JLDLaughlin@users.noreply.github.com>
Date:   Wed Mar 25 15:48:42 2020 -0400

    Support json_agg (#2404)
    
    Adds the json_agg function and tests. Does not support
    json_agg() of sql records.

commit 220d4ad827eeffedbff467acda60c301f9b9092b
Author: Jamie Brandon <jamie@scattered-thoughts.net>
Date:   Wed Mar 25 11:54:55 2020 -0700

    Typo

commit 26976c168b0e9875d6f8daf78869fb92ad451803
Author: Jamie Brandon <jamie@scattered-thoughts.net>
Date:   Wed Mar 25 11:29:13 2020 -0700

    Lint

commit 8d5069f2a8d9019b451213e1ab1959db3dbc0e86
Merge: 22d3acfcc 715c244be
Author: Jamie Brandon <jamie@scattered-thoughts.net>
Date:   Wed Mar 25 11:18:03 2020 -0700

    Merge pull request #2416 from MaterializeInc/jamii-patch-1
    
    Edit docs for multiline slt

commit a175b32dad3f08b3190f32b8a99ef841bf5138fe
Author: Jamie Brandon <jamie@scattered-thoughts.net>
Date:   Wed Mar 25 11:17:11 2020 -0700

    Bump sqlite.

commit 715c244be978294c71e89aa82be920421b007b73
Author: Jamie Brandon <jamie@scattered-thoughts.net>
Date:   Wed Mar 25 10:39:52 2020 -0700

    Update sqllogictest.md

commit 22d3acfccc350fdc476ee621671421005fd0d9f6
Merge: 5ac86c5d2 0fbf899b0
Author: Natacha Crooks <nacrooks@gmail.com>
Date:   Wed Mar 25 12:06:03 2020 -0400

    Merge pull request #2402 from nacrooks/emptypartition
    
    Support for empty topics for multiple partitions Kafka topics

commit 5ac86c5d22ef4e7d9038769c772842da036226dc
Author: Brennan Vincent <brennan@materialize.io>
Date:   Wed Mar 25 11:22:39 2020 -0400

    Allow back-references in Avro schemas, and rework schema resolution. (#2375)
    
    This will substantially improve our ability to recognize and support valid Avro schemas, which the `munge` function was attempting to do before, but imperfectly. Essentially, the issue was that the `avro-rs` didn't support backreferences (reference by name to previously-defined pieces of the schema).
    
    To accomplish this, nodes in the schema tree can now be references to the index of other nodes in a schema-wide list of named pieces. Thus functions dealing with schemas need to become stateful - a local node in the tree no longer carries all the information needed to interpret it (since it needs to refer to a schema-wide mapping of names to sub-schemas).
    
    Thus, we introduce a new abstraction: `SchemaNode`, which carries both a reference to a chunk of the schema, and a reference to the schema-wide state. Functions that formerly recursively traversed schemas have been rewritten to use `SchemaNode` (or its closely-related cousin, `SchemaNodeOrNamed`, which refers to either a chunk of the schema *or* a not-yet-looked-up named reference).
    
    This PR also fixes unions to allow multiple named variants of the same kind (so long as they have different names), and completely rewrites the schema resolution logic. Previously, we were resolving a *value* against a *schema*, which is not actually possible to do in general: values don't carry the names of the types they instantiate, so when resolving (for example) a record value against a union that contains multiple records with different names, the code can't know which to attempt to resolve against.
    
    Now, instead of resolving values against schemas, we resolve *schemas* against schemas, recording, at each node, all the information necessary to parse a value written by the writer and return a value understandable by the reader.
    
    I have also deleted a bunch of code in `avro-rs` that we never plan to use, like Serde integration.

commit b0e454b715fddb35874f2c9e685d0c67184616f3
Author: Jamie Brandon <jamie@scattered-thoughts.net>
Date:   Tue Mar 24 20:52:33 2020 -0700

    Bump sqlite

commit 7bda23871de05b8cb6cde0b6271704dcbe216cc9
Author: Jamie Brandon <jamie@scattered-thoughts.net>
Date:   Tue Mar 24 19:20:18 2020 -0700

    Ensure slt scripts still run outside of CI

commit ebbab4f12230981fdb46111ab71ea450fa852ea7
Author: Jamie Brandon <jamie@scattered-thoughts.net>
Date:   Tue Mar 24 19:18:35 2020 -0700

    Don't lose coalesce input types

commit 24a9c15e339911f8fd34aeb299bf1f82763463ca
Merge: 61d6289ce 0248642d7
Author: Jamie Brandon <jamie@scattered-thoughts.net>
Date:   Tue Mar 24 18:45:15 2020 -0700

    Merge pull request #2410 from jamii/waitforit
    
    Wait for postgres

commit 0248642d709f2fece7179f04bd2bf03f61515fa0
Author: Jamie Brandon <jamie@scattered-thoughts.net>
Date:   Tue Mar 24 18:25:52 2020 -0700

    Wait for postgres

commit 61d6289ce6c60200c2e9a2c5656edff7dfe47c1d
Merge: 433896faf 8b5835c0c
Author: Jamie Brandon <jamie@scattered-thoughts.net>
Date:   Tue Mar 24 18:01:17 2020 -0700

    Merge pull request #2403 from jamii/fix-using-crash
    
    Check types are comparable in USING

commit 433896faf13553782f0e0ae43b1f7b3b3c27ca59
Merge: 1c908d27c a5ee53cb4
Author: Nikhil Benesch <nikhil.benesch@gmail.com>
Date:   Tue Mar 24 20:52:48 2020 -0400

    Merge pull request #2409 from benesch/ci-fix-timeouts
    
    ci/test: use separate wait-for-it commands

commit 8b5835c0c1a2fd8322c6aa8a360a43875846a80c
Author: Jamie Brandon <jamie@scattered-thoughts.net>
Date:   Tue Mar 24 17:29:28 2020 -0700

    Allow USING join on Unknown types

commit 7c6490c76ea642fa46ea228581a62ba932589724
Author: Jamie Brandon <jamie@scattered-thoughts.net>
Date:   Tue Mar 24 14:03:46 2020 -0700

    Better error message

commit 1d0aa62de489cd9c09ab898151e19705f8ecc907
Author: Jamie Brandon <jamie@scattered-thoughts.net>
Date:   Tue Mar 24 13:58:10 2020 -0700

    Check types are comparable in USING

commit a5ee53cb4534329a5e647b6cd3712a120d9d2640
Author: Nikhil Benesch <nikhil.benesch@gmail.com>
Date:   Tue Mar 24 20:06:33 2020 -0400

    ci/test: use separate wait-for-it commands
    
    Requesting to wait for multiple services is silently ignored.

commit 1c908d27cd78fc2a957b41ee1758ba30b6e735f3
Author: Brennan Vincent <brennan@materialize.io>
Date:   Tue Mar 24 19:59:32 2020 -0400

    don't use apt-add-repository (#2407)

commit b035eb99551aaf6e2d8c9f81a11c37229dd2a72a
Merge: 9b576ef39 cbc4a6c36
Author: Nikhil Benesch <nikhil.benesch@gmail.com>
Date:   Tue Mar 24 19:33:05 2020 -0400

    Merge pull request #2401 from benesch/debug-ci
    
    ci: upgrade to latest version of docker-compose plugin

commit cbc4a6c36117bfcbf93748e537fa22020ec5c9a1
Author: Nikhil Benesch <nikhil.benesch@gmail.com>
Date:   Tue Mar 24 19:11:22 2020 -0400

    ci/test: wait for all docker-compose services to boot
    
    These additional wait-for-it directives have inexplicably become
    necessary despite no known changes to our CI infrastructure.

commit 9b576ef390474bd11b9a9f6588559aa74f116520
Author: Brennan Vincent <brennan@materialize.io>
Date:   Tue Mar 24 19:10:22 2020 -0400

    Use GPG instead of `trusted=yes` in Apt instructions (#2405)

commit 0c56eb6751bc078480de63baa158d34ddd85a502
Author: Brennan Vincent <brennan@materialize.io>
Date:   Tue Mar 24 18:46:09 2020 -0400

    update bumpalo to 3.2.1 (#2406)

commit c89ab53d9a4e0795d806e37a4b7100622726fad4
Merge: 1b27a8670 f20c616cf
Author: Sean Loiselle <sean@materialize.io>
Date:   Tue Mar 24 16:34:07 2020 -0400

    Merge pull request #2366 from sploiselle/iso-timestamp
    
    Refactor DATE, TIME, TIMESTAMP/TZ in strconv

commit 0fbf899b00dfa5976cec63a90be0b664c76b4370
Author: Natacha Crooks <nacrooks@gmail.com>
Date:   Tue Mar 24 15:48:11 2020 -0400

    Bugfix for empty topics with multiple partitions

commit e417331657b113f2d869df3532e122b7bf4ff2dd
Author: Nikhil Benesch <nikhil.benesch@gmail.com>
Date:   Tue Mar 24 15:35:28 2020 -0400

    ci: upgrade to latest version of docker-compose plugin
    
    This will upload all container logs when a failure occurs, which should
    make debugging the sporadic testdrive Kafka fetch error easier.

commit f20c616cf9559ca61d798ccb47a211e45ba1eafd
Author: Sean Loiselle <himself@seanloiselle.com>
Date:   Tue Mar 24 15:25:23 2020 -0400

    docs: reflect more permissive timestamp values

commit 8bb28107f094a8d1112fc80eb28484f40b6f6cc7
Author: Sean Loiselle <himself@seanloiselle.com>
Date:   Wed Mar 18 12:02:08 2020 -0400

    sql: refactor DATE, TIME, TIMESTAMP/TZ in strconv

commit 1b27a86700434483181b8cb532d6cefed63da1ea
Merge: 7023286b8 7a0f32126
Author: Nikhil Benesch <nikhil.benesch@gmail.com>
Date:   Tue Mar 24 15:17:43 2020 -0400

    Merge pull request #2397 from benesch/utc-timezone
    
    sql: accept SET TIME ZONE UTC

commit 7023286b8bc09ebb9162b81b2775b55791c43907
Merge: a4f28b16f e12e66e81
Author: Nikhil Benesch <nikhil.benesch@gmail.com>
Date:   Tue Mar 24 13:48:23 2020 -0400

    Merge pull request #2396 from benesch/extract-epoch
    
    sql: support EXTRACT(epoch FROM ...)

commit 7a0f32126af153b736ab5f9a6c9eb360bb07642f
Author: Nikhil Benesch <nikhil.benesch@gmail.com>
Date:   Tue Mar 24 01:19:22 2020 -0400

    sql: accept SET TIME ZONE UTC
    
    This is a small step towards allowing clients to configure their time
    zone. Most clients want to use UTC, and some will issue a SET TIME ZONE
    UTC command regardless of whether the connection is already using UTC.
    Just accept that declaration, so we work with those clients, but error
    if clients try to select a different time zone.
    
    Fix #2393.

commit a4f28b16fba4101b3c0cf7e938d7b1edd2e31b90
Merge: 7af8efc13 160491ecf
Author: Sean Loiselle <sean@materialize.io>
Date:   Tue Mar 24 11:47:17 2020 -0400

    Merge pull request #2399 from sploiselle/kinesis-release-notes
    
    docs: include link to kinesis source docs in release notes

commit 160491ecf576941f6c60be29aa9025d71963db38
Author: Sean Loiselle <himself@seanloiselle.com>
Date:   Tue Mar 24 11:35:30 2020 -0400

    docs: include link to kinesis source docs in release notes

commit 7af8efc13c4819f8178705c9825fa19ef8f5677d
Merge: 8db539e71 eed43004a
Author: Sean Loiselle <sean@materialize.io>
Date:   Tue Mar 24 11:32:45 2020 -0400

    Merge pull request #2387 from sploiselle/kinesis-docs
    
    Kinesis docs

commit 8db539e71a9736660a1d7bc699a5cfdf566458d5
Merge: 85cb8a1fe efb2e4bf6
Author: Jamie Brandon <jamie@scattered-thoughts.net>
Date:   Mon Mar 23 23:17:41 2020 -0700

    Merge pull request #2394 from jamii/explain-view
    
    Add `EXPLAIN PLAN FOR VIEW ...` command

commit e12e66e8156b2958877a4ed587127dafaecb02e2
Author: Nikhil Benesch <nikhil.benesch@gmail.com>
Date:   Tue Mar 24 00:52:03 2020 -0400

    sql: support EXTRACT(epoch from ...)
    
    Along with #2366, fix #2348.

commit efb2e4bf6f5d112e28272392f97fd705d4be4d03
Author: Jamie Brandon <jamie@scattered-thoughts.net>
Date:   Mon Mar 23 20:59:51 2020 -0700

    Rename inner to item, to match accessor

commit 44c23bc288ecf9e4cd5f712bde342b9f5c07cc8c
Author: Jamie Brandon <jamie@scattered-thoughts.net>
Date:   Mon Mar 23 20:58:30 2020 -0700

    Oops, `inner` has an accessor

commit 1c6326d465e11ffba9767bdad9cb476cfbf2d33c
Author: Jamie Brandon <jamie@scattered-thoughts.net>
Date:   Mon Mar 23 20:20:58 2020 -0700

    Add test

commit 2b65f47697bb2d97899ed2c5cfed94b209adb79f
Author: Jamie Brandon <jamie@scattered-thoughts.net>
Date:   Mon Mar 23 20:16:44 2020 -0700

    Store unoptimized exprs for views to be retried by EXPLAIN

commit e096b85939f934855f7b48697679098961ee3b78
Author: Jamie Brandon <jamie@scattered-thoughts.net>
Date:   Thu Mar 19 14:58:30 2020 -0700

    Add `EXPLAIN PLAN FOR VIEW view_name` syntax

commit 85cb8a1fe3377a6dd2f076f95ad64a3fbd8e60a9
Merge: abf0ebecf b56bf4089
Author: Nikhil Benesch <nikhil.benesch@gmail.com>
Date:   Mon Mar 23 17:26:50 2020 -0400

    Merge pull request #2381 from MaterializeInc/dependabot/cargo/hyper-0.13.4
    
    build(deps): bump hyper from 0.13.3 to 0.13.4

commit abf0ebecf0e466ae931ce843dba98476940b97df
Merge: 7ecc37615 c9bd52e09
Author: Nikhil Benesch <nikhil.benesch@gmail.com>
Date:   Mon Mar 23 17:21:15 2020 -0400

    Merge pull request #2345 from benesch/deps-20200317
    
    deps: bump to latest tokio-serde and num_enum

commit c9bd52e091c91fbb75c1d437abb0ef4eb23eac39
Author: Nikhil Benesch <nikhil.benesch@gmail.com>
Date:   Tue Mar 17 10:26:30 2020 -0400

    deps: bump to latest tokio-serde and num_enum
    
    This removes the last (transitive) dependency on pre-1.0
    proc-macro2/quote/syn.

commit 7ecc3761556f1cf6326a3e7c83bda42b750aad9e
Merge: 7f025307b 237118b34
Author: Nikhil Benesch <nikhil.benesch@gmail.com>
Date:   Mon Mar 23 16:36:28 2020 -0400

    Merge pull request #2385 from MaterializeInc/dependabot/cargo/timely-a455441
    
    build(deps): bump timely from `dda1905` to `a455441`

commit 7f025307b6365c5300381e7c15af16981da4fbfb
Merge: 21f08144c 1564d40ba
Author: Nikhil Benesch <nikhil.benesch@gmail.com>
Date:   Mon Mar 23 16:35:35 2020 -0400

    Merge pull request #2359 from benesch/rel-diagrams
    
    doc/developer: auto-generate release flow diagrams

commit 21f08144c2b85d316d0b612d09ace21c7cb35989
Merge: 6c88fb620 802373dc1
Author: Nikhil Benesch <nikhil.benesch@gmail.com>
Date:   Mon Mar 23 16:28:36 2020 -0400

    Merge pull request #2378 from MaterializeInc/dependabot/cargo/libc-0.2.68
    
    build(deps): bump libc from 0.2.67 to 0.2.68

commit 6c88fb62081c37381f1257900c26aad6e2c7ee40
Merge: 793739f3e c7f7ad952
Author: Nikhil Benesch <nikhil.benesch@gmail.com>
Date:   Mon Mar 23 16:26:07 2020 -0400

    Merge pull request #2389 from benesch/submodule-fix
    
    bin: add resync-submodules command

commit 793739f3e0ae7bac2f83c90e26063dbb54c35fe1
Merge: 18cf9194e 9a5c5e040
Author: Andi Wang <5522362+wangandi@users.noreply.github.com>
Date:   Mon Mar 23 16:25:51 2020 -0400

    Merge pull request #2374 from wangandi/testdrivecompacted
    
    Add testdrive support for log-compacted kafka topics.

commit c7f7ad952e6e3ba86a88cdfe84b522e7d62f2c03
Author: Nikhil Benesch <nikhil.benesch@gmail.com>
Date:   Mon Mar 23 13:57:29 2020 -0400

    bin: add resync-submodules command
    
    resync-submodules runs the Git incantations that fix 99% of problems
    with submodules.

commit 9a5c5e040775536d99d091341975d35a2a066699
Author: Andi Wang <andi@materialize.io>
Date:   Mon Mar 23 12:21:46 2020 -0400

    Eliminate sentinel records.

commit 24546eb2ce98d386aa5cf784f98578291d00d9cf
Author: Andi Wang <andi@materialize.io>
Date:   Thu Mar 19 19:28:51 2020 -0400

    Add support for log-compacted kafka topics.

commit 18cf9194ee3586d435eb20643be979cb2f3168ae
Author: Brennan Vincent <brennan@materialize.io>
Date:   Mon Mar 23 11:45:09 2020 -0400

    Run chbench for 60 seconds in CI (#2377)

commit eed43004a6685b936f946ef2ffc90f2f6531fda2
Author: sploiselle <sean@materialize.io>
Date:   Mon Mar 23 10:40:01 2020 -0400

    docs: integrate Kinesis docs into new structure

commit c47a16841605215ba26588a54dedeb41ada079da
Merge: 81c029b89 8b40f06f5
Author: Jessica Laughlin <JLDLaughlin@users.noreply.github.com>
Date:   Mon Mar 23 10:28:26 2020 -0400

    Improve get_records error handling (#2371)
    
    Retry on HttpDispatch errors, explicitly create a todo for ExpiredIterator errors, note the fatal errors.

commit 81c029b89e1322126b4af6c4d8b4cf59125b013e
Author: dependabot-preview[bot] <27856297+dependabot-preview[bot]@users.noreply.github.com>
Date:   Mon Mar 23 10:16:35 2020 -0400

    build(deps): bump serde from 1.0.104 to 1.0.105 (#2382)
    
    Bumps [serde](https://github.com/serde-rs/serde) from 1.0.104 to 1.0.105.
    - [Release notes](https://github.com/serde-rs/serde/releases)
    - [Commits](https://github.com/serde-rs/serde/compare/v1.0.104...v1.0.105)
    
    Signed-off-by: dependabot-preview[bot] <support@dependabot.com>
    
    Co-authored-by: dependabot-preview[bot] <27856297+dependabot-preview[bot]@users.noreply.github.com>

commit 742fc9c589d2b8920bdef5ae32a53703a7cd1e3f
Merge: 91b23b0ee b9ff9cd2c
Author: Jessica Laughlin <JLDLaughlin@users.noreply.github.com>
Date:   Mon Mar 23 10:10:44 2020 -0400

    Update release-checklist.md (#2369)

commit 91b23b0eef862e67552e441cdff277d2e9b2bf92
Author: dependabot-preview[bot] <27856297+dependabot-preview[bot]@users.noreply.github.com>
Date:   Mon Mar 23 10:06:15 2020 -0400

    build(deps): bump thiserror from 1.0.11 to 1.0.13 (#2383)
    
    Bumps [thiserror](https://github.com/dtolnay/thiserror) from 1.0.11 to 1.0.13.
    - [Release notes](https://github.com/dtolnay/thiserror/releases)
    - [Commits](https://github.com/dtolnay/thiserror/compare/1.0.11...1.0.13)
    
    Signed-off-by: dependabot-preview[bot] <support@dependabot.com>
    
    Co-authored-by: dependabot-preview[bot] <27856297+dependabot-preview[bot]@users.noreply.github.com>

commit 8b40f06f5e3e7393a496948a83b06728e4f4346e
Author: JLDLaughlin <jessica@materialize.io>
Date:   Mon Mar 23 10:05:10 2020 -0400

    Clean up match statement

commit b9ff9cd2c19da62d2099f803188acd884748198f
Author: JLDLaughlin <jessica@materialize.io>
Date:   Mon Mar 23 09:46:32 2020 -0400

    Updates

commit 460af67e242ac8ad99a1f17ba330eb5087f75c75
Author: Jessica Laughlin <JLDLaughlin@users.noreply.github.com>
Date:   Mon Mar 23 09:17:01 2020 -0400

    Kinesis known limitations (#2373)

commit 237118b34e98dc3c1934f257dc2c8049e46bde1a
Author: dependabot-preview[bot] <27856297+dependabot-preview[bot]@users.noreply.github.com>
Date:   Mon Mar 23 10:55:52 2020 +0000

    build(deps): bump timely from `dda1905` to `a455441`
    
    Bumps [timely](https://github.com/TimelyDataflow/timely-dataflow) from `dda1905` to `a455441`.
    - [Release notes](https://github.com/TimelyDataflow/timely-dataflow/releases)
    - [Commits](https://github.com/TimelyDataflow/timely-dataflow/compare/dda1905db56a798433ed0d929643604e94ac3150...a45544119a3695eda51c2b549428d6974dc005ec)
    
    Signed-off-by: dependabot-preview[bot] <support@dependabot.com>

commit b56bf4089185a2981f59b30145ae52f5d5b87394
Author: dependabot-preview[bot] <27856297+dependabot-preview[bot]@users.noreply.github.com>
Date:   Mon Mar 23 10:54:03 2020 +0000

    build(deps): bump hyper from 0.13.3 to 0.13.4
    
    Bumps [hyper](https://github.com/hyperium/hyper) from 0.13.3 to 0.13.4.
    - [Release notes](https://github.com/hyperium/hyper/releases)
    - [Changelog](https://github.com/hyperium/hyper/blob/master/CHANGELOG.md)
    - [Commits](https://github.com/hyperium/hyper/compare/v0.13.3...v0.13.4)
    
    Signed-off-by: dependabot-preview[bot] <support@dependabot.com>

commit 802373dc13ca7350862cff6112767d923453ea99
Author: dependabot-preview[bot] <27856297+dependabot-preview[bot]@users.noreply.github.com>
Date:   Mon Mar 23 10:52:42 2020 +0000

    build(deps): bump libc from 0.2.67 to 0.2.68
    
    Bumps [libc](https://github.com/rust-lang/libc) from 0.2.67 to 0.2.68.
    - [Release notes](https://github.com/rust-lang/libc/releases)
    - [Commits](https://github.com/rust-lang/libc/compare/0.2.67...0.2.68)
    
    Signed-off-by: dependabot-preview[bot] <support@dependabot.com>

commit cf17f4776d1d8f44f2e2ee43019ff0664749b0cd
Author: Brennan Vincent <brennan@materialize.io>
Date:   Sun Mar 22 18:45:08 2020 -0400

    Use the correct bintray path for materialized-unstable (#2376)

commit 49693d543b11d0669ca7995c8d189989a86030ce
Author: JLDLaughlin <jessica@materialize.io>
Date:   Fri Mar 20 10:59:44 2020 -0400

    Add Kinesis information to Materialize CREATE SOURCE docs

commit 79ea95b67e0cb001f8c5b75f5832d2016eabd0bf
Merge: 213786798 24cac763f
Author: Sean Loiselle <sean@materialize.io>
Date:   Sat Mar 21 15:48:43 2020 -0400

    Merge pull request #2277 from sploiselle/create-sources-per-format
    
    docs: restructure create source, atomizing  by data format

commit 24cac763f89b3607bfea460594cd1b375f54929f
Author: Sean Loiselle <himself@seanloiselle.com>
Date:   Tue Mar 10 18:55:41 2020 -0400

    docs: restructure create source, atomizing  by data format

commit 2137867987d6c888ed8a40627358d77869818c6a
Merge: 62e5e86bf e987e556d
Author: Sean Loiselle <sean@materialize.io>
Date:   Sat Mar 21 15:07:57 2020 -0400

    Merge pull request #2306 from sploiselle/add-show-create-sink
    
    sql: add SHOW CREATE SINK

commit 62e5e86bf8973ae118908c5b298fd705a4115410
Merge: 370d16c60 23aa8b2ab
Author: Arjun Narayan <arjun@materialize.io>
Date:   Fri Mar 20 18:28:16 2020 -0400

    Merge pull request #2367 from rjnn/doc_update
    
    fix broken doc internal link

commit fd36ddd60338dbf9998df6a032d42adbf05ab833
Author: JLDLaughlin <jessica@materialize.io>
Date:   Fri Mar 20 11:38:04 2020 -0400

    Improve get_records error handling

commit 7b4dde7db372bf97dfef5a042280fc36c592fb61
Author: JLDLaughlin <jessica@materialize.io>
Date:   Fri Mar 20 10:44:30 2020 -0400

    Update release-checklist.md

commit 23aa8b2ab3c19e95f9b35d60d0f40c47993526f2
Author: Arjun Narayan <arjun@materialize.io>
Date:   Fri Mar 20 10:25:54 2020 -0400

    fix broken doc internal link

commit 370d16c60665eab9be7306289037576aebd749a2
Author: Jessica Laughlin <JLDLaughlin@users.noreply.github.com>
Date:   Thu Mar 19 16:12:35 2020 -0400

    Remove all .unwraps() from Kinesis source (#2364)

commit 3147152aacae76778548c42a4e355ef196ab5a5f
Author: Frank McSherry <fmcsherry@me.com>
Date:   Thu Mar 19 09:46:15 2020 -0400

    Remove TopK stages with neither limit nor offset. (#2362)

commit 440e941db03c48a3b350d7c433811ec9cee1d14e
Merge: 998fd915e 32e40041a
Author: Nikhil Benesch <nikhil.benesch@gmail.com>
Date:   Wed Mar 18 19:30:11 2020 -0400

    Merge pull request #2349 from benesch/md5crate
    
    deps: use md-5 package, not md5 package

commit 1564d40ba600c0e826ed5c7711fa2bbed9c0bb8c
Author: Nikhil Benesch <nikhil.benesch@gmail.com>
Date:   Wed Mar 18 19:20:36 2020 -0400

    lint: clean up exclusion regexes
    
    These lists have rotted over time. Remove a number of file types that no
    longer need to be excluded, or never should have been excluded in the
    first place.

commit b054e75c0a13e0db431136847494bf85a71698e0
Author: Nikhil Benesch <nikhil.benesch@gmail.com>
Date:   Wed Mar 18 13:55:17 2020 -0400

    doc/developer: auto-generate release flow diagrams
    
    Tweak the diagram generator to spit out SVGs directly, using headless
    Chrome, rather than requiring manual screenshotting. This makes updating
    them much easier, and also greatly reduces the depencency set of the
    generator, which means fewer NPM packages that will need to be updated.

commit 998fd915e7a3b099d44849ec23a554994971f5d3
Merge: 0ebeee0de cc135a556
Author: Nikhil Benesch <nikhil.benesch@gmail.com>
Date:   Wed Mar 18 18:00:34 2020 -0400

    Merge pull request #2361 from benesch/expr-no-match
    
    expr: avoid matching on datum type

commit cc135a5569517ba0906ce23c6e9f6ba497f07037
Author: Nikhil Benesch <nikhil.benesch@gmail.com>
Date:   Wed Mar 18 15:17:57 2020 -0400

    expr: avoid matching on datum type
    
    As a rule, expr functions should never match on the datum type, because
    that information can be statically determined via the type system.
    Convert a bunch of datum type switches to generic code using the
    TimestampLike trait.

commit 0ebeee0dee3c2c580f249dab93a2b6ac3ca41be9
Author: Brandon W Maister <bwm@materialize.io>
Date:   Wed Mar 18 12:16:17 2020 -0400

    doc/releases: Bump npm dependencies for security updates (#2357)
    
    command is just `npm upgrade` and then `npm run serve` to be sure that it still works.
    
    Fixes #2319

commit fd92221ae2d574a95b653d509c8b15d2cb149ac2
Author: Frank McSherry <fmcsherry@me.com>
Date:   Wed Mar 18 10:55:04 2020 -0400

    Improve RelationType passed to scalar reduction. (#2356)
    
    Scalar reduction in Map was previously using the input RelationType, which would not reflect columns added by other expressions in the Map. Column references to them would then panic.
    
    fixes #2355

commit 8460322786d873705f0bba5925d868d59eb59208
Merge: f371d89bb 3c972d9ff
Author: Nikhil Benesch <nikhil.benesch@gmail.com>
Date:   Wed Mar 18 10:42:35 2020 -0400

    Merge pull request #2354 from benesch/catalog-compat
    
    catalog: reintroduce and validate backwards compatibility

commit 3c972d9ff0fd8f8261c32e5a111bc27ccfc9d178
Author: Nikhil Benesch <nikhil.benesch@gmail.com>
Date:   Wed Mar 18 00:04:35 2020 -0400

    catalog: add migration for multi-partition schema changes
    
    Add a migration to introduce the new schema required for timestamping
    multi-partition Kafka topics (added in #2169) into existing materialized
    catalogs.
    
    This migration destroys timestamping information from past runs of
    materialized, but since we haven't yet made specific consistency
    guarantees to users after a restart, it's alright.
    
    Fix #2343.

commit 53e760a00dae509999d7620e37cb12e1a4bd90ce
Author: Nikhil Benesch <nikhil.benesch@gmail.com>
Date:   Tue Mar 17 23:33:57 2020 -0400

    ci: validate catalog compatibility
    
    Fix #2304.

commit f371d89bb7df8f44ba99ca02238a30bbd502122c
Author: Jessica Laughlin <JLDLaughlin@users.noreply.github.com>
Date:   Tue Mar 17 19:57:09 2020 -0400

    v0.1.3-* -> v0.1.4-dev (#2350)

commit 7bd35dff9a8e9b9ad549a642b374342c66058c81
Author: Jessica Laughlin <JLDLaughlin@users.noreply.github.com>
Date:   Tue Mar 17 19:46:56 2020 -0400

    Update release documents (#2351)
    
    Add Kinesis to v0.1.3 release notes, add v0.1.3 to the list of releases

commit 32e40041a3a8cf98c8bb8e8ed7963a01e31dcb81
Author: Nikhil Benesch <nikhil.benesch@gmail.com>
Date:   Tue Mar 17 19:21:58 2020 -0400

    deps: use md-5 package, not md5 package
    
    Believe it or not, the suspicious-looking "md-5" package is the
    RustCrypto-approved package, while "md5" is the name of an earlier crate
    that is unrelated to the RustCrypto project. We were using both;
    standardize on md-5 since we use RustCrypto in many other places.

commit e7f6baa3b82d6f4b659ce7aaeda50d1677dbc9c8
Merge: e23f1538b a87f42874
Author: Nikhil Benesch <nikhil.benesch@gmail.com>
Date:   Tue Mar 17 17:55:19 2020 -0400

    Merge pull request #2347 from benesch/dev-flag
    
    materialized: fix --dev flag behavior

commit a87f428745aafb773effee62329283627138202f
Author: Nikhil Benesch <nikhil.benesch@gmail.com>
Date:   Tue Mar 17 17:33:52 2020 -0400

    materialized: fix --dev flag behavior
    
    If we must have this --dev flag, it should at least have the desired
    effect. Also introduce a MZ_DEV environment variable that can be used to
    opt out of this behavior more permanently.
    
    While I'm in here, fix up the consistency of error messages and option
    descriptions. These should all start with lower case letters, per
    longstanding Unix tradition.

commit e23f1538bef8ccdb54886fd48e44780353db05aa
Merge: e192a1e31 86c0c2a93
Author: Ruchir Khaitan <ruchir0001@gmail.com>
Date:   Tue Mar 17 16:05:56 2020 -0400

    Merge pull request #2342 from ruchirK/rk-2337
    
    materialized: add --debug flag to allow debug builds

commit 86c0c2a93cf4b9af9a4f05fcee5e48dc56bd95d2
Author: Ruchir Khaitan <ruchir0001@gmail.com>
Date:   Tue Mar 17 00:19:49 2020 -0400

    materialized: add --debug flag to allow debug builds
    
    We added a new command line argument for running materialized to prevent users
    from accidentally running debug builds in a prod(like) environment
    
    Fixes #2337

commit e192a1e318a311c429d28e34a6a9916b2def76cc
Merge: 32fff53c8 6add4f30f
Author: Nikhil Benesch <nikhil.benesch@gmail.com>
Date:   Tue Mar 17 12:43:37 2020 -0400

    Merge pull request #2339 from benesch/testdrive-fixes
    
    testdrive: fix kafka-verify

commit 32fff53c8d24d7f14eb18b06249058e84be9fc77
Author: Ruchir Khaitan <ruchir0001@gmail.com>
Date:   Tue Mar 17 10:59:58 2020 -0400

    sql: add date_trunc for timestamptz (#2311)
    
    sql: add date_trunc for timestamptz
    
    Fixes #1814

commit ec270efcb8fe0aeaaa027fa6515daa0632afc76a
Merge: eb23ddf4c 00b44bdf1
Author: Nikhil Benesch <nikhil.benesch@gmail.com>
Date:   Tue Mar 17 00:21:27 2020 -0400

    Merge pull request #2341 from benesch/fix-bad-avro-merge
    
    tests: move errant file into src/avro

commit 00b44bdf161e2a1e58f7405cd217cafb376831bc
Author: Nikhil Benesch <nikhil.benesch@gmail.com>
Date:   Mon Mar 16 23:38:04 2020 -0400

    tests: move errant file into src/avro
    
    This was introduced in the wrong place in #2181.

commit 6add4f30fe4e59f69f5dc6188d1505ce60be5efb
Author: Nikhil Benesch <nikhil.benesch@gmail.com>
Date:   Mon Mar 16 22:46:07 2020 -0400

    testdrive: rename raw format to bytes
    
    "bytes" is more consistent with what we use internally in testdrive, and
    also the FORMAT BYTES in CREATE SOURCE statements.

commit f4ced92cf3eb23daa4a0c2588240aaf680d4a948
Author: Nikhil Benesch <nikhil.benesch@gmail.com>
Date:   Mon Mar 16 22:43:28 2020 -0400

    testdrive: reorganize according to Rust conventions
    
    Move all source files into an src directory, and also introduce a format
    module for the growing list of formats we support.

commit 13616941a30eb258c2e9e14f3151bd91bf0b7039
Author: Nikhil Benesch <nikhil.benesch@gmail.com>
Date:   Mon Mar 16 21:58:20 2020 -0400

    testdrive: enforce proper hygiene on argument names
    
    Argument names should be all lowercase and use hyphens, not underscores.

commit 5526ee44f68ea94c04ebfcc06c3d86c5c00d08dd
Author: Nikhil Benesch <nikhil.benesch@gmail.com>
Date:   Mon Mar 16 21:25:14 2020 -0400

    testdrive: split kafka actions into modules
    
    The main Kafka module was getting rather unwieldy.

commit 7911154db7ae803b0c405e7876f3f880fb0411b6
Author: Nikhil Benesch <nikhil.benesch@gmail.com>
Date:   Mon Mar 16 21:07:28 2020 -0400

    testdrive: fix kafka-verify
    
    A Kafka producer locally caches metadata about what topics and
    partitions are available. Attempting to produce to a partition that is
    not present in the local cache will result in an UnknownPartition error.
    
    The default topic metadata refresh interval is 5m, which means it could
    take a full five minutes between when testdrive creates a new partition
    and when it can produce to that partition. This is obviously untenable,
    so the refresh interval was decreased to 10ms in #2214.
    
    Unfortunately, this had the side-effect of wedging any Kafka consumers.
    Their metadata would always be out of date, and so they'd spend all
    their time updating their metadata and never yield any records.
    
    This patch restores topic.metadata.refresh.interval to its default,
    fixing kafka-verify and restoring the test that used kafka-verify. Then,
    to ensure that the Kafka producer has sufficiently fresh metadata, it
    adjusts kafka-create-topic and kafka-add-partitions to forcibly refresh
    the producer's metadata after the topic or partitions are created.
    
    To prevent similar disasters in the future, there is no longer a Kafka
    consumer that is shared across all the actions in a test file. Actions
    that need a Kafka consumer (like kafka-verify) create their own on
    demand. All metadata fetches will thus be forced through the Kafka
    producer, where they will ensure the cache is up to date.
    
    Fix #2299.

commit 6ad9709580f6d647cff9a816a5eaadd9fc1a1f16
Author: Nikhil Benesch <nikhil.benesch@gmail.com>
Date:   Mon Mar 16 16:58:39 2020 -0400

    testdrive: report kafka production errors
    
    These were previously swallowed silently, which caused a lot of
    headaches when debugging why writing to recently-created partitions was
    failing silently.

commit c30388075bbd1c45dcae6daff663a3366cab1325
Author: Nikhil Benesch <nikhil.benesch@gmail.com>
Date:   Mon Mar 16 16:53:06 2020 -0400

    testdrive: require explicit partition addition action
    
    Similar rationale as the last commit, which introduced explicit topic
    creation actions. This makes the API of kafka-ingest simpler and makes
    it less likely for something to go wrong.

commit 395c8593cbea5619fe2ec3d0a467b53b7eefaf74
Author: Nikhil Benesch <nikhil.benesch@gmail.com>
Date:   Mon Mar 16 16:26:25 2020 -0400

    testdrive: require explicit topic creation action
    
    kafka-ingest has gotten a bit overloaded. Not only does it ingest data,
    but it also creates the topic and possibly adds partitions to it.
    Splitting this work out into explicit steps both simplifies the API and
    makes it less likely for something to go wrong.

commit 88b54279ba860f580de95a48b79077585c34c74b
Author: Nikhil Benesch <nikhil.benesch@gmail.com>
Date:   Mon Mar 16 22:16:32 2020 -0400

    testdrive: use ccsr::AsyncClient
    
    ccsr::Client is slated for removal. Plus the approach of creating a
    Tokio runtime for every kafka-ingest action was rather distasteful;
    better to create a state-local runtime that can be shared between all
    actions.

commit eb23ddf4c29988d6ed2e96a155db4a2ef6305a89
Merge: 0b8b92fd9 97368dbd0
Author: Nikhil Benesch <nikhil.benesch@gmail.com>
Date:   Mon Mar 16 20:54:01 2020 -0400

    Merge pull request #2325 from MaterializeInc/dependabot/cargo/anyhow-1.0.27
    
    build(deps): bump anyhow from 1.0.26 to 1.0.27

commit 0b8b92fd9dc477d312483a853af172a66966a14f
Merge: e2fd6b510 16c0a5530
Author: Nikhil Benesch <nikhil.benesch@gmail.com>
Date:   Mon Mar 16 20:53:53 2020 -0400

    Merge pull request #2324 from MaterializeInc/dependabot/cargo/aho-corasick-0.7.10
    
    build(deps): bump aho-corasick from 0.7.9 to 0.7.10

commit e2fd6b510ce6709f729c0c596f70f3521a7f2b50
Merge: fb9fdbe86 a1302065b
Author: Nikhil Benesch <nikhil.benesch@gmail.com>
Date:   Mon Mar 16 20:53:07 2020 -0400

    Merge pull request #2326 from MaterializeInc/dependabot/cargo/rand_chacha-0.2.2
    
    build(deps): bump rand_chacha from 0.2.1 to 0.2.2

commit fb9fdbe861da8c88b7ee6a5534369d0d7408131d
Merge: bd411febc 30b229af5
Author: Nikhil Benesch <nikhil.benesch@gmail.com>
Date:   Mon Mar 16 20:52:44 2020 -0400

    Merge pull request #2330 from MaterializeInc/dependabot/cargo/regex-1.3.5
    
    build(deps): bump regex from 1.3.4 to 1.3.5

commit bd411febc5f2913ed11dd6add0839d2316778ee3
Author: Frank McSherry <fmcsherry@me.com>
Date:   Mon Mar 16 16:57:06 2020 -0400

    Update the `since` field of IndexState. (#2336)
    
    This field was not previously being updated, which made validity tests against it vacuously true. This meant that races between compaction and upper frontiers could result in incorrect results. There should now be an error instead (the error has always existed, but the state on which it was based was not correct).

commit 016cf69ecdde70e15f94cb5a4dc1512d99d3f589
Author: Frank McSherry <fmcsherry@me.com>
Date:   Mon Mar 16 13:49:58 2020 -0400

    Adds the --logical-compaction-window command line argument. (#2333)
    
    This command line argument allows the user to set the default logical compaction window. This argument controls how aggressively materialized will compact historical distinctions, which trades off flexibility of execution against a lean memory footprint: more memory used means more options available. The possible values are any time, or the string "off" which will disable logical compaction.

commit 4d66e270fe7366fbe5269bac75344dc394781093
Merge: f08197e03 0babbec53
Author: Brandon W Maister <bwm@materialize.io>
Date:   Mon Mar 16 10:01:10 2020 -0400

    Merge pull request #2332 from quodlibetor/deploy-verbose-tarball-versions
    
    Make ci/deploy/docker print the mz tarballs it's uploading to s3

commit 0babbec532824e02698db8b13f5c2d79be08eab4
Author: Brandon W Maister <bwm@materialize.io>
Date:   Mon Mar 16 09:21:39 2020 -0400

    Make ci/deploy print the versions of mz operating on

commit 30b229af58f668526d9b38112aa550f1653d1838
Author: dependabot-preview[bot] <27856297+dependabot-preview[bot]@users.noreply.github.com>
Date:   Mon Mar 16 10:44:35 2020 +0000

    build(deps): bump regex from 1.3.4 to 1.3.5
    
    Bumps [regex](https://github.com/rust-lang/regex) from 1.3.4 to 1.3.5.
    - [Release notes](https://github.com/rust-lang/regex/releases)
    - [Changelog](https://github.com/rust-lang/regex/blob/master/CHANGELOG.md)
    - [Commits](https://github.com/rust-lang/regex/compare/1.3.4...1.3.5)
    
    Signed-off-by: dependabot-preview[bot] <support@dependabot.com>

commit a1302065b683cea2474d19a4c580499ba34791a5
Author: dependabot-preview[bot] <27856297+dependabot-preview[bot]@users.noreply.github.com>
Date:   Mon Mar 16 10:42:59 2020 +0000

    build(deps): bump rand_chacha from 0.2.1 to 0.2.2
    
    Bumps [rand_chacha](https://github.com/rust-random/rand) from 0.2.1 to 0.2.2.
    - [Release notes](https://github.com/rust-random/rand/releases)
    - [Changelog](https://github.com/rust-random/rand/blob/master/CHANGELOG.md)
    - [Commits](https://github.com/rust-random/rand/compare/rand_chacha-0.2.1...rand_chacha-0.2.2)
    
    Signed-off-by: dependabot-preview[bot] <support@dependabot.com>

commit 97368dbd0aff478ee31ea416d4a405644efc8d75
Author: dependabot-preview[bot] <27856297+dependabot-preview[bot]@users.noreply.github.com>
Date:   Mon Mar 16 10:42:36 2020 +0000

    build(deps): bump anyhow from 1.0.26 to 1.0.27
    
    Bumps [anyhow](https://github.com/dtolnay/anyhow) from 1.0.26 to 1.0.27.
    - [Release notes](https://github.com/dtolnay/anyhow/releases)
    - [Commits](https://github.com/dtolnay/anyhow/compare/1.0.26...1.0.27)
    
    Signed-off-by: dependabot-preview[bot] <support@dependabot.com>

commit 16c0a55309c1156d6f536324b6f3334751fd8293
Author: dependabot-preview[bot] <27856297+dependabot-preview[bot]@users.noreply.github.com>
Date:   Mon Mar 16 10:42:25 2020 +0000

    build(deps): bump aho-corasick from 0.7.9 to 0.7.10
    
    Bumps [aho-corasick](https://github.com/BurntSushi/aho-corasick) from 0.7.9 to 0.7.10.
    - [Release notes](https://github.com/BurntSushi/aho-corasick/releases)
    - [Commits](https://github.com/BurntSushi/aho-corasick/compare/0.7.9...0.7.10)
    
    Signed-off-by: dependabot-preview[bot] <support@dependabot.com>

commit f08197e0317f7159a1dce0bbce0fbd01c45dded5
Merge: 6c7cc13fd 27f74a314
Author: Nikhil Benesch <nikhil.benesch@gmail.com>
Date:   Sun Mar 15 23:54:26 2020 -0400

    Merge pull request #2317 from benesch/float-io
    
    repr: use postgres's float input and output formats

commit 6c7cc13fd56fee849ce3687a53ce152d7948259f
Merge: b577530cc c90231745
Author: Nikhil Benesch <nikhil.benesch@gmail.com>
Date:   Sun Mar 15 23:54:11 2020 -0400

    Merge pull request #2312 from benesch/gh1684
    
    sql: complain about misqualified wildcards

commit 27f74a314d495584e2d1c5664be571271736d0e9
Author: Nikhil Benesch <nikhil.benesch@gmail.com>
Date:   Sun Mar 15 12:33:34 2020 -0400

    repr: use postgres's float input and output formats
    
    Fix #1553.

commit b577530ccd1c0e1a9c31ae6e12fbd77af5cd7ec8
Author: Brennan Vincent <brennan@materialize.io>
Date:   Sun Mar 15 19:35:32 2020 -0400

    Add authentication to curl command in ci/deploy/deb.sh (#2320)

commit 5600febbd8a344f17914b4941d1d0e81052e08a1
Author: Brennan Vincent <brennan@materialize.io>
Date:   Sun Mar 15 18:38:35 2020 -0400

    publish Bintray package in deploy step (#2318)

commit e987e556d32914e711b3b8f2d2dd5fd44c91da2b
Author: sploiselle <sean@materialize.io>
Date:   Sun Mar 15 12:04:46 2020 -0400

    sql: improve formatting for 'show create...' statements

commit f087884dd7e082846d07becdbf84e21b14e9c800
Merge: 9ce7a0fba ab50c55c1
Author: Nikhil Benesch <nikhil.benesch@gmail.com>
Date:   Sun Mar 15 11:55:54 2020 -0400

    Merge pull request #2316 from benesch/neg-mult
    
    coord: fix propagation of negative multiplicities error

commit 5ead4ccbc433f107bd2e44ba9aa132b46c919c16
Author: sploiselle <sean@materialize.io>
Date:   Sun Mar 15 11:54:23 2020 -0400

    docs: add show create sink

commit ab50c55c190cd699c137268261584ec72a37580e
Author: Nikhil Benesch <nikhil.benesch@gmail.com>
Date:   Sun Mar 15 11:27:00 2020 -0400

    coord: fix propagation of negative multiplicities error
    
    The coordinator was inadvertently converting this error into a
    PeekResponse::Canceled. Looks to be a missed code path for #1648.
    
    Fix #2128.
    Fix #2314.

commit 49dc2de041927f7a7f003b03c52196c90f196c0c
Author: sploiselle <sean@materialize.io>
Date:   Fri Mar 13 16:03:20 2020 -0400

    sql: add SHOW CREATE SINK

commit c90231745195a16ff4b4d51f863d68569eefa328
Author: Nikhil Benesch <nikhil.benesch@gmail.com>
Date:   Sun Mar 15 00:52:58 2020 -0400

    sql: complain about misqualified wildcards
    
    Complain if someone writes
    
        SELECT * FROM bad_table.* FROM good_table
    
    when bad_table does not exist. Similarly complain about
    
        SELECT *
    
    when there are no tables mentioned in the FROM clause.
    
    Fix #1684.

commit 9ce7a0fba58c9d881258c01cf682a6eac20e9d34
Author: Brennan Vincent <brennan@materialize.io>
Date:   Fri Mar 13 23:47:39 2020 -0400

    Fix typo (#2309)

commit 90d113bdabadbb8d236e2bdd5c675c7ed7069f49
Author: Brennan Vincent <brennan@materialize.io>
Date:   Fri Mar 13 22:50:10 2020 -0400

    Fix .deb name to be unique (#2308)

commit 04ca2b5ec6ff5802298b2efe7bee6f191e3fb9ca
Author: Brennan Vincent <brennan@materialize.io>
Date:   Fri Mar 13 22:10:20 2020 -0400

    Upload unstable artifacts to Bintray (#2307)

commit bf77de54981dafee2d61d1b7fdcb4e7ba8d16368
Merge: 438c500aa 27b586c6c
Author: Nikhil Benesch <nikhil.benesch@gmail.com>
Date:   Fri Mar 13 15:35:22 2020 -0400

    Merge pull request #2301 from benesch/comm-flake
    
    comm: fix flakes in test_pingpong

commit 27b586c6c829cfb60002c499ec604094339352d9
Author: Nikhil Benesch <nikhil.benesch@gmail.com>
Date:   Thu Mar 12 23:29:38 2020 -0400

    comm: fix flakes in test_pingpong
    
    When a comm channel closes, the switchboard attempts to recycle the
    underlying `TCPStream` for use by a future comm channel. Recycling
    involves calling `peer_addr()` on this `TCPStream` so that the
    connection can be sorted into the correct pool.
    
    If the peer closes the connection before the call to `peer_addr()`, the
    call to `peer_addr()` will fail with an error like "transport endpoint
    is not connected." We would previously panic upon receiving this error,
    which caused occasional flakes in test_pingpong in CI (see #2291).
    
    This wasn't a problem in actual deployments of Materialize, as all
    workers are long-lived and no peers ever attempt to terminate
    connections.
    
    This patch allows the comm::Connection::addr method to return an error,
    and the connection pool simply declines to recycle a connection if
    retriving its peer address results in an error.
    
    Fix #2291.

commit 438c500aaa239c372d7d312c32748e89adebdce3
Merge: 2de68bcea 09680b8e7
Author: Nikhil Benesch <nikhil.benesch@gmail.com>
Date:   Fri Mar 13 10:09:26 2020 -0400

    Merge pull request #2302 from benesch/coalesce-typing
    
    expr: compute output type of coalesce function more obviously

commit 09680b8e7d5dd3cb2ad73af53eef85fb142e3d83
Author: Nikhil Benesch <nikhil.benesch@gmail.com>
Date:   Fri Mar 13 00:17:11 2020 -0400

    expr: compute output type of coalesce function more obviously
    
    The output type computation for the coalesce function was previously
    quite clever and would mark coalesce as non-nullable if all of its
    inputs were non-nullable. It also had an unnecessary check for
    ScalarType::Unknown: all inputs to coalesce are made to have the same
    type, so there is no need to filter out ScalarType::Unknown when
    computing a coalesce invocation's output type.
    
    It is quite a bit clearer if we instead declare the output type of
    coalesce to be:
    
      - unconditionally nullable
      - the same scalar type as its inputs (which are required to all be
        of the same type)
    
    We're not losing an optimization here, either. If a coalesce is indeed
    applied to all non-nullable arguments, the new support for reducing
    coalesce expressions (see #2298) will remove the coalesce entirely, and
    so the non-nullability of the first input will be accessible to the
    optimizer in that way.

commit 2de68bceaab96ceaabf515a670a55c373f71f332
Merge: e4fb079f3 bdb9e3238
Author: Nikhil Benesch <nikhil.benesch@gmail.com>
Date:   Thu Mar 12 23:51:59 2020 -0400

    Merge pull request #2298 from benesch/reduce-coalesce
    
    expr: reduce coalesce expressions

commit e4fb079f357678dec95b1ffdf85f5c2c60c65c0d
Author: Jessica Laughlin <JLDLaughlin@users.noreply.github.com>
Date:   Thu Mar 12 20:58:04 2020 -0400

    Downgrade capabilities after sending Kinesis data (#2295)

commit bdb9e3238f66f3c87a8d2278ac4aee60049d803d
Author: Nikhil Benesch <nikhil.benesch@gmail.com>
Date:   Thu Mar 12 20:09:15 2020 -0400

    expr: reduce coalesce expressions
    
    We can apply a lot of smarts to reducing calls to the coalesce function.
    If we can reduce away an error, that makes SLT happy, too.

commit a18bad5f2dc708a00384fabdc5d248b530275e5d
Merge: db5734f0e 4f7b24639
Author: Nikhil Benesch <nikhil.benesch@gmail.com>
Date:   Thu Mar 12 20:10:17 2020 -0400

    Merge pull request #2297 from benesch/slt-panic
    
    expr: propagate errors but not types in reduction

commit 4f7b24639217c26b23c2f714721dd813a6674662
Author: Nikhil Benesch <nikhil.benesch@gmail.com>
Date:   Thu Mar 12 18:58:52 2020 -0400

    expr: propagate errors but not types in reduction
    
    When reducing an expression, propagating an error input to a function is
    correct, but we must remember to install the function's output type, not
    propagate its input type.
    
    Fix #2293.

commit db5734f0e9d49942a228f81d0fa8563b65d33229
Merge: d81e08250 8a8878b0f
Author: Sean Loiselle <sean@materialize.io>
Date:   Thu Mar 12 15:50:59 2020 -0400

    Merge pull request #2284 from sploiselle/create-sink-doc-update
    
    docs: update create sink for updated create source syntax

commit d81e08250b22c9d42f2be12dcaa3f1cc990ae501
Merge: 6d5d8fbd5 0bbae2d7b
Author: Natacha Crooks <nacrooks@gmail.com>
Date:   Thu Mar 12 15:47:55 2020 -0400

    Merge pull request #2214 from nacrooks/multiplepartitions
    
    Support single-threaded reading of multiple Kafka partitions

commit 0bbae2d7be74d77993eb7a5050b7d6ceab4bb5e6
Author: Natacha Crooks <nacrooks@gmail.com>
Date:   Tue Mar 3 17:54:38 2020 -0500

    Adding support for multiple shards in Kafka topics
    
    Fixing initialisation condition of sources
    
    Fixing Clippy Error
    
    Adding support for dynamically adding partitions
    
    Adding support for dynamically adding Kafka partitions
    
    Moving default offset to be 0 to support empty partitions
    
    Adding test to support empty table
    
    Rebasing Jessica's changes
    
    Updating refresh rate for producers
    
    Updating refresh rate for producers
    
    setting offset
    
    Readding seek call
    
    Removing unnecessary logging
    
    fixing clippy warnings
    
    Fixing partition getting created before consistency topic
    
    Fix clippy errors
    
    Whitespace
    
    Addressing UMax issue
    
    Fixing lint

commit 6d5d8fbd5529c6ed1dce280efe06480969fe4eb6
Merge: f7fc4fdff b1d4c268a
Author: Sean Loiselle <sean@materialize.io>
Date:   Thu Mar 12 15:06:34 2020 -0400

    Merge pull request #2292 from sploiselle/mz-logical-ts
    
    docs: add materialize_logical_timestamp()

commit b1d4c268a68919645584ee23f8576cbf1bc9e5a6
Author: Sean Loiselle <himself@seanloiselle.com>
Date:   Thu Mar 12 14:38:25 2020 -0400

    docs: add materialize_logical_timestamp()

commit f7fc4fdff197b41d82f6a53ad411b4aadb44bd18
Merge: b6a28d3f8 ac50d7987
Author: Sean Loiselle <sean@materialize.io>
Date:   Thu Mar 12 14:05:31 2020 -0400

    Merge pull request #2290 from sploiselle/pg-special-date-time-inputs
    
    sql: add support for 'epoch' shorthand

commit ac50d7987c7185c2f4404b4563278f676d5edc7b
Author: Sean Loiselle <himself@seanloiselle.com>
Date:   Thu Mar 12 12:44:34 2020 -0400

    sql: add support for 'epoch' shorthand

commit b6a28d3f85bf5178458a342c021b0d3397f9ee44
Merge: 8d081f077 a95f97cc9
Author: Nikhil Benesch <nikhil.benesch@gmail.com>
Date:   Thu Mar 12 13:45:16 2020 -0400

    Merge pull request #2287 from benesch/dataflow-exports
    
    dataflow: handle exports of aliased imported traces

commit 8d081f07728e2437115420ddaee347830a3f7125
Author: Jessica Laughlin <JLDLaughlin@users.noreply.github.com>
Date:   Thu Mar 12 13:13:49 2020 -0400

    Fix Kinesis source bug (#2288)

commit f485351850a90c66ac7446b6b2731bed4e6d0bfa
Merge: 4a07b8c0d bb8dbb2bf
Author: Sean Loiselle <sean@materialize.io>
Date:   Thu Mar 12 12:17:53 2020 -0400

    Merge pull request #2286 from benesch/to-timestamp-docs
    
    docs: document to_timestamp function

commit 4a07b8c0d55b7acf4965bf16d7f0e9a089fb09b8
Author: Jessica Laughlin <JLDLaughlin@users.noreply.github.com>
Date:   Thu Mar 12 09:54:03 2020 -0400

    Clean up convert_from and tests (#2283)

commit a95f97cc9d6394993d6be6010d56db7e49fd6847
Author: Nikhil Benesch <nikhil.benesch@gmail.com>
Date:   Thu Mar 12 01:30:29 2020 -0400

    dataflow: handle exports of aliased imported traces
    
    Consider the following views that stack one on top of the other:
    
        CREATE MATERIALIZED VIEW test1 AS SELECT 1;
        CREATE MATERIALIZED VIEW test2 AS SELECT * FROM test1;
        CREATE MATERIALIZED VIEW test3 AS SELECT * FROM test2;
        CREATE MATERIALIZED VIEW test4 AS SELECT * FROM test3;
    
    Rendering test3 involves importing the arrangement for test2's primary
    index, then rexporting the arrangement as test3's primary index. The
    previous logic for this would get confused because test3's primary index
    was marked as an imported arrangement but did not appear in the list of
    imported arrangements, as the import list mentions test2, not test3,
    (because the test2/test3 aliasing has not been established at import
    time). Put more succinctly: the index export code was not properly
    accounting for aliasing of imported arrangements.
    
    As mentioned in #2276, failed index exports are suppressed, and so
    building test3 does not result in an error, even though it fails to
    export the necessary index. Building test4 attempts to import this
    nonexistent index, and crashes. Astute readers might notice that test2's
    purpose is rather unclear--shouldn't this all happen one view
    earlier?--but test1 is a constant view and so builds an arrangement on
    the empty key [], while test2 wants an arrangement on [#0] and so has to
    build that arrangement itself [0], and thus avoids directly exporting an
    arrangement that it imported.
    
    This commit tracks the provenance of imported arrangements (i.e., their
    global IDs) in the local context, so that the correct external
    arrangement can be selected when exporting external arrangements.
    
    Fix #1985.
    Fix #2276.
    
    [0]: https://github.com/MaterializeInc/materialize/issues/1985#issuecomment-597982599

commit bb8dbb2bfd376cd5c8e6b8b147a13c1847ded003
Author: Nikhil Benesch <nikhil.benesch@gmail.com>
Date:   Thu Mar 12 00:51:26 2020 -0400

    docs: document to_timestamp function

commit 8a8878b0fb28cdfcb2d951f423f0e6db58d4266d
Author: Sean Loiselle <himself@seanloiselle.com>
Date:   Wed Mar 11 21:59:55 2020 -0400

    docs: update create sink for updated create source syntax

commit 338926c0121d8442c2b2b5773034437b088b1150
Merge: 87113b766 5a5113524
Author: Andi Wang <5522362+wangandi@users.noreply.github.com>
Date:   Wed Mar 11 20:25:22 2020 -0400

    Merge pull request #2279 from wangandi/testdrivemanyrow
    
    Add verification of values through hashing to testdrive

commit 5a51135244aad94066682f7072ca9df0adf76361
Author: Andi Wang <andi@materialize.io>
Date:   Tue Mar 10 17:39:58 2020 -0400

    Add verification of values through hashing to testdrive + custom timeouts.

commit 87113b76646df43d770262bee200f8d156eed714
Author: Jessica Laughlin <JLDLaughlin@users.noreply.github.com>
Date:   Wed Mar 11 16:56:20 2020 -0400

    Implement convert_from (#2259)

commit 349e6c8e483f111f8fcb6b26cff44c147f0dcedc
Merge: dc42a6609 120f1cb05
Author: Nikhil Benesch <nikhil.benesch@gmail.com>
Date:   Wed Mar 11 16:52:38 2020 -0400

    Merge pull request #2280 from benesch/index-import-panic
    
    dataflow: improve panic error message when index import is missing

commit dc42a6609facee2038d3ec9018b8082f32eae114
Merge: 0baa3639f 28683581f
Author: Nikhil Benesch <nikhil.benesch@gmail.com>
Date:   Wed Mar 11 16:13:53 2020 -0400

    Merge pull request #2278 from benesch/slt-fix-ii
    
    sqllogictest: fix another malformatted cockroach test

commit 28683581fb7d9fc18e1a29afdfc8706f2035cae4
Author: Nikhil Benesch <nikhil.benesch@gmail.com>
Date:   Wed Mar 11 15:56:18 2020 -0400

    sqllogictest: fix another malformatted cockroach test
    
    This appears to be the last.

commit 120f1cb056e32a0f79ad1c610c65ca6021a1d6ed
Author: Nikhil Benesch <nikhil.benesch@gmail.com>
Date:   Wed Mar 11 15:36:40 2020 -0400

    dataflow: improve panic error message when index import is missing
    
    Aids in debugging of #2276.

commit 0baa3639f13ff0768663e5d0f10d7a85dab4a5ae
Merge: 2e37c6bb6 d5acc9354
Author: Nikhil Benesch <nikhil.benesch@gmail.com>
Date:   Wed Mar 11 15:29:07 2020 -0400

    Merge pull request #2271 from benesch/slt-reorg
    
    sqllogictest: start testing parser

commit d5acc93541101c44efa6e88ed6161df8ed4bed19
Author: Nikhil Benesch <nikhil.benesch@gmail.com>
Date:   Wed Mar 11 15:08:51 2020 -0400

    sqllogictest: don't panic
    
    Panicking prevents any other SLT files from getting run, which is the
    most inefficient way to discover a bunch of SLT parse errors when those
    parse errors are spread across multiple files.

commit d5652185b0216da5e1819ef44264d8b4346c0737
Author: Nikhil Benesch <nikhil.benesch@gmail.com>
Date:   Tue Mar 10 23:25:06 2020 -0400

    sqllogictest: start testing parser
    
    Writing these tests has already surfaced several bugs in the handling of
    skipif, onlyif, halt, and some ignored Cockroach-specific directives.

commit ec91ca4a3dad25bd85cb7b57503bbdaae1f09fb6
Author: Nikhil Benesch <nikhil.benesch@gmail.com>
Date:   Tue Mar 10 22:35:25 2020 -0400

    sqllogictest: introduce src directory
    
    This brings the structure in line with Rust convention.

commit 96e06f828c2c0b492ef5870be0b9265dafba00bd
Author: Nikhil Benesch <nikhil.benesch@gmail.com>
Date:   Tue Mar 10 22:34:00 2020 -0400

    sqllogictest: remove dead code

commit 2e37c6bb6b3c878cd3191af466dda90d73ee5274
Merge: 37580249e a3f532406
Author: Nikhil Benesch <nikhil.benesch@gmail.com>
Date:   Wed Mar 11 14:31:59 2020 -0400

    Merge pull request #2275 from benesch/slt-oops
    
    sqllogictest: fix malformatted cockroach test

commit a3f532406974fff35a2baf56bd013f6c7abb6343
Author: Nikhil Benesch <nikhil.benesch@gmail.com>
Date:   Wed Mar 11 14:02:25 2020 -0400

    sqllogictest: fix malformatted cockroach test

commit 37580249e336c72b30b471ca00f0d90ade4b8da4
Merge: 97ff265e6 0b4aa1020
Author: Nikhil Benesch <nikhil.benesch@gmail.com>
Date:   Wed Mar 11 13:31:20 2020 -0400

    Merge pull request #2273 from jamii/more-fix-slt
    
    Fix SLT parser

commit 0b4aa10203f4cf5099a24313bf46175967399148
Author: Nikhil Benesch <nikhil.benesch@gmail.com>
Date:   Wed Mar 11 12:25:44 2020 -0400

    sqllogictest: remove "incompatible" test
    
    Turns out this wasn't a decimal precision issue, but an issue with unary
    operator precedence that has been fixed. We now agree with the original
    answer here.

commit 16500c74958c6e14b0db18521d5d113dbf3daa7d
Author: Nikhil Benesch <nikhil.benesch@gmail.com>
Date:   Wed Mar 11 12:06:36 2020 -0400

    Bump sqlite sqllogictest
    
    Picks up a fix that marks a query as producing a division by zero error.

commit 0aee7a8cf28a6f31d2792c7ab37f849cb223a9e2
Author: Nikhil Benesch <nikhil.benesch@gmail.com>
Date:   Wed Mar 11 11:53:21 2020 -0400

    expr: fix NULL handling in AND and OR
    
    I broke this logic when introducing lazy evaluation. Trinary truth
    tables are hard.

commit 7efc05d1a44fe84e1f63b31d33f262258955312d
Author: Nikhil Benesch <nikhil.benesch@gmail.com>
Date:   Wed Mar 11 11:19:55 2020 -0400

    sql-parser: fix precedence of unary + and -
    
    These bind more tightly than multiplication and division, but less
    tightly than type casts.

commit a08efd7d9577ddee2d326bcb7467bcc48f65209b
Author: Jamie Brandon <jamie@scattered-thoughts.net>
Date:   Wed Mar 11 13:50:41 2020 +0000

    Fix slt parser, and remove several edge cases in test files

commit 97ff265e6b9fce6bce1a70b3978fc0196d9285b6
Merge: 93699dc05 aa9bd352c
Author: Ruchir Khaitan <ruchir0001@gmail.com>
Date:   Wed Mar 11 09:31:58 2020 -0400

    Merge pull request #2272 from couchand/202003/docs-link
    
    doc/user: fix broken link to arch overview

commit aa9bd352cc5c47aa18ae4f4d1a53bdb7640ed25d
Author: Andrew Dona-Couch <hi@andrewcou.ch>
Date:   Tue Mar 10 23:53:41 2020 -0400

    doc/user: fix broken link to arch overview

commit 93699dc05e7c1de38d61982f24bb2613318be9f4
Merge: 27b7d0376 6fc436e76
Author: Nikhil Benesch <nikhil.benesch@gmail.com>
Date:   Tue Mar 10 23:27:15 2020 -0400

    Merge pull request #2270 from benesch/slt-deps
    
    sqllogictest: clean up dependencies

commit 6fc436e76d9858f5d300d4b246a8d00b1a429667
Author: Nikhil Benesch <nikhil.benesch@gmail.com>
Date:   Tue Mar 10 22:52:57 2020 -0400

    sqllogictest: clean up dependencies
    
    Several of its declared dependencies were unused. Also avoid wildcard
    dependencies, for the reasons stated in the patch.

commit 27b7d03765d514c5e43b389132736d1c9f68bd6a
Merge: 0f493dffd 69de68825
Author: Nikhil Benesch <nikhil.benesch@gmail.com>
Date:   Tue Mar 10 22:32:02 2020 -0400

    Merge pull request #2234 from benesch/expr-errors
    
    expr: propagate errors through evaluation and optimization

commit 69de688259b498184fc937e8f637cff0c7aab507
Author: Nikhil Benesch <nikhil.benesch@gmail.com>
Date:   Thu Mar 5 17:56:46 2020 -0500

    expr: propagate errors through evaluation and optimization
    
    This patch allows scalar expressions evaluation to return an error. As
    optimization might involve evaluating the constituent scalar
    expressions, optimization can now return errors as well. If such an
    error is discovered during optimization (i.e., somewhere between plan
    time and run time), it will be returned to the client.
    
    Errors that truly occur at runtime are still replaced with NULLs, as
    before. A future commit will wire up a separate error pathway for
    runtime errors.

commit 73bdab9188d367f8c7f997db858ed3b0dad078f2
Author: Nikhil Benesch <nikhil.benesch@gmail.com>
Date:   Tue Mar 10 18:19:04 2020 -0400

    expr: allow lazy evaluation of function arguments
    
    AND, OR, and coalesce all want to evaluate their arguments lazily rather
    than eagerly. This has semantic implications when evaluation can error.
    For example
    
        coalesce(1, 1 / 0)
    
    does not result in an error, because `1 / 0` is not evaluated,
    
        coalesce(NULL, 1 / 0)
    
    does result in an error, because the `1 / 0` will be evaluated.
    
    This patch installs the necessary plumbing to allow functions to opt-in
    to lazy evaluation, and then teaches AND, OR, and coalesce to do so.

commit 0f493dffd513b9dedc0cd4373d8a8cfd9bfc2a57
Merge: 536c99238 d8fbce8e0
Author: Nikhil Benesch <nikhil.benesch@gmail.com>
Date:   Tue Mar 10 19:54:51 2020 -0400

    Merge pull request #2269 from benesch/fix-slt
    
    sqllogictest: fix parser

commit d8fbce8e02661c0c28287b85c5629cd549c5d4a5
Author: Nikhil Benesch <nikhil.benesch@gmail.com>
Date:   Tue Mar 10 19:22:39 2020 -0400

    sqllogictest: fix parser
    
    The changes in #2212 broke parsing of most SLT files, but also hid the
    fact that the parser was broken by incorrectly parsing any file that
    began with a "mode" directive as empty.

commit 536c99238b9b8a618e070a2c1e6d58a0ebd2cc4c
Merge: 843e21471 096d12931
Author: Andi Wang <5522362+wangandi@users.noreply.github.com>
Date:   Tue Mar 10 19:28:06 2020 -0400

    Merge pull request #2267 from wangandi/seededbillingdemo
    
    Modify billing demo to generate reproducible record sets

commit 096d1293165cf6be61df41e70c9d73a04faf4ed0
Author: Andi Wang <andi@materialize.io>
Date:   Tue Mar 10 18:58:59 2020 -0400

    Expand start_time comment.
    Please enter the commit message for your changes. Lines starting

commit 843e21471465bb378967966056d921572689b006
Merge: f1d00f7b8 dd333884f
Author: Nikhil Benesch <nikhil.benesch@gmail.com>
Date:   Tue Mar 10 18:53:10 2020 -0400

    Merge pull request #2220 from benesch/release-checklist
    
    doc/developer: improve release documentation

commit dd333884f879a3f286abe07e82dcb91d90613402
Author: Nikhil Benesch <nikhil.benesch@gmail.com>
Date:   Tue Mar 10 16:57:59 2020 -0400

    materialized: start v0.1.3 release cycle

commit cb63121ea9828dc1da9562b26d9c37726c7e406b
Author: Nikhil Benesch <nikhil.benesch@gmail.com>
Date:   Wed Mar 4 17:19:54 2020 -0500

    doc/developer: improve release documentation

commit f1d00f7b8751b2fb7f1401d7deadb259e8444e9a
Merge: 10cc2db1f d035e15a1
Author: Nikhil Benesch <nikhil.benesch@gmail.com>
Date:   Tue Mar 10 16:21:23 2020 -0400

    Merge pull request #2261 from benesch/kafka-cols
    
    dataflow,sql: ensure kafka offset column is accounted for

commit d035e15a1acb7119ec03fa76ed655a870c04d014
Author: Nikhil Benesch <nikhil.benesch@gmail.com>
Date:   Tue Mar 10 15:10:41 2020 -0400

    sql: fix computed type of joins
    
    The sql crate's type computation for joins was not properly taking
    outerness into account. This was causing us to incorrectly report
    nullability via pgwire for columns on the sparse side of a join.

commit 10cc2db1f17db38604a9d096b1a0054bd4796955
Merge: 2c7e5381f 9d6674084
Author: Nikhil Benesch <nikhil.benesch@gmail.com>
Date:   Tue Mar 10 14:21:01 2020 -0400

    Merge pull request #2231 from benesch/doc-concat
    
    doc/user: document the string concatenation operator `||`

commit 9d66740848c1c149983a4ed88afd5ce49588764f
Author: Nikhil Benesch <nikhil.benesch@gmail.com>
Date:   Thu Mar 5 16:13:10 2020 -0500

    doc/user: document the string concatenation operator `||`

commit 8ac63b3569335a4ec9e1728a44289ab2c8aa550a
Author: Nikhil Benesch <nikhil.benesch@gmail.com>
Date:   Tue Mar 10 03:37:01 2020 -0400

    dataflow,sql: ensure kafka offset column is accounted for
    
    Raw Kafka sources were not properly reporting their mz_offset column.
    The situation is weird because Avro and Protobuf formats do not
    propagate this column, while regex and CSV formats do. Just hack around
    the issue for now, and add additional tests to decrease the probability
    of the type descriptor skewing from the actual result set in the future.
    
    This issue was discovered by @JLDLaughlin while working on #2259.

commit d5ad0d7031c29b6f44fcd0e45823fe5273f1730a
Author: Andi Wang <andi@materialize.io>
Date:   Wed Mar 4 14:36:02 2020 -0500

    Modify billing demo to produce reproducible record sets.

commit 2c7e5381ff62fa7b8ffbeb307236451c826be912
Merge: 0b7003da5 42be55ce5
Author: Jessica Laughlin <JLDLaughlin@users.noreply.github.com>
Date:   Tue Mar 10 12:32:24 2020 -0400

    Merge pull request #2264 from JLDLaughlin/bi_docs
    
    Update table names in BI demo docs.
    Example: mysql_tpcch_customer -> customer

commit 0b7003da5583c3add0d6c213c66df86ad722a293
Merge: 24ac3ddc5 b114b12eb
Author: Sean Loiselle <sean@materialize.io>
Date:   Tue Mar 10 12:29:48 2020 -0400

    Merge pull request #2253 from sploiselle/sql-component-overview
    
    docs: consolidate conceptual docs around SQL components

commit 42be55ce51bf4ff2bf14db4356d0a207da51a3ee
Author: JLDLaughlin <jessica@materialize.io>
Date:   Tue Mar 10 12:27:07 2020 -0400

    Fix indent

commit 249ffc538453f4cf3576674fc7926de4588a75f4
Author: JLDLaughlin <jessica@materialize.io>
Date:   Tue Mar 10 12:11:35 2020 -0400

    Clippy

commit 590b698c205289ec272b43ca1b0a99a381fdbb41
Author: JLDLaughlin <jessica@materialize.io>
Date:   Tue Mar 10 12:08:13 2020 -0400

    Update table names in BI demo docs

commit 24ac3ddc57406281767d02129ec84fd1c888f031
Merge: b6e8c940e 6b36562e0
Author: Sean Loiselle <sean@materialize.io>
Date:   Tue Mar 10 11:52:32 2020 -0400

    Merge pull request #2263 from sploiselle/link-fix
    
    docs: fix broken links to third-party docs

commit 6b36562e077b16644ac11c65c1b8fce30d38345b
Author: Sean Loiselle <himself@seanloiselle.com>
Date:   Tue Mar 10 11:01:35 2020 -0400

    docs: fix broken links to third-party docs

commit b6e8c940e8dba79be764eae8c49f2481c05045bc
Merge: 04ae49cbd 5f02976b6
Author: Jamie Brandon <jamie@scattered-thoughts.net>
Date:   Mon Mar 9 23:07:37 2020 +0000

    Merge pull request #2212 from jamii/repretty
    
    Repretty

commit 5f02976b6f67d7f0ead8cf956eea837070c00a76
Author: Jamie Brandon <jamie@scattered-thoughts.net>
Date:   Tue Feb 18 13:42:14 2020 +0000

    Change the output of EXPLAIN to make large plans easier to follow
    
    This also required changing the SLT parser to handle outputs
    containing \n\n. Multiline outputs are now required to end in EOF.

commit 04ae49cbd67be9ee61499c5f5d909957d5523eb7
Merge: 9692a1b00 7efb9318b
Author: Nikhil Benesch <nikhil.benesch@gmail.com>
Date:   Mon Mar 9 18:07:37 2020 -0400

    Merge pull request #2258 from benesch/fallible-transforms
    
    expr: allow transformations to fail

commit 9692a1b00d83fe16f254c149718bea1a111c9d29
Merge: 2e7903378 1dad382db
Author: Nikhil Benesch <nikhil.benesch@gmail.com>
Date:   Mon Mar 9 18:07:27 2020 -0400

    Merge pull request #2257 from benesch/type-aware-reduction
    
    expr: fix bugs and simplify ScalarExpr::reduce

commit 1dad382dba377effbe7fd6b426c012471d4cce20
Author: Nikhil Benesch <nikhil.benesch@gmail.com>
Date:   Mon Mar 9 17:11:08 2020 -0400

    expr: simplify reduce

commit cf00a1dde8828ca1f668d63f6dd716ed2b197402
Author: Nikhil Benesch <nikhil.benesch@gmail.com>
Date:   Mon Mar 9 16:30:05 2020 -0400

    expr: don't introduce typing errors in ScalarExpr::reduce
    
    ScalarExpr::reduce could introduce typing errors when reducing calls to
    BinaryFunc::MatchLikePattern or BinaryFunc::DateTrunc where the input
    contained NULL. The resulting expression would type the NULL according
    to the input type of the function, when the NULL needs to be typed
    according to the output type of the function.
    
    While I'm in here, teach all functions that propagate NULLs to do so
    whenever *any* of their arguments is a literal NULL.

commit 7efb9318b6d6f5ed42f13ade31dd408735e9075e
Author: Nikhil Benesch <nikhil.benesch@gmail.com>
Date:   Mon Mar 9 17:37:48 2020 -0400

    expr: allow transformations to fail
    
    This converts the non-converging fixpoint panic into a graceful error
    (#1177). It also tees us up nicely for runtime errors (#489).
    
    This PR is mostly extracted from #2234, which has already been approved.

commit 2e7903378918dc9819e65495ab65010722fd169d
Author: Ruchir Khaitan <ruchir0001@gmail.com>
Date:   Mon Mar 9 16:40:52 2020 -0400

    dataflow: add more debug info on receiving duplicate offset (#2255)
    
    Touches #2254

commit c043bb884bde0948acd9785fdf92dbc1e91f3ba3
Merge: 45a5a2e24 a9926f886
Author: Nikhil Benesch <nikhil.benesch@gmail.com>
Date:   Mon Mar 9 16:27:36 2020 -0400

    Merge pull request #2244 from MaterializeInc/dependabot/cargo/failure-0.1.7
    
    build(deps): bump failure from 0.1.6 to 0.1.7

commit 45a5a2e2498cc44c8ca1343598746867865e3934
Merge: 4363d1992 2a380d9b8
Author: Nikhil Benesch <nikhil.benesch@gmail.com>
Date:   Mon Mar 9 14:22:19 2020 -0400

    Merge pull request #2250 from benesch/expr-err
    
    expr: use dedicated error type

commit b114b12eb720a9f8fdb14648cc64c7c4dd885ac7
Author: sploiselle <sean@materialize.io>
Date:   Thu Mar 5 16:48:11 2020 -0500

    docs: consolidate conceptual docs around SQL components

commit 2a380d9b891ec32e8bdc650f94d3a1acc49e5878
Author: Nikhil Benesch <nikhil.benesch@gmail.com>
Date:   Mon Mar 9 11:55:14 2020 -0400

    expr: use dedicated error type
    
    failure::Error isn't cloneable, which means it can't be stored in an
    expr AST.

commit a9926f8867744a03715e6850b05c6ffccd01283a
Author: dependabot-preview[bot] <27856297+dependabot-preview[bot]@users.noreply.github.com>
Date:   Mon Mar 9 17:57:30 2020 +0000

    build(deps): bump failure from 0.1.6 to 0.1.7
    
    Bumps [failure](https://github.com/rust-lang-nursery/failure) from 0.1.6 to 0.1.7.
    - [Release notes](https://github.com/rust-lang-nursery/failure/releases)
    - [Changelog](https://github.com/rust-lang-nursery/failure/blob/master/RELEASES.md)
    - [Commits](https://github.com/rust-lang-nursery/failure/commits)
    
    Signed-off-by: dependabot-preview[bot] <support@dependabot.com>

commit 4363d1992d59c2013ff3924b233fcc0611991df5
Merge: 04e668e88 97dd67a23
Author: Jessica Laughlin <JLDLaughlin@users.noreply.github.com>
Date:   Mon Mar 9 13:55:26 2020 -0400

    Real-time Kinesis source for a single shard (#2223)
    
    * Real-time Kinesis source
    
    * Real-time Kinesis source
    
    * Update data stored on connector, don't sleep
    
    * Update testdrive ARN

commit 04e668e88d78c0fb601fd23225787cfed8079a58
Merge: 963593b59 d704537f9
Author: Andi Wang <5522362+wangandi@users.noreply.github.com>
Date:   Mon Mar 9 13:49:03 2020 -0400

    Merge pull request #2252 from wangandi/paniclog
    
    Print panic stack trace to log file.

commit d704537f977c72c7eb7447bc0b02b7feaaa9775b
Author: Andi Wang <andi@materialize.io>
Date:   Mon Mar 9 13:00:10 2020 -0400

    Fix incorrect unicode number.

commit 8a64dbec099474bd1f728198e2dbe931700b6995
Author: Andi Wang <andi@materialize.io>
Date:   Mon Mar 9 12:59:43 2020 -0400

    Have materialized write crash stack trace to log file.

commit 97dd67a235dbbfee3f42aa32a126a290e45a9afb
Author: JLDLaughlin <jessica@materialize.io>
Date:   Mon Mar 9 12:27:15 2020 -0400

    Update testdrive ARN

commit 963593b59867443333cbbbe6eb06a2880b782558
Merge: e29f52c0a 18cecd2d6
Author: Nikhil Benesch <nikhil.benesch@gmail.com>
Date:   Mon Mar 9 11:44:31 2020 -0400

    Merge pull request #2246 from MaterializeInc/dependabot/cargo/digest-0.8.1
    
    build(deps): bump digest from 0.8.0 to 0.8.1

commit e29f52c0a5e566bc54e762cb9e6a3a366d4644a3
Merge: b1e19aabb e09b0df0e
Author: Nikhil Benesch <nikhil.benesch@gmail.com>
Date:   Mon Mar 9 11:41:10 2020 -0400

    Merge pull request #2245 from MaterializeInc/dependabot/cargo/tracing-subscriber-0.2.3
    
    build(deps): bump tracing-subscriber from 0.2.2 to 0.2.3

commit b1e19aabbf53e761f62be8c316256b289776192c
Merge: 1097554a9 ef36c8a05
Author: Nikhil Benesch <nikhil.benesch@gmail.com>
Date:   Mon Mar 9 11:39:14 2020 -0400

    Merge pull request #2242 from MaterializeInc/dependabot/cargo/postgres-types-0.1.1
    
    build(deps): bump postgres-types from 0.1.0 to 0.1.1

commit 1097554a91e48ef38b3697b73a905b962682bd64
Merge: c3ca9bcf1 5ca79204e
Author: Nikhil Benesch <nikhil.benesch@gmail.com>
Date:   Mon Mar 9 11:38:02 2020 -0400

    Merge pull request #2243 from MaterializeInc/dependabot/cargo/reqwest-0.10.4
    
    build(deps): bump reqwest from 0.10.3 to 0.10.4

commit c3ca9bcf16db6f0d782a01072b0f9e5c42517c8c
Merge: ca6fc9b35 5c6be722b
Author: Nikhil Benesch <nikhil.benesch@gmail.com>
Date:   Mon Mar 9 11:37:50 2020 -0400

    Merge pull request #2247 from MaterializeInc/dependabot/cargo/chrono-0.4.11
    
    build(deps): bump chrono from 0.4.10 to 0.4.11

commit eee9675863273d1db7532843e12dab7436526abe
Merge: fc8f39ed0 a7d03ed70
Author: JLDLaughlin <jessica@materialize.io>
Date:   Mon Mar 9 11:37:18 2020 -0400

    Merging

commit ca6fc9b35323616e0146e3527427f267d861bc66
Merge: 64bda7ef6 e82d8bd3c
Author: Nikhil Benesch <nikhil.benesch@gmail.com>
Date:   Mon Mar 9 11:36:51 2020 -0400

    Merge pull request #2248 from MaterializeInc/dependabot/cargo/backtrace-0.3.45
    
    build(deps): bump backtrace from 0.3.44 to 0.3.45

commit 64bda7ef60228ff0e657d8dcd65236acbdc65d47
Merge: 69e0aae66 ff55e35d5
Author: Nikhil Benesch <nikhil.benesch@gmail.com>
Date:   Mon Mar 9 11:35:22 2020 -0400

    Merge pull request #2240 from MaterializeInc/dependabot/cargo/predicates-1.0.4
    
    build(deps): bump predicates from 1.0.3 to 1.0.4

commit 69e0aae660bc5c3336bb910faee08e418f70387a
Merge: 0a39efe22 d638c1b70
Author: Nikhil Benesch <nikhil.benesch@gmail.com>
Date:   Mon Mar 9 11:33:54 2020 -0400

    Merge pull request #2239 from benesch/like-refactor
    
    expr,sql: clarify like vs regex functions

commit fc8f39ed03904669e88dc5e58dea59a1fd4359e6
Author: JLDLaughlin <jessica@materialize.io>
Date:   Mon Mar 9 11:31:14 2020 -0400

    Update data stored on connector, don't sleep

commit e82d8bd3cce5786f7a08137e580c47eaf3c4c046
Author: dependabot-preview[bot] <27856297+dependabot-preview[bot]@users.noreply.github.com>
Date:   Mon Mar 9 10:51:20 2020 +0000

    build(deps): bump backtrace from 0.3.44 to 0.3.45
    
    Bumps [backtrace](https://github.com/rust-lang/backtrace-rs) from 0.3.44 to 0.3.45.
    - [Release notes](https://github.com/rust-lang/backtrace-rs/releases)
    - [Commits](https://github.com/rust-lang/backtrace-rs/compare/0.3.44...0.3.45)
    
    Signed-off-by: dependabot-preview[bot] <support@dependabot.com>

commit 5c6be722bafe8950b693af68200d6dc01901d357
Author: dependabot-preview[bot] <27856297+dependabot-preview[bot]@users.noreply.github.com>
Date:   Mon Mar 9 10:50:56 2020 +0000

    build(deps): bump chrono from 0.4.10 to 0.4.11
    
    Bumps [chrono](https://github.com/chronotope/chrono) from 0.4.10 to 0.4.11.
    - [Release notes](https://github.com/chronotope/chrono/releases)
    - [Changelog](https://github.com/chronotope/chrono/blob/master/CHANGELOG.md)
    - [Commits](https://github.com/chronotope/chrono/compare/v0.4.10...v0.4.11)
    
    Signed-off-by: dependabot-preview[bot] <support@dependabot.com>

commit 18cecd2d63f7bbb50760b7d885a9eddc174c3603
Author: dependabot-preview[bot] <27856297+dependabot-preview[bot]@users.noreply.github.com>
Date:   Mon Mar 9 10:50:33 2020 +0000

    build(deps): bump digest from 0.8.0 to 0.8.1
    
    Bumps [digest](https://github.com/RustCrypto/traits) from 0.8.0 to 0.8.1.
    - [Release notes](https://github.com/RustCrypto/traits/releases)
    - [Commits](https://github.com/RustCrypto/traits/compare/digest-v0.8.0...digest-v0.8.1)
    
    Signed-off-by: dependabot-preview[bot] <support@dependabot.com>

commit e09b0df0e3d87cd9f924ea6902c37c5395e8145d
Author: dependabot-preview[bot] <27856297+dependabot-preview[bot]@users.noreply.github.com>
Date:   Mon Mar 9 10:49:51 2020 +0000

    build(deps): bump tracing-subscriber from 0.2.2 to 0.2.3
    
    Bumps [tracing-subscriber](https://github.com/tokio-rs/tracing) from 0.2.2 to 0.2.3.
    - [Release notes](https://github.com/tokio-rs/tracing/releases)
    - [Commits](https://github.com/tokio-rs/tracing/compare/tracing-subscriber-0.2.2...tracing-subscriber-0.2.3)
    
    Signed-off-by: dependabot-preview[bot] <support@dependabot.com>

commit 5ca79204e331992cc036c5988d8e66b6ec348ae5
Author: dependabot-preview[bot] <27856297+dependabot-preview[bot]@users.noreply.github.com>
Date:   Mon Mar 9 10:48:38 2020 +0000

    build(deps): bump reqwest from 0.10.3 to 0.10.4
    
    Bumps [reqwest](https://github.com/seanmonstar/reqwest) from 0.10.3 to 0.10.4.
    - [Release notes](https://github.com/seanmonstar/reqwest/releases)
    - [Changelog](https://github.com/seanmonstar/reqwest/blob/master/CHANGELOG.md)
    - [Commits](https://github.com/seanmonstar/reqwest/compare/v0.10.3...v0.10.4)
    
    Signed-off-by: dependabot-preview[bot] <support@dependabot.com>

commit ef36c8a0537849594fa36067693d4a81b737c83b
Author: dependabot-preview[bot] <27856297+dependabot-preview[bot]@users.noreply.github.com>
Date:   Mon Mar 9 10:48:05 2020 +0000

    build(deps): bump postgres-types from 0.1.0 to 0.1.1
    
    Bumps [postgres-types](https://github.com/sfackler/rust-postgres) from 0.1.0 to 0.1.1.
    - [Release notes](https://github.com/sfackler/rust-postgres/releases)
    - [Commits](https://github.com/sfackler/rust-postgres/compare/postgres-types-v0.1.0...postgres-types-v0.1.1)
    
    Signed-off-by: dependabot-preview[bot] <support@dependabot.com>

commit ff55e35d5e2d78b58bce85f261645fd7c53e57c5
Author: dependabot-preview[bot] <27856297+dependabot-preview[bot]@users.noreply.github.com>
Date:   Mon Mar 9 10:46:36 2020 +0000

    build(deps): bump predicates from 1.0.3 to 1.0.4
    
    Bumps [predicates](https://github.com/assert-rs/predicates-rs) from 1.0.3 to 1.0.4.
    - [Release notes](https://github.com/assert-rs/predicates-rs/releases)
    - [Changelog](https://github.com/assert-rs/predicates-rs/blob/master/CHANGELOG.md)
    - [Commits](https://github.com/assert-rs/predicates-rs/compare/v1.0.3...v1.0.4)
    
    Signed-off-by: dependabot-preview[bot] <support@dependabot.com>

commit d638c1b705b8ba476ccba573d8af320d3d4cf156
Author: Nikhil Benesch <nikhil.benesch@gmail.com>
Date:   Sat Mar 7 19:11:13 2020 -0500

    expr,sql: clarify like vs regex functions
    
    These function names got a bit confused with the change to Row. Clarify
    their names: the two-argument form matches a LIKE pattern, while the
    one-argument form matches a regex.

commit 0a39efe2217490f40feac907d798a8a68bf1498e
Merge: e6322c7da 61edf6996
Author: Nikhil Benesch <nikhil.benesch@gmail.com>
Date:   Sat Mar 7 14:36:33 2020 -0500

    Merge pull request #2238 from benesch/bump-wasm-bindgen
    
    deps: bump wasm-bindgen ecosystem

commit 61edf6996a20e92d6e5cd765fe3a2cb582bf56ce
Author: Nikhil Benesch <nikhil.benesch@gmail.com>
Date:   Sat Mar 7 12:32:36 2020 -0500

    deps: bump wasm-bindgen ecosystem
    
    The wasm-bindgen ecosystem is a transitive dependency that's utterly
    unencessary for us, but still bloats the lockfile and crate graph. Bump
    it to remove some duplicate dependencies that are removed in the latest
    versions.

commit e6322c7da56b5941f30fbd48a14d34920a9cfcfc
Merge: 016756941 e5240670c
Author: Nikhil Benesch <nikhil.benesch@gmail.com>
Date:   Sat Mar 7 12:14:05 2020 -0500

    Merge pull request #2233 from benesch/func-errors
    
    expr: allow functions to return errors

commit 0167569414f1a2285eca1b141196aa536629a813
Merge: e9b167bb7 c9e0ba2a5
Author: Sean Loiselle <sean@materialize.io>
Date:   Thu Mar 5 16:55:34 2020 -0500

    Merge pull request #2227 from sploiselle/now-docs
    
    docs: rephrase now() docs

commit e5240670cd38f2e1c67732018f35c72d45804a9f
Author: Nikhil Benesch <nikhil.benesch@gmail.com>
Date:   Thu Mar 5 16:30:13 2020 -0500

    expr: allow functions to return errors
    
    The errors are thrown away immediately and replaced with NULL, as
    before, but we have to start somewhere.
    
    Touches #489.

commit e9b167bb78b545dd4d5c7b637415d986c9824dd0
Merge: 5279e4ce2 78d9a9574
Author: Nikhil Benesch <nikhil.benesch@gmail.com>
Date:   Thu Mar 5 16:49:57 2020 -0500

    Merge pull request #2230 from benesch/implicit-casts
    
    expr,sql: support distinct explicit and implicit casts

commit 78d9a95748ae17ce2996c78c770ba8fa55e26af8
Author: Nikhil Benesch <nikhil.benesch@gmail.com>
Date:   Thu Mar 5 15:30:24 2020 -0500

    expr, sql: support || string concatenation operator
    
    Fix #1733.

commit 794e918d8255c880af0f638d6a8d5de99bfe28bc
Author: Nikhil Benesch <nikhil.benesch@gmail.com>
Date:   Thu Mar 5 15:06:29 2020 -0500

    expr,sql: support distinct explicit and implicit casts
    
    Casting between certain data types has different behavior depending on
    whether the cast is explicitly requested by the user (i.e., via CAST or
    the :: operator) or implicitly selected by a function or operator.
    Generalize that notion and thread it through our sql and expr crates.
    
    So far this only impacts the `concat` function, but having it as a
    generalizable form of cast behavior paves the way for the other data
    types that have different explicit and implicit casting behavior.

commit 5279e4ce27f3d386aac7398330c19c0d9dbbf1af
Author: Frank McSherry <fmcsherry@me.com>
Date:   Thu Mar 5 14:51:08 2020 -0500

    update differential to capture bugfix (#2229)
    
    This bumps differential in order to pick up a fix for TimelyDataflow/differential-dataflow#253, which has been nagging us.

commit c9e0ba2a54636ba05090be0f10f1b1e44272243a
Author: sploiselle <sean@materialize.io>
Date:   Thu Mar 5 13:45:47 2020 -0500

    docs: rephrase now() docs

commit ced5807be40caf51ef1fc6cf6c99a3e94abdc170
Merge: c6c34f81b 642a47fb5
Author: Sean Loiselle <sean@materialize.io>
Date:   Thu Mar 5 11:52:18 2020 -0500

    Merge pull request #2226 from sploiselle/interval-add-sub-release-notes
    
    docs: add closed known limitation section

commit 642a47fb522f25c312cb614db1940542ef07f93d
Author: sploiselle <sean@materialize.io>
Date:   Thu Mar 5 10:57:05 2020 -0500

    docs: add closed known limitation section

commit c6c34f81bdf40602a5a78baa7abede5ece2ff68e
Merge: c03a21634 db0f740d2
Author: Sean Loiselle <sean@materialize.io>
Date:   Thu Mar 5 10:40:19 2020 -0500

    Merge pull request #2200 from sploiselle/interval-add-sub
    
    sql: support add, sub for interval-on-interval

commit 636f4cdc4d246af499d3ad412e4f6f4e1e5c007f
Author: JLDLaughlin <jessica@materialize.io>
Date:   Wed Mar 4 18:38:54 2020 -0500

    Real-time Kinesis source

commit a7d03ed700ec4f0b0cfc76a6baaf1d693f1e5e2c
Author: JLDLaughlin <jessica@materialize.io>
Date:   Wed Mar 4 18:38:54 2020 -0500

    Real-time Kinesis source

commit db0f740d241afac444ac8a3f4d42ad2fd1633bdb
Author: sploiselle <sean@materialize.io>
Date:   Tue Mar 3 17:16:04 2020 -0500

    sql: support add, sub for interval-on-interval

commit c03a21634fc4409710ed9321890e4ae0511f5a98
Merge: ca38cf9f6 8c2703a92
Author: Sean Loiselle <sean@materialize.io>
Date:   Wed Mar 4 16:38:03 2020 -0500

    Merge pull request #2217 from sploiselle/round-docs
    
    docs: document round, correct release note version

commit 8c2703a92fa0904fc09ba6a1bd09fb50ea99d084
Author: sploiselle <sean@materialize.io>
Date:   Wed Mar 4 15:25:40 2020 -0500

    docs: document round, correct release note version

commit ca38cf9f6fef44480764af5200616d0e4f275b2b
Merge: 8fdee0e2f dc2ff7900
Author: Nikhil Benesch <nikhil.benesch@gmail.com>
Date:   Wed Mar 4 16:27:14 2020 -0500

    Merge pull request #2218 from benesch/http-https
    
    www: redirect http to https

commit dc2ff79008f90d6dce079c70e517b09230efcc15
Author: Nikhil Benesch <nikhil.benesch@gmail.com>
Date:   Wed Mar 4 16:07:56 2020 -0500

    www: redirect http to https

commit 8fdee0e2f80fefbec8204f299bc9d8703cc37957
Merge: 625ae2cd2 d28e072f0
Author: Sean Loiselle <sean@materialize.io>
Date:   Wed Mar 4 15:02:14 2020 -0500

    Merge pull request #2216 from wangandi/roundreleasenotes
    
    Add release note for round().

commit d28e072f025a4d0fe7d0f1a3978086d3a7970686
Author: Andi Wang <andi@materialize.io>
Date:   Wed Mar 4 14:52:34 2020 -0500

    Add release note for round().

commit 625ae2cd2e0add5a400b9200f3d4e323b59de6b2
Merge: b06ba98a0 8b23541dc
Author: Sean Loiselle <sean@materialize.io>
Date:   Wed Mar 4 13:57:19 2020 -0500

    Merge pull request #2213 from sploiselle/docs-debezium-pg
    
    docs: add debezium pg details

commit 8b23541dc3d6018f0cd699fd6c2fcfb4f50bcba9
Author: sploiselle <sean@materialize.io>
Date:   Wed Mar 4 13:44:57 2020 -0500

    docs: add debezium pg details

commit b06ba98a0630a3096a7738aa0a63e210ebc2532e
Merge: a54e7cbf6 9e7672e1c
Author: Sean Loiselle <sean@materialize.io>
Date:   Wed Mar 4 13:20:48 2020 -0500

    Merge pull request #2209 from sploiselle/docs-docker-guide
    
    docs: add integration section with docker details

commit 9e7672e1c0fe97dd073448023cf55c56dd7b7950
Author: sploiselle <sean@materialize.io>
Date:   Wed Mar 4 11:44:49 2020 -0500

    docs: add integration section with docker details

commit a54e7cbf693fa4a312d63e2ba44c906146786c27
Author: Frank McSherry <fmcsherry@me.com>
Date:   Wed Mar 4 11:21:57 2020 -0500

    Reduce the application of simplification (#2204)
    
    This PR restricts the application of the simplification transformation (which unpacks equality predicates on complex expressions, so that they can be used as join keys). It now ensures that it is only applied when each of the two expressions in an equality depend on exactly one input collection and the two are not the same input collection (otherwise, the constraint can, and probably should, but pushed down into that collection).
    
    Changes are much smaller with whitespace ignored. Lots of code got one additional indentation level.
    
    fixes #761

commit 6885688dc188cbb113153047892bbb617c9324b9
Merge: ef3c5b637 d34c1664c
Author: Nikhil Benesch <nikhil.benesch@gmail.com>
Date:   Tue Mar 3 18:05:11 2020 -0500

    Merge pull request #2193 from benesch/docs-release
    
    doc/user: update for v0.1.2

commit d34c1664cefe5c1e43b6a394c3fffec42765c4a7
Author: Nikhil Benesch <nikhil.benesch@gmail.com>
Date:   Tue Mar 3 17:41:49 2020 -0500

    doc/user: update for v0.1.2
    
    This adds release notes for v0.1.2, and additionally fixes several links
    that were pointing folks at the latest master version, rather than the
    latest stable version.

commit ef3c5b6379e47294aba99f500bdac9c5097bf3da
Merge: 63861e4e2 4dd7e80e7
Author: Nikhil Benesch <nikhil.benesch@gmail.com>
Date:   Tue Mar 3 17:48:38 2020 -0500

    Merge pull request #2189 from benesch/norm-with-options
    
    sql: share and correct WITH option normalization

commit 63861e4e2cd6196d3cb1b192296fc4db1b186e2e
Merge: 417ed8b76 bff14e767
Author: Sean Loiselle <sean@materialize.io>
Date:   Tue Mar 3 17:38:53 2020 -0500

    Merge pull request #2177 from sploiselle/partitioned-kafka-known-limitation
    
    docs: add Kafka limitation and reformat known limitations

commit 4dd7e80e765faaf75c1f61307101948228997eb8
Author: Nikhil Benesch <nikhil.benesch@gmail.com>
Date:   Tue Mar 3 16:13:33 2020 -0500

    sql: share and correct WITH option normalization
    
    Normalizing WITH options was not correctly accounting for double-quoted
    option names. (Not that we use those, but it was a bug wating to be
    discovered.) Also extract the code into a normalization routine so that
    it is not duplicated in two places.

commit 417ed8b7670a1ac66e51336e9ffee0fec0a51b7d
Merge: 25538e3dd 02a9bb200
Author: Nikhil Benesch <nikhil.benesch@gmail.com>
Date:   Tue Mar 3 16:08:12 2020 -0500

    Merge pull request #2187 from benesch/avro-ocf
    
    sql,sql-parser: allow specifying reader schema for avro ocf file

commit 02a9bb2000637a78e830e471534bde02e24ae572
Author: Nikhil Benesch <nikhil.benesch@gmail.com>
Date:   Tue Mar 3 15:48:41 2020 -0500

    testdrive: add coverage of avro ocf files

commit 25538e3dd279c35a7f5fa4e1535d8312ff72066c
Merge: f4799bda5 1171b3526
Author: Brandon W Maister <bwm@materialize.io>
Date:   Tue Mar 3 15:39:37 2020 -0500

    Merge pull request #2184 from quodlibetor/avro-errors
    
    Provide better error messages when doing schema parsing

commit f4799bda54214fdafb3e46d35bbf14f6c2e827d2
Merge: 368965c74 95ee4c954
Author: Brandon W Maister <bwm@materialize.io>
Date:   Tue Mar 3 15:36:32 2020 -0500

    Merge pull request #2183 from quodlibetor/chbench-backup-prom-db
    
    chbench: Add the ability to store prometheus data persistently

commit 95ee4c954f1eb40c1de2223d895ad657e56f443e
Author: Brandon W Maister <bwm@materialize.io>
Date:   Tue Mar 3 15:31:01 2020 -0500

    load-test: backup and restore grafana conf as well as prometheus
    
    We change prometheus labels occasionally, which will cause the grafana dashboard to fail

commit 368965c748b73e6efa92fefc5d4481c278df6958
Merge: aeeca7f31 fed5a3e44
Author: Sean Loiselle <sean@materialize.io>
Date:   Tue Mar 3 15:15:10 2020 -0500

    Merge pull request #2185 from sploiselle/docs-create-view-if-not-exists
    
    docs: make create materialized? view grammars consistent

commit fed5a3e449e87548502d02890d93dc1deb699aba
Author: sploiselle <sean@materialize.io>
Date:   Tue Mar 3 15:12:20 2020 -0500

    docs: make create materialized? view grammars consistent

commit 1171b3526dccb9ec24206ca76a7dd54b3edea32b
Author: Brandon W Maister <bwm@materialize.io>
Date:   Mon Mar 2 22:19:04 2020 -0500

    Provide good error messages when doing schema parsing
    
    This changes errors from, for example (all newlines inserted here):
    
        while opening AvroOcf "/tbshare/data/tb.public.order_lines":
            Failed to parse schema:
            unable to parse schema
    
    To the more verbose but actually useful:
    
        while opening AvroOcf "/tbshare/data/tb.public.order_lines":
            Failed to parse schema:
            unable to parse json as avro schema:
            Failed to parse schema: Unknown type: Value

commit 577848735540ffc8308818c7e6e9c419b9a43c5e
Author: Nikhil Benesch <nikhil.benesch@gmail.com>
Date:   Tue Mar 3 15:09:07 2020 -0500

    sql,sql-parser: allow specifying reader schema for avro ocf file
    
    This also gives us a nicer way to store the purified schema.

commit aeeca7f31def06e336d89dad8ffad1a9a2e0cdbe
Merge: a46809ded 248f14d40
Author: Sean Loiselle <sean@materialize.io>
Date:   Tue Mar 3 15:09:02 2020 -0500

    Merge pull request #2182 from sploiselle/docs-create-view-if-not-exists
    
    docs: add details for create view if not exists

commit f2947c0a6fd1cddbbce6c4f72c8a4ba808ed93c8
Author: Brandon W Maister <bwm@materialize.io>
Date:   Tue Mar 3 15:04:59 2020 -0500

    chbench: Add the ability to store prometheus data persistently

commit 248f14d40157396e6e317cf6ef2be6e2873849dd
Author: sploiselle <sean@materialize.io>
Date:   Tue Mar 3 14:18:45 2020 -0500

    docs: add details for create view if not exists...

commit a46809ded4a03ffc50bd163ff90d2285af850c3e
Merge: e5ad8e2c3 d7932d58a
Author: Brandon W Maister <bwm@materialize.io>
Date:   Tue Mar 3 14:29:52 2020 -0500

    Merge pull request #2181 from quodlibetor/vendor-avro
    
    Vendor avro-rs as avro, keeping all history

commit e5ad8e2c3580e69c4d4cf4b807e35b0b9111959b
Merge: d0d0ba8f5 baa9c0b6c
Author: Sean Loiselle <sean@materialize.io>
Date:   Tue Mar 3 14:14:16 2020 -0500

    Merge pull request #2176 from sploiselle/docs-namespaces
    
    docs: add namespace docs

commit d7932d58a00c1de2c6d04cdb74560d4f4ab8fdd1
Author: Brandon W Maister <bwm@materialize.io>
Date:   Tue Mar 3 14:08:00 2020 -0500

    make avro benches lint-clean
    
    This mostly moves the benches into a directory that isn't checked by default, since it's
    not worth making the benches work with criterion right now, but I also don't want to just
    delete them.

commit baa9c0b6cbefb41b859e711b78a973c26100b436
Author: sploiselle <sean@materialize.io>
Date:   Mon Mar 2 16:48:54 2020 -0500

    docs: add namespace docs

commit 658026b72fd0ced2643b7c13171a067dec6e941c
Author: Brandon W Maister <bwm@materialize.io>
Date:   Tue Mar 3 13:56:03 2020 -0500

    rename avro_rs -> avro

commit d0d0ba8f516317c87fb07eb3f056f63e8826f510
Merge: 77c022d5c 78082c237
Author: Sean Loiselle <sean@materialize.io>
Date:   Tue Mar 3 13:31:18 2020 -0500

    Merge pull request #2179 from sploiselle/docs-add-dow-extract
    
    docs: add dow to extract function

commit 77c022d5c40952dd3af214f24f9dedf5e2c6d370
Merge: dcf0f8320 f5473b584
Author: Sean Loiselle <sean@materialize.io>
Date:   Tue Mar 3 13:31:05 2020 -0500

    Merge pull request #2180 from sploiselle/docs-function-css
    
    docs: fix css for function table

commit 20693ec1b948633e75e81a12edbff0ba55f16524
Merge: 2087a9086 c1f46b779
Author: Brandon W Maister <bwm@materialize.io>
Date:   Tue Mar 3 13:30:30 2020 -0500

    Vendor avro-rs into materialize

commit c1f46b77981e18776747d5a4999d1a4f5bccd52c
Author: Brennan Vincent <brennan@materialize.io>
Date:   Tue Mar 3 08:36:52 2020 -0500

    Add Materialize copyright to our fork of Avro

commit e11d1e504d23eb733320b6a4600448dfdcddbb1b
Author: Brennan Vincent <brennan@materialize.io>
Date:   Tue Mar 3 08:20:32 2020 -0500

    linter fixes

commit adc5d0d415ad8c82d6f92505754899ca32021d48
Author: Brandon W Maister <bwm@materialize.io>
Date:   Tue Mar 3 13:22:04 2020 -0500

    move all files into location for materialize import

commit f5473b584426a53883d779650d072b686f0b1124
Author: sploiselle <sean@materialize.io>
Date:   Tue Mar 3 13:25:31 2020 -0500

    docs: fix css for function table

commit 78082c2370c2a10e5694079cf1c8c87702d9e5d5
Author: sploiselle <sean@materialize.io>
Date:   Tue Mar 3 13:15:49 2020 -0500

    docs: add dow to extract function

commit dcf0f8320b57ba2604f12e7a0511ce5cead0ba5f
Merge: 996190a51 c2f329507
Author: Sean Loiselle <sean@materialize.io>
Date:   Tue Mar 3 13:06:57 2020 -0500

    Merge pull request #2178 from sploiselle/docs-create-view-output
    
    docs: change show create view example output

commit c2f329507f13e0e72d732446321f5d61f257ebd5
Author: sploiselle <sean@materialize.io>
Date:   Tue Mar 3 11:44:43 2020 -0500

    docs: change show create view example output

commit 2087a90864855d0a91fa89a37feec6dd4d52b637
Author: Brandon W Maister <bwm@materialize.io>
Date:   Tue Mar 3 11:43:24 2020 -0500

    Revert "Merge pull request #2175 from umanwizard/avro-vendor"
    
    This reverts commit 25de0df1dad56dafe68f74420dafc5bf0e673928, reversing
    changes made to 7ea8a7d5c8c60ef52e8e84bf0595456c180171bd.

commit bff14e767f8be9aa1c473499bb261b976cf2db34
Author: sploiselle <sean@materialize.io>
Date:   Tue Mar 3 11:36:38 2020 -0500

    docs: add Kafka limitation and reformat known limitations

commit 996190a51e250c47fbede5e65b396f9dfc5cbeee
Merge: 27fb31e18 01817e1d7
Author: Nikhil Benesch <nikhil.benesch@gmail.com>
Date:   Tue Mar 3 11:27:54 2020 -0500

    Merge pull request #2174 from benesch/decimal-style
    
    repr: improve decimal docs and tests

commit 27fb31e18e3c172e92fbfc7473da25dbebecc72f
Merge: 25de0df1d 4602ba37b
Author: Sean Loiselle <sean@materialize.io>
Date:   Tue Mar 3 10:07:38 2020 -0500

    Merge pull request #2161 from sploiselle/typo
    
    docs: typos in get-started

commit 25de0df1dad56dafe68f74420dafc5bf0e673928
Merge: 7ea8a7d5c 12ff137c9
Author: Brennan Vincent <brennan@materialize.io>
Date:   Tue Mar 3 09:03:11 2020 -0500

    Merge pull request #2175 from umanwizard/avro-vendor
    
    Vendor Avro library

commit 12ff137c96e942293c81b795c852d47d1c77a9d8
Author: Brennan Vincent <brennan@materialize.io>
Date:   Tue Mar 3 08:36:52 2020 -0500

    Add Materialize copyright to our fork of Avro

commit cecb7b5b3f29965eafbc4be95b9f483382c01889
Author: Brennan Vincent <brennan@materialize.io>
Date:   Tue Mar 3 08:35:54 2020 -0500

    Remove more unnecessary stuff

commit d77fc4636063162b72451e546d0661bea3f9e139
Author: Brennan Vincent <brennan@materialize.io>
Date:   Tue Mar 3 08:31:51 2020 -0500

    Remove unnecessary stuff from Avro repository

commit c04e00137e560935f2678215c3465576fec6830e
Author: Brennan Vincent <brennan@materialize.io>
Date:   Tue Mar 3 08:20:32 2020 -0500

    linter fixes

commit 999b1cc9818a80eea962b45c325fc23cf5f82702
Author: Brennan Vincent <brennan@materialize.io>
Date:   Tue Mar 3 08:10:06 2020 -0500

    Remove benches

commit 303b0542ea3f209cd7dbd5276f234ffefa1a93f1
Author: Brennan Vincent <brennan@materialize.io>
Date:   Tue Mar 3 08:06:04 2020 -0500

    Vendor avro-rs library

commit 01817e1d745296fea3c38f2690e42d39626875a8
Author: Nikhil Benesch <nikhil.benesch@gmail.com>
Date:   Tue Mar 3 00:20:06 2020 -0500

    repr: improve decimal docs and tests
    
    Make the documentation examples actual tests, where they can be far more
    concise, and also flesh out the documentation itself.

commit 7ea8a7d5c8c60ef52e8e84bf0595456c180171bd
Merge: f19f6ec01 185234bf4
Author: Nikhil Benesch <nikhil.benesch@gmail.com>
Date:   Tue Mar 3 00:17:17 2020 -0500

    Merge pull request #2110 from lmatz/round-func
    
    WIP: Add round() function

commit 185234bf42c716a5c6644c67e6f4276f23e40aa2
Author: lmatz <lmatz823@gmail.com>
Date:   Sun Feb 23 04:19:51 2020 +0800

    sql: add round function
    
    In its single-argument form, the round function rounds a float or
    decimal to the nearest integer. In its two argument form, the round
    function rounds a decimal to the specified number of decimal places.

commit f19f6ec017c1784e3ddb9fd42a29192d1e9d6b7a
Merge: 38c3c4793 58bb0008b
Author: Andi Wang <5522362+wangandi@users.noreply.github.com>
Date:   Mon Mar 2 21:23:47 2020 -0500

    Merge pull request #2160 from wangandi/testnotes1
    
    Add more details to sqllogictest guide

commit 58bb0008b33691cc60f6f2b1e3458b2ba6b7bbff
Author: Andi Wang <andi@materialize.io>
Date:   Fri Feb 14 16:29:59 2020 -0500

    Add more details to the sqllogictest guide.
    
    Support coercing bool type to text.

commit 38c3c4793b9818f8f211d5c366e657e0eb5fd977
Merge: f0a661994 25fed200f
Author: Nikhil Benesch <nikhil.benesch@gmail.com>
Date:   Mon Mar 2 17:15:11 2020 -0500

    Merge pull request #2173 from MaterializeInc/dependabot/cargo/differential-dataflow-32b0f73
    
    build(deps): bump differential-dataflow from `291fd37` to `32b0f73`

commit 25fed200faec76b8693c276bac92a0cdedb16269
Author: dependabot-preview[bot] <27856297+dependabot-preview[bot]@users.noreply.github.com>
Date:   Mon Mar 2 21:48:03 2020 +0000

    build(deps): bump differential-dataflow from `291fd37` to `32b0f73`
    
    Bumps [differential-dataflow](https://github.com/TimelyDataflow/differential-dataflow) from `291fd37` to `32b0f73`.
    - [Release notes](https://github.com/TimelyDataflow/differential-dataflow/releases)
    - [Commits](https://github.com/TimelyDataflow/differential-dataflow/compare/291fd37bd033106e3d34f3af7915624955aa6fc5...32b0f7397def86e454caa07a662f280dda6f9194)
    
    Signed-off-by: dependabot-preview[bot] <support@dependabot.com>

commit f0a661994f51ac3dc6d3935f8eb554b89ea5f9f4
Merge: e79593b05 73b3d5418
Author: Ruchir Khaitan <ruchir0001@gmail.com>
Date:   Mon Mar 2 15:43:07 2020 -0500

    Merge pull request #2165 from ruchirK/rk-1937-2
    
    demo: add a low-memory option for the billing-demo

commit 73b3d5418ac789ef312faa681ee18a9fc2a961fa
Author: Ruchir Khaitan <ruchir0001@gmail.com>
Date:   Mon Mar 2 10:21:18 2020 -0500

    demo: add a low-memory option for the billing-demo

commit e79593b056bb703e88b1faaea87393935bf7bb04
Merge: b09d857dd dfd771136
Author: Nikhil Benesch <nikhil.benesch@gmail.com>
Date:   Mon Mar 2 14:40:06 2020 -0500

    Merge pull request #2163 from sploiselle/remove-debugging-println
    
    misc: remove errant printlns

commit b09d857dd04ab2fc81152e82b67b15ee3f926ede
Author: Frank McSherry <fmcsherry@me.com>
Date:   Mon Mar 2 14:36:34 2020 -0500

    Re-use CSV parser across multiple records (#2162)
    
    This PR changes our CSV parsing from the csv crate to its underlying csv-core crate, which allows the re-use of a CSV parser across multiple lines.
    
    Rough estimates are that for a simple task of loading and maintaining a count (meant to be minimal non-parsing work) the old code took ~160 seconds to process 8.75 million lines, whereas the new code now takes ~24 seconds.
    
    fixes #2074

commit dfd771136e5b77fc38b3e8e351b203a6f2d20ed2
Author: sploiselle <sean@materialize.io>
Date:   Mon Mar 2 14:08:35 2020 -0500

    misc: remove errant printlns

commit 4602ba37b4fc31ff6615054a97bec7c3cdd5f8ab
Author: sploiselle <sean@materialize.io>
Date:   Mon Mar 2 13:51:47 2020 -0500

    docs: typos in get-started

commit d44e097377af0d82e7c43277824cb14e014b4d32
Author: Andi Wang <andi@materialize.io>
Date:   Mon Mar 2 13:03:29 2020 -0500

    Run show indexes tests in cockroach tests.

commit 82624973c872c30e39ffba272414acf360a60d6f
Merge: 8825e21b1 7aa48460b
Author: Nikhil Benesch <nikhil.benesch@gmail.com>
Date:   Mon Mar 2 12:52:38 2020 -0500

    Merge pull request #2145 from benesch/prune-crates
    
    deps: aggressively prune crate graph

commit 7aa48460b19de777fccbfe02cbee1029d3af98e0
Author: Nikhil Benesch <nikhil.benesch@gmail.com>
Date:   Sun Mar 1 23:46:47 2020 -0500

    deny: add explanations for remaining duplicate crates

commit 82fc7951e018e083f1e1657b8d4d70358e117988
Author: Nikhil Benesch <nikhil.benesch@gmail.com>
Date:   Sun Mar 1 22:54:00 2020 -0500

    testdrive: drop dependency on the backoff crate
    
    The backoff crate is a heavyweight dependency for a very simple task.
    Just inline the exponential backoff. This removes a number of duplicate
    transitive dependencies from our tree.

commit df1c81815809f963d57300d55f5fb42b63cb4b04
Author: Nikhil Benesch <nikhil.benesch@gmail.com>
Date:   Sun Mar 1 22:23:35 2020 -0500

    billing-demo: remove dependency on uuid_b64
    
    uuid_b64 brings in old duplicate versions of a number of dependencies
    (base64, uuid, lazy_static), as well as a few dependencies not used at
    all elsewhere (error-chain, inlinable_string).
    
    It doesn't seem all the important to the functioning of the billing-demo
    to use a base64-encoded string, so just drop it. (Ultimately wouldn't we
    want to use a u128 instead of a string?)

commit 8825e21b1d09a260cc6414c6ad22e04a4f11940a
Merge: 01d59da2b 7f84284ad
Author: Nikhil Benesch <nikhil.benesch@gmail.com>
Date:   Mon Mar 2 11:45:10 2020 -0500

    Merge pull request #2140 from benesch/deny
    
    ci/test: use cargo-deny to check licenses and duplicate dependencies

commit 7f84284adf4dc10ca20c99c459d339149383a7e6
Author: Nikhil Benesch <nikhil.benesch@gmail.com>
Date:   Sun Mar 1 12:51:11 2020 -0500

    ci/test: use cargo-deny to check licenses and duplicate dependencies
    
    Since Rust crates tend to be tiny, it's very easy to accidentally bring
    in a ton of duplicate transitive dependencies. Use cargo-deny to lint
    against this happening. When duplicate dependencies are unavoidable,
    they can be explicitly allowed in the deny.toml config file.
    
    As an added bonus, cargo-deny will also prevent us from depending on
    non-OSS code.
    
    This commit also upgrades us to Rust 1.41, since cargo-deny depends on
    features in Rust 1.41. The code changes are the result of changes in
    Rust 1.41's rustfmt.

commit 01d59da2b8a8eb09048a5dabb1e829d1354bb45a
Merge: 9a20c5508 f9a67e63e
Author: Nikhil Benesch <nikhil.benesch@gmail.com>
Date:   Mon Mar 2 10:41:55 2020 -0500

    Merge pull request #2154 from MaterializeInc/dependabot/cargo/tracing-0.1.13
    
    build(deps): bump tracing from 0.1.12 to 0.1.13

commit 9a20c5508a351e980c8d9a335c24e288242416ce
Merge: 1bd428f53 42f7e92d2
Author: Nikhil Benesch <nikhil.benesch@gmail.com>
Date:   Mon Mar 2 10:41:50 2020 -0500

    Merge pull request #2153 from MaterializeInc/dependabot/cargo/structopt-0.3.11
    
    build(deps): bump structopt from 0.3.9 to 0.3.11

commit 1bd428f5390c3f9f29656320ae6662ce6632e146
Merge: 7600c3849 86a9afb10
Author: Nikhil Benesch <nikhil.benesch@gmail.com>
Date:   Mon Mar 2 09:29:57 2020 -0500

    Merge pull request #2149 from MaterializeInc/dependabot/cargo/aho-corasick-0.7.9
    
    build(deps): bump aho-corasick from 0.7.8 to 0.7.9

commit 7600c3849f5a907caedd5a34278940bd12c0a187
Merge: 98a966b95 102405baa
Author: Nikhil Benesch <nikhil.benesch@gmail.com>
Date:   Mon Mar 2 09:29:40 2020 -0500

    Merge pull request #2151 from MaterializeInc/dependabot/cargo/libfuzzer-sys-0.3.1
    
    build(deps): bump libfuzzer-sys from 0.3.0 to 0.3.1

commit 98a966b95288f26aa9490244678470c54d22c775
Merge: b9e72b9cf d946a5ebd
Author: Nikhil Benesch <nikhil.benesch@gmail.com>
Date:   Mon Mar 2 09:29:16 2020 -0500

    Merge pull request #2150 from MaterializeInc/dependabot/cargo/predicates-1.0.3
    
    build(deps): bump predicates from 1.0.2 to 1.0.3

commit f9a67e63eaa45cf1938386f9a5805701a7ee2fb3
Author: dependabot-preview[bot] <27856297+dependabot-preview[bot]@users.noreply.github.com>
Date:   Mon Mar 2 14:28:33 2020 +0000

    build(deps): bump tracing from 0.1.12 to 0.1.13
    
    Bumps [tracing](https://github.com/tokio-rs/tracing) from 0.1.12 to 0.1.13.
    - [Release notes](https://github.com/tokio-rs/tracing/releases)
    - [Commits](https://github.com/tokio-rs/tracing/compare/tracing-0.1.12...tracing-0.1.13)
    
    Signed-off-by: dependabot-preview[bot] <support@dependabot.com>

commit b9e72b9cf85384b30fdd5a5208bbfe4a9d77310d
Merge: 3766fc8d6 3221b7f29
Author: Nikhil Benesch <nikhil.benesch@gmail.com>
Date:   Mon Mar 2 09:28:13 2020 -0500

    Merge pull request #2152 from MaterializeInc/dependabot/cargo/protoc-rust-2.10.2
    
    build(deps): bump protoc-rust from 2.10.1 to 2.10.2

commit 42f7e92d243a500fcadbefa2eacba9526b13eb8a
Author: dependabot-preview[bot] <27856297+dependabot-preview[bot]@users.noreply.github.com>
Date:   Mon Mar 2 14:27:51 2020 +0000

    build(deps): bump structopt from 0.3.9 to 0.3.11
    
    Bumps [structopt](https://github.com/TeXitoi/structopt) from 0.3.9 to 0.3.11.
    - [Release notes](https://github.com/TeXitoi/structopt/releases)
    - [Changelog](https://github.com/TeXitoi/structopt/blob/master/CHANGELOG.md)
    - [Commits](https://github.com/TeXitoi/structopt/commits)
    
    Signed-off-by: dependabot-preview[bot] <support@dependabot.com>

commit 3766fc8d609c7e0013c75ef0de328ff0a5510aef
Merge: fe723bd44 95018eb5f
Author: Nikhil Benesch <nikhil.benesch@gmail.com>
Date:   Mon Mar 2 09:27:00 2020 -0500

    Merge pull request #2155 from MaterializeInc/dependabot/cargo/regex-syntax-0.6.15
    
    build(deps): bump regex-syntax from 0.6.14 to 0.6.15

commit fe723bd44a6de9a25528ccca3e27b8b96e4ebc1e
Merge: 1da6da77a f1967b862
Author: Nikhil Benesch <nikhil.benesch@gmail.com>
Date:   Mon Mar 2 09:26:36 2020 -0500

    Merge pull request #2148 from MaterializeInc/dependabot/cargo/tracing-subscriber-0.2.2
    
    build(deps): bump tracing-subscriber from 0.2.1 to 0.2.2

commit 1da6da77a3109e863b0531fc4f0745dce6146683
Merge: 70a34dda4 02eba87a6
Author: Nikhil Benesch <nikhil.benesch@gmail.com>
Date:   Mon Mar 2 09:26:15 2020 -0500

    Merge pull request #2147 from MaterializeInc/dependabot/cargo/reqwest-0.10.3
    
    build(deps): bump reqwest from 0.10.2 to 0.10.3

commit 70a34dda49ef501d02da1ee0c6aca9d12e28e09b
Merge: 4dc62e5cd 943d88c41
Author: Nikhil Benesch <nikhil.benesch@gmail.com>
Date:   Mon Mar 2 09:25:48 2020 -0500

    Merge pull request #2146 from MaterializeInc/dependabot/cargo/tokio-0.2.13
    
    build(deps): bump tokio from 0.2.11 to 0.2.13

commit 95018eb5fe384a9ca8fb092dc339d4497c869c27
Author: dependabot-preview[bot] <27856297+dependabot-preview[bot]@users.noreply.github.com>
Date:   Mon Mar 2 10:51:35 2020 +0000

    build(deps): bump regex-syntax from 0.6.14 to 0.6.15
    
    Bumps [regex-syntax](https://github.com/rust-lang/regex) from 0.6.14 to 0.6.15.
    - [Release notes](https://github.com/rust-lang/regex/releases)
    - [Changelog](https://github.com/rust-lang/regex/blob/master/CHANGELOG.md)
    - [Commits](https://github.com/rust-lang/regex/commits/regex-syntax-0.6.15)
    
    Signed-off-by: dependabot-preview[bot] <support@dependabot.com>

commit 3221b7f2978d120a63e1a02e602bcf4f85c31ab4
Author: dependabot-preview[bot] <27856297+dependabot-preview[bot]@users.noreply.github.com>
Date:   Mon Mar 2 10:49:52 2020 +0000

    build(deps): bump protoc-rust from 2.10.1 to 2.10.2
    
    Bumps [protoc-rust](https://github.com/stepancheg/rust-protobuf) from 2.10.1 to 2.10.2.
    - [Release notes](https://github.com/stepancheg/rust-protobuf/releases)
    - [Changelog](https://github.com/stepancheg/rust-protobuf/blob/master/CHANGELOG.md)
    - [Commits](https://github.com/stepancheg/rust-protobuf/compare/v2.10.1...v2.10.2)
    
    Signed-off-by: dependabot-preview[bot] <support@dependabot.com>

commit 102405baafa25584b05d1cb645401a73585e2e0c
Author: dependabot-preview[bot] <27856297+dependabot-preview[bot]@users.noreply.github.com>
Date:   Mon Mar 2 10:49:27 2020 +0000

    build(deps): bump libfuzzer-sys from 0.3.0 to 0.3.1
    
    Bumps [libfuzzer-sys](https://github.com/rust-fuzz/libfuzzer) from 0.3.0 to 0.3.1.
    - [Release notes](https://github.com/rust-fuzz/libfuzzer/releases)
    - [Changelog](https://github.com/rust-fuzz/libfuzzer/blob/master/CHANGELOG.md)
    - [Commits](https://github.com/rust-fuzz/libfuzzer/compare/0.3.0...0.3.1)
    
    Signed-off-by: dependabot-preview[bot] <support@dependabot.com>

commit d946a5ebd8fb0cc1682f5eef44d78254ebdb1025
Author: dependabot-preview[bot] <27856297+dependabot-preview[bot]@users.noreply.github.com>
Date:   Mon Mar 2 10:48:53 2020 +0000

    build(deps): bump predicates from 1.0.2 to 1.0.3
    
    Bumps [predicates](https://github.com/assert-rs/predicates-rs) from 1.0.2 to 1.0.3.
    - [Release notes](https://github.com/assert-rs/predicates-rs/releases)
    - [Changelog](https://github.com/assert-rs/predicates-rs/blob/master/CHANGELOG.md)
    - [Commits](https://github.com/assert-rs/predicates-rs/commits/v1.0.3)
    
    Signed-off-by: dependabot-preview[bot] <support@dependabot.com>

commit 86a9afb100dd93f8d9b0a71bfa1913c8c8807e00
Author: dependabot-preview[bot] <27856297+dependabot-preview[bot]@users.noreply.github.com>
Date:   Mon Mar 2 10:48:34 2020 +0000

    build(deps): bump aho-corasick from 0.7.8 to 0.7.9
    
    Bumps [aho-corasick](https://github.com/BurntSushi/aho-corasick) from 0.7.8 to 0.7.9.
    - [Release notes](https://github.com/BurntSushi/aho-corasick/releases)
    - [Commits](https://github.com/BurntSushi/aho-corasick/compare/0.7.8...0.7.9)
    
    Signed-off-by: dependabot-preview[bot] <support@dependabot.com>

commit f1967b8621cbdbbc24c19572f981e029e26d818c
Author: dependabot-preview[bot] <27856297+dependabot-preview[bot]@users.noreply.github.com>
Date:   Mon Mar 2 10:48:02 2020 +0000

    build(deps): bump tracing-subscriber from 0.2.1 to 0.2.2
    
    Bumps [tracing-subscriber](https://github.com/tokio-rs/tracing) from 0.2.1 to 0.2.2.
    - [Release notes](https://github.com/tokio-rs/tracing/releases)
    - [Commits](https://github.com/tokio-rs/tracing/compare/tracing-subscriber-0.2.1...tracing-subscriber-0.2.2)
    
    Signed-off-by: dependabot-preview[bot] <support@dependabot.com>

commit 02eba87a6b7a35561b04a17aa3afe56736547053
Author: dependabot-preview[bot] <27856297+dependabot-preview[bot]@users.noreply.github.com>
Date:   Mon Mar 2 10:47:27 2020 +0000

    build(deps): bump reqwest from 0.10.2 to 0.10.3
    
    Bumps [reqwest](https://github.com/seanmonstar/reqwest) from 0.10.2 to 0.10.3.
    - [Release notes](https://github.com/seanmonstar/reqwest/releases)
    - [Changelog](https://github.com/seanmonstar/reqwest/blob/master/CHANGELOG.md)
    - [Commits](https://github.com/seanmonstar/reqwest/compare/v0.10.2...v0.10.3)
    
    Signed-off-by: dependabot-preview[bot] <support@dependabot.com>

commit 943d88c4145e672c169d2f8243a774f31a9356f0
Author: dependabot-preview[bot] <27856297+dependabot-preview[bot]@users.noreply.github.com>
Date:   Mon Mar 2 10:46:56 2020 +0000

    build(deps): bump tokio from 0.2.11 to 0.2.13
    
    Bumps [tokio](https://github.com/tokio-rs/tokio) from 0.2.11 to 0.2.13.
    - [Release notes](https://github.com/tokio-rs/tokio/releases)
    - [Commits](https://github.com/tokio-rs/tokio/compare/tokio-0.2.11...tokio-0.2.13)
    
    Signed-off-by: dependabot-preview[bot] <support@dependabot.com>

commit 4dc62e5cdc9bb3ea96515fd07a6e8314f53bd961
Merge: c51ce6848 25763ddc1
Author: Nikhil Benesch <nikhil.benesch@gmail.com>
Date:   Sun Mar 1 23:33:36 2020 -0500

    Merge pull request #2144 from benesch/deps
    
    deps: more crate cleanups

commit 25763ddc158f85c4d4dec30aecac4def16a1b895
Author: Nikhil Benesch <nikhil.benesch@gmail.com>
Date:   Sun Mar 1 23:15:30 2020 -0500

    deps: use MaterializeInc fork for prometheus crates
    
    This avoids depending upon a personal fork for the prometheus crate
    (which has negative implications for reproducibility), and uses a
    version of prometheus-static-metric that depends on stable versions of
    syn/quote/proc-macro2.

commit 6180b397b45b46fb152ab540bae581dd051c9045
Author: Nikhil Benesch <nikhil.benesch@gmail.com>
Date:   Sun Mar 1 23:02:54 2020 -0500

    deps: bump redox_users
    
    This crate isn't used except on Redox (and I doubt anyone is trying to
    use Materialize on Redox), but upgrading it removes a duplicate copy of
    crossbeam-utils.

commit f126857b0cb43d311e959c81c262e79c4b14e767
Author: Nikhil Benesch <nikhil.benesch@gmail.com>
Date:   Sun Mar 1 23:00:19 2020 -0500

    *: drop dependency on pretty_assertions
    
    This crate was only used in one ignored test. It's not actively
    maintained and brings in many duplicate dependencies, so drop it.

commit c51ce684834b3d1aef091d4446246920f6ef913e
Merge: a08d5b158 ae38e80b3
Author: Nikhil Benesch <nikhil.benesch@gmail.com>
Date:   Sun Mar 1 22:16:10 2020 -0500

    Merge pull request #2143 from benesch/bump-avro
    
    deps: bump avro-rs

commit a08d5b158e34070bd4b55747e2529c208ff462d7
Merge: cd7e7d668 15cc9160c
Author: Nikhil Benesch <nikhil.benesch@gmail.com>
Date:   Sun Mar 1 21:52:59 2020 -0500

    Merge pull request #2142 from benesch/dogsdogsdogs-bump
    
    deps: bump dogsdogsdogs version

commit ae38e80b30a897f5632ac80501900f9b1f93b46e
Author: Nikhil Benesch <nikhil.benesch@gmail.com>
Date:   Sun Mar 1 21:43:47 2020 -0500

    deps: bump avro-rs
    
    The new version depends on the latest version of rand, which is a step
    towards removing a duplicate version of rand from our tree.

commit b3a36d664fa489f4e0604579648244f9036de488
Author: Nikhil Benesch <nikhil.benesch@gmail.com>
Date:   Sun Mar 1 21:40:48 2020 -0500

    Bump rand and snap dependencies
    
    This will allow MaterializeInc/materialize to cull some duplicated
    transitive dependencies.

commit 15cc9160cf8db1eeb1e263a83e2a676c8600d11b
Author: Nikhil Benesch <nikhil.benesch@gmail.com>
Date:   Sun Mar 1 21:24:16 2020 -0500

    deps: bump dogsdogsdogs version
    
    The new version elides a number of dependencies.

commit cd7e7d668b1bd7406be4126160ffcb51fd36fa74
Author: Brennan Vincent <brennan@materialize.io>
Date:   Sun Mar 1 18:04:54 2020 -0500

    Fix build on systems that the `rlimit` crate doesn't support (e.g., FreeBSD) (#2141)

commit 9f71f5e232346234062d29ef1de6260ffffeb58b
Merge: 10455e1e3 8b3b19254
Author: Nikhil Benesch <nikhil.benesch@gmail.com>
Date:   Sun Mar 1 13:25:21 2020 -0500

    Merge pull request #2124 from benesch/check-ulimits
    
    materialized: attempt to increase soft nofile rlimit

commit 10455e1e35c5f57f8eaccc39af561c93a144db91
Merge: a92f32b0e 33680843c
Author: Nikhil Benesch <nikhil.benesch@gmail.com>
Date:   Sun Mar 1 12:54:33 2020 -0500

    Merge pull request #2139 from MaterializeInc/macos-deploy-timeout
    
    ci/deploy: increase macOS timeout

commit 33680843cbac45ba0717e72ae800c303d6d7cb7b
Author: Nikhil Benesch <nikhil.benesch@gmail.com>
Date:   Sun Mar 1 11:52:36 2020 -0500

    ci/deploy: increase macOS timeout
    
    The macOS deploy job is routinely timing out. Increase the timeout to
    15m, which seems like it will be safe.

commit a92f32b0e44151d2bcf9d5c5c1954ebb7459bf77
Merge: 7696c8cda 194e9b2d8
Author: Nikhil Benesch <nikhil.benesch@gmail.com>
Date:   Sun Mar 1 11:24:31 2020 -0500

    Merge pull request #2138 from benesch/deps
    
    deps: bump minor versions to minimize transitive duplicates

commit 194e9b2d8555becff2c059df9988526967fecdd3
Author: Nikhil Benesch <nikhil.benesch@gmail.com>
Date:   Sun Mar 1 10:30:35 2020 -0500

    deps: bump unicode-normalization
    
    This removes a duplicate dependency on smallvec from the tree.

commit 11b22bae9d017a34515c2f3d2041afd0ca5281d2
Author: Nikhil Benesch <nikhil.benesch@gmail.com>
Date:   Sun Mar 1 10:23:44 2020 -0500

    deps: upgrade rand_pcg
    
    This drops the unused dependency on autocfg. There are now no longer any
    crates that depend on pre-1.0 autocfg in our tree.

commit 0360b8627f43b3795843f3f8eb3be14e20f79264
Author: Nikhil Benesch <nikhil.benesch@gmail.com>
Date:   Sun Mar 1 10:21:23 2020 -0500

    deps: bump openssl-sys
    
    This bumps the transitive dep on autocfg to 1.0.0.

commit ca1761a1ae62d262c76b27fc9a09a9747cf4f4af
Author: Nikhil Benesch <nikhil.benesch@gmail.com>
Date:   Sun Mar 1 10:15:50 2020 -0500

    deps: upgrade num-* crates
    
    These minor version bumps include a transitive dependencies bump to
    autocfg to v1.0.0. num-bigint also received some bugfixes, but nothing
    that appears relevant to us.

commit 3b0737fb6290d114bdb7e226ed2e6e808cf58179
Author: Nikhil Benesch <nikhil.benesch@gmail.com>
Date:   Sun Mar 1 10:09:01 2020 -0500

    deps: upgrade to criterion 0.3.1
    
    criterion bumped its dependencies, so this removes a number of
    duplicated dependencies from our tree.

commit b2c9abc6d791ac5634592553e159bb591961a162
Author: Nikhil Benesch <nikhil.benesch@gmail.com>
Date:   Sun Mar 1 10:03:15 2020 -0500

    ore: scope dependency on crossbeam to crossbeam-utils
    
    This avoids bringing in a lot of unnecessary dependencies on other
    crossbeam crates.

commit 8b3b192541f51db9b7a0db4ee60b7d495d29a383
Author: Nikhil Benesch <nikhil.benesch@gmail.com>
Date:   Sun Feb 23 21:22:18 2020 -0500

    materialized: attempt to increase soft nofile rlimit
    
    On most platforms, including macOS, we can increase the soft nofile
    rlimit by calling setrlimit. The implementation requires some care,
    since macOS in particular does not report its hard limit properly.
    
    If we fail to increase the file limit to 1024 or greater, we now log a
    warning. Since only Kafka sources are file descriptor hungry, I don't
    think it ever makes sense to refuse to start if the file descriptor
    limit is too low.
    
    Fix #1939.

commit 7696c8cdaba6b5d0d9225e82322d5c33fa8a09fb
Merge: 3c9c62a7e 009efc243
Author: Nikhil Benesch <nikhil.benesch@gmail.com>
Date:   Sun Mar 1 09:28:48 2020 -0500

    Merge pull request #2136 from benesch/dev-dep
    
    materialized: make serde_json a dev dep

commit 009efc24307eb73f876fb22c2ba1dede66d4bf7b
Author: Nikhil Benesch <nikhil.benesch@gmail.com>
Date:   Fri Feb 28 17:23:32 2020 -0500

    materialized: make serde_json a dev dep
    
    It's not actually used in production code.

commit 3c9c62a7e49d67cae998e4e4c554e991fd1321ef
Author: Brennan Vincent <brennan@materialize.io>
Date:   Fri Feb 28 16:54:57 2020 -0500

    Separate encoding from connector; support Avro Object Container files. (#2129)

commit b055198f40037b408032b6b2df6f396a456e01b3
Merge: f83e5a76d d43723e07
Author: Nikhil Benesch <nikhil.benesch@gmail.com>
Date:   Fri Feb 28 16:39:27 2020 -0500

    Merge pull request #4 from benesch/clippy
    
    Fix clippy warnings

commit d43723e07db4e17393fa87dfca86b1d600b18a5d
Author: Nikhil Benesch <nikhil.benesch@gmail.com>
Date:   Fri Feb 28 16:28:30 2020 -0500

    Fix clippy warnings
    
    This prepares for integration with the main Materialize repository.

commit f83e5a76dccd78e5e0d71d8cbbbb682375fc85b5
Author: Nikhil Benesch <nikhil.benesch@gmail.com>
Date:   Fri Feb 28 16:17:45 2020 -0500

    simplify Reader::into_stream (#3)
    
    Using try_unfold means we don't need to track the errored bit ourselves.

commit 193087a766e11bcfb06a0bdd255255f59f310933
Author: Frank McSherry <fmcsherry@me.com>
Date:   Fri Feb 28 16:14:45 2020 -0500

    Improve documentation for JoinImplementation (#2135)

commit c44232a3baede8fa499b84dda699680d028d60e0
Author: Brennan Vincent <brennan@materialize.io>
Date:   Fri Feb 28 16:00:11 2020 -0500

    Make Reader async (#2)

commit 9f0851f96854c23fd82e7b00603cd953e231a727
Author: Jessica Laughlin <JLDLaughlin@users.noreply.github.com>
Date:   Fri Feb 28 15:32:37 2020 -0500

    Add Kinesis source that immediately gives up all capabilities (#2102)

commit a4d4154a8dc1bfbd5b2297286bc7f7de35587584
Merge: 9aa8913b4 c337c3be7
Author: Nikhil Benesch <nikhil.benesch@gmail.com>
Date:   Fri Feb 28 15:16:24 2020 -0500

    Merge pull request #2134 from benesch/view-if-exists-enum
    
    sql-parser: use enum for if exists behavior

commit c337c3be737da36839514eba343291bdfa547d21
Author: Nikhil Benesch <nikhil.benesch@gmail.com>
Date:   Fri Feb 28 14:14:30 2020 -0500

    sql-parser: use enum for if exists behavior
    
    CREATE VIEW now supports both OR REPLACE and IF NOT EXISTS. These
    options are mutually exclusive. Make that clear in the AST by using an
    enum rather than two bools.

commit 9aa8913b4285d793c6d1dad8cefce9c747a3d9a6
Author: Brennan Vincent <brennan@materialize.io>
Date:   Fri Feb 28 08:52:47 2020 -0500

    Fix wrong logic when printing `magic` (#2131)

commit eab6c0cc06a79f333810f7293162a4c9ca7a9417
Author: Brennan Vincent <brennan@materialize.io>
Date:   Fri Feb 28 08:52:05 2020 -0500

    Remove `description`, which is deprecated, from FrameTooBig impl (#2130)
    
    See https://doc.rust-lang.org/std/error/trait.Error.html

commit 01b0faa70336a21a5764dac8038e12c93bb8b188
Merge: 3c00ea2f2 bba9243ad
Author: Sean Loiselle <sean@materialize.io>
Date:   Wed Feb 26 09:50:50 2020 -0500

    Merge pull request #2093 from sploiselle/release-notes-contributing
    
    docs: describe how developers should interact with docs

commit 3c00ea2f2c8f5678964668046f41f0faa70cb1ac
Merge: 21d2f76e3 4f0019b85
Author: Andi Wang <5522362+wangandi@users.noreply.github.com>
Date:   Tue Feb 25 11:57:15 2020 -0500

    Merge pull request #2080 from kujon/create_if_not_exists_view
    
    sql: added support for CREATE VIEW IF NOT EXISTS

commit 4f0019b8583105c746c65025a55734b717c8f2f3
Author: kujon <jakub.korzeniowski@vortexa.com>
Date:   Tue Feb 25 12:58:46 2020 +0000

    fix: improved the tests according to the code review suggestions

commit d4eff3f21e10c48e1e07126bdc74cedc193374e3
Author: kujon <jakub.korzeniowski@vortexa.com>
Date:   Mon Feb 24 21:19:06 2020 +0000

    fix: meant to change it to Feb

commit 8f4798355718a559bd546c86a4199dfdc2d841ce
Author: kujon <jakub.korzeniowski@vortexa.com>
Date:   Mon Feb 24 21:17:24 2020 +0000

    test: added a test case from creating a view with IF NOT EXISTS if it doesn't exist

commit 7447410308b622b15d7134612eadab8f0c4d0ba7
Author: kujon <jakub.korzeniowski@vortexa.com>
Date:   Mon Feb 24 21:12:03 2020 +0000

    test: exnsured that the existing view isn't replaced if it already exist

commit 43c73b45f44056c1c8a4d9d0154512bd6cddc025
Author: kujon <jakub.korzeniowski@vortexa.com>
Date:   Mon Feb 24 21:09:17 2020 +0000

    fix: reverted a messy rebase

commit 28ee9507d07c0af9fdb4a1a870ead4500f8e8821
Author: kujon <jakub.korzeniowski@vortexa.com>
Date:   Mon Feb 24 20:18:50 2020 +0000

    fix: updated the installation guide for confluent cli

commit 758a6b088bc498da81b90e631e78ad43cb859a5d
Author: kujon <jakub.korzeniowski@vortexa.com>
Date:   Mon Feb 24 19:58:16 2020 +0000

    fix: corrected the implementation of fmt::Display for Statement. Added SQL parser tests

commit 89966d19fe90253df9c46a119d8a9e2de59ff2fa
Author: kujon <jakub.korzeniowski@vortexa.com>
Date:   Mon Feb 24 19:45:42 2020 +0000

    fix: made sure the existing tests compile

commit 1dd31076717d10d093c5ed00d462d7e622adfee2
Author: kujon <jakub.korzeniowski@vortexa.com>
Date:   Thu Feb 20 19:18:57 2020 +0000

    sql: added support for CREATE VIEW IF NOT EXISTS

commit 21d2f76e3ec99ef06c80ea4cc468fe267ff7df5f
Merge: a17250f7e 6fc5d5310
Author: Nikhil Benesch <nikhil.benesch@gmail.com>
Date:   Mon Feb 24 10:32:17 2020 -0500

    Merge pull request #2109 from benesch/coord-refactor-i
    
    coord: some refactors

commit a17250f7e32df35ac5eaa38bec0f19cdb55f92e2
Merge: 61b51ddca 4be205a6d
Author: Nikhil Benesch <nikhil.benesch@gmail.com>
Date:   Mon Feb 24 09:39:47 2020 -0500

    Merge pull request #2115 from MaterializeInc/dependabot/cargo/parse_duration-2.1.0
    
    build(deps): bump parse_duration from 2.0.1 to 2.1.0

commit 61b51ddca93c74429b90378b9f7b3d89a1951960
Merge: a18896243 2cbdedae2
Author: Brennan Vincent <brennan@materialize.io>
Date:   Mon Feb 24 09:25:21 2020 -0500

    Merge pull request #2113 from MaterializeInc/v0.1.1-release
    
    Forward-port v0.1.1 release to master.

commit 4be205a6d048581f2f11cb78bd1a07de91a9a9e5
Author: dependabot-preview[bot] <27856297+dependabot-preview[bot]@users.noreply.github.com>
Date:   Mon Feb 24 00:34:18 2020 +0000

    build(deps): bump parse_duration from 2.0.1 to 2.1.0
    
    Bumps [parse_duration](https://github.com/zeta12ti/parse_duration) from 2.0.1 to 2.1.0.
    - [Release notes](https://github.com/zeta12ti/parse_duration/releases)
    - [Changelog](https://github.com/zeta12ti/parse_duration/blob/master/CHANGELOG.md)
    - [Commits](https://github.com/zeta12ti/parse_duration/compare/v2.0.1...v2.1.0)
    
    Signed-off-by: dependabot-preview[bot] <support@dependabot.com>

commit a18896243548111b74416dc0050aad045ad1a0ec
Merge: 601ebf88f 503fec59a
Author: Nikhil Benesch <nikhil.benesch@gmail.com>
Date:   Sun Feb 23 21:29:37 2020 -0500

    Merge pull request #2117 from MaterializeInc/dependabot/cargo/enum-iterator-0.6.0
    
    build(deps): bump enum-iterator from 0.5.0 to 0.6.0

commit 601ebf88f46e6413229e5c0efe793498a8d20493
Merge: 79e62043c d4f965e0d
Author: Nikhil Benesch <nikhil.benesch@gmail.com>
Date:   Sun Feb 23 21:29:23 2020 -0500

    Merge pull request #2119 from MaterializeInc/dependabot/cargo/whoami-0.8.1
    
    build(deps): bump whoami from 0.7.0 to 0.8.1

commit 79e62043c1965b9309a54d64a069b1e9273a4ca6
Merge: 6a226622f 20c6ad91a
Author: Nikhil Benesch <nikhil.benesch@gmail.com>
Date:   Sun Feb 23 21:29:10 2020 -0500

    Merge pull request #2120 from MaterializeInc/dependabot/cargo/reqwest-0.10.2
    
    build(deps): bump reqwest from 0.10.1 to 0.10.2

commit 6a226622fd74256d964f6d1fbd11139716f591c3
Merge: 83f8329ca 0b24a3c42
Author: Nikhil Benesch <nikhil.benesch@gmail.com>
Date:   Sun Feb 23 21:28:54 2020 -0500

    Merge pull request #2121 from MaterializeInc/dependabot/cargo/hex-0.4.2
    
    build(deps): bump hex from 0.4.1 to 0.4.2

commit 83f8329ca276672064cffac7839f5653cfe72e78
Merge: ad95f3e84 4a148fb30
Author: Nikhil Benesch <nikhil.benesch@gmail.com>
Date:   Sun Feb 23 21:28:37 2020 -0500

    Merge pull request #2122 from MaterializeInc/dependabot/cargo/libc-0.2.67
    
    build(deps): bump libc from 0.2.66 to 0.2.67

commit ad95f3e84a13f584fc82974f7969f9e896b19cd7
Merge: b9cae1c77 c2478b533
Author: Nikhil Benesch <nikhil.benesch@gmail.com>
Date:   Sun Feb 23 21:28:22 2020 -0500

    Merge pull request #2123 from MaterializeInc/dependabot/cargo/crossbeam-0.7.3
    
    build(deps): bump crossbeam from 0.7.2 to 0.7.3

commit b9cae1c778c26e39697d3e0668c232b5f6a23224
Merge: c915951c0 0da508222
Author: Nikhil Benesch <nikhil.benesch@gmail.com>
Date:   Sun Feb 23 21:21:21 2020 -0500

    Merge pull request #2116 from MaterializeInc/dependabot/cargo/dogsdogsdogs-45ce121
    
    build(deps): bump dogsdogsdogs from `46e5491` to `45ce121`

commit c2478b5336ee62b022cf0ea775fd3cdd7c6e890d
Author: dependabot-preview[bot] <27856297+dependabot-preview[bot]@users.noreply.github.com>
Date:   Mon Feb 24 00:37:58 2020 +0000

    build(deps): bump crossbeam from 0.7.2 to 0.7.3
    
    Bumps [crossbeam](https://github.com/crossbeam-rs/crossbeam) from 0.7.2 to 0.7.3.
    - [Release notes](https://github.com/crossbeam-rs/crossbeam/releases)
    - [Changelog](https://github.com/crossbeam-rs/crossbeam/blob/master/CHANGELOG.md)
    - [Commits](https://github.com/crossbeam-rs/crossbeam/compare/crossbeam-0.7.2...crossbeam-0.7.3)
    
    Signed-off-by: dependabot-preview[bot] <support@dependabot.com>

commit 4a148fb3026c204ee24a115dcfc210889dc7ac6f
Author: dependabot-preview[bot] <27856297+dependabot-preview[bot]@users.noreply.github.com>
Date:   Mon Feb 24 00:37:32 2020 +0000

    build(deps): bump libc from 0.2.66 to 0.2.67
    
    Bumps [libc](https://github.com/rust-lang/libc) from 0.2.66 to 0.2.67.
    - [Release notes](https://github.com/rust-lang/libc/releases)
    - [Commits](https://github.com/rust-lang/libc/compare/0.2.66...0.2.67)
    
    Signed-off-by: dependabot-preview[bot] <support@dependabot.com>

commit 0b24a3c42a5c65fc5b9ab7cfa2bfa423adf77a04
Author: dependabot-preview[bot] <27856297+dependabot-preview[bot]@users.noreply.github.com>
Date:   Mon Feb 24 00:37:00 2020 +0000

    build(deps): bump hex from 0.4.1 to 0.4.2
    
    Bumps [hex](https://github.com/KokaKiwi/rust-hex) from 0.4.1 to 0.4.2.
    - [Release notes](https://github.com/KokaKiwi/rust-hex/releases)
    - [Commits](https://github.com/KokaKiwi/rust-hex/compare/v0.4.1...v0.4.2)
    
    Signed-off-by: dependabot-preview[bot] <support@dependabot.com>

commit 20c6ad91afdde7d10f85e785ca6b8fba458986fb
Author: dependabot-preview[bot] <27856297+dependabot-preview[bot]@users.noreply.github.com>
Date:   Mon Feb 24 00:36:38 2020 +0000

    build(deps): bump reqwest from 0.10.1 to 0.10.2
    
    Bumps [reqwest](https://github.com/seanmonstar/reqwest) from 0.10.1 to 0.10.2.
    - [Release notes](https://github.com/seanmonstar/reqwest/releases)
    - [Changelog](https://github.com/seanmonstar/reqwest/blob/master/CHANGELOG.md)
    - [Commits](https://github.com/seanmonstar/reqwest/compare/v0.10.1...v0.10.2)
    
    Signed-off-by: dependabot-preview[bot] <support@dependabot.com>

commit d4f965e0dc00c02cc453e9ec902c1e3a550741de
Author: dependabot-preview[bot] <27856297+dependabot-preview[bot]@users.noreply.github.com>
Date:   Mon Feb 24 00:36:12 2020 +0000

    build(deps): bump whoami from 0.7.0 to 0.8.1
    
    Bumps [whoami](https://github.com/libcala/whoami) from 0.7.0 to 0.8.1.
    - [Release notes](https://github.com/libcala/whoami/releases)
    - [Changelog](https://github.com/libcala/whoami/blob/master/changelog.md)
    - [Commits](https://github.com/libcala/whoami/commits)
    
    Signed-off-by: dependabot-preview[bot] <support@dependabot.com>

commit 503fec59aa7304a8db0f30c53ee107c9dbd0d9f3
Author: dependabot-preview[bot] <27856297+dependabot-preview[bot]@users.noreply.github.com>
Date:   Mon Feb 24 00:35:22 2020 +0000

    build(deps): bump enum-iterator from 0.5.0 to 0.6.0
    
    Bumps [enum-iterator](https://github.com/stephaneyfx/enum-iterator) from 0.5.0 to 0.6.0.
    - [Release notes](https://github.com/stephaneyfx/enum-iterator/releases)
    - [Commits](https://github.com/stephaneyfx/enum-iterator/compare/0.5.0...0.6.0)
    
    Signed-off-by: dependabot-preview[bot] <support@dependabot.com>

commit 0da5082226320d5c4f0342c5877847328d41767f
Author: dependabot-preview[bot] <27856297+dependabot-preview[bot]@users.noreply.github.com>
Date:   Mon Feb 24 00:34:50 2020 +0000

    build(deps): bump dogsdogsdogs from `46e5491` to `45ce121`
    
    Bumps [dogsdogsdogs](https://github.com/TimelyDataflow/differential-dataflow) from `46e5491` to `45ce121`.
    - [Release notes](https://github.com/TimelyDataflow/differential-dataflow/releases)
    - [Commits](https://github.com/TimelyDataflow/differential-dataflow/compare/46e5491ae11e6caa76b09888f380065b0ff921b5...45ce121240bac15f5ad18ea0acc8f5c18cb552ff)
    
    Signed-off-by: dependabot-preview[bot] <support@dependabot.com>

commit c915951c0fdd490abfcff4aa71d85296af8372c0
Merge: a16e5bc67 fb487699a
Author: Nikhil Benesch <nikhil.benesch@gmail.com>
Date:   Sun Feb 23 19:09:23 2020 -0500

    Merge pull request #2104 from benesch/testdrive-jsonb
    
    test/testdrive: use quoted strings to test json output directly

commit 6fc5d531084ebb6d04a4a98bef7e2cb48941c813
Author: Nikhil Benesch <nikhil.benesch@gmail.com>
Date:   Sat Feb 22 03:02:06 2020 -0500

    coord: use unfair stream select
    
    This will prevent a deluge of external commands from starving out
    internal work.

commit c807c89db9b5ad5bdd947c6f3b41babc9865c94f
Author: Nikhil Benesch <nikhil.benesch@gmail.com>
Date:   Sat Feb 22 02:34:10 2020 -0500

    coord: incorporate timestamp messages into message channel
    
    Using only one message channel is cleaner, and ensures that we will
    drain timestamp messages even if no other messages are flowing over the
    message channel.

commit 9ead4db2e5670ce031007d894509cc975910a583
Author: Nikhil Benesch <nikhil.benesch@gmail.com>
Date:   Sat Feb 22 01:53:18 2020 -0500

    coord,sql: hoist purify into an explicit step
    
    Require the coordinator to explicitly purify user-provided SQL before
    planning it. This makes code paths where we know the SQL is pure, like
    in catalog bootup and log view installation, much simpler.
    
    sql::purify could alternatively return a MaybeFuture, but that makes the
    code a bit less readable (MaybeFuture doesn't compose well with async
    fns) for what I think would be a very minor performance gain, if any.

commit 43982d6a66fb7a7a36c2bd69fe2b333e4598c275
Author: Nikhil Benesch <nikhil.benesch@gmail.com>
Date:   Fri Feb 21 16:46:29 2020 -0500

    coord: use persistent internal command stream
    
    Rather than adding new oneshot transmitters to the message stream for
    every asynchronous query, I think it's cleaner to just use one internal
    message stream whose transmitters are handed out to each
    asynchronous-query-purifying future.

commit 76c853d151ef0b3b7308c866b5bc2c847d8a2408
Author: Nikhil Benesch <nikhil.benesch@gmail.com>
Date:   Fri Feb 21 15:16:40 2020 -0500

    coord: unnest Coordinator::serve
    
    This function was so deeply nested that rustfmt had given up on
    formatting it. Split it into two pieces to give rustfmt a chance.

commit 6da3613d97a66c3082822f328b3c4d128d8910c9
Author: Nikhil Benesch <nikhil.benesch@gmail.com>
Date:   Fri Feb 21 15:11:32 2020 -0500

    coord: make Coordinator::new readable
    
    Entering the Tokio executor just once makes this way more readable.

commit fb487699af01218f0e387332c5444bb8fa731869
Author: Nikhil Benesch <nikhil.benesch@gmail.com>
Date:   Fri Feb 21 01:08:38 2020 -0500

    test/testdrive: use quoted strings to test json output directly
    
    Fix #1533.

commit a16e5bc679a5f74b505121d89988409a38543dde
Merge: bf2b16621 6f60b606f
Author: Nikhil Benesch <nikhil.benesch@gmail.com>
Date:   Sun Feb 23 18:48:05 2020 -0500

    Merge pull request #2114 from benesch/suppress-updates
    
    dataflow: don't notify coordinator if no frontiers have changed

commit 6f60b606f38950ad1fe844b55c0c531cef0bc51f
Author: Nikhil Benesch <nikhil.benesch@gmail.com>
Date:   Sun Feb 23 18:18:43 2020 -0500

    dataflow: don't notify coordinator if no frontiers have changed
    
    We don't want to notify the coordinator if nothing has changed.
    Unfortunately, after working really hard to suppress updates from
    frontiers that hadn't changed, we'd then send a
    
        WorkerFeedback::FrontierUppers([])
    
    message to the coordinator, which rather defeated the point. The inner
    loop can run as often as every 10us, but frontiers can only change at
    most every 1ms, so in the worst case we'd be waking the coordinator up
    100x per millisecond to say that nothing had changed.

commit bf2b16621a21f5a86dd0993f7c5cc92ee52b43c1
Merge: 52827096b d63b7618b
Author: Sean Loiselle <sean@materialize.io>
Date:   Sun Feb 23 12:29:28 2020 -0500

    Merge pull request #2112 from sploiselle/logo-sync
    
    docs: convert logo to png

commit d63b7618bd43e2808799d8fb856ffc3afb78e264
Author: Sean Loiselle <himself@seanloiselle.com>
Date:   Sun Feb 23 12:00:49 2020 -0500

    docs: convert logo to png

commit 2cbdedae2c98f239682c59b450d6f16960e3b827
Author: Brennan Vincent <brennan@materialize.io>
Date:   Sat Feb 22 20:57:03 2020 -0500

    v0.1.1

commit 52827096ba31d9bb03cc5ae87c29d66218a078f2
Merge: 9b4483baf f1cb02059
Author: Brandon W Maister <bwm@materialize.io>
Date:   Fri Feb 21 17:38:10 2020 -0500

    Merge pull request #2106 from quodlibetor/row-and-byte-level-metrics
    
    Row and byte level metrics

commit 9b4483bafc0b881d1c018124e523709407b48c5b
Merge: 5a31d9075 0b4ef7cab
Author: Natacha Crooks <nacrooks@gmail.com>
Date:   Fri Feb 21 17:16:48 2020 -0500

    Merge pull request #2107 from nacrooks/chbenchfix
    
    Fixing CHBench Loading Behavior

commit 0b4ef7cabc4af1e909c4e4a9874e37178dc9549a
Author: Natacha Crooks <nacrooks@gmail.com>
Date:   Wed Feb 12 14:49:46 2020 -0500

    Clear Materialize/Kafka state in between load runs
    
    Fixing DC.sh on empty container
    
    Fixing dc.sh to work when no chbench is running
    
    Linting
    
     Author:    Natacha Crooks <nacrooks@gmail.com>
     Date:      Wed Feb 12 14:49:46 2020 -0500
    
    Refactoring Kafka Purge code
    
    Whitespace

commit 5a31d907576f4808c5498585961d3c118393a7c2
Author: Brandon W Maister <bwm@materialize.io>
Date:   Fri Feb 21 17:01:31 2020 -0500

    dc.sh: add `dc.sh web SERVICE` to get to the running service (#2105)

commit f1cb02059dc6a74863a335fbf7bd68fccf8c6a69
Author: Brandon W Maister <bwm@materialize.io>
Date:   Fri Feb 21 15:37:22 2020 -0500

    peeker: expose rows received as prometheus metrics

commit 09ab6987987c089fb83659e94d43e851dbe4a9c3
Author: Brandon W Maister <bwm@materialize.io>
Date:   Fri Feb 21 14:32:33 2020 -0500

    pgwire: track rows and bytes sent to clients in prometheus

commit ec37291a7fdeaba9cd9d4052709f08ba097eb1f0
Author: Brandon W Maister <bwm@materialize.io>
Date:   Fri Feb 21 12:53:44 2020 -0500

    dc.sh: make load test more repeatable and easier (#2100)
    
    Most importantly from an external perspective this adds a `clean-load-test` top-level
    command that runs `nuke` and then `load-test` with all dependencies. This is what we
    should always run when qualifying a release.
    
    In support of that, this adds `dc.sh load-test --up`, which runs the things that were
    previously in `dc.sh up :load:`.
    
    Because IMO it was confusing that we had different categories of commands that did
    similar but not identical things. Now load tests are always run exclusively by
    `load-test` commands.
    
    There are several *bugfixes* in this commit:
    
    * we were running `peeker` as a service as part of `up :load:`, which was reporting its
      metrics instead of the metrics we were explicitly requesting as part of the `load_test`
      function
    * docker-compose run *by itself* does not expose services internally via dns, meaning
      that when running the load test, you'd only get the metrics from the peeker that was
      run as part of the `up :load:` command.
    * running `docker-compose run` would cause `docker-compose` to do something to all
      `depends_on` services, *possibly* blowing away data, causing chbench to give up.
    
      I removed the depends_on for the two load-test services (chbench and peeker) because we
      really don't want docker-compose futzing with materialized/connect/etc just because
      we're trying to run a command
    * chbench was coming up and *staying up* for between 6 and 13 seconds for me before
      crashing due to that "maybe data is missing" problem, so I added a wait-for-awhile
      function
    
    I also added a wait-for-arbitrary-command function, because chbench was crashing because
    mysql was getting.. restarted, or something.

commit 658030c70f0c799a48ab13318a6d9c29aa879fed
Merge: 07e06c608 055908be1
Author: Brandon W Maister <bwm@materialize.io>
Date:   Fri Feb 21 12:16:42 2020 -0500

    Merge pull request #2101 from quodlibetor/peeker-help-nospam
    
    peeker: log startup message after handling --help

commit 055908be126c3e2b95f11873c8ba846335157f76
Author: Brandon W Maister <bwm@materialize.io>
Date:   Fri Feb 21 11:20:16 2020 -0500

    peeker: log startup message after handling --help

commit 07e06c608679ff71176b8c565fe07a4db32e8980
Merge: ed56ef255 ffba49ffe
Author: Nikhil Benesch <nikhil.benesch@gmail.com>
Date:   Fri Feb 21 11:12:27 2020 -0500

    Merge pull request #2098 from benesch/api-docs-hide-bins
    
    doc: only list library crates in the index

commit ffba49ffe837c7df3c77ddad29faea3ef3a4b4b2
Author: Nikhil Benesch <nikhil.benesch@gmail.com>
Date:   Fri Feb 21 00:19:07 2020 -0500

    doc: update index.html template
    
    While we wait for https://github.com/rust-lang/cargo/issues/739 to get
    resolved, we hardcode the rustdoc template in bin/doc so that we can
    generate a nice index page for our docs. This hardcoded template has
    diverged a bit from rustdoc; update it to accordingly.

commit 20937411756c6b079bbaddafb3de6be8032331cc
Author: Nikhil Benesch <nikhil.benesch@gmail.com>
Date:   Fri Feb 21 00:10:48 2020 -0500

    doc: only list library crates in the index
    
    Binary crates don't typically have useful API surface, and many of the
    links 404 anyway. If they *do* have useful API surface, it's not useable
    unless folks extract a library crate, at which point it will appear in
    the crate index.
    
    Fix #2015.

commit ed56ef2556ded58419e239e5b6799b752a6c26d7
Merge: f29fd24af f276158ef
Author: Nikhil Benesch <nikhil.benesch@gmail.com>
Date:   Thu Feb 20 17:56:07 2020 -0500

    Merge pull request #2097 from MaterializeInc/ci-readme-oops
    
    ci: include setting queue in macOS setup instructions

commit f276158efcbdf60102fc1895f1902129e00f6430
Author: Nikhil Benesch <nikhil.benesch@gmail.com>
Date:   Thu Feb 20 17:41:54 2020 -0500

    ci: include setting queue in macOS setup instructions

commit f29fd24afc8004abbe54e8fdd3628a6c7eac6613
Merge: ab27d530f 00fe1b771
Author: Nikhil Benesch <nikhil.benesch@gmail.com>
Date:   Thu Feb 20 17:22:03 2020 -0500

    Merge pull request #2096 from benesch/ci-macos
    
    ci: fix macOS setup instructions

commit 00fe1b7714da1951775318b9cbcad918616127ea
Author: Nikhil Benesch <nikhil.benesch@gmail.com>
Date:   Thu Feb 20 17:19:58 2020 -0500

    ci: fix macOS setup instructions

commit ab27d530f3962146f6745bbdc4e4b688cadc0f55
Author: Jessica Laughlin <JLDLaughlin@users.noreply.github.com>
Date:   Thu Feb 20 17:16:20 2020 -0500

    Hardcode materialize/metabase version (#2094)

commit bba9243add3d6effd25879aa8f3c06bed05a429f
Author: sploiselle <sean@materialize.io>
Date:   Thu Feb 20 16:47:17 2020 -0500

    docs: describe how developers should interact with docs

commit 410ab7ef62288975473811b3fea524215795e1aa
Merge: 10bb8b9ea 0af83c2df
Author: Nikhil Benesch <nikhil.benesch@gmail.com>
Date:   Thu Feb 20 16:42:23 2020 -0500

    Merge pull request #2073 from lmatz/strconv-fix
    
    Move more time units to use strconv in SLT

commit 10bb8b9eac5e38945f484fb1590d3ad4e3349ee4
Merge: aeefa1d36 3df215eca
Author: Nikhil Benesch <nikhil.benesch@gmail.com>
Date:   Thu Feb 20 16:40:47 2020 -0500

    Merge pull request #2090 from benesch/doc-index
    
    misc/doc: account for packages with hyphen

commit aeefa1d36e19b0749a169b59683c06267cef53c9
Merge: 0637f9a55 c8a403a83
Author: Nikhil Benesch <nikhil.benesch@gmail.com>
Date:   Thu Feb 20 16:38:46 2020 -0500

    Merge pull request #2087 from benesch/repr-tweaks
    
    repr: various cleanups

commit 3df215eca6752179c725157cea796c616bfa4f86
Author: Nikhil Benesch <nikhil.benesch@gmail.com>
Date:   Thu Feb 20 16:32:03 2020 -0500

    misc/doc: account for packages with hyphen
    
    The doc index page needs to rewrite hyphens to underscores when
    constructing paths to crate documentation.

commit 0637f9a55d55d9b5c53b5c18894dda8e79c80f8a
Merge: 9cde37cf6 5770bba0c
Author: Sean Loiselle <sean@materialize.io>
Date:   Thu Feb 20 16:25:40 2020 -0500

    Merge pull request #2088 from sploiselle/release-notes
    
    docs: create release notes template + versioning info

commit 5770bba0c6b8f2f1845cd46ecaa7eeb695ae8526
Author: sploiselle <sean@materialize.io>
Date:   Thu Feb 20 15:09:06 2020 -0500

    docs: create release notes template + versioning info

commit 43972a5b0d1c6c3954068f53fc2842010825303d
Author: Brandon W Maister <bwm@materialize.io>
Date:   Thu Feb 20 15:33:34 2020 -0500

    peeker: Correctly handle enabling only a group
    
    This commit it so that if you e.g. `--queries loadtest` the list of queries to be
    _instanciated_ includes all the dependencies.

commit 9cde37cf67ca4a653fdeb9e25455599bf0698cce
Merge: ea6f4fb63 8ebab871f
Author: Brandon W Maister <bwm@materialize.io>
Date:   Thu Feb 20 16:05:25 2020 -0500

    Merge pull request #2086 from quodlibetor/fix-peeker-load-test
    
    load-test: peeker should daemonize and run after topics are created

commit ea6f4fb63abcc5c0cca38dcb876f37ef42bde135
Merge: 2b422275b 7fc13a60c
Author: Ruchir Khaitan <ruchir0001@gmail.com>
Date:   Thu Feb 20 16:02:58 2020 -0500

    Merge pull request #2076 from ruchirK/rk-2015
    
    billing-demo: add API docs

commit 2b422275b8d386c4afeed3484638b457ba1ed0ca
Merge: 6d3e95c9e 1cd43e459
Author: Sean Loiselle <sean@materialize.io>
Date:   Thu Feb 20 16:00:00 2020 -0500

    Merge pull request #2021 from sploiselle/index-and-misc-edits
    
    docs: misc edits from Frank

commit 6d3e95c9e63215b96c168cb9d2cda1183749cca0
Merge: 853137a51 fecb1f295
Author: Ruchir Khaitan <ruchir0001@gmail.com>
Date:   Thu Feb 20 15:56:40 2020 -0500

    Merge pull request #2085 from ruchirK/rk-fix-data-directory
    
    coord,materialized: Fix failure to start when missing mzdata

commit 1cd43e459448e78640628a7f0b13c3ef8effe516
Author: Sean Loiselle <himself@seanloiselle.com>
Date:   Fri Feb 14 16:42:34 2020 -0500

    docs: misc edits from Frank

commit 7fc13a60c669e119af43e3a21b64d97f1cb5a8c9
Author: Ruchir Khaitan <ruchir0001@gmail.com>
Date:   Thu Feb 20 10:42:19 2020 -0500

    billing-demo: add API docs
    
    Touches #2015

commit 8ebab871fe04725f6afbf217ce41a1e2a2dcaf97
Author: Brandon W Maister <bwm@materialize.io>
Date:   Thu Feb 20 15:38:01 2020 -0500

    peeker: move some functions around to group related items together

commit be81019c960fa28bed64f91fdf734aff8d25a120
Author: Brandon W Maister <bwm@materialize.io>
Date:   Thu Feb 20 15:33:34 2020 -0500

    peeker: Correctly handle enabling only a group
    
    This commit it so that if you e.g. `--queries loadtest` the list of queries to be
    _instanciated_ includes all the dependencies.

commit fecb1f295f0580dbc720c6659ee58ff19d45ce40
Author: Ruchir Khaitan <ruchir0001@gmail.com>
Date:   Thu Feb 20 14:50:22 2020 -0500

    coord,materialized: Fix failure to start when missing mzdata

commit 3f4e2c9c36244e397197526cc2a0258a7815de92
Author: Brandon W Maister <bwm@materialize.io>
Date:   Thu Feb 20 15:15:25 2020 -0500

    peeker: try to initialize for up to a minute before going on

commit c8a403a83fcbb4ec04ceb2d5178cdd218b0142bb
Author: Nikhil Benesch <nikhil.benesch@gmail.com>
Date:   Thu Feb 20 15:01:09 2020 -0500

    repr,sql-parser: reverse dependency edge
    
    Reverse the dependency edge between repr and sql-parser so that
    sql-parser depends on repr, rather than the other way around, as repr is
    intended to be SQL agnostic.
    
    Fix #1006.

commit 8856e71c88ee5a33f9fd9c63c9afd0077ca7760d
Author: Brandon W Maister <bwm@materialize.io>
Date:   Thu Feb 20 15:04:32 2020 -0500

    load-test: peeker should daemonize and run after topics are created

commit 853137a5125f68d1f4735055917b8c6d2802dc6d
Merge: 290835c6f 65cfd0517
Author: Sean Loiselle <sean@materialize.io>
Date:   Thu Feb 20 14:37:44 2020 -0500

    Merge pull request #2081 from sploiselle/fix-broken-links
    
    docs: fix broken links

commit 65cfd05176845764d2a5cfc167a93ddd4e54ae35
Author: sploiselle <sean@materialize.io>
Date:   Thu Feb 20 13:44:43 2020 -0500

    docs: fix broken links

commit fc2dbd8f3c57655043e9ac1253b5b1d5ad60317d
Author: Nikhil Benesch <nikhil.benesch@gmail.com>
Date:   Thu Feb 20 14:21:23 2020 -0500

    repr: hoist strconv tests into integration test file
    
    These are testing public functionality, so they should go into an
    integration test file as a matter of philosophy.

commit 290835c6f12ab3fdbc70a171434a0447ef66a23e
Merge: 21018d8d7 a8fe643c8
Author: Nikhil Benesch <nikhil.benesch@gmail.com>
Date:   Thu Feb 20 14:20:25 2020 -0500

    Merge pull request #2079 from benesch/metabase-healthcheck
    
    ci/test: build the metabase healthcheck image on demand

commit 0af83c2df8ce8c395ce2c19f1b57072b0f72117e
Author: lmatz <lmatz823@gmail.com>
Date:   Thu Feb 20 19:31:23 2020 +0800

    Move more time units to use strconv in SLT

commit a8fe643c8d585856bd8f1fbfe1f7aaab0526ba00
Author: Nikhil Benesch <nikhil.benesch@gmail.com>
Date:   Thu Feb 20 13:50:02 2020 -0500

    ci/test: build the metabase healthcheck image on demand
    
    Depending on external state (like the latest tag of the ci-healthcheck
    image) makes builds not reproducible. This image is small enough that it
    is much simpler to just let Docker Compose build it on demand in CI.

commit 21018d8d7f872defc82208ac5e25fac581d8083b
Merge: 0affd1e36 2c52743af
Author: Sean Loiselle <sean@materialize.io>
Date:   Thu Feb 20 13:08:30 2020 -0500

    Merge pull request #2026 from sploiselle/timelike-strconv
    
    sql: support casting strings to timelike types

commit 0affd1e3678c1653f5602bf113105091e979ec1c
Author: Jessica Laughlin <JLDLaughlin@users.noreply.github.com>
Date:   Thu Feb 20 11:59:19 2020 -0500

    Basic Metabase demo CI test (#2065)
    
    Addition to the Buildkite test pipeline. Checks that:
    -  metabase, materialized, zookeeper, and kafka containers run and don't crash
    - that metabase is available and responding to requests on port 3000

commit 2c52743afd3a088b06f43177d96a67369828104f
Author: Sean Loiselle <himself@seanloiselle.com>
Date:   Sun Feb 9 14:31:32 2020 -0500

    sql: support casting strings to timelike types

commit 66d010d6d704a99d0744bf4d22eab48273d96e85
Merge: e779e7ec4 596335ecc
Author: Nikhil Benesch <nikhil.benesch@gmail.com>
Date:   Thu Feb 20 11:38:27 2020 -0500

    Merge pull request #2075 from benesch/merge-skew
    
    test: fix merge skew

commit 596335ecc115f93993b861258ae9a4630b38d465
Author: Nikhil Benesch <nikhil.benesch@gmail.com>
Date:   Thu Feb 20 10:46:10 2020 -0500

    test: fix merge skew

commit e779e7ec427f5efd4fb1545f77825f762f0f27fa
Merge: ae2d0f1af 1824d23fa
Author: Ruchir Khaitan <ruchir0001@gmail.com>
Date:   Wed Feb 19 22:51:08 2020 -0500

    Merge pull request #2070 from ruchirK/rk-fix-billing-demo-ci
    
    billing-demo: make the CI work with shared volumes

commit ae2d0f1afb307ca6110a45c968541ee6f7feff74
Merge: 9c21e8bef bfc6bec01
Author: Nikhil Benesch <nikhil.benesch@gmail.com>
Date:   Wed Feb 19 17:58:04 2020 -0500

    Merge pull request #2000 from benesch/catalog-errors
    
    catalog: use structured errors

commit 9c21e8bef61a8ea2390a12ee3cf3da15c97ea9d5
Merge: b7f36d8a7 96a0a65e7
Author: Nikhil Benesch <nikhil.benesch@gmail.com>
Date:   Wed Feb 19 17:55:22 2020 -0500

    Merge pull request #2007 from benesch/fast-testdrive
    
    test/testdrive: use materialized sources in more places

commit b7f36d8a7be91e8d64a83c395d1fede0b8a7845e
Merge: 4bf1292fe c98b022cd
Author: Nikhil Benesch <nikhil.benesch@gmail.com>
Date:   Wed Feb 19 17:46:33 2020 -0500

    Merge pull request #2069 from benesch/log-to-file
    
    materialized: log to file by default

commit 4bf1292fe11657cbf1c95322fe7bcef91fc50341
Merge: c5f3ed7e3 441d5319b
Author: Nikhil Benesch <nikhil.benesch@gmail.com>
Date:   Wed Feb 19 17:16:50 2020 -0500

    Merge pull request #2071 from benesch/speedy-compiles
    
    dataflow: speed up compilation cycle for downstream dependencies

commit 441d5319bf88104f2383be19d119d987d4477de1
Author: Nikhil Benesch <nikhil.benesch@gmail.com>
Date:   Wed Feb 19 15:46:11 2020 -0500

    dataflow: speed up compilation cycle for downstream dependencies
    
    Force rustc to instantiate timely and differential templates while
    compiling the dataflow crate. From the comment within:
    
        The presence of this function forces `rustc` to instantiate the
        slow-to-compile differential and timely templates while compiling this
        crate. This means that iterating on crates that depend upon this crate is
        much faster, because these templates don't need to be reinstantiated
        whenever a downstream dependency changes. And iterating on this crate
        doesn't really become slower, because you needed to instantiate these
        templates anyway to run tests.

commit 1824d23fa2db9470cda01762a754a0e0f85d1c6b
Author: Ruchir Khaitan <ruchir0001@gmail.com>
Date:   Wed Feb 19 15:43:41 2020 -0500

    billing-demo: make the CI work with shared volumes

commit c5f3ed7e300ed8cd8adb20db478372572c0bfc8a
Merge: cadea937f 4aa2ec566
Author: Ruchir Khaitan <ruchir0001@gmail.com>
Date:   Wed Feb 19 14:45:29 2020 -0500

    Merge pull request #2067 from ruchirK/rk-2052
    
    pgwire: bump max frame size to 64 mb

commit c98b022cd5cdeb64cbf30cb6c1952ede722d3953
Author: Nikhil Benesch <nikhil.benesch@gmail.com>
Date:   Wed Feb 19 14:36:51 2020 -0500

    materialized: log to file by default
    
    Logging to stderr is noisy, and should not be the default for folks
    manually running the materialized binary. Make the default logging to
    DATADIR/materialized.log, but allow overriding with
    --log-file=<stderr|PATH>. Our Docker images are changed to set the log
    file to stderr by default, to comport with Docker logging conventions.
    
    Note that this commit also switches us to use the tracing crate
    ecosystem, as env_logger does not support logging to files.

commit cadea937f4a43d1a099ce9ba3279e4ccffa3c984
Merge: 04aef61f0 73fe90332
Author: Sean Loiselle <sean@materialize.io>
Date:   Wed Feb 19 14:32:16 2020 -0500

    Merge pull request #2063 from sploiselle/select-set-operations
    
    docs: add set operations to SELECT

commit 4aa2ec566afd9fb04675cc66c61c301016f9276a
Author: Ruchir Khaitan <ruchir0001@gmail.com>
Date:   Wed Feb 19 14:17:54 2020 -0500

    pgwire: bump max frame size to 64 mb
    
    Fixes #2052
    
    Note that this approach means that queries exceeding 64 MB in size will still
    be rejected and cause Materialize to close the connection upon receiving them.
    This is done by design to avoid attacks that could cause us to go out of memory

commit 04aef61f093f356b68e1bc25571b15c826102d22
Author: Brennan Vincent <brennan@materialize.io>
Date:   Wed Feb 19 14:10:56 2020 -0500

    Update README.md (#2066)
    
    Fix mistake in shell syntax

commit 73fe90332947b19ad5c8a42fc41b91a4ac1ed40b
Author: sploiselle <sean@materialize.io>
Date:   Wed Feb 19 11:09:06 2020 -0500

    docs: add set operations to SELECT

commit cd0dac3795dd452bb10a9781b809a94268c2ffa8
Author: Cuong Do <cuongdo@users.noreply.github.com>
Date:   Wed Feb 19 13:53:37 2020 -0500

    Revise project-management.md (#2055)
    
    Reflect recent changes to engineering process, including:
    * Move away from ZenHub
    * Milestones as upper bound on when an issue shuld be resolved

commit 0e10dd32cf9d2ad92534457963cdc23503f3710d
Author: Brennan Vincent <brennan@materialize.io>
Date:   Wed Feb 19 13:42:14 2020 -0500

    Implement parsing for AVRO OCF sources (#2064)
    
    This does not yet implement the sources, but handles them in the SQL parser.

commit 2f39716ad3bcd06c76703e28f63fdc5cbfdd7120
Merge: 0108dddbb 1bd8597a5
Author: Sean Loiselle <sean@materialize.io>
Date:   Wed Feb 19 13:13:08 2020 -0500

    Merge pull request #2049 from sploiselle/sink-docs
    
    docs: add create sink example for views

commit 1bd8597a5ec9db11d04db2efe6d307ca2e052f3b
Author: sploiselle <sean@materialize.io>
Date:   Tue Feb 18 16:10:59 2020 -0500

    docs: add create sink example for views

commit 96ce3a829de93937526df996c186e88ec49f8688
Author: sploiselle <sean@materialize.io>
Date:   Wed Feb 19 12:50:27 2020 -0500

    sql: add DISTINCT keyword to set operations

commit 0108dddbb01389272ea0419c5873fb1f8594f536
Merge: 321632651 f1caad5a9
Author: Natacha Crooks <nacrooks@gmail.com>
Date:   Wed Feb 19 12:27:11 2020 -0500

    Merge pull request #2013 from nacrooks/kinesistimestamp
    
    Timestamping refactor to support non-kafka sources

commit 3216326512bca05dc74934cc12b60407b78f391a
Merge: a6d885cce 75991eab5
Author: Nikhil Benesch <nikhil.benesch@gmail.com>
Date:   Wed Feb 19 11:40:14 2020 -0500

    Merge pull request #2062 from benesch/delay-beta-splash
    
    materialized: limit splash screen to successful server starts

commit a6d885ccefb87cc1c407c388f003fd35d7422b66
Merge: 5e32da2ef 4080ffa9b
Author: Ruchir Khaitan <ruchir0001@gmail.com>
Date:   Wed Feb 19 11:19:27 2020 -0500

    Merge pull request #2061 from ruchirK/rk-2060
    
    doc: fix create source commands in user docs

commit f1caad5a94b2cecbd45d52620843f6a458d1a600
Author: Natacha Crooks <natachacrooks@Natachas-MacBook-Pro.local>
Date:   Fri Feb 14 09:33:57 2020 -0500

    Code refactoring to support non Kafka timestamped sources

commit 1ad2c821d8b084fc3f414e7bdae33150194226ed
Author: Natacha Crooks <natachacrooks@Natachas-MacBook-Pro.local>
Date:   Fri Feb 14 10:43:11 2020 -0500

    Adding stubs for file and kinesis connectors

commit 4080ffa9b45b15504d45fa9e82331402eda61d77
Author: Ruchir Khaitan <ruchir0001@gmail.com>
Date:   Wed Feb 19 10:58:35 2020 -0500

    doc: fix create source commands in user docs
    
    Fixes #2060

commit 75991eab52cd984e86a630e84c108eb6c0115880
Author: Nikhil Benesch <nikhil.benesch@gmail.com>
Date:   Wed Feb 19 11:11:39 2020 -0500

    materialized: limit splash screen to successful server starts
    
    This prevents `materialized --version` and `materalized --help` from
    printing the splash screen, as it gets in the way of finding the version
    or help text.

commit 5e32da2ef02ce32a5b2cfec7f861c40b698402d0
Merge: ccd43d05e 604e4c24a
Author: Sean Loiselle <sean@materialize.io>
Date:   Tue Feb 18 17:04:31 2020 -0500

    Merge pull request #2053 from sploiselle/docs-intro
    
    docs: fix first lines

commit 604e4c24a4a2054a90a0a8019f7982d45819aae7
Author: sploiselle <sean@materialize.io>
Date:   Tue Feb 18 16:56:30 2020 -0500

    docs: fix first lines

commit ccd43d05ebfc0b1cfa4bfea009c557f5fd22e826
Merge: 9ea5f4d77 f4922ee34
Author: Sean Loiselle <sean@materialize.io>
Date:   Tue Feb 18 16:45:35 2020 -0500

    Merge pull request #2048 from sploiselle/scss-fix
    
    docs: fix font

commit f4922ee344c8245943f55e55f3646b9c462c3e85
Author: sploiselle <sean@materialize.io>
Date:   Tue Feb 18 15:53:47 2020 -0500

    docs: fix font

commit 9ea5f4d776e5def26ae932683a3dcfea2b6fce83
Merge: ab5bd69a8 fbdf5918d
Author: Sean Loiselle <sean@materialize.io>
Date:   Tue Feb 18 16:20:45 2020 -0500

    Merge pull request #2051 from benesch/fix-apt-install
    
    doc/user: fix apt install command

commit fbdf5918d4c519b0396f7d9635afbf86deeddb55
Author: Nikhil Benesch <nikhil.benesch@gmail.com>
Date:   Tue Feb 18 16:18:55 2020 -0500

    doc/user: fix apt install command
    
    Fix #2050.

commit ab5bd69a8e809c445d59f38f3dc4ab7089e48250
Author: Brennan Vincent <brennan@materialize.io>
Date:   Tue Feb 18 14:57:49 2020 -0500

    Rationalize `SHOW CREATE SOURCE` to do the same thing as `SHOW CREATE VIEW`. (#2047)

commit 5cb2a6ea2473a107c6545ebc36f474c0bf75c737
Merge: 613ca2498 560708e14
Author: Sean Loiselle <sean@materialize.io>
Date:   Tue Feb 18 14:47:53 2020 -0500

    Merge pull request #2036 from sploiselle/known-limitations
    
    docs: add known limitations

commit 560708e1421788961bb8839e9589a7647d0248d6
Author: Sean Loiselle <himself@seanloiselle.com>
Date:   Mon Feb 17 21:34:52 2020 -0500

    docs: add known limitations

commit 613ca2498d51b62217c939ed049032eebd691c88
Merge: eba04ba30 2000c2230
Author: Sean Loiselle <sean@materialize.io>
Date:   Tue Feb 18 14:16:00 2020 -0500

    Merge pull request #2046 from sploiselle/resync-docs-header
    
    docs: synchronize header with home page

commit 2000c223025b933ce0572ab2279f130b8c1743a2
Author: sploiselle <sean@materialize.io>
Date:   Tue Feb 18 14:00:56 2020 -0500

    docs: synchronize header with home page

commit eba04ba305f6bef5da82929e0927526d52fe4809
Merge: 24b9f4876 7e048646f
Author: Sean Loiselle <sean@materialize.io>
Date:   Tue Feb 18 14:01:58 2020 -0500

    Merge pull request #2043 from sploiselle/get-started-v2
    
    docs: rewrite get started page

commit 24b9f48762f9399e1edaa495747ef31bfaa6bca1
Merge: 93f21bc73 11999b13b
Author: Nikhil Benesch <nikhil.benesch@gmail.com>
Date:   Tue Feb 18 13:55:56 2020 -0500

    Merge pull request #2044 from benesch/robots-txt
    
    www: override WPEngine's robot.txt

commit 93f21bc73f6eac4c6c624350c3a2b5ae1df5bb79
Merge: b34f98910 cde55ddd5
Author: Ruchir Khaitan <ruchir0001@gmail.com>
Date:   Tue Feb 18 13:52:48 2020 -0500

    Merge pull request #2041 from benesch/devdocs
    
    doc/developer: fix some strangely-rendering links

commit 11999b13bfdb74c0e535866943af57e6d2e9972a
Author: Nikhil Benesch <nikhil.benesch@gmail.com>
Date:   Tue Feb 18 13:51:09 2020 -0500

    www: override WPEngine's robot.txt
    
    WPEngine insists that materializeinc.wpengine.com/robots.txt will
    disallow all search engine crawling, and there is no way to turn off
    this behavior. So just replace their robots.txt with a blank one.

commit 7e048646fd0e1bd97e22fe1e12fbf9734e6b1d4c
Author: sploiselle <sean@materialize.io>
Date:   Tue Feb 18 13:19:26 2020 -0500

    docs: rewrite get started page

commit b34f98910aafac83e4440b8fc6432e38b5b4c1a1
Author: Nikhil Benesch <nikhil.benesch@gmail.com>
Date:   Tue Feb 18 13:22:52 2020 -0500

    ci/test: always build everything on release tags, too (#2042)
    
    We limit what job we run in CI on pull request builds, but on master, we
    always want to do everything. The same logic applies to release tags: we
    should always run all jobs on CI.

commit b632f164519de2cae3732f695bad580eb2a72614
Merge: b0fa12419 24a2d4ce2
Author: Brandon W Maister <bwm@materialize.io>
Date:   Tue Feb 18 13:06:43 2020 -0500

    Merge pull request #2024 from quodlibetor/peeker-replace-chbench-peeks
    
    peeker: add a config file, replace chbench peek with peeker

commit b0fa12419fa860e63df5d468df6ddfa564c01cfd
Merge: 20bd2c03a d405cfb2b
Author: Arjun Narayan <arjun@materialize.io>
Date:   Tue Feb 18 12:57:55 2020 -0500

    Merge pull request #2039 from rjnn/readme
    
    add gitter badge

commit 24a2d4ce2921796230b947a93c68a6f8b8f63e6f
Author: Brandon W Maister <bwm@materialize.io>
Date:   Tue Feb 18 09:18:07 2020 -0500

    peeker: support an `--only-initialize` flag to not run load
    
    This makes it easy to set things up for demos/experimentation
    
    Make dc.sh use it instead of chbenchmark --mz-sources
    
    Fixes #2038

commit 20bd2c03a0a823c920814fab3e640d5d9a0906c1
Merge: 1a77ee3f2 e9454ffd7
Author: Sean Loiselle <sean@materialize.io>
Date:   Tue Feb 18 12:16:06 2020 -0500

    Merge pull request #2037 from sploiselle/install-docs
    
    docs: add install page

commit e9454ffd73de76476bc6d81ff1f344ebc236964e
Author: sploiselle <sean@materialize.io>
Date:   Tue Feb 11 16:30:43 2020 -0500

    docs: add install page

commit d405cfb2bbd451c8a7659a460dd8c24cfa0cc97c
Author: Arjun Narayan <arjun@materialize.io>
Date:   Tue Feb 18 11:21:37 2020 -0500

    add gitter badge

commit 1a77ee3f2a59ed32342285c22a37d83a141f0e67
Merge: 239ad7a66 df73a3115
Author: Brandon W Maister <bwm@materialize.io>
Date:   Tue Feb 18 09:14:44 2020 -0500

    Merge pull request #1776 from quodlibetor/doc-release-process
    
    Document our release process

commit cde55ddd584c8283be899bba3201e132fc64f8a1
Author: Nikhil Benesch <nikhil.benesch@gmail.com>
Date:   Tue Feb 18 00:47:19 2020 -0500

    doc/developer: fix some strangely-rendering links

commit 96a0a65e7121eb681aa0ea27e84a1875b2e94ac5
Author: Nikhil Benesch <nikhil.benesch@gmail.com>
Date:   Thu Feb 13 18:16:06 2020 -0500

    test/testdrive: use materialized sources in more places
    
    This a) vastly decreases file descriptor usage, and b) speeds up
    testdrive, because we don't create a billion independent Kafka sources.

commit df73a3115014de29d7dd6e71e8e0741cbae33640
Author: Brandon W Maister <bwm@materialize.io>
Date:   Mon Feb 17 21:45:05 2020 -0500

    copyright.awk: support html files

commit 6ff38079a92f408c3a73e288f5517a77b79bcd45
Author: Brandon W Maister <bwm@materialize.io>
Date:   Thu Feb 13 19:04:06 2020 -0500

    doc-release: Document the simpler flow that we went with
    
    Add a release checklist and the "tools" that I used to generate the screenshots.

commit 99c177388b4c15145924e473ab42d43ecd748de5
Author: Brandon W Maister <bwm@materialize.io>
Date:   Wed Feb 5 11:35:42 2020 -0500

    doc-release: Update to use release-X.Y branches with no LTS
    
    In particular, this doesn't ever merge from master, once we are confident in master we
    just hard-reset to the commit that we would like to use. This maintains the
    mainline-first development philosophy with the ability to stage changes.
    
    Also add some hand-drawn images to give a general idea of what things look like, although
    the branches and tags are all abreviated.

commit a805295db6e3c12bd24c53222a71b461b43dfbd1
Author: Brandon W Maister <bwm@materialize.io>
Date:   Tue Feb 4 11:08:57 2020 -0500

    doc-release: Move release process into its own file

commit 3340241172efa182fb188ac68a8deceddbe9e0d6
Author: Brandon W Maister <bwm@materialize.io>
Date:   Tue Feb 4 10:57:33 2020 -0500

    doc-release: Switch from hard-resets to merges
    
    Since there are good reasons to do it this way I'm also including a commit to show
    how (not) different the release process is with merges instead of hard resets.

commit c39ea01fc8818b79f376696ce040d47b0d2a022d
Author: Brandon W Maister <bwm@materialize.io>
Date:   Tue Feb 4 10:48:33 2020 -0500

    doc-release: Update release process to use tags and single release branch
    
    After the recent meeting, we have a possibly simpler release process, it certainly has
    fewer branches.
    
    Since the point of the `release` branch is to just make it easier to find the most-recent
    release I did change the process slightly from the meeting: instead of merging the
    `release` branch with master occasionally, I have it documented as just being reset to
    the next release, I know that this will cause fewer merge conflicts (since it never
    involves any merges) but it does mean that not all releases will be in the release
    branch, which may be a problem.

commit d09215231845b98ef86083fbf78d33c761ca6bc1
Author: Brandon W Maister <bwm@materialize.io>
Date:   Mon Feb 3 13:22:48 2020 -0500

    doc-release: Document the sad path for the release process

commit 749a947801f675b4f42d0a8976e290043169544e
Author: Brandon W Maister <bwm@materialize.io>
Date:   Thu Jan 30 17:02:00 2020 -0500

    doc-release: Propose our release process

commit 239ad7a66ec1384ce1feb26c789c6cc42bd20243
Merge: ffd131445 68d9be1c0
Author: Sean Loiselle <sean@materialize.io>
Date:   Mon Feb 17 21:35:05 2020 -0500

    Merge pull request #2034 from sploiselle/fix-drop-index-diagram
    
    docs: correct drop index diagram reference

commit c1681b8c4e16ac8eb4b5af26bce8b204f3502915
Author: Brandon W Maister <bwm@materialize.io>
Date:   Mon Feb 17 20:57:46 2020 -0500

    peeker: make it easier to load dynamic config files
    
    Default to including a directory in the container demo with some docs explaining how to
    configure it as the one to use.

commit 6518abe6b57ba3c3d8d0cdfbebddd831565899dc
Author: Brandon W Maister <bwm@materialize.io>
Date:   Mon Feb 17 20:55:17 2020 -0500

    peeker: add a notion of query groups
    
    Named groups cycle through their queries in N threads, instead of getting one query per
    thread. This is a different flavor of load, and I believe exactly matches the previous
    chbenchmark load test peek strategy.

commit 68d9be1c0ec5785af26869749852cc1421a3a0b8
Author: Sean Loiselle <himself@seanloiselle.com>
Date:   Mon Feb 17 21:05:02 2020 -0500

    docs: correct drop index diagram reference

commit e9fa7584d917bf67dc677fb44dcd3c06ac68a85d
Author: Brandon W Maister <bwm@materialize.io>
Date:   Fri Feb 14 17:15:28 2020 -0500

    peeker: add a default config file

commit 4bd965658e9bb207a7ab692de75c3329e706c225
Author: Brandon W Maister <bwm@materialize.io>
Date:   Fri Feb 14 16:49:06 2020 -0500

    peeker: shorten some type paths

commit 580bb2a5187c19b2f32b155af064a4a7155d9ca4
Author: Brandon W Maister <bwm@materialize.io>
Date:   Fri Feb 14 16:19:56 2020 -0500

    peeker: Add per-query thread counts and sleep durations
    
    This also adds the ability/requirement to specify query-global defaults

commit 67329517bc0fbdedba4b32210275c7499b42af75
Author: Brandon W Maister <bwm@materialize.io>
Date:   Tue Feb 11 16:27:59 2020 -0500

    peeker: improve/reduce error messages

commit 57047969673b00bd829556cba6a9e07f299ddc04
Author: Brandon W Maister <bwm@materialize.io>
Date:   Fri Feb 7 17:06:38 2020 -0500

    grafana dashboard: make low-valued histogram buckets more visible
    
    when using opacity mode histogram buckets with a value like 1 are basically invisible,
    which can make it hard to see the full spread of values.
    
    Using the spectrum opacity mode provides slightly less visual distinction at high values,
    but much more distinction at the low and middle end, which makes the overall spread much
    more visible.

commit c722057b3e94b419008319190d79b363e674ed2d
Author: Brandon W Maister <bwm@materialize.io>
Date:   Fri Feb 7 13:32:40 2020 -0500

    peeker/chbench: support a config file for multiple views
    
    This additionally adjusts the load-test commands to use peeker instead of chbenchmark for
    the peek threads.
    
    Using peeker instead of chbenchmark to run queries gives us per-query client-side
    latencies in the grafana dashboard, which is pretty nice.
    
    Right now every query is executed in a tight loop in its own thread, but we could change
    that to reduce or adjust load.

commit ffd1314452d8c4965c093f05fd1bbaa9c88e6fb3
Merge: 0eb6335d6 d3ba32a0d
Author: Ruchir Khaitan <ruchir0001@gmail.com>
Date:   Mon Feb 17 17:56:52 2020 -0500

    Merge pull request #2022 from ruchirK/rk-developer-docs
    
    Cleanups around developer docs

commit d3ba32a0d48e1fe2dbe6f02a183e169cff584297
Author: Ruchir Khaitan <ruchir0001@gmail.com>
Date:   Mon Feb 17 16:56:19 2020 -0500

    doc: rename some developer docs files

commit b55c83fadb9a0789b982eb9da96f92ce3ab6a352
Author: Ruchir Khaitan <ruchir0001@gmail.com>
Date:   Mon Feb 17 16:51:34 2020 -0500

    docs: add README/toc to developer docs

commit 0eb6335d6e6b78a119df8ed074eb9102cc62192c
Author: Frank McSherry <fmcsherry@me.com>
Date:   Mon Feb 17 13:31:52 2020 -0500

    Synchronize counters once per invocation (#2009)
    
    Prometheus counters were being incremented on a per-record basis, which has the potential to synchronize all of the worker threads as they compete on counters. This changes the behavior to synchronize at most once per operator invocation.

commit 7d8306528d4433e0c093798c62a88305f2f7e315
Author: Nikhil Benesch <nikhil.benesch@gmail.com>
Date:   Thu Feb 13 18:23:42 2020 -0500

    test/testdrive: reformat some long lines

commit f849f2205eb0a6a5b83ce80b02f0ef5ed5f56383
Merge: cecac8e1f f71792701
Author: Nikhil Benesch <nikhil.benesch@gmail.com>
Date:   Mon Feb 17 13:09:31 2020 -0500

    Merge pull request #2030 from MaterializeInc/dependabot/cargo/backtrace-0.3.44
    
    build(deps): bump backtrace from 0.3.43 to 0.3.44

commit cecac8e1fc6da6e5194c7200c57b15d2d583f2b8
Merge: bf6fe9746 00488f9ac
Author: Nikhil Benesch <nikhil.benesch@gmail.com>
Date:   Mon Feb 17 13:06:32 2020 -0500

    Merge pull request #2028 from MaterializeInc/dependabot/cargo/thiserror-1.0.11
    
    build(deps): bump thiserror from 1.0.10 to 1.0.11

commit bf6fe974656ba2080adc55bb5e782a79ff8f236b
Merge: 2fa2c3124 e6a988b87
Author: Nikhil Benesch <nikhil.benesch@gmail.com>
Date:   Mon Feb 17 13:06:23 2020 -0500

    Merge pull request #2027 from MaterializeInc/dependabot/cargo/serde_json-1.0.48
    
    build(deps): bump serde_json from 1.0.47 to 1.0.48

commit 2fa2c3124f7bd4d48f03d91fd37f44e1f16d0c26
Merge: 41dc60743 ba6fec6c4
Author: Nikhil Benesch <nikhil.benesch@gmail.com>
Date:   Mon Feb 17 12:59:49 2020 -0500

    Merge pull request #2032 from MaterializeInc/dependabot/cargo/dogsdogsdogs-46e5491
    
    build(deps): bump dogsdogsdogs from `e50c9ce` to `46e5491`

commit ba6fec6c41d9fdc78490d4226d4e1df087743bb0
Author: dependabot-preview[bot] <27856297+dependabot-preview[bot]@users.noreply.github.com>
Date:   Mon Feb 17 10:45:08 2020 +0000

    build(deps): bump dogsdogsdogs from `e50c9ce` to `46e5491`
    
    Bumps [dogsdogsdogs](https://github.com/TimelyDataflow/differential-dataflow) from `e50c9ce` to `46e5491`.
    - [Release notes](https://github.com/TimelyDataflow/differential-dataflow/releases)
    - [Commits](https://github.com/TimelyDataflow/differential-dataflow/compare/e50c9ce938c9783d7a5eb7fdf25f047f2c6ed145...46e5491ae11e6caa76b09888f380065b0ff921b5)
    
    Signed-off-by: dependabot-preview[bot] <support@dependabot.com>

commit f71792701efb09608ee08ed46e19e7861a453da5
Author: dependabot-preview[bot] <27856297+dependabot-preview[bot]@users.noreply.github.com>
Date:   Mon Feb 17 10:43:59 2020 +0000

    build(deps): bump backtrace from 0.3.43 to 0.3.44
    
    Bumps [backtrace](https://github.com/rust-lang/backtrace-rs) from 0.3.43 to 0.3.44.
    - [Release notes](https://github.com/rust-lang/backtrace-rs/releases)
    - [Commits](https://github.com/rust-lang/backtrace-rs/compare/0.3.43...0.3.44)
    
    Signed-off-by: dependabot-preview[bot] <support@dependabot.com>

commit 00488f9aced05b06001fd9b7c92b8007d5a6becd
Author: dependabot-preview[bot] <27856297+dependabot-preview[bot]@users.noreply.github.com>
Date:   Mon Feb 17 10:43:03 2020 +0000

    build(deps): bump thiserror from 1.0.10 to 1.0.11
    
    Bumps [thiserror](https://github.com/dtolnay/thiserror) from 1.0.10 to 1.0.11.
    - [Release notes](https://github.com/dtolnay/thiserror/releases)
    - [Commits](https://github.com/dtolnay/thiserror/compare/1.0.10...1.0.11)
    
    Signed-off-by: dependabot-preview[bot] <support@dependabot.com>

commit e6a988b87515a5145769aea86f8757bc2139e277
Author: dependabot-preview[bot] <27856297+dependabot-preview[bot]@users.noreply.github.com>
Date:   Mon Feb 17 10:42:40 2020 +0000

    build(deps): bump serde_json from 1.0.47 to 1.0.48
    
    Bumps [serde_json](https://github.com/serde-rs/json) from 1.0.47 to 1.0.48.
    - [Release notes](https://github.com/serde-rs/json/releases)
    - [Commits](https://github.com/serde-rs/json/compare/v1.0.47...v1.0.48)
    
    Signed-off-by: dependabot-preview[bot] <support@dependabot.com>

commit 41dc6074383d8773114225981f4884615bcbca00
Merge: 471d73c9d d38fe2852
Author: Sean Loiselle <sean@materialize.io>
Date:   Sat Feb 15 12:47:26 2020 -0500

    Merge pull request #2025 from sploiselle/doc-site-css
    
    docs: css refinement

commit d38fe2852c6f03e7a02b67f4a2a5e5da1463f3a9
Author: Sean Loiselle <himself@seanloiselle.com>
Date:   Sat Feb 15 12:40:33 2020 -0500

    docs: css refinement

commit 471d73c9d3d5dbb967847fe38ff561985775e88c
Merge: 7182c2bad 2c5b5f065
Author: Nikhil Benesch <nikhil.benesch@gmail.com>
Date:   Fri Feb 14 17:08:17 2020 -0500

    Merge pull request #2023 from danhhz/patch-1
    
    README: fix typo

commit 2c5b5f0658fc0dc00df01a5ce98f612659684aea
Author: Daniel Harrison <daniel.harrison@gmail.com>
Date:   Fri Feb 14 13:49:10 2020 -0800

    README: fix typo

commit 7182c2bad950bb29e8cc4d8c910d9fe354c1536d
Merge: 2df98b5c5 1ae7c2b65
Author: Nikhil Benesch <nikhil.benesch@gmail.com>
Date:   Fri Feb 14 16:47:57 2020 -0500

    Merge pull request #2019 from benesch/type-docs
    
    doc,sql-parser: standardize type nomenclature

commit 30b0f049d8b4731bbbfd5cb96d36eb5b1d2321a5
Author: Ruchir Khaitan <ruchir0001@gmail.com>
Date:   Fri Feb 14 16:22:18 2020 -0500

    doc: Remove superfluous architecture doc from developer wiki
    
    In the future we will likely want some form of developer specific architecture doc
    to complement the API documentation. For now this doc was entirely superseded by the
    /doc/user/overview/architecture.md

commit f7c452b219493d1ed284003165dc9ddd34ba8fc2
Author: Ruchir Khaitan <ruchir0001@gmail.com>
Date:   Fri Feb 14 16:20:22 2020 -0500

    doc: remove getting-started from developer docs

commit 1ae7c2b65e72d958f7ba057adb4e3c50a4f1fd19
Author: Nikhil Benesch <nikhil.benesch@gmail.com>
Date:   Fri Feb 14 15:16:24 2020 -0500

    doc,sql-parser: standardize type nomenclature
    
    Do exactly what PostgreSQL does in its type nomenclature, which is to
    use the SQL standard types as the headline in docs, but with the aliases
    listed immediately afterwards.
    
    Fix #1986.

commit 2df98b5c5319cee58144914a66ff7fb33385d117
Merge: efc32f888 32c8ab0db
Author: Nikhil Benesch <nikhil.benesch@gmail.com>
Date:   Fri Feb 14 12:00:54 2020 -0500

    Merge pull request #2016 from benesch/rm-lfs
    
    www: remove git lfs files

commit efc32f888035575e7d60fae5d09d6ad7e079dc62
Merge: 642c6ff29 72f72360a
Author: Nikhil Benesch <nikhil.benesch@gmail.com>
Date:   Fri Feb 14 11:55:46 2020 -0500

    Merge pull request #2012 from benesch/simple-demo
    
    demo/simple: update for v0.1.0

commit 32c8ab0dbe791e71637b6541e43f81a36ce377b2
Author: Nikhil Benesch <nikhil.benesch@gmail.com>
Date:   Fri Feb 14 11:53:55 2020 -0500

    www: remove git lfs files
    
    The website is now managed elsewhere, so we no longer need to store any
    LFS files in this repository.

commit 72f72360afee0c46cf814ccb0a8bea0b72979ac3
Author: Nikhil Benesch <nikhil.benesch@gmail.com>
Date:   Fri Feb 14 01:05:32 2020 -0500

    demo/simple: update for v0.1.0
    
    Fix #2008.

commit 642c6ff294e8ce52b72d3c4ecf4009e777717917
Merge: 1a4821635 ae234a396
Author: Arjun Narayan <arjun@materialize.io>
Date:   Thu Feb 13 21:45:15 2020 -0500

    Merge pull request #2010 from rjnn/update_readme
    
    update README links

commit ae234a396709df2dc91a1f3325895f34b4d70d36
Author: Arjun Narayan <arjun@materialize.io>
Date:   Thu Feb 13 21:41:32 2020 -0500

    update README links

commit 1a48216359a7f3d1b1674df250e347ff4984ca47
Merge: bb62d4abf 8e9c5c2e5
Author: Ruchir Khaitan <ruchir0001@gmail.com>
Date:   Thu Feb 13 18:33:40 2020 -0500

    Merge pull request #2006 from ruchirK/rk-fix-readme
    
    demo: fix links in simple-demo README

commit 8e9c5c2e548f50d5369ef524ac0f44f70eff9017
Author: Ruchir Khaitan <ruchir0001@gmail.com>
Date:   Thu Feb 13 18:16:56 2020 -0500

    demo: fix links in simple-demo README

commit bb62d4abf68417cf9ac9a41ab6d191f9413cfedf
Merge: cf974cfff e11d97e19
Author: Ruchir Khaitan <ruchir0001@gmail.com>
Date:   Thu Feb 13 18:02:50 2020 -0500

    Merge pull request #1999 from ruchirK/rk-1799
    
    interchange: properly set defaults for nested protobuf arrays

commit cf974cffff8c65794a0a7932f54b7cb23806f964
Merge: efe82f437 d72d5ec38
Author: Nikhil Benesch <nikhil.benesch@gmail.com>
Date:   Thu Feb 13 17:08:03 2020 -0500

    Merge pull request #2004 from benesch/fix-ci-trigger
    
    ci/test: pass tag environment variable through deploy trigger

commit d72d5ec3804904a63c4b20a0ae7d56508a91dd66
Author: Nikhil Benesch <nikhil.benesch@gmail.com>
Date:   Thu Feb 13 16:54:19 2020 -0500

    ci/test: pass tag environment variable through deploy trigger

commit efe82f43786f215375473ca4b22ece4d3340e4c3
Merge: fe4060ac9 a554a44e0
Author: Andi Wang <5522362+wangandi@users.noreply.github.com>
Date:   Thu Feb 13 16:34:46 2020 -0500

    Merge pull request #1997 from wangandi/materializesource
    
    Enable materialized sources.

commit fe4060ac9698d3af252c005fc8ec7a93ef67876f
Merge: a5d314129 28b0f6cc2
Author: Nikhil Benesch <nikhil.benesch@gmail.com>
Date:   Thu Feb 13 16:33:08 2020 -0500

    Merge pull request #2003 from benesch/fix-fix-netlify-proxy
    
    Revert "www: fix netlify proxy config"

commit 28b0f6cc2e2501466c5583f38d7734a910696f42
Author: Nikhil Benesch <nikhil.benesch@gmail.com>
Date:   Thu Feb 13 16:31:14 2020 -0500

    Revert "www: fix netlify proxy config"
    
    This reverts commit 6baa7d8cae191518a14cb14792c00b8217ae2896.

commit a5d314129fb4fa84172df266c6b43948ae486f04
Merge: 0020c2827 6baa7d8ca
Author: Nikhil Benesch <nikhil.benesch@gmail.com>
Date:   Thu Feb 13 16:20:39 2020 -0500

    Merge pull request #2002 from benesch/fix-netlify-proxy
    
    www: fix netlify proxy config

commit 6baa7d8cae191518a14cb14792c00b8217ae2896
Author: Nikhil Benesch <nikhil.benesch@gmail.com>
Date:   Thu Feb 13 16:06:34 2020 -0500

    www: fix netlify proxy config

commit a554a44e02e5bb805f5dafbef0d7df38e15c1210
Author: Andi Wang <andi@materialize.io>
Date:   Thu Feb 13 14:29:26 2020 -0500

    Enable materialized sources.

commit 0020c2827502d8a44f34551d0754c1b030f595d4
Merge: 6238d8187 3375e9460
Author: Sean Loiselle <sean@materialize.io>
Date:   Thu Feb 13 15:55:48 2020 -0500

    Merge pull request #1992 from sploiselle/website-sync
    
    Website sync

commit 6238d81871f8ed2750f1db2fcd6bf06237248b41
Author: Jessica Laughlin <JLDLaughlin@users.noreply.github.com>
Date:   Thu Feb 13 15:53:21 2020 -0500

    Add unimplemented Kinesis sources (#2001)

commit e0253c5000adb3e707c85e4366f22bbdef499f13
Merge: dee85c0eb bf90a46ba
Author: Nikhil Benesch <nikhil.benesch@gmail.com>
Date:   Thu Feb 13 15:47:10 2020 -0500

    Merge pull request #1732 from benesch/www-preview
    
    [do-not-merge] netlify: proxy non-docs to new website

commit dee85c0eb2b651854617067e45024aa3ee9246d5
Author: Frank McSherry <fmcsherry@me.com>
Date:   Thu Feb 13 15:41:27 2020 -0500

    make introductory text more explicit (#1994)
    
    This makes the introductory text more explicit about what Materialize does, and how it could be used. @ruchirK worries that it might be too technical, but I think we at least want to capture the specific statements about what you should expect (answers to questions over all of your data, updated).

commit b3857cfd55863c2e8ce4339a46e67dd9115150b4
Merge: 446056f84 c29499e9d
Author: Brandon W Maister <bwm@materialize.io>
Date:   Thu Feb 13 15:27:43 2020 -0500

    Merge pull request #1947 from quodlibetor/docs-bi-demo-intra-links
    
    docs: Add same-page-non-heading intra-doc links

commit 3375e9460420217777c2d1691536e640bc260dc8
Author: sploiselle <sean@materialize.io>
Date:   Wed Feb 12 16:04:46 2020 -0500

    docs: synchronize with website

commit e11d97e19e03f763d6265a8d071c17e16637cec9
Author: Ruchir Khaitan <ruchir0001@gmail.com>
Date:   Thu Feb 13 15:15:39 2020 -0500

    interchange: properly set defaults for nested protobuf arrays
    
    Fixes #1799

commit bfc6bec01669ab44eea664071f77711130c06f78
Author: Nikhil Benesch <nikhil.benesch@gmail.com>
Date:   Wed Feb 12 16:26:43 2020 -0500

    catalog: use structured errors

commit 446056f848770027895678ebbbf29a5e26a0f6a9
Merge: d10f110e8 8cb56bb10
Author: Nikhil Benesch <nikhil.benesch@gmail.com>
Date:   Thu Feb 13 15:04:53 2020 -0500

    Merge pull request #1998 from benesch/build-raw-materialized
    
    ci/test: build raw materialized on tags, too

commit 8cb56bb108c2d89b31b3d7ce5af9d0c64fc8b603
Author: Nikhil Benesch <nikhil.benesch@gmail.com>
Date:   Thu Feb 13 15:04:00 2020 -0500

    ci/test: build raw materialized on tags, too

commit d10f110e8b721773b05c0bdcd0cca2e04bf76c28
Merge: 87784e0a3 74cfe0bba
Author: Nikhil Benesch <nikhil.benesch@gmail.com>
Date:   Thu Feb 13 14:57:59 2020 -0500

    Merge pull request #1996 from benesch/fix-deploy
    
    deploy: fix build conditional

commit 74cfe0bba832bb20a0a371ea8dbe138626c1ab23
Author: Nikhil Benesch <nikhil.benesch@gmail.com>
Date:   Thu Feb 13 14:55:48 2020 -0500

    deploy: fix build conditional
    
    This conditional was backwards.

commit 87784e0a37f812cb61490c780ebe4871cf4da3b8
Merge: 481dcb237 8df89bcac
Author: Nikhil Benesch <nikhil.benesch@gmail.com>
Date:   Thu Feb 13 14:32:25 2020 -0500

    Merge pull request #1993 from quodlibetor/ci-build-tags
    
    Build different artifacts on tags

commit 481dcb2370d44eab292a36e44ccb4b483c71a77b
Author: Brandon W Maister <bwm@materialize.io>
Date:   Thu Feb 13 14:28:47 2020 -0500

    Use the metabase docker images that come bundled with the mz driver (#1995)
    
    Since MaterializeInc/metabase-materialize-driver#10 we can do this.

commit 8df89bcac94da877b3bbea24391e0997f5e2b9d2
Author: Brandon W Maister <bwm@materialize.io>
Date:   Thu Feb 13 13:57:46 2020 -0500

    Build different artifacts on tags

commit 0529859c11b6202b7e6fa92efcbdab4fff772c83
Merge: b4290ef19 9d233ade6
Author: Ruchir Khaitan <ruchir0001@gmail.com>
Date:   Wed Feb 12 22:08:40 2020 -0500

    Merge pull request #1978 from ruchirK/rk-1893
    
    interchange: add benchmark for proto parsing

commit b4290ef196deaea57af3c910a5d53303e6c977e2
Merge: b0528d924 7b9faf73e
Author: Andi Wang <5522362+wangandi@users.noreply.github.com>
Date:   Wed Feb 12 17:30:19 2020 -0500

    Merge pull request #1954 from wangandi/duplicateindex
    
    Allow duplicate indices.

commit 7b9faf73e2ce6a837ed266b42e65ccf44d6d61de
Author: Andi Wang <andi@materialize.io>
Date:   Tue Feb 11 16:00:28 2020 -0500

    Allow duplicate indices.

commit b0528d924f779be2cce6b54d563796109d0809c7
Author: Brandon W Maister <bwm@materialize.io>
Date:   Wed Feb 12 16:26:47 2020 -0500

    dc.sh: make dc_stop work if the command is not running (#1983)

commit 0629aa6540c46937b82df561dfb2eebfb7dc5700
Merge: dbb5034ab 2408dbc1f
Author: Brandon W Maister <bwm@materialize.io>
Date:   Wed Feb 12 15:50:49 2020 -0500

    Merge pull request #1977 from quodlibetor/dcsh-fix-docker-run-cmds
    
    dc.sh: correctly handle `logs` and `stop` for `run` commands

commit 9d233ade689eec6a6120fdb490a9d0b05e5c896a
Author: Ruchir Khaitan <ruchir0001@gmail.com>
Date:   Wed Feb 12 15:38:35 2020 -0500

    interchange: add benchmark for proto parsing
    
    Fixes #1893

commit 2408dbc1f04038ee36ac853a2461533f4d8546c8
Author: Brandon W Maister <bwm@materialize.io>
Date:   Mon Feb 10 11:33:05 2020 -0500

    dc.sh: correctly handle `logs` and `stop` for `run` commands
    
    Docker-compose just doesn't know how to deal with things that were started by way of
    `docker-compose run -d`, I suppose?
    
    Checking if service names matche a run-like pattern seems to be the only way to switch on
    whether we can go through docker-compose vs docker.
    
    This feels fragile, but I can't find anything better to do. This gets us the logs from
    chbenchmark/peeker, and makes `dc.sh stop [chbench|peeker]` work.

commit dbb5034abd2f664ff027263be54ac443db4d7cdb
Merge: d2af476b2 23359854c
Author: Nikhil Benesch <nikhil.benesch@gmail.com>
Date:   Wed Feb 12 15:12:40 2020 -0500

    Merge pull request #1975 from benesch/macos-tail-test
    
    materialized: fix test for tailing file sources on macOS

commit d2af476b216009966a469d63e286616fcd0d5c8d
Merge: aecdd9a6a 0d98f7a51
Author: Nikhil Benesch <nikhil.benesch@gmail.com>
Date:   Wed Feb 12 14:58:18 2020 -0500

    Merge pull request #1972 from benesch/fix-ci-image-2
    
    xcompile: don't install libssl-dev

commit 23359854c75d31962b5f1db0666e9ef6198ac9ec
Author: Nikhil Benesch <nikhil.benesch@gmail.com>
Date:   Wed Feb 12 14:55:45 2020 -0500

    materialized: fix test for tailing file sources on macOS
    
    Adjust the file source tailing test so that it fails without #1971 and
    succeeds with #1971. The basic idea is to keep the file open while
    appending to it, as this is the more common case for a changing file and
    a case which was not detected without #1971.

commit aecdd9a6a5254fc6604de260936152c15af2b9ea
Author: Brennan Vincent <brennan@materialize.io>
Date:   Wed Feb 12 14:50:52 2020 -0500

    re-enable macOS-specific file tailing code (#1971)

commit 0d98f7a51c3d74453f451fd58488c8a55405ea01
Author: Nikhil Benesch <nikhil.benesch@gmail.com>
Date:   Wed Feb 12 14:24:04 2020 -0500

    xcompile: don't install libssl-dev
    
    We use the version of openssl bundled with the openssl-sys crate now, so
    bin/xcompile no longer needs to install libssl-dev so that it can be
    statically linked. Doing so actually causes problems, because librdkafka
    picks up the headers from an old version of libssl while linking against
    a new version of openssl.
    
    There is a deeper problem here, which is that librdkafka and Cargo can
    disagree about which version of a dependency to link, but not much we
    can do about that. From rdkafka-sys's known issues:
    
    > When any of librdkafka's optional dependencies are enabled, like libz or
    > OpenSSL, if you have multiple versions of that library installed upon your
    > system, librdkafka's build system may disagree with Cargo about which version
    > of the library to use! This can result in subtly broken builds, if librdkafka
    > compiles against the headers for one version but Cargo links against a
    > different version. For complete confidence when building release binaries, use
    > an environment like a Docker container or a chroot jail where you can
    > guarantee that only one version of each dependency is present. Unfortunately,
    > the current design of Cargo makes this nearly impossible to fix.

commit 1d63459e3656599f15339ab81ce1a8bdb0f8ae7e
Merge: 53774c2c0 d3986a6d3
Author: Sean Loiselle <sean@materialize.io>
Date:   Wed Feb 12 13:44:48 2020 -0500

    Merge pull request #1861 from sploiselle/microservice-demo
    
    WIP docs: add microservice demo

commit d3986a6d38e4713fe491258be12fa183b8b49248
Author: sploiselle <sean@materialize.io>
Date:   Mon Feb 3 15:38:56 2020 -0500

    docs: add microservice demo

commit 53774c2c0d89778f40d73502787cee2b2cafb1f5
Author: Brennan Vincent <brennan@materialize.io>
Date:   Wed Feb 12 13:31:26 2020 -0500

    Make "file source: unable to open" error message contain path (#1966)

commit 2e7556c0a5310020a7aab129f5720a1505c3b74d
Author: Brennan Vincent <brennan@materialize.io>
Date:   Wed Feb 12 12:58:42 2020 -0500

    Get rid of synchronous URL lookups from coordinator when building Kafka sinks/sources (#1961)

commit 414b91c20da8559676c277bec3ce4c0f0a73ae23
Merge: 9a1fb9145 d820f058c
Author: Ruchir Khaitan <ruchir0001@gmail.com>
Date:   Wed Feb 12 12:47:51 2020 -0500

    Merge pull request #1964 from ruchirK/rk-1774
    
    interchange: fix protobuf message name requirements

commit 9a1fb914581a8a77b47b5de8355a0781051ba08b
Merge: 786c855fd a974f3a6a
Author: Nikhil Benesch <nikhil.benesch@gmail.com>
Date:   Wed Feb 12 11:57:06 2020 -0500

    Merge pull request #1949 from benesch/test-catalog-persistence
    
    testdrive: validate on-disk catalog against in-memory state

commit a974f3a6afe74ed593989fa93f0571cc70bb303d
Author: Nikhil Benesch <nikhil.benesch@gmail.com>
Date:   Tue Feb 11 13:52:58 2020 -0500

    testdrive: validate on-disk catalog against in-memory state
    
    Add an option that will cause testdrive to validate the on-disk state of
    the catalog against the in-memory state of the catalog after every
    CREATE or DROP statement.
    
    This greatly improves the test coverage of the new catalog persistence
    format.

commit dd16a74260474b01e489d225200cd3a3737ccc3d
Author: Nikhil Benesch <nikhil.benesch@gmail.com>
Date:   Tue Feb 11 13:51:33 2020 -0500

    catalog: expose serialized in-memory state via http API
    
    This will allow testdrive (or other test programs) to make assertions
    about the in-memory state relative to the on-disk state.

commit 786c855fdb698fc225c752c74f14c45cb1380b75
Merge: a27c332b9 da9ef75f9
Author: Sean Loiselle <sean@materialize.io>
Date:   Wed Feb 12 11:34:09 2020 -0500

    Merge pull request #1953 from sploiselle/create-sources-v2
    
    docs: update CREATE SOURCE for beta release behavior

commit a27c332b97cc290a99e7146d7583c47e40a9a1e7
Merge: 0f47de3c2 e49a33e68
Author: Nikhil Benesch <nikhil.benesch@gmail.com>
Date:   Wed Feb 12 11:29:03 2020 -0500

    Merge pull request #1963 from benesch/drop-system-error
    
    sql: improve error message when dropping a system item

commit d820f058c5f683198f06e49bd325072666be2424
Author: Ruchir Khaitan <ruchir0001@gmail.com>
Date:   Wed Feb 12 11:11:45 2020 -0500

    interchange: fix protobuf message name requirements
    
    Fixes #1774

commit e49a33e6816d7fb54ceb4e29738c81a1752ea1c2
Author: Nikhil Benesch <nikhil.benesch@gmail.com>
Date:   Wed Feb 12 11:05:43 2020 -0500

    sql: improve error message when dropping a system item
    
    Fix #1960.

commit 4d8788efe755212a45fdd56fddeae3473abfe944
Author: Nikhil Benesch <nikhil.benesch@gmail.com>
Date:   Tue Feb 11 13:49:14 2020 -0500

    materialized: clean up http server
    
    Async/await allows us to clean this code up a good deal.

commit 6b1d2c338b381328b647ad9405b0b4b1d60dffdf
Author: Nikhil Benesch <nikhil.benesch@gmail.com>
Date:   Tue Feb 11 13:41:51 2020 -0500

    materialized: remove start_time config param
    
    This is always expected to be set to the time the server was started, so
    it shouldn't be a configuration parameter.

commit 0f47de3c236b9169037d1b796b1511868d3de545
Author: Brennan Vincent <brennan@materialize.io>
Date:   Wed Feb 12 10:36:21 2020 -0500

    Extract most of the non-deterministic/asynchronous parts from CreateSource planning (#1957)
    
    Extract most of the non-deterministic/asynchronous parts from CreateSource planning

commit aeb663571d49631461d532d829252d635a4e0703
Merge: 56dd14bba 247cbc1e4
Author: Sean Loiselle <sean@materialize.io>
Date:   Wed Feb 12 10:33:19 2020 -0500

    Merge pull request #1959 from sploiselle/md-fix
    
    docs: fix broken markdown

commit 247cbc1e43e5f1b89afe48f85a8d15a964177497
Author: sploiselle <sean@materialize.io>
Date:   Wed Feb 12 10:31:55 2020 -0500

    docs: fix broken markdown

commit da9ef75f902a132c8b729a805beb5ae01df11dd2
Author: sploiselle <sean@materialize.io>
Date:   Thu Feb 6 14:26:57 2020 -0500

    docs: update CREATE SOURCE for beta release behavior

commit 56dd14bbaa3e695d6bcb0412652dfc08306e4e1c
Merge: 95caff0fd daad34476
Author: Nikhil Benesch <nikhil.benesch@gmail.com>
Date:   Wed Feb 12 00:51:25 2020 -0500

    Merge pull request #1958 from benesch/share-sqlite
    
    catalog,coord: share sqlite connection

commit daad3447658163d8238296f1f09c0ece0aab8f6c
Author: Nikhil Benesch <nikhil.benesch@gmail.com>
Date:   Tue Feb 11 18:28:18 2020 -0500

    catalog,coord: share sqlite connection
    
    Opening two SQLite connections leads to conflicts between the main
    coordinator thread and the timestamper thread. According to the SQLite
    documentation, the correct way to handle this is by sharing one
    connection via a mutex across the two threads.
    
    This should fix the "database is locked" error we're seeing with v0.1.

commit 95caff0fd8d2218cf71453ba1aadbb401c0b2147
Merge: b58743c3f 1185bb7e1
Author: Ruchir Khaitan <ruchir0001@gmail.com>
Date:   Tue Feb 11 21:21:02 2020 -0500

    Merge pull request #1922 from ruchirK/rk-1785
    
    Add an optional with arg for ssl certificate file for encrypted kafka connections

commit b58743c3fdf8d871ca82658bd7222809962bf749
Author: Cuong Do <cuongdo@users.noreply.github.com>
Date:   Tue Feb 11 16:35:38 2020 -0500

    Fix ssh-keysync to avoid locking users out of VMs (#1945)
    
    * Sometimes GitHub's API rate-limits us. This was causing
      `~/.ssh/auto_authorized_keys` to be truncated. Now we only overwrite
      it when the API call succeeds.
    * Update AMI to include the updated `ssh-keysync`
    
    Fixes #1876

commit 2ac0badd9cd4da1c530bdfd674c906059a87f72b
Merge: a50310321 d2b234d57
Author: Arjun Narayan <arjun@materialize.io>
Date:   Tue Feb 11 16:17:54 2020 -0500

    Merge pull request #1942 from rjnn/contributing
    
    Add CONTRIBUTING.md

commit d2b234d57f089acd39cc19cc604b87f3a74824e1
Author: Arjun Narayan <arjun@materialize.io>
Date:   Tue Feb 11 11:30:25 2020 -0500

    Add CONTRIBUTING.md

commit a503103212b7cfdffb3a4e815e7b515b2e5d885e
Merge: 5b546cc2f 8c7507adc
Author: Frank McSherry <fmcsherry@me.com>
Date:   Tue Feb 11 16:15:29 2020 -0500

    Merge pull request #1940 from frankmcsherry/splash_screen
    
    materialized: add a splash screen on startup

commit 5b546cc2f9cb374e3c63ece44e8af144895f0b1e
Merge: a4280c8ca f08503318
Author: Arjun Narayan <arjun@materialize.io>
Date:   Tue Feb 11 15:53:18 2020 -0500

    Merge pull request #1938 from MaterializeInc/update-readme
    
    Nits on README.md

commit 1185bb7e17d5899ae8c1f37279bf6a8aaba14803
Author: Ruchir Khaitan <ruchir0001@gmail.com>
Date:   Tue Feb 11 10:41:45 2020 -0500

    interchange: remove spurious println

commit 86b3ade065e5ebe0babdc588a0fed9e2736536d3
Author: Ruchir Khaitan <ruchir0001@gmail.com>
Date:   Mon Feb 10 10:34:25 2020 -0500

    dataflow,sql,coord: Support connecting to SSL encrypted brokers
    
    This commits adds support for an optional with arg "ssl_certificate_file" that
    takes a path to a CA certificate used to validate a broker and perform SSL bulk encryption.
    
    Fixes #1785

commit c29499e9d94dc435d403fcc575f1a1c03faf2841
Author: Brandon W Maister <bwm@materialize.io>
Date:   Tue Feb 11 14:22:52 2020 -0500

    docs: fix whitespace in bi-demo

commit 8359f2d1b7a4181cf61995e635f75fa0bb425c6e
Author: Brandon W Maister <bwm@materialize.io>
Date:   Tue Feb 11 14:18:07 2020 -0500

    docs: Add same-page intra-doc links for business intelligence demo
    
    This makes it a bit easier to copy/paste things if you're skipping around, or have
    restarted materialized. Perhaps #1946 would be a better way of doing this long-term.
    
    It also provides a different flow/rationale for the commented-out query, because it
    confused me.

commit a4280c8ca16253da193035cb6a2bb01f87c1fd16
Merge: f5e6f0172 28c326c34
Author: Brandon W Maister <bwm@materialize.io>
Date:   Tue Feb 11 14:24:39 2020 -0500

    Merge pull request #1944 from quodlibetor/docs-bi-demo
    
    docs: Update BI demo for materialize metabase driver

commit 8c7507adc1f0b06a8f54fd338add2c06e140d708
Author: Frank McSherry <fmcsherry@me.com>
Date:   Tue Feb 11 13:59:05 2020 -0500

    correct email address

commit 28c326c348c22faa5c094df2c44df2542526f696
Author: Brandon W Maister <bwm@materialize.io>
Date:   Tue Feb 11 13:41:09 2020 -0500

    docs: Update billing demo for materialize metabase driver
    
    And a couple other small changes for some output skew from when the docs were written.

commit 49213bb346993617ea96bd92268dd88fc4a7a025
Author: Frank McSherry <fmcsherry@me.com>
Date:   Tue Feb 11 11:52:52 2020 -0500

    address comments

commit f5e6f01728c944980d0e5b6534465184a79e826a
Merge: 1ab5f7909 475f813a9
Author: Brandon W Maister <bwm@materialize.io>
Date:   Tue Feb 11 11:29:41 2020 -0500

    Merge pull request #1941 from quodlibetor/fix-copyright-skew
    
    fix copyright header merge skew

commit 475f813a98d3c1f6fffa0927ef8138472ccf337f
Author: Brandon W Maister <bwm@materialize.io>
Date:   Tue Feb 11 11:27:42 2020 -0500

    fix copyright header merge skew

commit 1ab5f7909fcf9459eb2a6d73ccb35eb30efbde30
Merge: 5bee7f336 c58221be8
Author: Brandon W Maister <bwm@materialize.io>
Date:   Tue Feb 11 11:03:59 2020 -0500

    Merge pull request #1879 from quodlibetor/http-demo-build-script
    
    demos: Add a build script to http-logs demo

commit cef2452becb8803e12bf5f6dc4f683f3d425484d
Author: Frank McSherry <fmcsherry@me.com>
Date:   Tue Feb 11 10:58:28 2020 -0500

    first draft

commit f08503318fb0b1c5c879a3ec637420065221f143
Author: Arjun Narayan <arjun@materialize.io>
Date:   Tue Feb 11 10:17:10 2020 -0500

    Nits on README.md

commit 5bee7f3366241182a31cb8bb725f86183c0edb97
Author: Cuong Do <cuongdo@users.noreply.github.com>
Date:   Tue Feb 11 06:10:58 2020 -0500

    BI docs fixes (#1936)
    
    * Remove `CREATE SOURCES`, which no longer exists
    * Rename `q01` to `query01`, because the Docker setup already creates
      `q01`
    * Rename `q07` to `query07` to be consistent with the previous item
    * Correct database name for Metabase

commit 638d3eee437b80c8827e63be7f7ca50400715e6e
Merge: 5348ec711 cdc663b81
Author: Brandon W Maister <bwm@materialize.io>
Date:   Mon Feb 10 17:22:40 2020 -0500

    Merge pull request #1935 from quodlibetor/chbench-fix-local-docker-tag
    
    chbench: we don't want to default to `local`

commit cdc663b8181ce7e77ad7aac2bd75a4078c7e4c93
Author: Brandon W Maister <bwm@materialize.io>
Date:   Mon Feb 10 17:20:14 2020 -0500

    chbench: we don't want to default to `local`

commit 5348ec711983d9ab2a2df31ce14e93d52311fd49
Author: Brennan Vincent <brennan@materialize.io>
Date:   Mon Feb 10 17:16:50 2020 -0500

    Fix missing semicolon in `http_logs` setup script (#1934)

commit 9b2ed38301525af681f34ca449121b4e6b842ad0
Merge: b9e237f0b a75c3246d
Author: Brandon W Maister <bwm@materialize.io>
Date:   Mon Feb 10 16:33:36 2020 -0500

    Merge pull request #1930 from quodlibetor/u-no-limit-tests
    
    ci: Add ulimits to test compose files to allow more open fds

commit b9e237f0b89acc1eec241080c78426b52af89e44
Author: Brennan Vincent <brennan@materialize.io>
Date:   Mon Feb 10 16:11:21 2020 -0500

    Upload master builds as `materialized-unstable` package (#1929)
    
    The `materialized` package in our APT repo should only contain released builds. For now, the release manager can upload those manually as part of the release process. The tip of master (after automated tests pass) will go into its own package, called `materialized-unstable`.

commit a75c3246d8a8a8996bdc5c392767145fdd159642
Author: Brandon W Maister <bwm@materialize.io>
Date:   Mon Feb 10 15:04:10 2020 -0500

    ci: Add ulimits to test compose files to allow more open fds
    
    Related to #1919

commit e2320f8effee37098236666479ee96b6c1e89076
Merge: 3b51aaee1 338350596
Author: Nikhil Benesch <nikhil.benesch@gmail.com>
Date:   Mon Feb 10 15:43:44 2020 -0500

    Merge pull request #1928 from benesch/persist-id-allocs
    
    catalog: persist all ID allocations

commit 3b51aaee1f9796ea5fd9670ff7124d3d29599164
Merge: 90299eead 770807ae5
Author: nacrooks <nacrooks@gmail.com>
Date:   Mon Feb 10 15:41:38 2020 -0500

    Merge pull request #1926 from nacrooks/errorfix
    
    Adding hint for fd error

commit 770807ae544866ba10e065b46844743f2988652c
Author: Natacha Crooks <natachacrooks@Natachas-MacBook-Pro.local>
Date:   Mon Feb 10 15:15:53 2020 -0500

    Move from crash error to error message
    
    Adding sleep time when encounter sql lite error

commit 83bb53566578a8a1f3610b37a98ee01ec46d0e00
Author: Natacha Crooks <natachacrooks@Natachas-MacBook-Pro.local>
Date:   Mon Feb 10 13:42:05 2020 -0500

    Adding hint for fd error
    
    Linting

commit 3383505964f3426acb9209b276fe2e929f56d917
Author: Nikhil Benesch <nikhil.benesch@gmail.com>
Date:   Mon Feb 10 15:01:37 2020 -0500

    catalog: persist all ID allocations
    
    Global IDs could previously get reused after a crash, because upon
    reboot the ID allocator was reset to one greater than the maximum ID
    present in the catalog. This was once safe, because any state that
    referred to those reused IDs would have evaporated during the crash, but
    causes trouble for the timestamp persistence code, which might persist
    messages referring to those recycled IDs.
    
    Instead, have every ID allocation durably record the new state of the ID
    allocator, so that we can guarantee IDs are not reused even after a
    reboot. This has potential performance implications, as there is now an
    fsync on the path for slow-path peeks (not fast-path peeks, though!),
    but there are bigger fish to fry with slow-path peeks anyway.

commit 90299eeadcb4edbbfc83139d9cfc210ec7a24b3f
Merge: a8d58ad8a 3783100d8
Author: Ruchir Khaitan <ruchir0001@gmail.com>
Date:   Mon Feb 10 14:26:40 2020 -0500

    Merge pull request #1925 from ruchirK/rk-1903
    
    Make some errors around CREATE ... friendlier

commit a8d58ad8a22c0468e2134b7ce39ed1e53ac20d17
Merge: fbb0cf7e7 cad2571d0
Author: Nikhil Benesch <nikhil.benesch@gmail.com>
Date:   Mon Feb 10 14:13:33 2020 -0500

    Merge pull request #1927 from benesch/update-lic
    
    *: update license headers for release

commit fbb0cf7e71e6397851369d3b918e7d89a80066b1
Merge: 707fd89b2 c2bb92126
Author: Nikhil Benesch <nikhil.benesch@gmail.com>
Date:   Mon Feb 10 14:04:16 2020 -0500

    Merge pull request #1920 from benesch/catalog-table
    
    catalog,coord: add timestamps table during bootstrap

commit cad2571d0ef19f46ccb58405a4dbe6ce0b00df60
Author: Nikhil Benesch <nikhil.benesch@gmail.com>
Date:   Mon Feb 10 13:43:28 2020 -0500

    *: remove copyright year from license header
    
    There is precedent for this (see Facebook open source projects, for
    example), and it saves us from updating the license headers every year.

commit 3ae639a881592c18af2e2bcbabf670a03f777dc0
Author: Nikhil Benesch <nikhil.benesch@gmail.com>
Date:   Mon Feb 10 13:38:16 2020 -0500

    *: update license headers for BSL
    
    Fix #1902.

commit 707fd89b2cc7e0e5e85a4528f373bcc3c67cb542
Merge: 944a57283 da16edcd6
Author: nacrooks <nacrooks@gmail.com>
Date:   Mon Feb 10 13:23:45 2020 -0500

    Merge pull request #1907 from nacrooks/raceconditionfix
    
    Drop/Create Index Timestamping Race condition

commit c2bb9212684df0a736dc3da450872e396f410553
Author: Nikhil Benesch <nikhil.benesch@gmail.com>
Date:   Mon Feb 10 11:00:07 2020 -0500

    coord: rename timestamp table to timestamps
    
    The convention for table names in the catalog is plural. (A future
    commit, post 0.1, will move this table into the catalog proper.)

commit 3783100d8c7c4b8de70e76002de16045d1f51c8d
Author: Ruchir Khaitan <ruchir0001@gmail.com>
Date:   Mon Feb 10 13:14:57 2020 -0500

    Make errors around CREATE SOURCE friendlier

commit 9631f4542e7212e31f4645bbcebc5af2bec76ab5
Author: Ruchir Khaitan <ruchir0001@gmail.com>
Date:   Mon Feb 10 11:52:01 2020 -0500

    sql[-parser]: Make error messages around CREATE a bit nicer

commit 944a57283fc263a9473f9ed5fdfe0f2fe6618bf1
Merge: fe9806ea5 134acf3bf
Author: Nikhil Benesch <nikhil.benesch@gmail.com>
Date:   Mon Feb 10 11:32:46 2020 -0500

    Merge pull request #1912 from MaterializeInc/dependabot/cargo/indexmap-1.3.2
    
    build(deps): bump indexmap from 1.3.1 to 1.3.2

commit fe9806ea5932b4af77b5d3e55df0f7c7d76e2845
Merge: 64b1f6d32 c59ae0899
Author: nacrooks <nacrooks@gmail.com>
Date:   Mon Feb 10 11:09:21 2020 -0500

    Merge pull request #1921 from MaterializeInc/nacrooks-demo-1
    
    Reflect mandatory use of envelope type

commit c59ae0899e45d5b7734d32bfa5f71e670f7763e2
Author: nacrooks <nacrooks@gmail.com>
Date:   Mon Feb 10 11:04:03 2020 -0500

    Reflect mandatory use of envelope type

commit da16edcd6c40d50036cb6700b0e0daa53d9f3f83
Author: Natacha Crooks <natachacrooks@Natachas-MacBook-Pro.local>
Date:   Mon Feb 10 10:53:11 2020 -0500

    Use of source id post discussion with Andi

commit 64b1f6d327043f61acb26361cb7946ffbb21f9a8
Merge: 3e0a70a45 3e52add81
Author: Brandon W Maister <bwm@materialize.io>
Date:   Mon Feb 10 10:49:16 2020 -0500

    Merge pull request #1918 from quodlibetor/ulimit-chbench
    
    chbench-demo: Increase open files ulimit in chbench demo

commit 3e0a70a453a20001947aae36ba68c6506cd4bc89
Merge: fd53a6778 f3ce8a260
Author: Nikhil Benesch <nikhil.benesch@gmail.com>
Date:   Mon Feb 10 10:49:05 2020 -0500

    Merge pull request #1910 from MaterializeInc/dependabot/cargo/aho-corasick-0.7.8
    
    build(deps): bump aho-corasick from 0.7.7 to 0.7.8

commit 134acf3bf05843817bcf356bb8a869e79a27414d
Author: dependabot-preview[bot] <27856297+dependabot-preview[bot]@users.noreply.github.com>
Date:   Mon Feb 10 15:48:58 2020 +0000

    build(deps): bump indexmap from 1.3.1 to 1.3.2
    
    Bumps [indexmap](https://github.com/bluss/indexmap) from 1.3.1 to 1.3.2.
    - [Release notes](https://github.com/bluss/indexmap/releases)
    - [Commits](https://github.com/bluss/indexmap/compare/1.3.1...1.3.2)
    
    Signed-off-by: dependabot-preview[bot] <support@dependabot.com>

commit fd53a67785ac3455480f072b23c780da9c0f623f
Merge: 9aff8441d a4fad9ed6
Author: Nikhil Benesch <nikhil.benesch@gmail.com>
Date:   Mon Feb 10 10:47:06 2020 -0500

    Merge pull request #1917 from MaterializeInc/dependabot/cargo/serde_json-1.0.47
    
    build(deps): bump serde_json from 1.0.45 to 1.0.47

commit 9aff8441d3514b83943fae51121740d4d256fc80
Merge: 338525818 0a5842a22
Author: Nikhil Benesch <nikhil.benesch@gmail.com>
Date:   Mon Feb 10 10:43:29 2020 -0500

    Merge pull request #1916 from MaterializeInc/dependabot/cargo/byteorder-1.3.4
    
    build(deps): bump byteorder from 1.3.2 to 1.3.4

commit 3e52add81f759ce5cf11de08ac70a836fd12d7f9
Author: Brandon W Maister <bwm@materialize.io>
Date:   Mon Feb 10 10:36:38 2020 -0500

    chbench-demo: Increase open files ulimit in chbench demo
    
    We occasionally create a few thousand open sockets because of thread:thread and mz:kafka
    communication, which causes many problems when docker stops us from opening new ones.
    
    This seems to fix the "database is locked" problem for our catalog in chbench.

commit 3385258187eb33702fd85ac886414aba63478546
Merge: e3c102930 4715fa579
Author: Nikhil Benesch <nikhil.benesch@gmail.com>
Date:   Mon Feb 10 10:37:29 2020 -0500

    Merge pull request #1913 from MaterializeInc/dependabot/cargo/futures-0.3.4
    
    build(deps): bump futures from 0.3.1 to 0.3.4

commit e3c10293066410b5390e2d44015bc39fb87867c4
Merge: 32b58789b e8c78dbdd
Author: Nikhil Benesch <nikhil.benesch@gmail.com>
Date:   Mon Feb 10 10:30:51 2020 -0500

    Merge pull request #1911 from MaterializeInc/dependabot/cargo/dogsdogsdogs-e50c9ce
    
    build(deps): bump dogsdogsdogs from `2f7e24f` to `e50c9ce`

commit 4715fa579e459ccfeca8e7804644503458b530b9
Author: dependabot-preview[bot] <27856297+dependabot-preview[bot]@users.noreply.github.com>
Date:   Mon Feb 10 15:08:33 2020 +0000

    build(deps): bump futures from 0.3.1 to 0.3.4
    
    Bumps [futures](https://github.com/rust-lang/futures-rs) from 0.3.1 to 0.3.4.
    - [Release notes](https://github.com/rust-lang/futures-rs/releases)
    - [Changelog](https://github.com/rust-lang/futures-rs/blob/master/CHANGELOG.md)
    - [Commits](https://github.com/rust-lang/futures-rs/compare/0.3.1...0.3.4)
    
    Signed-off-by: dependabot-preview[bot] <support@dependabot.com>

commit 32b58789bf587c0f4a1434d13863a5e85a80b587
Merge: 427cc905b 438c888a7
Author: Nikhil Benesch <nikhil.benesch@gmail.com>
Date:   Mon Feb 10 10:06:30 2020 -0500

    Merge pull request #1908 from MaterializeInc/dependabot/cargo/hex-0.4.1
    
    build(deps): bump hex from 0.4.0 to 0.4.1

commit 427cc905ba77878c7e09a09a8eb5b7ceb5ad37d1
Merge: 0ccff81ad df13eb5d1
Author: Nikhil Benesch <nikhil.benesch@gmail.com>
Date:   Mon Feb 10 10:02:47 2020 -0500

    Merge pull request #1904 from benesch/fix-1900
    
    coord: properly persist auto-created primary keys on ambiguous columns

commit a4fad9ed6629cd84b752259d99c6ed40714b7568
Author: dependabot-preview[bot] <27856297+dependabot-preview[bot]@users.noreply.github.com>
Date:   Mon Feb 10 10:44:38 2020 +0000

    build(deps): bump serde_json from 1.0.45 to 1.0.47
    
    Bumps [serde_json](https://github.com/serde-rs/json) from 1.0.45 to 1.0.47.
    - [Release notes](https://github.com/serde-rs/json/releases)
    - [Commits](https://github.com/serde-rs/json/compare/v1.0.45...v1.0.47)
    
    Signed-off-by: dependabot-preview[bot] <support@dependabot.com>

commit 0a5842a22f9b60ff034c84718ad0174af0e730fc
Author: dependabot-preview[bot] <27856297+dependabot-preview[bot]@users.noreply.github.com>
Date:   Mon Feb 10 10:44:14 2020 +0000

    build(deps): bump byteorder from 1.3.2 to 1.3.4
    
    Bumps [byteorder](https://github.com/BurntSushi/byteorder) from 1.3.2 to 1.3.4.
    - [Release notes](https://github.com/BurntSushi/byteorder/releases)
    - [Changelog](https://github.com/BurntSushi/byteorder/blob/master/CHANGELOG.md)
    - [Commits](https://github.com/BurntSushi/byteorder/compare/1.3.2...1.3.4)
    
    Signed-off-by: dependabot-preview[bot] <support@dependabot.com>

commit e8c78dbdd12c7abe0e43b5b1a5e0379720cdf1fe
Author: dependabot-preview[bot] <27856297+dependabot-preview[bot]@users.noreply.github.com>
Date:   Mon Feb 10 10:41:53 2020 +0000

    build(deps): bump dogsdogsdogs from `2f7e24f` to `e50c9ce`
    
    Bumps [dogsdogsdogs](https://github.com/TimelyDataflow/differential-dataflow) from `2f7e24f` to `e50c9ce`.
    - [Release notes](https://github.com/TimelyDataflow/differential-dataflow/releases)
    - [Commits](https://github.com/TimelyDataflow/differential-dataflow/compare/2f7e24f3843cab43a71a2cb99a7fed05e2394045...e50c9ce938c9783d7a5eb7fdf25f047f2c6ed145)
    
    Signed-off-by: dependabot-preview[bot] <support@dependabot.com>

commit f3ce8a26096b2fee3598c7189bd519f59b67087d
Author: dependabot-preview[bot] <27856297+dependabot-preview[bot]@users.noreply.github.com>
Date:   Mon Feb 10 10:41:24 2020 +0000

    build(deps): bump aho-corasick from 0.7.7 to 0.7.8
    
    Bumps [aho-corasick](https://github.com/BurntSushi/aho-corasick) from 0.7.7 to 0.7.8.
    - [Release notes](https://github.com/BurntSushi/aho-corasick/releases)
    - [Commits](https://github.com/BurntSushi/aho-corasick/compare/0.7.7...0.7.8)
    
    Signed-off-by: dependabot-preview[bot] <support@dependabot.com>

commit 438c888a7445c60282b8dcd8594f2437aaaa48c7
Author: dependabot-preview[bot] <27856297+dependabot-preview[bot]@users.noreply.github.com>
Date:   Mon Feb 10 10:40:33 2020 +0000

    build(deps): bump hex from 0.4.0 to 0.4.1
    
    Bumps [hex](https://github.com/KokaKiwi/rust-hex) from 0.4.0 to 0.4.1.
    - [Release notes](https://github.com/KokaKiwi/rust-hex/releases)
    - [Commits](https://github.com/KokaKiwi/rust-hex/compare/v0.4...v0.4.1)
    
    Signed-off-by: dependabot-preview[bot] <support@dependabot.com>

commit 51f49ea72d1256fdfeb4be25db1cf328e2542da2
Author: Natacha Crooks <natachacrooks@Natachas-MBP.home>
Date:   Mon Feb 10 01:47:51 2020 -0500

    Linting

commit 3c35fdf3ac186357aaa55e3466e68081bbaa1e85
Author: Natacha Crooks <natachacrooks@Natachas-MBP.home>
Date:   Mon Feb 10 01:38:56 2020 -0500

    Fixing name collision when creating index from non materialized views that already has a derived materialized view

commit 40bda359759b9f8bf6bee9595fbcfcae71cc9643
Author: Natacha Crooks <natachacrooks@Natachas-MBP.home>
Date:   Mon Feb 10 00:13:53 2020 -0500

    Fixing race condition with index drop/creation

commit 0ccff81ad19f536dbd6f6cca2828dbae6eac0532
Merge: 123366122 09179c1a4
Author: nacrooks <nacrooks@gmail.com>
Date:   Sun Feb 9 22:48:58 2020 -0500

    Merge pull request #1905 from MaterializeInc/nacrooks-docpatch
    
    Update develop-testing.md

commit 123366122bcca5cc22ee2c83b3fdf7914543ca84
Merge: ba7469c83 8aea12203
Author: nacrooks <nacrooks@gmail.com>
Date:   Sun Feb 9 22:48:40 2020 -0500

    Merge pull request #1906 from MaterializeInc/nacrooks-demo-fix
    
    Removing unnecessary flush records in demo

commit 8aea12203e9ba232da8dcf28d4a8fa6142a78cb3
Author: nacrooks <nacrooks@gmail.com>
Date:   Sun Feb 9 19:33:34 2020 -0500

    Removing unnecessary flush records in demo
    
    Records become automatically visible with timestamping. Null flush records are no longer necessary.

commit 09179c1a4a15fe8c9db33a60e7473c3dc6e0ce52
Author: nacrooks <nacrooks@gmail.com>
Date:   Sun Feb 9 19:23:51 2020 -0500

    Update develop-testing.md
    
    Doc used incorrect path to test file.

commit df13eb5d11a312c7e58bd286982e3929122c2628
Author: Nikhil Benesch <nikhil.benesch@gmail.com>
Date:   Sun Feb 9 15:20:49 2020 -0500

    coord: properly persist auto-created primary keys on ambiguous columns
    
    CREATE MATERIALIZED VIEW can create an index on columns in a view whose
    names are ambiguous, either because the column has no name or because
    two columns have the same name. We were properly detecting the former
    case, but not the latter. In either case the column reference needs to
    use a column index instead of the column name.
    
    This commit fixes the issue and adds a test case.
    
    Fix #1900.

commit ba7469c838eccc1ec23ce5ca44507f978c27797d
Merge: d03551e9a fba482a86
Author: Arjun Narayan <arjun@materialize.io>
Date:   Fri Feb 7 15:36:22 2020 -0500

    Merge pull request #1784 from rjnn/license
    
    LICENSE: change license to BSL 1.1

commit 4b2c3070d11538e314503970f591c0c1d9cd7dfb
Author: Natacha Crooks <natachacrooks@Natachas-MBP.home>
Date:   Thu Feb 6 19:40:01 2020 -0500

    Fixing 1) generation of customers of all countries 2) bias in suppliers

commit 5b9814a8b80fbb4fc68397a35da4d85038760fe7
Author: Natacha Crooks <natachacrooks@Natachas-MBP.home>
Date:   Thu Feb 6 00:06:25 2020 -0500

    Fixing timestamp generation

commit d03551e9a954a0319a09bfe5e4e46a4974062cb6
Merge: ebe2a8863 60a85d5a6
Author: nacrooks <nacrooks@gmail.com>
Date:   Fri Feb 7 13:58:10 2020 -0500

    Merge pull request #1898 from nacrooks/peekerfix
    
    Fixing race condition with Peeker in Chbenchmark

commit 60a85d5a6c3905dcf19bb517faed8e534023e767
Author: Natacha Crooks <natachacrooks@Natachas-MacBook-Pro.local>
Date:   Fri Feb 7 12:51:50 2020 -0500

    Fixing q01 peeker race

commit ebe2a8863d11e55b7a3ae8ccfd4ec3a0c2bf7400
Merge: dc05118e4 0267ba0f9
Author: Brandon W Maister <bwm@materialize.io>
Date:   Fri Feb 7 11:01:43 2020 -0500

    Merge pull request #1897 from quodlibetor/chbenchmark-update-view
    
    chbenchmark: Don't unconditionally drop views

commit 0267ba0f96271b8c93ca19400a176bfe31fe5407
Author: Brandon W Maister <bwm@materialize.io>
Date:   Fri Feb 7 10:34:40 2020 -0500

    chbenchmark: Don't unconditionally drop views
    
    We now have `CREATE OR REPLACE [MATERIALIZED] VIEW`
    
    Found during #1896 , might fix

commit dc05118e4841f98425a70c856f3c6f2c22334723
Author: Cuong Do <cuongdo@users.noreply.github.com>
Date:   Fri Feb 7 09:25:26 2020 -0500

    Remove timestamp frequency parameter for chbench (#1895)
    
    There isn't a good reason from letting it deviate from the default value

commit 5a5a73fb2cd18457a5b6aa466d4577bd86481a88
Author: nacrooks <nacrooks@gmail.com>
Date:   Fri Feb 7 08:09:25 2020 -0500

    Making timestamping default and updating appropriate tests (#1890)

commit 9968fbfb85e2014d6eec42a14cfcd571cf7c4c84
Author: Brennan Vincent <brennan@materialize.io>
Date:   Fri Feb 7 08:02:03 2020 -0500

    [docs] Combine two required keywords in sequence to the same bubble in railroad diagram (#1891)

commit a35f521afbc8e36a9b90707db6ce1b3682343a7e
Merge: f4b9e760c 529aedcab
Author: Nikhil Benesch <nikhil.benesch@gmail.com>
Date:   Fri Feb 7 02:54:56 2020 -0500

    Merge pull request #1892 from benesch/catalog-safety-ii
    
    coord, sql: enable new sql-based persistence

commit 529aedcab4dc1a6449fa829ab24b133c5573dd40
Author: Nikhil Benesch <nikhil.benesch@gmail.com>
Date:   Fri Feb 7 01:24:41 2020 -0500

    coord: enable new sql-based persistence
    
    We can commit to this format long term.

commit 841a2d2a161393e3e15cbaa480a39ee9414f6e21
Author: Nikhil Benesch <nikhil.benesch@gmail.com>
Date:   Fri Feb 7 02:08:19 2020 -0500

    sql: fix normalization of idents

commit a4424f3001758e5ad86b897739caba5e91588fd0
Author: Nikhil Benesch <nikhil.benesch@gmail.com>
Date:   Fri Feb 7 01:23:14 2020 -0500

    dataflow,sql: move blocking sink code out of SQL planner
    
    Publishing schemas in the SQL planner interferes with catalog
    persistence; we don't want to have to republish schemas during boot up.
    Better to do that when installing the sink I guess.

commit 0667a8c6c1d1decd4d6c7fb523441fc1fe5918c3
Author: Nikhil Benesch <nikhil.benesch@gmail.com>
Date:   Fri Feb 7 01:22:39 2020 -0500

    coord: handle futures that are secretly ready during catalog boot

commit d18bd0535331e15802087b90d3e469fd75a103dc
Author: Nikhil Benesch <nikhil.benesch@gmail.com>
Date:   Fri Feb 7 00:52:10 2020 -0500

    sql,sql-parser: normalize external state in CREATE SOURCE statements
    
    The catalog must always store the inline variant of any
    externally-fetched statements, so that booting Materialize does not
    require contacting these external sources to determine the schema of
    items in the catalog.

commit 3734c4bccd342a09a4d0d4bfa3b15a2637eb2a33
Author: Nikhil Benesch <nikhil.benesch@gmail.com>
Date:   Thu Feb 6 23:45:59 2020 -0500

    sql: normalize index key parts too
    
    Index key parts can have idents within which should be normalized (i.e.,
    quoted with double quotes).

commit f4b9e760c39db94010982fa8478e8125301ee87d
Merge: 7371991d1 a324ee8f7
Author: Nikhil Benesch <nikhil.benesch@gmail.com>
Date:   Thu Feb 6 23:44:12 2020 -0500

    Merge pull request #1887 from benesch/catalog-optimize
    
    catalog: become the source of truth for indexes

commit 7371991d113c6276eb4e70122b1a90bbe9cda2c1
Author: Brennan Vincent <brennan@materialize.io>
Date:   Thu Feb 6 20:59:49 2020 -0500

    Stop using old CREATE SOURCES syntax in chbench load generator (#1889)

commit 54a11e315450124f967118910967a2ad5e5c6e15
Merge: faf22d69b 203c2fdef
Author: Nikhil Benesch <nikhil.benesch@gmail.com>
Date:   Thu Feb 6 20:56:17 2020 -0500

    Merge pull request #1888 from benesch/create-src-sql
    
    sql: store proper CREATE SOURCE SQL

commit 203c2fdef1ae9fdf7795e15c9ac269f6f268b937
Author: Nikhil Benesch <nikhil.benesch@gmail.com>
Date:   Thu Feb 6 20:36:54 2020 -0500

    sql: store proper CREATE SOURCE SQL
    
    This is complicated by the asynchronous bits of the CREATE SOURCE
    planning, but with a bit of elbow grease we can jam it in for now.

commit faf22d69b907467075db0eea84a3a2861a47bfec
Merge: 70078a109 b9626327a
Author: Nikhil Benesch <nikhil.benesch@gmail.com>
Date:   Thu Feb 6 20:35:57 2020 -0500

    Merge pull request #1886 from benesch/index-ordinals
    
    sql: parse ordinal references in CREATE INDEX statements

commit 70078a109fe5df8a31539332af4e397c41b7c28a
Merge: 4b695807d d95d05476
Author: Nikhil Benesch <nikhil.benesch@gmail.com>
Date:   Thu Feb 6 20:35:49 2020 -0500

    Merge pull request #1885 from benesch/demo-fixup
    
    *: remove add'l references to CREATE SOURCES

commit b9626327a3d56c937c3768426905eaeeb62ea5b5
Author: Nikhil Benesch <nikhil.benesch@gmail.com>
Date:   Thu Feb 6 17:45:36 2020 -0500

    sql: parse ordinal references in CREATE INDEX statements
    
    This makes it possible to construct an index on unnameable columns, like
    we do for CREATE MATERIALIZED VIEW automatically.

commit a324ee8f7e00b71b7dd9bdca77987a5670a56c7d
Author: Nikhil Benesch <nikhil.benesch@gmail.com>
Date:   Thu Feb 6 19:57:47 2020 -0500

    catalog: become the source of truth for indexes
    
    The optimizer needs to know about what indexes are available in order to
    produce good query plans. The coordinator was previously computing this
    information, but it's just as easy for the catalog to do it.
    
    Putting the catalog in charge of keeping this metadata means that
    restoring a catalog on boot can properly use this index information as
    it parses, plans, and re-optimizes the SQL it stashed away. This wasn't
    previously necessary because we stored pre-optimized plans on disk; this
    is actually a nice improvement, because upgrading Materialize will also
    re-optimize any stored plans, hopefully with an improved optimizer!

commit d95d054765efe08e669e75652bc1b093ecef3140
Author: Nikhil Benesch <nikhil.benesch@gmail.com>
Date:   Thu Feb 6 18:52:12 2020 -0500

    demo/chbench: remove stale instructions
    
    Just point people at the up-to-date Metabase demo instructions instead.

commit 677aa9b15aa37cfaadcf819319c2206110bf03ea
Author: Nikhil Benesch <nikhil.benesch@gmail.com>
Date:   Thu Feb 6 18:48:00 2020 -0500

    doc/developer: remove CREATE SOURCES from developer metabase docs

commit 29c6d50a4f76ab11400656ce4961629f93944d7c
Author: Nikhil Benesch <nikhil.benesch@gmail.com>
Date:   Thu Feb 6 18:23:55 2020 -0500

    peeker: adjust for CREATE SOURCES removal and database support

commit 4b695807dee0fb719f265bce696f2f0e904b36b6
Merge: 054968d73 99a798bde
Author: Nikhil Benesch <nikhil.benesch@gmail.com>
Date:   Thu Feb 6 18:15:41 2020 -0500

    Merge pull request #1875 from benesch/catalog-safety
    
    catalog: backwards-compatible persistence

commit 054968d73a473fd795865fbb2196aa5547188a9b
Merge: c9b052e40 8753c25d6
Author: Nikhil Benesch <nikhil.benesch@gmail.com>
Date:   Thu Feb 6 18:08:36 2020 -0500

    Merge pull request #1880 from quodlibetor/lint-fix-chbench-bin-fmt
    
    lint: make chbench clang-format script lint-clean

commit 99a798bde60e18015eef75d5f86dd5a75bd01d2a
Author: Nikhil Benesch <nikhil.benesch@gmail.com>
Date:   Thu Feb 6 00:31:48 2020 -0500

    coord,sql: use normalized SQL to describe catalog objects
    
    Storing serialized Rust objects into the catalog was convenient, but had
    poor backwards-compatibility characteristics. Any change to our internal
    data structures caused stored catalogs to be unreadable.
    
    SQL is a far more stable API to Materialize. We won't break
    backwards-compatibility in the SQL API lightly. So use SQL to describe
    the items in the catalog instead.
    
    This commit introduces the necessary serialization and deserialization
    logic, as well as the normalization rules that make it safe to store a
    `CREATE { SOURCE | VIEW | INDEX | SINK }` in the catalog (i.e., by
    quoting identifiers, resolving names, etc.). The new SQL serializer is
    not yet hooked up, as there is additional prepatory work required to
    build the create SQL for sources and auto-created indexes.

commit 6c91363bad6ea206c1cdaa320fd76478c1bb1091
Author: Nikhil Benesch <nikhil.benesch@gmail.com>
Date:   Tue Feb 4 18:28:52 2020 -0500

    catalog,coord,dataflow,sql: split view/source/sink/index types
    
    The catalog, coord, dataflow, and sql crates previously all shared the
    same view, source, sink, and index types in dataflow_types. But these
    crates all had slightly different opinions on what should live in the
    types. The sql crate, for example, does not want to care about eval
    envs, nor does it want to duplicate type information in the catalog; the
    dataflow layer *needs* duplicated type information, because it doesn't
    have access to a catalog.
    
    Start untangling the mess by giving catalog, dataflow, and sql their own
    view/source/sink/index types. The coordinator converts between the types
    as necessary.
    
    This commit also introduces the concept of a CatalogItemSerializer, so
    that the catalog is agnostic with regards to the serialization strategy
    for items themselves. This will allow us to easily use SQL to serialize
    catalog items in a future commit.

commit c9b052e40ee0c3531c5d6bca2251b856aa66cddc
Merge: fc86e26c9 5012eb2fd
Author: Nikhil Benesch <nikhil.benesch@gmail.com>
Date:   Thu Feb 6 16:59:54 2020 -0500

    Merge pull request #1881 from benesch/no-source-uri
    
    sql-parser: remove URIs from CREATE { SOURCE | SINK }

commit 5012eb2fd8ad5aad3c3b23573fc38fba5663bd72
Author: Nikhil Benesch <nikhil.benesch@gmail.com>
Date:   Thu Feb 6 16:19:31 2020 -0500

    sql: remove CREATE SOURCES (note plural)
    
    CREATE SOURCES does not fit well into our new flexible source world.
    Remove it, so that we don't inadvertently commit to its inflexible
    design.

commit 1eef134249256cf0ccea87459715363a499cd9d9
Author: Nikhil Benesch <nikhil.benesch@gmail.com>
Date:   Thu Feb 6 13:24:42 2020 -0500

    sql-parser: remove URIs from CREATE { SOURCE | SINK }
    
    The new design for CREATE SOURCE uses dedicated SQL syntax to spell out
    formatting and enveloping options. Continue that trend by splitting the
    URI component into dedicated SQL syntax, so that
    
        CREATE SOURCE s FROM 'kafka://broker/topic'...
    
    becomes
    
        CREATE SOURCE s FROM KAFKA BROKER 'broker' TOPIC 'topic'
    
    and
    
        CREATE SOURCE s FROM 'file:///path'...
    
    becomes
    
        CREATE SOURCE s FROM FILE 'path'.
    
    This tees us up nicely for supporting Kinesis sources, which do not fit
    into the URI paradigm.
    
    This commit also adjusts the CREATE SINK syntax to be analogous to the
    CREATE SOURCE syntax.

commit fc86e26c9c146fb636a4ece8de8788b969525220
Merge: a41f8a415 0c8ec2f09
Author: Ruchir Khaitan <ruchir0001@gmail.com>
Date:   Thu Feb 6 15:15:21 2020 -0500

    Merge pull request #1882 from ruchirK/rk-jemalloc
    
    Disable jemalloc on macOS

commit 0c8ec2f096754837f22b766cbe626b599d4eb07e
Author: Ruchir Khaitan <ruchir0001@gmail.com>
Date:   Thu Feb 6 14:14:53 2020 -0500

    Disable jemalloc on macOS
    
    We've observed latency spikes when running the billing-demo
    with 100k+ messages with jemalloc on macOS. This issue does not
    persist with the system allocator.
    
    This is a temporary fix - we will have to figure out which allocator
    to use on all platforms in the medium to near future.

commit 8753c25d6098876da291457ba45b436c107fe263
Author: Brandon W Maister <bwm@materialize.io>
Date:   Thu Feb 6 12:27:15 2020 -0500

    lint: make chbench clang-format script lint-clean
    
    The script is not actually being used much (running it causes several changes) but this
    makes bin/lint not give me an error every time I run it locally. It's also slightly safer.

commit c58221be80937f709ffd58106d7f26627229c6c0
Author: Brandon W Maister <bwm@materialize.io>
Date:   Thu Feb 6 11:51:08 2020 -0500

    demos: Add a build script to http-logs demo
    
    This makes it obvious how to build things, while still keeping it locked down for demo
    users.

commit a41f8a415ee7b0eb4fc0f23655aef5f68c7be968
Merge: 42890e117 f26ce8f19
Author: Jessica Laughlin <JLDLaughlin@users.noreply.github.com>
Date:   Thu Feb 6 11:09:38 2020 -0500

    Update metabase demo to reflect getTables changes (#1877)
    
    Return materialized views to Metabase when getTables is called

commit f26ce8f19c1beeff7b9b8a1c2f1dde757fa6cbe2
Author: JLDLaughlin <jessica@materialize.io>
Date:   Thu Feb 6 10:59:23 2020 -0500

    Simplify view names, don't create view for item

commit 42890e117c9418344f42b2542a9a1cf6565e1283
Merge: faa199309 6008e9108
Author: Sean Loiselle <sean@materialize.io>
Date:   Thu Feb 6 10:42:47 2020 -0500

    Merge pull request #1872 from quodlibetor/doc-log-demo
    
    doc: http-demo change `poll` -> `watch`

commit faa199309e4e6de5362256c76c1d72e47aac2c5b
Merge: 16b9c43e6 dcdbf4241
Author: Ruchir Khaitan <ruchir0001@gmail.com>
Date:   Wed Feb 5 22:50:32 2020 -0500

    Merge pull request #1817 from ruchirK/rk-1763
    
    demo: run streaming demo as part of our CI process

commit dcdbf42416739d83e25dcfdfae0d140547204ccd
Author: Ruchir Khaitan <ruchir0001@gmail.com>
Date:   Mon Feb 3 17:18:36 2020 -0500

    demo: run the streaming demo as part of CI
    
    Uses wait-for-it to correctly control ordering on both CI
    and the included demo script
    
    Fixes #1763
    Fixes #1871

commit 689acbf28434c122039ea156e2083edbd0e990ef
Author: JLDLaughlin <jessica@materialize.io>
Date:   Wed Feb 5 20:23:53 2020 -0500

    Add version to jar, remove trailing whitespace

commit 41125cfd3f982021b947fb11b8e07c56b86b7970
Author: JLDLaughlin <jessica@materialize.io>
Date:   Wed Feb 5 20:07:38 2020 -0500

    Update metabase demo to reflect getTables changes

commit 16b9c43e671f11e839f7dee0f44bc259814ebf48
Merge: 6d1574ed6 304c1e033
Author: Brandon W Maister <bwm@materialize.io>
Date:   Wed Feb 5 16:55:15 2020 -0500

    Merge pull request #1874 from quodlibetor/speed-up-http-demo-startup
    
    http-demo: speed up and simplify startup

commit 304c1e03387befa5e9b5b4090998e9f132b69e7c
Author: Brandon W Maister <bwm@materialize.io>
Date:   Wed Feb 5 16:14:41 2020 -0500

    http-demo: speed up and simplify startup by using a cached image
    
    This cuts an additional minute of time off initial startup and adds a `materialize/http-demo`
    image that contains the dependencies for both the client and server.
    
    In addition to making it twice as fast for me, this reduces the number of systems that we
    depend on (now it's just a bunch of docker pulls, not docker/apt/pip) so it is hopefully
    more robust.

commit 4a28b617e63b942fc71700364fdb2b6f0d890993
Author: Brandon W Maister <bwm@materialize.io>
Date:   Wed Feb 5 15:53:51 2020 -0500

    http-demo: make docker faster
    
    Before:
    * docker-compose up -d takes ~2:47
    * dc.sh nuke recovers 1.87 GB
    
    After:
    * docker-compose up -d takes ~2 minutes
    * dc.sh nuke recovers 1.0 GB

commit af7f878ace6d840f5e1b601c61dd4d5cb14f3a6b
Author: Brandon W Maister <bwm@materialize.io>
Date:   Wed Feb 5 15:32:14 2020 -0500

    demos: stop building cli and instead depend on it
    
    We were using the same dockerfile in several places, and it seems worthwhile to just
    provide it out of the box for folks.

commit 6d1574ed69f008e7485d54a59fc0c8cdce06fce4
Merge: bf5c55c86 e5ed8e98e
Author: Ruchir Khaitan <ruchir0001@gmail.com>
Date:   Wed Feb 5 16:10:02 2020 -0500

    Merge pull request #1870 from cuongdo/billing-demo-threads
    
    Change materialized threads to 1 for billing demo

commit 6008e9108d754e04165337b84b8e717c0f135e38
Author: Brandon W Maister <bwm@materialize.io>
Date:   Wed Feb 5 15:35:39 2020 -0500

    doc: http-demo change `poll` -> `watch`
    
    Change from `poll` to `watch` because watch is the higher-level concept, and on linux we
    are correctly notified of changes to files, it's only on macos that we actually poll.

commit bf5c55c86be23ac96db7038e881e744cf610629c
Merge: d983b6d13 ed4fbe6e2
Author: Nikhil Benesch <nikhil.benesch@gmail.com>
Date:   Wed Feb 5 15:18:48 2020 -0500

    Merge pull request #1854 from benesch/sql-no-evalenv
    
    sql: limit state for catalog persistence

commit d983b6d132c50c2da345148787af5925c4cea439
Merge: c17578443 301906c09
Author: Nikhil Benesch <nikhil.benesch@gmail.com>
Date:   Wed Feb 5 15:18:18 2020 -0500

    Merge pull request #1869 from benesch/rm-index
    
    dataflow: avoid depending on Index type

commit e5ed8e98e6ab0167b83e32b03c5526a106fba5f2
Author: Cuong Do <cdo@materialize.io>
Date:   Wed Feb 5 15:07:00 2020 -0500

    Change materialized threads to 1
    
    8 threads kills my 4-core laptop. This also brings this demo in line
    with the chbench demo:
    
    https://github.com/MaterializeInc/materialize/blob/master/demo/chbench/docker-compose.yml#L27

commit 301906c09f9078b7dbbcf538772d5889c39696e9
Author: Nikhil Benesch <nikhil.benesch@gmail.com>
Date:   Wed Feb 5 15:01:17 2020 -0500

    dataflow: avoid depending on Index type
    
    This type is going away in favor of the dataflow layer depending on just
    dataflow_types::IndexDesc.

commit c175784430a229941fe2324a3a9e058308b830f7
Merge: 4c5e1d846 cfd407890
Author: Brandon W Maister <bwm@materialize.io>
Date:   Wed Feb 5 14:57:22 2020 -0500

    Merge pull request #1867 from quodlibetor/chbenchmark-docker-image-size
    
    chbenchmark: make docker image much smaller

commit cfd40789041acf607ecbca4de3b831ea6afd15de
Author: Brandon W Maister <bwm@materialize.io>
Date:   Wed Feb 5 14:21:27 2020 -0500

    chbenchmark: use runv in docker-build script

commit 4c5e1d846be852d44fed85ec736a43295e523f58
Author: Brennan Vincent <brennan@materialize.io>
Date:   Wed Feb 5 14:23:55 2020 -0500

    Actually create the group (#1866)

commit 5a033e2e4d2221f63238b26c1630f8ce5de5eaeb
Author: Brandon W Maister <bwm@materialize.io>
Date:   Wed Feb 5 14:19:30 2020 -0500

    chbenchmark: Rearrange Dockerfile so that images are much smaller
    
    This changes the largest layer from 1.11 gigabytes to 114 megabytes (cuts 90%/almost a
    full GB off) and reduces the number of layers which often speeds docker up.

commit 276533f9169ed87bd35edc2bbb6ca1713f88af3b
Author: Brennan Vincent <brennan@materialize.io>
Date:   Wed Feb 5 14:21:22 2020 -0500

    raw -> bytes (#1857)

commit b46f746c6e0ae080f57ee6b3d4d60b0e6c326a68
Author: Brennan Vincent <brennan@materialize.io>
Date:   Wed Feb 5 13:48:02 2020 -0500

    bump deb.sh timeout to 10m (#1863)

commit 0080038352c307a6dbdbef3071b3729dc94413af
Author: Brennan Vincent <brennan@materialize.io>
Date:   Wed Feb 5 13:28:06 2020 -0500

    stop screwing around with the usernames and just do something I know works (#1860)
    
    _Materialize is apparently an illegal group name.
    
    Also apply a code review comment (remove the env var) that I forgot to do in #1851 .

commit dc0f32382bbaa92eec536b6d07348910ea4c615b
Merge: 3d83ca0d2 238755b1d
Author: Sean Loiselle <sean@materialize.io>
Date:   Wed Feb 5 12:39:36 2020 -0500

    Merge pull request #1859 from sploiselle/time-type-docs
    
    docs: typo in TIME doc

commit 3d83ca0d26c7ba732dc4275ca6653cc4a6258e77
Merge: d80df171b e1e46e8fe
Author: Sean Loiselle <sean@materialize.io>
Date:   Wed Feb 5 12:39:21 2020 -0500

    Merge pull request #1769 from sploiselle/link-fix-20200130
    
    fix links in architecture.md

commit d80df171b5038384cc0c3f6ae0417909066a4075
Merge: 5ee8bd97a c44b67680
Author: Sean Loiselle <sean@materialize.io>
Date:   Wed Feb 5 12:38:47 2020 -0500

    Merge pull request #1846 from sploiselle/update-metabase-demo-create-view
    
    docs: update metabase demo to use create materialized view

commit 238755b1d8d1b83b882238b0a1ff307e0954e6b2
Author: sploiselle <sean@materialize.io>
Date:   Wed Feb 5 12:36:37 2020 -0500

    docs: typo in TIME doc

commit 5ee8bd97a91a5a0494b89bf808516bb62152450d
Merge: 39a2376d0 d70a09439
Author: Sean Loiselle <sean@materialize.io>
Date:   Wed Feb 5 12:35:29 2020 -0500

    Merge pull request #1858 from sploiselle/time-type-docs
    
    docs: TIME docs and time-like type cleanup

commit 39a2376d099139e51336f969c03072558072ed65
Merge: 4c6ffd22d 054fb3fa2
Author: Ruchir Khaitan <ruchir0001@gmail.com>
Date:   Wed Feb 5 11:46:45 2020 -0500

    Merge pull request #1849 from ruchirK/rk-1825
    
    Actually compute a bill as part of the billing demo

commit d70a094391c914d106ab138226e12f1b34c02716
Author: sploiselle <sean@materialize.io>
Date:   Tue Feb 4 16:37:18 2020 -0500

    docs: TIME docs and time-like type cleanup

commit 4c6ffd22de65b8ed1657a21e0667379a29e6bdfe
Author: Brennan Vincent <brennan@materialize.io>
Date:   Wed Feb 5 11:40:56 2020 -0500

    fix adduser script (#1856)

commit f72aa950d4e06fbdd240910406ee1e80fc8e5272
Author: Brennan Vincent <brennan@materialize.io>
Date:   Wed Feb 5 11:14:46 2020 -0500

    Distribute a Systemd script that puts materialize data in a sane place (#1851)

commit 054fb3fa26e142006f1c6ec73760e4a4a8abaa80
Author: Ruchir Khaitan <ruchir0001@gmail.com>
Date:   Tue Feb 4 23:49:24 2020 -0500

    Add README for billing-demo

commit 504f2723ec660ee740cf49aeba108e926847ba62
Author: Ruchir Khaitan <ruchir0001@gmail.com>
Date:   Tue Feb 4 16:07:24 2020 -0500

    demo: add csv file to billing demo
    
    Use this to join against the pricing info and compute a final monthly price
    Fixes #1825

commit 20b97afcc678850b8401711d23f08c625bbc89ee
Merge: 7b7b45dfd 853faa803
Author: nacrooks <nacrooks@gmail.com>
Date:   Wed Feb 5 10:43:45 2020 -0500

    Merge pull request #1855 from nacrooks/chbench
    
    ChBench now materializes views passed in with --mz-views

commit 853faa803bed11d5f911c3d7abeef1057f0321e5
Author: Natacha Crooks <natachacrooks@Natachas-MacBook-Pro.local>
Date:   Tue Feb 4 16:25:39 2020 -0500

    Fixing views
    
    Fixing issue with not materializing views
    
    Fix logging
    
    Fixing formatting

commit ed4fbe6e29926a99ea2cf501bfc882a99043679c
Author: Nikhil Benesch <nikhil.benesch@gmail.com>
Date:   Wed Feb 5 01:36:42 2020 -0500

    sql: allow planning with an internal session
    
    When catalog persistence is implemented in terms of SQL, we don't want
    the persisted SQL queries to be reliant on session state. Put another
    way, on boot up, there is no user session to use to plan the catalog's
    SQL queries.
    
    Introduce a PlanSession trait that is a restriction of a sql::Session to
    just the parameters that control the planning of a SQL statement. Then
    introduce a new InternalSession implementation that hardcodes sensible
    defaults for the plan-time session parameters. So far we just unset the
    session database and use an empty search path, which has the desired
    effect of requiring all table names to be fully qualified.

commit 7b7b45dfde810e71b9c1ff5fb649794938f106f7
Merge: 2fe75a741 c332473f2
Author: Nikhil Benesch <nikhil.benesch@gmail.com>
Date:   Wed Feb 5 00:32:25 2020 -0500

    Merge pull request #1853 from benesch/txn-coord
    
    catalog,coord: transactionalize catalog updates

commit 18c6d6215b49420438253834405798674a5f147c
Author: Nikhil Benesch <nikhil.benesch@gmail.com>
Date:   Wed Feb 5 00:20:19 2020 -0500

    sql: make coord responsible for creating EvalEnv
    
    The EvalEnv controls runtime behavior of the query. The SQL planner
    should not be in charge of creating the EvalEnv so that it is as
    stateless as possible.

commit c332473f2af8e3a1e6fdcb36fd91f5b23adfc06c
Author: Nikhil Benesch <nikhil.benesch@gmail.com>
Date:   Wed Feb 5 00:11:04 2020 -0500

    catalog,coord: transactionalize catalog updates
    
    Teach the coordinator to only update the catalog transactionally. This
    is required for proper catalog backwards compatibility.

commit 2fe75a7411ee037bccb9ff94ff834e9cf2ef1878
Merge: a823b70d6 ada4bd12d
Author: Nikhil Benesch <nikhil.benesch@gmail.com>
Date:   Tue Feb 4 22:45:50 2020 -0500

    Merge pull request #1852 from benesch/create-index-tweaks
    
    dataflow-types: don't persist derivable metadata

commit ada4bd12d261e4534be5be626eaa71b760543ca4
Author: Nikhil Benesch <nikhil.benesch@gmail.com>
Date:   Tue Feb 4 22:23:14 2020 -0500

    dataflow-types: don't persist derivable metadata
    
    Information about whether the columns in an index are nullable is
    trivially rederivable when `SHOW INDEXES` is executed. Don't persist it
    in the catalog, because it might get out of sync.

commit 76c23b10c57b207e6cf5c1741e409bdfd57b46fb
Author: Nikhil Benesch <nikhil.benesch@gmail.com>
Date:   Tue Feb 4 20:02:24 2020 -0500

    sql: tweak internal boundary between index creation functions
    
    It makes more sense for handle_create_index to look up the catalog entry
    and pass it into plan_index_exprs.

commit a823b70d645af18826dcdd5f60336293f58800ef
Merge: 28ba1c905 388e7666a
Author: Jessica Laughlin <JLDLaughlin@users.noreply.github.com>
Date:   Tue Feb 4 18:09:44 2020 -0500

    Add more detail to the 'Connecting Metabase to Materialize' documentation (#1850)
    
    Add explicit instructions for each connection section

commit 388e7666aaab6f23c3330d59abeca322ddcc4aa3
Author: JLDLaughlin <jessica@materialize.io>
Date:   Tue Feb 4 18:06:27 2020 -0500

    Remove trailing whitespace

commit 404cd885650d70b465464aa07381be7856f34a52
Author: JLDLaughlin <jessica@materialize.io>
Date:   Tue Feb 4 18:01:10 2020 -0500

    Add more detail to the 'Connecting Metabase to Materialize' documentation

commit 28ba1c905b40a8d06430d1410920d6af44bf8ece
Author: Brennan Vincent <brennan@materialize.io>
Date:   Tue Feb 4 17:28:56 2020 -0500

    Make format non-optional as opposed to defaulting to FORMAT RAW. (#1837)

commit c1815f2c729afebb42f7fee3b00b2a29d1b98fd0
Merge: 2171fff74 014f86eea
Author: Jessica Laughlin <JLDLaughlin@users.noreply.github.com>
Date:   Tue Feb 4 17:22:22 2020 -0500

    Update docker-compose to point at unversioned metabase-materialize-driver (#1848)
    
    It's hard to remember to change a bunch of files!
    Hopefully, this simplifies updating to a new version.

commit 014f86eea28f28489bf252ac67dca97f11d55189
Author: JLDLaughlin <jessica@materialize.io>
Date:   Tue Feb 4 17:11:14 2020 -0500

    Update docker-compose to point at correct .jar

commit 2171fff749a66965523113fe37bddb6445243625
Merge: 6c1efabeb df338a139
Author: Jessica Laughlin <JLDLaughlin@users.noreply.github.com>
Date:   Tue Feb 4 17:06:57 2020 -0500

    Merge pull request #1847 from JLDLaughlin/update_metabase_jar_version
    
    Update metabase-materialize-driver jar version to newest release

commit df338a1394a1d3c979279e8ec8b630173ee486c6
Author: JLDLaughlin <jessica@materialize.io>
Date:   Tue Feb 4 17:04:50 2020 -0500

    Update metabase-materialize-driver jar version to newest release

commit 6c1efabeb187577dba45886dc12bacafb8c448e5
Author: Brennan Vincent <brennan@materialize.io>
Date:   Tue Feb 4 16:48:05 2020 -0500

    Fix erroneous rename (#1840)

commit c44b676805bacde879d564efad73f36b59a90ad7
Author: sploiselle <sean@materialize.io>
Date:   Tue Feb 4 16:46:35 2020 -0500

    docs: update metabase demo to use create materialized view

commit 3882295d0b6335f8e00eb4ddaf62b080b731e0f9
Merge: c825ff986 8fae7c213
Author: Sean Loiselle <sean@materialize.io>
Date:   Tue Feb 4 16:17:52 2020 -0500

    Merge pull request #1683 from sploiselle/time-type
    
    sql: impelement TIME type

commit c825ff986311e0f3bb550190d9960a3b289e550c
Merge: 65c098315 d83a23708
Author: Jessica Laughlin <JLDLaughlin@users.noreply.github.com>
Date:   Tue Feb 4 16:05:17 2020 -0500

    Update Metabase demo after breaking changes (#1842)
    
    Updates the instructions for the Metabase demo after the following breaking changes:
    
    - Now that we support databases and schemas as a namespacing mechanism, we needed to update the materialize-metabase-driver to provide a default `materialize` database name on connection. This PR picks up the latest version of the driver that includes that change.
    - Now that we only support querying from materialized views*, update all of the CREATE VIEW statements to CREATE MATERIALIZED VIEW.

commit 65c0983151c1dc97d3b1cd85cc389af4ebee8aef
Merge: 2bc7d08c9 5a4278c15
Author: Sean Loiselle <sean@materialize.io>
Date:   Tue Feb 4 16:04:20 2020 -0500

    Merge pull request #1844 from sploiselle/update-chbench-link
    
    docs: update link to chbenchmark queries

commit d83a23708da48cb6e9c85c9c7d0cd1d9a87ee75d
Author: JLDLaughlin <jessica@materialize.io>
Date:   Tue Feb 4 16:01:50 2020 -0500

    Update driver version

commit 5a4278c15507f781a37559e347425ce4c56672c3
Author: sploiselle <sean@materialize.io>
Date:   Tue Feb 4 16:01:27 2020 -0500

    docs: update link to chbenchmark queries

commit 8fae7c2131dfa28d5dc8c1e32212c1e046e8295b
Author: sploiselle <sean@materialize.io>
Date:   Fri Jan 24 16:30:04 2020 -0500

    sql: impelement TIME type

commit 2bc7d08c9cb492090e960be0a4f1cccdb5cc6226
Merge: 95f9c0112 eb8e3967c
Author: Sean Loiselle <sean@materialize.io>
Date:   Tue Feb 4 15:55:40 2020 -0500

    Merge pull request #1843 from sploiselle/metabase-demo-link-fix
    
    docs: fix link in metabase docs

commit eb8e3967ce9883fcf88bb0302b5de322f0e3974b
Author: sploiselle <sean@materialize.io>
Date:   Tue Feb 4 15:43:47 2020 -0500

    docs: fix link in metabase docs

commit ffbea4744622e63f762159129eac6c3ea85f276a
Author: JLDLaughlin <jessica@materialize.io>
Date:   Tue Feb 4 15:27:16 2020 -0500

    Set database, update connection information, create materialized views

commit 95f9c01127e1a8fc6a609893faf042cb18c0fcdc
Author: nacrooks <nacrooks@gmail.com>
Date:   Tue Feb 4 15:18:19 2020 -0500

    Fixing ChBench to Work with Databases (#1831)
    
    * Fixing CHBench to work with databases
    
    * Making views materialized by default
    
    * Fixing missing file error
    
    * adding mz-url to dc script
    
    * Default to timestamping
    
    * Tab vs Space

commit aeb23924f5b618696668ac124e6c25b545d81cb7
Merge: feff8d249 8d36d4df9
Author: Sean Loiselle <sean@materialize.io>
Date:   Tue Feb 4 15:15:51 2020 -0500

    Merge pull request #1836 from sploiselle/identifiers
    
    docs: clarify identifer rules

commit 8d36d4df93dcb6a900e64c88af6437cf1fe40208
Author: sploiselle <sean@materialize.io>
Date:   Mon Dec 9 15:30:57 2019 -0500

    docs: clarify identifer rules

commit feff8d2490ef08667498b080fc47478441795d32
Merge: d08ed7615 dede8e3f2
Author: Jamie Brandon <jamie@scattered-thoughts.net>
Date:   Tue Feb 4 20:01:48 2020 +0000

    Merge pull request #1823 from jamii/rewrite-slt
    
    Rewrite slt

commit d08ed76154f77a1e7384392e1b2cfe4715d988cb
Merge: 30c06e118 4ede070f6
Author: Nikhil Benesch <nikhil.benesch@gmail.com>
Date:   Tue Feb 4 14:48:22 2020 -0500

    Merge pull request #1832 from benesch/netlify-shrink-cache
    
    ci/www: remove submodules from netlify cache

commit 30c06e118f20547d8bbe0f83ef61385af50fad8e
Merge: c9c83df5b c775a777b
Author: Nikhil Benesch <nikhil.benesch@gmail.com>
Date:   Tue Feb 4 14:45:38 2020 -0500

    Merge pull request #1796 from MaterializeInc/dependabot/cargo/tokio-0.2.11
    
    Bump tokio from 0.2.10 to 0.2.11

commit c9c83df5b1042f31a4de3c502ec2176576693cc9
Author: Brennan Vincent <brennan@materialize.io>
Date:   Tue Feb 4 14:37:24 2020 -0500

     Fix examples (`CREATE SOURCES` separated source/format/envelope syntax documentation (2/n)) (#1834)

commit 933322fa90346ffd2caee9570add631bb7e3c1bf
Author: Brennan Vincent <brennan@materialize.io>
Date:   Tue Feb 4 14:33:49 2020 -0500

    `CREATE SOURCES` separated source/format/envelope syntax documentation (1/n) (#1833)

commit 024322ff983c1c46100ea448461fcf852ac086b5
Merge: b1aeff409 194ff06b7
Author: Nikhil Benesch <nikhil.benesch@gmail.com>
Date:   Tue Feb 4 14:31:30 2020 -0500

    Merge pull request #1821 from benesch/catalog-fixes
    
    catalog: report nice error if logging view missing

commit 4ede070f698e0e395ae2026385cb92ef7392f513
Author: Nikhil Benesch <nikhil.benesch@gmail.com>
Date:   Tue Feb 4 13:23:24 2020 -0500

    ci/www: remove submodules from netlify cache
    
    This should speed up Netlify builds by about 30s.

commit b1aeff4098e80145d11d383181068a93e2123db1
Author: Brennan Vincent <brennan@materialize.io>
Date:   Tue Feb 4 13:26:55 2020 -0500

    fix timestamps test to use new syntax (#1829)

commit 88c14abb677c459b9cbd5d63ba13a1f5caae78e8
Merge: cbd6e4a36 9260496dd
Author: Nikhil Benesch <nikhil.benesch@gmail.com>
Date:   Tue Feb 4 13:12:00 2020 -0500

    Merge pull request #1822 from benesch/netlify-fix-iii
    
    ci/www: fix netlify change detection on master

commit dede8e3f2f20292b6a27585a89bb735af42192ff
Author: Jamie Brandon <jamie@scattered-thoughts.net>
Date:   Tue Feb 4 17:38:40 2020 +0000

    Rebase sqllogictest to remove whitespace changes

commit cbd6e4a36b036a89c98d19843faad783600e9a14
Merge: 289555a75 5e0794899
Author: Sean Loiselle <sean@materialize.io>
Date:   Tue Feb 4 12:15:48 2020 -0500

    Merge pull request #1830 from sploiselle/metabase-edits
    
    docs: misc. edits for metabase demo

commit 5e0794899e66506d480f92e0932d97bb8a917c20
Author: sploiselle <sean@materialize.io>
Date:   Tue Feb 4 11:43:13 2020 -0500

    docs: misc. edits for metabase demo

commit 289555a757d3c5c66b2e355e7cb8d76d5e776e10
Merge: 04b1f5b8b 989fe0bf9
Author: Brandon W Maister <bwm@materialize.io>
Date:   Tue Feb 4 11:53:19 2020 -0500

    Merge pull request #1828 from quodlibetor/chbench-fix-build
    
    chbench: add docker build script and fix docker build/compose

commit c775a777b254983c29294801577b5c83f022f01a
Author: dependabot-preview[bot] <27856297+dependabot-preview[bot]@users.noreply.github.com>
Date:   Tue Feb 4 16:40:32 2020 +0000

    Bump tokio from 0.2.10 to 0.2.11
    
    Bumps [tokio](https://github.com/tokio-rs/tokio) from 0.2.10 to 0.2.11.
    - [Release notes](https://github.com/tokio-rs/tokio/releases)
    - [Commits](https://github.com/tokio-rs/tokio/compare/tokio-0.2.10...tokio-0.2.11)
    
    Signed-off-by: dependabot-preview[bot] <support@dependabot.com>

commit 04b1f5b8bc7afc5e9a80ca740b070f385bd1e05a
Merge: 93caa5052 1601934b4
Author: Brandon W Maister <bwm@materialize.io>
Date:   Tue Feb 4 11:38:42 2020 -0500

    Merge pull request #1790 from MaterializeInc/dependabot/cargo/structopt-0.3.9
    
    Bump structopt from 0.3.8 to 0.3.9

commit 989fe0bf9eabb7107c0001cead0e63b54242a3f7
Author: Brandon W Maister <bwm@materialize.io>
Date:   Tue Feb 4 11:33:23 2020 -0500

    chbench: add docker build script and fix docker build/compose
    
    This changes the chbenchmark docker repo to use the same standard we use for other
    in-tree build projects, where they are required to be manually built, but also expose a
    `:local` tag for development within docker-compose.
    
    One thing worth considering here is that it will change the meaning of the
    `materialize/chbenchmark` repo in docker-hub, previously it did not include all our
    configuration for odbc, but now it will.

commit 62eb594d37d87378b35c369d94df752d28b03a72
Author: Jamie Brandon <jamie@scattered-thoughts.net>
Date:   Tue Feb 4 14:51:54 2020 +0000

    Lint

commit aba4118e91c1f016ca6b9f073e96fcd0a2f2a930
Author: Jamie Brandon <jamie@scattered-thoughts.net>
Date:   Tue Feb 4 14:47:43 2020 +0000

    Modify full slt to fail if anything in test/sqlite regresses

commit 7fe9f81da587ead9353d9f2b7dcdc911a62df7e4
Author: Jamie Brandon <jamie@scattered-thoughts.net>
Date:   Tue Feb 4 14:46:29 2020 +0000

    Rewrite slt numeric tests to match materialize output.
    
    In many of these, postgres and materialize agree. In a few,
    materialize ends up with very different answers due to the way it
    chooses precision at planning time. These have been added to a
    separate slt file so we can keep track of them.

commit 93caa5052ea5db0f3a5e5f3b2165ed319f63d42c
Merge: a90557c94 ff44d0dd0
Author: Sean Loiselle <sean@materialize.io>
Date:   Tue Feb 4 11:10:33 2020 -0500

    Merge pull request #1827 from sploiselle/default-database
    
    docs: add info about default database

commit ff44d0dd0c3852f78c1fa5edc9cc60967a380366
Author: sploiselle <sean@materialize.io>
Date:   Thu Jan 30 15:06:58 2020 -0500

    docs: add info about default database

commit a90557c9421f4c9ffa47339c32285e0c58fc7431
Merge: 5a901f2a4 8611e2c79
Author: Brandon W Maister <bwm@materialize.io>
Date:   Tue Feb 4 11:02:19 2020 -0500

    Merge pull request #1773 from quodlibetor/doc-dev-dependencies
    
    doc: We no longer have a hard dependency on the confluent platform

commit 5a901f2a48c8327b4eee43052eb55423e459fc4c
Author: Brennan Vincent <brennan@materialize.io>
Date:   Tue Feb 4 10:59:58 2020 -0500

    Update README.md (#1826)

commit 763ceb3d1b65d6091043e3576b5a94a6f90de795
Author: Brennan Vincent <brennan@materialize.io>
Date:   Tue Feb 4 10:20:15 2020 -0500

    New-style syntax (#1819)
    
    Implements the syntax described in #1579

commit 8611e2c792e678abf96efd3e322d31949ab605b0
Author: Brandon W Maister <bwm@materialize.io>
Date:   Thu Jan 30 16:17:52 2020 -0500

    dev-doc: We no longer have a hard dependency on the confluent platform

commit 51acc286a548ec4eafe094f01ccfeb9abf0335f0
Merge: 3d99308ae a8e2b534d
Author: Jamie Brandon <jamie@scattered-thoughts.net>
Date:   Tue Feb 4 13:23:36 2020 +0000

    Merge pull request #1820 from benesch/decorrelation-tweaks
    
    sql: simplify new nested decorrelation code

commit 1601934b41aa0829d1f2c3c09b39fafb2737b943
Author: dependabot-preview[bot] <27856297+dependabot-preview[bot]@users.noreply.github.com>
Date:   Tue Feb 4 08:46:35 2020 +0000

    Bump structopt from 0.3.8 to 0.3.9
    
    Bumps [structopt](https://github.com/TeXitoi/structopt) from 0.3.8 to 0.3.9.
    - [Release notes](https://github.com/TeXitoi/structopt/releases)
    - [Changelog](https://github.com/TeXitoi/structopt/blob/master/CHANGELOG.md)
    - [Commits](https://github.com/TeXitoi/structopt/compare/v0.3.8...v0.3.9)
    
    Signed-off-by: dependabot-preview[bot] <support@dependabot.com>

commit 3d99308ae48b74165a88ebacb446af12ea23f22b
Merge: 837abf01d fac01a9ad
Author: Nikhil Benesch <nikhil.benesch@gmail.com>
Date:   Tue Feb 4 03:45:12 2020 -0500

    Merge pull request #1798 from MaterializeInc/dependabot/cargo/dogsdogsdogs-2f7e24f
    
    Bump dogsdogsdogs from `fbea6a8` to `2f7e24f`

commit 837abf01dda6cead20541467feb52a94b2607224
Merge: 936b5e073 8b6f7e0a8
Author: Nikhil Benesch <nikhil.benesch@gmail.com>
Date:   Tue Feb 4 03:44:49 2020 -0500

    Merge pull request #1795 from MaterializeInc/dependabot/cargo/thiserror-1.0.10
    
    Bump thiserror from 1.0.9 to 1.0.10

commit 936b5e073af95e9d8e6872381a2e37a9de644891
Merge: 622e006d0 a2aced8b0
Author: Nikhil Benesch <nikhil.benesch@gmail.com>
Date:   Tue Feb 4 03:44:41 2020 -0500

    Merge pull request #1793 from MaterializeInc/dependabot/cargo/smallvec-1.2.0
    
    Bump smallvec from 1.1.0 to 1.2.0

commit 622e006d0a93e4c364cea46d3058e07107fa4d09
Merge: 1a0a48ddb 5e18bff1e
Author: Nikhil Benesch <nikhil.benesch@gmail.com>
Date:   Tue Feb 4 03:44:32 2020 -0500

    Merge pull request #1792 from MaterializeInc/dependabot/cargo/backtrace-0.3.43
    
    Bump backtrace from 0.3.42 to 0.3.43

commit 1a0a48ddb7dea2b47b7c3220e9ac39117ca6c1de
Merge: 51980d2b0 33429d554
Author: Nikhil Benesch <nikhil.benesch@gmail.com>
Date:   Tue Feb 4 03:44:19 2020 -0500

    Merge pull request #1789 from MaterializeInc/dependabot/cargo/aho-corasick-0.7.7
    
    Bump aho-corasick from 0.7.6 to 0.7.7

commit 9260496dd4c525513611d813540f4ff2daefa240
Author: Nikhil Benesch <nikhil.benesch@gmail.com>
Date:   Tue Feb 4 03:39:39 2020 -0500

    ci/www: fix netlify change detection on master

commit 194ff06b7e8a0abf6d6cab07e7c22d021e140360
Author: Nikhil Benesch <nikhil.benesch@gmail.com>
Date:   Tue Feb 4 03:36:37 2020 -0500

    catalog: report nice error if logging view missing
    
    A missing logging view is almost certainly because
    --logging-granularity=off was specified with a catalog that has
    persisted a user view that depends upon a logging view. Yield a much
    nicer error message in that situation.
    
    Fix #1749.

commit a8e2b534d04b44880a6a9646b1db1dbba2f299c4
Author: Nikhil Benesch <nikhil.benesch@gmail.com>
Date:   Tue Feb 4 02:46:18 2020 -0500

    sql: simplify new nested decorrelation code
    
    Simplify the new nested decorrelation code (#1802) by plumbing a
    decorrelation permutation ("ColumnMap") through the decorrelation
    process, rather than a list of each nesting level's arity
    ("outer_arities").
    
    Since we needed to rebuild the outer_arities list on every nested scope
    (i.e., every call to `branch`), it's just as easy to maintain a map from
    every outer column reference to its decorrelated position.
    
    I think this approach is a decent bit more understandable, as it doesn't
    require complicated maintenance logic to keep the arity of each nesting
    level up to date as columns are dropped from the keys. It also avoids
    rewriting the inner expressions to account for the key permutations.

commit 51980d2b0e5b75c081c676dd984c73aa4647cf47
Merge: c7b1a070b 7f18f7691
Author: Nikhil Benesch <nikhil.benesch@gmail.com>
Date:   Tue Feb 4 02:12:18 2020 -0500

    Merge pull request #1818 from benesch/netlify-fix
    
    ci/www: fix netlify change detection

commit 33429d5543324a60800942d2d48c25908267ddfd
Author: dependabot-preview[bot] <27856297+dependabot-preview[bot]@users.noreply.github.com>
Date:   Tue Feb 4 05:29:31 2020 +0000

    Bump aho-corasick from 0.7.6 to 0.7.7
    
    Bumps [aho-corasick](https://github.com/BurntSushi/aho-corasick) from 0.7.6 to 0.7.7.
    - [Release notes](https://github.com/BurntSushi/aho-corasick/releases)
    - [Commits](https://github.com/BurntSushi/aho-corasick/compare/0.7.6...0.7.7)
    
    Signed-off-by: dependabot-preview[bot] <support@dependabot.com>

commit c7b1a070be6ce686d08e4d044eae8b1f1c2ef751
Merge: ea3d15e40 5430fe79d
Author: Nikhil Benesch <nikhil.benesch@gmail.com>
Date:   Tue Feb 4 00:28:11 2020 -0500

    Merge pull request #1794 from MaterializeInc/dependabot/cargo/hyper-0.13.2
    
    Bump hyper from 0.13.1 to 0.13.2

commit ea3d15e40441efeb1c86e22d719e74c993375746
Merge: 0d8d9bc5f 5335795aa
Author: Nikhil Benesch <nikhil.benesch@gmail.com>
Date:   Tue Feb 4 00:27:42 2020 -0500

    Merge pull request #1797 from MaterializeInc/dependabot/cargo/regex-1.3.4
    
    Bump regex from 1.3.3 to 1.3.4

commit 7f18f7691ed2834a144ba7535890fd4943631698
Author: Nikhil Benesch <nikhil.benesch@gmail.com>
Date:   Mon Feb 3 23:25:43 2020 -0500

    ci/www: fix netlify change detection

commit 0d8d9bc5fbf7a05562347a0675af986393f312b4
Merge: cbe52fc5d 877875ac1
Author: Brandon W Maister <bwm@materialize.io>
Date:   Mon Feb 3 21:44:21 2020 -0500

    Merge pull request #1812 from quodlibetor/vendor-chbench
    
    chbench: Import chbenchmark repository into chbench demo

commit cbe52fc5d1320b686d1b3fbe5d1f825bcfb4694f
Merge: dae64724f 244dfab00
Author: Nikhil Benesch <nikhil.benesch@gmail.com>
Date:   Mon Feb 3 17:23:11 2020 -0500

    Merge pull request #1816 from benesch/netlify-fix
    
    netlify: try to fix dirty build detection

commit dae64724f852c8bb76d962e0def2663c94cc8522
Merge: c48ce2d23 0a56a2a71
Author: Jessica Laughlin <JLDLaughlin@users.noreply.github.com>
Date:   Mon Feb 3 17:19:44 2020 -0500

    Add empty metabase directory (#1815)
    
    Add demo/chbench/metabase directory for the metabase-materialize-driver

commit c48ce2d232e246460ce4783299a20c2c2337272e
Merge: 857535fc8 060e5a141
Author: Jamie Brandon <jamie@scattered-thoughts.net>
Date:   Mon Feb 3 22:06:49 2020 +0000

    Merge pull request #1802 from jamii/decorrelation-fix
    
    Be more careful about tracking columns for outer relations

commit 244dfab00432b12782e479ef22f988d665a40803
Author: Nikhil Benesch <nikhil.benesch@gmail.com>
Date:   Mon Feb 3 16:34:59 2020 -0500

    netlify: try to fix dirty build detection

commit 060e5a141d37dc20e52b864ef93596fa123ffd2e
Author: Jamie Brandon <jamie@scattered-thoughts.net>
Date:   Mon Feb 3 21:42:10 2020 +0000

    Clippy

commit ea5b11945d1c3b96b7b69325c15366e4c92353f8
Author: Jamie Brandon <jamie@scattered-thoughts.net>
Date:   Mon Feb 3 21:36:52 2020 +0000

    Remove dead code

commit deacdf72bd89f758a6e56ff1fc8f0bef092d0a66
Author: Jamie Brandon <jamie@scattered-thoughts.net>
Date:   Mon Feb 3 21:29:14 2020 +0000

    Thinko

commit 857535fc8d1059142818dfe58f716e69a9753bd6
Merge: 702559e39 c8746045f
Author: Ruchir Khaitan <ruchir0001@gmail.com>
Date:   Mon Feb 3 16:26:33 2020 -0500

    Merge pull request #1813 from ruchirK/rk-1550
    
    proto: Add support for proper timestamp fields (and add to demo as well)

commit 0a56a2a714cbabbaac172bcfc8f3904f6345d2a2
Author: JLDLaughlin <jessica@materialize.io>
Date:   Mon Feb 3 15:59:39 2020 -0500

    Trailing newline

commit 877875ac1aed5a33ed4ae697ecbd3907590ceb1f
Author: Brandon W Maister <bwm@materialize.io>
Date:   Mon Feb 3 15:19:14 2020 -0500

    chbench: move a couple dotfiles that were missed in the merge

commit 8055e8cee4836c5088d04dbd360bcdcac901eb77
Author: Brandon W Maister <bwm@materialize.io>
Date:   Mon Feb 3 15:13:03 2020 -0500

    chbench: cleanups to handle lints
    
    Delete trailing whitespace and don't require the materialize copyright license, since
    chbench is Apache licensed.

commit 702559e39cdf1c6ba415c88918f442912e0377bc
Merge: 1282d3d86 f4cd39fb6
Author: Arjun Narayan <arjun@materialize.io>
Date:   Mon Feb 3 15:54:58 2020 -0500

    Merge pull request #1810 from rjnn/docs3
    
    doc: edit landing page text

commit 6b62b058b6909f80d09e5c3c37d059ae508550a4
Author: JLDLaughlin <jessica@materialize.io>
Date:   Mon Feb 3 15:48:36 2020 -0500

    Add empty metabase directory

commit c8746045fe124ff0c63c75a8f7f2efa274fc1bd9
Author: Ruchir Khaitan <ruchir0001@gmail.com>
Date:   Mon Feb 3 15:43:49 2020 -0500

    sql-parser: error out if we fail to parse timestamp
    
    Touches #1805

commit 41bb4019535ceca0835d05e6fff139c20432dbe0
Author: Ruchir Khaitan <ruchir0001@gmail.com>
Date:   Mon Feb 3 10:41:25 2020 -0500

    proto: change demo to use time type
    
    Fixes #1550

commit 1282d3d866b51813fe03eb04f56158cff38cdbf7
Merge: 764494840 d0dc4800b
Author: Nikhil Benesch <nikhil.benesch@gmail.com>
Date:   Mon Feb 3 15:45:00 2020 -0500

    Merge pull request #1811 from benesch/ci-fix
    
    ci: fix test build

commit 764494840c1fd37df6199565bf8a11c85fa646a5
Merge: e4ac6f91f e87c8a9c6
Author: Frank McSherry <fmcsherry@me.com>
Date:   Mon Feb 3 15:14:05 2020 -0500

    Merge pull request #1787 from frankmcsherry/row_changes
    
    Row changes

commit f4cd39fb6d8a4028c0a82c137a514e739ea787ad
Author: Arjun Narayan <arjun@materialize.io>
Date:   Mon Feb 3 14:42:57 2020 -0500

    doc: edit landing page text
    
    Change the landing page descriptions to be more in line with the
    product marketing copy, as they have diverged over time.

commit be159b8f8f9f73e693c27c16846d500f13587908
Author: Brandon W Maister <bwm@materialize.io>
Date:   Mon Feb 3 15:00:20 2020 -0500

    chbench: unify Dockerfiles

commit d0dc4800b06e87249679a129337d4b67ea8828fa
Author: Nikhil Benesch <nikhil.benesch@gmail.com>
Date:   Mon Feb 3 14:53:14 2020 -0500

    ci: fix test build
    
    These important lines were accidentally removed in #1750.

commit e87c8a9c6fc4ba48143fcb5cf602e6d482f47b20
Author: Frank McSherry <fmcsherry@me.com>
Date:   Mon Feb 3 14:54:59 2020 -0500

    address comments

commit e4ac6f91f867bea8d709252c2fd748e8c2e95c4a
Merge: 155cf1e48 463d72e7b
Author: Arjun Narayan <arjun@materialize.io>
Date:   Mon Feb 3 14:53:03 2020 -0500

    Merge pull request #1806 from rjnn/docs2
    
    docs: clarify why additional indexes are useful

commit 97c34ee1939422623a48bbd8e9f4359d7ae4564d
Merge: 5dc9e4ffc da4e14ed3
Author: Brandon W Maister <bwm@materialize.io>
Date:   Mon Feb 3 14:48:45 2020 -0500

    Merge 'chbenchmark/master' into vendor-chbench

commit 463d72e7bc01a35b9563699b3d6e91a46ca45a51
Author: Arjun Narayan <arjun@materialize.io>
Date:   Mon Feb 3 13:59:49 2020 -0500

    docs: clarify why additional indexes are useful

commit da4e14ed3c27140076e5fe5bb8cd0cccfc75078d
Author: Brandon W Maister <bwm@materialize.io>
Date:   Mon Feb 3 14:40:08 2020 -0500

    Add materialized chbench demo to chbench repo

commit a79736bcc84a49711daf3509079db4a009b5c3b4
Author: Brandon W Maister <bwm@materialize.io>
Date:   Mon Feb 3 14:37:19 2020 -0500

    Move everything into the materialized repo

commit 155cf1e48b8b99fe2dd37ced6c56d73d16f81cbb
Merge: 0c5298bff 5739a4c9d
Author: Frank McSherry <fmcsherry@me.com>
Date:   Mon Feb 3 14:36:44 2020 -0500

    Merge pull request #1807 from frankmcsherry/clean_cache
    
    Clear render cache between views.

commit 5739a4c9d85381bf93968b59acc182984de75e56
Author: Frank McSherry <fmcsherry@me.com>
Date:   Mon Feb 3 14:14:03 2020 -0500

    Clear render cache between views.
    
    Each view uses various local identifiers in building its collections and arrangements, and there is no guarantee that they will be unique across views. This causes problems with false hits and panics if we attempt to rebind any definitions. To address this, we clear out from the context that is not a `Get` of a global identifier. Each view builds a collection (and perhaps arrangements) bound to its global identifier, and each index build instruction is around a global get for the view (we do not allow you to index a non-view query).

commit 0c5298bff162e5d1876ef58dec32552cba7fa26a
Merge: 65d43fc63 9f363c8a8
Author: Sean Loiselle <sean@materialize.io>
Date:   Mon Feb 3 14:00:47 2020 -0500

    Merge pull request #1804 from rjnn/docs
    
    doc: expand warning on CREATE INDEX page

commit 65d43fc634157d039aa00ae2264df814caaf1c35
Merge: 7c9236350 b6a1a8a19
Author: Nikhil Benesch <nikhil.benesch@gmail.com>
Date:   Mon Feb 3 14:00:05 2020 -0500

    Merge pull request #1750 from benesch/no-bootstrap
    
    *: remove bootstrap sql

commit 7c92363501a09f40132491e3fe82b30ca671ea4c
Merge: ac21b462d 18f9f6a9d
Author: Nikhil Benesch <nikhil.benesch@gmail.com>
Date:   Mon Feb 3 13:41:09 2020 -0500

    Merge pull request #1803 from benesch/fix-decimal-rounding
    
    repr: fix rounding of decimal values in (-1, -0.5]

commit b6a1a8a197a5a74c20afbef96bec29def55f186e
Author: Nikhil Benesch <nikhil.benesch@gmail.com>
Date:   Thu Jan 30 02:54:36 2020 -0500

    *: remove bootstrap sql
    
    There is no user need for a bootstrap SQL file now that we have
    persistent metadata. We were using it internally to install a dozen or
    so useful views over the logging sources, but it's just as easy to
    hardcode those views inside Materialize, so that they are immediately
    accessible to all users.
    
    Fix #1528.
    Fix #1601.

commit 9f363c8a857ec8acbc381554f5ed22b85ab0b8c9
Author: Arjun Narayan <arjun@materialize.io>
Date:   Mon Feb 3 13:35:49 2020 -0500

    doc: expand warning on CREATE INDEX page
    
    Right now the warning says 'don't worry materialize does the thing'
    but that's not helpful if there's something off - this redirects
    attention to the statement they probably cared about.

commit 18f9f6a9dde29ee41640b0ff6ce479e88612a987
Author: Nikhil Benesch <nikhil.benesch@gmail.com>
Date:   Mon Feb 3 13:06:22 2020 -0500

    repr: fix rounding of decimal values in (-1, -0.5]
    
    We were misrounding negative decimal values between -0.5 and -1.
    
    Discovered in #1653.

commit ac21b462d74b4486c28dc890a8249920f321bb42
Merge: d9cd8f5d7 9dd68ca6b
Author: Frank McSherry <fmcsherry@me.com>
Date:   Mon Feb 3 11:47:06 2020 -0500

    Merge pull request #1801 from frankmcsherry/tpch15_polish
    
    Remove errant tpch15 constraint

commit bf644263133ff993144cf1adda8057cb2d7b6fbc
Author: Jamie Brandon <jamie@scattered-thoughts.net>
Date:   Mon Feb 3 16:38:31 2020 +0000

    Clippy

commit d594a217ac5a2dc5263027af2734488ac76f117e
Author: Jamie Brandon <jamie@scattered-thoughts.net>
Date:   Mon Feb 3 16:36:32 2020 +0000

    Lint

commit 43d6614ea7f67ce34bb75ebb45d37d13874644d1
Author: Jamie Brandon <jamie@scattered-thoughts.net>
Date:   Mon Feb 3 16:29:26 2020 +0000

    Be more careful about tracking columns for outer relations
    
    When there are both multiple subqueries in one WHERE and some of them
    are nested, the working columns for the earlier subqueries can get
    included in the outer relation for the later subqueries. We have to
    keep track of these to avoid off-by-one errors in references to the outer.
    
    Fixes https://github.com/MaterializeInc/materialize/issues/1708

commit 9dd68ca6b2f8b746ffb62c82ae0b1d212c23a166
Author: Frank McSherry <fmcsherry@me.com>
Date:   Mon Feb 3 10:51:35 2020 -0500

    remove errant constrait

commit d9cd8f5d7d93cf1cd37f9a8be3eda05cd083d59c
Author: Cuong Do <cuongdo@users.noreply.github.com>
Date:   Mon Feb 3 10:48:28 2020 -0500

    ex/chbench -> demo/chbench (#1800)
    
    One outdated instance of ex/chbench was causing the Terraform chbench
    config to fail during init

commit 5dc9e4ffcda9b952d56d17222b1e3ba493f22177
Merge: 29328e5c7 0b497df13
Author: Ruchir Khaitan <ruchir0001@gmail.com>
Date:   Mon Feb 3 10:27:14 2020 -0500

    Merge pull request #1765 from ruchirK/rk-1549
    
    support default values correctly in protobuf

commit fac01a9ad6a1d0155629087192ecb201009d3b65
Author: dependabot-preview[bot] <27856297+dependabot-preview[bot]@users.noreply.github.com>
Date:   Mon Feb 3 10:49:22 2020 +0000

    Bump dogsdogsdogs from `fbea6a8` to `2f7e24f`
    
    Bumps [dogsdogsdogs](https://github.com/TimelyDataflow/differential-dataflow) from `fbea6a8` to `2f7e24f`.
    - [Release notes](https://github.com/TimelyDataflow/differential-dataflow/releases)
    - [Commits](https://github.com/TimelyDataflow/differential-dataflow/compare/fbea6a8ec599c6173642bf5b40a19ea3024d537d...2f7e24f3843cab43a71a2cb99a7fed05e2394045)
    
    Signed-off-by: dependabot-preview[bot] <support@dependabot.com>

commit 5335795aa44cc432a39bc0123d0ec750c743babc
Author: dependabot-preview[bot] <27856297+dependabot-preview[bot]@users.noreply.github.com>
Date:   Mon Feb 3 10:48:46 2020 +0000

    Bump regex from 1.3.3 to 1.3.4
    
    Bumps [regex](https://github.com/rust-lang/regex) from 1.3.3 to 1.3.4.
    - [Release notes](https://github.com/rust-lang/regex/releases)
    - [Changelog](https://github.com/rust-lang/regex/blob/master/CHANGELOG.md)
    - [Commits](https://github.com/rust-lang/regex/compare/1.3.3...1.3.4)
    
    Signed-off-by: dependabot-preview[bot] <support@dependabot.com>

commit 8b6f7e0a83974aa796278af371d3433e0a3e9728
Author: dependabot-preview[bot] <27856297+dependabot-preview[bot]@users.noreply.github.com>
Date:   Mon Feb 3 10:47:58 2020 +0000

    Bump thiserror from 1.0.9 to 1.0.10
    
    Bumps [thiserror](https://github.com/dtolnay/thiserror) from 1.0.9 to 1.0.10.
    - [Release notes](https://github.com/dtolnay/thiserror/releases)
    - [Commits](https://github.com/dtolnay/thiserror/compare/1.0.9...1.0.10)
    
    Signed-off-by: dependabot-preview[bot] <support@dependabot.com>

commit 5430fe79dd2916cae154731dbf2eb32abdefbe99
Author: dependabot-preview[bot] <27856297+dependabot-preview[bot]@users.noreply.github.com>
Date:   Mon Feb 3 10:47:07 2020 +0000

    Bump hyper from 0.13.1 to 0.13.2
    
    Bumps [hyper](https://github.com/hyperium/hyper) from 0.13.1 to 0.13.2.
    - [Release notes](https://github.com/hyperium/hyper/releases)
    - [Changelog](https://github.com/hyperium/hyper/blob/master/CHANGELOG.md)
    - [Commits](https://github.com/hyperium/hyper/compare/v0.13.1...v0.13.2)
    
    Signed-off-by: dependabot-preview[bot] <support@dependabot.com>

commit a2aced8b01d9b20a6678b66d27b751eb739c5871
Author: dependabot-preview[bot] <27856297+dependabot-preview[bot]@users.noreply.github.com>
Date:   Mon Feb 3 10:46:39 2020 +0000

    Bump smallvec from 1.1.0 to 1.2.0
    
    Bumps [smallvec](https://github.com/servo/rust-smallvec) from 1.1.0 to 1.2.0.
    - [Release notes](https://github.com/servo/rust-smallvec/releases)
    - [Commits](https://github.com/servo/rust-smallvec/compare/v1.1.0...v1.2.0)
    
    Signed-off-by: dependabot-preview[bot] <support@dependabot.com>

commit 5e18bff1e5ba7c69dc73784be763d404c1a00987
Author: dependabot-preview[bot] <27856297+dependabot-preview[bot]@users.noreply.github.com>
Date:   Mon Feb 3 10:46:27 2020 +0000

    Bump backtrace from 0.3.42 to 0.3.43
    
    Bumps [backtrace](https://github.com/rust-lang/backtrace-rs) from 0.3.42 to 0.3.43.
    - [Release notes](https://github.com/rust-lang/backtrace-rs/releases)
    - [Commits](https://github.com/rust-lang/backtrace-rs/compare/0.3.42...0.3.43)
    
    Signed-off-by: dependabot-preview[bot] <support@dependabot.com>

commit 29328e5c732bced801257b8e33b500424b05b988
Merge: f78f3551d 0489da14b
Author: Nikhil Benesch <nikhil.benesch@gmail.com>
Date:   Mon Feb 3 00:04:15 2020 -0500

    Merge pull request #1788 from benesch/pgwire-efficiency
    
    pgwire: don't flush unnecessarily

commit 0489da14b0036b2f31693e2b55001bf6c51419c8
Author: Nikhil Benesch <nikhil.benesch@gmail.com>
Date:   Sun Feb 2 23:26:04 2020 -0500

    pgwire: don't flush unnecessarily
    
    The pgwire protocol is designed to avoid sending data over the network
    unnecessarily. Adapt our implementation to avoid flushing, except in
    response to explicit Sync or Flush messages from the client. Apparently
    PgJDBC makes heavy use of this feature to batch requests more
    efficiently.

commit f78f3551d4cf2cbdbb4824db05a5f17e1b42f1af
Merge: dd42320d9 d666379b2
Author: Nikhil Benesch <nikhil.benesch@gmail.com>
Date:   Sun Feb 2 11:38:18 2020 -0500

    Merge pull request #1780 from benesch/unknown-session-database
    
    coord,pgwire: warn if connecting with unknown database

commit dd42320d9b16ad34b3ca47d157fb89fb915e11d8
Merge: 8c81f179e 7af19c3dd
Author: Frank McSherry <fmcsherry@me.com>
Date:   Sun Feb 2 09:28:50 2020 -0500

    Merge pull request #1782 from frankmcsherry/readme_edits
    
    README: edits

commit f7ecf717fe8e64ee1f72aebaba2cc49568e3087c
Author: Frank McSherry <fmcsherry@me.com>
Date:   Sun Feb 2 07:42:47 2020 -0500

    charge row order, expose datum sizes

commit d666379b222c02036777dc58f7b22666c809dba7
Author: Nikhil Benesch <nikhil.benesch@gmail.com>
Date:   Thu Jan 30 20:14:53 2020 -0500

    coord,pgwire: warn if connecting with unknown database

commit 8c81f179e499f3fab5d47cd8c39fbfa95916a436
Merge: f171fe045 255aa58d2
Author: Nikhil Benesch <nikhil.benesch@gmail.com>
Date:   Sun Feb 2 01:34:31 2020 -0500

    Merge pull request #1786 from benesch/postgres-update
    
    deps: bump to latest [tokio-]postgres

commit 255aa58d2a93da935eaf19dcae2811c2b994a1d1
Author: Nikhil Benesch <nikhil.benesch@gmail.com>
Date:   Sat Feb 1 12:00:54 2020 -0500

    deps: bump to latest [tokio]-postgres
    
    These releases include some features we've been waiting on.

commit a0e5dd8fc868f5963267f6dcffe68d8daa957b26
Author: Frank McSherry <fmcsherry@me.com>
Date:   Sat Feb 1 22:37:56 2020 -0500

    correct option strings

commit fba482a860794884694db4fefc12a791c412d334
Author: Arjun Narayan <arjun@materialize.io>
Date:   Fri Jan 31 15:30:37 2020 -0500

    LICENSE: add BSL 1.1

commit f171fe04543e78bd5b015eed26282afb0069d80a
Merge: 6da683d0f b3555a3db
Author: Frank McSherry <fmcsherry@me.com>
Date:   Fri Jan 31 16:00:40 2020 -0500

    Merge pull request #1783 from frankmcsherry/flat_map_unary
    
    WIP: FlatMapUnary memory improvements

commit b3555a3dbd8b0c1921f4443cbc40387937c2042b
Author: Frank McSherry <fmcsherry@me.com>
Date:   Fri Jan 31 15:19:54 2020 -0500

    re-use unpacked input row

commit 79026a624ca3f7aaae86fb53ed9913473a70feaa
Author: Frank McSherry <fmcsherry@me.com>
Date:   Fri Jan 31 15:09:16 2020 -0500

    replace un-demanded columns with default values

commit 6da683d0ff6df84ee0447327cbfd81357bf31add
Merge: 3efb0c935 776f385e0
Author: nacrooks <nacrooks@gmail.com>
Date:   Fri Jan 31 14:57:31 2020 -0500

    Merge pull request #1768 from nacrooks/persourcetimestamp
    
    Per Source RT and BYO Consistency

commit 776f385e01d288a8b1bcc9889c8aa497fa57ebce
Author: Natacha Crooks <natachacrooks@Natachas-MacBook-Pro.local>
Date:   Thu Jan 30 16:58:38 2020 -0500

    Adding support for raw format in test drive
    
    Test Drive support for BYO consistency
    
    changing separator for kafka consistency
    
    Incorporting Pull Review Feedback
    
    Linting
    
    Clippy and Linting
    
    Clippy and Linting
    
    Clippy and Linting
    
    Fixing consistency test
    
    Adding passing testdrive test
    
    Fixing timeout in Kafka consumer
    
    Lint
    
    Fixing Drop index bug due to same instance name
    
    Commenting out timestamp test for buildkite
    
    Fixing kafka-verify
    
    Removing print logs
    
    Undoing change to protobuf
    
    Undoing change to protobuf

commit d0b37a600b51e1ef4487df9bfc3f8a509578132b
Author: Frank McSherry <fmcsherry@me.com>
Date:   Fri Jan 31 14:27:41 2020 -0500

    reduce copies

commit 7af19c3dd907b96ab87d54c44a47d86a3633fe94
Author: Frank McSherry <fmcsherry@me.com>
Date:   Fri Jan 31 14:05:07 2020 -0500

    minor changes

commit 3efb0c9357ed114a45928383edf530219d1414b2
Merge: 29d765f8b 9cc069576
Author: Arjun Narayan <arjun@materialize.io>
Date:   Fri Jan 31 11:49:47 2020 -0500

    Merge pull request #1746 from rjnn/update_readme
    
    Revamp README entirely

commit 9cc0695764c878f5d0e0b282d53329367c08d450
Author: Arjun Narayan <arjun@materialize.io>
Date:   Wed Jan 29 21:29:47 2020 -0500

    Revamp README entirely

commit 0b497df134732b33c19690b08eb09d996e2d4b1c
Author: Ruchir Khaitan <ruchir0001@gmail.com>
Date:   Tue Jan 28 16:48:20 2020 -0500

    [interchange/proto]: respect default values in proto spec

commit a9e74b0629126f76cc5e75325e1916ee40c0da23
Author: Natacha Crooks <natachacrooks@Natachas-MacBook-Pro.local>
Date:   Fri Jan 10 18:24:59 2020 -0500

    Work on support for timestamping Kakfa logs
    
    Timestamp advancing logic working up to workers
    
    Adding capabibility upgrading logic in kafka streaming
    
    Adding configuration option for timestamp advancement frequency
    
    Cargo format
    
    Adding support for toggling timestamping on/off
    
    Added support for eagerly activating Kakfa sources on downgrades and for recovery of timestamps after crashes
    
    Adding support for removing timestamping on deleted sources
    
    Fixing bug introduced through rebase
    
    Adding max batch increment size parameter
    
    Begin refactoring to support multiple instances of sources
    
    Adding support for sharing timestamped sources across views correctly
    
    Fixing persistency bug - now working on recovery
    
    Adding support for BringYourOwnConsistency through Kafka topics
    
    Addressing N's comment
    
    Removing changes to demo
    
    Linting
    
    adding copyright statement
    
    Clippy conforming
    
    Make timestamping default to off
    
    Lint/Clippy
    
    Clippy
    
    Removing unimplemented macro for deleting sources
    
    Modifying runner to work with timestamping
    
    Clippy + removing timestamp from util
    
    Fix to delete derived table following rebase
    
    Begin work on per source timestamping - Parser
    
    First pass at per source timestamping
    
    Working per-source consistency
    
    Timestamping - Working BYO and RT consistency - Per Source
    
    Timestamping - Working BYO and RT consistency - Per Source
    
    Timestamping - Working BYO and RT consistency - Per Source
    
    Timestamping - Working BYO and RT consistency - Per Source
    
    Removing unused option
    
    Removing unused option

commit 29d765f8b5be296ebc6ac79db4c8c92dfe2deb5a
Merge: 0abf6bcc4 b82dd5629
Author: Nikhil Benesch <nikhil.benesch@gmail.com>
Date:   Thu Jan 30 18:28:47 2020 -0500

    Merge pull request #1778 from benesch/ci-safety
    
    ci: document how we provide security for third-party pull requests

commit 0abf6bcc4122fb279f9dea311dd1899eb30616cf
Merge: 299b176eb 13850c4e9
Author: Nikhil Benesch <nikhil.benesch@gmail.com>
Date:   Thu Jan 30 17:28:24 2020 -0500

    Merge pull request #1777 from benesch/fix-ci-image
    
    bin/xcompile: set xcompiling RANLIB too

commit b82dd5629f982002545a6dafdb4e33297fe52af1
Author: Nikhil Benesch <nikhil.benesch@gmail.com>
Date:   Thu Jan 30 17:26:37 2020 -0500

    ci: document how we provide security for third-party pull requests

commit 13850c4e97b16717d89620b9ed281eb31a528255
Author: Nikhil Benesch <nikhil.benesch@gmail.com>
Date:   Thu Jan 30 17:02:11 2020 -0500

    bin/xcompile: set xcompiling RANLIB too
    
    The vendored OpenSSL build depends upon this.

commit 299b176ebd68a075cb0ccb483adab2a796676e53
Merge: b98eedca3 b0958d6d5
Author: Sean Loiselle <sean@materialize.io>
Date:   Thu Jan 30 16:48:19 2020 -0500

    Merge pull request #1767 from sploiselle/log-parsing-demo
    
    docs: log parsing demo

commit b98eedca3a5a9bc167f01d4ad0e61c6c1e8fdfd3
Merge: 5c27ba2ad 53744da12
Author: Frank McSherry <fmcsherry@me.com>
Date:   Thu Jan 30 16:05:58 2020 -0500

    Merge pull request #1488 from frankmcsherry/delta_queries
    
    Implement delta-queries for some multi-way joins

commit b0958d6d566212b13df6edb0036a075516a76d04
Author: sploiselle <sean@materialize.io>
Date:   Tue Jan 28 14:16:07 2020 -0500

    docs: log parsing demo

commit 5c27ba2ade2c544629b88c6c568d9db8c65aad47
Author: Brennan Vincent <brennan@materialize.io>
Date:   Thu Jan 30 15:51:17 2020 -0500

    adjust http_logs demo setup script to new view creating syntax (#1771)

commit 35e70f89c66260a9144ea0bf1313821ecb58c944
Author: Brennan Vincent <brennan@materialize.io>
Date:   Thu Jan 30 15:46:37 2020 -0500

    fix psql invocation (#1770)

commit 53744da12459d948d9722369c9d04364fa16a785
Author: Frank McSherry <fmcsherry@me.com>
Date:   Thu Jan 30 15:42:59 2020 -0500

    comments

commit 52a2021b594bc89876c67a9bdc1a85769e2f4ff4
Author: Frank McSherry <fmcsherry@me.com>
Date:   Thu Jan 30 14:34:18 2020 -0500

    update comment

commit 47831be58bdab4e4f8e2a40df2f36115b5c3e9e3
Author: Frank McSherry <fmcsherry@me.com>
Date:   Wed Jan 29 18:12:53 2020 -0500

    fmt

commit b40e248995a1162ef96973abb74d3df9ebb9a3e5
Author: Frank McSherry <fmcsherry@me.com>
Date:   Wed Jan 29 18:10:06 2020 -0500

    revert clarity optimization

commit 26e3707dfbb61f84d0bc3914095bad48bcdf40e1
Author: Frank McSherry <fmcsherry@me.com>
Date:   Wed Jan 29 16:51:29 2020 -0500

    fmt

commit 0ba0ecc6e82acf4dad4b8617779287984002edd3
Author: Frank McSherry <fmcsherry@me.com>
Date:   Wed Jan 29 16:41:26 2020 -0500

    comments and guards

commit 050a8605089ca1c8caf73c46bccbcfaf6a07b984
Author: Frank McSherry <fmcsherry@me.com>
Date:   Wed Jan 29 12:32:02 2020 -0500

    cargo fmt

commit 64cc73c3989a1ca158a0e28fa33a46fce24b677a
Author: Frank McSherry <fmcsherry@me.com>
Date:   Wed Jan 29 12:27:24 2020 -0500

    don't panic on absent arrangements

commit e9a38b46edc9cd13a2bb2963e0e3ac18a222ecb2
Author: Frank McSherry <fmcsherry@me.com>
Date:   Wed Jan 29 09:47:20 2020 -0500

    rebase

commit 34fbf9804dd846db01c4742e4046009b9138d2ae
Author: Frank McSherry <fmcsherry@me.com>
Date:   Wed Jan 29 08:17:50 2020 -0500

    thanks fmt

commit 31e89a74348c6eff2080b12d1aa8add4707c5c3a
Author: Frank McSherry <fmcsherry@me.com>
Date:   Wed Jan 29 08:17:04 2020 -0500

    thanks clippy

commit f91e061f26ab1bd4f91a1d364d03352fb5be2e78
Author: Frank McSherry <fmcsherry@me.com>
Date:   Wed Jan 29 07:27:04 2020 -0500

    optimize asymptotics

commit 9b5be6cb7052efe9ee5e0237fa40704645711bc5
Author: Frank McSherry <fmcsherry@me.com>
Date:   Tue Jan 28 08:04:49 2020 -0500

    rebase

commit e795a7dc0c7d53db0cdfc55402c11b67007981ab
Author: Frank McSherry <fmcsherry@me.com>
Date:   Thu Jan 23 03:38:27 2020 -0500

    adapt pretty test

commit 7ed28d5c93d4e17cc9ddf54e4f55d8acf04c11ed
Author: Frank McSherry <fmcsherry@me.com>
Date:   Wed Jan 22 16:24:50 2020 -0500

    correct pretty tests

commit 3763873e4084f3230f17289d199fa01190589ac8
Author: Frank McSherry <fmcsherry@me.com>
Date:   Wed Jan 22 15:51:36 2020 -0500

    ignore unique and reindex

commit 37380d3f0cfef7f501b011306947387635e30825
Author: Frank McSherry <fmcsherry@me.com>
Date:   Wed Jan 22 13:51:00 2020 -0500

    teach SLT to parse indexes

commit c526a493b1f1a7a6355db9c4477e3228b0215ac5
Author: Frank McSherry <fmcsherry@me.com>
Date:   Wed Jan 22 10:04:51 2020 -0500

    permute join order for readability

commit eba90baf36a2d71b3714fbdbb40ac501492d6c7a
Author: Frank McSherry <fmcsherry@me.com>
Date:   Tue Jan 21 16:20:37 2020 -0500

    only lift predicate when arrangement needed

commit 7128ed41173bb4326b9cebbe8ab9dba6f327c909
Author: Frank McSherry <fmcsherry@me.com>
Date:   Tue Jan 21 16:13:10 2020 -0500

    merge master

commit b9ef298fd7f4aedff1c8c3cbb0010bc5f468e0d2
Author: Frank McSherry <fmcsherry@me.com>
Date:   Tue Jan 21 11:53:42 2020 -0500

    deterministic key order

commit a64f7c10b10bd417bc94065d8fd71f6d974c26ed
Author: Frank McSherry <fmcsherry@me.com>
Date:   Tue Jan 21 10:39:56 2020 -0500

    remove clone

commit e9b492c2272884ad77152a90392fd0bc8921b2c5
Author: Frank McSherry <fmcsherry@me.com>
Date:   Tue Jan 21 10:22:12 2020 -0500

    apply predicates mid-join

commit 57cf91d75b987d87804624199d30e70982416bce
Author: Frank McSherry <fmcsherry@me.com>
Date:   Tue Jan 21 09:08:02 2020 -0500

    normalize demand to limit fixedpoint

commit 86f0bd131a601d9eae34d5711220c36acbbe1706
Author: Frank McSherry <fmcsherry@me.com>
Date:   Mon Jan 20 18:40:22 2020 -0500

    fixpoint for join planning

commit 22ca9cb617e8822221544584ef6c83357942f00a
Author: Frank McSherry <fmcsherry@me.com>
Date:   Mon Jan 20 18:35:40 2020 -0500

    fixpoint for join planning

commit 0c4b19b556d495d32b1e6299373d711f68079a3c
Author: Frank McSherry <fmcsherry@me.com>
Date:   Mon Jan 20 17:54:01 2020 -0500

    various bugses

commit 849676bd2e5f66bfebb4cb9df8a9fd7d7e4d32c0
Author: Frank McSherry <fmcsherry@me.com>
Date:   Mon Jan 20 11:22:11 2020 -0500

    remove various crashes

commit bde26d02f2cd19276888a774b207e86bc4b22703
Author: Frank McSherry <fmcsherry@me.com>
Date:   Mon Jan 20 09:51:15 2020 -0500

    op_ref is wrong

commit 4f4fc780ac4f3d1ea69ddb18372531a6f05e6692
Author: Frank McSherry <fmcsherry@me.com>
Date:   Mon Jan 20 09:39:43 2020 -0500

    actually check code

commit d5c8cda0742a4da1b0b3644de9e745c80fc3a663
Author: Frank McSherry <fmcsherry@me.com>
Date:   Mon Jan 20 09:36:20 2020 -0500

    clobber demand if predicates lifted

commit c483212c05e8e38a02143ddeaa953774c68a2ec1
Author: Frank McSherry <fmcsherry@me.com>
Date:   Mon Jan 20 09:33:28 2020 -0500

    rebase

commit 9b524314436e20001682db3d5364f088960358d4
Author: Frank McSherry <fmcsherry@me.com>
Date:   Mon Jan 20 09:32:02 2020 -0500

    rebase

commit f06aaab39371afebd6181885a7cb6e03c6a357fa
Author: Frank McSherry <fmcsherry@me.com>
Date:   Mon Jan 20 09:29:18 2020 -0500

    massive retype

commit 257c6e36f3f2c906f09c41dec9e52185e1aec8b9
Author: Frank McSherry <fmcsherry@me.com>
Date:   Wed Jan 15 21:03:54 2020 -0500

    choose implementation by arrangement availability

commit 4a3837678d5fda2459d2ce924a01f62a2fb244e8
Author: Frank McSherry <fmcsherry@me.com>
Date:   Wed Jan 15 16:55:18 2020 -0500

    correct doctest

commit 37bb8a8d3b295eb3e2cd9ec969f9c313a0bf55f7
Author: Frank McSherry <fmcsherry@me.com>
Date:   Wed Jan 15 16:49:32 2020 -0500

    hoist ordering logic to join_order

commit 4c3af9a29b0a769dfd6a815fc67a739439a99642
Author: Frank McSherry <fmcsherry@me.com>
Date:   Fri Jan 10 15:36:42 2020 -0500

    De-permute results before merging.
    
    The changes produced by each of the delta queries will be in a different order, and should be returned to the canonical order of relations 0 ..

commit c19ba800ffb2534b473d90b7dab6f847f7ad0f3b
Author: Frank McSherry <fmcsherry@me.com>
Date:   Fri Jan 10 15:16:37 2020 -0500

    tidy comments, dead code

commit 9a47bd911b6663ee86117cd4c86e1c36e628623e
Author: Frank McSherry <fmcsherry@me.com>
Date:   Fri Jan 10 15:09:12 2020 -0500

    add copyright header

commit 01b3cbfa29a5fa1ddbe20ef62e99481f6645ab19
Author: Frank McSherry <fmcsherry@me.com>
Date:   Fri Jan 10 15:01:32 2020 -0500

    cargo fmt

commit 118c715bcbc1e570755001fc37a6998d62de2c53
Author: Frank McSherry <fmcsherry@me.com>
Date:   Fri Jan 10 14:29:12 2020 -0500

    initial commit

commit e1e46e8fe074b64cf5d9d0dff9bd7fa038ec05d4
Author: sploiselle <sean@materialize.io>
Date:   Thu Jan 30 15:34:21 2020 -0500

    fix links in architecture.md

commit 4a02a3eedea38cb9e87645a928cf2e8aeb2cf8c8
Author: Brennan Vincent <brennan@materialize.io>
Date:   Thu Jan 30 15:05:17 2020 -0500

    unbreak deployment (#1766)

commit 0698a0eca25abdd9fef4f2aef870671162e1c4a1
Author: Brennan Vincent <brennan@materialize.io>
Date:   Thu Jan 30 14:14:36 2020 -0500

    Build and upload .deb packages (#1758)

commit 4de92d260ef6978a060c0a7f66a8f86e03567e01
Author: Brennan Vincent <brennan@materialize.io>
Date:   Thu Jan 30 13:19:59 2020 -0500

    Downgrade Ubuntu version in CI builder to 16.04 (#1738)

commit 53021efe4512aa3233b48cf22cb5ca7c6220cbc1
Merge: c541c60eb 916933759
Author: Nikhil Benesch <nikhil.benesch@gmail.com>
Date:   Thu Jan 30 12:06:04 2020 -0500

    Merge pull request #1757 from benesch/rm-simple-logger
    
    sql-parser: remove simple-logger dependency

commit c541c60eb878c70a50e367531dece0c075b47e1a
Merge: 668609ec9 513920267
Author: Sean Loiselle <sean@materialize.io>
Date:   Thu Jan 30 11:57:45 2020 -0500

    Merge pull request #1756 from sploiselle/linting-docs
    
    document bin/check and bin/lint

commit 668609ec9dd8d74e0b4f70db0ae9dbf86f5930d1
Merge: ef5540fa8 240cad485
Author: Nikhil Benesch <nikhil.benesch@gmail.com>
Date:   Thu Jan 30 11:47:24 2020 -0500

    Merge pull request #1744 from benesch/scalar-type
    
    sql: don't generate ScalarType::Unknown unnecessarily

commit ef5540fa81e4006333848375113a5961611bf1b4
Merge: 183805a79 f5c4909c6
Author: Frank McSherry <fmcsherry@me.com>
Date:   Thu Jan 30 11:38:47 2020 -0500

    Merge pull request #1754 from frankmcsherry/streamline_reduce
    
    Streamline single aggregations

commit 91693375946c6aa023ad10160b376ab8d71937db
Author: Nikhil Benesch <nikhil.benesch@gmail.com>
Date:   Thu Jan 30 11:38:29 2020 -0500

    sql-parser: remove simple-logger dependency
    
    This wasn't even used, and was bringing in a transitive dep on the MPL.

commit 183805a798f8ae1c883d6a16c393adb09f2bf638
Merge: cd0e8aa25 607f1bcb2
Author: Jessica Laughlin <JLDLaughlin@users.noreply.github.com>
Date:   Thu Jan 30 11:14:07 2020 -0500

    Merge pull request #1724 from JLDLaughlin/update_metabase_demo_docs
    
    Update Metabase demo details:
    - Use Metabase's newest release (metabase/metabase:v0.34.1)
    - Update the ./dc.sh script to download our metabase-materialize-driver
    - Mount the driver on the Metabase image
    - Update documentation

commit f5c4909c60dea6f0ed4c2aa6f85c0971ba9a9f1a
Author: Frank McSherry <fmcsherry@me.com>
Date:   Thu Jan 30 11:11:00 2020 -0500

    pack key into value

commit 607f1bcb2aa89ec266492d865b1e6d74e9f37718
Author: JLDLaughlin <jessica@materialize.io>
Date:   Thu Jan 30 11:05:44 2020 -0500

    Only pull .jar if missing, use latest Metabase release && update jar location

commit 513920267cf728e880c2196f84485dec8b2e9988
Author: sploiselle <sean@materialize.io>
Date:   Thu Jan 30 10:58:09 2020 -0500

    document bin/check and bin/lint

commit c308330e0153fdfbd4031ba56da95842934f8cca
Author: Frank McSherry <fmcsherry@me.com>
Date:   Thu Jan 30 10:35:53 2020 -0500

    streamline single aggregations

commit cd0e8aa25bcdd94927728959064c316b33483e15
Merge: 3068a28e1 0fbd7a29a
Author: Ruchir Khaitan <ruchir0001@gmail.com>
Date:   Thu Jan 30 10:23:33 2020 -0500

    Merge pull request #1745 from ruchirK/rk-1741
    
    Remove prost, use rust protobuf for demo

commit 3068a28e15e734a5e0870ed6aa0d3d088219cb7b
Merge: 9d3173429 022228277
Author: Nikhil Benesch <nikhil.benesch@gmail.com>
Date:   Thu Jan 30 02:51:22 2020 -0500

    Merge pull request #1748 from benesch/database-session
    
    pgwire,sql: complete database/schema implementation

commit 0222282770c92690cf5e53a2ee2dfc3d75012fdb
Author: Nikhil Benesch <nikhil.benesch@gmail.com>
Date:   Wed Jan 29 12:05:30 2020 -0500

    pgwire,sql: complete database/schema implementation
    
    Allow setting the database name at connection time and overriding with
    `SET database`. Fix some bugs in manipulating databases and schemas via
    SQL commands, and add a bunch more tests.
    
    Fix #1126.

commit ad311cdb7903ca71afc75347320fcdf5007b6f3a
Author: Nikhil Benesch <nikhil.benesch@gmail.com>
Date:   Thu Jan 30 00:43:13 2020 -0500

    materialized/tests: consolidate tests to speed up compiles
    
    Each integration test file cause a new binary to be linked, which can be
    rather slow. Reorganize things to keep compiles snappy. Also the old
    divisions were rather too-specifc.

commit 9d3173429fbcee1858e950841d2cd932a01b46fd
Merge: 2547adcbd 6eddd640b
Author: Nikhil Benesch <nikhil.benesch@gmail.com>
Date:   Thu Jan 30 00:29:07 2020 -0500

    Merge pull request #1415 from benesch/shh-clippy
    
    clippy: remove extraneous lints + ignore some more lints globally

commit 2547adcbd6d35417204f67cfa03b096a7f3887b1
Merge: 363b8181e 13b0af127
Author: Nikhil Benesch <nikhil.benesch@gmail.com>
Date:   Thu Jan 30 00:28:34 2020 -0500

    Merge pull request #1747 from benesch/slt-merge-skew
    
    test: correct merge skew with rename

commit 52864ae96ca042aa8b98af0ef256ba9d69c97c31
Author: Nikhil Benesch <nikhil.benesch@gmail.com>
Date:   Wed Jan 29 11:04:36 2020 -0500

    sql: move session var definitions into session module
    
    Session is tightly coupled to the extant vars; moving those defaults
    into a separate module hides this coupling.

commit 20cf36150a1e899bc9d6a3af2f3b9b74e7b813f2
Author: Nikhil Benesch <nikhil.benesch@gmail.com>
Date:   Wed Jan 29 11:01:08 2020 -0500

    sql: remove unnecessary visibility qualifier

commit 13b0af127caa803dacfbc303a49bf26a2dba9cfa
Author: Nikhil Benesch <nikhil.benesch@gmail.com>
Date:   Wed Jan 29 23:38:06 2020 -0500

    test: correct merge skew with rename
    
    test/extract.slt belongs in test/sqllogictest now. Also reformat to
    match de factor standard SLT style.

commit 6eddd640b7d7ef7af6b0ba86cfe53bde82bf8818
Author: Nikhil Benesch <nikhil.benesch@gmail.com>
Date:   Mon Dec 30 14:32:27 2019 -0500

    *: localize clippy exceptions
    
    Module-level clippy exceptions are almost universally too broad. Either
    the lint is bad, and it should be ignored globally, or the lint is
    generally good, but there is one specific place where it triggers a
    false positive. The exception is not usually intrinsic to a specific
    module, but rather a specific function or block; localize some clippy
    lints accordingly.

commit 80d08308d330c6bd41d3225f2273a041811687eb
Author: Nikhil Benesch <nikhil.benesch@gmail.com>
Date:   Mon Dec 30 14:16:27 2019 -0500

    bin/check: ignore len_zero globally
    
    This was ignored in several modules, often with the justification
    "Clippy is wrong," which is going to leave newcomers to Rust very
    confused. Just ignore it globally, so that the actual justification
    can be recorded, and so that they stop causing frustration for
    experienced Rustaceans.

commit 3b8287604050433eef9bb65844f2b463aa3c9cba
Author: Nikhil Benesch <nikhil.benesch@gmail.com>
Date:   Mon Dec 30 14:09:47 2019 -0500

    bin/check: soften complaints about clippy

commit 3df70138e6b4d5664e145facbcb2345dd042d0e2
Author: Nikhil Benesch <nikhil.benesch@gmail.com>
Date:   Mon Dec 30 14:08:18 2019 -0500

    bin/check: remove bare_trait_objects extra lint
    
    This is now a warning by default.
    
    I would have liked to keep the `extra_lints` array around, but it causes
    an invalid cargo invocation to get generated, because it appends an
    extra "-D" option with no argument.

commit 61e532ff767ad7d0111ed588902159a5a05a713f
Author: Nikhil Benesch <nikhil.benesch@gmail.com>
Date:   Mon Dec 30 14:07:04 2019 -0500

    bin/check: restore alphabetic sorting

commit d2fa7f36afb5b8c5b260dd6554338c0cd3f6e351
Author: Nikhil Benesch <nikhil.benesch@gmail.com>
Date:   Mon Dec 30 14:00:55 2019 -0500

    *: remove unnecessary clippy allows
    
    These lints are now allowed globally, so there is no need to allow them
    on a per-module basis.

commit 363b8181eb0117f4e91b482616c30ecaf91ba3d4
Merge: 1d8d66725 14d8f6421
Author: Sean Loiselle <sean@materialize.io>
Date:   Wed Jan 29 22:06:18 2020 -0500

    Merge pull request #1743 from sploiselle/show-views-v2
    
    document extensions to SHOW VIEWS

commit 0fbd7a29a3156c459efe2db898dccf8f0c835efe
Author: Ruchir Khaitan <ruchir0001@gmail.com>
Date:   Wed Jan 29 20:01:19 2020 -0500

    Remove prost, use rust protobuf for demo
    
    Fixes #1741

commit 1d8d66725cf4cad2d12e7aaf691936b1e24092a7
Merge: 0fc3dfed5 4d3433ab7
Author: Jessica Laughlin <JLDLaughlin@users.noreply.github.com>
Date:   Wed Jan 29 20:30:40 2020 -0500

    Merge pull request #1729 from JLDLaughlin/update_kafka_verify
    
    Don't panic on kafka-verify failures

commit 0fc3dfed59fe0534d8387598cfe84d497bf761dd
Merge: c33d3ef25 0f65e8457
Author: Ruchir Khaitan <ruchir0001@gmail.com>
Date:   Wed Jan 29 19:09:49 2020 -0500

    Merge pull request #1739 from quodlibetor/billing-demo-build-errors
    
    billing-demo: give a unique error message for every build error

commit 240cad48531b02b4ad25bc93cef337f59cb15fe0
Author: Nikhil Benesch <nikhil.benesch@gmail.com>
Date:   Wed Jan 29 18:09:40 2020 -0500

    sql: don't generate ScalarType::Unknown unnecessarily
    
    Work a bit harder to properly type NULLs. This prevents the optimizer
    from losing type information as it elides nodes from the AST.
    
    Fix #1740.

commit 7fa3bd2d3fe64736e32b77e364f5f127b453c930
Author: Nikhil Benesch <nikhil.benesch@gmail.com>
Date:   Wed Jan 29 16:40:32 2020 -0500

    repr: rename ScalarType::Null to ScalarType::Unknown
    
    This matches its name in Postgres and also better indicates its purpose.
    It is not in general an acceptable type for a Datum::Null, and
    AST transformations should seek to propagate richer type information.
    (See #1740).

commit c33d3ef254e5dc6554f7b63e65772cd5f87dd076
Merge: 3ee589f61 a81219e5d
Author: Frank McSherry <fmcsherry@me.com>
Date:   Wed Jan 29 18:02:07 2020 -0500

    Merge pull request #1736 from frankmcsherry/refresh_type
    
    Refresh relation type after optimization

commit 14d8f642160320a0bc302ad817974be93b64d106
Author: sploiselle <sean@materialize.io>
Date:   Wed Jan 29 17:54:26 2020 -0500

    document extensions to SHOW VIEWS

commit a81219e5d14f851387c4c47d4136df1563f8c6bd
Author: Frank McSherry <fmcsherry@me.com>
Date:   Wed Jan 29 17:41:50 2020 -0500

    unsatisfactory fix

commit 3ee589f61921d43a7db3af81eb9cc30fc9263af9
Author: Brennan Vincent <brennan@materialize.io>
Date:   Wed Jan 29 16:37:08 2020 -0500

    vendor openssl (#1735)
    
    Adding this feature to `reqwest` causes openssl to be statically linked and built from source, wherever it is depended on.

commit bf90a46ba0cd2e6581b9ea06d0ba9080c62c59ed
Author: Nikhil Benesch <nikhil.benesch@gmail.com>
Date:   Wed Jan 29 12:09:57 2020 -0500

    netlify: proxy non-docs to new website

commit bbc042f362686c0a59ab09c139dceb25bf86736f
Author: Frank McSherry <fmcsherry@me.com>
Date:   Wed Jan 29 15:07:30 2020 -0500

    avoid losing type information

commit 0f65e8457b1129705a93a92c9ad1fe06f52814be
Author: Brandon W Maister <bwm@materialize.io>
Date:   Wed Jan 29 14:45:06 2020 -0500

    billing-demo: give a unique error message for every build error

commit 4d3433ab73d6db9084797c7389a902f4aaf62cc9
Author: JLDLaughlin <jessica@materialize.io>
Date:   Wed Jan 29 14:35:21 2020 -0500

    Clippy

commit c26857324729704487e793e60162abf108afb679
Author: Frank McSherry <fmcsherry@me.com>
Date:   Wed Jan 29 14:25:32 2020 -0500

    clone_from_to

commit 48696ac93e5aedf6881fa154d0db653f1e34f349
Author: Frank McSherry <fmcsherry@me.com>
Date:   Wed Jan 29 14:24:23 2020 -0500

    update plan

commit 3ecfebb8f3552eda6533e2ac07801f69c9e55a9e
Author: JLDLaughlin <jessica@materialize.io>
Date:   Wed Jan 29 14:22:16 2020 -0500

    Deal with potential duplicates

commit d0cdac1f7b848b920c8d4149470288e10be1fd03
Author: Frank McSherry <fmcsherry@me.com>
Date:   Wed Jan 29 13:50:55 2020 -0500

    refresh relation type after optimization

commit 9284f784a9a2e8a035ba5c37d0e667e60907746d
Author: Brennan Vincent <brennan@materialize.io>
Date:   Wed Jan 29 12:51:51 2020 -0500

    `csv_extract` function (#1721)

commit 228dc451d0f76c0e4d83d2ff08ba61011860d5c7
Merge: b471937f4 a62749da5
Author: Andi Wang <5522362+wangandi@users.noreply.github.com>
Date:   Wed Jan 29 12:15:02 2020 -0500

    Merge pull request #1731 from wangandi/patch-billing-demo
    
    Make views in billing demo + bootstrap materialized views.

commit a62749da57383e78413322c0eca5c21077c1d864
Author: Andi Wang <andi@materialize.io>
Date:   Wed Jan 29 11:51:17 2020 -0500

    Make views in billing demo + bootstrap materialized views.

commit b471937f491a923db83890ec52b6b7490abc9ba6
Merge: c1ed8fcaa e328d7ded
Author: Nikhil Benesch <nikhil.benesch@gmail.com>
Date:   Wed Jan 29 11:13:35 2020 -0500

    Merge pull request #1727 from benesch/test-reorg
    
    test: split sqllogictest and testdrive tests

commit 59c510bdb6b6fd979ccdb8689ac30ac6744af827
Author: JLDLaughlin <jessica@materialize.io>
Date:   Wed Jan 29 11:11:17 2020 -0500

    Gross comparison of Avro Values

commit e328d7ded0564fd3e3ab85a6afab8fcaad862656
Author: Nikhil Benesch <nikhil.benesch@gmail.com>
Date:   Wed Jan 29 10:35:17 2020 -0500

    test: split sqllogictest and testdrive tests
    
    We're at the point where we have enough test files that intermingling
    testdrive and sqllogictest files is confusing. Split them into separate
    directories.
    
    This also opens the door for non-testdrive non-sqllogictest integration
    tests, like (perhaps) chbench.

commit c1ed8fcaaf0b21f09022e66f4be0b35848b5c289
Merge: 41c53db0e 079690f64
Author: Nikhil Benesch <nikhil.benesch@gmail.com>
Date:   Wed Jan 29 10:39:57 2020 -0500

    Merge pull request #1688 from benesch/protobuf-fixes
    
    sql: don't confuse inline and file protobuf schemas

commit 079690f64ed5a2853cfa7e5b48b25d7392f98fbe
Author: Nikhil Benesch <nikhil.benesch@gmail.com>
Date:   Sun Jan 26 23:40:37 2020 -0500

    sql: don't confuse inline and file protobuf schemas
    
    The statement
    
        CREATE SOURCE s FROM 'kafka://...' USING SCHEMA 'foo'
    
    would previously interpret 'foo' as an inline schema whenever 'foo' was
    valid base64, and a path to a file otherwise. This is a bad assumption,
    as something like 'filename' would be incorrectly interpreted as a
    protobuf descriptor with the contents 'filename', rather than the path
    to a file named 'filename'.
    
    The fix in this commit is to introduce a separate statement variant for
    reading from disk, i.e.,
    
        CREATE SOURCE s FROM 'kafka://...' USING SCHEMA FILE 'foo'
    
    so that the first form unambiguously refers to inline schemas.
    
    This commit also changes the expected encoding of the inline schema from
    base64 to the PostgreSQL bytea input format, for consistency with the
    existing support for representing arbitrary bytes as string literals.
    
    The concept of a schema file is fairly general, so this commit
    allows Avro schemas to be read from files as well.
    
    Finally this commit adjusts the protobuf connector to store the raw
    descriptors, rather than storing the path to the descriptor file. This
    is important because we can't trust that the descriptor file will
    continue to exist if we crash and reboot. Storing it in the connector
    means it will be persisted to the catalog at plan time, and therefore is
    guaranteed to continue to be accessible after a reboot.

commit 0c43114cab26346bbf947d761abbe6f5730e4e1c
Author: JLDLaughlin <jessica@materialize.io>
Date:   Wed Jan 29 09:56:15 2020 -0500

    Don't panic on kafka-verify failures

commit 41c53db0e2f93f48ca22b73aecefaae2d55e8893
Merge: dd780c1be 95e27c783
Author: Andi Wang <5522362+wangandi@users.noreply.github.com>
Date:   Tue Jan 28 22:54:19 2020 -0500

    Merge pull request #1641 from wangandi/dropprimaryindex
    
    Allow unmaterializing a view. (+ names are back in frontiers view)

commit 95e27c78341bc477e816981ced2550ed8dd35a42
Author: Andi Wang <andi@materialize.io>
Date:   Tue Jan 28 18:27:47 2020 -0500

    Comment out and add issue number for failing test.

commit 00e3bbf9fb9004556704e2fbefe81b9fd233498d
Author: JLDLaughlin <jessica@materialize.io>
Date:   Tue Jan 28 17:59:12 2020 -0500

    Download metabase-materialize-driver and mount it

commit dd780c1be1cb59a7806092860191b1d6b9e4c62a
Author: Brennan Vincent <brennan@materialize.io>
Date:   Tue Jan 28 17:21:25 2020 -0500

    Better error message when sqlogictest fails due to no running postgres instance (#1723)

commit 5f65d9a5ac417bb3b45a720b728a1826f7fe0903
Author: Andi Wang <andi@materialize.io>
Date:   Tue Jan 28 16:48:17 2020 -0500

    Address Frank's comments. Fix dependencies.td.

commit 4301b3758bf22f2470e06db108e8bddaeeb24064
Merge: c17c82e4c 8a266fb8a
Author: Sean Loiselle <sean@materialize.io>
Date:   Tue Jan 28 15:58:09 2020 -0500

    Merge pull request #1719 from sploiselle/show-columns
    
    document SHOW COLUMN

commit 8a266fb8aa84a139290018b2f7c083f0ed9736a9
Author: sploiselle <sean@materialize.io>
Date:   Tue Jan 28 14:27:06 2020 -0500

    document SHOW COLUMN

commit 9606829c4bb8a8a278567e38d3031f97fdb2db41
Author: Andi Wang <andi@materialize.io>
Date:   Wed Jan 22 17:52:04 2020 -0500

    Have unmaterialized views by default. Expand SHOW VIEWS.

commit c17c82e4c337b7ad22b518a65c8e0319686aa122
Merge: 6b31a667c 9cb026b0f
Author: Frank McSherry <fmcsherry@me.com>
Date:   Tue Jan 28 13:42:29 2020 -0500

    Merge pull request #1672 from frankmcsherry/reduce_implementation
    
    Improve robustness of Reduce implementation.

commit 6b31a667c421133fad999c96f5bc8ae3debb3abb
Merge: 59c195776 04b8a41a0
Author: Sean Loiselle <sean@materialize.io>
Date:   Tue Jan 28 13:41:40 2020 -0500

    Merge pull request #1654 from sploiselle/index-docs
    
    docs: views not materialized by default; add'l indexes on views

commit 04b8a41a05c5f0d34802765a2c6a921450c94aae
Author: sploiselle <sean@materialize.io>
Date:   Thu Jan 23 12:11:18 2020 -0500

    docs: views not materialized by default; add'l indexes on views

commit 9cb026b0feb9b000133971065bcfe3228a09d8b9
Author: Frank McSherry <fmcsherry@me.com>
Date:   Tue Jan 28 12:36:24 2020 -0500

    improve comments, remove non-robust

commit 5a7ce243bb8efe48bd1788a237a0f9c9981877fd
Author: Frank McSherry <fmcsherry@me.com>
Date:   Fri Jan 24 16:49:16 2020 -0500

    fix memory leak in defunct code (posterity)

commit 970e4e9de66cae547f49f22c71693a4f105b6773
Author: Frank McSherry <fmcsherry@me.com>
Date:   Fri Jan 24 16:42:42 2020 -0500

    improve comments

commit 254e5843044d46c95fa4436e920a7ffd0827760b
Author: Frank McSherry <fmcsherry@me.com>
Date:   Fri Jan 24 14:01:46 2020 -0500

    random clippy nonsense

commit d4c12c799ce3393361b8333cb0137a1b1ba1e07e
Author: Frank McSherry <fmcsherry@me.com>
Date:   Fri Jan 24 13:57:39 2020 -0500

    collapse if statements

commit d432fbc3ac673d5e1c4327f5079f7f550b096fbe
Author: Frank McSherry <fmcsherry@me.com>
Date:   Fri Jan 24 13:41:19 2020 -0500

    Improve robustness of Reduce implementation.
    
    The implementation of Reduce is improved in three ways. First, each reduction is performed independently, to avoid maintaining a cross-product of values. Second, distinct aggregates are applied in a distinct operator, which can reduce the churn. Third, hierarchical aggregations like min and max are applied hierarchically to minimize the update latency.

commit 86882eae3b20856021f886b2718abcd398192f1f
Author: Andi Wang <andi@materialize.io>
Date:   Mon Jan 27 15:34:47 2020 -0500

    Check queryability at view creation.

commit 59c19577690281e818f343e338ddf6c77502e55e
Merge: b68b8915a 5f0e44eab
Author: Sean Loiselle <sean@materialize.io>
Date:   Tue Jan 28 10:55:01 2020 -0500

    Merge pull request #1667 from sploiselle/docs-sinks
    
    docs: document sinks

commit c753218d580b2174d318565426883d0955c89a5e
Author: JLDLaughlin <jessica@materialize.io>
Date:   Mon Jan 27 17:41:24 2020 -0500

    Actually add docs...

commit b68b8915aeb6487747b2ad4912722121b8f2cdc6
Merge: 1e8d71302 9b5627eb7
Author: Ruchir Khaitan <ruchir0001@gmail.com>
Date:   Mon Jan 27 16:16:42 2020 -0500

    Merge pull request #1711 from ruchirK/rk-1707
    
    Fix up the demo a little bit + log some common errors at `warn`

commit 5f0e44eabc491b86298a1da922139aeb7b107656
Author: sploiselle <sean@materialize.io>
Date:   Thu Jan 23 17:12:14 2020 -0500

    docs: document sinks

commit 1e8d71302bc5732fec4a367935e4a1bb754deced
Author: Ruchir Khaitan <ruchir0001@gmail.com>
Date:   Mon Jan 27 16:10:29 2020 -0500

    Fix gluing typo

commit 9b5627eb70079c1333a87fcb8c3b322f2b0a1070
Author: Ruchir Khaitan <ruchir0001@gmail.com>
Date:   Mon Jan 27 15:33:03 2020 -0500

    Downgrade fast-forwarding logs to warn
    
    Fixes #1707

commit 55f5e605f3d5d999a1a7e5c1aafe13f5aed85d48
Author: Ruchir Khaitan <ruchir0001@gmail.com>
Date:   Mon Jan 27 15:26:35 2020 -0500

    Added docker-compose for this demo

commit 7c2101fbf1d7895fc3e564dd1ca9bb6272e862a3
Author: Ruchir Khaitan <ruchir0001@gmail.com>
Date:   Mon Jan 27 15:25:04 2020 -0500

    Change demo to only read from source once

commit ff40202f31a5b06501bcbfe9bd248bc8d631b1f7
Merge: 71ecc98e6 a8c84a263
Author: Nikhil Benesch <nikhil.benesch@gmail.com>
Date:   Mon Jan 27 14:30:35 2020 -0500

    Merge pull request #1691 from MaterializeInc/dependabot/cargo/differential-dataflow-2f7e24f
    
    build(deps): bump differential-dataflow from `fbea6a8` to `2f7e24f`

commit 71ecc98e67b17075927817d97a6b6be5b5e33e5e
Author: Brennan Vincent <brennan@materialize.io>
Date:   Mon Jan 27 13:50:32 2020 -0500

    changes for cargo-deb to work (#1703)

commit e460e03495ad4e81e30fb5371e5b66f81ab502cb
Author: Brennan Vincent <brennan@materialize.io>
Date:   Mon Jan 27 13:43:14 2020 -0500

    Rename `regex` to `regexp_extract` (#1705)

commit bd2144bbbff3a9007aadf93c6efca169700e71e9
Author: Brennan Vincent <brennan@materialize.io>
Date:   Mon Jan 27 13:17:47 2020 -0500

    add `regex` to sql_funcs.json (#1698)

commit c1f72075fcfc8fd3056dda17ad2bd8586d3c62cb
Merge: 0409bdac0 fccb7bf57
Author: Frank McSherry <fmcsherry@me.com>
Date:   Mon Jan 27 12:15:55 2020 -0500

    Merge pull request #1702 from frankmcsherry/let_normalization
    
    Normalize let binding names

commit fccb7bf5764b3859234a9e731dbd6cc1e3a8156d
Author: Frank McSherry <fmcsherry@me.com>
Date:   Mon Jan 27 11:57:23 2020 -0500

    Normalize let binding names

commit 2af01991eb8005e8d81f992c49dca9b542521f2a
Author: Andi Wang <andi@materialize.io>
Date:   Thu Jan 23 14:47:05 2020 -0500

    Add maintaining information on whether a view is queryable.

commit ea8958746d01495c93139cec68cdcaa069ac4b6c
Author: Andi Wang <andi@materialize.io>
Date:   Wed Jan 22 19:05:14 2020 -0500

    Allow unmaterialized views to be selectable if they depend on materialized views.

commit e35e08df047793e579978941e1a81a60e48d5c6d
Author: Andi Wang <andi@materialize.io>
Date:   Wed Jan 22 18:17:57 2020 -0500

    Fix bug where temp indexes were not being deleted.

commit 0b37eed9e406edc2ca74ac4810219d7f842aa05f
Author: Andi Wang <andi@materialize.io>
Date:   Wed Jan 22 17:25:38 2020 -0500

    Conform to clippy.

commit d432caefaaf1b2e0e5114bcaab15912f51e055cd
Author: Andi Wang <andi@materialize.io>
Date:   Wed Jan 22 11:24:35 2020 -0500

    Allow unmaterializing a view. Indexes have independent frontiers.

commit 0409bdac03e714981ee010b1d2a42a1fafd15554
Merge: d1a6b4c6a 63c1eae38
Author: Nikhil Benesch <nikhil.benesch@gmail.com>
Date:   Mon Jan 27 11:27:19 2020 -0500

    Merge pull request #1700 from benesch/hi-ruchir
    
    www: add Ruchir to team page

commit 63c1eae387a07bd986e08dcfec4a8c67e77a4f1d
Author: Nikhil Benesch <nikhil.benesch@gmail.com>
Date:   Mon Jan 27 11:19:37 2020 -0500

    www: add Ruchir to team page
    
    Even though a website redesign that removes the team page entirely is
    imminent, add him to the team page for now in the interest of posterity.

commit d1a6b4c6ab9bf97e6dc5b3a24df33a6fa93254ee
Merge: 449cf890e 2526b5497
Author: Sean Loiselle <sean@materialize.io>
Date:   Mon Jan 27 10:57:21 2020 -0500

    Merge pull request #1697 from sploiselle/add-hugo-instructions
    
    add instructions for viewing site using local version

commit 2526b5497bb27549e7030e4ba83b65d8530f0ff6
Author: sploiselle <sean@materialize.io>
Date:   Mon Jan 27 10:52:28 2020 -0500

    add instructions for viewing site using local version

commit 449cf890edc41d3f31631666a68142c88f02e8c9
Author: Brennan Vincent <brennan@materialize.io>
Date:   Mon Jan 27 10:20:24 2020 -0500

    Add `regex` function to match regexes in data (#1695)
    
    * Add `regex` function to match regexes in data
    
    This can ultimately be used to separate the concern of data processing
    (csv, regex, avro, etc.) from source creation, as required by
    issue #1579

commit a8c84a263238661a680c2e51b4ced12ff2c88db6
Author: dependabot-preview[bot] <27856297+dependabot-preview[bot]@users.noreply.github.com>
Date:   Mon Jan 27 12:59:14 2020 +0000

    build(deps): bump differential-dataflow from `fbea6a8` to `2f7e24f`
    
    Bumps [differential-dataflow](https://github.com/TimelyDataflow/differential-dataflow) from `fbea6a8` to `2f7e24f`.
    - [Release notes](https://github.com/TimelyDataflow/differential-dataflow/releases)
    - [Commits](https://github.com/TimelyDataflow/differential-dataflow/compare/fbea6a8ec599c6173642bf5b40a19ea3024d537d...2f7e24f3843cab43a71a2cb99a7fed05e2394045)
    
    Signed-off-by: dependabot-preview[bot] <support@dependabot.com>

commit 93c11a707cdc4d40291aa62759802d6234bc254c
Merge: 9daca5176 1ee5b9199
Author: Nikhil Benesch <nikhil.benesch@gmail.com>
Date:   Mon Jan 27 07:57:28 2020 -0500

    Merge pull request #1693 from MaterializeInc/dependabot/cargo/csv-1.1.3
    
    build(deps): bump csv from 1.1.2 to 1.1.3

commit 9daca517663e4da8ceb6ee29455c2c5959a0e757
Merge: 4462a2aa1 2b3ae10a1
Author: Nikhil Benesch <nikhil.benesch@gmail.com>
Date:   Mon Jan 27 07:57:01 2020 -0500

    Merge pull request #1692 from MaterializeInc/dependabot/cargo/bytes-0.5.4
    
    build(deps): bump bytes from 0.5.3 to 0.5.4

commit 4462a2aa15135e7c81c8b7e022d9b56f3f733ee3
Merge: 2f753bedc 332250605
Author: Nikhil Benesch <nikhil.benesch@gmail.com>
Date:   Mon Jan 27 07:55:59 2020 -0500

    Merge pull request #1690 from MaterializeInc/dependabot/cargo/tokio-0.2.10
    
    build(deps): bump tokio from 0.2.9 to 0.2.10

commit 2f753bedc570c9e425d1f8adee558b898b36af38
Merge: 397ac6201 59e8a2144
Author: Nikhil Benesch <nikhil.benesch@gmail.com>
Date:   Mon Jan 27 07:55:40 2020 -0500

    Merge pull request #1689 from MaterializeInc/dependabot/cargo/serde_json-1.0.45
    
    build(deps): bump serde_json from 1.0.44 to 1.0.45

commit 1ee5b919967027bce6c6f2f2795c23c4c67db848
Author: dependabot-preview[bot] <27856297+dependabot-preview[bot]@users.noreply.github.com>
Date:   Mon Jan 27 10:40:26 2020 +0000

    build(deps): bump csv from 1.1.2 to 1.1.3
    
    Bumps [csv](https://github.com/BurntSushi/rust-csv) from 1.1.2 to 1.1.3.
    - [Release notes](https://github.com/BurntSushi/rust-csv/releases)
    - [Commits](https://github.com/BurntSushi/rust-csv/compare/1.1.2...1.1.3)
    
    Signed-off-by: dependabot-preview[bot] <support@dependabot.com>

commit 2b3ae10a15d88272dd3f069e765b18e1df93392e
Author: dependabot-preview[bot] <27856297+dependabot-preview[bot]@users.noreply.github.com>
Date:   Mon Jan 27 10:39:58 2020 +0000

    build(deps): bump bytes from 0.5.3 to 0.5.4
    
    Bumps [bytes](https://github.com/tokio-rs/bytes) from 0.5.3 to 0.5.4.
    - [Release notes](https://github.com/tokio-rs/bytes/releases)
    - [Changelog](https://github.com/tokio-rs/bytes/blob/master/CHANGELOG.md)
    - [Commits](https://github.com/tokio-rs/bytes/compare/v0.5.3...v0.5.4)
    
    Signed-off-by: dependabot-preview[bot] <support@dependabot.com>

commit 3322506052b93c9bca93d0e51cbe7c508d23af4a
Author: dependabot-preview[bot] <27856297+dependabot-preview[bot]@users.noreply.github.com>
Date:   Mon Jan 27 10:38:55 2020 +0000

    build(deps): bump tokio from 0.2.9 to 0.2.10
    
    Bumps [tokio](https://github.com/tokio-rs/tokio) from 0.2.9 to 0.2.10.
    - [Release notes](https://github.com/tokio-rs/tokio/releases)
    - [Commits](https://github.com/tokio-rs/tokio/compare/tokio-0.2.9...tokio-0.2.10)
    
    Signed-off-by: dependabot-preview[bot] <support@dependabot.com>

commit 59e8a2144b3acd96276ac015c91c0fcb1c804437
Author: dependabot-preview[bot] <27856297+dependabot-preview[bot]@users.noreply.github.com>
Date:   Mon Jan 27 10:38:32 2020 +0000

    build(deps): bump serde_json from 1.0.44 to 1.0.45
    
    Bumps [serde_json](https://github.com/serde-rs/json) from 1.0.44 to 1.0.45.
    - [Release notes](https://github.com/serde-rs/json/releases)
    - [Commits](https://github.com/serde-rs/json/compare/v1.0.44...v1.0.45)
    
    Signed-off-by: dependabot-preview[bot] <support@dependabot.com>

commit 397ac6201ccebed97f9a0d6378b0ef0aff193b3d
Merge: 18422fb9a dd0e3473c
Author: Nikhil Benesch <nikhil.benesch@gmail.com>
Date:   Sun Jan 26 23:47:50 2020 -0500

    Merge pull request #1687 from ruchirK/rk-1686
    
    Fix rdkafka version skew

commit dd0e3473cb6d0a08c8b9c1d6ffa65520bbb16144
Author: Ruchir Khaitan <ruchir0001@gmail.com>
Date:   Sun Jan 26 22:54:43 2020 -0500

    Fix rdkafka version skew
    
    Closes #1686

commit 18422fb9a9458e0b4f1afad02e3b77d0d381c870
Author: Ruchir Khaitan <ruchir0001@gmail.com>
Date:   Sun Jan 26 22:25:25 2020 -0500

    Add a demo where materialize is used as a streaming microservice
    
    Co-authored-by: Brandon W Maister <quodlibetor@gmail.com>
    
    Closes #1307

commit ece59b08deff3e1922dad4942fcd1affd886e2fe
Merge: d4c491a89 59b82430c
Author: Nikhil Benesch <nikhil.benesch@gmail.com>
Date:   Sun Jan 26 17:58:13 2020 -0500

    Merge pull request #1679 from benesch/testdrive-fixes
    
    testdrive: remove redundancy in protobuf handling

commit 59b82430c5a1253b829fa26d59546263c8665525
Author: Nikhil Benesch <nikhil.benesch@gmail.com>
Date:   Sun Jan 26 17:12:08 2020 -0500

    testdrive: improve documentation and layout
    
    Reorganize the crate's exports to be a bit more sensible, and document
    the somewhat unique error handling philosophy.

commit a5a81e332c0cd4e80657dffb91b07128dd95b9aa
Author: Nikhil Benesch <nikhil.benesch@gmail.com>
Date:   Sat Jan 25 01:51:45 2020 -0500

    test: wrap some long sql queries

commit 7fb94b8b167db6406b814fd83c089720d33d4d82
Author: Nikhil Benesch <nikhil.benesch@gmail.com>
Date:   Sat Jan 25 01:47:11 2020 -0500

    testdrive: remove superflous error variants
    
    ErrCtx already exists with exactly the same behavior in the same module.
    It's called ResultCtx.
    
    Error::Message is a less-general version of Error::General. The latter
    is intentionally not constructible from a string, in the hopes that
    folks will provide more detailed error messages rather than using
    whatever string happens to be convenient.

commit 46c6a93a7bdf5e4d323764eb588463736b0e544f
Author: Nikhil Benesch <nikhil.benesch@gmail.com>
Date:   Sat Jan 25 01:38:17 2020 -0500

    testdrive: derive descriptor data from compiled rust protos
    
    For protobuf sources, Materialize needs the FileDescriptorSet that
    describes the protobuf schema. Testdrive was currently producing this
    data twice; once in the build script, when compiling the Rust protobufs,
    and again at runtime. Just expose the FileDescriptorSet that's already
    embedded within testdrive, which allows us to eliminate a *lot* of
    complexity. Notably, the data directory, which didn't compose well with
    stdin scripts, is no longer necessary.

commit d4c491a894310b48e84890d56dba1fd1303a78c7
Author: Brennan Vincent <brennan@materialize.io>
Date:   Sat Jan 25 05:37:23 2020 -0500

    Remove parsing support for MS SQL Server "National" strings (#1677)

commit 9b0364337e95e097756a1fb11acea5238105ed47
Merge: ee86c0547 dfb568c1b
Author: Nikhil Benesch <nikhil.benesch@gmail.com>
Date:   Sat Jan 25 01:15:43 2020 -0500

    Merge pull request #1678 from benesch/catalog-fixes
    
    catalog,sql: support DROP {DATABASE | SCHEMA}

commit dfb568c1ba94a312557af475fa2309f62e0e22d3
Author: Nikhil Benesch <nikhil.benesch@gmail.com>
Date:   Fri Jan 24 23:46:04 2020 -0500

    catalog,sql: support DROP {DATABASE | SCHEMA}
    
    Additional tests forthcoming in a future commit, when we support setting
    the session database and search path.
    
    Note that this commit also greatly simplifies the testdrive code to
    return materialized to a pristine state before running each test file,
    by simply dropping all existing databases.

commit 1c2c0fb13e8a9a8eba5357e6b8cba582c7e44c96
Author: Brennan Vincent <brennan@materialize.io>
Date:   Fri Jan 24 16:56:23 2020 -0500

    move empty queries check to the right place

commit ee86c05475acf68d6428c7c1f28d0e5201d95756
Merge: 0b699bff1 2680a683a
Author: Nikhil Benesch <nikhil.benesch@gmail.com>
Date:   Fri Jan 24 15:45:08 2020 -0500

    Merge pull request #1675 from benesch/build-sha-override
    
    materialized: allow overriding the embedded build sha

commit 2680a683a00bc76a3731d3cf70cee5abbc3df235
Author: Nikhil Benesch <nikhil.benesch@gmail.com>
Date:   Fri Jan 24 15:29:55 2020 -0500

    materialized: allow overriding the embedded build sha
    
    Allow overriding the build SHA that's embedded into the binary by
    setting the MZ_DEV_BUILD_SHA environment variable at compile time. This
    is necessary to support distribution platforms that compile from source
    tarballs, rather than from the Git repository.

commit 0b699bff1c3c3ac28b77c1e3309a2828954cc398
Author: Brennan Vincent <brennan@materialize.io>
Date:   Fri Jan 24 14:05:13 2020 -0500

    get rid of newlines in word list (#1671)

commit c6fbebfbc866d9a6d419a0617ad24146da52ad87
Author: Nikhil Benesch <nikhil.benesch@gmail.com>
Date:   Fri Jan 24 11:40:13 2020 -0500

    catalog: hide away transactional API
    
    This allows a cleaner separation of concerns. For example, the catalog
    is now responsible for creating the default public schema in a new
    database.

commit bd6145ed2635cd77ee3f21aa0fe805e1577166dc
Merge: 15f3edd07 68cdf984a
Author: Nikhil Benesch <nikhil.benesch@gmail.com>
Date:   Fri Jan 24 08:28:29 2020 -0500

    Merge pull request #1668 from benesch/catalog-tx
    
    catalog: transactionalize api

commit 15f3edd07136f0a5108b9bcfe2d4140388d3f208
Merge: 7e64fa153 660a3583e
Author: Frank McSherry <fmcsherry@me.com>
Date:   Fri Jan 24 14:13:07 2020 +0100

    Merge pull request #1669 from frankmcsherry/robust_reduce
    
    Avoid per-row,column arena in Reduce

commit 660a3583e6abc21d127b9b27c01dee3140c1e0e4
Author: Frank McSherry <fmcsherry@me.com>
Date:   Fri Jan 24 07:21:09 2020 -0500

    avoid per-column arena

commit 68cdf984a2aed64a0eeae7035324c8709f8ff5d9
Author: Nikhil Benesch <nikhil.benesch@gmail.com>
Date:   Thu Jan 23 17:16:07 2020 -0500

    catalog: transactionalize api
    
    Rework the catalog API so that updates happen transactionally. This is
    necessary for DROP {DATABASE|SCHEMA}, where dropping a database or
    schema requires dropping all the items contained within atomically. It
    also, incidentally, fixes a bug in DROP VIEW ... CASCADE, where removal
    of the cascaded objects would not be persisted atomically.

commit 7e64fa153af14c7feecfce29c12a4a4586fc4825
Merge: 3c85b9392 2130e1054
Author: Jamie Brandon <jamie@scattered-thoughts.net>
Date:   Thu Jan 23 21:04:08 2020 +0000

    Merge pull request #1663 from jamii/todo
    
    Think about a TODO

commit 3c85b93929627e2f4044c8d5490d865ca4eb380e
Merge: 9575ab779 bb85581ed
Author: Sean Loiselle <sean@materialize.io>
Date:   Thu Jan 23 15:29:48 2020 -0500

    Merge pull request #1160 from sploiselle/connect-to-materialize
    
    docs: add connection section & CLI docs

commit bb85581ed6df3aca9cee6b2005ce65e430587bd4
Author: sploiselle <sean@materialize.io>
Date:   Tue Dec 3 13:58:01 2019 -0500

    docs: add connection section

commit 9575ab7791bc96a11f6afa01a4ade6a145f9bca6
Merge: f968fcfbd bfa871f9b
Author: Sean Loiselle <sean@materialize.io>
Date:   Thu Jan 23 15:22:08 2020 -0500

    Merge pull request #1235 from sploiselle/doc-date-trunc-func
    
    docs: date_trunc func

commit 2130e1054b25a4da435e16e06075f80128713cdd
Author: Jamie Brandon <jamie@scattered-thoughts.net>
Date:   Thu Jan 23 20:21:06 2020 +0000

    Think about a TODO

commit bfa871f9b0002791e9e587186718286a3fdd12fb
Author: sploiselle <sean@materialize.io>
Date:   Mon Dec 9 15:00:09 2019 -0500

    docs: date_trunc func

commit f968fcfbdd4ff2b29b55ecdde8bcdbe71623e617
Merge: 371093030 1e847658f
Author: Sean Loiselle <sean@materialize.io>
Date:   Thu Jan 23 15:10:06 2020 -0500

    Merge pull request #1622 from sploiselle/tail-file-source
    
    docs: describe tailing files + regex on file updates

commit 1e847658fae7a8453d8f3f5463dcd59bf89859c9
Author: sploiselle <sean@materialize.io>
Date:   Tue Jan 21 14:40:22 2020 -0500

    docs: describe tailing files + regex on file updates

commit 371093030e158462e1e80691f61f17177daa6fac
Author: Brennan Vincent <brennan@materialize.io>
Date:   Thu Jan 23 14:24:16 2020 -0500

    replace count(distinct) with query we can plan a bit better (#1659)
    
    see #676 for the work to actually make the original query better

commit 6b29d1fb402dac0df0f03ba815cb1705719e9f66
Merge: 12d64985c ea42f75bf
Author: Nikhil Benesch <nikhil.benesch@gmail.com>
Date:   Thu Jan 23 13:02:32 2020 -0500

    Merge pull request #14 from MaterializeInc/pick-dialect
    
    Choose dialect via config file

commit ea42f75bfa5cc93aa3351823d8c38af49e703189
Author: Nikhil Benesch <nikhil.benesch@gmail.com>
Date:   Tue Jan 21 17:21:33 2020 -0500

    Choose dialect via config file
    
    Allow the user to choose their dialect via the config file, rather than
    requiring a rebuild.

commit 1686f785f41b1668f4580d582f395644994af28a
Author: Brennan Vincent <brennan@materialize.io>
Date:   Thu Jan 23 12:58:28 2020 -0500

    demos -> demo (#1652)

commit 342f214a21e493985ecf91275f0b9a99f544301b
Author: Nikhil Benesch <nikhil.benesch@gmail.com>
Date:   Thu Jan 23 12:53:25 2020 -0500

    ex: rename to demo (#1645)
    
    As discussed on Slack. These are all demos, so the name "demo" is more
    descriptive than "ex". demo/chbench will eventually move to
    test/chbench, as it is more of an integration test than a demo.

commit afd24bc83724f0ab6bce191d1024c20ede3bec61
Author: Brennan Vincent <brennan@materialize.io>
Date:   Thu Jan 23 12:40:12 2020 -0500

    Basic demo of logs from an HTTP server (#1644)

commit 02e09823b874e689fbd2dd90af8be0c6c810028b
Merge: 5cde31982 a98a441fb
Author: Frank McSherry <fmcsherry@me.com>
Date:   Thu Jan 23 18:11:20 2020 +0100

    Merge pull request #1650 from frankmcsherry/dont_unbind
    
    Disable unbind

commit a98a441fb369b853630d2efeeb49b8e28fcfa208
Author: Frank McSherry <fmcsherry@me.com>
Date:   Thu Jan 23 11:57:23 2020 -0500

    improve comment

commit 12d64985cb6ac102edb892df72881b7822aa3d73
Author: Brennan Vincent <brennan@materialize.io>
Date:   Thu Jan 23 11:37:24 2020 -0500

    remove queries from config file, since people set them up via command line args anyway

commit 3b10af979a1d94b8930a66177d9423799de74cbb
Author: Frank McSherry <fmcsherry@me.com>
Date:   Thu Jan 23 11:19:54 2020 -0500

    Disable unbind

commit 5cde319824afde70bdb73eeccc69a3f970f219c2
Merge: baecb557d d0f36d2c4
Author: Nikhil Benesch <nikhil.benesch@gmail.com>
Date:   Thu Jan 23 09:42:24 2020 -0500

    Merge pull request #1647 from benesch/create-databases-schemas
    
    catalog,sql: support CREATE {DATABASE|SCHEMA}

commit baecb557d0e11308ae77409e178d41e8c1fb65bf
Merge: dc77e477a a6dee9386
Author: Jamie Brandon <jamie@scattered-thoughts.net>
Date:   Thu Jan 23 13:45:35 2020 +0000

    Merge pull request #1649 from jamii/malformed-slt
    
    Fix malformed slt file

commit dc77e477ab62643d2f665ca737c8e3557d649371
Merge: 9c1fa4315 24c00281c
Author: Frank McSherry <fmcsherry@me.com>
Date:   Thu Jan 23 14:43:47 2020 +0100

    Merge pull request #1648 from frankmcsherry/robust_negatives
    
    Surface negative multiplicities as errors

commit a6dee9386e33820a1739f4b618cf6bea6275b3b8
Author: Jamie Brandon <jamie@scattered-thoughts.net>
Date:   Thu Jan 23 13:25:43 2020 +0000

    Fix malformed slt file

commit 24c00281c6d39e7da1b8a0c1fc8e7d1f2a89a18e
Author: Frank McSherry <fmcsherry@me.com>
Date:   Thu Jan 23 04:33:28 2020 -0500

    surface negative multiplicities as errors

commit d0f36d2c4980dddb0e1bc78015aaaad010eed864
Author: Nikhil Benesch <nikhil.benesch@gmail.com>
Date:   Thu Jan 23 01:49:43 2020 -0500

    catalog,sql: support CREATE {DATABASE|SCHEMA}
    
    This is mostly just a matter of plumbing the mutation commands through
    to the catalog. The name resolution is already in place.
    
    Future commits will add support for 1) DROP {DATABASE|SCHEMA}, and 2)
    setting the correct session database and schema search path.

commit 9c1fa43159560a8d645f73ad0e0fb20917c9a52c
Merge: 91bc0ca43 b7ac75ea9
Author: Nikhil Benesch <nikhil.benesch@gmail.com>
Date:   Wed Jan 22 18:59:24 2020 -0500

    Merge pull request #1636 from benesch/databases-sql
    
    sql-parser,sql,coord: support CREATE ... IF NOT EXISTS on sources and sinks

commit b7ac75ea994519883ce539fd7f689632552d7230
Author: Nikhil Benesch <nikhil.benesch@gmail.com>
Date:   Wed Jan 22 17:33:21 2020 -0500

    sql,sql-parser: support SHOW SCHEMAS, fix SHOW <object>s
    
    Add support for SHOW SCHEMAS. Also adjust SHOW <object>s to limit
    results to the currently active schema, unless otherwise requested.

commit 17386de45f403fc3f39286d9eae9dfc1bce54b43
Author: Nikhil Benesch <nikhil.benesch@gmail.com>
Date:   Wed Jan 22 14:31:49 2020 -0500

    sql,sql-parser: support SHOW DATABASES

commit d85adda614f0c979e18a44af530e9696f5b1803e
Author: Nikhil Benesch <nikhil.benesch@gmail.com>
Date:   Wed Jan 22 14:14:59 2020 -0500

    sql-parser: learn to parse DROP {DATABASE|SCHEMA}

commit b15988c632cc3a2d1239bb3402affbe828ddbc63
Author: Nikhil Benesch <nikhil.benesch@gmail.com>
Date:   Wed Jan 22 13:48:06 2020 -0500

    sql-parser: factor IF NOT EXISTS parsing into helper method

commit 836a228464e9a6c3d9512cd1a28cc0b4642940d5
Author: Nikhil Benesch <nikhil.benesch@gmail.com>
Date:   Wed Jan 22 13:46:30 2020 -0500

    sql-parser: learn to parse CREATE {DATABASE|SCHEMA}

commit 7d1f6081a4ea8e5c97cd78efac44fd733028337e
Author: Nikhil Benesch <nikhil.benesch@gmail.com>
Date:   Wed Jan 22 12:31:35 2020 -0500

    sql-parser,sql,coord: support CREATE ... IF NOT EXISTS on sources and sinks

commit 91bc0ca432ddf5675f4e4454e9ca43262a54f971
Merge: ea98e467f 14d5e3ff8
Author: Jamie Brandon <jamie@scattered-thoughts.net>
Date:   Wed Jan 22 22:33:23 2020 +0000

    Merge pull request #1639 from jamii/parser-errors
    
    Better parser errors

commit 14d5e3ff832ba0d9fb12cb316028beefa72761de
Author: Jamie Brandon <jamie@scattered-thoughts.net>
Date:   Wed Jan 22 22:18:17 2020 +0000

    Fix interval tests

commit 81f4f98ff8ab28a3d6f8ea655c8a9a4fc4b6ce99
Author: Jamie Brandon <jamie@scattered-thoughts.net>
Date:   Wed Jan 22 21:45:07 2020 +0000

    Remove line/col from tokenizer - not useful anymore

commit 8a382c40b4b2e413e15601f24999991232fc9825
Author: Jamie Brandon <jamie@scattered-thoughts.net>
Date:   Wed Jan 22 21:31:14 2020 +0000

    Clippy

commit a39d24d95f4ce74e1d55b34294d8263f162b4484
Merge: 1e5146188 ea98e467f
Author: Jamie Brandon <jamie@scattered-thoughts.net>
Date:   Wed Jan 22 21:18:21 2020 +0000

    Merge branch 'master' into parser-errors

commit 1e514618886cc2d577044008f522bba3b432b5af
Author: Jamie Brandon <jamie@scattered-thoughts.net>
Date:   Wed Jan 22 21:14:46 2020 +0000

    Add tests for multiline statements

commit 2fe996e23d22bc9b97192dd51edae2991848de56
Author: Jamie Brandon <jamie@scattered-thoughts.net>
Date:   Wed Jan 22 21:07:14 2020 +0000

    Fix tests

commit ea98e467fdf161fd643421b15ee9064498fe6bc0
Author: Brennan Vincent <brennan@materialize.io>
Date:   Wed Jan 22 15:11:29 2020 -0500

    Nullable regex columns (and test for regex sources in general) (#1638)
    
    Make regex columns nullable and add a test

commit 2691bb294188755fced32e5278fd8e9530a52aad
Author: Jamie Brandon <jamie@scattered-thoughts.net>
Date:   Wed Jan 22 20:06:09 2020 +0000

    Bugfixes

commit 5083f06ebbc97ce68fc5e7a4ee4c2fef3f6bb471
Merge: 804ac00fe 020697f26
Author: Jessica Laughlin <JLDLaughlin@users.noreply.github.com>
Date:   Wed Jan 22 14:46:18 2020 -0500

    Merge pull request #1637 from JLDLaughlin/sink_crash
    
    Avoid CREATE SINK crash

commit 66a95e289b70baf89ec1dbb531667ac9d20b47af
Author: Jamie Brandon <jamie@scattered-thoughts.net>
Date:   Wed Jan 22 19:44:42 2020 +0000

    Pass range through parser error messages
    
    Unfortunately the parser is very inconsistent about whether an error
    is caused by the current token or next token, so we have to specify
    the range by hand each time :(

commit 804ac00fe2c12e547192ede15230b8070dd849ed
Author: Brennan Vincent <brennan@materialize.io>
Date:   Wed Jan 22 14:21:34 2020 -0500

    get rid of unnecessary datum construction (#1634)
    
    * get rid of unnecessary datum construction
    
    * Into to From

commit 020697f269588f972642d0dbdb94380838b80f1e
Author: JLDLaughlin <jessica@materialize.io>
Date:   Wed Jan 22 13:43:02 2020 -0500

    Avoid CREATE SINK crash

commit b6d7d08b6c0fc66440d342996aca1c7421969296
Author: Jamie Brandon <jamie@scattered-thoughts.net>
Date:   Wed Jan 22 17:21:01 2020 +0000

    Fix error formatting math

commit 61bd20174e7a0bbb774a3c1efe5dc8d5001f0973
Author: Jamie Brandon <jamie@scattered-thoughts.net>
Date:   Wed Jan 22 16:49:39 2020 +0000

    Change ParserError to record the origin of the error

commit 085e3e74e258f14d5be9bf6c32091e1597c5baa5
Merge: 5bacde50f 30e1837ed
Author: Nikhil Benesch <nikhil.benesch@gmail.com>
Date:   Wed Jan 22 11:10:12 2020 -0500

    Merge pull request #1631 from benesch/ci-readme
    
    ci: update README with deployment info

commit 5bacde50fe9fee7cc8468769e733058fda92431a
Merge: 53c3b4c2b abdabdcb1
Author: Nikhil Benesch <nikhil.benesch@gmail.com>
Date:   Wed Jan 22 11:09:46 2020 -0500

    Merge pull request #1628 from benesch/agg-colnames
    
    sql: use correct column names for complicated aggregates

commit abdabdcb10a657827cbc3c1ed8c3abc945dd0168
Author: Nikhil Benesch <nikhil.benesch@gmail.com>
Date:   Tue Jan 21 23:28:47 2020 -0500

    sql: use correct column names for complicated aggregates
    
    Complicated aggregates like avg and stddev are decomposed into their
    constituent parts by the SQL transformation pipeline. This pipeline runs
    early enough that it impacts the column names chosen for these aggregate
    functions; the avg function was resulting in no column name, while the
    stddev function was resulting in the column name `sqrt`. Fix this by
    teaching the transformation pipeline to preserve the name of the
    original function when necessary.

commit 53c3b4c2b907e720ebb2878b15bf19cb97364b4c
Merge: cb0dbb67d 972cf1843
Author: Nikhil Benesch <nikhil.benesch@gmail.com>
Date:   Wed Jan 22 10:41:48 2020 -0500

    Merge pull request #1627 from benesch/rm-flush
    
    sql-parser: remove FLUSH command

commit cb0dbb67d8c20aeee30f8fcb0496b9059d78157a
Merge: 796579684 d11921c17
Author: Sean Loiselle <sean@materialize.io>
Date:   Wed Jan 22 10:40:42 2020 -0500

    Merge pull request #1630 from sploiselle/sync-netlify-hugo-versions
    
    docs: sync hugo versions in netlify across build/preview

commit d11921c172c74c96c9deb488072df5ea8ea090bb
Author: sploiselle <sean@materialize.io>
Date:   Wed Jan 22 10:34:06 2020 -0500

    docs: sync hugo versions in netlify across build/deploy

commit 30e1837edf4c12a173a4bb2adbee2177a8f24bcb
Author: Nikhil Benesch <nikhil.benesch@gmail.com>
Date:   Wed Jan 22 00:46:51 2020 -0500

    ci: update README with deployment info

commit 796579684da7683597ced3a26ed806a0e77039e7
Merge: 4f85821b6 0479dad9d
Author: Nikhil Benesch <nikhil.benesch@gmail.com>
Date:   Wed Jan 22 00:15:41 2020 -0500

    Merge pull request #1629 from benesch/macos-binaries
    
    ci: deploy macOS binaries

commit 0479dad9d01a493552e83c1775c5932b35f45b82
Author: Nikhil Benesch <nikhil.benesch@gmail.com>
Date:   Wed Jan 22 00:12:48 2020 -0500

    ci: deploy macOS binaries

commit 972cf184354c7a5656dda9fdc2859220cfca5438
Author: Nikhil Benesch <nikhil.benesch@gmail.com>
Date:   Tue Jan 21 22:46:43 2020 -0500

    sql-parser: remove FLUSH command
    
    This never got hooked up, and the general consensus is that we should
    handle this automatically, rather than requiring the user to explicitly
    advance the timestamp of sources.

commit 4f85821b62dc410aa24d0f8ab344268074f999c5
Merge: 31bf25d44 878b715f5
Author: Nikhil Benesch <nikhil.benesch@gmail.com>
Date:   Tue Jan 21 20:28:26 2020 -0500

    Merge pull request #1626 from benesch/bye-peek
    
    sql: remove SQL PEEK command

commit 878b715f57882baa3ba63f6acb759021a34e64c7
Author: Nikhil Benesch <nikhil.benesch@gmail.com>
Date:   Tue Jan 21 17:54:35 2020 -0500

    sql: remove SQL PEEK command
    
    Fix #1557. See that issue for details. The tl;dr is that PEEK <view> is
    totally redundant with SELECT * FROM <view>, and the latter is standards
    compliant and familiar to users.

commit 8b3019828cfd3ed47cc0639418fb73e75dc9bfe7
Author: Nikhil Benesch <nikhil.benesch@gmail.com>
Date:   Tue Jan 21 17:40:52 2020 -0500

    coord: remove PeekWhen::EarliestSource
    
    PeekWhen::EarliestSource means the same thing as PeekWhen::Immediate,
    since #1543. Remove it, to minimize confusion.

commit 31bf25d4453a7a1dde7169c8c043452cd65c17aa
Merge: 945ac6e64 0730e6105
Author: Sean Loiselle <sean@materialize.io>
Date:   Tue Jan 21 16:21:24 2020 -0500

    Merge pull request #1625 from sploiselle/update-logging-source-names
    
    docs: add catalog name to sources

commit 0730e6105172af3b4ef109efe44f60757372ab1f
Author: sploiselle <sean@materialize.io>
Date:   Tue Jan 21 16:16:05 2020 -0500

    docs: add catalog name to sources

commit f4dafbc70cb97af8e3765e542dc14282683a6b47
Merge: 4f37ca96f d7a1ae7cb
Author: Nikhil Benesch <nikhil.benesch@gmail.com>
Date:   Tue Jan 21 15:54:26 2020 -0500

    Merge pull request #13 from MaterializeInc/cmake-xplatform
    
    Fix CMake build on macOS

commit 945ac6e646971652de33f1a94c8993b4b8f086df
Merge: 7c3081b70 4c80d2738
Author: Nikhil Benesch <nikhil.benesch@gmail.com>
Date:   Tue Jan 21 15:51:44 2020 -0500

    Merge pull request #1604 from MaterializeInc/dependabot/cargo/rdkafka-c53f78d
    
    build(deps): bump rdkafka from `f4ea213` to 0.23.1

commit 7c3081b704c76e24f643e73ef3ed46cba24a96b0
Merge: a4deac6b0 eb168609f
Author: Frank McSherry <fmcsherry@me.com>
Date:   Tue Jan 21 21:50:13 2020 +0100

    Merge pull request #1618 from frankmcsherry/slt_primary_keys
    
    Teach slt about primary keys

commit a4deac6b07b52605114414a50b91e35898b63c9d
Merge: e80df897c c4ecdffd1
Author: Nikhil Benesch <nikhil.benesch@gmail.com>
Date:   Tue Jan 21 15:46:05 2020 -0500

    Merge pull request #1587 from benesch/create-or-replace
    
    coord,sql[-parser]: support CREATE OR REPLACE VIEW

commit 4c80d273863bdc3942b0d63ff084bc9b6af6cd03
Author: dependabot-preview[bot] <27856297+dependabot-preview[bot]@users.noreply.github.com>
Date:   Mon Jan 20 10:41:02 2020 +0000

    build(deps): bump rdkafka from `f4ea213` to 0.23.1
    
    Bumps [rdkafka](https://github.com/fede1024/rust-rdkafka) from `f4ea213` to `0.23.1`.
    - [Release notes](https://github.com/fede1024/rust-rdkafka/releases)
    - [Commits](https://github.com/fede1024/rust-rdkafka/compare/f4ea213aa369a92599d54f3fa9b94c66a5977212...0.23.1)
    
    Signed-off-by: dependabot-preview[bot] <support@dependabot.com>

commit c4ecdffd138d8eda1e0b60648280448b631a5239
Author: Nikhil Benesch <nikhil.benesch@gmail.com>
Date:   Thu Jan 16 15:27:20 2020 -0500

    coord,sql[-parser]: support CREATE OR REPLACE VIEW
    
    This is nice for fire-and-forget scripts where you don't particularly
    care about existing views in the catalog. It's also Postgres copmatible.
    
    I'm intentionally not adding support for CREATE OR REPLACE
    [SOURCE|SINK], as I don't think those variants have an obvious use case.
    CREATE IF NOT EXISTS [SOURCE|SINK] makes more sense, in my opinion; you
    don't want to go blowing away someone's running source or sink without
    thought, but it's reasonable to install a source or sink if no one has
    already.
    
    Fix #628.

commit e80df897c14d6e767292838f935d10948ef30a04
Merge: a44734fbe 82a3f90c9
Author: Nikhil Benesch <nikhil.benesch@gmail.com>
Date:   Tue Jan 21 14:57:12 2020 -0500

    Merge pull request #1574 from benesch/tail-leak
    
    pgwire: fix memory leak if client disconnects during blocked tail

commit a44734fbe2d556d7b857a97ed66885ef1957ad49
Merge: aa9fc5a0e eeb763575
Author: Nikhil Benesch <nikhil.benesch@gmail.com>
Date:   Tue Jan 21 14:53:05 2020 -0500

    Merge pull request #1595 from benesch/optimize-type-safety
    
    expr,coord,sql: explicitly mark RelationExprs as optimized

commit aa9fc5a0e892663958ec5e73d885c7d098efa98d
Merge: 0ef8ea1a1 52f5984a7
Author: Nikhil Benesch <nikhil.benesch@gmail.com>
Date:   Tue Jan 21 14:52:43 2020 -0500

    Merge pull request #1605 from MaterializeInc/dependabot/cargo/indexmap-1.3.1
    
    build(deps): bump indexmap from 1.2.0 to 1.3.1

commit d7a1ae7cb5e085979c4d8478d501678239b30bb4
Author: Nikhil Benesch <nikhil.benesch@gmail.com>
Date:   Tue Jan 21 14:48:21 2020 -0500

    Fix CMake build on macOS
    
    Just linking against dependencies is insufficient. Instead, use CMake's
    find_package system, which will hunt down dependencies in a variety of
    platform-specific places. CMake doesn't ship find modules for Pqxx or
    Config++, so we include our own versions.

commit 0ef8ea1a1eb54e95f3ecda312e169cefa84be770
Merge: b9311ecd5 81b023a4c
Author: Nikhil Benesch <nikhil.benesch@gmail.com>
Date:   Tue Jan 21 14:41:33 2020 -0500

    Merge pull request #1613 from benesch/slt-fix
    
    sql: don't crash on unrecognized table functions

commit eb168609faf534bd85eef5cf2448114187db251c
Author: Frank McSherry <fmcsherry@me.com>
Date:   Tue Jan 21 13:58:09 2020 -0500

    teach slt about primary keys

commit b9311ecd56840b71ee2892a8ff9bd53d6f83b339
Merge: f463a8d87 e5c3c396f
Author: Sean Loiselle <sean@materialize.io>
Date:   Tue Jan 21 13:33:05 2020 -0500

    Merge pull request #1544 from sploiselle/metabase-demo
    
    docs: add Demos section incl. Metabase demo

commit e5c3c396fde105ebd357fb6ed36bdb0df0b076c4
Author: sploiselle <sean@materialize.io>
Date:   Tue Jan 7 13:31:15 2020 -0500

    docs: add Demos section incl. Metabase demo

commit f463a8d87c5897cbf787131d0df64f798ee93cd2
Merge: 7b5215689 fbee52fea
Author: Sean Loiselle <sean@materialize.io>
Date:   Tue Jan 21 13:05:15 2020 -0500

    Merge pull request #1615 from sploiselle/update-netlify-hugo-version
    
    update netlify hugo version

commit fbee52fea255a4c76784ce928da06888193637d4
Author: sploiselle <sean@materialize.io>
Date:   Tue Jan 21 12:59:35 2020 -0500

    update netlify hugo version

commit f2efbbe2f644eb60878ff2a9f3f3d15ac410cb37
Author: Jamie Brandon <jamie@scattered-thoughts.net>
Date:   Tue Jan 21 17:34:11 2020 +0000

    Track range of each token

commit 0a3587fc2dc9994c5c697138dfb7980253ee66d1
Author: Jamie Brandon <jamie@scattered-thoughts.net>
Date:   Tue Jan 21 17:21:24 2020 +0000

    Use a custom iterator so we can get positions out of it

commit 82a3f90c9c33021d7e287726e405ccc41650ac19
Author: Nikhil Benesch <nikhil.benesch@gmail.com>
Date:   Thu Jan 16 01:12:09 2020 -0500

    pgwire: don't sync after finishing copy out
    
    The protocol does not specify that a ReadyForQuery message should be
    sent after a successful COPY OUT. The CommandComplete message is
    sufficient.

commit 3870a9654210a3680bd7fb8ff60c55377f969f2b
Author: Nikhil Benesch <nikhil.benesch@gmail.com>
Date:   Thu Jan 16 01:00:28 2020 -0500

    pgwire: fix memory leak if client disconnects during blocked tail
    
    If a client issues a `TAIL never_changing_source` statement and
    then disconnects, we would fail to notice the client disconnect, and
    block a Tokio task forever on waiting for that never changing source to
    change. This presented as test_file_sources wedging if it panicked in
    the wrong place, but in production was likely to cause a memory leak, as
    these forever-wedged connections could pile up.
    
    This commit fixes the issue by introducing an infrequent (1s) keepalive
    packet. If a tailed source doesn't change for a full second, we send the
    client a message that indicates no new data; if that message fails to
    send, the client has gone away, and we can clean up that connection on
    our end. This solution is somewhat distasteful, but no better solution
    presented itself; justification is provided in a code comment within the
    patch..

commit 81b023a4cb880379f985f109223711bf74dd09b3
Author: Nikhil Benesch <nikhil.benesch@gmail.com>
Date:   Tue Jan 21 11:30:32 2020 -0500

    sql: don't crash on unrecognized table functions
    
    This fixes a bug uncovered by the latest full SLT run.

commit 52f5984a76d6c81ec573c314f580524a60fc9a4a
Author: dependabot-preview[bot] <27856297+dependabot-preview[bot]@users.noreply.github.com>
Date:   Tue Jan 21 16:27:51 2020 +0000

    build(deps): bump indexmap from 1.2.0 to 1.3.1
    
    Bumps [indexmap](https://github.com/bluss/indexmap) from 1.2.0 to 1.3.1.
    - [Release notes](https://github.com/bluss/indexmap/releases)
    - [Commits](https://github.com/bluss/indexmap/compare/1.2.0...1.3.1)
    
    Signed-off-by: dependabot-preview[bot] <support@dependabot.com>

commit 7b52156893c30d68694af65cb04d4cec1412a6a1
Merge: 789e29f3a 5a8668be3
Author: Nikhil Benesch <nikhil.benesch@gmail.com>
Date:   Tue Jan 21 11:26:44 2020 -0500

    Merge pull request #1606 from MaterializeInc/dependabot/cargo/regex-syntax-0.6.13
    
    build(deps): bump regex-syntax from 0.6.12 to 0.6.13

commit 789e29f3add8e331b3ca0fb60f95bc96cabb15b2
Merge: 12494c7f1 e469c8de9
Author: Nikhil Benesch <nikhil.benesch@gmail.com>
Date:   Tue Jan 21 11:25:57 2020 -0500

    Merge pull request #1607 from MaterializeInc/dependabot/cargo/num-traits-0.2.11
    
    build(deps): bump num-traits from 0.2.10 to 0.2.11

commit 12494c7f1d10f371efef14807270ce8ed628cbf4
Merge: e2ea7ed98 6208b03fc
Author: Nikhil Benesch <nikhil.benesch@gmail.com>
Date:   Tue Jan 21 11:25:41 2020 -0500

    Merge pull request #1608 from MaterializeInc/dependabot/cargo/libfuzzer-sys-35ce7d7
    
    build(deps): bump libfuzzer-sys from `0c45075` to `35ce7d7`

commit e2ea7ed9807170abaa52cd1d6db5374c6e94c67d
Merge: 2a6b51fcd d57fcba24
Author: Nikhil Benesch <nikhil.benesch@gmail.com>
Date:   Tue Jan 21 11:25:26 2020 -0500

    Merge pull request #1609 from MaterializeInc/dependabot/cargo/backtrace-0.3.42
    
    build(deps): bump backtrace from 0.3.40 to 0.3.42

commit 2a6b51fcd14f9308789e343d3327baa83d9ba8c4
Merge: 54b1352b1 ba6da880d
Author: Nikhil Benesch <nikhil.benesch@gmail.com>
Date:   Tue Jan 21 11:01:49 2020 -0500

    Merge pull request #1603 from MaterializeInc/dependabot/cargo/backoff-0.1.6
    
    build(deps): bump backoff from 0.1.5 to 0.1.6

commit 5a8668be3ea585dff4f08d2be8670b8462388233
Author: dependabot-preview[bot] <27856297+dependabot-preview[bot]@users.noreply.github.com>
Date:   Tue Jan 21 15:58:50 2020 +0000

    build(deps): bump regex-syntax from 0.6.12 to 0.6.13
    
    Bumps [regex-syntax](https://github.com/rust-lang/regex) from 0.6.12 to 0.6.13.
    - [Release notes](https://github.com/rust-lang/regex/releases)
    - [Changelog](https://github.com/rust-lang/regex/blob/master/CHANGELOG.md)
    - [Commits](https://github.com/rust-lang/regex/compare/regex-syntax-0.6.12...regex-syntax-0.6.13)
    
    Signed-off-by: dependabot-preview[bot] <support@dependabot.com>

commit 54b1352b1b233c469317e2ecb4c56ae8e13efd24
Merge: ab061a441 39cf87e1b
Author: Nikhil Benesch <nikhil.benesch@gmail.com>
Date:   Tue Jan 21 10:56:51 2020 -0500

    Merge pull request #1610 from MaterializeInc/dependabot/cargo/pretty-0.9.0
    
    build(deps): bump pretty from 0.8.0 to 0.9.0

commit 4f37ca96f82a6aebf6e83cec0c06b580ebbd68e4
Author: Brennan Vincent <brennan@materialize.io>
Date:   Tue Jan 21 10:42:55 2020 -0500

    fix expected source names

commit ab061a4411cf233da147b727a2e1adf335e3eddf
Merge: 6ff2cd80b 8505faea3
Author: Jessica Laughlin <JLDLaughlin@users.noreply.github.com>
Date:   Tue Jan 21 09:41:15 2020 -0500

    Merge pull request #1582 from JLDLaughlin/update_metabase_docs
    
    Remove SELECTs against sources from Metabase demo docs

commit 8505faea35f8a69a8d7e5b54549e856af7996054
Author: JLDLaughlin <jessica@materialize.io>
Date:   Tue Jan 21 09:33:36 2020 -0500

    Optional view

commit 39cf87e1b8ea58053dafdbb604e1f40e6890b6f7
Author: dependabot-preview[bot] <27856297+dependabot-preview[bot]@users.noreply.github.com>
Date:   Mon Jan 20 10:44:27 2020 +0000

    build(deps): bump pretty from 0.8.0 to 0.9.0
    
    Bumps [pretty](https://github.com/Marwes/pretty.rs) from 0.8.0 to 0.9.0.
    - [Release notes](https://github.com/Marwes/pretty.rs/releases)
    - [Changelog](https://github.com/Marwes/pretty.rs/blob/master/CHANGELOG.md)
    - [Commits](https://github.com/Marwes/pretty.rs/compare/pretty-0.8.0...pretty-0.9.0)
    
    Signed-off-by: dependabot-preview[bot] <support@dependabot.com>

commit d57fcba24f477f59607a3e34c8c38da3753d143a
Author: dependabot-preview[bot] <27856297+dependabot-preview[bot]@users.noreply.github.com>
Date:   Mon Jan 20 10:43:54 2020 +0000

    build(deps): bump backtrace from 0.3.40 to 0.3.42
    
    Bumps [backtrace](https://github.com/rust-lang/backtrace-rs) from 0.3.40 to 0.3.42.
    - [Release notes](https://github.com/rust-lang/backtrace-rs/releases)
    - [Commits](https://github.com/rust-lang/backtrace-rs/compare/0.3.40...0.3.42)
    
    Signed-off-by: dependabot-preview[bot] <support@dependabot.com>

commit 6208b03fc0ab7746e4c957b461d4bb0c22685bb9
Author: dependabot-preview[bot] <27856297+dependabot-preview[bot]@users.noreply.github.com>
Date:   Mon Jan 20 10:43:12 2020 +0000

    build(deps): bump libfuzzer-sys from `0c45075` to `35ce7d7`
    
    Bumps [libfuzzer-sys](https://github.com/rust-fuzz/libfuzzer-sys) from `0c45075` to `35ce7d7`.
    - [Release notes](https://github.com/rust-fuzz/libfuzzer-sys/releases)
    - [Commits](https://github.com/rust-fuzz/libfuzzer-sys/compare/0c4507533a79e85e1984f59765bdd35fbdaa7f1b...35ce7d7177c254b9c798aec171dfe76877d1a20f)
    
    Signed-off-by: dependabot-preview[bot] <support@dependabot.com>

commit e469c8de9697d42e90cb6fc14455f2399c050e15
Author: dependabot-preview[bot] <27856297+dependabot-preview[bot]@users.noreply.github.com>
Date:   Mon Jan 20 10:42:50 2020 +0000

    build(deps): bump num-traits from 0.2.10 to 0.2.11
    
    Bumps [num-traits](https://github.com/rust-num/num-traits) from 0.2.10 to 0.2.11.
    - [Release notes](https://github.com/rust-num/num-traits/releases)
    - [Changelog](https://github.com/rust-num/num-traits/blob/master/RELEASES.md)
    - [Commits](https://github.com/rust-num/num-traits/compare/num-traits-0.2.10...num-traits-0.2.11)
    
    Signed-off-by: dependabot-preview[bot] <support@dependabot.com>

commit ba6da880d0e35f9352771d8562c921e711347845
Author: dependabot-preview[bot] <27856297+dependabot-preview[bot]@users.noreply.github.com>
Date:   Mon Jan 20 10:40:24 2020 +0000

    build(deps): bump backoff from 0.1.5 to 0.1.6
    
    Bumps [backoff](https://github.com/ihrwein/backoff) from 0.1.5 to 0.1.6.
    - [Release notes](https://github.com/ihrwein/backoff/releases)
    - [Commits](https://github.com/ihrwein/backoff/compare/0.1.5...0.1.6)
    
    Signed-off-by: dependabot-preview[bot] <support@dependabot.com>

commit 6ff2cd80b1fa62e88954013b33af5a804ac28bb3
Merge: e299a05b1 8958ea4d4
Author: Brandon W Maister <bwm@materialize.io>
Date:   Fri Jan 17 13:57:24 2020 -0500

    Merge pull request #1591 from quodlibetor/chbench-expose-kafka-port
    
    ex/chbench: expose kafka to the host system

commit 8958ea4d4362c10914b46b64d05ddbef805a2e74
Merge: 865cffb08 e299a05b1
Author: Brandon W Maister <bwm@materialize.io>
Date:   Fri Jan 17 13:55:26 2020 -0500

    Merge branch 'master' into chbench-expose-kafka-port

commit e299a05b12c6822ec0a884339b16e21eb239d17e
Merge: 26bfb7522 938372cbc
Author: Brandon W Maister <bwm@materialize.io>
Date:   Fri Jan 17 13:54:08 2020 -0500

    Merge pull request #1593 from quodlibetor/protobuf-improve-error
    
    Improve error message for invalid proto message names

commit 26bfb75223637b7b0ccb2dd00551561cbd8c6312
Merge: b339fbcef c0398fd46
Author: Jamie Brandon <jamie@scattered-thoughts.net>
Date:   Fri Jan 17 17:24:19 2020 +0000

    Merge pull request #1598 from jamii/fix-comments
    
    Fix comments

commit c0398fd46528152214ca3c888c1bcaa0e9332aec
Author: Jamie Brandon <jamie@scattered-thoughts.net>
Date:   Fri Jan 17 17:09:42 2020 +0000

    Fix comments

commit b339fbcefbc2ae8da8e9c653b6205fb939c8ed98
Merge: 6fa8c0b77 188e9269f
Author: Nikhil Benesch <nikhil.benesch@gmail.com>
Date:   Fri Jan 17 11:18:18 2020 -0500

    Merge pull request #1594 from frankmcsherry/always_optimize
    
    always optimize expressions

commit 938372cbc3e6011b07fac0c0c3830a267d1799da
Author: Brandon W Maister <bwm@materialize.io>
Date:   Thu Jan 16 17:34:52 2020 -0500

    Improve error message for invalid proto message names
    
    This makes the error look like e.g:
    
        Message "invalid" not found in file descriptor set: .billing.Measurement, .billing.Record, .billing.Batch

commit 6fa8c0b77c3a8ce1ba026dc6e8b91ee2263341b1
Merge: 4097ab645 4de0bd733
Author: Brandon W Maister <bwm@materialize.io>
Date:   Fri Jan 17 10:54:24 2020 -0500

    Merge pull request #1592 from quodlibetor/dcsh-status
    
    dc.sh: add a status command

commit eeb76357598613be8a25f95fb430cca98b7707bd
Author: Nikhil Benesch <nikhil.benesch@gmail.com>
Date:   Fri Jan 17 00:21:36 2020 -0500

    expr,coord,sql: explicitly mark RelationExprs as optimized
    
    Use typestates to enforce that an expression has been optimized. This
    allows us to avoid optimizing a RelationExpr twice while ensuring that
    we never accidentally render an unoptimized RelationExpr.

commit 188e9269feeaf33288083274e3f533911273db94
Author: Nikhil Benesch <nikhil.benesch@gmail.com>
Date:   Thu Jan 16 23:27:51 2020 -0500

    expr: don't panic if index is missing in FilterLifting
    
    Making a view of a source will (correctly) refer to inputs that have
    zero indices. Handle this condition gracefully in the optimizer, rather
    than panicking.

commit b3044de2578a365e576f41e5c19b7722b1006702
Author: Frank McSherry <fmcsherry@me.com>
Date:   Thu Jan 16 22:30:58 2020 -0500

    always optimize expressions

commit 4de0bd73330b667b2babeef0dcb78898b91c3825
Author: Brandon W Maister <bwm@materialize.io>
Date:   Thu Jan 16 18:06:30 2020 -0500

    docker-compose: it's not necessary to duplicate names to get variables
    
    So `x-port-mappings` from a map to a list

commit 4097ab6453499f2b28b548dae4a08b91a556dcd7
Merge: ea4cf4999 5206b477a
Author: Brandon W Maister <bwm@materialize.io>
Date:   Thu Jan 16 17:55:37 2020 -0500

    Merge pull request #1590 from quodlibetor/fewer-surprises
    
    Don't log a `Surprising, but...` every time there's a static query

commit ea4cf4999eb63cd87142f1cef2acdea13395ee0e
Merge: 4c465afa4 227f4a98b
Author: Brandon W Maister <bwm@materialize.io>
Date:   Thu Jan 16 17:51:58 2020 -0500

    Merge pull request #1561 from quodlibetor/testdrive-hack-retries
    
    testdrive: support reducing the number of times we retry

commit e2b7e6cd4f951beb5866251003dd5e8fe72c42aa
Author: Brandon W Maister <bwm@materialize.io>
Date:   Thu Jan 16 17:25:19 2020 -0500

    dc.sh: add a status command
    
    Because of the hackering of parsing cli output I had to change an internal variable name
    and a visible container name.
    
    It currently just tries to show the exposed ports and running containers:
    
        $  dcsh status
        CONTAINER                            PORT
        =========                            ====
        materialized                         6875
        metabase                             3030
        ..snip..
        prometheus_sql_exporter
        prometheus_sql_exporter_mysql_tpcch
        control-center                       9021
    
    But at least it shows something, and I often just want to check what's running and
    remember what ports they're listening on.

commit 865cffb0886dc690a48fc2f7d07019d6b593d70d
Author: Brandon W Maister <bwm@materialize.io>
Date:   Thu Jan 16 17:29:29 2020 -0500

    ex/chbench: expose kafka to the host system
    
    This allows running the billing demo from outside the cluster

commit 5206b477a41a51528007ff1006fb30578baab0dc
Author: Brandon W Maister <bwm@materialize.io>
Date:   Thu Jan 16 17:38:52 2020 -0500

    Don't log a `Surprising, but...` every time there's a static query
    
    e.g. `SELECT 'libpq/ping-test'` was causing us to print `Surprising, but...` every
    second.

commit 4c465afa468f16c20941837354ce8351b49b4337
Merge: 119833afc 64635e282
Author: Frank McSherry <fmcsherry@me.com>
Date:   Thu Jan 16 16:02:48 2020 -0500

    Merge pull request #1566 from frankmcsherry/robust_topk
    
    Make RelationExpr::TopK more robust.

commit 119833afc92b1b609b9e9616c2f4e920eafb54e7
Merge: a310c2715 0856a23c1
Author: Jamie Brandon <jamie@scattered-thoughts.net>
Date:   Thu Jan 16 20:43:02 2020 +0000

    Merge pull request #1580 from jamii/json-casts
    
    Add way more casts from primitives <-> jsonb

commit 22e4c10033de7d36b3cb21aff6af001ea739e4f7
Author: JLDLaughlin <jessica@materialize.io>
Date:   Thu Jan 16 15:33:14 2020 -0500

    Remove whitespace

commit 70760caf2e2bd3d4d88c2d962216922fea613ce4
Author: JLDLaughlin <jessica@materialize.io>
Date:   Thu Jan 16 15:27:26 2020 -0500

    Add back comparison

commit 6fe2cdc5f2d84e4f20a8a41fa9f78e20b6280578
Author: JLDLaughlin <jessica@materialize.io>
Date:   Thu Jan 16 14:53:36 2020 -0500

    Remove SELECTs against sources from Metabase demo docs

commit 0856a23c13ab4e9e8628848d18abda09451be10c
Author: Jamie Brandon <jamie@scattered-thoughts.net>
Date:   Thu Jan 16 18:58:46 2020 +0000

    Clippy

commit 64635e282cd5ec9376e25410ad08deebff6db9f2
Author: Frank McSherry <fmcsherry@me.com>
Date:   Thu Jan 16 13:57:11 2020 -0500

    optimizations

commit d7782f65dcfe1048fee357ecc21995243141486b
Author: Jamie Brandon <jamie@scattered-thoughts.net>
Date:   Thu Jan 16 18:55:19 2020 +0000

    Add way more casts from primitives <-> jsonb

commit a310c271532d60e12565cc7d04cc9f1a691e4fbf
Merge: 4aab388b7 cf5988e9f
Author: Sean Loiselle <sean@materialize.io>
Date:   Thu Jan 16 13:37:15 2020 -0500

    Merge pull request #1563 from sploiselle/json-docs
    
    docs: Document JSONB, and other misc. doc improvements/bugs

commit cf5988e9f51c538b984915441c51cc9adcd491c4
Author: sploiselle <sean@materialize.io>
Date:   Tue Jan 14 16:29:03 2020 -0500

    docs: Document JSONB, and other misc. doc improvements/bugs

commit 4aab388b729d39a3ec4ab52556ada7445ad71537
Merge: 67969e874 d8f8d2732
Author: Nikhil Benesch <nikhil.benesch@gmail.com>
Date:   Thu Jan 16 11:52:44 2020 -0500

    Merge pull request #1536 from benesch/databases
    
    catalog,sql: prepare name resolution for multiple databases

commit d8f8d2732a54b74deeb664571a264368749ad3a2
Author: Nikhil Benesch <nikhil.benesch@gmail.com>
Date:   Thu Jan 2 12:15:43 2020 -0500

    catalog,sql: prepare name resolution for multiple databases
    
    This commit lays the foundation for supporting proper databases, and
    schemas. The system views now live in an ambient schema called
    `mz_catalog`, and user-created views live in `materialize.public`.
    
    catalog::QualNames is rearranged into catalog::{Full,Partial}Name and
    sql::normalize. The catalog is therefore no longer responsible for
    dealing with SQL's crazy normalization rules and can perform standard
    Rust string comparisons. SQL further can rely on the parser to do much
    of the work, and so the normalization code is greatly simplified.
    
    Users cannot yet create their own databases--that's left to a future
    commit.

commit 089293d812b38ca6aa5da8a058f8244ad638b72a
Author: Nikhil Benesch <nikhil.benesch@gmail.com>
Date:   Tue Jan 14 00:51:00 2020 -0500

    sql-parser: disallow custom data types
    
    Now that we have an in-tree SQL parser, allowing custom data types just
    adds complexity. Just teach the SQL parser about the data types we care
    about.

commit 67969e8744b018d94ad82f672d4e4be6c5a0e184
Merge: 191afcf78 35325cc41
Author: Nikhil Benesch <nikhil.benesch@gmail.com>
Date:   Wed Jan 15 16:01:42 2020 -0500

    Merge pull request #1571 from benesch/source-test
    
    dataflow,materialized: fix file watcher and associated test

commit 35325cc417308a491d8aca3733ea464a0199dfef
Author: Nikhil Benesch <nikhil.benesch@gmail.com>
Date:   Wed Jan 15 15:44:51 2020 -0500

    materialized: test escaping of quotesin test_file_source, too

commit 1f10161d9229a9f8b3a04e37c26166a16670f785
Author: Nikhil Benesch <nikhil.benesch@gmail.com>
Date:   Wed Jan 15 15:35:49 2020 -0500

    materialized: simplify line ordering in test_file_sources
    
    Now that we preserve the line number upon ingest, we can order by the
    line number to simplify the test.

commit 191afcf78b01a0813b0b65689722f964b809a15c
Merge: a49ac3247 4721ae07d
Author: wangandi <5522362+wangandi@users.noreply.github.com>
Date:   Wed Jan 15 15:31:46 2020 -0500

    Merge pull request #1489 from wangandi/filterjoin
    
    Use indexes in some filter + join contexts.

commit 3abfde412c89060980c31eff34bf1273a8f83483
Author: Nikhil Benesch <nikhil.benesch@gmail.com>
Date:   Wed Jan 15 15:30:43 2020 -0500

    materialized: restore intent of test_file_sources
    
    In the switch to non-materialized sources, this test was refactored to
    repeatedly create new views, which would cause the file to be repeatedly
    re-read, in the case of dynamic files. This was not the intent of the
    test--the test is meant to ensure that tailed files update without the
    source being recreated--and the new version was masking the bug fixed in
    the previous comment.
    
    Restore the original intent of the test by materializing the source via
    one view that lasts for the duration of the test.

commit a49ac32479c20e323de04f284ca92bd5aad9f71f
Merge: edf098992 ac09d9343
Author: Frank McSherry <fmcsherry@me.com>
Date:   Wed Jan 15 15:30:37 2020 -0500

    Merge pull request #1543 from frankmcsherry/repair_peek
    
    Repair peek

commit 0b066f821b82c4b39e0f7141773efeb23afa1d2f
Author: Nikhil Benesch <nikhil.benesch@gmail.com>
Date:   Wed Jan 15 15:21:48 2020 -0500

    dataflow: don't miss file updates on macOS
    
    notify::PollWatcher can miss updates because it uses an mtime resolution
    of 1s. If a file changes twice within 1s, we could get woken up for the
    first update but not the second. Rather than trying to use the
    PollWatcher, just wake ourselves up every 100ms and check if the file
    has new data; this actually *saves* work, and doesn't have the
    aforementioned bug.

commit 4721ae07d60e45b99aa372b48ae2742c5c5a44a2
Author: Andi Wang <andi@materialize.io>
Date:   Wed Jan 15 15:04:48 2020 -0500

    Comment out FilterEqualLiteral but add tests back and an explanation of when to uncomment.

commit cf2a64eb1d6dafc0c67ff01e234a604954ba4306
Author: Andi Wang <andi@materialize.io>
Date:   Mon Jan 13 18:15:43 2020 -0500

    Change ArrangeBy keys to be a field of vec of keys. Fix ArrangeBy panic.

commit 37f2c3139da4834ff1842818813fa42b6f2194ea
Author: Andi Wang <andi@materialize.io>
Date:   Tue Jan 7 18:06:19 2020 -0500

    Introduces some index usage in filter + join contexts.

commit 21b53fb1a4259ff7c6f05e779274aa609ec74c7a
Author: Andi Wang <andi@materialize.io>
Date:   Mon Dec 16 10:56:23 2019 -0500

    Remove error ignoring for show index.

commit edf098992ded02c0225aa1d0d98ee0175f55da4f
Merge: 7aff347d1 b4fbe0580
Author: nacrooks <nacrooks@gmail.com>
Date:   Wed Jan 15 14:56:15 2020 -0500

    Merge pull request #1468 from nacrooks/docupdate
    
    Updating demo.

commit 7aff347d1aa56565bdb5e49c9a1808c4c8f8093d
Author: Brennan Vincent <brennan@materialize.io>
Date:   Wed Jan 15 14:23:07 2020 -0500

    get rid of unnecessary clone (#1564)

commit 1c644a4687f131995ddd830c353da577570eae75
Merge: 16b5e307e a4c4026d5
Author: Brandon W Maister <bwm@materialize.io>
Date:   Wed Jan 15 14:12:45 2020 -0500

    Merge pull request #1560 from quodlibetor/json-proto-demo-extracting-nested-records
    
    jsonb: Demonstrate extracting values from jsonb_array_elements

commit 1839338a674ead3455086e131e0181f5053fe1fd
Author: Frank McSherry <fmcsherry@me.com>
Date:   Wed Jan 15 14:12:04 2020 -0500

    remove stray test

commit 227f4a98b83599f4e02477b31c33f29446887239
Author: Brandon W Maister <bwm@materialize.io>
Date:   Wed Jan 15 11:31:11 2020 -0500

    testdrive: support reducing the number of times we retry
    
    Even though the right solution would be to change every testdrive select command to
    select at some time, this allows faster iteration by running e.g.
    
        MZ_TD_MAX_RETRIES=5 cargo run --bin testdrive

commit a4c4026d538f188b2d8dc89dfbc6365e4f203fb3
Author: Brandon W Maister <bwm@materialize.io>
Date:   Wed Jan 15 13:56:28 2020 -0500

    jsonb/proto: use as double cast to get a double into an int

commit b26dcdd750926a7a4a9fa5149330c406b6cc6494
Author: Frank McSherry <fmcsherry@me.com>
Date:   Wed Jan 15 13:53:05 2020 -0500

    correct offset, add comments

commit 16b5e307e3e9abfc838876edeea56ee59556daea
Merge: c40825783 c78843d1b
Author: Jamie Brandon <jamie@scattered-thoughts.net>
Date:   Wed Jan 15 18:45:36 2020 +0000

    Merge pull request #1555 from jamii/table-error
    
    Better error message for table functions in scalar position

commit 266e59c2f5f12c34c8c736485b9389b788efba00
Author: Frank McSherry <fmcsherry@me.com>
Date:   Wed Jan 15 13:27:36 2020 -0500

    Make RelationExpr::TopK more robust.
    
    This PR changes the behavior of TopK to do hierarchical reduction, repeatedly grouping modestly sized groups and applying the ordering and limit. This avoids massive reductions that require significant work on individual updates, at the cost of a more complex dataflow, and potentially more memory maintained for those arrangements that do not actually reduce the data. This is expected to be very beneficial in the case of "top k" sorts of queries, and less helpful for subqueries or other settings where large groups are not formed.
    
    The motivation for the PR is that robustness is the best default behavior, and optimizing constants is something that can be done by experts in an opt-in manner. We can negotiate that, but this does absolutely remove a massively defective default experience for order by / limit queries.

commit 76b626a17acbf36560100d25dfe24d0456fff6fb
Author: Nikhil Benesch <nikhil.benesch@gmail.com>
Date:   Wed Jan 15 13:15:27 2020 -0500

    materialized: fix hang in test_file_sources on macOS
    
    Because we are only notified of changes on macOS every 100ms, we need to
    sleep for >100ms before every change to the file to ensure materialized
    has picked up the last change to the file.

commit c4082578371f2d2eb5a2e7feb137a3a535534d86
Author: Nikhil Benesch <nikhil.benesch@gmail.com>
Date:   Wed Jan 15 12:40:14 2020 -0500

    ex/chbench: use new path for bootstrap.sql (#1558)

commit 684893556c8568e169dfd8cdf9383dcc308a4228
Author: Brennan Vincent <brennan@materialize.io>
Date:   Wed Jan 15 12:05:12 2020 -0500

    line numbers in file sources (#1556)
    
    fixes #1502

commit 593d6e2c0d2a9173ca9d6373b10bcf37da01c2b3
Author: Brandon W Maister <bwm@materialize.io>
Date:   Wed Jan 15 11:21:07 2020 -0500

    jsonb: Demonstrate extracting values from jsonb_array_elements
    
    We can't extract arbitrary types from jsonb yet (#1559) but we can verify that things
    look correct.

commit c78843d1bf9d545251a013105a866963e768a8fc
Author: Jamie Brandon <jamie@scattered-thoughts.net>
Date:   Wed Jan 15 15:09:10 2020 +0000

    Better error message for table functions in scalar position

commit c8c227c638cb76413c9fd4a25c1be052ac3cb0b8
Merge: dc19e0edf 2d7f2aa2e
Author: JLDLaughlin <JLDLaughlin@users.noreply.github.com>
Date:   Wed Jan 15 09:23:12 2020 -0500

    Merge pull request #1548 from JLDLaughlin/kafka_todo
    
    Add progress tracking todo to Kafka sink

commit 2d7f2aa2e9eefe0a5ffffb6fa083b41cfe76c8b6
Author: JLDLaughlin <jessica@materialize.io>
Date:   Wed Jan 15 08:44:00 2020 -0500

    /// -> //

commit dc19e0edf8f33bfa92b093b07105b92d34c31e29
Merge: 7d621c6e2 8d00b303d
Author: Jamie Brandon <jamie@scattered-thoughts.net>
Date:   Wed Jan 15 13:00:39 2020 +0000

    Merge pull request #1554 from jamii/json-tests
    
    Json tests and bugfixes

commit 8d00b303ddd2b73141dba29a6b2294372791da77
Author: Jamie Brandon <jamie@scattered-thoughts.net>
Date:   Wed Jan 15 12:44:56 2020 +0000

    Clippy

commit ee42f0026392e50445c10dc2204db2a82155cbe5
Author: Jamie Brandon <jamie@scattered-thoughts.net>
Date:   Wed Jan 15 12:33:08 2020 +0000

    Add json tests

commit d4aa99dba9bcbffb45126eed7e094d1c1c88c628
Author: Jamie Brandon <jamie@scattered-thoughts.net>
Date:   Wed Jan 15 12:31:12 2020 +0000

    Output type of keys in jsonb_each is string, not jsonb

commit b055f74bbe6d8a6da4656d38998f28982f3666ce
Author: Jamie Brandon <jamie@scattered-thoughts.net>
Date:   Wed Jan 15 12:30:46 2020 +0000

    Allow to_jsonb(::int32)

commit 58864bf7a1f62618325fa88a8b04ea252d778994
Author: Jamie Brandon <jamie@scattered-thoughts.net>
Date:   Wed Jan 15 12:30:33 2020 +0000

    jsonb_build_* can produce nulls

commit dc74901311509776689526766597569a7cbeb683
Author: Jamie Brandon <jamie@scattered-thoughts.net>
Date:   Wed Jan 15 12:30:19 2020 +0000

    Non-finite floats should be converted to json strings instead of null

commit a8a275fdeaea997edb9a9850e515d8ad7e666d01
Author: Jamie Brandon <jamie@scattered-thoughts.net>
Date:   Wed Jan 15 12:30:06 2020 +0000

    json_strip_nulls should work recursively

commit c07f5636e1773f712cff7158b2357f5feaf19817
Author: Jamie Brandon <jamie@scattered-thoughts.net>
Date:   Wed Jan 15 11:06:13 2020 +0000

    Remember to sort dict keys

commit 72ea53bf874efd3fa47efdb360f529e0533ba097
Author: Jamie Brandon <jamie@scattered-thoughts.net>
Date:   Wed Jan 15 11:06:00 2020 +0000

    Add missing function name

commit 7d621c6e28c4beb9706d4dfa0bc5edbfdf3bd258
Merge: 125d6fdba ef7b2e3d5
Author: Brandon W Maister <bwm@materialize.io>
Date:   Tue Jan 14 23:21:50 2020 -0500

    Merge pull request #1521 from quodlibetor/protobuf-testdrive
    
    Test protobuf deserialization in testdrive

commit ef7b2e3d55d24f90a71d3018096d63969c8d1988
Author: Brandon W Maister <bwm@materialize.io>
Date:   Tue Jan 14 18:30:00 2020 -0500

    protobuf: Just support passing descriptors as base64
    
    This simplifies the compile protoc command such that it is no longer an action, it just
    tries to encode the proto descriptor first as a file then as base64, which we pass as a
    literal b64 value in the schema creation sql statement.
    
    We then don't need protoc on our build servers, we continue to check the compiled
    descriptor files into git. An obvious extension to this is to just have some well-known
    descriptors that we embed in the test-drive binary, but that requires significantly more
    code churn on every descriptor addition, which doesn't seem worth it.

commit 11e74457712a3d5c0ac45d4b3b4e1f216987bd50
Author: Brandon W Maister <bwm@materialize.io>
Date:   Tue Jan 14 15:17:18 2020 -0500

    testdrive: Just check the proto descriptor file into git
    
    Instead of adding protoc to the various CI docker images, just add a couple bytes of
    compiled spec.
    
    We could potentially do this by using the `MessageDescriptor::for_type<M:
    Message>().get_proto()` function and write that to disk, but it's a bunch more work and
    doesn't eliminate our build-time requirement on protoc anyway.

commit c2cc49f50e630f67f0f383ccc9fce8f0bb44f74d
Author: JLDLaughlin <jessica@materialize.io>
Date:   Tue Jan 14 16:22:13 2020 -0500

    Add progress tracking todo to Kafka sink

commit a40296910d5eac458f4ea5bd7fd42ae42c8398fb
Author: Brandon W Maister <bwm@materialize.io>
Date:   Tue Jan 14 10:41:39 2020 -0500

    Fix ci-builder component list

commit 7c9c34c606b76a98c956e12fa0a532fee05b907a
Author: Brandon W Maister <bwm@materialize.io>
Date:   Mon Jan 13 18:13:54 2020 -0500

    testdrive: Correct proto serialization
    
    This adds some infrastructure to verify that we're actually writing the correct bytes to
    the wire, because apparently the old code was doing the wrong thing, and some of the
    other methods I tried also failed. The extra `validator` call failed with the old code,
    and succeeds correctly now.
    
    The testdrive test is now verifying various parts of the ingested json structure, instead
    of the full one. (Issue #1533)
    
    With commit I think we can say that this PR Fixes #1398

commit 3d531168b8c1e2df954a098e3472adf6442034c0
Author: Brandon W Maister <bwm@materialize.io>
Date:   Mon Jan 13 14:03:19 2020 -0500

    Don't crash materialized if proto descriptor files don't exist

commit 8933078880884e9f5989c81d186e6699bff14f35
Author: Brandon W Maister <bwm@materialize.io>
Date:   Mon Jan 13 13:59:10 2020 -0500

    interchange: Add a Result alias
    
    This just reduces a bunch of function definitions that used to be multi-line to be
    single-line, but it will eventually allow us to migrate a bit more easily to something
    like `thiserror`.

commit e8f76946c6a457306dccc8ac9692d89985d04c29
Author: Brandon W Maister <bwm@materialize.io>
Date:   Mon Jan 13 13:54:12 2020 -0500

    testdrive: Support testing JSON values
    
    This will allow you to write literal JSON for values that are returned as JSONB

commit 3b3700544ea7dbd06f7deb1ea493e4c417adec90
Author: Brandon W Maister <bwm@materialize.io>
Date:   Mon Jan 13 12:34:11 2020 -0500

    testdrive: Support sending compiled proto messages across kafka

commit ae69fd36d86612aa2dedc60840da8d076c57d92e
Author: Brandon W Maister <bwm@materialize.io>
Date:   Mon Jan 13 11:14:44 2020 -0500

    testdrive: Support compiling proto files to descriptors
    
    This moves some of the test-related out of `interchange` and into `testdrive` where it is
    used, this also makes it more obvious that we are in fact only using the dynamic
    proto-deserializing code inside of interchange, with the static stuff all happening in
    testdrive, as it will be when we have proto clients.

commit 0dce13a82c8d6c6881e4640ee6097bdf2c60350f
Author: Brandon W Maister <bwm@materialize.io>
Date:   Fri Jan 10 14:53:35 2020 -0500

    sql: improve error message for invalid schema name

commit 4926ef5095c94deb491349eba026ef08dd3de561
Author: Brandon W Maister <bwm@materialize.io>
Date:   Fri Jan 10 14:50:40 2020 -0500

    interchange: move some protobuf files around
    
    * Rename `test` -> `test_util` because it doesn't contain any tests
    * create a `gen' module to hold generated test utility code
    * make build.rs give better errore messages, and run more correctly
    
    There should be no functional changes.

commit c07fcd0eacf8f4ef5420fccb4596d80f2cebdbf6
Author: Brandon W Maister <bwm@materialize.io>
Date:   Mon Jan 13 14:40:00 2020 -0500

    Normalize some json number functions and use `try_push_*_with`

commit c019825e88164b1ff36d704e46f622e3bac1f113
Author: Brandon W Maister <bwm@materialize.io>
Date:   Fri Jan 10 13:56:36 2020 -0500

    interchange/protobuf: Small refactoring to make control flow more obvious
    
    Mostly this just moves some inline functions out of the `decode` method and puts them in
    highest-to-lowest order by stack frame so that you read the functions in the order that
    they're called.

commit e839118dc8e36f46b546eaf24410f244e2c2838e
Author: Brandon W Maister <bwm@materialize.io>
Date:   Fri Jan 10 11:34:03 2020 -0500

    Support handling errors in the RowPacker push_*_with methods
    
    Add a new method `try_push_dict_with` that supports throwing errors. Since it is not
    possible to know from outside the closure whether the dict is valid -- if the failure
    happened in between writing a key and a value, for example -- it consumes the rowpacker
    for errors.
    
    Similarly, this adds a `try_push_list_with` method that supports returning errors, and
    guarantees that the list is finished afterwards. Since it's impossible for the individual
    packer `write` commands to leave the list in an inconsistent state, we *could* sort of
    YOLO clients and allow them to continue using the rowpacker if they think it's fine,
    unfortunately that makes recursive calls with `try_push_dict_with` impossible, so we need
    to add this method and give it the same API.
    
    This will allow a bit of a refactoring in the next commit.

commit 1ac524e487b685263cc120598d5fb2c9ccab427e
Author: Brandon W Maister <bwm@materialize.io>
Date:   Fri Jan 10 11:33:31 2020 -0500

    Improve RowPacker docs around json list/dict creation

commit 125d6fdba06c5df6977957a1d6aa3e3edc1e0e03
Merge: 8b769eeca a109f731c
Author: Sean Loiselle <sean@materialize.io>
Date:   Tue Jan 14 15:06:32 2020 -0500

    Merge pull request #1444 from sploiselle/interval-pg-compat
    
    implement PostgreSQL-compatible interval type

commit 8b769eeca1fb3e8c657f94f68a7615429123ee0c
Merge: 2ffc24050 94e76cf92
Author: Frank McSherry <fmcsherry@me.com>
Date:   Tue Jan 14 14:34:01 2020 -0500

    Merge pull request #1531 from frankmcsherry/report_frontiers
    
    Mirror frontiers for all arrangements

commit 2ffc24050531a297016df3531d29e58eec1712a1
Author: Brennan Vincent <brennan@materialize.io>
Date:   Tue Jan 14 14:07:13 2020 -0500

    Don't block in coordinator when talking to Schema Registry or Kafka (#1535)
    
    Don't block in coordinator when talking to Schema Registry or Kafka

commit ac09d93435583ffc17219d2df5104c30fee2ff77
Author: Frank McSherry <fmcsherry@me.com>
Date:   Tue Jan 14 13:49:43 2020 -0500

    remove comments

commit 73e6a3c644c2cbf74c5662eb04ad7216625416af
Author: Frank McSherry <fmcsherry@me.com>
Date:   Tue Jan 14 13:43:45 2020 -0500

    Unify behavior of PeekWhen::{Immediately, EarliestSource}
    
    Peek is currently hanging due to some broken logic for `EarliestSource`. It seems less clear now, where all queries need to be aimed at materialized inputs, that we should do anything other than determine the latest timestamp available at all materialized inputs, and serve that up. So, this PR fixes peek behaviour by having it use the same timestamp selection logic as `select * from view`, making the two effectively the same.
    
    We previously introduced EarliestSource to provide some sense of consistency; Cuong had some issues with Immediately behavior, iirc that it just returned empty results. However, things seem to be backwards now (peeks prompt earliest source, and selects prompt immediately) that it seemed worth either shaking out the issues again and determining the best way to repair them.
    
    This PR does not remove either of the two variants, in case we need to revert it or drop in some better logic. We can keep an eye open for issues and wind down either of them should we determine it is irrelevant.

commit 6013c318ef8225a12065997fd68db4edd7da7942
Merge: 761c0af19 316897a88
Author: Nikhil Benesch <nikhil.benesch@gmail.com>
Date:   Tue Jan 14 13:18:36 2020 -0500

    Merge pull request #1542 from quodlibetor/testdrive-redo-undo
    
    testdrive: add back the undo step

commit 316897a88d22f963446d9e3e1c4665df62116f15
Author: Brandon W Maister <bwm@materialize.io>
Date:   Tue Jan 14 10:42:33 2020 -0500

    testdrive: add back the undo step
    
    It can be spammy but is required for correctness

commit 761c0af19cbbe0fb7ab110115d5c680f46a22800
Merge: 5aa48f7de e3d58d10c
Author: JLDLaughlin <JLDLaughlin@users.noreply.github.com>
Date:   Tue Jan 14 09:32:02 2020 -0500

    Merge pull request #1466 from JLDLaughlin/drop_sink
    
    Implement DROP SINK

commit e3d58d10c3f53ad80fc17f9d68efd6246bdc6185
Author: JLDLaughlin <jessica@materialize.io>
Date:   Tue Jan 14 09:11:46 2020 -0500

    Test sink based on source, view

commit 8ea2705f799282ff6686488d726d8fe6ebefa5ec
Author: JLDLaughlin <jessica@materialize.io>
Date:   Mon Jan 13 20:36:44 2020 -0500

    trailing newline

commit 6e0213abd80aa77fa95fb289b090090ad767889c
Author: JLDLaughlin <jessica@materialize.io>
Date:   Mon Jan 13 20:30:30 2020 -0500

    Fix schema registry url

commit b11ae97c254d21501bf388b9f6985c2a5344efee
Author: JLDLaughlin <jessica@materialize.io>
Date:   Mon Jan 13 19:56:34 2020 -0500

    Add DROP SINK test

commit 3f4fd5e04611c23cc104012b8bba3f9f4952d9ee
Merge: db1c1e1de 5aa48f7de
Author: JLDLaughlin <jessica@materialize.io>
Date:   Mon Jan 13 19:40:43 2020 -0500

    Merge branch 'master' into drop_sink

commit 94e76cf92c0c999fafb91568f3df0e02d2995e32
Author: Frank McSherry <fmcsherry@me.com>
Date:   Mon Jan 13 17:07:41 2020 -0500

    mirror frontiers for all arrangements

commit 5aa48f7de4104cbaab3647955a0aa220c821ca9e
Merge: a263d7739 93a7c83e0
Author: Nikhil Benesch <nikhil.benesch@gmail.com>
Date:   Mon Jan 13 17:17:24 2020 -0500

    Merge pull request #1530 from benesch/www-oneliner
    
    www: fix linux oneliner download

commit 93a7c83e091053883f460858206ed309ad7dd99d
Author: Nikhil Benesch <nikhil.benesch@gmail.com>
Date:   Mon Jan 13 17:07:53 2020 -0500

    www: fix linux oneliner download

commit a263d77392121c16f4dc75100bbea91e0da200e1
Merge: 415f14bd9 95c333b08
Author: Nikhil Benesch <nikhil.benesch@gmail.com>
Date:   Mon Jan 13 16:26:15 2020 -0500

    Merge pull request #1525 from benesch/ci-fix-deploy-2
    
    ci/deploy: copy bootstrap.sql into correct place, redux

commit 95c333b0896e7cf583c009b68bb20953de978542
Author: Nikhil Benesch <nikhil.benesch@gmail.com>
Date:   Mon Jan 13 16:25:09 2020 -0500

    ci/deploy: copy bootstrap.sql into correct place, redux
    
    Write it to /usr/local/etc/materialized/bootstrap.sql, not
    /usr/local/etc/materialized directly.

commit a109f731c7eaddf2d95ce69bfc916b7d14820aac
Author: sploiselle <sean@materialize.io>
Date:   Mon Jan 13 14:44:12 2020 -0500

    integrate interval refactor into src/repr/row.rs

commit 415f14bd9cdab64f30fe28e5ec3e4671d99c122b
Merge: a6aa39d99 d44930154
Author: Nikhil Benesch <nikhil.benesch@gmail.com>
Date:   Mon Jan 13 16:01:57 2020 -0500

    Merge pull request #1523 from benesch/ci-fix-deploy
    
    ci: fix deploy pipeline

commit d44930154d4b5c6d64e0addc3ed757a1c7e5ed93
Author: Nikhil Benesch <nikhil.benesch@gmail.com>
Date:   Mon Jan 13 16:00:37 2020 -0500

    ci: fix deploy pipeline
    
    I accidentally added some bad indentation here.

commit a6aa39d9994689863b8319c70ad0c0a4b1e486b5
Merge: 9c78b72a9 0281ae321
Author: Nikhil Benesch <nikhil.benesch@gmail.com>
Date:   Mon Jan 13 15:35:23 2020 -0500

    Merge pull request #1520 from benesch/linux-tarball
    
    ci/deploy: deploy binary linux tarball for each SHA

commit 9c78b72a9f11aad23868c7e15224e5af36dad27b
Merge: 6e7c9ce24 2c2119a65
Author: Nikhil Benesch <nikhil.benesch@gmail.com>
Date:   Mon Jan 13 15:27:49 2020 -0500

    Merge pull request #1518 from benesch/fix-chbench
    
    ex/chbench: fix chbench build

commit 6e7c9ce24d957abc06e60d54c704a9c5cfa35623
Merge: 022d413d9 22895f051
Author: JLDLaughlin <JLDLaughlin@users.noreply.github.com>
Date:   Mon Jan 13 15:25:41 2020 -0500

    Merge pull request #1456 from JLDLaughlin/row_to_avro
    
    Implement row_to_avro, completes implementation of Kafka sinks!

commit 0281ae321295d60a34f56a06e7e6239780d19ae9
Author: Nikhil Benesch <nikhil.benesch@gmail.com>
Date:   Mon Jan 13 15:00:53 2020 -0500

    ci/deploy: deploy binary linux tarball for each SHA
    
    Fix #1254.
    Fix #1493.

commit 22895f051e53cc3e19e8e763c48ab402d4d3eda1
Author: JLDLaughlin <jessica@materialize.io>
Date:   Mon Jan 13 15:14:36 2020 -0500

    Refactoring

commit 2c2119a652b6c1192bb4432b189ea0737f04f914
Author: Nikhil Benesch <nikhil.benesch@gmail.com>
Date:   Mon Jan 13 15:07:14 2020 -0500

    ex/chbench: fix chbench build
    
    The URL for downloading GPG signatures for the MySQL ODBC connector has
    changed.

commit 4f147299b4231cbca6759a83a0936a210b71a016
Author: Sean Loiselle <himself@seanloiselle.com>
Date:   Sat Jan 11 23:25:58 2020 -0500

    added unit tests

commit dae69909506c20e62905f7d3fb52725984724199
Author: sploiselle <sean@materialize.io>
Date:   Thu Jan 9 16:49:05 2020 -0500

    implementing bwm's feedback

commit 0741e3f417aca8e6b04199fa2a204548bc29f02b
Author: sploiselle <sean@materialize.io>
Date:   Fri Dec 13 16:58:35 2019 -0500

    implement PostgreSQL-compatible interval type

commit 022d413d981d36ce71fb86c2820695918616da14
Merge: 4b699b906 2952fde46
Author: Nikhil Benesch <nikhil.benesch@gmail.com>
Date:   Mon Jan 13 13:49:37 2020 -0500

    Merge pull request #1480 from jamii/miri-and-asan
    
    Add scripts for miri and asan tests. Fix a UB that was caught by miri.

commit 2952fde4668708541ab4b45bede9b45b60968a53
Author: Nikhil Benesch <nikhil.benesch@gmail.com>
Date:   Fri Jan 10 16:31:23 2020 -0500

    ci: enable miri; add script for general asan compilation

commit 4b699b90659560e960f1388a1da8e43adbdb7430
Merge: c89bb5d74 8073406f3
Author: Nikhil Benesch <nikhil.benesch@gmail.com>
Date:   Mon Jan 13 11:22:09 2020 -0500

    Merge pull request #1505 from MaterializeInc/dependabot/cargo/notify-4.0.15
    
    build(deps): bump notify from 4.0.14 to 4.0.15

commit c89bb5d74039dc006007a2376c11d8bc0c23e255
Merge: cac5bdcc6 11960eca2
Author: Nikhil Benesch <nikhil.benesch@gmail.com>
Date:   Mon Jan 13 10:44:12 2020 -0500

    Merge pull request #1501 from benesch/unnamed-name
    
    sql: various file source improvements

commit cac5bdcc652959f3b1a0445fbd426b19c1ba19ba
Merge: 3119ea2d1 3dffaf1f9
Author: Nikhil Benesch <nikhil.benesch@gmail.com>
Date:   Mon Jan 13 10:29:07 2020 -0500

    Merge pull request #1507 from MaterializeInc/dependabot/cargo/csv-1.1.2
    
    build(deps): bump csv from 1.1.1 to 1.1.2

commit 8073406f3ed092067d1d28b77fb46360b0bddd23
Author: dependabot-preview[bot] <27856297+dependabot-preview[bot]@users.noreply.github.com>
Date:   Mon Jan 13 15:28:56 2020 +0000

    build(deps): bump notify from 4.0.14 to 4.0.15
    
    Bumps [notify](https://github.com/notify-rs/notify) from 4.0.14 to 4.0.15.
    - [Release notes](https://github.com/notify-rs/notify/releases)
    - [Changelog](https://github.com/notify-rs/notify/blob/main/CHANGELOG.md)
    - [Commits](https://github.com/notify-rs/notify/compare/v4.0.14...v4.0.15)
    
    Signed-off-by: dependabot-preview[bot] <support@dependabot.com>

commit 3119ea2d17b05ad4c3caae8691f032f2ed819792
Merge: 0fc6a6da1 a70804ae0
Author: Nikhil Benesch <nikhil.benesch@gmail.com>
Date:   Mon Jan 13 10:28:34 2020 -0500

    Merge pull request #1504 from MaterializeInc/dependabot/cargo/rand-0.7.3
    
    build(deps): bump rand from 0.7.2 to 0.7.3

commit 0fc6a6da121403e48b3f2ea2428460482750be62
Merge: 7127f736f 7954627ff
Author: Nikhil Benesch <nikhil.benesch@gmail.com>
Date:   Mon Jan 13 10:28:23 2020 -0500

    Merge pull request #1503 from MaterializeInc/dependabot/cargo/differential-dataflow-fbea6a8
    
    build(deps): bump differential-dataflow from `8006651` to `fbea6a8`

commit 7127f736f1d69ca812fadcee1fcab6c3c6fce5ef
Merge: c223440a6 1d4e7b491
Author: Nikhil Benesch <nikhil.benesch@gmail.com>
Date:   Mon Jan 13 10:27:03 2020 -0500

    Merge pull request #1506 from MaterializeInc/dependabot/cargo/termcolor-1.1.0
    
    build(deps): bump termcolor from 1.0.5 to 1.1.0

commit c223440a648143591dcb76a0a4835ebb49c45df4
Merge: 66907a786 52a1046c0
Author: Nikhil Benesch <nikhil.benesch@gmail.com>
Date:   Mon Jan 13 10:26:41 2020 -0500

    Merge pull request #1508 from MaterializeInc/dependabot/cargo/reqwest-0.10.1
    
    build(deps): bump reqwest from 0.10.0 to 0.10.1

commit 66907a7868686b34dd191293530241550e1a2552
Merge: 802605aab ddc54d778
Author: Nikhil Benesch <nikhil.benesch@gmail.com>
Date:   Mon Jan 13 10:26:28 2020 -0500

    Merge pull request #1509 from MaterializeInc/dependabot/cargo/walkdir-2.3.1
    
    build(deps): bump walkdir from 2.2.9 to 2.3.1

commit 802605aabb8e95f2ae8f832bdb21a9d3c65e36cd
Merge: d723896fe b207fe616
Author: Nikhil Benesch <nikhil.benesch@gmail.com>
Date:   Mon Jan 13 10:26:17 2020 -0500

    Merge pull request #1510 from MaterializeInc/dependabot/cargo/regex-1.3.3
    
    build(deps): bump regex from 1.3.1 to 1.3.3

commit d723896fe6b2bcb808d115b29e78c544db7b2abc
Merge: c57dc6cae fbf1d8726
Author: Nikhil Benesch <nikhil.benesch@gmail.com>
Date:   Mon Jan 13 10:26:04 2020 -0500

    Merge pull request #1511 from MaterializeInc/dependabot/cargo/sha2-0.8.1
    
    build(deps): bump sha2 from 0.8.0 to 0.8.1

commit c57dc6cae4f3b6119e64b6e6fdd70381ab0b8130
Merge: 0ea899067 5a82ce1ed
Author: Nikhil Benesch <nikhil.benesch@gmail.com>
Date:   Mon Jan 13 10:25:38 2020 -0500

    Merge pull request #1512 from MaterializeInc/dependabot/cargo/url-2.1.1
    
    build(deps): bump url from 2.1.0 to 2.1.1

commit 0ea89906793af91c74fb05dbdcbf60183b67ae59
Merge: 734b62150 3730977cb
Author: Nikhil Benesch <nikhil.benesch@gmail.com>
Date:   Mon Jan 13 10:24:13 2020 -0500

    Merge pull request #1513 from MaterializeInc/dependabot/cargo/atty-0.2.14
    
    build(deps): bump atty from 0.2.13 to 0.2.14

commit 295fba058bc1e22270db966db395ec396a951dd6
Author: JLDLaughlin <jessica@materialize.io>
Date:   Mon Jan 13 10:18:53 2020 -0500

    Fix AvroValue::Union, fix test

commit 182d82c7b724a0017f492947ba07627f492467a1
Author: JLDLaughlin <jessica@materialize.io>
Date:   Mon Jan 13 09:29:55 2020 -0500

    Use testdrive schema-registry-url

commit cb3a1aee21b2496fc9470a4f1308fc45c2e788c6
Author: JLDLaughlin <jessica@materialize.io>
Date:   Mon Jan 13 08:58:58 2020 -0500

    Lint

commit 5dfc573da1be91decde1f02676a40dc4ab0d5131
Author: JLDLaughlin <jessica@materialize.io>
Date:   Mon Jan 13 08:56:36 2020 -0500

    Update test

commit 734b621501981abafaa8db1d532549e14184dfc1
Merge: 8a5d88406 1b39d5490
Author: Nikhil Benesch <nikhil.benesch@gmail.com>
Date:   Mon Jan 13 08:55:11 2020 -0500

    Merge pull request #1500 from benesch/sqllogictest-strconv
    
    sqllogictest: properly handle int32 columns declared as text

commit 3730977cbcb794807bc56f293f46848ce183fcd6
Author: dependabot-preview[bot] <27856297+dependabot-preview[bot]@users.noreply.github.com>
Date:   Mon Jan 13 10:47:52 2020 +0000

    build(deps): bump atty from 0.2.13 to 0.2.14
    
    Bumps [atty](https://github.com/softprops/atty) from 0.2.13 to 0.2.14.
    - [Release notes](https://github.com/softprops/atty/releases)
    - [Changelog](https://github.com/softprops/atty/blob/master/CHANGELOG.md)
    - [Commits](https://github.com/softprops/atty/compare/0.2.13...0.2.14)
    
    Signed-off-by: dependabot-preview[bot] <support@dependabot.com>

commit 5a82ce1edf58c3fc1f88eb7dda32d618ec16b13e
Author: dependabot-preview[bot] <27856297+dependabot-preview[bot]@users.noreply.github.com>
Date:   Mon Jan 13 10:47:50 2020 +0000

    build(deps): bump url from 2.1.0 to 2.1.1
    
    Bumps [url](https://github.com/servo/rust-url) from 2.1.0 to 2.1.1.
    - [Release notes](https://github.com/servo/rust-url/releases)
    - [Commits](https://github.com/servo/rust-url/compare/v2.1.0...v2.1.1)
    
    Signed-off-by: dependabot-preview[bot] <support@dependabot.com>

commit fbf1d8726a7c933982bd6eca0cf666b6804321f6
Author: dependabot-preview[bot] <27856297+dependabot-preview[bot]@users.noreply.github.com>
Date:   Mon Jan 13 10:47:12 2020 +0000

    build(deps): bump sha2 from 0.8.0 to 0.8.1
    
    Bumps [sha2](https://github.com/RustCrypto/hashes) from 0.8.0 to 0.8.1.
    - [Release notes](https://github.com/RustCrypto/hashes/releases)
    - [Commits](https://github.com/RustCrypto/hashes/compare/sha2-v0.8.0...sha2-v0.8.1)
    
    Signed-off-by: dependabot-preview[bot] <support@dependabot.com>

commit b207fe616b02d5fd8e47f64b70e6a805b4ac195d
Author: dependabot-preview[bot] <27856297+dependabot-preview[bot]@users.noreply.github.com>
Date:   Mon Jan 13 10:46:28 2020 +0000

    build(deps): bump regex from 1.3.1 to 1.3.3
    
    Bumps [regex](https://github.com/rust-lang/regex) from 1.3.1 to 1.3.3.
    - [Release notes](https://github.com/rust-lang/regex/releases)
    - [Changelog](https://github.com/rust-lang/regex/blob/master/CHANGELOG.md)
    - [Commits](https://github.com/rust-lang/regex/compare/1.3.1...1.3.3)
    
    Signed-off-by: dependabot-preview[bot] <support@dependabot.com>

commit ddc54d77826111ac1d8d8ee2fadf60afacc0e028
Author: dependabot-preview[bot] <27856297+dependabot-preview[bot]@users.noreply.github.com>
Date:   Mon Jan 13 10:46:02 2020 +0000

    build(deps): bump walkdir from 2.2.9 to 2.3.1
    
    Bumps [walkdir](https://github.com/BurntSushi/walkdir) from 2.2.9 to 2.3.1.
    - [Release notes](https://github.com/BurntSushi/walkdir/releases)
    - [Commits](https://github.com/BurntSushi/walkdir/compare/2.2.9...2.3.1)
    
    Signed-off-by: dependabot-preview[bot] <support@dependabot.com>

commit 52a1046c0eaf2dcfb3085a3e958c80ff79b0025c
Author: dependabot-preview[bot] <27856297+dependabot-preview[bot]@users.noreply.github.com>
Date:   Mon Jan 13 10:45:30 2020 +0000

    build(deps): bump reqwest from 0.10.0 to 0.10.1
    
    Bumps [reqwest](https://github.com/seanmonstar/reqwest) from 0.10.0 to 0.10.1.
    - [Release notes](https://github.com/seanmonstar/reqwest/releases)
    - [Changelog](https://github.com/seanmonstar/reqwest/blob/master/CHANGELOG.md)
    - [Commits](https://github.com/seanmonstar/reqwest/compare/v0.10.0...v0.10.1)
    
    Signed-off-by: dependabot-preview[bot] <support@dependabot.com>

commit 3dffaf1f9b2fca9672e013559801ee7c34df7409
Author: dependabot-preview[bot] <27856297+dependabot-preview[bot]@users.noreply.github.com>
Date:   Mon Jan 13 10:44:55 2020 +0000

    build(deps): bump csv from 1.1.1 to 1.1.2
    
    Bumps [csv](https://github.com/BurntSushi/rust-csv) from 1.1.1 to 1.1.2.
    - [Release notes](https://github.com/BurntSushi/rust-csv/releases)
    - [Commits](https://github.com/BurntSushi/rust-csv/compare/1.1.1...1.1.2)
    
    Signed-off-by: dependabot-preview[bot] <support@dependabot.com>

commit 1d4e7b4913c98cdcaa016ba6378a5fd3cab703a6
Author: dependabot-preview[bot] <27856297+dependabot-preview[bot]@users.noreply.github.com>
Date:   Mon Jan 13 10:44:14 2020 +0000

    build(deps): bump termcolor from 1.0.5 to 1.1.0
    
    Bumps [termcolor](https://github.com/BurntSushi/termcolor) from 1.0.5 to 1.1.0.
    - [Release notes](https://github.com/BurntSushi/termcolor/releases)
    - [Commits](https://github.com/BurntSushi/termcolor/compare/1.0.5...1.1.0)
    
    Signed-off-by: dependabot-preview[bot] <support@dependabot.com>

commit a70804ae04cb3fb6437778ce4bf1d3dc5f16eacd
Author: dependabot-preview[bot] <27856297+dependabot-preview[bot]@users.noreply.github.com>
Date:   Mon Jan 13 10:42:45 2020 +0000

    build(deps): bump rand from 0.7.2 to 0.7.3
    
    Bumps [rand](https://github.com/rust-random/rand) from 0.7.2 to 0.7.3.
    - [Release notes](https://github.com/rust-random/rand/releases)
    - [Changelog](https://github.com/rust-random/rand/blob/master/CHANGELOG.md)
    - [Commits](https://github.com/rust-random/rand/commits)
    
    Signed-off-by: dependabot-preview[bot] <support@dependabot.com>

commit 7954627ff5d9ff4fdeb8a51307874396427f83d5
Author: dependabot-preview[bot] <27856297+dependabot-preview[bot]@users.noreply.github.com>
Date:   Mon Jan 13 10:42:11 2020 +0000

    build(deps): bump differential-dataflow from `8006651` to `fbea6a8`
    
    Bumps [differential-dataflow](https://github.com/TimelyDataflow/differential-dataflow) from `8006651` to `fbea6a8`.
    - [Release notes](https://github.com/TimelyDataflow/differential-dataflow/releases)
    - [Commits](https://github.com/TimelyDataflow/differential-dataflow/compare/80066510b54f1ae05d51f65b52e18bdd5357016c...fbea6a8ec599c6173642bf5b40a19ea3024d537d)
    
    Signed-off-by: dependabot-preview[bot] <support@dependabot.com>

commit 1b39d54906f2f340840da3daac79a31dabacbaed
Author: Nikhil Benesch <nikhil.benesch@gmail.com>
Date:   Sun Jan 12 23:32:02 2020 -0500

    sqllogictest: properly handle int32 columns declared as text
    
    We were incorrectly trying to convert them to an ASCII character, which
    is not what sqllogictest intends; it just wants the integer converted to
    a string.

commit 11960eca2064452c125115f7f83ade3d6e10ddeb
Author: Nikhil Benesch <nikhil.benesch@gmail.com>
Date:   Mon Jan 13 01:00:00 2020 -0500

    sql: add text format for file sources
    
    The text format is equivalent to a regex file source with a regex of
    '(?P<line>.*)', but with a syntax that is substantially easier to
    remember.

commit 85a7e1318a2aedc3bfd0d05e1411bc21302ed986
Author: Nikhil Benesch <nikhil.benesch@gmail.com>
Date:   Mon Jan 13 00:09:57 2020 -0500

    sql: disallow source regexes with no capture groups
    
    These produce zero-column rows, which are pretty useless. If that's
    actually desired, then an explicit empty capture group does the trick.
    
    Fix #1490.

commit 6f52f3b5f660df64750c625dc3b7e856bc3d5f65
Author: Nikhil Benesch <nikhil.benesch@gmail.com>
Date:   Sun Jan 12 23:51:20 2020 -0500

    sql: use "columnN" naming consistently for unnamed columns
    
    Like VALUES expressions and CSV sources, unnamed regex captures should
    use the name "columnN" rather than "unnamedN".

commit 8a5d88406da4085dc8de1ddb03b7f288e411d364
Merge: f35683284 ff058afb6
Author: Nikhil Benesch <nikhil.benesch@gmail.com>
Date:   Sun Jan 12 14:20:38 2020 -0500

    Merge pull request #1499 from benesch/to_timestamp
    
    expr,sql: add to_timestamp(double) function

commit ff058afb6d77a11725e758640c5342ab27835a42
Author: Nikhil Benesch <nikhil.benesch@gmail.com>
Date:   Sun Jan 12 13:42:34 2020 -0500

    expr,sql: add to_timestamp(double) function
    
    This is our first supported means of taking a non-timestamp to a
    timestamp at runtime. Note that to_timestamp(double) is distinct from
    the far more complicated to_timestamp(text, text) form, which is like
    strptime and far harder to support.
    
    Fix #1497.

commit 8f94f8cd6aac3e35fbc30ca0981e2b74aaed0f5f
Author: Nikhil Benesch <nikhil.benesch@gmail.com>
Date:   Sun Jan 12 02:03:56 2020 -0500

    sql: resort function implementations

commit f35683284c8dbd2e54e3b74f37014ab747f68fad
Merge: 8c03ac5f3 4ba604863
Author: Nikhil Benesch <nikhil.benesch@gmail.com>
Date:   Sat Jan 11 18:07:23 2020 -0500

    Merge pull request #1498 from benesch/colnames
    
    sql: propagate column names through casts

commit 4ba6048637c870f36cf5f739c8a7fd2d2ad8d4d9
Author: Nikhil Benesch <nikhil.benesch@gmail.com>
Date:   Sat Jan 11 17:50:54 2020 -0500

    sql: propagate column names through casts
    
    Also fix a related but untracked bug where using an expression in a
    GROUP BY would prevent its name from propagating correctly.
    
    Fix #1491.

commit 8c03ac5f38c615c4e03e06a8801dd62d81ab11ca
Merge: 4b5d6df82 21562256a
Author: Nikhil Benesch <nikhil.benesch@gmail.com>
Date:   Sat Jan 11 15:10:04 2020 -0500

    Merge pull request #1495 from benesch/fast-tail
    
    dataflow: poll tailed files every 100ms on macOS

commit 21562256a33f95e3ac94df5ff733cac20a41daf7
Author: Nikhil Benesch <nikhil.benesch@gmail.com>
Date:   Sat Jan 11 14:48:50 2020 -0500

    dataflow: poll tailed files every 100ms on macOS
    
    We expect file sources to be used primarily for demo purposes, so it
    makes sense to have the default be tuned for a good demo experience, and
    not being able to support massive amounts of file sources. (The default
    before was 30s, which made Materialize seem rather unimpressive.) Plus
    with enough engineering effort we could use something like kqueue on
    macOS instead, which provides precise notifications of when a file has
    been written.

commit 4b5d6df82a1b335ac1b257af0c3fba474896872b
Merge: 960da0d5d dfd5690f5
Author: Frank McSherry <fmcsherry@me.com>
Date:   Fri Jan 10 18:51:49 2020 -0500

    Merge pull request #1492 from frankmcsherry/fix_json
    
    jsonb string typeof

commit dfd5690f5e5d22c51c03d15b970feed01103c437
Author: Frank McSherry <fmcsherry@me.com>
Date:   Fri Jan 10 18:36:20 2020 -0500

    jsonb string typeof

commit 9ec1f4f716503cb7f62082adcb8cc95d054b3082
Author: JLDLaughlin <jessica@materialize.io>
Date:   Fri Jan 10 15:10:49 2020 -0500

    ~Working testdrive

commit 960da0d5d2475547e50ff9d80d3449c81accfbec
Merge: 762047265 08d57f65a
Author: Brandon W Maister <bwm@materialize.io>
Date:   Thu Jan 9 18:25:13 2020 -0500

    Merge pull request #1306 from JLDLaughlin/metabase-docs
    
    Metabase demo docs

commit 762047265c984007c455ff4930a1c09803d0ce50
Merge: a5a4bea07 2d5cfe075
Author: Brandon W Maister <bwm@materialize.io>
Date:   Thu Jan 9 18:22:28 2020 -0500

    Merge pull request #1486 from quodlibetor/testdrive-publish-check
    
    testdrive: only publish key schema if publish is true

commit a5a4bea07b030831fdcb5970405328af227e470a
Merge: 34f18fb81 00233848a
Author: Brandon W Maister <bwm@materialize.io>
Date:   Thu Jan 9 18:21:56 2020 -0500

    Merge pull request #1485 from quodlibetor/testdrive-prepare-proto
    
    testdrive: prepare to parse different kinds of messages

commit 2d5cfe075c147a425a8e4bcdb93603ad813582d9
Author: Brandon W Maister <bwm@materialize.io>
Date:   Mon Jan 6 13:06:01 2020 -0500

    testdrive: only publish key schema if publish is true

commit 34f18fb8151f9e91d73a09c743ffe2cb8ce8d5f5
Merge: 355f37de9 52b5b2955
Author: Brandon W Maister <bwm@materialize.io>
Date:   Thu Jan 9 17:57:31 2020 -0500

    Merge pull request #1479 from quodlibetor/fix-ingest-metric-name
    
    fix renamed kafka prometheus metric

commit 00233848a665a52e9ff2a9c3c63348dd37eb0b19
Author: Brandon W Maister <bwm@materialize.io>
Date:   Mon Jan 6 11:52:58 2020 -0500

    testdrive: prepare to parse different kinds of messages
    
    This is a light refactoring to make it possible to support protobuf messages in the same
    testdrive-over-kafka format.
    
    Part of #1398

commit 355f37de9f158f2da11bcdb1ea7d0730e767b056
Author: Brennan Vincent <brennan@materialize.io>
Date:   Thu Jan 9 17:55:47 2020 -0500

    Revert "Revert "Make CCSR client async. (#1473)" (#1482)" (#1484)
    
    This reverts commit 7ce6cea84940b695b6eab12f042b4bf9276f54e4.
    
    As it turns out, the flaky tests were due to a Tokio bug,
    which has been fixed in https://github.com/tokio-rs/tokio/pull/2074 ,
    which went out in v0.2.9.

commit b46e74b89383413102155f3e85d813cc46608044
Author: Brennan Vincent <brennan@materialize.io>
Date:   Thu Jan 9 17:45:26 2020 -0500

    upgrade tokio (#1483)

commit 2c267820b39df37b3aa5b01b39d6f99c41ea21e3
Merge: 7ce6cea84 5aa02a9ff
Author: nacrooks <nacrooks@gmail.com>
Date:   Thu Jan 9 16:21:33 2020 -0500

    Merge pull request #1481 from nacrooks/showsources
    
    Support for FULL for SOURCES and VIEWS

commit d0ae12827e747a151e9a7fca0a234e19e82ae3a0
Author: Jamie Brandon <jamie@scattered-thoughts.net>
Date:   Thu Jan 9 19:50:33 2020 +0000

    Don't rustup on ci

commit cd4af60dfebc3ba9e997475f75c422c9c2dd9fbc
Author: Jamie Brandon <jamie@scattered-thoughts.net>
Date:   Thu Jan 9 19:50:21 2020 +0000

    Allow passing components to ci-builder

commit 7ce6cea84940b695b6eab12f042b4bf9276f54e4
Author: Brennan Vincent <brennan@materialize.io>
Date:   Thu Jan 9 15:38:51 2020 -0500

    Revert "Make CCSR client async. (#1473)" (#1482)
    
    This reverts commit fd3a90fec453b95d72a6dda9c07ddf9c99bd876d.

commit 5aa02a9ff743f29a430e1a57b9813321a44af3ba
Author: Natacha Crooks <natachacrooks@Natachas-MacBook-Pro.local>
Date:   Thu Jan 9 14:59:10 2020 -0500

    Simplifying test

commit aaab8ec2f05341b4b3316492cd99ff3b9d299b1a
Merge: 2ffa4279f 9d283587c
Author: nacrooks <nacrooks@gmail.com>
Date:   Thu Jan 9 14:51:35 2020 -0500

    Merge pull request #1464 from nacrooks/stringconcat
    
    Adding support for concat()

commit 5992d6bf8e9a54c3a0cc30e8a50917da97688718
Author: Natacha Crooks <natachacrooks@Natachas-MacBook-Pro.local>
Date:   Thu Jan 9 14:18:55 2020 -0500

    Adding FULL support for SOURCE/VIEW

commit 233c77456bd9e6cf11c073bf1d45bbebbe07a232
Author: Natacha Crooks <natachacrooks@Natachas-MacBook-Pro.local>
Date:   Wed Jan 8 18:18:02 2020 -0500

    Parser support for FULL/EXTENDED keywords that matches MySQL

commit 52b5b2955b12359a731eea7f7194e9cfcf66b801
Author: Brandon W Maister <bwm@materialize.io>
Date:   Thu Jan 9 14:05:08 2020 -0500

    grafana: correct event total alignment
    
    This puts the "events total" series' on the right, which means that they don't drown out
    the diff in the events/second chart.
    
    Grafana is supposed to support using a regex to do this, but I can't make it work

commit 3bf1f36165456203b03a3feda96c6818c3873016
Author: Jamie Brandon <jamie@scattered-thoughts.net>
Date:   Thu Jan 9 18:52:57 2020 +0000

    Add a version of slt-fast that runs under AddressSanitizer

commit a4cf341d591b14192dc4eeee065d96943c01da31
Author: Jamie Brandon <jamie@scattered-thoughts.net>
Date:   Thu Jan 9 18:50:19 2020 +0000

    Add a CI script that runs miri tests on Row

commit 8ce80f0826bbf47b35c99e8c2ba47eca1022c4c5
Author: Jamie Brandon <jamie@scattered-thoughts.net>
Date:   Thu Jan 9 18:50:00 2020 +0000

    Fix UB in row caused by writing padding bytes into Row

commit 2ffa4279f94ea364f0a986fc895261898c630bc0
Merge: 476f9bc39 142864ed3
Author: Nikhil Benesch <nikhil.benesch@gmail.com>
Date:   Thu Jan 9 13:41:35 2020 -0500

    Merge pull request #1475 from benesch/int32-default
    
    sql: use int32 as the default int type

commit 476f9bc3952d2e64e6c0e5ec9a52f0be273b60aa
Merge: fd3a90fec 9b546056c
Author: Jamie Brandon <jamie@scattered-thoughts.net>
Date:   Thu Jan 9 18:35:43 2020 +0000

    Merge pull request #1478 from jamii/fix-json-casts
    
    Fix jsonb casts

commit 7b4886398b54fb925e9179a97adb2749a09d3995
Author: Brandon W Maister <bwm@materialize.io>
Date:   Thu Jan 9 12:00:43 2020 -0500

    fix renamed kafka prometheus metric

commit 9b546056c03e90046724c38cbce6ae527dbeab0a
Author: Jamie Brandon <jamie@scattered-thoughts.net>
Date:   Thu Jan 9 18:16:27 2020 +0000

    Fix jsonb casts

commit 142864ed3ff0ab93ace7daab0b52325bc52f01de
Author: Nikhil Benesch <nikhil.benesch@gmail.com>
Date:   Thu Jan 9 11:28:23 2020 -0500

    sql: use int32 as the default int type
    
    This brings us in line with Postgres's behavior, and also removes a
    bunch of casts from the chbench setup.

commit 75f0231734cc13b7db909c419030573db795e17c
Author: JLDLaughlin <jessica@materialize.io>
Date:   Thu Jan 9 08:55:23 2020 -0500

    Testing for simple Avro Schema types

commit fd3a90fec453b95d72a6dda9c07ddf9c99bd876d
Author: Brennan Vincent <brennan@materialize.io>
Date:   Wed Jan 8 23:19:07 2020 -0500

    Make CCSR client async. (#1473)
    
    * Make CCSR client async.
    
    Write a new synchronous client that just delegates to the async one.
    
    Note that this introduces the requirement that a Tokio runtime be active when the synchronous client
    is used; as far as I could find, this assumption was violated only in tests. Update
    tests accordingly.

commit 9d283587c228e7f88ea5de658ad5433682897b1b
Author: Natacha Crooks <natachacrooks@Natachas-MacBook-Pro.local>
Date:   Wed Jan 8 18:26:28 2020 -0500

    Fixing clippy warnings

commit 65b77d6605f5e15dbb2bac1d907221084882531d
Author: Natacha Crooks <natachacrooks@Natachas-MacBook-Pro.local>
Date:   Wed Jan 8 18:22:17 2020 -0500

    Removing blank lines lint

commit 9a8868ae3a79ff116c4da96ba189549396579455
Merge: 2054e06fc ceff0bb50
Author: Nikhil Benesch <nikhil.benesch@gmail.com>
Date:   Wed Jan 8 17:36:20 2020 -0500

    Merge pull request #1471 from benesch/sql-pgrepr
    
    sql: move type name computation to pgrepr

commit 242a5f98089ab4ed85403bc0334453be859036a6
Author: JLDLaughlin <jessica@materialize.io>
Date:   Wed Jan 8 16:53:59 2020 -0500

    WIP test

commit ceff0bb50480c0c353e565f6f117e729b99e3e9f
Author: Nikhil Benesch <nikhil.benesch@gmail.com>
Date:   Wed Jan 8 16:35:30 2020 -0500

    sql: move type name computation to pgrepr
    
    This way we can outsource knowledge of the names to the postgres-types
    library.

commit 763ca4f03bbed1c184a2139e0cb98575bb9f5dd3
Author: Natacha Crooks <natachacrooks@Natachas-MacBook-Pro.local>
Date:   Wed Jan 8 16:23:18 2020 -0500

    Leverage plan_cast_internal for string conversion

commit 2054e06fc8bca0d627a736f5797af05f69ba1c1e
Merge: 0bd6c7c27 0b0d834a1
Author: Brandon W Maister <bwm@materialize.io>
Date:   Wed Jan 8 16:06:44 2020 -0500

    Merge pull request #1469 from quodlibetor/testdrive-error-improvements
    
    Improvements to testdrive outputs in test failure cases

commit 0b0d834a10835f6e9dd389678360b17dc3556abe
Author: Brandon W Maister <bwm@materialize.io>
Date:   Mon Jan 6 14:52:10 2020 -0500

    testdrive: Reduce number of lines printed when sleep/retrying
    
    New output looks like:
    
        rows didn't match; sleeping to see if dataflow catches up 100ms 200ms 400ms 800ms 1.6s 3.2s
        rows match; continuing

commit 39fab6d54a28bd5ad28733eae167ef2eb24be400
Author: Brandon W Maister <bwm@materialize.io>
Date:   Mon Jan 6 13:41:25 2020 -0500

    testdrive: Print extra/missing rows when they don't match

commit 3ffa6a70969627787df8a3d9dd6d20033fe377bf
Author: JLDLaughlin <jessica@materialize.io>
Date:   Wed Jan 8 13:45:15 2020 -0500

    Rust improvements

commit 0bd6c7c277a63f3d7571c416cf6d009d4c3beb00
Merge: 8d2982a4d 096a406b2
Author: Jamie Brandon <jamie@scattered-thoughts.net>
Date:   Wed Jan 8 18:40:26 2020 +0000

    Merge pull request #1429 from benesch/strconv
    
    repr: learn to parse string representations

commit e52f65aa3dff57ceacaaad07c9f681b6ce31d81e
Author: Natacha Crooks <natachacrooks@Natachas-MacBook-Pro.local>
Date:   Wed Jan 8 10:06:35 2020 -0500

    Removing unused variables clippy

commit da5a002c7c02d62d263d30f4effb45e24b7ca33c
Author: Natacha Crooks <natachacrooks@Natachas-MacBook-Pro.local>
Date:   Wed Jan 8 09:43:20 2020 -0500

    Adding tests for coalesce

commit 43862d96d9fd6e037d6b8cf9d0ad0a951755b830
Author: Natacha Crooks <natachacrooks@Natachas-MacBook-Pro.local>
Date:   Wed Jan 8 09:05:26 2020 -0500

    Fixing accidentally removed line in propagate_nulls

commit e28c3306a2282326ff41a871b9bf61df75e5074e
Author: Natacha Crooks <natachacrooks@Natachas-MacBook-Pro.local>
Date:   Tue Jan 7 18:29:38 2020 -0500

    Adding support for the concat() function

commit 096a406b2bd6183e8ce6e1cc58727cc0cc580797
Author: Nikhil Benesch <nikhil.benesch@gmail.com>
Date:   Thu Jan 2 15:40:49 2020 -0500

    repr: learn to parse string representations
    
    Make repr responsible for all text encoding and decoding. Parsing of SQL
    literals, runtime conversion of string -> {any type}, and pgwire bind
    parameter decoding is now all handled by the same code in repr.
    
    Fix #1377.
    Touches #1378.

commit 3e68822cdc224f94524510c01b8e5f10ea26a4ab
Author: Natacha Crooks <natachacrooks@Natachas-MacBook-Pro.local>
Date:   Tue Jan 7 18:20:52 2020 -0500

    Adding support for the concat() function

commit b4fbe0580d7d45c41dcf639b40559c3bc903cfd3
Author: Natacha Crooks <natachacrooks@Natachas-MacBook-Pro.local>
Date:   Wed Jan 8 12:52:32 2020 -0500

    Updating demo.
    Can no longer peek if no view is created (I think)

commit 08d57f65ac791a1a12d08bff7f4bcd35de838f7f
Author: Brandon W Maister <bwm@materialize.io>
Date:   Wed Jan 8 12:12:08 2020 -0500

    metabase-docs: small style changes

commit ceb1721346d9ebb6f259d77cbe88074388c0878a
Author: Brandon W Maister <bwm@materialize.io>
Date:   Wed Jan 8 12:11:50 2020 -0500

    metabase-docs: clarify allowed inputs and expected outputs

commit afb774e93dfb2ac46911f2f4cf098c473bb5ce4e
Author: Brandon W Maister <bwm@materialize.io>
Date:   Wed Jan 8 12:11:08 2020 -0500

    metabase-docs: linkify paths in metabase

commit db1c1e1de19e30cf53e94b51cdb99491f4cd5f81
Author: JLDLaughlin <jessica@materialize.io>
Date:   Wed Jan 8 11:43:29 2020 -0500

    DROP SINK

commit e88c719691b55dabd1bc54282232e828f02c4441
Author: Brandon W Maister <bwm@materialize.io>
Date:   Wed Jan 8 11:21:31 2020 -0500

    metabase demo: Add a light narrative/talking points

commit d73ac2c7c090d1731a371ca0cb1b28b686868f35
Author: JLDLaughlin <jessica@materialize.io>
Date:   Mon Dec 16 11:25:37 2019 -0500

    Metabase demo docs

commit 8d2982a4d77d63d61e4fec3a6bb39f61415a6fc0
Merge: a3d56b2d4 5776e387e
Author: Jamie Brandon <jamie@scattered-thoughts.net>
Date:   Wed Jan 8 15:57:55 2020 +0000

    Merge pull request #1465 from jamii/json-functions
    
    Avoid NaN/Infinity sneaking into jsonb

commit a3d56b2d47c0457a7ef7ba75ddc71e04d95fb043
Merge: ffb13c570 d45cad5d6
Author: nacrooks <nacrooks@gmail.com>
Date:   Wed Jan 8 10:23:28 2020 -0500

    Merge pull request #1452 from nacrooks/parserissues
    
    Support for optional ROW statement in OFFSET

commit ffb13c570e3375a7f1d008cc09e103ebffb11468
Merge: c716fb6d3 2a3d331c7
Author: Frank McSherry <fmcsherry@me.com>
Date:   Wed Jan 8 10:06:15 2020 -0500

    Merge pull request #1460 from frankmcsherry/redundant_joins
    
    Remove redundant join inputs.

commit d45cad5d6996199f78a3940c273495b33209ce5d
Author: Natacha Crooks <natachacrooks@Natachas-MacBook-Pro.local>
Date:   Wed Jan 8 09:58:21 2020 -0500

    Fixing formatting

commit d211bf58e9bbd752cb8963056b242dcb9bf74306
Author: JLDLaughlin <jessica@materialize.io>
Date:   Wed Jan 8 09:18:06 2020 -0500

    Complete schema types, assert number of Datum

commit 5776e387e7d5bcab300b1b1a2fc53d8ec0191239
Author: Jamie Brandon <jamie@scattered-thoughts.net>
Date:   Wed Jan 8 11:18:02 2020 +0000

    Avoid NaN/Infinity sneaking into jsonb

commit c716fb6d3242be31b7440565cd4616ac1154c2f9
Merge: 2ff789a35 634f578d8
Author: Nikhil Benesch <nikhil.benesch@gmail.com>
Date:   Tue Jan 7 17:35:23 2020 -0500

    Merge pull request #1463 from benesch/sql-statement-context
    
    sql: introduce per-statement context

commit 509fb946dec72119e99e970451d11b591667258c
Author: JLDLaughlin <jessica@materialize.io>
Date:   Tue Jan 7 17:12:10 2020 -0500

    Working row_to_avro, not optimized

commit 2ff789a35505a4c269da0a7ea1c8c66e9e96cf40
Merge: d3521cfbb 056caf9f6
Author: Nikhil Benesch <nikhil.benesch@gmail.com>
Date:   Tue Jan 7 17:09:07 2020 -0500

    Merge pull request #1439 from benesch/ore-cast
    
    ore: absorb responsibility for safe cast

commit 634f578d88a087c34f57e07f9630b59a389a151e
Author: Nikhil Benesch <nikhil.benesch@gmail.com>
Date:   Tue Jan 7 16:50:56 2020 -0500

    sql: introduce per-statement context
    
    Supporting databases and schemas will require more complicated name
    resolution routines that depend on both the catalog and the session, as
    the session contains a "schema search path" that determines in which
    schemas to search for catalog items. Presently we only plumb a catalog
    through the SQL planner. This commit creates a new type,
    StatementContext, that bundles a catalog and session together, and
    plumbs that through the planner instead of a bare catalog, in
    preparation for supporting proper databases and schemas.
    
    There is no behavioral change in this patch, to keep the review easier.

commit d3521cfbbcd2bfa3a5e55cb9be8482e1d4e32247
Merge: 4a9166e07 4d878c421
Author: Nikhil Benesch <nikhil.benesch@gmail.com>
Date:   Tue Jan 7 17:03:20 2020 -0500

    Merge pull request #1459 from benesch/length-bytes
    
    sql,expr: support length on bytes

commit 4d878c42106b7eae87b30b8b929033284547624e
Author: Nikhil Benesch <nikhil.benesch@gmail.com>
Date:   Tue Jan 7 15:33:51 2020 -0500

    sql,expr: support length on bytes
    
    PostgreSQL allows asking about the length of a byte array, in addition
    to the length of a string.

commit 4a9166e0745ff86335dea765350aff86b4bbfa72
Merge: 0e192efe5 1d1149ec2
Author: Nikhil Benesch <nikhil.benesch@gmail.com>
Date:   Tue Jan 7 16:38:14 2020 -0500

    Merge pull request #1462 from benesch/lint-oops
    
    lint: fix copyright header lint

commit 1d1149ec2209507c8982bad72cd868d9c39d8fdd
Author: Nikhil Benesch <nikhil.benesch@gmail.com>
Date:   Tue Jan 7 16:28:58 2020 -0500

    lint: fix copyright header lint
    
    This was both a) incorrectly printing an error on files from this
    decade, and b) not failing after printing a warning. Fix both of these
    problems.

commit 2a3d331c7e323c17bd47d8aa39cebca9cd9481d2
Author: Frank McSherry <fmcsherry@me.com>
Date:   Tue Jan 7 16:28:46 2020 -0500

    ignore clippy

commit aada0fc07f6785f59a1adf045afb05bc41d7b73a
Author: Frank McSherry <fmcsherry@me.com>
Date:   Tue Jan 7 16:24:29 2020 -0500

    ignore clippy

commit 0e192efe58207c284e74fcd7d6629c0861fb06fe
Author: Brennan Vincent <brennan@materialize.io>
Date:   Tue Jan 7 16:24:06 2020 -0500

    update flush-tables (#1461)
    
    copied from chbenhcmark repo

commit 55a795e92e4ee4d1d0e292445fe283319bd0aeb9
Author: Frank McSherry <fmcsherry@me.com>
Date:   Tue Jan 7 16:04:01 2020 -0500

    remove singleton join constraints

commit 20dff16582ea3a8c3700f890a520c6c7f865be6a
Author: Frank McSherry <fmcsherry@me.com>
Date:   Tue Jan 7 15:57:05 2020 -0500

    Remove redundant join inputs.
    
    In some cases, often due to subqueries, we have joins that join the same relation multiple times, using a key of the relation. In these cases, all but one instance can be removed, with references to the other relations set to the first, and a projection wrapping the whole thing to set up columns appropriately. Perhaps there are other transformations we should apply to logically remove the columns, but let's see what this looks like.

commit 6d5f47791ab37abe8afd11364092ade01c3f1a6b
Merge: c3e088c1e d45cc3e41
Author: Jamie Brandon <jamie@scattered-thoughts.net>
Date:   Tue Jan 7 20:18:47 2020 +0000

    Merge pull request #1458 from jamii/json-functions
    
    Jsonb functions

commit d45cc3e416af5ab088dfabfc0889369d6de7ecae
Author: Jamie Brandon <jamie@scattered-thoughts.net>
Date:   Tue Jan 7 19:56:10 2020 +0000

    Give up on printing floats like postgres because...
    
    ```
    jamie=# select '1'::jsonb;
     jsonb
    -------
     1
    (1 row)
    
    jamie=# select '1.0'::jsonb;
     jsonb
    -------
     1.0
    (1 row)
    
    jamie=# select '1.00'::jsonb;
     jsonb
    -------
     1.00
    (1 row)
    ```

commit 96f630d6f1eb7b3a6650b00851b29bfbe4bf92be
Author: Jamie Brandon <jamie@scattered-thoughts.net>
Date:   Tue Jan 7 19:30:55 2020 +0000

    Add casts from jsonb to float64/bool

commit 50fdeac9ab52ad5208cdf1a902c498426412a09c
Author: Jamie Brandon <jamie@scattered-thoughts.net>
Date:   Tue Jan 7 19:24:07 2020 +0000

    Clippy

commit c3e088c1e9669b3dcb77ac1265a594ec1b4ef665
Merge: 23e68598b 2a551caef
Author: Frank McSherry <fmcsherry@me.com>
Date:   Tue Jan 7 14:20:21 2020 -0500

    Merge pull request #1457 from frankmcsherry/constant_joins
    
    Fully evaluate joins with all constant inputs.

commit 50fc3b8c2bbef948bad7807117be4d7182007c8e
Author: Jamie Brandon <jamie@scattered-thoughts.net>
Date:   Tue Jan 7 19:14:58 2020 +0000

    More json functions

commit dbe0cf6f5a9852a45bba2e389fae05a4d80dd873
Author: Jamie Brandon <jamie@scattered-thoughts.net>
Date:   Tue Jan 7 19:06:13 2020 +0000

    Better error message

commit d5a45df27db285383222359b4c502dd53194288d
Author: Jamie Brandon <jamie@scattered-thoughts.net>
Date:   Tue Jan 7 18:59:59 2020 +0000

    More json functions

commit 2a551caef6d8ce7df168278dcc1f7edc76199c1b
Author: Frank McSherry <fmcsherry@me.com>
Date:   Tue Jan 7 13:57:40 2020 -0500

    Fully evaluate joins with all constant inputs.

commit 23e68598b3ec62c35186596b1605e56818a0e3cf
Merge: e9e47437d 4b3b91ce2
Author: Brandon W Maister <bwm@materialize.io>
Date:   Tue Jan 7 13:57:29 2020 -0500

    Merge pull request #1446 from quodlibetor/testdrive-reduce-open-fds
    
    testdrive: Fix "too many open fds" error when running joins.td

commit 4b3b91ce2bbbccb42dbcd6cd520f28b563ebf3c4
Author: Brandon W Maister <bwm@materialize.io>
Date:   Tue Jan 7 13:27:08 2020 -0500

    testdrive: clean up all DDL items that were created for a file run
    
    This prevents files from interacting with each other.

commit d01fbc735409782417ac978218e12acac6e768d8
Author: JLDLaughlin <jessica@materialize.io>
Date:   Tue Jan 7 13:08:37 2020 -0500

    Implement row_to_avro

commit ca769916b21613d6325539b519676a6bfb6ab854
Author: Jamie Brandon <jamie@scattered-thoughts.net>
Date:   Tue Jan 7 17:50:50 2020 +0000

    More json functions

commit 6dc3d90156b93fa87371cea3fdde3770c39d26a5
Author: Jamie Brandon <jamie@scattered-thoughts.net>
Date:   Tue Jan 7 17:01:43 2020 +0000

    More json functions

commit 99aff82b6c85856b531e4e296ebad343dc82c7db
Author: Jamie Brandon <jamie@scattered-thoughts.net>
Date:   Tue Jan 7 16:55:03 2020 +0000

    Unbreak pg encoding of null::jsonb

commit 2b016a122f8776ddaeb0c6991d8b5bc78415752d
Author: Jamie Brandon <jamie@scattered-thoughts.net>
Date:   Tue Jan 7 16:11:31 2020 +0000

    Bench sorting to see how much rich equality would cost

commit e782fc8a5959a1a3714e797b2d5fee528293343d
Author: Jamie Brandon <jamie@scattered-thoughts.net>
Date:   Tue Jan 7 16:11:19 2020 +0000

    More json functions

commit ce8bb088a058c194a2035a84ab6375ed71e0715e
Author: Brandon W Maister <bwm@materialize.io>
Date:   Mon Jan 6 14:47:52 2020 -0500

    testdrive: Fix "too many open fds" error when running joins.td
    
    It seems like all our other testdrives already create views for each source when they
    want to.

commit e9e47437dbcb572a37cdcfdcd516fa3279e1850f
Author: Brennan Vincent <brennan@materialize.io>
Date:   Tue Jan 7 09:46:25 2020 -0500

    trivial error message fix (#1455)

commit 94aac38e5e822d560cc216e3087c21e352f9d4c4
Merge: 7c61c2f71 6107c0289
Author: Frank McSherry <fmcsherry@me.com>
Date:   Mon Jan 6 19:11:15 2020 -0500

    Merge pull request #1453 from frankmcsherry/unique_maps
    
    Unique maps

commit 6107c0289d6eb81ffe59484da8139e72caebc0f7
Author: Frank McSherry <fmcsherry@me.com>
Date:   Mon Jan 6 18:31:04 2020 -0500

    helpful hint from @wangandi

commit 14e2841fbd618137301669cc8152fa31e3e98bf6
Author: Frank McSherry <fmcsherry@me.com>
Date:   Mon Jan 6 18:49:28 2020 -0500

    resolve merge

commit 6151bdd18dcf2d8b0722cf855ceddc76e0a93673
Author: Frank McSherry <fmcsherry@me.com>
Date:   Mon Jan 6 17:16:12 2020 -0500

    Add uniquely mapped columns to keys.
    
    This PR allows unary functions to present as "uniqueness preserving" meaning that they maintain uniqueness guarantees made about their source column. This allows us to expose newly constructed columns as part of keys for relations, which allows the join planning to pick up this information, and reach better (we hope) plans.
    
    cc @wangandi

commit 7c61c2f7114a51607aa84d2a446759d16b211c50
Author: Brennan Vincent <brennan@materialize.io>
Date:   Mon Jan 6 17:58:39 2020 -0500

    use PollWatcher on macOS for file tailing (#1454)

commit c01a12519e1b9afe405654636dd8443df79c491a
Merge: 98485ce77 45c758426
Author: Nikhil Benesch <nikhil.benesch@gmail.com>
Date:   Mon Jan 6 17:57:59 2020 -0500

    Merge pull request #1448 from benesch/expr-eval
    
    expr: allow functions to take typed data as input

commit 45c758426e0f68babe5a73c3ad59cc05bb26e8c8
Author: Nikhil Benesch <nikhil.benesch@gmail.com>
Date:   Mon Jan 6 16:32:48 2020 -0500

    expr: allow functions to take typed data as input
    
    Various functions want to take typed Rust data as plan-time input, in
    addition to the zero, one, two, or variadic datums the functions take at
    runtime. For example, BinaryFunc::FloorDecimal needs to know the scale
    of the decimal at runtime, and ScalarExpr::MatchCachedRegex passes a
    compiled regex::Regex to the match_regex function.
    
    There are two approaches to this that have been taken so far. The first
    is to stuff the input into a datum, like BinaryFunc::FloorDecimal does.
    FloorDecimal is really a unary function--it naturally would only take
    one datum as input--but we use a binary function so we can stuff the
    scale into the second parameter. The second approach is what
    ScalarExpr::MatchCachedRegex does, i.e., a dedicated ScalarExpr variant.
    This approach is particularly ugly, as every ScalarExpr transformation
    now needs to handle MatchCachedRegex explicitly.
    
    This pain is all caused because we need to construct a uniform function
    ponter type for all {nullary, unary, binary, variadic} functions.
    Consider UnaryFunc, for example, which presently exposes this API:
    
        fn func(self) -> for<'a> fn(Datum<'a>, &EvalEnv, &'a RowArena) -> Datum<'a>
    
    Every UnaryFunc must therefore take exactly one datum, an evaluation
    environment, and a row buffer. There is no provision for a function like
    UnaryFunc::FloorDecimal, which takes an additional u8 scale parameter.
    
    This commit adjusts UnaryFunc to instead expose this API:
    
        fn eval<'a>(
            &'a self,
            a: Datum<'a>,
            _env: &'a EvalEnv,
            temp_storage: &'a RowArena,
        ) -> Datum<'a>
    
    Now the caller has no insight into how the individual functions are
    implemented. floor_float32 has a very simple signature
    
        fn floor_float32<'a>(a: Datum<'a>) -> Datum<'a>
    
    while floor_decimal can take the extra parameter it desires
    
        fn floor_decimal<'a>(a: Datum<'a>, scale: u8) -> Datum<'a>
    
    and only functions that use temp_storage need to take it as a parameter:
    
        fn cast_int32_to_string<'a>(
            a: Datum<'a>,
            temp_storage: &'a RowArena,
        ) -> Datum<'a>
    
    Analogous changes are made to the other function types, including the
    relational functions, to keep everything symmetric.
    BinaryFunc::FloorDecimal, BinaryFunc::CeilDecimal, and
    BinaryFunc::CastDecimalToString all become UnaryFuncs, as they naturally
    should be. ScalarExpr::MatchCachedRegex is replaced with
    UnaryFunc::MatchRegex, which removes a nice amount of special cases from
    the optimizer.
    
    This also paves the way for a UnaryFunc::CastStringToDecimal function,
    which can't currently be expressed as UnaryFunc::output_type has no way
    to derive the output type for UnaryFunc::CastStringToDecimal without
    this patch (as how would it figure out what scale to report?).

commit 98485ce7702b7f133ff5da12707391222ebf22e1
Merge: ef1595dc9 ae92e33a2
Author: Frank McSherry <fmcsherry@me.com>
Date:   Mon Jan 6 17:30:35 2020 -0500

    Merge pull request #1432 from frankmcsherry/reduce_expression_keys
    
    Allow reduce to use ScalarExpr as keys.

commit 3663075264f89707f0293c4903bb16954609e3e1
Author: Natacha Crooks <natachacrooks@Natachas-MacBook-Pro.local>
Date:   Mon Jan 6 17:16:34 2020 -0500

    Support for optional ROW statement in OFFSET

commit 056caf9f601bc7412490aeffffab16907c230caa
Author: Nikhil Benesch <nikhil.benesch@gmail.com>
Date:   Mon Jan 6 10:04:47 2020 -0500

    ore: absorb responsibility for safe cast
    
    The `cast` crate is a heavyweight dependency for a very simple task:
    infallible conversions from u32 -> usize. Introduce a trait in ore to
    take over this responsibility, so that we can drop the dependency on
    `cast`.
    
    Closes #1437.

commit ef1595dc9f033f1668fc190d4b3a4270f253f66f
Merge: 12c9c99af 1a2cc4198
Author: JLDLaughlin <JLDLaughlin@users.noreply.github.com>
Date:   Mon Jan 6 13:53:25 2020 -0800

    Merge pull request #1374 from JLDLaughlin/kafka_sink
    
    Support basic Kafka sinks.**
    
    **This is basically just a POC until row_to_avro is fully implemented, but works with completely with a simple, demo use case.

commit 1a2cc4198d3d972b105f885dd625d513903de1ba
Author: JLDLaughlin <jessica@materialize.io>
Date:   Mon Jan 6 16:28:58 2020 -0500

    Remove sinks from tests until row_to_avro implemented

commit 53e0bce7380cc818ab2f5aa0fa9ed8a388e814da
Author: JLDLaughlin <jessica@materialize.io>
Date:   Mon Jan 6 16:03:31 2020 -0500

    revisit basic.td sink tests

commit 33fefc99c51787ef79ad73c3ca967076beafacc1
Author: JLDLaughlin <jessica@materialize.io>
Date:   Mon Jan 6 15:43:13 2020 -0500

    move serde import in interchange::avro

commit dacb37879d102643b21e8055ecc1141ad0c4c68b
Author: JLDLaughlin <jessica@materialize.io>
Date:   Mon Jan 6 15:42:35 2020 -0500

    Linting, basic td updates

commit 6f07d5a5bb4f8b1940b0021ce714a701d1096b64
Author: JLDLaughlin <jessica@materialize.io>
Date:   Mon Jan 6 15:04:11 2020 -0500

    Remove URL from KafkaSinkConnector, clippy fixes, merge with master changes

commit c92e0bf63f31957e65ef417aea6049c954205f42
Merge: 34554f0f6 f5e692286
Author: JLDLaughlin <jessica@materialize.io>
Date:   Mon Jan 6 14:13:13 2020 -0500

    merge master for avro fix

commit 12c9c99af20de7d83375dfcb01bad2944bed5a8e
Merge: f5e692286 a8b1f1387
Author: Nikhil Benesch <nikhil.benesch@gmail.com>
Date:   Mon Jan 6 13:36:30 2020 -0500

    Merge pull request #1441 from benesch/pg17
    
    testdrive,symbiosis: upgrade to postgres 0.17

commit a8b1f1387743c89031137a7a12527eb6b8de3154
Author: Nikhil Benesch <nikhil.benesch@gmail.com>
Date:   Sun Dec 29 12:35:12 2019 -0500

    symbiosis: upgrade to postgres 0.17
    
    This removes nearly all of the duplicated dependencies in our crate
    graph.

commit 7867fd90daef061a6948a30bbe512a6b0771ead2
Author: Nikhil Benesch <nikhil.benesch@gmail.com>
Date:   Sat Dec 28 16:06:01 2019 -0500

    testdrive: upgrade to postgres 0.17
    
    The pg_interval and rust_decimal crates are unlikely to upgrade to
    postgres 0.17 any time soon--they're both relatively unmaintained--so
    use our new pgrepr crate, which does support postgres 0.17.

commit f5e692286738cc380a84c9d6bf6ec897a0dfec14
Merge: c4b73b99b e979e0173
Author: Nikhil Benesch <nikhil.benesch@gmail.com>
Date:   Mon Jan 6 11:14:14 2020 -0500

    Merge pull request #1440 from MaterializeInc/ssh-agent
    
    doc/developer: remove references to ssh-agent

commit e979e017350152bbc9c35bac268219a3e9a3f748
Author: Nikhil Benesch <nikhil.benesch@gmail.com>
Date:   Mon Jan 6 10:56:02 2020 -0500

    doc/developer: remove references to ssh-agent
    
    We no longer depend on the separate sqlparser repository, and so we
    no longer need to tell people to configure their SSH agents.

commit c4b73b99bf7540a722015fe027d40083c6f570ac
Merge: 62c64323d 6a9f53e3b
Author: Nikhil Benesch <nikhil.benesch@gmail.com>
Date:   Mon Jan 6 09:41:36 2020 -0500

    Merge pull request #1438 from MaterializeInc/dependabot/cargo/rdkafka-6f725fe
    
    build(deps): bump rdkafka from `f4ea213` to `6f725fe`

commit 62c64323d21694ea3ef6830e7ce91ebb856a1adc
Merge: cc7bcc410 7c6d531c6
Author: Nikhil Benesch <nikhil.benesch@gmail.com>
Date:   Mon Jan 6 09:12:13 2020 -0500

    Merge pull request #1436 from MaterializeInc/dependabot/cargo/atty-0.2.14
    
    build(deps): bump atty from 0.2.13 to 0.2.14

commit cc7bcc41040e262d4cc13c88832b52eb3b5b5583
Merge: 83288a65b 66ff2bb70
Author: Nikhil Benesch <nikhil.benesch@gmail.com>
Date:   Mon Jan 6 09:11:58 2020 -0500

    Merge pull request #1435 from MaterializeInc/dependabot/cargo/sha2-0.8.1
    
    build(deps): bump sha2 from 0.8.0 to 0.8.1

commit 83288a65bf8b724e869ee9983b955e035038668a
Merge: 85cf6c3c2 e9ceb1913
Author: Nikhil Benesch <nikhil.benesch@gmail.com>
Date:   Mon Jan 6 09:11:43 2020 -0500

    Merge pull request #1434 from MaterializeInc/dependabot/cargo/pretty-0.8.0
    
    build(deps): bump pretty from 0.7.1 to 0.8.0

commit 6a9f53e3b8fed3c0629eaeb54f01b8b4d9ff6043
Author: dependabot-preview[bot] <27856297+dependabot-preview[bot]@users.noreply.github.com>
Date:   Mon Jan 6 10:41:15 2020 +0000

    build(deps): bump rdkafka from `f4ea213` to `6f725fe`
    
    Bumps [rdkafka](https://github.com/fede1024/rust-rdkafka) from `f4ea213` to `6f725fe`.
    - [Release notes](https://github.com/fede1024/rust-rdkafka/releases)
    - [Commits](https://github.com/fede1024/rust-rdkafka/compare/f4ea213aa369a92599d54f3fa9b94c66a5977212...6f725fe18f508ecb2b3b5578bcb3aedddd4c9799)
    
    Signed-off-by: dependabot-preview[bot] <support@dependabot.com>

commit 7c6d531c6a797a076a193d7e845cb32ec0e559c4
Author: dependabot-preview[bot] <27856297+dependabot-preview[bot]@users.noreply.github.com>
Date:   Mon Jan 6 10:40:12 2020 +0000

    build(deps): bump atty from 0.2.13 to 0.2.14
    
    Bumps [atty](https://github.com/softprops/atty) from 0.2.13 to 0.2.14.
    - [Release notes](https://github.com/softprops/atty/releases)
    - [Changelog](https://github.com/softprops/atty/blob/master/CHANGELOG.md)
    - [Commits](https://github.com/softprops/atty/compare/0.2.13...0.2.14)
    
    Signed-off-by: dependabot-preview[bot] <support@dependabot.com>

commit 66ff2bb70d1dcb0a6ea532603ed5f5efd42dbfb0
Author: dependabot-preview[bot] <27856297+dependabot-preview[bot]@users.noreply.github.com>
Date:   Mon Jan 6 10:39:47 2020 +0000

    build(deps): bump sha2 from 0.8.0 to 0.8.1
    
    Bumps [sha2](https://github.com/RustCrypto/hashes) from 0.8.0 to 0.8.1.
    - [Release notes](https://github.com/RustCrypto/hashes/releases)
    - [Commits](https://github.com/RustCrypto/hashes/compare/sha2-v0.8.0...sha2-v0.8.1)
    
    Signed-off-by: dependabot-preview[bot] <support@dependabot.com>

commit e9ceb191354387bae471ef6e9aed100dfe600396
Author: dependabot-preview[bot] <27856297+dependabot-preview[bot]@users.noreply.github.com>
Date:   Mon Jan 6 10:39:16 2020 +0000

    build(deps): bump pretty from 0.7.1 to 0.8.0
    
    Bumps [pretty](https://github.com/Marwes/pretty.rs) from 0.7.1 to 0.8.0.
    - [Release notes](https://github.com/Marwes/pretty.rs/releases)
    - [Changelog](https://github.com/Marwes/pretty.rs/blob/master/CHANGELOG.md)
    - [Commits](https://github.com/Marwes/pretty.rs/compare/v0.7.1...pretty-0.8.0)
    
    Signed-off-by: dependabot-preview[bot] <support@dependabot.com>

commit 85cf6c3c293bb32b50e07c93151f858dc0a46498
Merge: 5af5f6895 ca3c3cdde
Author: wangandi <5522362+wangandi@users.noreply.github.com>
Date:   Sun Jan 5 18:44:06 2020 -0500

    Merge pull request #1348 from wangandi/dataflowdesc
    
    Sources are no longer mirrored.

commit ca3c3cdde2578c9b1868c51f012fbca0a0273bba
Author: Andi Wang <andi@materialize.io>
Date:   Fri Jan 3 14:47:13 2020 -0500

    Cleanup per review comments.

commit 148a0c3f611d6c1750c29c0078a5e4e4ecf58849
Author: Andi Wang <andi@materialize.io>
Date:   Thu Jan 2 13:31:17 2020 -0500

    Fix crash due to creating a view name twice.

commit cec0cca2fd053be1bf32057589854855c5c15b4e
Author: Frank McSherry <fmcsherry@me.com>
Date:   Thu Jan 2 09:00:09 2020 -0500

    cargo fmt

commit 31ea54ccd11c7a2f2feee661a6e44f91d292aea6
Author: Frank McSherry <fmcsherry@me.com>
Date:   Thu Jan 2 08:59:37 2020 -0500

    use more-unique consumer group names

commit 6246952208fbba839a600f147d3271719318b3a8
Author: Andi Wang <andi@materialize.io>
Date:   Mon Dec 23 16:14:02 2019 -0500

    Prevent tailing and select on not-materialized things.

commit ed18028bcfa62e7d5e2b37e304d8dac81250ed0a
Author: Andi Wang <andi@materialize.io>
Date:   Fri Dec 20 23:15:26 2019 -0500

    Fix test build.

commit 2ca079127589fb8d32a0224a6bce73cfa4145be6
Author: Andi Wang <andi@materialize.io>
Date:   Fri Dec 20 18:13:24 2019 -0500

    Add some sample test failures.

commit bec12470944ccb0857c78a2e5f0a8c8bd06d3c3f
Author: Andi Wang <andi@materialize.io>
Date:   Thu Dec 19 17:53:11 2019 -0500

    Make local sources into materialized, sourceless views.

commit 419f6f667180d603c36fd76e2d9bd1e12e22a48f
Author: Andi Wang <andi@materialize.io>
Date:   Wed Dec 18 17:33:16 2019 -0500

    Represent logging as a materialized view. Add token back to sink.
    
    Conform to clippy.

commit d0a3433f03bdf66ead9526999bc1287a7b0f6e3d
Author: Andi Wang <andi@materialize.io>
Date:   Fri Dec 13 13:35:02 2019 -0500

    Conform DataflowDesc to new spec

commit 5af5f6895aff44ef6ae2e92f4d85d38eb5385709
Merge: fa5923779 8ce494ff5
Author: Nikhil Benesch <nikhil.benesch@gmail.com>
Date:   Sun Jan 5 11:52:31 2020 -0500

    Merge pull request #1433 from benesch/simple-parameter-panic
    
    pgwire: reject simple queries with parameters

commit 8ce494ff50287513983d9a67a309635570e8cb18
Author: Nikhil Benesch <nikhil.benesch@gmail.com>
Date:   Sat Jan 4 18:25:16 2020 -0500

    pgwire: reject simple queries with parameters
    
    This previously panicked.

commit ae92e33a27d902484d6e9442c36557092e8268a7
Author: Frank McSherry <fmcsherry@me.com>
Date:   Fri Jan 3 14:30:52 2020 -0500

    tidy work in progress

commit 75d62eeba1101d92d8914b52a9f8709d79cf3ba3
Author: Frank McSherry <fmcsherry@me.com>
Date:   Fri Jan 3 13:57:47 2020 -0500

    correct test

commit 997bdc92c9ff2d51dcb8aa7db458bec87398d8c4
Author: Frank McSherry <fmcsherry@me.com>
Date:   Fri Jan 3 13:43:06 2020 -0500

    iteratively apply reduction

commit 2460f50a2c51d65865886c0650402261ae81c24e
Author: Frank McSherry <fmcsherry@me.com>
Date:   Fri Jan 3 13:33:22 2020 -0500

    fix test

commit 3b040eb4f4dfa23212daf6a060e4e82bae99c0c1
Author: Frank McSherry <fmcsherry@me.com>
Date:   Fri Jan 3 13:29:57 2020 -0500

    Absorb all maps into Reduce.

commit 2ac09a8c1aacc0d1602576ae0dd46a8e0086bc6d
Author: Frank McSherry <fmcsherry@me.com>
Date:   Fri Jan 3 13:02:39 2020 -0500

    Allow reduct to use ScalarExpr as keys.
    
    This PR generalizes the keys of RelationExpr::Reduce to be a sequence of ScalarExpr, rather than just a sequence of column indicies. This allows the Reduce operator to handle key production on its own, without requiring a Map operator to produce keys for it. This is mostly a superficial change at the moment, as the only way to construct Reduce stages is using column identifiers, because that is what planning expects. However, we could generalize that in the future, and we can currently go ahead and transform the query plans to absorb Map stages into Reduce stages.
    
    On ergonomic regression, which I took a peek at fixing but didn't understand, is that we used to tighten sequences of column identifier to be the first and last elements with elipses between. This was fine when we were creating a string, but if we need to use the document builder to do this it starts to get gross and I'm not trained on how to do that. So, we have the opportunity to change things like #0, #1, #2, #3 into #0 .. #3.

commit fa5923779dbdaf914c9a02026bc7b7d79fd8e3ef
Merge: e29caaa17 b289f4366
Author: Frank McSherry <fmcsherry@me.com>
Date:   Thu Jan 2 21:38:27 2020 -0500

    Merge pull request #1431 from frankmcsherry/absorb_maps
    
    Reduce can absorb constant Maps

commit b289f43662d9622f991a5bff3556c2d75436a92d
Author: Frank McSherry <fmcsherry@me.com>
Date:   Thu Jan 2 21:18:49 2020 -0500

    whatever

commit 9e20c8ee8bee480b647d6092ba0428bb54f5c673
Author: Frank McSherry <fmcsherry@me.com>
Date:   Thu Jan 2 20:57:28 2020 -0500

    whatever

commit 5d57437dde33112613cc390511c66d1c419978d4
Author: Frank McSherry <fmcsherry@me.com>
Date:   Thu Jan 2 20:53:19 2020 -0500

    ignore clippy

commit 54dc2bff397b454b3e7a69c7c1bfdc15a99ee264
Author: Frank McSherry <fmcsherry@me.com>
Date:   Thu Jan 2 17:41:30 2020 -0500

    reduce absorbs constant maps

commit e29caaa17bb9941995a23ea545240911dd992d13
Merge: ea77150d2 647db8894
Author: Frank McSherry <fmcsherry@me.com>
Date:   Thu Jan 2 17:06:05 2020 -0500

    Merge pull request #1430 from frankmcsherry/insert_remove_constant_join
    
    Distinguish introduction and removal of constant joins

commit 647db8894b4461025c808859407611d9f01f4b1c
Author: Frank McSherry <fmcsherry@me.com>
Date:   Thu Jan 2 16:55:44 2020 -0500

    remove incorrect test

commit dfe9148f4a6084f43726a8fc7417bb915e50c0dc
Author: Frank McSherry <fmcsherry@me.com>
Date:   Thu Jan 2 16:38:08 2020 -0500

    distinguish introduction and removal of constant joins

commit ea77150d2b859b88d874deffa10620750799555d
Merge: 90eb4b3d1 b400247e9
Author: Frank McSherry <fmcsherry@me.com>
Date:   Thu Jan 2 15:25:02 2020 -0500

    Merge pull request #1428 from frankmcsherry/threshold_demand
    
    demand all columns for threshold

commit b400247e9b2c8a5408777063fafa94df5cc6a021
Author: Frank McSherry <fmcsherry@me.com>
Date:   Thu Jan 2 15:10:33 2020 -0500

    demand all columns for threshold

commit 90eb4b3d11dbbda386d51266a0f6203dcc58d2c8
Merge: cc6ed264b c93d3b939
Author: Frank McSherry <fmcsherry@me.com>
Date:   Thu Jan 2 14:52:34 2020 -0500

    Merge pull request #1427 from frankmcsherry/projection_pushdown
    
    Aggressively push filter through map

commit c93d3b9390f32478a94176616ecc49af3a602ca9
Author: Frank McSherry <fmcsherry@me.com>
Date:   Thu Jan 2 14:30:15 2020 -0500

    aggressively push filter through map

commit cc6ed264bc8e6bebda85289ce2a031e45fdc1a0d
Merge: 4f33f3d8e a9c65bd79
Author: Nikhil Benesch <nikhil.benesch@gmail.com>
Date:   Thu Jan 2 13:56:04 2020 -0500

    Merge pull request #1417 from benesch/pgrepr2
    
    pgrepr: new crate to handle pgwire encoding/decoding

commit 4f33f3d8e9c77cef6ed0682d79099b8befb5c27d
Merge: c0ae35469 6baca2f7e
Author: Nikhil Benesch <nikhil.benesch@gmail.com>
Date:   Thu Jan 2 12:54:38 2020 -0500

    Merge pull request #1420 from benesch/to-char
    
    expr,sql: flesh out timestamp functionality

commit a9c65bd79a7a39acbd9b807f8e037014d4d4f67f
Author: Nikhil Benesch <nikhil.benesch@gmail.com>
Date:   Sat Dec 28 13:28:04 2019 -0500

    pgrepr: learn to decode intervals and numerics

commit 56fd0655912da9a417788dfff493bec72bd2c2d2
Author: Nikhil Benesch <nikhil.benesch@gmail.com>
Date:   Fri Dec 27 13:27:35 2019 -0500

    pgrepr: take responsibility for decoding values
    
    Move responsibility for decoding datums from pgwire to pgrepr. pgrepr
    delegates the binary decoding to postgres-types where possible, just
    like it does for encoding.
    
    This required introducing a new pgrepr::Type object that is a direct
    mapping to a PostgreSQL type. It differs from repr::ScalarType in only
    one meaningful way, which is that pgrepr::type::Numeric does not store
    the scale of the numeric, while repr::ScalarType::Decimal does. This
    mirrors how pgrepr::Value::Numeric stores the scale, while
    repr::Datum::Decimal does not.
    
    A nice side effect of pgrepr::Type is that it makes the conversions
    explicit. It is always possible to go from a repr::ScalarType to a
    pgrepr::Type, because the latter stores *less* information. But going
    from a pgrepr::Type to a repr::ScalarType requires the actual value to
    be on hand, so that the decimal scale can be filled in if applicable.
    
    pgrepr::Type delegates to postgres-types where it can, and completely
    subsumes the old pgwire::types module.
    
    Despite the number of todos in this patch, the only regression from
    previously-supported behavior is decoding of textual bind parameters,
    which aren't tested anyway.

commit 62595acdc65cd3e3dbbf32c9afe43eb0bc87be1d
Author: Nikhil Benesch <nikhil.benesch@gmail.com>
Date:   Thu Dec 26 23:56:20 2019 -0500

    pgrepr: use postgres-types binary encoding logic
    
    We can delegate most of our binary encoding logic to
    postgres_types::ToSql. Refactor accordingly. We continue to provide our
    own implementation for decimals and intervals, which are not yet
    supported by postgres-types directly.

commit 6b99aae4e11cf5af99761a2254b81a13a88e3dbf
Author: Nikhil Benesch <nikhil.benesch@gmail.com>
Date:   Tue Dec 24 13:58:46 2019 -0500

    pgrepr: new crate to handle pgwire binary encoding
    
    Extract a new crate, pgrepr, that will handle the pgwire binary
    encoding. The rationale for this crate is laid out in #1380, but the
    summary is that we have several crates that want to use the binary
    encoding/decoding logic but cannot or should not depend on the pgwire
    crate.
    
    This is bare minimum code movement for now. Forthcoming commits will
    flesh out the crate.
    
    Touches #1380.

commit 6baca2f7e11d14063619631f3365a5b235e526bb
Author: Nikhil Benesch <nikhil.benesch@gmail.com>
Date:   Thu Nov 28 20:48:40 2019 -0500

    expr: support the full scope of to_char

commit 3df76d67404c79de22dec45a6f971306b72e7f04
Author: Nikhil Benesch <nikhil.benesch@gmail.com>
Date:   Thu Nov 28 12:46:30 2019 -0500

    expr,sql: support subtracting timestamps
    
    Subtracting two timestamps yields an interval.

commit 1efe18c707b80453e5715aff0874bda67e31ea54
Author: Nikhil Benesch <nikhil.benesch@gmail.com>
Date:   Thu Nov 28 00:44:36 2019 -0500

    sql: support make_timestamp function

commit b572149a773a0e7c24b4e04c5ff32ed3bb69c367
Author: Nikhil Benesch <nikhil.benesch@gmail.com>
Date:   Thu Nov 28 00:08:47 2019 -0500

    test: add some postgres date/time tests

commit 134d69a88290b3a2e51db76aa9f82fdadd9f08d7
Author: Nikhil Benesch <nikhil.benesch@gmail.com>
Date:   Tue Nov 26 13:10:56 2019 -0500

    sql: tweak to_char
    
    Adjust the implementation of to_char so that it outputs the correct
    number of fractional second digits (3) and a timezone.

commit c0ae354694da9bb3e79b9c99183d9cedb0e1a6da
Merge: 760de11a1 f92ff4f23
Author: Jamie Brandon <jamie@scattered-thoughts.net>
Date:   Thu Jan 2 12:16:19 2020 +0000

    Merge pull request #1426 from jamii/lateral-join
    
    Implicit lateral joins

commit f92ff4f23c56da2656a0516f78e9478abcdd4bd0
Author: Jamie Brandon <jamie@scattered-thoughts.net>
Date:   Wed Jan 1 22:30:47 2020 +0000

    Enable implicit lateral joins for table functions

commit 760de11a1a0284fe5a0779fa0cdc27d074ffbec3
Merge: cbf6fa681 84f147796
Author: Jamie Brandon <jamie@scattered-thoughts.net>
Date:   Thu Jan 2 11:12:56 2020 +0000

    Merge pull request #1425 from jamii/simpler-row
    
    Simpler row api

commit cbf6fa681ea9b9eb58d3348d51ba9ddf559463e8
Merge: 0149e810d 68a2635da
Author: Nikhil Benesch <nikhil.benesch@gmail.com>
Date:   Wed Jan 1 23:15:29 2020 -0500

    Merge pull request #1423 from benesch/sql-parser-cleanup
    
    sql-parser: remove more vestigial code

commit 0149e810d3890f9e215bd99c81eb4961438a9a01
Merge: 9afb3a0c6 ceee70c0b
Author: Frank McSherry <fmcsherry@me.com>
Date:   Wed Jan 1 22:39:21 2020 -0500

    Merge pull request #1422 from frankmcsherry/reduce_join
    
    Reduce empty join

commit 84f1477962c02f0edf1f07c940e48d315842ce88
Author: Jamie Brandon <jamie@scattered-thoughts.net>
Date:   Wed Jan 1 22:34:00 2020 +0000

    Fmt

commit 5a1d1d06fe10ac59e6c2d5fb722d0b48ae63f556
Merge: 3d96ef27a 9afb3a0c6
Author: Jamie Brandon <jamie@scattered-thoughts.net>
Date:   Wed Jan 1 22:29:09 2020 +0000

    Merge branch 'master' into simpler-row

commit 3d96ef27a26c8e56fecba3a48dd9c5ee42ccbbfd
Author: Jamie Brandon <jamie@scattered-thoughts.net>
Date:   Wed Jan 1 21:23:03 2020 +0000

    Clippy

commit 712430f8d8a6eac02650102bff641acb741a133e
Author: Jamie Brandon <jamie@scattered-thoughts.net>
Date:   Wed Jan 1 21:18:41 2020 +0000

    Make RowPacker responsible for building lists/dicts
    
    This allows converting nested structures into datums without any
    intermediate copying.

commit dbf482df22aeac104c6aac7e737da00f4a344012
Author: Jamie Brandon <jamie@scattered-thoughts.net>
Date:   Wed Jan 1 19:01:00 2020 +0000

    Collapse RowPacker and PackableRow into one type
    
    Rather than keep a long-lived buffer, allocate a large buffer upfront
    and shrink it to produce the row.
    
    The performance impact of this is hard to assess - it's very sensitive
    to the state of the global allocator so eg changing the order of
    microbenchmarks can heavily affect the results :(
    
    But logically the cost should be a single extra free per Row created.
    
    This patch also incidentally fixes a use-after-free in RowArena.

commit ab50ee0713100b5802d6fb82a44a5737d2f2c93b
Author: Jamie Brandon <jamie@scattered-thoughts.net>
Date:   Wed Jan 1 17:11:21 2020 +0000

    Remove Unpacker
    
    I was able to get similar performance by pre-sizing the allocation in
    unpack. The old unpack was typically 100% slower than RowUnpacker. The
    new unpack is 0-10% slower depending on the data.

commit 9afb3a0c6acde14dcb0e9afef3316a2573c61311
Merge: 20d40ceba cc2df68dd
Author: Nikhil Benesch <nikhil.benesch@gmail.com>
Date:   Tue Dec 31 01:51:28 2019 -0500

    Merge pull request #1424 from benesch/bump-reqwest
    
    deps: bump to release of reqwest

commit cc2df68dde16ca985ea4bda47a9c42187a353af1
Author: Nikhil Benesch <nikhil.benesch@gmail.com>
Date:   Tue Dec 31 01:32:13 2019 -0500

    deps: bump to release of reqwest

commit 68a2635dac983355739485a3eb4c529091a37b03
Author: Nikhil Benesch <nikhil.benesch@gmail.com>
Date:   Tue Dec 31 01:24:13 2019 -0500

    sql-parser: remove support for some mssql-specific syntax
    
    We're never going to support these things.

commit 35a925db8b67bce9458e7002ddab0006451bf2b0
Author: Nikhil Benesch <nikhil.benesch@gmail.com>
Date:   Tue Dec 31 01:13:40 2019 -0500

    sql-parser: drop support for external tables
    
    External tables are a vestige of when this parser was part of
    DataFusion. We have our own notion of external tables (sources), so we
    can just rip out the support for external tables.

commit 20d40cebab2375418fa563c656b531440cc5e230
Merge: 7b8921326 cfbba33fb
Author: wangandi <5522362+wangandi@users.noreply.github.com>
Date:   Mon Dec 30 22:39:04 2019 -0500

    Merge pull request #1419 from wangandi/now
    
    Fix explain now() crash.

commit cfbba33fb9f2d552389a33aa63bdcff64b4eed94
Author: Andi Wang <andi@materialize.io>
Date:   Mon Dec 30 17:03:30 2019 -0500

    Fix explain now() crash.

commit ceee70c0b0110f1fe222d1b20174969195bbbd6f
Author: Frank McSherry <fmcsherry@me.com>
Date:   Mon Dec 30 20:32:48 2019 -0500

    propagate empty join

commit 7b8921326048c4ab9f6ee171f6b35617e4c4eeac
Merge: b8db66257 3573fd40a
Author: Nikhil Benesch <nikhil.benesch@gmail.com>
Date:   Mon Dec 30 16:15:14 2019 -0500

    Merge pull request #1416 from benesch/catalog-qualnames
    
    catalog: take responsibility for QualNames

commit b8db66257abcf7e9fdcb1018284dc581067332cc
Author: Brennan Vincent <brennan@materialize.io>
Date:   Mon Dec 30 15:29:27 2019 -0500

    Heartbeat every second in file sources (#1418)

commit 3573fd40a4c4dee379df75effceec65a1dfe89c9
Author: Nikhil Benesch <nikhil.benesch@gmail.com>
Date:   Sun Dec 29 13:56:16 2019 -0500

    catalog: take responsibility for QualNames
    
    Qualified names are fundamentally a SQL/catalog concept; the dataflow
    layer is intended to be entirely agnostic to names. Move QualNames out
    of repr, which is intended to be SQL-agnostic, and into catalog.
    
    This is the first step towards supporting proper databases and schemas
    (#1126). It is also the second-to-last step for breaking repr's
    dependence on the sql-parser crate (#1006).

commit b8403be4bcfefc877318ee4bf36d2311d6a9fdf6
Merge: ccfc8dc5c 6ff53e503
Author: Nikhil Benesch <nikhil.benesch@gmail.com>
Date:   Mon Dec 30 14:58:22 2019 -0500

    Merge pull request #1412 from benesch/pgwire-improvements
    
    pgwire: reduce allocations + improve compliance with copy out protocol

commit 6ff53e50372ece2c2059667f54d72a767c261eca
Author: Nikhil Benesch <nikhil.benesch@gmail.com>
Date:   Wed Dec 25 00:28:17 2019 -0500

    pgwire: send correct parameters for copy out
    
    We were previously hacking our way through the copy out protocol.
    Implementing it fully makes the code in question more descriptive, and
    more compliant with non-psql frontends.

commit 227dde361217d60b6c5d467a53dc3b876b12fc2b
Author: Nikhil Benesch <nikhil.benesch@gmail.com>
Date:   Tue Dec 24 18:28:22 2019 -0500

    pgwire: avoid allocating temporary buffer
    
    We're now using a version of the bytes crate that will automatically
    reallocate as necessary.

commit ccfc8dc5c6f249c6d3d4a9e761275b3e428ba264
Merge: ed3e3031a 44d281ce2
Author: Nikhil Benesch <nikhil.benesch@gmail.com>
Date:   Mon Dec 30 14:37:55 2019 -0500

    Merge pull request #1411 from benesch/sqlparser-rm-dialects
    
    sql-parser: remove non-postgres dialects

commit ed3e3031aa7b4ee49483e51a02ecfe9d40389cf8
Merge: 436240df7 b19c7b0ff
Author: Nikhil Benesch <nikhil.benesch@gmail.com>
Date:   Mon Dec 30 14:37:36 2019 -0500

    Merge pull request #1414 from benesch/prepush-easy
    
    bin/pre-push: don't run `cargo test`

commit 436240df76e60847d6c5b7e76267325d3c7a1fdb
Merge: 01fbf4fd5 8dca4df9c
Author: Sean Loiselle <sean@materialize.io>
Date:   Mon Dec 30 11:08:21 2019 -0800

    Merge pull request #1407 from sploiselle/parse-numbers-begin-decimal
    
    parse decimals without leading integer, e.g. .1

commit 8dca4df9c3eef607039ca995378607e7831a14ad
Author: sploiselle <sean@materialize.io>
Date:   Mon Dec 30 10:43:37 2019 -0500

    parse decimals without leading integer, e.g. .1

commit b19c7b0ff3ff297fc8474062a4a89fffa294cade
Author: Nikhil Benesch <nikhil.benesch@gmail.com>
Date:   Mon Dec 30 13:55:57 2019 -0500

    bin/pre-push: don't run `cargo test`
    
    Empirically, running `cargo test` in the pre-push hook causes people to
    not use the pre-push hook. Drop it, so that people are hopefully less
    frustrated by rustfmt and clippy.

commit 44d281ce22329437bb3c6f9040f433d692c46285
Author: Nikhil Benesch <nikhil.benesch@gmail.com>
Date:   Mon Dec 30 13:29:14 2019 -0500

    sql-parser: remove non-postgres dialects
    
    We don't care about anything but the Postgres dialect. Attempting to
    support all possible SQL dialects is not what we want to stake
    Materialize's future on. Rip out support for dialects entirely, so we
    can focus on the one dialect that matters: ours.
    
    The code movement here is to consolidate the MySQL- and
    PostgreSQL-specific tests that are still relevant in our new, merged
    Materialize dialect into the main sqlparser test file.

commit 01fbf4fd51f9f9edea3a91a91abfdf2f6443128c
Merge: b64c33f16 8ec395dfb
Author: Nikhil Benesch <nikhil.benesch@gmail.com>
Date:   Mon Dec 30 13:31:28 2019 -0500

    Merge pull request #1382 from benesch/materialized-build
    
    materialized: avoid build script

commit 8ec395dfb9c529a05421c91085c6af1858d4268f
Author: Nikhil Benesch <nikhil.benesch@gmail.com>
Date:   Fri Dec 20 23:36:14 2019 -0500

    materialized: avoid build script
    
    The materialized crate currently uses a build script to determine the
    current Git SHA and time so that those values can be embedded into the
    binary. This is accepted best practice at the moment, but I think this
    this practice is misguided, for several reasons:
    
      * Build scripts are only re-run if something in the materialized crate
        changes. It is perfectly possible--likely, even--to switch to a
        commit that only has changes in one of the materialized crate's
        dependencies, in which case the next build will *not* rerun the
        build script and will fail to noticy the updated commit SHA and
        build time, even though the materialized crate will be rebuilt.
    
      * Build scripts *are* rerun if something in the crate changes, which
        invalidates the crate library. This is painful when adjusting
        integration tests in the materialized/tests directory, where a small
        change to a test can result in 30s+ of recompilation of the library.
    
      * The `cargo:rerun-if-changed` directives are not sufficiently
        powerful to request a re-run whenever the crate is being recompiled.
    
    Instead, we can (ab)use procedural macros to run code at compile time,
    and shell out to `git` and `date` to get the Git SHA and current time,
    respectively. Someone has already packaged this logic up into a crate
    called `compile-time-run`, which works well and solves all of the above
    deficiencies of build scripts.

commit b64c33f1694f8677e404d57b53ebb9f7a43cd3b0
Merge: 8d9541258 f16f1da59
Author: Nikhil Benesch <nikhil.benesch@gmail.com>
Date:   Mon Dec 30 13:05:10 2019 -0500

    Merge pull request #1410 from benesch/ci-locked
    
    ci: don't auto-update the Cargo.lock

commit 8d9541258c0c077047592f1596ffd18be7a3954f
Merge: 94ac5e685 cbca73e55
Author: Nikhil Benesch <nikhil.benesch@gmail.com>
Date:   Mon Dec 30 13:04:28 2019 -0500

    Merge pull request #1404 from benesch/isort
    
    repr/benches: use 2018 syntax

commit 94ac5e6852973a97b6a756c779d5455460a24a6e
Merge: 179f35896 992aa5a1e
Author: Nikhil Benesch <nikhil.benesch@gmail.com>
Date:   Mon Dec 30 13:04:09 2019 -0500

    Merge pull request #1409 from benesch/manifmt
    
    *: format all Cargo.toml manifests

commit f16f1da590d61008fc38d09b194f0c78d5a4caa1
Author: Nikhil Benesch <nikhil.benesch@gmail.com>
Date:   Mon Dec 30 11:58:36 2019 -0500

    ci: don't auto-update the Cargo.lock
    
    If the Cargo.lock is out-of-date wrt to the Cargo.toml, CI shouldn't
    pass the build, as that means that everyone who runs cargo locally on
    that commit will generate diffs to Cargo.lock.
    
    We can tell cargo not to auto-update the lockfile, and instead produce
    an error, by passing --locked to every cargo invocation.

commit cbca73e556f2396d8d59327ac5fe5593b728627b
Author: Nikhil Benesch <nikhil.benesch@gmail.com>
Date:   Mon Dec 30 00:56:31 2019 -0500

    repr/benches: use 2018 syntax
    
    Somehow this module was still using 2015 syntax.

commit 179f35896ffe4b8207070b8368f42ab186638ded
Merge: 8495d6d1d 058b73fb8
Author: Nikhil Benesch <nikhil.benesch@gmail.com>
Date:   Mon Dec 30 11:46:30 2019 -0500

    Merge pull request #1405 from MaterializeInc/dependabot/cargo/reqwest-c88d3b7
    
    build(deps): bump reqwest from `24abf2f` to `c88d3b7`

commit 992aa5a1efd2162c3d87b8b4bed0aaced8fdb399
Author: Nikhil Benesch <nikhil.benesch@gmail.com>
Date:   Mon Dec 30 11:45:02 2019 -0500

    *: format all Cargo.toml manifests
    
    Enforce a consistent style on our Cargo.toml manifests via
    cargo-manifmt. This reduces diff noise when dependencies are updated.
    
    cargo-manifmt is really unstable, so we don't want to run it in CI yet.

commit 058b73fb83e5547ed746e58e150b3ac218118658
Author: dependabot-preview[bot] <27856297+dependabot-preview[bot]@users.noreply.github.com>
Date:   Mon Dec 30 10:39:19 2019 +0000

    build(deps): bump reqwest from `24abf2f` to `c88d3b7`
    
    Bumps [reqwest](https://github.com/seanmonstar/reqwest) from `24abf2f` to `c88d3b7`.
    - [Release notes](https://github.com/seanmonstar/reqwest/releases)
    - [Commits](https://github.com/seanmonstar/reqwest/compare/24abf2fcbdabbc63136677bc440788271484d103...c88d3b7aa644ef2534be2d8a2160fe33c44814f4)
    
    Signed-off-by: dependabot-preview[bot] <support@dependabot.com>

commit 8495d6d1decde1a56583c12bb3ebdff79e9a0d28
Merge: 397f8de4b 2de1d7dcc
Author: Nikhil Benesch <nikhil.benesch@gmail.com>
Date:   Thu Dec 26 10:45:02 2019 -0500

    Merge pull request #1402 from benesch/pgwire-cancel
    
    pgwire: tweaks and tests

commit 2de1d7dcc67b3f3dadac964d69f5efd4b03b2d31
Author: Nikhil Benesch <nikhil.benesch@gmail.com>
Date:   Thu Dec 26 01:37:04 2019 -0500

    pgwire: don't wedge cancel connections
    
    847c92f12 broke cancellation with libpq, as it caused the server to wait
    for another message after receiving a cancellation request before
    hanging up the connection. libpq was explicitly expecting the server to
    hang up the connection and wedging.
    
    Restore the old behavior by allowing each state to decide for itself
    whether it wants to receive a message. State::Done, notably, does not
    want to receive another message before terminating the connection.

commit 29bd15af6f2d7409a4e11e836848f9297a3c55c9
Author: Nikhil Benesch <nikhil.benesch@gmail.com>
Date:   Thu Dec 26 01:24:59 2019 -0500

    materialized: add a test for TAIL sql statement
    
    Fix #1351.

commit 397f8de4bffc5fbbf082fe1f263d2785c7991266
Author: Ruchir Khaitan <ruchir0001@gmail.com>
Date:   Wed Dec 25 19:25:26 2019 -0500

    Parse proto arrays and nested messages
    
    This is a flawed but (more or less) working change set that supports parsing arrays of messages and nested messages. The comments on the pull request 1401 should help point the way to how one might make it better.
    
    Touches #1396
    Touches #1397

commit 526eba03faa77b5d0a3c3a960bea2290c026b2c0
Merge: 15c841cff 63d2c242b
Author: Nikhil Benesch <nikhil.benesch@gmail.com>
Date:   Tue Dec 24 12:33:23 2019 -0500

    Merge pull request #1384 from benesch/absorb-sqlparser
    
    sql-parser: absorb separate sql parser repository

commit 63d2c242b4d7d62dc07f622ed47ecc5c29334845
Author: Nikhil Benesch <nikhil.benesch@gmail.com>
Date:   Tue Dec 24 12:17:06 2019 -0500

    sql-parser: drop bigdecimal feature
    
    We don't use this feature, so it's not worth the extra complexity.

commit 8225728865e59260bb7e69ae22cec0c3c519a5a0
Author: Nikhil Benesch <nikhil.benesch@gmail.com>
Date:   Sat Dec 21 00:51:00 2019 -0500

    sql-parser: absorb separate sql parser repository
    
    Absorb MaterializeInc/sqlparser as a new crate named sql-parser.
    Having a separate repository actively hinders Materialize development,
    as every change requires at least three steps: making the change int he
    sqlparser repository, bumping the version of sqlparser in the
    materialize repository, and then actually using the new feature in the
    materialize repository.
    
    For a while, the upstream library was seeing active development, so a
    separate repository made sense, as it eased the process of incorporating
    upstream patches. But at this point we've far surpassed upstream in our
    SQL parsing capabilities, and development upstream has stalled entirely.
    Plus, upstream has the dubious goal of supporting all popular SQL
    dialects, while we have the simpler task of just supporting the
    Materialize SQL dialect; ripping out support for the other dialects will
    make the code much simpler.
    
    This is a direct import of the sqlparser repository, modulo changes to
    the license header and Cargo.toml. Cleanups will follow in future
    commits.

commit 15c841cff1fe63c566e8569fbd62e13f35b5b218
Merge: 452dffdb9 a84f6a57b
Author: Nikhil Benesch <nikhil.benesch@gmail.com>
Date:   Tue Dec 24 12:03:55 2019 -0500

    Merge pull request #1399 from benesch/postgres-017
    
    deps: upgrade to postgres 0.17

commit a84f6a57b12ebb338b38d58f2db9187c0aa2034a
Author: Nikhil Benesch <nikhil.benesch@gmail.com>
Date:   Tue Dec 24 11:36:09 2019 -0500

    coord: drop unused dependencies
    
    The absurdly large set of dependencies here appears to have been the
    result of splitting the coord crate out of the materialized crate
    without properly pruning the dependency list.

commit 3bb5272fcc5f5e74a18520fdf24ae9a47f95868f
Author: Nikhil Benesch <nikhil.benesch@gmail.com>
Date:   Tue Dec 24 11:34:05 2019 -0500

    deps: upgrade to postgres 0.17
    
    The official release is out.

commit 452dffdb96c593b572f8d6c06fba936c97dae19f
Merge: d0d6f4993 32020bfcf
Author: Nikhil Benesch <nikhil.benesch@gmail.com>
Date:   Mon Dec 23 21:21:42 2019 -0500

    Merge pull request #1393 from MaterializeInc/dependabot/cargo/timely-a6b5e3e
    
    build(deps): bump timely from `c82ba8d` to `a6b5e3e`

commit d0d6f49938c4cb31beea6c178a07a1dc43a4c2e5
Merge: f8e231de3 a1f598de0
Author: Nikhil Benesch <nikhil.benesch@gmail.com>
Date:   Mon Dec 23 21:21:36 2019 -0500

    Merge pull request #1387 from MaterializeInc/dependabot/cargo/whoami-0.7.0
    
    build(deps): bump whoami from 0.6.0 to 0.7.0

commit f8e231de360d123cfa5eaa4a74662c1b95be673f
Merge: f90435e65 cb61aa96d
Author: Nikhil Benesch <nikhil.benesch@gmail.com>
Date:   Mon Dec 23 21:21:30 2019 -0500

    Merge pull request #1386 from MaterializeInc/pgwire-match-gssenc
    
    pgwire: add VERSION_GSSENC to list of versions

commit 34554f0f61e08e80097204d608f0476845ed6653
Author: JLDLaughlin <jessica@materialize.io>
Date:   Mon Dec 23 15:56:02 2019 -0800

    Pull encoding into interchange::avro

commit f90435e65f76e6dd0fccafb2e3a40075c7c95161
Author: Ruchir Khaitan <ruchir0001@gmail.com>
Date:   Mon Dec 23 15:30:10 2019 -0500

    Extend proto support to enums, uints, defaults (#1395)
    
    Fixes #1191

commit 32020bfcf70980725d4e6d573306ecb3ebd3ba67
Author: dependabot-preview[bot] <27856297+dependabot-preview[bot]@users.noreply.github.com>
Date:   Mon Dec 23 10:40:00 2019 +0000

    build(deps): bump timely from `c82ba8d` to `a6b5e3e`
    
    Bumps [timely](https://github.com/TimelyDataflow/timely-dataflow) from `c82ba8d` to `a6b5e3e`.
    - [Release notes](https://github.com/TimelyDataflow/timely-dataflow/releases)
    - [Commits](https://github.com/TimelyDataflow/timely-dataflow/compare/c82ba8d0e2e71359c10e0c22a06d76bfcbdc3abc...a6b5e3ef7da8f0a83c62ed1bb839cd56ad2d714e)
    
    Signed-off-by: dependabot-preview[bot] <support@dependabot.com>

commit 4851a66d0bc2c6120120d396a5aa933e0bdab505
Merge: 8747e16bd 77d13f111
Author: Nikhil Benesch <nikhil.benesch@gmail.com>
Date:   Mon Dec 23 13:09:35 2019 -0500

    Merge pull request #1392 from MaterializeInc/dependabot/cargo/tokio-0.2.6
    
    build(deps): bump tokio from 0.2.4 to 0.2.6

commit 8747e16bd3e7054559b545fd04a5c40c75c66df1
Merge: 244b9fcdd 88a859c66
Author: Nikhil Benesch <nikhil.benesch@gmail.com>
Date:   Mon Dec 23 13:08:57 2019 -0500

    Merge pull request #1391 from MaterializeInc/dependabot/cargo/reqwest-24abf2f
    
    build(deps): bump reqwest from `ce43f80` to `24abf2f`

commit a1f598de0612ea31778d91f38665cdfe96a38d28
Author: dependabot-preview[bot] <27856297+dependabot-preview[bot]@users.noreply.github.com>
Date:   Mon Dec 23 18:07:12 2019 +0000

    build(deps): bump whoami from 0.6.0 to 0.7.0
    
    Bumps [whoami](https://github.com/libcala/whoami) from 0.6.0 to 0.7.0.
    - [Release notes](https://github.com/libcala/whoami/releases)
    - [Changelog](https://github.com/libcala/whoami/blob/master/changelog.md)
    - [Commits](https://github.com/libcala/whoami/commits)
    
    Signed-off-by: dependabot-preview[bot] <support@dependabot.com>

commit 244b9fcdde5194075829b075de062640394f9e80
Merge: 2dc06980d ceaa637f0
Author: Nikhil Benesch <nikhil.benesch@gmail.com>
Date:   Mon Dec 23 13:04:57 2019 -0500

    Merge pull request #1368 from benesch/rust-140
    
    rust-toolchain: upgrade to Rust 1.40.0

commit 2dc06980db89a1ce5a177a8ad06db8b30f3fde00
Merge: f68d5ba20 9d5d3574f
Author: Nikhil Benesch <nikhil.benesch@gmail.com>
Date:   Mon Dec 23 12:58:55 2019 -0500

    Merge pull request #1390 from MaterializeInc/dependabot/cargo/pretty-0.7.1
    
    build(deps): bump pretty from 0.7.0 to 0.7.1

commit f68d5ba20bf40122fe53d19d5c72be335d9aea38
Merge: 0dd255933 213502452
Author: Nikhil Benesch <nikhil.benesch@gmail.com>
Date:   Mon Dec 23 12:56:31 2019 -0500

    Merge pull request #1389 from MaterializeInc/dependabot/cargo/rdkafka-f4ea213
    
    build(deps): bump rdkafka from `f5664ab` to `f4ea213`

commit 77d13f111f2e64f33124db73f6cc1aaabd9aec52
Author: dependabot-preview[bot] <27856297+dependabot-preview[bot]@users.noreply.github.com>
Date:   Mon Dec 23 17:51:22 2019 +0000

    build(deps): bump tokio from 0.2.4 to 0.2.6
    
    Bumps [tokio](https://github.com/tokio-rs/tokio) from 0.2.4 to 0.2.6.
    - [Release notes](https://github.com/tokio-rs/tokio/releases)
    - [Commits](https://github.com/tokio-rs/tokio/compare/tokio-0.2.4...tokio-0.2.6)
    
    Signed-off-by: dependabot-preview[bot] <support@dependabot.com>

commit 0dd25593300d479ca433f4366788df68316d59fb
Merge: 564480b3a 51ae207e6
Author: Nikhil Benesch <nikhil.benesch@gmail.com>
Date:   Mon Dec 23 12:51:01 2019 -0500

    Merge pull request #1388 from MaterializeInc/dependabot/cargo/smallvec-1.1.0
    
    build(deps): bump smallvec from 1.0.0 to 1.1.0

commit 564480b3a6a1b4baaa04ce0e5bf5095026b7e1c8
Merge: 8032c7ba5 50e409d4b
Author: Nikhil Benesch <nikhil.benesch@gmail.com>
Date:   Mon Dec 23 12:49:15 2019 -0500

    Merge pull request #1394 from MaterializeInc/dependabot/cargo/hyper-0.13.1
    
    build(deps): bump hyper from 0.13.0 to 0.13.1

commit cb61aa96df58efdec21f98708e28048b9dd35f45
Author: Nikhil Benesch <nikhil.benesch@gmail.com>
Date:   Sun Dec 22 20:59:01 2019 -0500

    pgwire: add VERSION_GSSENC to list of versions
    
    This is necessary for incoming pgwire connections that are requesting
    GSSAPI encryption to be routed to the pgwire
    protocol handler, where they will be properly rejected.

commit 50e409d4bec8a4f630c8d66ab8ebf0bce5cc7930
Author: dependabot-preview[bot] <27856297+dependabot-preview[bot]@users.noreply.github.com>
Date:   Mon Dec 23 10:40:33 2019 +0000

    build(deps): bump hyper from 0.13.0 to 0.13.1
    
    Bumps [hyper](https://github.com/hyperium/hyper) from 0.13.0 to 0.13.1.
    - [Release notes](https://github.com/hyperium/hyper/releases)
    - [Changelog](https://github.com/hyperium/hyper/blob/master/CHANGELOG.md)
    - [Commits](https://github.com/hyperium/hyper/compare/v0.13.0...v0.13.1)
    
    Signed-off-by: dependabot-preview[bot] <support@dependabot.com>

commit 88a859c6677a47c6d66bac84afeb891ff710b82f
Author: dependabot-preview[bot] <27856297+dependabot-preview[bot]@users.noreply.github.com>
Date:   Mon Dec 23 10:38:52 2019 +0000

    build(deps): bump reqwest from `ce43f80` to `24abf2f`
    
    Bumps [reqwest](https://github.com/seanmonstar/reqwest) from `ce43f80` to `24abf2f`.
    - [Release notes](https://github.com/seanmonstar/reqwest/releases)
    - [Commits](https://github.com/seanmonstar/reqwest/compare/ce43f80d8be3fef72267483aeba0a6927f150035...24abf2fcbdabbc63136677bc440788271484d103)
    
    Signed-off-by: dependabot-preview[bot] <support@dependabot.com>

commit 9d5d3574f305aac48fbfb248a0911af835e4f08a
Author: dependabot-preview[bot] <27856297+dependabot-preview[bot]@users.noreply.github.com>
Date:   Mon Dec 23 10:38:23 2019 +0000

    build(deps): bump pretty from 0.7.0 to 0.7.1
    
    Bumps [pretty](https://github.com/Marwes/pretty.rs) from 0.7.0 to 0.7.1.
    - [Release notes](https://github.com/Marwes/pretty.rs/releases)
    - [Changelog](https://github.com/Marwes/pretty.rs/blob/master/CHANGELOG.md)
    - [Commits](https://github.com/Marwes/pretty.rs/compare/v0.7.0...v0.7.1)
    
    Signed-off-by: dependabot-preview[bot] <support@dependabot.com>

commit 213502452757fa28263eb09e23c7238d7dbf0c23
Author: dependabot-preview[bot] <27856297+dependabot-preview[bot]@users.noreply.github.com>
Date:   Mon Dec 23 10:38:08 2019 +0000

    build(deps): bump rdkafka from `f5664ab` to `f4ea213`
    
    Bumps [rdkafka](https://github.com/fede1024/rust-rdkafka) from `f5664ab` to `f4ea213`.
    - [Release notes](https://github.com/fede1024/rust-rdkafka/releases)
    - [Commits](https://github.com/fede1024/rust-rdkafka/compare/f5664abae3f6e6e82380b95f2bce50b95c52b201...f4ea213aa369a92599d54f3fa9b94c66a5977212)
    
    Signed-off-by: dependabot-preview[bot] <support@dependabot.com>

commit 51ae207e64981ef2ce83960f1fe09e867b1a8663
Author: dependabot-preview[bot] <27856297+dependabot-preview[bot]@users.noreply.github.com>
Date:   Mon Dec 23 10:37:24 2019 +0000

    build(deps): bump smallvec from 1.0.0 to 1.1.0
    
    Bumps [smallvec](https://github.com/servo/rust-smallvec) from 1.0.0 to 1.1.0.
    - [Release notes](https://github.com/servo/rust-smallvec/releases)
    - [Commits](https://github.com/servo/rust-smallvec/compare/v1.0.0...v1.1.0)
    
    Signed-off-by: dependabot-preview[bot] <support@dependabot.com>

commit 8032c7ba5eb6d0f4b1f11c302bc570f41790ca76
Merge: 06e299a6e 348146e6e
Author: Nikhil Benesch <nikhil.benesch@gmail.com>
Date:   Sun Dec 22 21:23:12 2019 -0500

    Merge pull request #1385 from benesch/drop-avro-patch
    
    deps: drop avro patch; use fork directly

commit 348146e6e02fcd5f8b8cd9f5c301aab6f75e2efe
Author: Nikhil Benesch <nikhil.benesch@gmail.com>
Date:   Sun Dec 22 18:10:54 2019 -0500

    deps: drop avro patch; use fork directly
    
    v0.6.6 of avro-rs was just released, which means Cargo no longer honors
    our patch directive, because our fork is still claiming to be v0.6.5.
    The patch directive is extremely fragile like this, so just switch to
    using a direct git dependency.

commit 06e299a6e1f7fa7a9fc282b07eb0ae60be17545e
Merge: 4db1d0ee2 0c91df634
Author: Nikhil Benesch <nikhil.benesch@gmail.com>
Date:   Sat Dec 21 00:56:37 2019 -0500

    Merge pull request #1383 from MaterializeInc/https-avro
    
    deps: use https url for avro dependency

commit 4db1d0ee2e677e2b9374a89d3f560987ba3fbca5
Merge: 25f06ac64 49cbdf3b0
Author: Nikhil Benesch <nikhil.benesch@gmail.com>
Date:   Sat Dec 21 00:56:27 2019 -0500

    Merge pull request #1367 from benesch/sql-typing
    
    sql: don't backtrack when planning json delete

commit 0c91df634a9f76cd4bc0100ab231589639d710aa
Author: Nikhil Benesch <nikhil.benesch@gmail.com>
Date:   Sat Dec 21 00:33:32 2019 -0500

    deps: use https url for avro dependency
    
    Our fork of avro-rs is public, so there's no reason to use an SSH URL, which
    requires Cargo to be set up with an SSH agent even when the repository is
    publicly available. This is likely to be problematic when we make the
    repository public.

commit 49cbdf3b031353b67c48a5c6c704f31288ea6782
Author: Nikhil Benesch <nikhil.benesch@gmail.com>
Date:   Thu Dec 19 21:11:11 2019 -0500

    sql: don't backtrack when planning json delete
    
    Just pretend JSON delete is an arithmetic operation. It's not really any
    different from (TIME - INTERVAL).
    
    The ultimate goal is to make operators more pluggable, e.g., by
    maintaining a list of all operators, their overloads, and their
    preferred types, and at plan time traversing the list of overloads and
    applying a set of rules to determine which overload to choose. This
    actually moves us towards that goal, where the single binary "minus"
    operator backs both arithmetic and JSON delete.

commit 25f06ac640e5c874c4e909a79347fa3df7e2e27c
Merge: aa7758784 847c92f12
Author: Nikhil Benesch <nikhil.benesch@gmail.com>
Date:   Fri Dec 20 17:51:53 2019 -0500

    Merge pull request #1370 from quodlibetor/fix-client-eof
    
    Handle client disconnects in pgwire state

commit aa7758784ee9f0ccc3f7fc38030ae060ba261732
Merge: 3935c7aee 11a246962
Author: Nikhil Benesch <nikhil.benesch@gmail.com>
Date:   Fri Dec 20 17:51:21 2019 -0500

    Merge pull request #1375 from MaterializeInc/www-font-size
    
    www: fix font size in homepage heading

commit 11a246962f9b190a64934248f26530378771f237
Author: Nikhil Benesch <nikhil.benesch@gmail.com>
Date:   Fri Dec 20 17:41:07 2019 -0500

    www: fix font size in homepage heading
    
    The inline block here was apparently causing trouble on Android.

commit ceaa637f04459dabf59008c1e408cda660719c9b
Author: Nikhil Benesch <nikhil.benesch@gmail.com>
Date:   Fri Dec 20 13:07:14 2019 -0500

    bin/check: run clippy on all targets
    
    We were letting lints in tests, examples, and benchmarks pass CI.

commit 5e7873caa858a4cce38ad1fbaf9e79bed7a6a4b4
Author: Nikhil Benesch <nikhil.benesch@gmail.com>
Date:   Thu Dec 19 23:38:46 2019 -0500

    rust-toolchain: upgrade to Rust 1.40.0
    
    Option::as_deref was stablized in Rust 1.40, so we can drop our version
    of it, mz_as_deref, from ore::option::OptionExt.
    
    Clippy now caches warnings, so we no longer need to clean before running
    `cargo clippy`.
    
    The other changes in this PR are to comply with Clippy's new lints,
    which are mostly about avoiding unnecessary calls to `.clone()`.

commit 87f2b7f4a12e58d248e2b60d62586cf525000022
Author: JLDLaughlin <jessica@materialize.io>
Date:   Fri Dec 20 13:53:34 2019 -0800

    Push row to kafka

commit 3935c7aeee0acfa8b5eff7306544c59bfc00ad2d
Author: Brennan Vincent <brennan@materialize.io>
Date:   Fri Dec 20 14:40:43 2019 -0500

    Don't crash when a file source is dropped (#1371)

commit abd4b825b76e68b75e2bcbe835014723a0d3543a
Author: JLDLaughlin <jessica@materialize.io>
Date:   Fri Dec 20 09:10:18 2019 -0800

    Parse and create basic schema from RelationDesc

commit f6a0204205100b04c8c4bffeeed4dcdc60975ddd
Author: Brennan Vincent <brennan@materialize.io>
Date:   Fri Dec 20 11:55:04 2019 -0500

    rename "csv" to "file" in error messages (#1372)

commit a20f913aaae70cb0a613706dab8a2ed253753ab2
Author: JLDLaughlin <jessica@materialize.io>
Date:   Fri Dec 20 08:17:39 2019 -0800

    Provide schema registry URL in WITH clause

commit 847c92f12e0e82f7c74221daabcd6ccc54dd093c
Author: Nikhil Benesch <nikhil.benesch@gmail.com>
Date:   Fri Dec 20 10:02:56 2019 -0500

    Handle client disconnects in pgwire state
    
    Fixes #1056

commit a9b59468480ca17a00cc852f6ee77cad077c3436
Author: Brennan Vincent <brennan@materialize.io>
Date:   Thu Dec 19 20:44:09 2019 -0500

    don't construct a new session for every record in file reader (#1366)

commit faea26538ccbbe2fe88343b66382eeb50a224be3
Merge: 432b8d0a5 5a13f6b48
Author: Nikhil Benesch <nikhil.benesch@gmail.com>
Date:   Thu Dec 19 17:41:48 2019 -0500

    Merge pull request #1359 from benesch/postgres-017
    
    peeker: upgrade to postgres v0.17

commit 432b8d0a5aecab3717625f929d0b36e672356a70
Merge: 69d794989 cefa2e504
Author: Brandon W Maister <bwm@materialize.io>
Date:   Thu Dec 19 17:34:30 2019 -0500

    Merge pull request #1362 from quodlibetor/metrics-fixes-and-improvements
    
    more prometheus and grafana improvements

commit 69d79498998a81e93973631bd61f57b4a28c8c07
Author: Ruchir Khaitan <ruchir0001@gmail.com>
Date:   Thu Dec 19 16:44:43 2019 -0500

    Baseline protobuf support
    
    Fixes #1325

commit 018e8c188cf5b19b364f41acc5b68fafa3380722
Author: Brennan Vincent <brennan@materialize.io>
Date:   Thu Dec 19 16:25:48 2019 -0500

    only read 1024 lines at a time in file.rs (#1363)
    
    fixes #1354

commit 555e4ce0c9847f6f8a10b640eac4a550267a8680
Author: Cuong Do <cuongdo@users.noreply.github.com>
Date:   Thu Dec 19 16:05:52 2019 -0500

    Revise Debezium Postgres docs (#1365)
    
    The biggest change is moving various bits of PostgreSQL setup before
    starting Kafka Connect, which set up permissions, a database, and schema
    needed for Debezium to connect to PostgreSQL.

commit cefa2e504da5caa7460ddafcc056c1ea9340f21e
Author: Brandon W Maister <bwm@materialize.io>
Date:   Thu Dec 19 12:50:08 2019 -0500

    grafana: support multi-select for pgwire commands
    
    Default to execute + query, which covers all data-returning commands, I think.

commit 4e1618b8f6c23e540e006b23e1f78e6b9437f8e9
Author: Brandon W Maister <bwm@materialize.io>
Date:   Wed Dec 18 22:32:57 2019 -0500

    /status: fix metric aggregation/summing
    
    Individual metric families contain an arbitrary number of individual measurments,
    separated out by labels. This was a bit hidden by the fact that rust-prometheus exposes
    `RepeatedField` properties as getters that are named like they return a single value,
    although that might just be a knock-on effect of the proto schema.
    
    This changes us to not just select the zeroeth element of the list.

commit 0f7a41b7921cc04c3f973bb40fc0620b44fcc7ac
Author: Brandon W Maister <bwm@materialize.io>
Date:   Wed Dec 18 22:32:19 2019 -0500

    histograms: change exponent to be more distinctive for middle values

commit e7a229bd458055ea974c3d6268c9e53226b211db
Author: Brandon W Maister <bwm@materialize.io>
Date:   Wed Dec 18 22:32:02 2019 -0500

    Update rust-prometheus for better histogram exports

commit 34bf323521186bd98ee8cf63fe1a86dd829410da
Author: Cuong Do <cuongdo@users.noreply.github.com>
Date:   Thu Dec 19 11:47:22 2019 -0500

    Revise load test (#1360)

commit 5a13f6b4875b1986762520ff2c3a27dc95cbf47f
Author: Nikhil Benesch <nikhil.benesch@gmail.com>
Date:   Thu Dec 19 10:49:14 2019 -0500

    materialized: use postgres "client", not "conn" everywhere
    
    postgres 0.17 renamed the object from "conn" to "client", so update our
    variable naming accordingly.

commit d0a79d2f644eb1f76b735ccabce873f6a85e24ab
Author: Nikhil Benesch <nikhil.benesch@gmail.com>
Date:   Wed Dec 18 23:11:03 2019 -0500

    peeker: upgrade to postgres v0.17
    
    This is part of a patch series to standardize on postgres v0.17, so we
    don't have two versions of the dependency floating around in the crate
    graph.
    
    This change set is unfortunately large because of changes to the Tokio
    libraries that require e.g. the runtime context to bind to an address.

commit a6cc094fe542e79b6c68501d95ac062def9c85ec
Merge: bf9be755e 67874e0f1
Author: Nikhil Benesch <nikhil.benesch@gmail.com>
Date:   Wed Dec 18 23:35:13 2019 -0500

    Merge pull request #1358 from benesch/log-downgrade
    
    deps: downgrade to log 0.4.8

commit 67874e0f1f01bd9c3749696b2aa7df1d13d00b4d
Author: Nikhil Benesch <nikhil.benesch@gmail.com>
Date:   Wed Dec 18 22:28:09 2019 -0500

    deps: downgrade to log 0.4.8
    
    0.4.10 was yanked for breaking named arguments in macros. Downgrade to
    0.4.8 for now.

commit bf9be755e55aef6e763740e39b7e717b30f8378e
Merge: acf3cbf56 4e9df2341
Author: Brandon W Maister <bwm@materialize.io>
Date:   Wed Dec 18 20:47:33 2019 -0500

    Merge pull request #1356 from quodlibetor/fix-bootstrap
    
    Fix CREATE VIEW syntax in bootstrap.sql

commit 4e9df2341cca604a815e09656904ef547c4da5a2
Author: Brandon W Maister <bwm@materialize.io>
Date:   Wed Dec 18 19:58:55 2019 -0500

    Fix CREATE VIEW syntax in bootstrap.sql

commit acf3cbf56a72a5114fca98d2f98d037f2c15e643
Merge: d5a4d1009 3d8e646e2
Author: Jamie Brandon <jamie@scattered-thoughts.net>
Date:   Thu Dec 19 00:06:36 2019 +0000

    Merge pull request #1343 from jamii/json_table_functions
    
    Table-valued functions

commit d5a4d1009cf3f0a38c16313bad06d807f0cd3c3b
Merge: 83df63ea2 1b2974475
Author: Nikhil Benesch <nikhil.benesch@gmail.com>
Date:   Wed Dec 18 18:13:22 2019 -0500

    Merge pull request #1355 from benesch/non-null-reqs
    
    expr: fix bugs in ScalarExpr::non_null_requirements

commit 83df63ea2ce5dca3ec30be117527d017d35b05f0
Author: Brennan Vincent <brennan@materialize.io>
Date:   Wed Dec 18 18:05:31 2019 -0500

    Always downgrade file sources after writing to them (#1353)

commit 1b2974475eb37164092af982dad030c6ad57d1af
Author: Nikhil Benesch <nikhil.benesch@gmail.com>
Date:   Wed Dec 18 17:45:22 2019 -0500

    expr: fix bugs in ScalarExpr::non_null_requirements
    
    This function can now be implemented in terms of
    [Nullary | Unary | Binary | Variadic ]Func::propagates_nulls,
    which avoids duplicating information and also fixes a buglet where
    BinaryFunc::And was not propertly marked as not propagating nulls.
    
    While I'm in here, fix a bug in ScalarExpr::If, which does *not*
    necessarily propagate null (thanks, SQL) if the condition is null,
    because the else condition will still be evaluated.

commit 68680de93f3227131345635e5c291ef0080ececb
Merge: 90df74637 61787e115
Author: Frank McSherry <fmcsherry@me.com>
Date:   Wed Dec 18 17:26:01 2019 -0500

    Merge pull request #1294 from frankmcsherry/rationalize_logs
    
    WIP: Rationalize logging a bit.

commit 90df74637c242824ef781e92722c480bae112431
Merge: 7eb915fde a0552e13e
Author: Nikhil Benesch <nikhil.benesch@gmail.com>
Date:   Wed Dec 18 16:57:27 2019 -0500

    Merge pull request #1350 from benesch/sink-panic
    
    coord: don't panic when sinks depend on sources

commit a0552e13e65206aaec0f928fc088ffd31e05c06c
Author: Nikhil Benesch <nikhil.benesch@gmail.com>
Date:   Wed Dec 18 15:58:21 2019 -0500

    coord: don't panic when a sink depends directly on a source
    
    The logic for rewriting sources was not properly applied to sinks, since
    to date we haven't had any tests that create a sink that depends
    directly on a source. Add such a test, and fix the coordinator logic
    acoordingly.

commit 7eb915fded83ab030aa7abb7317dae7e2139cc21
Merge: a97952af7 ea60abe37
Author: Nikhil Benesch <nikhil.benesch@gmail.com>
Date:   Wed Dec 18 16:08:02 2019 -0500

    Merge pull request #1346 from benesch/async-tail
    
    pgwire: restore implementation of TAIL

commit c285fc6b66ee470cfd49ea89fdaf3103b43152df
Author: Nikhil Benesch <nikhil.benesch@gmail.com>
Date:   Wed Dec 18 15:38:16 2019 -0500

    coord: don't crash when tailing a source
    
    We need to determine the name of the tail before rewriting the source.
    
    Fix #1345.

commit ea60abe379a8bbb2bf20364a607d070c4a1c8bfb
Author: Nikhil Benesch <nikhil.benesch@gmail.com>
Date:   Wed Dec 18 14:15:31 2019 -0500

    pgwire: restore implementation of TAIL
    
    I accidentally deleted this in the async/await upgrade. Restore it.

commit 61787e11519847be5b670673a1829d541b4ba30c
Author: Frank McSherry <fmcsherry@me.com>
Date:   Fri Dec 13 17:20:24 2019 -0500

    update metric tables sql

commit 3d8e646e2a63831172ea912df8402b8ae395a636
Author: Jamie Brandon <jamie@scattered-thoughts.net>
Date:   Wed Dec 18 20:33:01 2019 +0000

    CallUnary -> FlatMapUnary
    
    Because once we have lateral joins, there is going to be an input RelationExpr

commit 299ac3066dc6bab43892d51957c8433030b0ff74
Author: Frank McSherry <fmcsherry@me.com>
Date:   Fri Dec 13 15:09:48 2019 -0500

    Rationalize logging a bit.
    
    Logging had several places where we weren't keeping enough information to reconstruct information, mostly because the record fields were potentially ambiguous (mostly, string names instead of ids, and omitting workers). With the columns back in, we have some better foreign key structure too!

commit a97952af7d665076f399ed2ba84dcda4f059ceb8
Merge: 6c8875196 4201cd4cd
Author: Brandon W Maister <bwm@materialize.io>
Date:   Wed Dec 18 14:46:24 2019 -0500

    Merge pull request #1337 from quodlibetor/nuke-harder
    
    dc.sh: call shut_down before system prune in nuke

commit 6c8875196414fba60734008de344a5b903b9d546
Merge: f38e90362 46ca3483d
Author: Brandon W Maister <bwm@materialize.io>
Date:   Wed Dec 18 14:46:02 2019 -0500

    Merge pull request #1341 from quodlibetor/grafana-show-build-info
    
    Add uptime and build info prometheus metrics, show some in grafana

commit f38e90362e6e634f000a3912154c3f963627b0e4
Merge: af46992e0 feb3e4a76
Author: Nikhil Benesch <nikhil.benesch@gmail.com>
Date:   Wed Dec 18 13:11:09 2019 -0500

    Merge pull request #1339 from benesch/colnames
    
    sql: fix column name handling

commit d8515521cb13c8d973f056d425a7da39b9957ecd
Author: Jamie Brandon <jamie@scattered-thoughts.net>
Date:   Wed Dec 18 17:43:09 2019 +0000

    Clippy

commit af46992e035364903dc474697e1e40f13244ccea
Merge: 9dfe7a0b9 798849b7b
Author: Nikhil Benesch <nikhil.benesch@gmail.com>
Date:   Wed Dec 18 11:45:41 2019 -0500

    Merge pull request #1335 from benesch/source-token
    
    fix + test tailing file sources

commit 46ca3483d8fe841694eeb90ac1ee0b7221f82e8a
Author: Brandon W Maister <bwm@materialize.io>
Date:   Wed Dec 18 10:47:18 2019 -0500

    Add uptime and build info prometheus metrics, show some in grafana

commit 798849b7bb7d42253739078d12a18a88a8e4eb9d
Author: Nikhil Benesch <nikhil.benesch@gmail.com>
Date:   Tue Dec 17 18:01:26 2019 -0500

    materialized/tests: add test for [tailing] file sources

commit 50e4ea14c41c7c730276c5307d6e155abc793fd1
Author: Nikhil Benesch <nikhil.benesch@gmail.com>
Date:   Tue Dec 17 18:00:47 2019 -0500

    dataflow: teach tailing file source to shutdown cleanly
    
    Using tokio::block_in_place prevents the runtime from shutting down,
    since it can never drop the future that is blocking in place.

commit c31d88f5f17374e3898bf98ef2fc99afabb82cdc
Author: Nikhil Benesch <nikhil.benesch@gmail.com>
Date:   Tue Dec 17 12:09:50 2019 -0500

    dataflow: properly handle source lifetimes
    
    The file source really wants the promise that it will never be scheduled
    again if it indicates that it is done, i.e., by returning
    SourceStatus::Done. Timely is unwilling to make this promise, but it's
    easy to teach the `util::source` helper to make this promise.
    
    Implementation details are in the comment within.

commit feb3e4a76ebfcf03741c0c8c7cfd2d4489bfddb4
Author: Nikhil Benesch <nikhil.benesch@gmail.com>
Date:   Tue Dec 17 20:24:53 2019 -0500

    sql: fix column name handling
    
    Don't clobber column names when finding column equivalences in an inner
    join.
    
    For good measure, while I'm in here, assign names to expressions that
    have an outer function call, like in `SELECT length('a')`, for
    compatibility with postgres.
    
    Fix #1168.
    Fix #1217.

commit 9dfe7a0b93eb6b9e7ba36c3b9f8667be87e78d95
Merge: 16367c923 4d041f0dd
Author: Brandon W Maister <bwm@materialize.io>
Date:   Wed Dec 18 00:37:52 2019 -0500

    Merge pull request #1340 from quodlibetor/http-status-poc
    
    Add http /status page and time-of-build to root http page

commit 4d041f0ddfc21edc5903d7953fe54d8dcab21fe4
Author: Brandon W Maister <bwm@materialize.io>
Date:   Tue Dec 17 23:52:44 2019 -0500

    add uptime to http /status page

commit fd9f83dc5e4174fb88fa6ec10d210d94cbb65ae8
Author: Brandon W Maister <bwm@materialize.io>
Date:   Tue Dec 17 22:57:39 2019 -0500

    Add http /status page and time-of-build to root http page
    
    This code is pretty ugly, but ideally it will allow us to make things nicer in the medium
    term. It's not quite the absolute minimum I could do to get a
    slightly-more-human-readable page up, but it seems like it should set us up to be able to
    have different displays for different metric types as time goes on.

commit 16367c9233bd93f8eff3d0f093dd4ff0cd00adaa
Merge: 15f14d1fa 91737099a
Author: Frank McSherry <fmcsherry@me.com>
Date:   Tue Dec 17 20:36:11 2019 -0500

    Merge pull request #1338 from frankmcsherry/limit
    
    Limit enumeration at workers

commit 91737099abc4d7b87741f19fa4f7214e5178d6b0
Author: Frank McSherry <fmcsherry@me.com>
Date:   Tue Dec 17 20:24:40 2019 -0500

    avoid logic when ordering absent

commit 58353b650611118c40bc0708596e031994b0bbf0
Author: Frank McSherry <fmcsherry@me.com>
Date:   Tue Dec 17 20:15:52 2019 -0500

    limit enumeration at workers

commit 4201cd4cdf021af734d39dd73f0d36b48c5ddc05
Author: Brandon W Maister <bwm@materialize.io>
Date:   Tue Dec 17 19:43:34 2019 -0500

    dc.sh: call shut_down before system prune in nuke
    
    Ensure's that really everything is gone.

commit 15f14d1fa2fb4e5ffe6f487f86bfefa790ebae2f
Merge: 2b41893fe 7d9a0639b
Author: Brandon W Maister <bwm@materialize.io>
Date:   Tue Dec 17 19:15:40 2019 -0500

    Merge pull request #1336 from quodlibetor/prometheus-improvements
    
    Various prometheus grafana and dashboard improvements

commit 7d9a0639bdcee6e270d4796186dda06d9eb0aeb5
Author: Brandon W Maister <bwm@materialize.io>
Date:   Tue Dec 17 18:04:58 2019 -0500

    Move setup-metric-tables.sh commands into bootstrap.sql
    
    This allows us to get rid of another docker container, and should be more reliable in
    general.

commit 7ac65490495148c3bc330a445ff69901ceccc268
Author: Brandon W Maister <bwm@materialize.io>
Date:   Tue Dec 17 17:57:49 2019 -0500

    Include bootstrap.sql in regular materialized docker images

commit 49e252dbe4e2fd3e2960dcff4d58b5ad809c0b82
Author: Brandon W Maister <bwm@materialize.io>
Date:   Tue Dec 17 17:57:09 2019 -0500

    Fix include_unaggregated in pgwire, improve some grafana dashboards
    
    It got lost in some merges

commit 2b41893fed115a46d6b3ada716d485157ec4fa3e
Author: Brennan Vincent <brennan@materialize.io>
Date:   Tue Dec 17 17:39:02 2019 -0500

    Regex-based file sources (#1331)

commit 8129c823038cba70265e0cf68c5cc18a5493e0a2
Merge: 0cd3ddc58 1e234d26e
Author: Brandon W Maister <bwm@materialize.io>
Date:   Tue Dec 17 15:13:53 2019 -0500

    Merge pull request #1289 from quodlibetor/rename-metrics-peeker
    
    rename "metrics" to "peeker", remove pushgateway, fix grafana heatmaps

commit 1e234d26e67dd44efd4a4817e610b240574d767f
Author: Brandon W Maister <bwm@materialize.io>
Date:   Tue Dec 17 14:52:40 2019 -0500

    Group some imports

commit cba2b20bae953502d87938706ce95deb96641db8
Author: Brandon W Maister <bwm@materialize.io>
Date:   Sun Dec 15 18:30:03 2019 -0800

    Make prometheus histograms work well as heatmaps

commit 0a87c1779bd22f2c581066606838e56c5d5c7843
Author: Brandon W Maister <bwm@materialize.io>
Date:   Thu Dec 12 16:11:59 2019 -0500

    latest version of prometheus correctly handles macro imports

commit e538606514007b39e55d58e00dd54d18e2f508e5
Author: Brandon W Maister <bwm@materialize.io>
Date:   Thu Dec 12 16:09:55 2019 -0500

    peeker: separate recording of errors and timings
    
    It isn't super interesting how long our errors take -- they're essentially always either
    query-does-not-exist or cannot-connect, which are falsely fast.
    
    So this eliminates those measurements, and records errors instead.
    
    In order to get access to that I needed to bump to the recent git for prometheus, which
    nicely eliminates a few dependencies/different versions of dependencies.

commit b5d6311d9d34f87a7d8468f96d76a63b37ecc54a
Author: Brandon W Maister <bwm@materialize.io>
Date:   Thu Dec 12 15:27:53 2019 -0500

    make peeker serve metrics, get rid of pushgateway container
    
    The pushgateway served its purpose, but it made our demo config even more bloated, so
    instead embed the metrics in peeker.

commit 1d987312144668c8683bbf7908e81e81e32f6d1a
Author: Brandon W Maister <bwm@materialize.io>
Date:   Thu Dec 12 14:50:54 2019 -0500

    Rename metrics binary to `peeker` since it just peeks

commit 0cd3ddc58e50d5915c9732e5338233dfed1a4f73
Merge: 3a163cda6 45e7e9b70
Author: Jamie Brandon <jamie@scattered-thoughts.net>
Date:   Tue Dec 17 19:12:31 2019 +0000

    Merge pull request #1330 from jamii/rdkafka-fix
    
    Rebump rdkafka

commit 3a163cda602d0d7cab1aa59305dbaf48313bbd74
Merge: 053c63aeb 6ed3c6453
Author: Nikhil Benesch <nikhil.benesch@gmail.com>
Date:   Tue Dec 17 14:01:31 2019 -0500

    Merge pull request #1123 from MaterializeInc/dependabot/cargo/fallible-iterator-0.2.0
    
    build(deps): bump fallible-iterator from 0.1.6 to 0.2.0

commit 4ff669908f3650b36349e9a312b929ef1b8cfbb6
Author: Jamie Brandon <jamie@scattered-thoughts.net>
Date:   Tue Dec 17 18:27:27 2019 +0000

    First pass at table functions

commit 45e7e9b702657b8920a5d8663a26c2f74755c344
Author: Jamie Brandon <jamie@scattered-thoughts.net>
Date:   Tue Dec 17 18:55:33 2019 +0000

    Rebump rdkafka

commit 6ed3c6453ae1df91b1d2d7aad2d87bdbdc4c23f4
Author: dependabot-preview[bot] <27856297+dependabot-preview[bot]@users.noreply.github.com>
Date:   Tue Dec 17 18:21:28 2019 +0000

    build(deps): bump fallible-iterator from 0.1.6 to 0.2.0
    
    Bumps [fallible-iterator](https://github.com/sfackler/rust-fallible-iterator) from 0.1.6 to 0.2.0.
    - [Release notes](https://github.com/sfackler/rust-fallible-iterator/releases)
    - [Changelog](https://github.com/sfackler/rust-fallible-iterator/blob/master/CHANGELOG.md)
    - [Commits](https://github.com/sfackler/rust-fallible-iterator/compare/v0.1.6...v0.2.0)
    
    Signed-off-by: dependabot-preview[bot] <support@dependabot.com>

commit 053c63aeb1422d6e1924521fc2a0a98b75ef0387
Merge: 229106aec e34f2907b
Author: Brandon W Maister <bwm@materialize.io>
Date:   Tue Dec 17 13:19:21 2019 -0500

    Merge pull request #1329 from quodlibetor/fix-drain-outgoing
    
    fix vec drain in pgwire

commit e34f2907b795e24a1822e09f0450ba5916d26f9f
Author: Brandon W Maister <bwm@materialize.io>
Date:   Tue Dec 17 12:25:23 2019 -0500

    fix vec drain in pgwire
    
    Fixes #1328

commit ef04fe263f1574f352baca3931fb53d86f1436cb
Author: Brandon W Maister <bwm@materialize.io>
Date:   Tue Dec 17 12:22:00 2019 -0500

    Bump materialized's test postgres to 0.17
    
    This will allow us to more precisely test prepared statements

commit 229106aec109e277597b7bc6048dc7ad5d53b714
Merge: 12a15313d 8f996621d
Author: Ruchir Khaitan <ruchir0001@gmail.com>
Date:   Tue Dec 17 10:15:16 2019 -0500

    Merge pull request #1324 from ruchirK/rk-1323
    
    Fix style complaints on tests

commit 8f996621d2b2bed35eec413582153faf57487f41
Author: Ruchir Khaitan <ruchir0001@gmail.com>
Date:   Tue Dec 17 09:59:41 2019 -0500

    Fix style complaints on tests
    
    Fixes #1323

commit 12a15313d34572197d3facb3d2275e59de969d75
Author: Brennan Vincent <brennan@materialize.io>
Date:   Tue Dec 17 00:50:11 2019 -0500

    Refactor decoding/connectors (#1320)

commit c0bbdda6bf144d8d843e6c8c07cfaf48bbf4f38d
Merge: e93ee9b6b faef3df72
Author: Nikhil Benesch <nikhil.benesch@gmail.com>
Date:   Tue Dec 17 00:35:58 2019 -0500

    Merge pull request #297 from MaterializeInc/dependabot/cargo/url-2.1.0
    
    build(deps): bump url from 1.7.2 to 2.1.0

commit e93ee9b6b397a1821a74ece5e5abf67a4ca32efd
Merge: e0ba1e8e8 cbac899cd
Author: Nikhil Benesch <nikhil.benesch@gmail.com>
Date:   Tue Dec 17 00:10:11 2019 -0500

    Merge pull request #1321 from benesch/rdkafka-bump
    
    deps: upgrade to latest rdkafka

commit faef3df727fdacfd5cc95e772c633e77b64abeb2
Author: dependabot-preview[bot] <27856297+dependabot-preview[bot]@users.noreply.github.com>
Date:   Tue Dec 17 00:46:08 2019 +0000

    build(deps): bump url from 1.7.2 to 2.1.0
    
    Bumps [url](https://github.com/servo/rust-url) from 1.7.2 to 2.1.0.
    - [Release notes](https://github.com/servo/rust-url/releases)
    - [Commits](https://github.com/servo/rust-url/compare/v1.7.2...v2.1.0)
    
    Signed-off-by: dependabot-preview[bot] <support@dependabot.com>

commit cbac899cd4a0c4c46972cd708a6ec19c31f4b7df
Author: Nikhil Benesch <nikhil.benesch@gmail.com>
Date:   Mon Dec 16 23:12:34 2019 -0500

    deps: upgrade to latest rdkafka
    
    The latest master fixes a build bug on NixOS.

commit e0ba1e8e86100ed8e8a680919cd40f32a7b587ed
Author: Cuong Do <cuongdo@users.noreply.github.com>
Date:   Mon Dec 16 21:44:33 2019 -0500

    Use bootstrap.sql for chbenchmark demo (#1317)

commit c30aee4f35e15c9446a459295071dfa9c82f4e5b
Merge: a7e7c2e8f 02703373d
Author: Nikhil Benesch <nikhil.benesch@gmail.com>
Date:   Mon Dec 16 19:43:53 2019 -0500

    Merge pull request #1319 from benesch/dataflow-features
    
    dataflow: enable necessary tokio features

commit 02703373df5eb8745cbff03a350348c0cc9d6a32
Author: Nikhil Benesch <nikhil.benesch@gmail.com>
Date:   Mon Dec 16 17:55:16 2019 -0500

    dataflow: enable necessary tokio features
    
    These go unnoticed when compiling materialized, since features across
    all dependencies are unioned, but cause compilation failures if
    compiling dataflow directly via e.g. `cargo build -p dataflow`.

commit a7e7c2e8ffb602396e973d21ed7073164bddc493
Merge: 950f8f576 c7e8c0e5e
Author: Nikhil Benesch <nikhil.benesch@gmail.com>
Date:   Mon Dec 16 17:54:32 2019 -0500

    Merge pull request #1318 from benesch/nightly-builder
    
    ci/deploy: bump to latest nightly

commit c7e8c0e5e73fcf41dee7cd91748cab128f0a936f
Author: Nikhil Benesch <nikhil.benesch@gmail.com>
Date:   Mon Dec 16 17:21:02 2019 -0500

    ci/deploy: bump to latest nightly
    
    Use the latest nightly to build the docs, which is hopefully less
    crashy.

commit 950f8f5769586b1add6572ce5cecca62a513f86a
Merge: 3d963128b 3a22929cb
Author: Frank McSherry <fmcsherry@me.com>
Date:   Mon Dec 16 17:18:49 2019 -0500

    Merge pull request #1315 from benesch/sql-left-joins
    
    sql: fix planning of left/right joins

commit 3d963128be388f2b9a07d66b91a1465ce26f41be
Author: Brennan Vincent <brennan@materialize.io>
Date:   Mon Dec 16 17:17:57 2019 -0500

    trivial spelling fix (#1316)

commit 7bdb8433ea0c31b76d86c1133e5968054cb789f4
Merge: f29ad5f5c 4c494e87a
Author: Nikhil Benesch <nikhil.benesch@gmail.com>
Date:   Mon Dec 16 16:57:25 2019 -0500

    Merge pull request #1313 from benesch/xcompile
    
    xcompile: tell cmake to cross compile

commit 3a22929cb01e2b477c4bbf2d246382f4456c9c5f
Author: Nikhil Benesch <nikhil.benesch@gmail.com>
Date:   Mon Dec 16 16:54:13 2019 -0500

    sql: fix planning of left/right joins
    
    We were trying to find column equivalences in left/right joins, but
    equality constraints in left/right joins do *not* imply equivalence. Add
    some tests for this, too--somehow this is a blind spot of sqllogictest.

commit f29ad5f5c059a809f13a8eb2751ece7e45dd03b2
Author: Cuong Do <cuongdo@users.noreply.github.com>
Date:   Mon Dec 16 16:53:57 2019 -0500

    Add bootstrap.sql to materialized Docker image (#1311)
    
    A subsequent change will patch ex/chbench/docker-compose.yml to add the
    --bootstrap-sql parameter to materialized.

commit 4c494e87a0803e78a2b373b0adbf9ae90a03e598
Author: Nikhil Benesch <nikhil.benesch@gmail.com>
Date:   Mon Dec 16 16:06:06 2019 -0500

    xcompile: tell cmake to cross compile
    
    CMake needs to be explicitly told that it is cross compiling by setting
    the CMAKE_SYSTEM_NAME define.
    
    We were actually doing this entirely wrong before; we were installing
    the macOS SDK headers so that the macOS version of endian.h would be
    picked up by CMake. This only happened to work because we were
    cross-compiling from x64 macOS to x64 Linux. If we properly tell CMake
    that we're cross-compiling, it won't accidentally try to look for
    headers in the host's /usr/include. A recent change in rdkafka made it
    so that things failed hard, rather than worked with subtle bugs.
    
    This also has the side effect of fixing compilation on macOS 10.15,
    which no longer provides a way to install headers into /usr/include
    anyway.

commit 0f05f79fedf0c3b420add9fb906ccebc017b653f
Merge: aaaf9dc4b d27272bac
Author: Nikhil Benesch <nikhil.benesch@gmail.com>
Date:   Mon Dec 16 15:46:59 2019 -0500

    Merge pull request #1288 from benesch/asyncawait
    
    *: upgrade to async/await ecosystem

commit d27272bacd6ee063eacf78fc5867db104039d0fa
Author: Nikhil Benesch <nikhil.benesch@gmail.com>
Date:   Mon Dec 2 16:05:50 2019 -0500

    *: upgrade to async/await ecosystem
    
    Upgrade to tokio v0.2 and futures 0.3. This required rewriting
    practically every line that touched futures code, most notably in the
    comm, coord, and pgwire crates.
    
    Fix #10.

commit aaaf9dc4b4c25e149466e78c217f1b7010ac3a12
Author: Brennan Vincent <brennan@materialize.io>
Date:   Mon Dec 16 12:52:58 2019 -0500

    Allow tailing of CSV sources. (#1305)
    
    * Allow tailing of CSV sources.
    
    * fixes

commit 93f703450006fe1dba647c11a9142841e888015b
Merge: 19e00d880 93c1889b9
Author: Nikhil Benesch <nikhil.benesch@gmail.com>
Date:   Mon Dec 16 10:48:05 2019 -0500

    Merge pull request #1297 from MaterializeInc/dependabot/cargo/differential-dataflow-8006651
    
    Bump differential-dataflow from `4f3551a` to `8006651`

commit 19e00d880c91173774ad5bf78e32bf3371f78a35
Merge: 1edbaf2f0 7615d42ac
Author: Nikhil Benesch <nikhil.benesch@gmail.com>
Date:   Mon Dec 16 10:43:38 2019 -0500

    Merge pull request #1298 from MaterializeInc/dependabot/cargo/log-0.4.10
    
    Bump log from 0.4.8 to 0.4.10

commit 93c1889b91d3b4324e2e483cf25f06aa49398813
Author: dependabot-preview[bot] <27856297+dependabot-preview[bot]@users.noreply.github.com>
Date:   Mon Dec 16 10:37:55 2019 +0000

    Bump differential-dataflow from `4f3551a` to `8006651`
    
    Bumps [differential-dataflow](https://github.com/TimelyDataflow/differential-dataflow) from `4f3551a` to `8006651`.
    - [Release notes](https://github.com/TimelyDataflow/differential-dataflow/releases)
    - [Commits](https://github.com/TimelyDataflow/differential-dataflow/compare/4f3551aecdaec3255cb15122e6b1f8ef8acba36e...80066510b54f1ae05d51f65b52e18bdd5357016c)
    
    Signed-off-by: dependabot-preview[bot] <support@dependabot.com>

commit 7615d42ac10276a2b503bd0dad746f431ec2e860
Author: dependabot-preview[bot] <27856297+dependabot-preview[bot]@users.noreply.github.com>
Date:   Mon Dec 16 10:38:20 2019 +0000

    Bump log from 0.4.8 to 0.4.10
    
    Bumps [log](https://github.com/rust-lang/log) from 0.4.8 to 0.4.10.
    - [Release notes](https://github.com/rust-lang/log/releases)
    - [Changelog](https://github.com/rust-lang/log/blob/master/CHANGELOG.md)
    - [Commits](https://github.com/rust-lang/log/compare/0.4.8...0.4.10)
    
    Signed-off-by: dependabot-preview[bot] <support@dependabot.com>

commit 1edbaf2f06ffcf87dbf53d7c4119533dbda7b574
Merge: 0679ce88d a53c7708e
Author: Nikhil Benesch <nikhil.benesch@gmail.com>
Date:   Mon Dec 16 10:18:13 2019 -0500

    Merge pull request #1299 from MaterializeInc/dependabot/cargo/reqwest-0.9.24
    
    Bump reqwest from 0.9.22 to 0.9.24

commit 0679ce88dec5092575341da972768715ad6f83a3
Merge: 15896f067 ce91a4221
Author: Nikhil Benesch <nikhil.benesch@gmail.com>
Date:   Mon Dec 16 10:17:41 2019 -0500

    Merge pull request #1301 from MaterializeInc/dependabot/cargo/bincode-1.2.1
    
    Bump bincode from 1.2.0 to 1.2.1

commit 15896f067b53042bb53d89cb694fcadf60bce12e
Merge: fc0dc2e98 9a3f106ec
Author: Nikhil Benesch <nikhil.benesch@gmail.com>
Date:   Mon Dec 16 10:17:21 2019 -0500

    Merge pull request #1302 from MaterializeInc/dependabot/cargo/serde-1.0.104
    
    Bump serde from 1.0.103 to 1.0.104

commit 9a3f106ece627ffc533ed8b11cf69f1e9fadc2e4
Author: dependabot-preview[bot] <27856297+dependabot-preview[bot]@users.noreply.github.com>
Date:   Mon Dec 16 10:40:45 2019 +0000

    Bump serde from 1.0.103 to 1.0.104
    
    Bumps [serde](https://github.com/serde-rs/serde) from 1.0.103 to 1.0.104.
    - [Release notes](https://github.com/serde-rs/serde/releases)
    - [Commits](https://github.com/serde-rs/serde/compare/v1.0.103...v1.0.104)
    
    Signed-off-by: dependabot-preview[bot] <support@dependabot.com>

commit ce91a4221b60abca0cc633e4da27ba5ba7f4bf8e
Author: dependabot-preview[bot] <27856297+dependabot-preview[bot]@users.noreply.github.com>
Date:   Mon Dec 16 10:40:16 2019 +0000

    Bump bincode from 1.2.0 to 1.2.1
    
    Bumps [bincode](https://github.com/servo/bincode) from 1.2.0 to 1.2.1.
    - [Release notes](https://github.com/servo/bincode/releases)
    - [Commits](https://github.com/servo/bincode/compare/v1.2.0...v1.2.1)
    
    Signed-off-by: dependabot-preview[bot] <support@dependabot.com>

commit a53c7708ecea1e3371031d58526bdcd3638da9b7
Author: dependabot-preview[bot] <27856297+dependabot-preview[bot]@users.noreply.github.com>
Date:   Mon Dec 16 10:38:43 2019 +0000

    Bump reqwest from 0.9.22 to 0.9.24
    
    Bumps [reqwest](https://github.com/seanmonstar/reqwest) from 0.9.22 to 0.9.24.
    - [Release notes](https://github.com/seanmonstar/reqwest/releases)
    - [Changelog](https://github.com/seanmonstar/reqwest/blob/v0.9.24/CHANGELOG.md)
    - [Commits](https://github.com/seanmonstar/reqwest/compare/v0.9.22...v0.9.24)
    
    Signed-off-by: dependabot-preview[bot] <support@dependabot.com>

commit fc0dc2e98caad52ebb12206ba6924b9d89679d38
Merge: c24e657a3 8305822b7
Author: Jamie Brandon <jamie@scattered-thoughts.net>
Date:   Sat Dec 14 14:24:28 2019 +0000

    Merge pull request #1296 from jamii/fix-temp-storage
    
    Separate temp_storage role into a new RowArena type

commit 8305822b75fa98de32bccc4e8aa60cae4fbcf885
Author: Jamie Brandon <jamie@scattered-thoughts.net>
Date:   Fri Dec 13 23:17:01 2019 +0000

    Separate temp_storage role into a new RowArena type

commit c24e657a31dcee1cc4c3c9d4a03f0f02e95da4e6
Merge: 6521cfac1 dac2cb67f
Author: Nikhil Benesch <nikhil.benesch@gmail.com>
Date:   Fri Dec 13 17:04:45 2019 -0500

    Merge pull request #1279 from benesch/pgwire-encryption
    
    pgwire: fix encryption type handling

commit 6521cfac15aa7900e75326c2a3f2768c664ed930
Merge: 5936d7206 fb2d307ce
Author: Frank McSherry <fmcsherry@me.com>
Date:   Fri Dec 13 14:41:18 2019 -0500

    Merge pull request #1292 from quodlibetor/mz-catalog-name-joins
    
    Try to join mz_view_frontiers on new mz_catalog_names table

commit 5936d72067f715d384be6b9a45a036e911adfa0a
Merge: 74425698c a0a0850c9
Author: Frank McSherry <fmcsherry@me.com>
Date:   Fri Dec 13 14:41:05 2019 -0500

    Merge pull request #1293 from frankmcsherry/drop_views_properly
    
    Drop views better.

commit 74425698c77c33500bcaf51b1ebfb3d06707fffc
Merge: d51b64f98 9219f8b88
Author: Frank McSherry <fmcsherry@me.com>
Date:   Fri Dec 13 14:35:23 2019 -0500

    Merge pull request #1291 from quodlibetor/mz_catalog_names-fix-type
    
    Fix scalartype of `name` column in mz_catalog_names

commit a0a0850c9be79c87c80d3e7b9005438502f6e0d2
Author: Frank McSherry <fmcsherry@me.com>
Date:   Fri Dec 13 14:24:30 2019 -0500

    Drop views better.
    
    Transient views due to SELECT statements were installing view monitoring information in the coordinator, and never uninstalling it. This was a result of the custom view creation, peek, view deletion workflow not doing the same thing as for normal views and stuff.

commit fb2d307ce2cae0772b86abc37b36df595af880e8
Author: Brandon W Maister <bwm@materialize.io>
Date:   Thu Dec 12 11:04:16 2019 -0500

    Try to join mz_view_frontiers on new mz_catalog_names table
    
    We are getting nulls in the coalesce, though, for some reason.

commit 9219f8b880be74c8bdf4c6801de11fc47dbf0c09
Author: Brandon W Maister <bwm@materialize.io>
Date:   Wed Dec 11 17:10:40 2019 -0500

    Fix scalartype of `name` column in mz_catalog_names

commit d51b64f98dc460c6fbf0ee081a810c3b5a5c1a13
Merge: 363d0eb32 969962960
Author: Sean Loiselle <sean@materialize.io>
Date:   Fri Dec 13 11:49:43 2019 -0500

    Merge pull request #1280 from sploiselle/approximate-numeric
    
    represent approximate numeric literals as decimals

commit 9699629602dca256ed8af4dccca2092b6705ad08
Author: sploiselle <sean@materialize.io>
Date:   Wed Dec 11 16:54:57 2019 -0500

    represent approximate numeric literals as decimals

commit 363d0eb3291925ae0b2706c2fbb0c4da26a865cc
Merge: 589f91646 9e235ce8a
Author: JLDLaughlin <JLDLaughlin@users.noreply.github.com>
Date:   Fri Dec 13 10:57:58 2019 -0500

    Merge pull request #1281 from JLDLaughlin/postgres_documentation
    
    Documentation for connecting Materialize to PostgreSQL and Debezium

commit 9e235ce8ae85f8cd6d2828bf71924a6fe01a7eaa
Author: JLDLaughlin <jessica@materialize.io>
Date:   Fri Dec 13 10:44:56 2019 -0500

    Separate PostgreSQL/Debezium setup and tpch testing

commit 9d17e6b099d31056274b9efa78f7e0337d388d9e
Author: Brennan Vincent <brennan@materialize.io>
Date:   Thu Dec 12 16:33:21 2019 -0500

    fix fluxh-tables

commit b9f5e3faa853d749dae21066186162d642dd302e
Author: Brandon W Maister <bwm@materialize.io>
Date:   Thu Dec 12 13:27:21 2019 -0500

    dc.sh: Add special arguments for different use cases
    
    This commit changes the default `dc.sh up` behavior to *not* start the metrics
    client-side load-test container, because that seems to surprise most people and is not
    really reasonable.
    
    More importantly, it adds the notion of special targets that start and end with colons,
    and define multi-step tasks
    
    Additionally
    
    * Adds an :init: argument that should guarantee everything works after docker-nuke or on
      a new VM.
    * Adds a few other workflow-specific tasks which are described in the `usage` function in
      dc.sh.

commit 0cf3c71513e49c10e50982618d0392aba2960938
Author: Brandon W Maister <bwm@materialize.io>
Date:   Thu Dec 12 13:18:14 2019 -0500

    chbench: Include query log by default

commit 5c8fd1386034c9f8dae2c3338052a699a09b90aa
Author: Brandon W Maister <bwm@materialize.io>
Date:   Wed Dec 11 16:53:54 2019 -0500

    dc.sh: add a "demo-load" argument
    
    This is almost exactly the same as "load-test" but it does not start the peek threads,
    meaning that metabase has materialized to itself for querying.

commit f2ce0f788bdb8ac4c7f07d4ee079ec090c2a11b5
Author: Brandon W Maister <bwm@materialize.io>
Date:   Wed Dec 11 16:53:00 2019 -0500

    dc.sh: include metabase for `up` with no args

commit c7fc5208a5d44cd575fa695b8069c75af60b5e43
Author: JLDLaughlin <jessica@materialize.io>
Date:   Thu Dec 12 16:07:32 2019 -0500

    Small fixes

commit e109c9faeccf620dfc9b20953a59716fa0ddadb3
Author: JLDLaughlin <jessica@materialize.io>
Date:   Thu Dec 12 15:13:57 2019 -0500

    trailing newline

commit c42f89c49a6d93295cbb7b6a07fda201563320fa
Author: JLDLaughlin <jessica@materialize.io>
Date:   Thu Dec 12 15:10:52 2019 -0500

    Documentation for connecting Materialize to PostgreSQL and Debezium

commit 589f91646395d63b826815949444a125a78b6adb
Merge: ee266212f 8b90a8191
Author: wangandi <5522362+wangandi@users.noreply.github.com>
Date:   Thu Dec 12 12:41:42 2019 -0500

    Merge pull request #1272 from wangandi/showindextest
    
    Enable create/drop index commands in sqllogictest + fix bugs

commit 8b90a81913182fb4fa37521d5b85a12c1fa222a2
Author: Andi Wang <andi@materialize.io>
Date:   Thu Dec 12 11:39:36 2019 -0500

    Have context/manager consistently return a particular arrangement

commit f5fe216022410fe547e44aae9dc0f9dd350940d5
Author: Andi Wang <andi@materialize.io>
Date:   Thu Dec 12 11:38:34 2019 -0500

    Make sure indexes do not interfere with table/view dropping.

commit b62a4eae7198c9ca8a82d98857336566d888c37c
Author: Andi Wang <andi@materialize.io>
Date:   Thu Nov 21 13:34:06 2019 -0500

    Have sqllogictest actually run CREATE and DROP INDEX statements.

commit ee266212ff06c3e6879b986c4ba2c10f76e8bf1e
Merge: 690318bb1 8000955ae
Author: Nikhil Benesch <nikhil.benesch@gmail.com>
Date:   Wed Dec 11 22:52:41 2019 -0500

    Merge pull request #1278 from benesch/floor-ceil
    
    fix floor and ceil + decimal symbiosis

commit dac2cb67f6c5e8488db67d770f0291ad483fceb7
Author: Nikhil Benesch <nikhil.benesch@gmail.com>
Date:   Wed Dec 11 22:48:24 2019 -0500

    pgwire: fix encryption type handling

commit 8000955ae49630b265b45d4f1aa8cef0abe737c1
Author: Nikhil Benesch <nikhil.benesch@gmail.com>
Date:   Wed Dec 11 22:36:15 2019 -0500

    test/funcs: uncomment ceil/floor test
    
    Thanks, @wangandi! Fix #1270.

commit fc5578d0b8be87735e6d2bf5ddd7e39cd6313a43
Author: Nikhil Benesch <nikhil.benesch@gmail.com>
Date:   Wed Dec 11 22:35:54 2019 -0500

    symbiosis: properly read negative decimals
    
    Touches #1270. We were forgetting to negate negative decimals.

commit 9e00b201837644493041761d5c0f507e4ad62971
Author: Nikhil Benesch <nikhil.benesch@gmail.com>
Date:   Wed Dec 11 22:35:34 2019 -0500

    sql: handle NULLs in ceil and float functions
    
    Touches #1270.

commit 690318bb114abc20bbffa4e27b395a1b2af1ca21
Merge: e8e335a19 7b97e6ded
Author: Jamie Brandon <jamie@scattered-thoughts.net>
Date:   Wed Dec 11 20:40:58 2019 -0500

    Merge pull request #1273 from jamii/json-ops
    
    WIP json operators

commit 7b97e6ded4e4de8bef46b31b4146eabe444fe411
Author: Jamie Brandon <jamie@scattered-thoughts.net>
Date:   Wed Dec 11 20:30:58 2019 -0500

    Enable more json tests, but not in slt-fast

commit 35b87195da368a86bcea4671730d42e99e423697
Author: Jamie Brandon <jamie@scattered-thoughts.net>
Date:   Wed Dec 11 20:20:39 2019 -0500

    Reset param_types when backtracking :(

commit 2a4448905c6593eb9606d7687264b1b3675760ef
Author: Jamie Brandon <jamie@scattered-thoughts.net>
Date:   Wed Dec 11 19:49:23 2019 -0500

    Only bail if the statement was expected to succeed

commit 3b48fceff60feac9fb32b038ffc8941f14c38602
Author: Jamie Brandon <jamie@scattered-thoughts.net>
Date:   Wed Dec 11 19:38:45 2019 -0500

    Enable postgres_jsonb test

commit 70f9f99ca5f75eb1841684eac1b7e3826ee3a24c
Author: Jamie Brandon <jamie@scattered-thoughts.net>
Date:   Wed Dec 11 19:37:50 2019 -0500

    Add more overloads for ContainsJson

commit c6c59ede3044df885993f46cd15c6fabf4d0d828
Author: Jamie Brandon <jamie@scattered-thoughts.net>
Date:   Wed Dec 11 19:35:30 2019 -0500

    Fix casts more

commit a3c7f61e5dbe3ebee209ef7278dbd937a0099de5
Author: Jamie Brandon <jamie@scattered-thoughts.net>
Date:   Wed Dec 11 19:34:20 2019 -0500

    Handle json correctly in slt

commit 04b17e4ae7b5d236b5e15270192403abd7ae444c
Author: Jamie Brandon <jamie@scattered-thoughts.net>
Date:   Wed Dec 11 19:34:10 2019 -0500

    Fix casts

commit 12772897d9f1d7a2d51be9efd88c058696997278
Author: Jamie Brandon <jamie@scattered-thoughts.net>
Date:   Wed Dec 11 19:05:53 2019 -0500

    Add JsonDelete operator

commit 19a6437aa9a11c2a6460d9644c373b18ac29cd06
Author: Jamie Brandon <jamie@scattered-thoughts.net>
Date:   Wed Dec 11 18:33:57 2019 -0500

    Add JsonbContainsJsonb function

commit a9e7a5cdd1839eda1f34b4fd2150d8a814cf2956
Author: Jamie Brandon <jamie@scattered-thoughts.net>
Date:   Wed Dec 11 17:58:54 2019 -0500

    Add JsonConcat operator

commit d56cc095855f1fc4b5b6caa56f0fabe85c9f812d
Author: Jamie Brandon <jamie@scattered-thoughts.net>
Date:   Wed Dec 11 17:40:51 2019 -0500

    Add JsonContainsField operator

commit e8e335a19ff1b7d2815dc58733582533bf86d5be
Merge: c1888eb61 57f094195
Author: Nikhil Benesch <nikhil.benesch@gmail.com>
Date:   Wed Dec 11 17:25:45 2019 -0500

    Merge pull request #1271 from benesch/pgwire-auth
    
    pgwire: properly reject ssl/gssapi encryption requests

commit 8fdcd3bd025eebf3dd3774c6ba9eee6522300891
Author: Jamie Brandon <jamie@scattered-thoughts.net>
Date:   Wed Dec 11 17:21:07 2019 -0500

    Add GetAsText operator

commit 677bc629bb9b1418cabc6f365d3cb283c5e116f7
Author: Jamie Brandon <jamie@scattered-thoughts.net>
Date:   Wed Dec 11 17:17:33 2019 -0500

    Add JsonGetInt64/String function

commit 5e7a4892765204fea2b325b47dd370c6ae580a1e
Author: Jamie Brandon <jamie@scattered-thoughts.net>
Date:   Wed Dec 11 17:17:16 2019 -0500

    Bump sqlparser

commit c1888eb61c44cbf5d88f2175ea751a7bd694fd18
Merge: ad31a78d3 40b14c7ff
Author: wangandi <5522362+wangandi@users.noreply.github.com>
Date:   Wed Dec 11 17:06:50 2019 -0500

    Merge pull request #1263 from wangandi/showindex
    
    Add show index and support function-based indexes.
    
    Approved in person by Frank

commit ad31a78d3a75cd9d9f0efd0cef9622fe2bdbdcfa
Merge: c6e8e1dc9 01857a75a
Author: Brandon W Maister <bwm@materialize.io>
Date:   Wed Dec 11 16:39:57 2019 -0500

    Merge pull request #1261 from quodlibetor/chbench-terraform
    
    chbench terraform: Add metabase and brief readme

commit 48c6532adfeede2c30f4575058381aa1090df810
Author: Brennan Vincent <brennan@materialize.io>
Date:   Wed Dec 11 16:30:47 2019 -0500

    Remove trailing comma, required by Ubuntu 18.04 libconfig

commit f12bf28526bfcd66c889264ea3733d16d6ca92c8
Author: Jamie Brandon <jamie@scattered-thoughts.net>
Date:   Wed Dec 11 16:21:39 2019 -0500

    Switch to postgres dialect to get json operators

commit 38868aaa6e221b1f243bc8cf7c4605dd1f302816
Author: Brennan Vincent <brennan@materialize.io>
Date:   Wed Dec 11 16:18:59 2019 -0500

    remove commented-out code

commit 01857a75aed5e9e0017a722d7c7d25ac90ed9646
Author: Brandon W Maister <bwm@materialize.io>
Date:   Tue Dec 10 22:49:01 2019 -0500

    chbench terraform: gitignore the new terraform state dir

commit 1178a65593473324e514ad234f89f7ccf2e03a79
Author: Brandon W Maister <bwm@materialize.io>
Date:   Tue Dec 10 22:48:18 2019 -0500

    chbench terraform: Add a README that points to the parent readme

commit f16771c3c4ad9320ddc8c8a47b34c15189525a45
Author: Brandon W Maister <bwm@materialize.io>
Date:   Tue Dec 10 22:47:54 2019 -0500

    chbench cloud: add the metabase port as an ingress rule

commit c6e8e1dc92e2faca54c7ca5aa8bfed37541bf147
Merge: f2ee4beda b1c7c9986
Author: Brandon W Maister <bwm@materialize.io>
Date:   Wed Dec 11 15:37:07 2019 -0500

    Merge pull request #1262 from quodlibetor/extract-dow
    
    Add support for more EXTRACT fields

commit f2ee4beda874caa57d25b92040c4b9bdcad58177
Merge: 5ceea65c8 0e9ac5ed8
Author: Jamie Brandon <jamie@scattered-thoughts.net>
Date:   Wed Dec 11 15:35:46 2019 -0500

    Merge pull request #1265 from jamii/json
    
    Basic json support

commit 0e9ac5ed834e5a0a4847ea801ff1a75331953f83
Author: Jamie Brandon <jamie@scattered-thoughts.net>
Date:   Wed Dec 11 15:15:50 2019 -0500

    Handle json in sqllogictest

commit 40b14c7ff30b2b5b26b898896cb5aebdcef46efe
Author: Andi Wang <andi@materialize.io>
Date:   Thu Nov 21 13:34:06 2019 -0500

    Add show index and support function-based indexes.

commit cb1b2e8a566bfacdaf89df42404d4f2400f46e7e
Author: Jamie Brandon <jamie@scattered-thoughts.net>
Date:   Wed Dec 11 15:01:53 2019 -0500

    Handle uppercase type names :D

commit 57f0941950a769143016642e86c1355776fcefdb
Author: Nikhil Benesch <nikhil.benesch@gmail.com>
Date:   Wed Dec 11 14:59:03 2019 -0500

    pgwire: properly reject ssl/gssapi encryption requests
    
    We were previously returning a fatal error when clients requested SSL or
    GSSAPI encryption. The protocol allows for a softer method of returning
    "SSL not supported" or "GSSAPI encryption not supported", which allows
    clients to fall back to unencrypted connections. Switch to that softer
    method, so that explicitly passing sslmode=disable or gssencmode=disable
    is no longer required.

commit e660e1ccf981a0456e1bb9954afb86a94be5195b
Author: Jamie Brandon <jamie@scattered-thoughts.net>
Date:   Wed Dec 11 14:55:23 2019 -0500

    Handle json in symbiosis

commit b1c7c9986fa32c5875ebc29fc88b80b09cb7c81c
Author: Brandon W Maister <bwm@materialize.io>
Date:   Tue Dec 10 23:33:05 2019 -0500

    func/extract: Add support for extracting several datetime fields
    
    EXTRACT always returns double-precision floats.
    
    The new extract targets supported here are:
    
    * quarter
    * week
    * doy
    * dow
    * isodow
    
    Fixes #1250

commit 577ee7a461b75bb58c79f48833c4ad670dc48ea3
Author: Jamie Brandon <jamie@scattered-thoughts.net>
Date:   Wed Dec 11 14:40:46 2019 -0500

    Bugfix: reuse existing functions to avoid silly omissions

commit 2cc68163575efc56717973888157c361c7666fbe
Author: Jamie Brandon <jamie@scattered-thoughts.net>
Date:   Wed Dec 11 14:01:32 2019 -0500

    Clippy

commit 820fb91a0acf0e37cea55d33c860dd4566456ac6
Author: Jamie Brandon <jamie@scattered-thoughts.net>
Date:   Wed Dec 11 13:57:53 2019 -0500

    Make sure numbers have a consistent binary representation

commit 44bb1a3d22b19e0a7048025a67e675380fd70f76
Author: Jamie Brandon <jamie@scattered-thoughts.net>
Date:   Wed Dec 11 13:45:16 2019 -0500

    Rename ScalarType::Json to ScalarType::Jsonb. Tweak number representation. Fix pgwire.

commit 8b2ec45f474ce780ae270714c0ede3d15f2569ae
Author: Jamie Brandon <jamie@scattered-thoughts.net>
Date:   Wed Dec 11 12:21:47 2019 -0500

    Support json in pgwire

commit 2697dbd63e2a9750a3e69c01434431f3fd1d9958
Author: Jamie Brandon <jamie@scattered-thoughts.net>
Date:   Wed Dec 11 12:06:11 2019 -0500

    Add CastJsonToString

commit 2c4d0cadb8e7e27a48c6d6f554d9ca2a416420b5
Author: Jamie Brandon <jamie@scattered-thoughts.net>
Date:   Wed Dec 11 11:47:47 2019 -0500

    Thread CastStringToJson into sql frontend

commit 5ceea65c808b600793b465cb796c25d03cae8756
Merge: 8d882804e dbd40ebe1
Author: Frank McSherry <fmcsherry@me.com>
Date:   Wed Dec 11 09:37:32 2019 -0500

    Merge pull request #1251 from frankmcsherry/mirror_catalog
    
    Mirror updates to catalog names

commit 34e67bc1f597a6b33ded49bfa5062378179329ea
Author: Brandon W Maister <bwm@materialize.io>
Date:   Tue Dec 10 22:57:03 2019 -0500

    DayOfWeek: Update sqlparser for new ExtractField
    
    More expansive than DateTimeField

commit 8d882804e05aaf2bad79eac0d8d1a0be053ab42f
Author: Brennan Vincent <brennan@materialize.io>
Date:   Tue Dec 10 17:33:52 2019 -0500

    wire up config file path (#1260)

commit 88cf0678ce804563a3c481f2c134898a9cddc5b1
Author: Brennan Vincent <brennan@materialize.io>
Date:   Tue Dec 10 17:07:30 2019 -0500

    fix dockerfile

commit 72d4a913748ba8f4676b6b9243809591fd39e468
Author: Brennan Vincent <brennan@materialize.io>
Date:   Tue Dec 10 16:58:20 2019 -0500

    comment out "item_price"

commit dcd131f7605e7110e90b6647b14f4fe7a99af705
Author: Brennan Vincent <brennan@materialize.io>
Date:   Mon Dec 9 17:32:54 2019 -0500

    Config file first pass: allow specifying views and statistical distributions in config

commit dbd40ebe16adc17e6c6433ecafc83276968d1d92
Author: Frank McSherry <fmcsherry@me.com>
Date:   Tue Dec 10 16:22:00 2019 -0500

    update tests

commit ae4328f425063ad6c7be440c94394610e354de0f
Author: Frank McSherry <fmcsherry@me.com>
Date:   Tue Dec 10 16:09:52 2019 -0500

    accommodate clippy

commit b6c6bfb05403f4bcfc72420fb54010a5cbe46022
Author: Jamie Brandon <jamie@scattered-thoughts.net>
Date:   Tue Dec 10 16:04:55 2019 -0500

    Add CastStringToJson

commit b52398cb051d6cec006e204acbd8c4297898991d
Merge: 3caa821c3 d674f74aa
Author: Nikhil Benesch <nikhil.benesch@gmail.com>
Date:   Wed Dec 11 10:59:15 2019 +1400

    Merge pull request #1252 from benesch/doc-stddev-warning
    
    doc/user: soften imprecision warning about stddev/variance

commit d674f74aa4d8df93582e23da829ab6dc8f272d30
Author: Nikhil Benesch <nikhil.benesch@gmail.com>
Date:   Tue Dec 10 15:55:27 2019 -0500

    doc/user: soften imprecision warning about stddev/variance
    
    Per @sploiselle's advice.

commit 3caa821c32289504b7b315157f1049ee1bbe37dd
Merge: 33ab7fd4a b06c4ac1a
Author: Nikhil Benesch <nikhil.benesch@gmail.com>
Date:   Wed Dec 11 10:54:47 2019 +1400

    Merge pull request #1242 from benesch/stddev
    
    sql: support naive variance and stddev computations

commit 0db58bfe794eba2d5ee27c1fab941bab86f7c364
Author: Frank McSherry <fmcsherry@me.com>
Date:   Tue Dec 10 15:45:59 2019 -0500

    mirror updates to catalog names

commit a5141f0e6351f84512d7152a28bd0af72f8f82ae
Author: Jamie Brandon <jamie@scattered-thoughts.net>
Date:   Tue Dec 10 15:40:50 2019 -0500

    Add ScalarType::Json and Datum::JsonNull

commit b06c4ac1ad8fc67e7292d41a3ea5e2bc5db1a8a0
Author: Nikhil Benesch <nikhil.benesch@gmail.com>
Date:   Mon Dec 9 17:31:20 2019 -0500

    sql: support naive variance and stddev computations
    
    Add support for computing the stddev of float and decimal data using the
    "textbook" algorithm. This algorithm is known to accumulate problematic
    amounts of error, but it is much more straightforward to implement in
    differential dataflow than any of the numerically-stable algorithms. In
    fact, it requires no changes to the dataflow layer at all, as the SQL
    function can simply be decomposed into the sum, count, and sqrt
    functions.
    
    It's also worth noting that PostgreSQL got away with using this
    algorithm until version 12, released last year.
    
    Implementing a more accurate variance/stddev algorithm is tracked in
    issue #1240.

commit be4402c86231513f275f6b744a9eb2a3b2b478ac
Author: Jamie Brandon <jamie@scattered-thoughts.net>
Date:   Tue Dec 10 15:28:48 2019 -0500

    Rename DatumArray to DatumList

commit 33ab7fd4a4fe1f85637b5aa507f3c4da81e730b1
Merge: 10821f5e0 c38efde51
Author: Jamie Brandon <jamie@scattered-thoughts.net>
Date:   Tue Dec 10 14:54:43 2019 -0500

    Merge pull request #1232 from jamii/arrays
    
    DatumArray and DatumDict

commit c38efde51ba13bd9d1aa7f4d37c053e03c622e0c
Author: Jamie Brandon <jamie@scattered-thoughts.net>
Date:   Tue Dec 10 14:42:54 2019 -0500

    Update comment

commit ab68ba66bcea66a40ee2c5077c9cbaf7151d3afd
Author: Jamie Brandon <jamie@scattered-thoughts.net>
Date:   Tue Dec 10 14:34:39 2019 -0500

    Disable ARRAY test
    
    It's not clear how we were ever passing this, unless we misparsed it but
    still managed to return the correct error.

commit 10821f5e0382651dcc26065dcbb0a9e51c9cc743
Author: Cuong Do <cuongdo@users.noreply.github.com>
Date:   Tue Dec 10 14:34:13 2019 -0500

    Rename view mz_records_dataflow_operator (#1244)
    
    ... to mz_dataflow_operator_dataflows
    
    mz_dataflow_operators was added by #1209 as an view of
    TimelyLog::Operates. That now conflicts with the the view of the same
    name in bootstrap.sql. So, we fix this by renaming the view.

commit b7e87274d7565ed041d68fde51e31dc83db5a466
Author: Jamie Brandon <jamie@scattered-thoughts.net>
Date:   Tue Dec 10 14:17:48 2019 -0500

    Clippy

commit 2a2494a6df5b1bbe45e9c862c3cdc6bf8fcd61d8
Author: Jamie Brandon <jamie@scattered-thoughts.net>
Date:   Tue Dec 10 14:07:06 2019 -0500

    Strip out ScalarType::Array

commit 168a067a868137572bf7dec6a3050cbf12f0fa8d
Author: Jamie Brandon <jamie@scattered-thoughts.net>
Date:   Tue Dec 10 13:53:51 2019 -0500

    Add DatumDict

commit a0d701e3306d7341c1ddf31963ef754decde19c9
Merge: 491e63e5f dfac8ef2c
Author: Sean Loiselle <sean@materialize.io>
Date:   Tue Dec 10 11:36:03 2019 -0500

    Merge pull request #1245 from sploiselle/cast-int-bool
    
    support casting int to bool

commit bf54df6ffc6a451543910dd815eb9a6d33f4113b
Author: Jamie Brandon <jamie@scattered-thoughts.net>
Date:   Tue Dec 10 11:25:24 2019 -0500

    Various bugfixes

commit dfac8ef2c9977f6b916fc8eab8f504eafbc49dea
Author: sploiselle <sean@materialize.io>
Date:   Tue Dec 10 11:15:31 2019 -0500

    support casting int to bool

commit 491e63e5f63c2821b99a73855474d4b62689e33f
Merge: cf6d59af7 bf7c6dfd9
Author: Frank McSherry <fmcsherry@me.com>
Date:   Tue Dec 10 09:57:45 2019 -0500

    Merge pull request #1243 from benesch/debezium-1.0
    
    ex/chbench: upgrade to Debezium 1.0 to fix dates

commit bf7c6dfd99998228e3c6d17685059f05f7a22b81
Author: Nikhil Benesch <nikhil.benesch@gmail.com>
Date:   Mon Dec 9 23:08:09 2019 -0500

    ex/chbench: upgrade to Debezium 1.0 to fix dates
    
    DATE handling is fixed in Debezium 1.0. The version we were using
    previously, Debezium 0.9, had off-by-one errors when reading dates from
    a snapshot.
    
    This fixes the negative records we've been seeing while running chbench.

commit 637df14d8ab9a49548288ad65d5549516fd8a67d
Author: Jamie Brandon <jamie@scattered-thoughts.net>
Date:   Mon Dec 9 17:36:57 2019 -0500

    Support array literals

commit cf6d59af7d009c0f1091d8958fbf0ab750c6584f
Merge: 033d4714a 270ae427e
Author: Sean Loiselle <sean@materialize.io>
Date:   Mon Dec 9 17:21:22 2019 -0500

    Merge pull request #1233 from sploiselle/ceil-floor-funcs
    
    docs: add ceil and floor funcs

commit 033d4714af69ae2bd3733d5d41e6d08493a520dc
Merge: 113772086 6f23e28d0
Author: Brandon W Maister <bwm@materialize.io>
Date:   Mon Dec 9 16:56:31 2019 -0500

    Merge pull request #1176 from quodlibetor/promsql-setup-log-timestamps
    
    Improve log messages around our metrics collection

commit 1137720860080b12e1b8e5a9510dcaf349d6af3f
Merge: 8440b70a1 0f54c7c09
Author: Nikhil Benesch <nikhil.benesch@gmail.com>
Date:   Mon Dec 9 16:54:35 2019 -0500

    Merge pull request #1226 from benesch/sqrt
    
    expr,sql: rudimentary sqrt support

commit 495d0f97e44505685367c97e93c61de99c8779f8
Author: Jamie Brandon <jamie@scattered-thoughts.net>
Date:   Mon Dec 9 16:53:30 2019 -0500

    Bump sqlparser

commit 6f23e28d001a407d7e588e891041f9193f53c663
Author: Brandon W Maister <bwm@materialize.io>
Date:   Wed Dec 4 13:30:54 2019 -0500

    promsql: make all queries one-line in logs

commit b730b6b542cd9ec78f2852fffbed3d3a35aca24b
Author: Brandon W Maister <bwm@materialize.io>
Date:   Wed Dec 4 13:20:25 2019 -0500

    Improve log messages in setup-metric-tables
    
    Since we didn't have timestamps, it's hard to know whether the `CREATE VIEW` happened
    when you last started up or 2 days ago.
    
    This also adds the name of the view being created to the log statement.

commit 8440b70a1427f74b5266bb56376e386aa6c2fc59
Merge: 2c6bf5686 818aed9ec
Author: Brandon W Maister <bwm@materialize.io>
Date:   Mon Dec 9 16:43:00 2019 -0500

    Merge pull request #1219 from quodlibetor/grafana-add-arrangement-records
    
    prometheus: Add some more introspection tools (arrangements and queue depths)

commit 818aed9ecdad4e3fe963fb12f169a2608eb8ad3c
Author: Brandon W Maister <bwm@materialize.io>
Date:   Mon Dec 9 11:50:55 2019 -0500

    grafana: make shared arrangements chart more consistent
    
    * Move it below arrangement batches
    * Make its histogram color scheme the same as our other ones with high variance (green
      opacity)

commit 815f956c5535764490552254b0d2be1f357a7858
Author: Brennan Vincent <brennan@materialize.io>
Date:   Mon Dec 9 16:10:32 2019 -0500

    Don't crash on "no complete timestamps"

commit 2c6bf56862142563a6f0671c0a762b28ec80c5cb
Merge: 9c3e9698d 9f37576b2
Author: Sean Loiselle <sean@materialize.io>
Date:   Mon Dec 9 16:05:48 2019 -0500

    Merge pull request #1237 from sploiselle/docs-identifiers
    
    docs: explain identifier rules

commit 9c3e9698d628990a2647dd3c502f83063e9a0d4a
Merge: bb341f68e f767c27be
Author: Nikhil Benesch <nikhil.benesch@gmail.com>
Date:   Mon Dec 9 15:50:51 2019 -0500

    Merge pull request #1236 from benesch/catalog-logging
    
    catalog: log inserts and removals

commit 9f37576b2a2702fde5a1d57b05c6b1dab1243a5f
Author: sploiselle <sean@materialize.io>
Date:   Mon Dec 9 15:30:57 2019 -0500

    docs: explain identifier rules

commit 0f54c7c0997a396ca1936729b08fe2f71bca4f44
Author: Nikhil Benesch <nikhil.benesch@gmail.com>
Date:   Sun Dec 8 22:15:58 2019 -0500

    expr,sql: rudimentary sqrt support
    
    Support sqrt for f32, f64, and decimal. The decimal support is
    half-baked at the moment, as it requires casting into f64, doing the
    operation, and casting back, because the actual implementation requires
    more sophistication than we currently have.
    
    sqrt is required for stddev support.

commit f767c27bee7772501b072c8c230cafd4db86cfdd
Author: Nikhil Benesch <nikhil.benesch@gmail.com>
Date:   Mon Dec 9 15:09:33 2019 -0500

    catalog: log inserts and removals
    
    While debugging materialize it is crucial to know the mapping between
    the catalog names used by the SQL layer and the IDs used by the dataflow
    layer. Debugging panics in particular is challenging, as the server will
    have crashed and it may be impossible to recover the ID mapping after
    the fact (e.g., because the Docker container has disappeared).
    
    Add logging of every catalog insertion and removal, so that a human
    debugger can manually perform the name -> id mapping while debugging.
    The output looks like this:
    
        [2019-12-09T20:08:19.001031Z  INFO catalog/lib:261] new source mz_view_frontiers (s11)
        [2019-12-09T20:08:19.001264Z  INFO catalog/lib:261] new source mz_scheduling_elapsed (s3)
        [2019-12-09T20:08:19.001340Z  INFO catalog/lib:261] new source mz_view_keys (s14)
        [2019-12-09T20:08:19.001403Z  INFO catalog/lib:261] new source mz_arrangement_sizes (s7)
        [2019-12-09T20:08:19.001465Z  INFO catalog/lib:261] new source mz_dataflow_operators (s1)
        [2019-12-09T20:08:19.001525Z  INFO catalog/lib:261] new source mz_dataflow_channels (s2)
        [2019-12-09T20:08:19.001578Z  INFO catalog/lib:261] new source mz_peek_active (s12)
        [2019-12-09T20:08:19.001634Z  INFO catalog/lib:261] new source mz_peek_durations (s13)
        [2019-12-09T20:08:19.001703Z  INFO catalog/lib:261] new source mz_dataflow_operator_addresses (s5)
        [2019-12-09T20:08:19.001761Z  INFO catalog/lib:261] new source mz_scheduling_parks (s6)
        [2019-12-09T20:08:19.001817Z  INFO catalog/lib:261] new source mz_view_foreign_keys (s15)
        [2019-12-09T20:08:19.001868Z  INFO catalog/lib:261] new source mz_views (s9)
        [2019-12-09T20:08:19.001942Z  INFO catalog/lib:261] new source mz_scheduling_histogram (s4)
        [2019-12-09T20:08:19.002000Z  INFO catalog/lib:261] new source mz_view_dependencies (s10)
        [2019-12-09T20:08:19.002055Z  INFO catalog/lib:261] new source mz_arrangement_sharing (s8)
        [2019-12-09T20:08:19.003023Z  INFO catalog/lib:261] new view v (u1)
        [2019-12-09T20:08:24.978798Z  INFO catalog/lib:261] new view v2 (u2)
        [2019-12-09T20:08:27.285492Z  INFO catalog/lib:338] remove view v (u1)
    
    This patch logs at the INFO level because inserts and removes are
    infrequent enough that the log won't be too spammy.
    
    We'll want to introduce a catalog table that exposes this mapping as
    well, but that's a) harder than this, and b) less useful than this for
    debugging panics, for the reasons described above.

commit bb341f68e388c30e625b8fc6385084b6cf01f432
Merge: 90658f7c6 266ac80bf
Author: Sean Loiselle <sean@materialize.io>
Date:   Mon Dec 9 15:04:19 2019 -0500

    Merge pull request #1234 from sploiselle/replace-func
    
    docs: Replace func

commit 266ac80bf7bd5ec12ab5e48133f97c75932b8149
Author: sploiselle <sean@materialize.io>
Date:   Mon Dec 9 14:33:39 2019 -0500

    docs: add replace func

commit 270ae427ecbbfad09778e25186cceee715258c02
Author: sploiselle <sean@materialize.io>
Date:   Mon Dec 9 14:27:19 2019 -0500

    docs: add ceil and floor funcs

commit c74be4f407aff178d350f96d4e5185cdf66a165c
Author: Jamie Brandon <jamie@scattered-thoughts.net>
Date:   Mon Dec 9 14:24:52 2019 -0500

    Clippy

commit 23b50130363412a15f1dd5b0f6f0c71451e8e7bb
Author: Jamie Brandon <jamie@scattered-thoughts.net>
Date:   Mon Dec 9 14:07:25 2019 -0500

    Fix uses of Scalar/ColumnType.copy()

commit 3391845487f74780448218b7ae0ba3233bd373e2
Author: Jamie Brandon <jamie@scattered-thoughts.net>
Date:   Mon Dec 9 14:07:10 2019 -0500

    Add DatumArray type

commit 90658f7c68254bb87c456b496272d44a26e27485
Merge: 539d662f5 5cbbcf432
Author: Nikhil Benesch <nikhil.benesch@gmail.com>
Date:   Mon Dec 9 14:08:30 2019 -0500

    Merge pull request #1227 from MaterializeInc/dependabot/cargo/assert_cmd-0.12.0
    
    Bump assert_cmd from 0.11.1 to 0.12.0

commit 539d662f5188dab399d0aac9182f8425bfab0927
Merge: 7dfd685f8 9e3543e25
Author: Sean Loiselle <sean@materialize.io>
Date:   Mon Dec 9 13:59:02 2019 -0500

    Merge pull request #1183 from sploiselle/data-types-v2
    
    docs: enhance and clean up type docs, as well as misc. formatting

commit 5cbbcf4324fb83f180fe8995a38cb48ab756e80b
Author: dependabot-preview[bot] <27856297+dependabot-preview[bot]@users.noreply.github.com>
Date:   Mon Dec 9 10:38:37 2019 +0000

    Bump assert_cmd from 0.11.1 to 0.12.0
    
    Bumps [assert_cmd](https://github.com/assert-rs/assert_cmd) from 0.11.1 to 0.12.0.
    - [Release notes](https://github.com/assert-rs/assert_cmd/releases)
    - [Changelog](https://github.com/assert-rs/assert_cmd/blob/master/CHANGELOG.md)
    - [Commits](https://github.com/assert-rs/assert_cmd/compare/v0.11.1...v0.12.0)
    
    Signed-off-by: dependabot-preview[bot] <support@dependabot.com>

commit 9e3543e25a817a5b61528d12384378c928f50d05
Author: sploiselle <sean@materialize.io>
Date:   Tue Dec 3 16:57:04 2019 -0500

    docs: enhance and clean up type docs, as well as misc. formatting

commit 7dfd685f87060222bc9a358c107fed86f930c203
Merge: 6e1671837 843058f29
Author: Nikhil Benesch <nikhil.benesch@gmail.com>
Date:   Mon Dec 9 13:54:04 2019 -0500

    Merge pull request #1222 from benesch/eval-env
    
    sql: expose logical times via mz_logical_timestamp builtin

commit 843058f29127deb5b4d7ce77ef30ae584dfdb0b1
Author: Nikhil Benesch <nikhil.benesch@gmail.com>
Date:   Thu Dec 5 17:54:06 2019 -0500

    sql: expose logical times via mz_logical_timestamp builtin
    
    Users often want to know the logical time at which their statement
    executed. SQL makes this somewhat difficult, as queries cannot return
    metadata outside of the requested result set. The traditional solution
    is to expose a function that returns the transaction timestamp. In
    PostgreSQL, `now()` and `transaction_timestamp()` both serve this
    purpose. In CockroachDB, `cluster_logical_timestamp()` serves this
    purpose. Users can then run queries like
    
      SELECT a, b, c, logical_timestamp()
    
    where the logical timestamp is produced in a column alongside the
    desired data.
    
    Since our logical timestamps are u64s that are potentially unrelated to
    wall clock time, this patch follows CockroachDB's lead in adding a new
    function, `mz_logical_timestamp()`, which returns the logical timestamp
    at which we've chosen to execute a query. Our `now()` function continues
    to return wall clock time.
    
    There is an additional wrinkle here in that a query like
    
        CREATE MATERIALIZED VIEW v AS SELECT mz_logical_timestamp()
    
    that attempts to create a view over mz_logical_timestamp is very
    challenging to support. What should the semantics of this view be?
    Should it continually produce updates? And if so, at what frequency?
    
    This patch punts on answering these questions by simply disallowing
    calls to mz_logical_timestamp in view queries. For good measure, now is
    also now disallowed in views, because its semantics are unclear for the
    same reasons.
    
    The implementation approach taken is to require an "evaluation
    environment" when evaluating a scalar expression. This environment
    at present contains the logical time and wall clock time, but will
    eventually grow to contain other bits of state that can impact how
    expressions are evaluated, e.g., the local timezone.
    
    Fix #1199.

commit d4ef22dc3d93c6acb815744ac4db3596aca34e70
Author: Brandon W Maister <bwm@materialize.io>
Date:   Fri Dec 6 16:44:27 2019 -0500

    Add the worker's view of the size of pending peeks and pending commands
    
    These should always be pretty low

commit 654446a4caac086d69410becba034784df79c2c6
Author: Brandon W Maister <bwm@materialize.io>
Date:   Fri Dec 6 18:29:17 2019 -0500

    grafana: Make arrangements more introspectable
    
    * Add an arrangement records chart next to arrangement batches (This was part of the
      trick to investigating fast mode.)
    * Change arrangement batches chart to not be stacked, making it more obvious when batch
      counts are growing at different rates

commit 6e1671837369091287b5ae02d21ee8ba74ad4e91
Merge: 089c3d243 813840cc5
Author: Nikhil Benesch <nikhil.benesch@gmail.com>
Date:   Mon Dec 9 11:30:41 2019 -0500

    Merge pull request #1228 from MaterializeInc/dependabot/cargo/libfuzzer-sys-0c45075
    
    Bump libfuzzer-sys from `ff32cf5` to `0c45075`

commit 089c3d24337a2ea15d064629775d4510d80932eb
Merge: 2a94c4e47 db20a38f0
Author: Brandon W Maister <bwm@materialize.io>
Date:   Mon Dec 9 10:35:45 2019 -0500

    Merge pull request #1209 from frankmcsherry/rename_logging
    
    WIP Improve names of logged collections.

commit 2a94c4e479912df6024cca5e0f23e2a3038988e5
Merge: f4cc11766 2347d9594
Author: Brandon W Maister <bwm@materialize.io>
Date:   Mon Dec 9 10:33:20 2019 -0500

    Merge pull request #1230 from MaterializeInc/dependabot/cargo/serde_json-1.0.44
    
    Bump serde_json from 1.0.42 to 1.0.44

commit 2347d95945eca2090b8e1d29646b3ad5af097387
Author: dependabot-preview[bot] <27856297+dependabot-preview[bot]@users.noreply.github.com>
Date:   Mon Dec 9 10:40:16 2019 +0000

    Bump serde_json from 1.0.42 to 1.0.44
    
    Bumps [serde_json](https://github.com/serde-rs/json) from 1.0.42 to 1.0.44.
    - [Release notes](https://github.com/serde-rs/json/releases)
    - [Commits](https://github.com/serde-rs/json/compare/v1.0.42...v1.0.44)
    
    Signed-off-by: dependabot-preview[bot] <support@dependabot.com>

commit 813840cc515cd95238193211276b158d2c7151d9
Author: dependabot-preview[bot] <27856297+dependabot-preview[bot]@users.noreply.github.com>
Date:   Mon Dec 9 10:39:09 2019 +0000

    Bump libfuzzer-sys from `ff32cf5` to `0c45075`
    
    Bumps [libfuzzer-sys](https://github.com/rust-fuzz/libfuzzer-sys) from `ff32cf5` to `0c45075`.
    - [Release notes](https://github.com/rust-fuzz/libfuzzer-sys/releases)
    - [Commits](https://github.com/rust-fuzz/libfuzzer-sys/compare/ff32cf5e5fb3e79ebd2e6325d3c24877a114e370...0c4507533a79e85e1984f59765bdd35fbdaa7f1b)
    
    Signed-off-by: dependabot-preview[bot] <support@dependabot.com>

commit f4cc1176679539399832adff3c6203ab2c6648ab
Merge: 209470165 9892cd260
Author: Jamie Brandon <jamie@scattered-thoughts.net>
Date:   Sun Dec 8 18:53:57 2019 -0500

    Merge pull request #1215 from jamii/arrays
    
    Store owned datum data in a temporary buffer instead of in a cow

commit db20a38f08be85b967e0b25ea7320b69eefd2fef
Author: Brandon W Maister <bwm@materialize.io>
Date:   Sat Dec 7 17:12:26 2019 -0500

    Change bootstrap views from logs_ -> mz_
    
    I also renmaed `unit_length_addresses` -> `addresses_with_unit_length` to match the
    new hierarchy.

commit f9dc32aaf67c895ab630483bc1e4fb9ca22ffc2e
Author: Brandon W Maister <bwm@materialize.io>
Date:   Fri Dec 6 17:07:36 2019 -0500

    Update all materialized log name references to the new names

commit 9892cd2604f0de1895a5fd96a984be2336f40bca
Author: Jamie Brandon <jamie@scattered-thoughts.net>
Date:   Sun Dec 8 13:37:23 2019 -0500

    rustfmt

commit 62a44e4823f63a30c3f51b4841d19a942275d12d
Author: Jamie Brandon <jamie@scattered-thoughts.net>
Date:   Sat Dec 7 22:14:34 2019 -0500

    Fix bug in push_string/bytes. Add a few tests.

commit 3a1fe7730c4e5ea90bf36ae280775e9c65254533
Author: Jamie Brandon <jamie@scattered-thoughts.net>
Date:   Sat Dec 7 21:44:28 2019 -0500

    Fix comment

commit 282c48d6f09956fe6a5b66af37e5bfdc44dc3910
Author: Jamie Brandon <jamie@scattered-thoughts.net>
Date:   Fri Dec 6 17:56:03 2019 -0500

    Cow -> Buffer

commit 209470165fdd347b0b02db5b797029ef70e6dc1b
Merge: 2c6fe773c 9f5c86dc6
Author: Frank McSherry <fmcsherry@me.com>
Date:   Sat Dec 7 11:24:07 2019 -0500

    Merge pull request #1220 from frankmcsherry/update_let
    
    Update let type information

commit 2c6fe773ce29c65583b5dfaa29b6efd0f5e0f4cb
Merge: 990cd2d40 8206b4b9b
Author: Frank McSherry <fmcsherry@me.com>
Date:   Sat Dec 7 09:59:39 2019 -0500

    Merge pull request #1213 from frankmcsherry/arrangement_neu
    
    Pivot to new differential arrangement implementation.

commit 990cd2d40da808f07a1380702b4b03689ed63f3f
Merge: e5e1b2a16 576dcf146
Author: Jamie Brandon <jamie@scattered-thoughts.net>
Date:   Sat Dec 7 09:44:58 2019 -0500

    Merge pull request #1207 from jamii/determinstic-ordering
    
    Make sort order stable by adding a tiebreaker.

commit 9f5c86dc66043d0680d6b8eabb84797b7494aec7
Author: Frank McSherry <fmcsherry@me.com>
Date:   Sat Dec 7 09:44:40 2019 -0500

    remove test

commit 9d9c37f779a3f51b8bff699695ae68741bcae327
Author: Frank McSherry <fmcsherry@me.com>
Date:   Fri Dec 6 20:46:31 2019 -0500

    cargo fmt

commit 58b7d0acbfbc0cd95e2f1b60f033ec978e126dd9
Author: Frank McSherry <fmcsherry@me.com>
Date:   Fri Dec 6 20:46:11 2019 -0500

    update type in let

commit e5e1b2a16b6e0856beec8fb816b431c8166c9e8d
Merge: 9dbea7060 38ece3439
Author: Frank McSherry <fmcsherry@me.com>
Date:   Sat Dec 7 07:46:03 2019 -0500

    Merge pull request #1221 from frankmcsherry/optimization_rake
    
    Column knowledge

commit 38ece3439af5313d64df690b19ad3f7ee8b1ae5b
Author: Frank McSherry <fmcsherry@me.com>
Date:   Sat Dec 7 00:19:34 2019 -0500

    ...

commit 6d0c1c8aac6afddeab2bebd684c20da764a2f36a
Author: Frank McSherry <fmcsherry@me.com>
Date:   Sat Dec 7 00:16:35 2019 -0500

    simplify evaluation

commit 1e53de08b94a97a45f99ca139e1214b4f9c0d6d1
Author: Frank McSherry <fmcsherry@me.com>
Date:   Sat Dec 7 00:05:09 2019 -0500

    guard evaluation by null test

commit 0f60c74b749d59bd426aa805f979867471e707d5
Author: Frank McSherry <fmcsherry@me.com>
Date:   Fri Dec 6 23:18:16 2019 -0500

    update tpch test

commit 708979fd12b558e291eaf408a93d663bab208a39
Author: Frank McSherry <fmcsherry@me.com>
Date:   Fri Dec 6 23:06:42 2019 -0500

    cargo fml

commit c3465736a20d3842760088e878f009cbfcd66136
Author: Frank McSherry <fmcsherry@me.com>
Date:   Fri Dec 6 23:05:37 2019 -0500

    disable frustrating requirements

commit a7bbfe39bcbbde8aeb3cdbca8e84515c71e36a93
Author: Frank McSherry <fmcsherry@me.com>
Date:   Fri Dec 6 23:03:40 2019 -0500

    disable frustrating requirements

commit c71b9755b1c2fdf877be428dcbc39c2369a2e29a
Author: Frank McSherry <fmcsherry@me.com>
Date:   Fri Dec 6 22:17:41 2019 -0500

    rename things

commit e4fda785957a7263f3f7332d310157abc1795441
Author: Frank McSherry <fmcsherry@me.com>
Date:   Sat Oct 12 20:48:33 2019 -0400

    column knowledge

commit 9dbea70600fbbf04e68b5d7c2f398d01890121d6
Merge: 8e0351fef 85d97487b
Author: Brandon W Maister <bwm@materialize.io>
Date:   Fri Dec 6 17:28:18 2019 -0500

    Merge pull request #1197 from quodlibetor/pgwire-histograms
    
    Replace mz_responses_sent_counter with various histograms

commit 8206b4b9bab0e7f3f5fa7a858021a60ebca849c5
Author: Brandon W Maister <bwm@materialize.io>
Date:   Fri Dec 6 17:18:27 2019 -0500

    Configure DIFFERENTIAL_EAGER_MERGE in the docker chbench demo

commit c5db3363d9fe0a0c589b1d9292dc2a92f7e1005f
Author: Frank McSherry <fmcsherry@me.com>
Date:   Fri Dec 6 16:53:53 2019 -0500

    Pivot to new differential arrangement implementation.
    
    The new differential arrangement implementation allows us to decouple compaction of arrangements from the arrival of updates, which allows us to compact more aggressively. There are some general benefits to the new implementation, but it is also new and we might have some bugs to shake out (VMR is using it and it passes all tests there).
    
    One important change is that differential now responds to an environment variable DIFFERENTIAL_EAGER_MERGE which can be set to an integer, and will prompt differential to feign that many phantom updates each time an arrangement operator is scheduled, if there is more than one distinct batch in the arrangement (informally: if there is merging work to do). This causes free cycles to be spent compacting arrangements, and gets us towards better compacted data without needing to feed actual updates at the arrangement.

commit 73ae7557e827ceabf699654238b78ab90d0dd970
Author: Frank McSherry <fmcsherry@me.com>
Date:   Fri Dec 6 16:39:48 2019 -0500

    remove local tests

commit 5a34802c49bd726b7654b0a1a1f8b4b117d4fa57
Author: Frank McSherry <fmcsherry@me.com>
Date:   Fri Dec 6 16:30:14 2019 -0500

    update logging tests

commit 85d97487bddd18ea50cae21d330454ed968c91dc
Author: Brandon W Maister <bwm@materialize.io>
Date:   Fri Dec 6 15:52:24 2019 -0500

    grafana dashboard improvements
    
    * include total kafka events/bytes on the right y axis of the rate plots
    * fix materialized cpu usage to be converted to percent instead of a float between
      0 and 1

commit f477a0e965c496dbdd1754d5d3ee36d9ade003d4
Author: Brandon W Maister <bwm@materialize.io>
Date:   Thu Dec 5 14:57:37 2019 -0500

    Change histogram buckets to better match real data
    
    I have never seen us get below 32 microseconds, this change makes the histogram a bit
    more readable.

commit dca89629016d089a047ea914ee42855bd8a8deb6
Author: Brandon W Maister <bwm@materialize.io>
Date:   Thu Dec 5 14:50:38 2019 -0500

    grafana main dashboard improvements
    
    * Add pgwire command event data to the main page
    * Group charts in sections to make them a bit more obviously co-related

commit 8240665a7e33a9601fbf9ef70b0cdafb5e76e58e
Author: Brandon W Maister <bwm@materialize.io>
Date:   Thu Dec 5 13:55:17 2019 -0500

    Replace mz_responses_sent_counter with various histograms
    
    This gives us a new grafana dashboard (at /d/pgwire) where we can dig in to performance
    of various commands, and breaks out events/s by command for every command.
    
    This also adds some explicit `drop()` calls to ensure that the `state.timer` actually
    makes it into the `*_complete` or `*_error` methods, and to point out that timers finish
    _after_ we finish sending the data to clients, not before.

commit daea8f7697f8db7a928c2050cb50270b2512468a
Author: Frank McSherry <fmcsherry@me.com>
Date:   Fri Dec 6 14:02:02 2019 -0500

    Improve names of logged collections.
    
    Our collections had names that described their source of information, rather than names that hinted at what they contained. This PR attempts to improve, if not fully solve, this situation with a `mz_` prefix and somewhat more relevant names. There is still a rationalization required to bring together the contents of all of this information, but that is deferred for now.

commit 576dcf14647c03a85b141972b1256d7f3a084d16
Author: Jamie Brandon <jamie@scattered-thoughts.net>
Date:   Fri Dec 6 12:01:25 2019 -0500

    Make sort order stable by adding a tiebreaker.
    
    This is especially important in the case where the order list is
    empty. Unstable orderings can cause diff churn in differential.

commit 8e0351fefa95e0fb38b1e9b743e9f7ef151561a6
Merge: 41d684502 cf42bf45d
Author: Frank McSherry <fmcsherry@me.com>
Date:   Fri Dec 6 11:38:03 2019 -0500

    Merge pull request #1054 from frankmcsherry/respect_since
    
    WIP: Respect `since` bounds.

commit cf42bf45dcb6b63b235657523db9937bdd021e30
Author: Frank McSherry <fmcsherry@me.com>
Date:   Fri Dec 6 11:19:48 2019 -0500

    ....

commit 41d684502ec873189e54c0e2495005c75113faf8
Merge: bc1f49c55 0c70bc752
Author: Nikhil Benesch <nikhil.benesch@gmail.com>
Date:   Thu Dec 5 17:25:28 2019 -0500

    Merge pull request #1192 from benesch/rdkafka-bump
    
    deps: upgrade to rdkafka v0.22

commit 980dfea7d89e74146a93c4b1d0a8c1d920526cf4
Author: Frank McSherry <fmcsherry@me.com>
Date:   Thu Dec 5 16:13:45 2019 -0500

    pbbbhht

commit fef987aa5c2f7105d6b9103730398604b97c1300
Author: Frank McSherry <fmcsherry@me.com>
Date:   Thu Dec 5 16:07:10 2019 -0500

    tidy comments

commit bc1f49c553afc1f27119076b4135a32f055ec2df
Merge: c527196ea 296b63365
Author: JLDLaughlin <JLDLaughlin@users.noreply.github.com>
Date:   Thu Dec 5 14:53:03 2019 -0500

    Merge pull request #1194 from JLDLaughlin/update_sqlparser
    
    Get SQLParser changes, support CAST(Timestamp to Date)

commit f16aadaf6e02167199008ff9b1865b502dae8369
Author: Frank McSherry <fmcsherry@me.com>
Date:   Thu Dec 5 14:12:35 2019 -0500

    Remap names if found in the name remapper.

commit 0875d2d4306b6d7705d30353cd258eeaf12a7ae1
Author: Frank McSherry <fmcsherry@me.com>
Date:   Thu Dec 5 13:37:56 2019 -0500

    Improve since respecting logic.

commit c527196eafe67e21471d07d6f645dd4470af5670
Author: Cuong Do <cuongdo@users.noreply.github.com>
Date:   Thu Dec 5 13:13:57 2019 -0500

    Make load test more aggressive (#1196)
    
    The previous version is now too easy for us!

commit 4f5f942cc4abee2b9038a9d25bae98ccd5e203a6
Merge: d95e9c101 2b0ccff46
Author: Ruchir Khaitan <ruchir0001@gmail.com>
Date:   Thu Dec 5 12:54:26 2019 -0500

    Merge pull request #1193 from ruchirK/better-debug_script
    
    Better debug script

commit 296b6336572ecd6cd68c15005389a69b899972e5
Author: JLDLaughlin <jessica@materialize.io>
Date:   Thu Dec 5 12:47:12 2019 -0500

    Support CAST(Timestamp to Date)

commit 56792792c388d19ca46c9d458328be590ea1d7ea
Author: JLDLaughlin <jessica@materialize.io>
Date:   Thu Dec 5 10:48:22 2019 -0500

    Get SQLParser changes

commit 3b7f260e2f854dd1b513d8b6d71ab2453edf79f7
Author: Brennan Vincent <brennan@materialize.io>
Date:   Thu Dec 5 10:41:27 2019 -0500

    depend on libconfig

commit 2b0ccff464139c4c1bb0833232345511f3046415
Author: Ruchir Khaitan <ruchir0001@gmail.com>
Date:   Wed Dec 4 21:56:27 2019 -0500

    Fix debug script to support multiworker instances

commit 2a801c82d3395352a5aa024dccf0d1f848936dba
Author: Frank McSherry <fmcsherry@me.com>
Date:   Thu Nov 21 14:09:36 2019 -0500

    Respect `since` bounds.
    
    This PR modifies timestamp selection to respect the `since` bounds used by compacted sources. Rather than simply picking the largest time that can be immediately answered, we also restrict our attention to times greater than all `since` bounds for each involved trace. Ideally this has no observable outcome, but it has the potential to change silent failures into errors (that no time can be found, instead of querying at a time for which we may produce an incorrect answer).
    
    There is currently no flow for error reporting when we fail to find a timestamp, and that should probably be added before we land this. I'll need to learn a bit more about how to add those, though, or get some help.

commit d95e9c1018e0fbe8aaa064b6b976caab3a767f62
Merge: 46b730aa6 c9e30d76d
Author: Brandon W Maister <bwm@materialize.io>
Date:   Wed Dec 4 18:40:41 2019 -0500

    Merge pull request #1188 from quodlibetor/metabase-in-docker-compose
    
    Add metabase to docker-compose

commit 5095a211a169795e2739e12724b5b15a036e00bb
Author: Brennan Vincent <brennan@materialize.io>
Date:   Wed Dec 4 18:28:14 2019 -0500

    states

commit 0c70bc75284355bb214932d2cd3e8bede75e9ffd
Author: Nikhil Benesch <nikhil.benesch@gmail.com>
Date:   Wed Dec 4 18:10:26 2019 -0500

    deps: upgrade to rdkafka v0.22
    
    Our fork is no longer necessary.

commit 46b730aa6f0a8caec47c8560c4e075521de06f4b
Merge: dbfcbbb0c fd0f5a4e6
Author: Jamie Brandon <jamie@scattered-thoughts.net>
Date:   Wed Dec 4 17:06:25 2019 -0500

    Merge pull request #1189 from jamii/fix_hand
    
    Fix https://github.com/MaterializeInc/materialize/issues/1174

commit fd0f5a4e6e9effc63b3e01f9cff0bf4e38d54812
Author: Jamie Brandon <jamie@scattered-thoughts.net>
Date:   Wed Dec 4 16:50:57 2019 -0500

    Fix https://github.com/MaterializeInc/materialize/issues/1174

commit dbfcbbb0c5c2aaf249aaee2b339e490600cc9309
Merge: ee0635dbd 5503d01d4
Author: Brandon W Maister <bwm@materialize.io>
Date:   Wed Dec 4 16:16:38 2019 -0500

    Merge pull request #897 from frankmcsherry/log_keys
    
    WIP: Expose primary and foreign key relationships.

commit ee0635dbd75d2b0120f1a31bc2fa245cc12a41f6
Merge: b6289414a de0027316
Author: JLDLaughlin <JLDLaughlin@users.noreply.github.com>
Date:   Wed Dec 4 16:13:24 2019 -0500

    Support CAST(timestamptz as date) (#1187)
    
    Closes #1162

commit c9e30d76d98760f437d45e6c233012af6a7e07e5
Author: Brandon W Maister <bwm@materialize.io>
Date:   Wed Dec 4 15:24:51 2019 -0500

    Add metabase to docker-compose
    
    The metabase version that we are using was built by running these commands:
    
        cd /tmp
        git clone --depth 5 --recursive git@github.com:MaterializeInc/metabase.git
        bin/docker/build_image.sh source mz-2019-12-04
    
    You will be able to connect to metabase on port 3030, but you will need to manually
    connect it to materialized (at host `materialized` port `6875`). At which point pretty
    much everything should work.
    
    Fixes #934

commit de00273167009ae3d9baea7e5f8223b63fd5da5b
Author: JLDLaughlin <jessica@materialize.io>
Date:   Wed Dec 4 15:57:29 2019 -0500

    Support CAST(timestamptz as date)

commit 5503d01d4ea463d12e9d4dfe2645abb19c8c9eef
Author: Frank McSherry <fmcsherry@me.com>
Date:   Wed Dec 4 15:34:52 2019 -0500

    appease clippy

commit b6289414ae9f1436d755df7edb1a9f5ee8b6a55b
Merge: 09ecfbce9 49f753233
Author: Frank McSherry <fmcsherry@me.com>
Date:   Wed Dec 4 15:30:59 2019 -0500

    Merge pull request #1181 from frankmcsherry/fix_tests
    
    Regexes broken are now fixed

commit 09ecfbce900d2e06d85425e4e7d6500ba24c94ef
Merge: 2c8bdd1c0 da4b6440f
Author: Jamie Brandon <jamie@scattered-thoughts.net>
Date:   Wed Dec 4 15:10:59 2019 -0500

    Merge pull request #1173 from jamii/graphs-bugfix
    
    Bugfix

commit 49f75323318aabee956315be71eebbe5de8cd090
Author: Frank McSherry <fmcsherry@me.com>
Date:   Wed Dec 4 15:10:40 2019 -0500

    regexes broken are now fixed

commit 2c8bdd1c004ca7ef4504d84adf1720cc218f6d7f
Author: JLDLaughlin <JLDLaughlin@users.noreply.github.com>
Date:   Wed Dec 4 14:32:28 2019 -0500

    Support CAST(timestamptz as timestamp) (#1178)

commit 328b91eab772ebf47ca47eebb143a069e2687d3b
Merge: 68a30c2af fb2a15ffa
Author: wangandi <5522362+wangandi@users.noreply.github.com>
Date:   Wed Dec 4 13:31:26 2019 -0500

    Merge pull request #1163 from wangandi/bug-1158
    
    Fix materialize#1158.

commit da4b6440f3465776a8d3eec6a63fb53d4eb7d944
Author: Jamie Brandon <jamie@scattered-thoughts.net>
Date:   Wed Dec 4 12:12:56 2019 -0500

    Bugfix

commit fb2a15ffa727b000c93b21a39d4207e3b51d9a68
Author: Andi Wang <andi@materialize.io>
Date:   Tue Dec 3 14:33:37 2019 -0500

    Fix materialize#1158.

commit 190eb446413c8824b1484af1d95d7e666f34b3c9
Author: Frank McSherry <fmcsherry@me.com>
Date:   Wed Dec 4 11:44:32 2019 -0500

    propagate view names

commit 68a30c2af516513bbc229812d0b60eafb8616423
Merge: 947f3bca3 e58199266
Author: Nikhil Benesch <nikhil.benesch@gmail.com>
Date:   Wed Dec 4 11:38:28 2019 -0500

    Merge pull request #1172 from benesch/style
    
    doc,test: fix style of some errant queries

commit e58199266a35f2868750f26ba371a4c5e4c64fcf
Author: Nikhil Benesch <nikhil.benesch@gmail.com>
Date:   Wed Dec 4 11:25:08 2019 -0500

    doc,test: fix style of some errant queries

commit 947f3bca33ec0c8a7001049a0a987cbfba56348b
Merge: c38c8645c 5ef646a43
Author: Nikhil Benesch <nikhil.benesch@gmail.com>
Date:   Wed Dec 4 11:16:37 2019 -0500

    Merge pull request #1171 from benesch/style
    
    doc,test: enforce a consistent style on SQL queries

commit c38c8645cfac6db0d11a0f4af3cb8b59ddbf2dc9
Merge: 6e3a89b44 63fb1a9ab
Author: Brandon W Maister <bwm@materialize.io>
Date:   Wed Dec 4 10:48:40 2019 -0500

    Merge pull request #1170 from quodlibetor/hoist-date-trunc-precision
    
    Hoist date_trunc precision analysis out to dataflow build time

commit 6e3a89b446a8b1318c8171e02ef190a7a089c4bf
Author: Brennan Vincent <brennan@materialize.io>
Date:   Wed Dec 4 09:01:23 2019 -0500

    don't allow compaction with the empty frontier (#1113)

commit 57b48b58ef2ae2f56b344c9367cffa69a53e39d8
Author: Brennan Vincent <brennan@materialize.io>
Date:   Wed Dec 4 07:39:15 2019 -0500

    remove old comment

commit 5ef646a43bd8b918ae16b37ac3d4158e1ac1c24a
Author: Nikhil Benesch <nikhil.benesch@gmail.com>
Date:   Tue Dec 3 23:47:04 2019 -0500

    doc,test: enforce a consistent style on SQL queries
    
    Adopt the SQL formatting guidelines that PostgreSQL uses in their
    manual. Write them down, too, in the developer documentation, since they
    don't seem to be explicitly listed anywhere.

commit 63fb1a9abb4e6863ba6828d38b5fba43e5eaab2f
Author: Nikhil Benesch <nikhil.benesch@gmail.com>
Date:   Wed Dec 4 01:14:25 2019 -0500

    expr,sql: handle arbitrary date_trunc precision fields
    
    When date_trunc's precision field is not a literal, fall back to a slow
    path that determines what function to call at runtime. The SQL layer is
    actually oblivious to the fast path, and plans only the slow path; the
    optimizer rewrites the slow path to the fast path when possible. This is
    analogous to the rewriting we perform for LIKE matches.

commit 02fc01ca1f2b3f1b0b35c1882f6510a673c84adc
Author: Brandon W Maister <bwm@materialize.io>
Date:   Tue Dec 3 23:23:42 2019 -0500

    Hoist date_trunc precision analysis out to dataflow build time
    
    This way we don't check which precision to use every time we interact with an individual
    datum, just once at the beginning.

commit ad6aa806152d57cd894aec5ca500dcf452a6ca00
Merge: 2fb93bfbf ccedc93e7
Author: Brandon W Maister <bwm@materialize.io>
Date:   Tue Dec 3 23:32:50 2019 -0500

    Merge pull request #1169 from quodlibetor/support-floor-of-int
    
    Support floor(int)

commit edb53bf9f5d913a65a1463e90814558a3a01bec1
Author: Frank McSherry <fmcsherry@me.com>
Date:   Tue Dec 3 23:17:36 2019 -0500

    don't log the logging

commit ccedc93e72da075d663983b25a7911ff56089c3e
Author: Brandon W Maister <bwm@materialize.io>
Date:   Tue Dec 3 21:32:18 2019 -0500

    Support floor(int)
    
    Because why not. No seriously I guess people want to be able to call `floor` on any
    numeric type, because we're running into this.
    
    Postgres converts both i32 and i64 types to f64, so that's what we do.

commit 2fb93bfbf75a574352377f568c0b6fcb40b9df63
Merge: 91e67c065 dd05acb0f
Author: Brandon W Maister <bwm@materialize.io>
Date:   Tue Dec 3 20:55:24 2019 -0500

    Merge pull request #1156 from quodlibetor/support-floor-ceil-for-floats
    
    Support ceil and floor for floats, doubles, decimals

commit 231b343e3a2f94019e33e5d11d64e5a02ff983af
Author: Frank McSherry <fmcsherry@me.com>
Date:   Tue Dec 3 19:50:36 2019 -0500

    correct keys of keys

commit 0837c1936387e6aef47146639f9d1b86a561dfda
Author: Frank McSherry <fmcsherry@me.com>
Date:   Tue Dec 3 19:47:26 2019 -0500

    migrate changes to coord.rs

commit 74bc9c87309d82dcaa16de204708200bb3ff9f85
Author: Frank McSherry <fmcsherry@me.com>
Date:   Tue Dec 3 19:10:16 2019 -0500

    tidy issues

commit 91e67c06508752a40565bc35b5c024d5c15917cd
Merge: 65dca036b 1ba7ee000
Author: Nikhil Benesch <nikhil.benesch@gmail.com>
Date:   Tue Dec 3 18:11:10 2019 -0500

    Merge pull request #1167 from benesch/pretty
    
    deps: upgrade to stable release of pretty

commit 8fe9aac890d0fa50b5c0303d9804cb13f689775d
Author: Frank McSherry <fmcsherry@me.com>
Date:   Mon Nov 4 17:54:07 2019 -0500

    Expose primary and foreign key relationships.

commit 1ba7ee00077ea2c161205ffcd3b66f08c17577ef
Author: Nikhil Benesch <nikhil.benesch@gmail.com>
Date:   Tue Dec 3 15:21:07 2019 -0500

    expr: upgrade to pretty 0.7.0
    
    This release had a ton of breaking changes.

commit dd05acb0f0839701e8914aa7632b368063e0bdf7
Author: Brandon W Maister <bwm@materialize.io>
Date:   Tue Dec 3 17:05:10 2019 -0500

    Convert all cast(.. AS DOUBLE) -> cast(.. AS DOUBLE PRECISION)
    
    postgres rejects AS DOUBLE so we shouldn't rely on it.

commit 16a3de8380bccc26c738328b698d752776972470
Author: Brandon W Maister <bwm@materialize.io>
Date:   Tue Dec 3 16:48:39 2019 -0500

    Support floor/ceil of decimals
    
    Fixes #1155

commit c2954bb1850740a96329cb0d6512b4c48ae213a1
Author: Brandon W Maister <bwm@materialize.io>
Date:   Tue Dec 3 16:47:57 2019 -0500

    Support parsing negative decimals

commit a957c8fb60961a936fff6cfceb437d34be8d8a55
Author: Nikhil Benesch <nikhil.benesch@gmail.com>
Date:   Tue Dec 3 13:25:58 2019 -0500

    expr: reformat comments to be at most 80ch wide

commit 068dbc5873f46515fba60cbaea1bded33bc38742
Author: Nikhil Benesch <nikhil.benesch@gmail.com>
Date:   Tue Dec 3 13:24:54 2019 -0500

    expr: rename pretty_pretty mod to pretty
    
    It's shorter and just as clear.

commit c14e0bffc7a096e6b8c460813563f26acea86b4a
Author: Nikhil Benesch <nikhil.benesch@gmail.com>
Date:   Tue Dec 3 13:22:05 2019 -0500

    expr: remove to_doc! macro
    
    The new version of the pretty crate is essentially incompatible with
    this macro. Remove it in preparation of the upgrade. It doesn't make the
    pretty-printing code that much prettier.

commit 45de77f2886ce28c2a54cde5d0453ecb7f062a40
Author: Nikhil Benesch <nikhil.benesch@gmail.com>
Date:   Tue Dec 3 12:50:36 2019 -0500

    deps: upgrade to stable release of pretty

commit 65dca036b6d870cb9ec789d02558785821e335c7
Merge: 4bc04b2b3 c9fd80222
Author: Frank McSherry <fmcsherry@me.com>
Date:   Tue Dec 3 11:45:06 2019 -0800

    Merge pull request #1159 from frankmcsherry/pretty_humanized
    
    Make dummy humanization default for pretty()

commit c9fd80222570177f54a841cc9b85b004b04cac92
Author: Frank McSherry <fmcsherry@me.com>
Date:   Tue Dec 3 14:19:37 2019 -0500

    fix formatting, tests

commit 6d0e0bf3f9bca7d9114eb64a037865078c70c5cc
Author: Brandon W Maister <bwm@materialize.io>
Date:   Tue Dec 3 13:23:50 2019 -0500

    Rename a couple parameters and functions around decimal casting
    
    Since the functions don't actually cast decimals (they need to have a division applied
    afterwards) the name was very confusing.

commit b40f98c83fc61fe83e669438338e72210e8c47e3
Author: Brandon W Maister <bwm@materialize.io>
Date:   Tue Dec 3 13:22:11 2019 -0500

    Support ceil and floor for floats
    
    This does not handle decimals, which'll be added in #1155
    
    Fixes #1142

commit a1ce7c162eb4c472af5ee4065810776b707c0f62
Author: Frank McSherry <fmcsherry@me.com>
Date:   Tue Dec 3 14:12:35 2019 -0500

    remove DummyHumanizer test

commit 1928e834cd6078b04b1735495ae54d5de5a5074b
Author: Frank McSherry <fmcsherry@me.com>
Date:   Tue Dec 3 14:09:13 2019 -0500

    Make dummy humanization default for pretty()

commit 4bc04b2b3f9929e26541f598eb07b23b719cee1a
Merge: 77ab64cbc af5f62796
Author: Brandon W Maister <bwm@materialize.io>
Date:   Tue Dec 3 14:02:27 2019 -0500

    Merge pull request #1107 from quodlibetor/grafana-chart-changes
    
    ex/chbench/grafana: Dashboard visualization improvements

commit 77ab64cbc3eb3b96920f1fbbb0ed1a16f77a76c2
Merge: 73adf3acd bfd8b9bdb
Author: Frank McSherry <fmcsherry@me.com>
Date:   Tue Dec 3 10:33:01 2019 -0800

    Merge pull request #1154 from frankmcsherry/coord_cleverness
    
    Allow coordinator to return constant results

commit af5f62796c383cb6cc3814de29c81df336f62ba2
Author: Brandon W Maister <bwm@materialize.io>
Date:   Wed Nov 27 11:04:51 2019 -0500

    metrics: we are actually hitting some sub-500µs client-side queries
    
    Add one more level of granularity so that we can measure things that are less than half a
    millisecond to see how often it's happening.

commit bfd8b9bdb01376e3980dd9e864984ec8671f48e2
Author: Frank McSherry <fmcsherry@me.com>
Date:   Tue Dec 3 13:20:55 2019 -0500

    apply finishing uniformly

commit d4dcd3f6edd46e544b793f218abb8350df4ec172
Author: Frank McSherry <fmcsherry@me.com>
Date:   Tue Dec 3 13:00:37 2019 -0500

    allow coordinator to handle constant results

commit 73adf3acd1eb448436463aa905e356406b8cc3d0
Merge: cf69f4d4d 58157641d
Author: Sean Loiselle <sean@materialize.io>
Date:   Tue Dec 3 12:56:45 2019 -0500

    Merge pull request #1134 from sploiselle/show-drop-stmts
    
    docs: add docs for show and drop statements

commit 58157641d767e67ac9dc66006b7dda23ce66c966
Author: sploiselle <sean@materialize.io>
Date:   Mon Dec 2 13:17:29 2019 -0500

    docs: add docs for show and drop statements

commit cf69f4d4daeaf068e16332c79379c81ddc6bc928
Merge: da97b707b 11b54b443
Author: Nikhil Benesch <nikhil.benesch@gmail.com>
Date:   Tue Dec 3 12:50:18 2019 -0500

    Merge pull request #1153 from sploiselle/fix-merge-skew
    
    build: fix merge skew in Cargo.lock

commit 11b54b443e1958f1baba2d75b2e7f70388ca0944
Author: sploiselle <sean@materialize.io>
Date:   Tue Dec 3 11:43:54 2019 -0500

    fix merge skew

commit da97b707be5d6cc0f8fa1622be8224f02697e0aa
Merge: 61af940a9 a836d1ab1
Author: Sean Loiselle <sean@materialize.io>
Date:   Tue Dec 3 10:58:47 2019 -0500

    Merge pull request #1143 from sploiselle/rr-diagram-typo
    
    util/rr-diagram-gen: fix typo in func name

commit a836d1ab133b805d44eaa7f0ed4ef82afd8a86b8
Author: sploiselle <sean@materialize.io>
Date:   Tue Dec 3 10:57:17 2019 -0500

    util/rr-diagram-gen: fix typo in func name

commit 61af940a99eb8cd6f3eb0560d49a6ced78177400
Merge: 874eda626 92bc4bfae
Author: Sean Loiselle <sean@materialize.io>
Date:   Tue Dec 3 10:45:51 2019 -0500

    Merge pull request #1141 from sploiselle/rr-diagram-diff-noise-reduce
    
    util/rr-diagram-gen: reduce diff noise

commit 92bc4bfae56b5a0be128392e11235cc9f451b506
Author: Sean Loiselle <himself@seanloiselle.com>
Date:   Mon Dec 2 22:27:22 2019 -0500

    util/rr-diagram-gen: reduce diff noise

commit 874eda626fe1c5926f6ea82ddaa72e1707f16a60
Merge: c14b9a5ca 5ad74e379
Author: Brandon W Maister <bwm@materialize.io>
Date:   Tue Dec 3 09:23:56 2019 -0500

    Merge pull request #1140 from quodlibetor/times-should-be-rfc3339-compliant
    
    Serialize text timestamps according to rfc3339/is8601

commit 5ad74e379558e12e2fd18c12d9c61a51b9c13bc8
Author: Brandon W Maister <bwm@materialize.io>
Date:   Mon Dec 2 21:22:59 2019 -0500

    Exactly match postgres' time format when return timestamps as text

commit c14b9a5ca3915c802d4ddb589bf01d164719070f
Merge: a018527a0 670c13ce4
Author: Sean Loiselle <sean@materialize.io>
Date:   Mon Dec 2 17:00:18 2019 -0500

    Merge pull request #1096 from sploiselle/sql-data-types
    
    docs: initial sql data type docs

commit 670c13ce4fc445b7b891b51ad5bc2d4c77b965dc
Author: sploiselle <sean@materialize.io>
Date:   Tue Nov 26 13:59:11 2019 -0500

    docs: initial sql data type docs

commit a018527a08d3f71bf550101ed67456a45d29e94a
Merge: b421e6a07 1c5f9d939
Author: Sean Loiselle <sean@materialize.io>
Date:   Mon Dec 2 16:50:01 2019 -0500

    Merge pull request #1139 from sploiselle/rr-diagram-gen-cleanup
    
    util/rr-digram-gen: misc. minor cleanup

commit 1c5f9d9396001117635b692ee78bbe7edd977fb7
Author: sploiselle <sean@materialize.io>
Date:   Mon Dec 2 16:01:17 2019 -0500

    util/rr-digram-gen: add watermark for upstream tool and avoid regenerating unchanged diagrams

commit 237aee8b68a01332262e116064641b12c456741f
Author: Brandon W Maister <bwm@materialize.io>
Date:   Mon Dec 2 16:11:23 2019 -0500

    Serialize text timestamps according to rfc3339/is8601
    
    RFC3339 requires a timezone[1], so the naive date time cannot use that shorthand.
    
    This fixes timestamp parsing in metabase, and probably everywhere else.
    
    [1]: https://tools.ietf.org/html/rfc3339#section-4.4

commit b421e6a07636a804d448d702cca51fad45374013
Merge: 496f2f0ee d9eef04d7
Author: Sean Loiselle <sean@materialize.io>
Date:   Mon Dec 2 16:27:45 2019 -0500

    Merge pull request #1136 from sploiselle/now-func
    
    docs: add now() function

commit d9eef04d73663c933e365dda02ea6c8bf9ed59ae
Author: sploiselle <sean@materialize.io>
Date:   Mon Dec 2 14:33:53 2019 -0500

    docs: add now() function

commit 496f2f0ee9cf65775954a260ef68ff1e65ce97c0
Merge: 02b0849fb d20663924
Author: Nikhil Benesch <nikhil.benesch@gmail.com>
Date:   Mon Dec 2 15:41:58 2019 -0500

    Merge pull request #1131 from benesch/rmmetastore
    
    metastore: remove

commit 02b0849fba3be721125a65f70c15f3a1cd8559cc
Merge: f4003bc15 c8290cf6d
Author: Ruchir Khaitan <ruchir0001@gmail.com>
Date:   Mon Dec 2 14:51:49 2019 -0500

    Merge pull request #1085 from ruchirK/dataflow-names
    
    Dataflow names + better introspection script

commit f4003bc1574ba57ee59650033eb21f65a213fcd9
Merge: 270bdac06 9ccf17e3a
Author: Sean Loiselle <sean@materialize.io>
Date:   Mon Dec 2 14:45:44 2019 -0500

    Merge pull request #1135 from sploiselle/csv-sources
    
    docs: csv source docs, and source explanation changes

commit 9ccf17e3acd1862351b2ce008ab3cd9c6ed88ae7
Author: sploiselle <sean@materialize.io>
Date:   Wed Nov 27 14:29:21 2019 -0500

    docs: csv source docs, and source explanation changes

commit c8290cf6d586a72b8513c37f93fda25d98cd9fc4
Author: Ruchir Khaitan <ruchir0001@gmail.com>
Date:   Mon Nov 25 16:29:18 2019 -0500

    Update introspection script to print out view names
    
    Fixes #922
    Previously this only printed the dataflows local address

commit e6075ebb97d4b3d144de5a0b2712c20d9ad20707
Author: Ruchir Khaitan <ruchir0001@gmail.com>
Date:   Mon Nov 25 19:40:41 2019 -0500

    Support better debug names for dataflows
    
    Fixes #908

commit d20663924867cc45f7953461ccbced15f4dde445
Author: Nikhil Benesch <nikhil.benesch@gmail.com>
Date:   Mon Dec 2 13:35:35 2019 -0500

    metastore: remove
    
    metastore has been supserseded by the catalog crate.

commit 270bdac069863d1fdd6cf77efde94ff11262b9a9
Merge: f54f4e5c1 fdf5d90be
Author: Nikhil Benesch <nikhil.benesch@gmail.com>
Date:   Mon Dec 2 13:03:02 2019 -0500

    Merge pull request #1116 from benesch/prepared
    
    catalog,coord,sql: improve prepared statements + catalog handling

commit f54f4e5c1979e607a5d7a7f486c1bddb6d9cdb1f
Merge: ca86c7861 ff12d840c
Author: Nikhil Benesch <nikhil.benesch@gmail.com>
Date:   Mon Dec 2 12:57:05 2019 -0500

    Merge pull request #1119 from MaterializeInc/dependabot/cargo/predicates-1.0.2
    
    build(deps): bump predicates from 1.0.1 to 1.0.2

commit ca86c786177da8fc510b32bc022258fd848388a1
Merge: b65fe9271 07c0f9e19
Author: Nikhil Benesch <nikhil.benesch@gmail.com>
Date:   Mon Dec 2 12:56:51 2019 -0500

    Merge pull request #1118 from MaterializeInc/dependabot/cargo/libc-0.2.66
    
    build(deps): bump libc from 0.2.65 to 0.2.66

commit b65fe927175d438cd8c220f93dd1c6cb6cf68a92
Merge: 9e813afbd 8e29ba231
Author: Nikhil Benesch <nikhil.benesch@gmail.com>
Date:   Mon Dec 2 12:56:35 2019 -0500

    Merge pull request #1122 from MaterializeInc/dependabot/cargo/libfuzzer-sys-ff32cf5
    
    build(deps): bump libfuzzer-sys from `2542ae4` to `ff32cf5`

commit 8e29ba231402b815c29d73091a72ad2abc043310
Author: dependabot-preview[bot] <27856297+dependabot-preview[bot]@users.noreply.github.com>
Date:   Mon Dec 2 10:41:05 2019 +0000

    build(deps): bump libfuzzer-sys from `2542ae4` to `ff32cf5`
    
    Bumps [libfuzzer-sys](https://github.com/rust-fuzz/libfuzzer-sys) from `2542ae4` to `ff32cf5`.
    - [Release notes](https://github.com/rust-fuzz/libfuzzer-sys/releases)
    - [Commits](https://github.com/rust-fuzz/libfuzzer-sys/compare/2542ae41f2ac52a6baa58417a8ad8903fef231f9...ff32cf5e5fb3e79ebd2e6325d3c24877a114e370)
    
    Signed-off-by: dependabot-preview[bot] <support@dependabot.com>

commit ff12d840c1103e05346bcc512e780f949d8329c1
Author: dependabot-preview[bot] <27856297+dependabot-preview[bot]@users.noreply.github.com>
Date:   Mon Dec 2 10:39:12 2019 +0000

    build(deps): bump predicates from 1.0.1 to 1.0.2
    
    Bumps [predicates](https://github.com/assert-rs/predicates-rs) from 1.0.1 to 1.0.2.
    - [Release notes](https://github.com/assert-rs/predicates-rs/releases)
    - [Changelog](https://github.com/assert-rs/predicates-rs/blob/master/CHANGELOG.md)
    - [Commits](https://github.com/assert-rs/predicates-rs/commits)
    
    Signed-off-by: dependabot-preview[bot] <support@dependabot.com>

commit 07c0f9e19a22721d1b8f11cc490a76618ff131d4
Author: dependabot-preview[bot] <27856297+dependabot-preview[bot]@users.noreply.github.com>
Date:   Mon Dec 2 10:38:31 2019 +0000

    build(deps): bump libc from 0.2.65 to 0.2.66
    
    Bumps [libc](https://github.com/rust-lang/libc) from 0.2.65 to 0.2.66.
    - [Release notes](https://github.com/rust-lang/libc/releases)
    - [Commits](https://github.com/rust-lang/libc/compare/0.2.65...0.2.66)
    
    Signed-off-by: dependabot-preview[bot] <support@dependabot.com>

commit fdf5d90beeed1caa434cf330b851a25d58a56dab
Author: Nikhil Benesch <nikhil.benesch@gmail.com>
Date:   Thu Nov 28 23:38:56 2019 -0500

    materialized: simplify test_partial_read
    
    This can avoid depending on the flaky logs views if it just uses an
    inline VALUES statement.

commit 97b66bd73910f799277367ac6c6f2e357012382e
Author: Nikhil Benesch <nikhil.benesch@gmail.com>
Date:   Thu Nov 28 23:25:44 2019 -0500

    catalog,coord: install logging views before loading stored entries
    
    Loading a catalog would crash if the catalog contained entries that
    depended on logging views, because the logging views were loaded after
    the persisted catalog entries. Switch the order to fix this.
    
    Also add a test case for this, and for a somewhat related bug with the
    bootstrap SQL feature, in which passing `--bootstrap-sql` when a cluster
    was already bootstrapped would fail.
    
    Fix #1115.

commit 150908227a1bf8c3e9e7c78fcb718d492981cec2
Author: Nikhil Benesch <nikhil.benesch@gmail.com>
Date:   Thu Nov 28 21:16:41 2019 -0500

    sql: adjust sql::plan to take parameters, not portals
    
    Taking the parameters directly is a more natural API, rather than
    requiring the SQL layer to extract them from the portal in the session
    based on the portal's name. After all, the statement comes from the
    portal too.

commit be50688259c6d5754ab21d49b0a3a343a3322c92
Author: Nikhil Benesch <nikhil.benesch@gmail.com>
Date:   Wed Nov 27 20:45:14 2019 -0500

    sql: don't reorder arithmetic ops with one parameter
    
    The existing code had a bad bug whereby an arithmetic operation with one
    parameter and one known type, like `1 - $1`, would be reordered to `$1 -
    1`, which is obviously not equivalent.

commit bfd9a7e4660c7e0e67e6673af25a1e5547673cac
Author: Nikhil Benesch <nikhil.benesch@gmail.com>
Date:   Wed Nov 27 20:39:49 2019 -0500

    sql: replace parameters within scalar exprs
    
    The existing prepared statement code would only replace parameters that
    appeared at the root of a scalar expression (like `SELECT $1`), and not
    parameters that appeared within a scalar expression (like `SELECT $1 +
    1`).

commit 9e813afbd90647299abdfd32e9c7f1cfced40468
Merge: ee4790d90 29947e1f9
Author: Nikhil Benesch <nikhil.benesch@gmail.com>
Date:   Fri Nov 29 00:14:34 2019 -0500

    Merge pull request #1117 from benesch/ci-builder-bump
    
    ci/deploy: use a less crashy nightly

commit 29947e1f99fcf06bd7d91ccef5892a71c310c2b6
Author: Nikhil Benesch <nikhil.benesch@gmail.com>
Date:   Thu Nov 28 23:56:29 2019 -0500

    ci/deploy: use a less crashy nightly
    
    The old nightly was crashing when it tried to build our docs. Hopefully
    this one crashes less.

commit ee4790d90a2434bd49232a63da4111073ea09990
Merge: 09cc71267 43c2bc843
Author: Nikhil Benesch <nikhil.benesch@gmail.com>
Date:   Wed Nov 27 16:29:07 2019 -0500

    Merge pull request #1105 from benesch/func-no-branch
    
    expr,sql: isolate string casting functions

commit 09cc71267acf3444d09215fd0f5ff1aac41cf6fc
Merge: b57f5fbd8 2cefb556f
Author: Nikhil Benesch <nikhil.benesch@gmail.com>
Date:   Wed Nov 27 13:31:22 2019 -0500

    Merge pull request #1111 from benesch/get-started
    
    doc/user: fix spacing in getting started guide

commit c6a0fcc12dfec9ad1b2ddb035ee3675209755b45
Author: Jamie Brandon <jamie@scattered-thoughts.net>
Date:   Wed Nov 27 18:25:10 2019 +0000

    Allow passing kafka url

commit 2cefb556fce467c1acae2d320097ffc05aea1fd6
Author: Nikhil Benesch <nikhil.benesch@gmail.com>
Date:   Wed Nov 27 12:12:59 2019 -0500

    doc/user: fix spacing in getting started guide

commit b57f5fbd84f51b192ada31e89617bcea0ed081b7
Merge: 1e7fa6b7f 81844a23f
Author: Nikhil Benesch <nikhil.benesch@gmail.com>
Date:   Wed Nov 27 11:52:46 2019 -0500

    Merge pull request #1106 from benesch/whitespace-errors
    
    lint: check for and fix whitespace errors

commit 43c2bc8439fc434c94718eb4eb95d82c36e97f96
Author: Nikhil Benesch <nikhil.benesch@gmail.com>
Date:   Tue Nov 26 21:47:35 2019 -0500

    expr: unwrap in to_char implementation
    
    For consistency with other functions, unwrap to assert that the types
    are as expected. The SQL planner guarantees that they shall be so.

commit 20e9ca38cf9e4bf149beac9702d79691c33b4632
Author: Nikhil Benesch <nikhil.benesch@gmail.com>
Date:   Tue Nov 26 21:43:54 2019 -0500

    expr: hoist null checks out of function implementations
    
    Checking for null in every single SQL function implementation gets old
    really fast. Hoist the null checking into the expression evaluator, and
    add a special case for the presently one function that needs to do
    something special with nulls (coalesce). (There will be a handful more
    such special functions in the future, but 99% of SQL functions will
    always just propagate nulls through.)

commit 31c757b18de7960b357870a6e2d9fd9014203bc8
Author: Brandon W Maister <bwm@materialize.io>
Date:   Wed Nov 27 10:50:28 2019 -0500

    ex/chbench/grafana: Dashboard visualization improvements
    
    * Set explicit colors for the Peek latencies charts, so that the max/various p-vals
      always match between then
    * Make frontier lags log2 to match the latench charts
    * Give the mysql tables chart a different name that hopefully makes it more clear that
      it's row counts and not just table counts "MySQL TPCCH Table Row Counts"
    * Change the default refresh rate to once every 30s -- the default view can take over 5s
      to load if you're looking at many hours of data, so having a 5s refresh was really
      annoying

commit 81844a23f386466d15b9ae4f6add0a6899e62969
Author: Nikhil Benesch <nikhil.benesch@gmail.com>
Date:   Tue Nov 26 23:11:31 2019 -0500

    lint: check for and fix whitespace errors
    
    A number of trailing spaces have slipped into our codebase lately. These
    cause annoying diff noise, so add a lint to prevent them, and remove the
    whitespace errors that presently exist.

commit 1e7fa6b7fed1060613969a78aed5577ab0cdff8a
Merge: a5abc5822 7b7770bb7
Author: Brandon W Maister <bwm@materialize.io>
Date:   Wed Nov 27 10:57:11 2019 -0500

    Merge pull request #1103 from quodlibetor/metrics-autocreate-sources
    
    metrics: Auto create sources

commit 58caaa5fc76b9da6d8a887537386e47308387c1a
Author: Nikhil Benesch <nikhil.benesch@gmail.com>
Date:   Tue Nov 26 21:30:03 2019 -0500

    expr,sql: isolate string casting functions
    
    Isolate functions that cast to strings, rather than having a universal
    datum -> string cast function. In general, expr should not be performing
    any type switches, as the type switches can all be preselected by the
    SQL planner.
    
    This commit also introduces casting for bytes <-> string and decimal ->
    string, which were left out of the initial implementation as their
    implementation is somewhat challenging.

commit a5abc5822807d88c0f2ed42957a93236ac2a1971
Author: Nikhil Benesch <nikhil.benesch@gmail.com>
Date:   Tue Nov 26 20:02:51 2019 -0500

    doc: move stray doc to chbench directory (#1104)
    
    The docker-local.md doc spanned the reorganization of the docs folder
    and is now misplaced. Move it into chbench so it is close to the code
    that it describes. Also apply some basic formatting tweaks to bring it
    more in line with the other developer documentation we have.

commit f167c7d19d1cf645b3f3f8330afcd3187422dce3
Merge: a58097354 21c5ff13e
Author: Brandon W Maister <bwm@materialize.io>
Date:   Tue Nov 26 17:30:07 2019 -0500

    Merge pull request #1101 from quodlibetor/test-partial-read-robustness
    
    Try to make test_partial_read more robust

commit 7b7770bb75d7278090b36d2191f0b96c651b52d7
Author: Brandon W Maister <bwm@materialize.io>
Date:   Tue Nov 26 17:21:46 2019 -0500

    metrics: Auto create sources
    
    Now that chbench is idempotent wrt views existing[1] we can auto-create them too.
    
    1: https://github.com/MaterializeInc/chbenchmark/commit/1920d9ebbaa6f7a939fd722bd4bb23210352615b

commit 1920d9ebbaa6f7a939fd722bd4bb23210352615b
Author: Brennan Vincent <brennan@materialize.io>
Date:   Tue Nov 26 17:00:50 2019 -0500

    use SHOW SOURCES to check if we're ready to start creating views

commit a580973548ad0e53809866b7e86558376e585085
Merge: 97ab7465e da21ba73e
Author: Brandon W Maister <bwm@materialize.io>
Date:   Tue Nov 26 16:55:58 2019 -0500

    Merge pull request #1089 from quodlibetor/peek-durations-readability
    
    grafana: Make peek durations/latencies more useful

commit 21c5ff13e5affe6f21df7b16a900fdf24142c829
Author: Brandon W Maister <bwm@materialize.io>
Date:   Tue Nov 26 16:52:46 2019 -0500

    Remove some old code from test_partial_read

commit 97ab7465ea53067017aa373488568034b01fdd1a
Merge: f0b5b5784 c2434abb1
Author: Sean Loiselle <sean@materialize.io>
Date:   Tue Nov 26 16:52:30 2019 -0500

    Merge pull request #1059 from sploiselle/float-to-dec
    
    sql: cast float to decimal

commit 22f4f0cf361e51d33ad2c5f4d80983f189ee88db
Author: Brennan Vincent <brennan@materialize.io>
Date:   Tue Nov 26 16:42:47 2019 -0500

    Revert "Merge pull request #11 from MaterializeInc/idempotent-create-sources-like"
    
    This reverts commit a88c83973f4b22a10ef38507430c54957ce5f871, reversing
    changes made to b0689fd54902224760009d93cac2ef27499c2dfb.

commit c2434abb14cd7d7291366b3754a3e3f38781a90d
Author: Sean Loiselle <himself@seanloiselle.com>
Date:   Thu Nov 21 22:58:04 2019 -0500

    sql: cast float to decimal

commit 1e008f1f8c01a295bb6f738046b1e456c5f6c395
Author: Brandon W Maister <bwm@materialize.io>
Date:   Tue Nov 26 16:23:29 2019 -0500

    Try to make test_partial_read more robust
    
    It takes a few milliseconds for log views to be created, apparently, because sometimes we
    were getting `1` simple query result instead of the expected 3.

commit da21ba73eedafa855350e364bb3a6da672cbd701
Author: Brandon W Maister <bwm@materialize.io>
Date:   Tue Nov 26 13:39:49 2019 -0500

    metrics: use the log crate, log a heartbeat ~every 60s

commit 7201e8cb7ca7329fe53feaea996509581f9b0d44
Author: Brandon W Maister <bwm@materialize.io>
Date:   Tue Nov 26 13:04:50 2019 -0500

    metrics: reduce granularity of histogram to match logs_peek_durations
    
    Since the grafana heatmap panel shows *every* row, even ones that have only ever had
    zeroes, this makes the client side heatmap in grafana a lot more readable.
    
    In addition, it matches more closely the values that show up as server-side.

commit 68e6f6d35b1d5235a2ea82443708076b79589574
Author: Brandon W Maister <bwm@materialize.io>
Date:   Tue Nov 26 11:15:15 2019 -0500

    metrics: Reset backoff on success
    
    We were ending up at 60s backoff and just staying there

commit abe691c222d1a4d69801d4d21c29063560634072
Author: Brandon W Maister <bwm@materialize.io>
Date:   Tue Nov 26 11:14:28 2019 -0500

    metrics: rename create_view_... to try_initialize
    
    In the future we'd like to automatically create sources, too, but right now chbench can't
    handle sources already existing.

commit 06b7b824895c4a5ee7a6ad0d3a3ec906a8d02b06
Author: Brandon W Maister <bwm@materialize.io>
Date:   Tue Nov 26 09:01:31 2019 -0500

    grafana: Make peek durations/latencies more useful
    
    This adds a grafana heatmap visualization for both client and server peek durations, and
    makes the server peek durations... readable.
    
    This uses the grafana histogram panel which you should read the first two sections of
    [the docs] for because it can be pretty confusing.
    
    This also makes the client side and server side views a bit different, because grafana
    cannot automatically subtract the values between two histogram buckets, and the
    underlying data format is annoying, but this allows us to have a slightly more accurate
    view on the server.
    
    Fixes #896
    Hopefully it helps a bit with #1074
    
    [the docs]: https://grafana.com/docs/features/panels/heatmap/

commit f0b5b578428539f7a5d535c61e4ef67ad8b6c9c2
Author: JLDLaughlin <JLDLaughlin@users.noreply.github.com>
Date:   Tue Nov 26 16:12:12 2019 -0500

    Decode bools from bytes (#1100)

commit 7b705e43cedc3fde2f890009f0430366f241fe85
Author: JLDLaughlin <JLDLaughlin@users.noreply.github.com>
Date:   Tue Nov 26 15:56:56 2019 -0500

    Parse text parameters (#1090)

commit a88c83973f4b22a10ef38507430c54957ce5f871
Merge: b0689fd54 a426e826d
Author: Brandon W Maister <bwm@materialize.io>
Date:   Tue Nov 26 15:12:36 2019 -0500

    Merge pull request #11 from MaterializeInc/idempotent-create-sources-like
    
    Change createAllSources to return all sources that match the like string

commit d97aac561eef2145cf1c0d564a803fce27d52f76
Author: JLDLaughlin <JLDLaughlin@users.noreply.github.com>
Date:   Tue Nov 26 15:05:15 2019 -0500

    Support replace() (#1095)

commit a426e826d534dd226cbbf7ba70cef6bb650b9c2a
Author: Brandon W Maister <bwm@materialize.io>
Date:   Tue Nov 26 14:52:09 2019 -0500

    Change createAllSources to return all sources that match the like string
    
    It no longer returns just the sources that were created. Since we're using it
    to assert that all the sources that we want are _present_, this is closer to
    the desired behavior.

commit bbe963c85e281d72742243f8df6903a06914f871
Merge: 59e06973a 90f581de3
Author: Brandon W Maister <bwm@materialize.io>
Date:   Tue Nov 26 14:39:01 2019 -0500

    Merge pull request #1086 from quodlibetor/support-text-casts
    
    Support casting to/from text for datums and float64s, respectively

commit 59e06973adcbdda671ea8bf1b546ab92d94a1868
Merge: df5b2285d b49494029
Author: Sean Loiselle <sean@materialize.io>
Date:   Tue Nov 26 14:32:40 2019 -0500

    Merge pull request #1083 from sploiselle/sql-functions
    
    docs: initial function and operator docs

commit df5b2285d966f3dce7576168a7d3db141af278fe
Author: Brennan Vincent <brennan@materialize.io>
Date:   Tue Nov 26 14:01:24 2019 -0500

    Allow static CSV sources. (#1060)
    
    Allow static CSV sources.

commit 90f581de3e2275e2359a2d45754551656518a701
Author: Brandon W Maister <bwm@materialize.io>
Date:   Mon Nov 25 16:41:15 2019 -0500

    Support casting most Datum variants to strings
    
    This punts on decimals and bytes because of mild inconvenience and not knowing what the
    output should be, respectively.

commit 13058f3d27be89f7fd2b0641878dfee03798c00c
Author: JLDLaughlin <JLDLaughlin@users.noreply.github.com>
Date:   Tue Nov 26 13:21:56 2019 -0500

    Add docker-compose logs to dc.sh` (#1092)

commit ab30fdce29914040fdd77b7d4f099cdc1990032e
Author: Brandon W Maister <bwm@materialize.io>
Date:   Mon Nov 25 16:03:25 2019 -0500

    Support parsing text to f64 via cast
    
    This is how it works in postgres

commit 2e92dfffa0c3136b9611773f0cfcd967135888e5
Merge: 10eadc470 cd72a3c8f
Author: Jamie Brandon <jamie@scattered-thoughts.net>
Date:   Tue Nov 26 08:11:08 2019 +0000

    Merge pull request #1084 from jamii/master
    
    Allow configuring urls used by metrics

commit 10eadc470648e7483d522130f4fd401569cdbe78
Author: JLDLaughlin <JLDLaughlin@users.noreply.github.com>
Date:   Mon Nov 25 17:05:49 2019 -0500

    Support date_trunc(precision, TIMESTAMP) (#1061)
    
    Closes #1057

commit cd72a3c8f0b2f96d76da872511d6149d14112d9d
Author: Jamie Brandon <jamie@scattered-thoughts.net>
Date:   Mon Nov 25 20:32:31 2019 +0000

    Allow configuring urls used by metrics

commit b4949402972e9c0ec52319e595f7c4b9ad1d40da
Author: sploiselle <sean@materialize.io>
Date:   Tue Nov 19 16:49:36 2019 -0500

    docs: initial function and operator docs

commit 36512b259d5ab0ed9bbb22b2290b5f2262c594b9
Merge: a4ef02afc 05ffac2aa
Author: Nikhil Benesch <nikhil.benesch@gmail.com>
Date:   Mon Nov 25 13:50:29 2019 -0500

    Merge pull request #1065 from benesch/decimal-str
    
    repr: absorb decimal parsing code from sql

commit a4ef02afc5a4aa71ee9a08ff13e685ae52acdce9
Merge: ca2aea6eb b23f5a19c
Author: Brandon W Maister <bwm@materialize.io>
Date:   Mon Nov 25 13:15:04 2019 -0500

    Merge pull request #1066 from MaterializeInc/dependabot/cargo/libfuzzer-sys-2542ae4
    
    build(deps): bump libfuzzer-sys from `4ad88ec` to `2542ae4`

commit ca2aea6ebac6eabf3fb0f06bf8a900c9947db879
Merge: 7002a6e21 24cebdc89
Author: Sean Loiselle <sean@materialize.io>
Date:   Mon Nov 25 13:11:50 2019 -0500

    Merge pull request #1081 from JLDLaughlin/readme_typo
    
    README typo

commit 7002a6e215130666a46b1ee1421ae4b4a9e07f54
Merge: 0f73be9f1 46d97a7d1
Author: Brandon W Maister <bwm@materialize.io>
Date:   Mon Nov 25 13:09:57 2019 -0500

    Merge pull request #1071 from MaterializeInc/dependabot/cargo/serde-1.0.103
    
    build(deps): bump serde from 1.0.102 to 1.0.103

commit 24cebdc894cdf1a7b4ee2aa2caaebbd80928af75
Author: JLDLaughlin <jessica@materialize.io>
Date:   Mon Nov 25 13:04:41 2019 -0500

    Fix README typo

commit 46d97a7d1ff348a60c9a6c5a6b6d6c7eee9266a5
Author: dependabot-preview[bot] <27856297+dependabot-preview[bot]@users.noreply.github.com>
Date:   Mon Nov 25 15:53:34 2019 +0000

    build(deps): bump serde from 1.0.102 to 1.0.103
    
    Bumps [serde](https://github.com/serde-rs/serde) from 1.0.102 to 1.0.103.
    - [Release notes](https://github.com/serde-rs/serde/releases)
    - [Commits](https://github.com/serde-rs/serde/compare/v1.0.102...v1.0.103)
    
    Signed-off-by: dependabot-preview[bot] <support@dependabot.com>

commit 0f73be9f1ec4b9393dd3daafbd03bfa73e621aef
Merge: dfbb6e704 4ca5f3344
Author: Brandon W Maister <bwm@materialize.io>
Date:   Mon Nov 25 10:51:41 2019 -0500

    Merge pull request #1069 from MaterializeInc/dependabot/cargo/chrono-0.4.10
    
    build(deps): bump chrono from 0.4.9 to 0.4.10

commit dfbb6e704f1373914e412db6d187ec0b556c1cea
Merge: d857dcd40 15a6c46cb
Author: Nikhil Benesch <nikhil.benesch@gmail.com>
Date:   Mon Nov 25 10:50:43 2019 -0500

    Merge pull request #1075 from benesch/rdkafka-bump
    
    deps: bump to latest master of rust-rdkafka

commit 15a6c46cbda221de7fa9cec8469205be315146fd
Author: Nikhil Benesch <nikhil.benesch@gmail.com>
Date:   Mon Nov 25 10:36:08 2019 -0500

    Remove Nix configuration
    
    This is moving to the mtrlz-setup repository.

commit 2d502ac4c350c3916a2eb1632723f522fb6e18e2
Author: Nikhil Benesch <nikhil.benesch@gmail.com>
Date:   Mon Nov 25 10:20:33 2019 -0500

    deps: bump to latest master of rust-rdkafka
    
    We no longer need our own fork, as all of our patches have been merged
    upstream. Upstream also does not exhibit the bug that was causing
    rdkafka to segfault on macOS--a result of our fork using an unreleased
    version of the underlying librdkafka C library.
    
    The upgraded version of rust-rdkafka does not depend on bindgen, and so
    we no longer have a dependency on clang/libllvm.

commit d857dcd4046781afa263e1cbcb5d7fbc61a65bc9
Merge: 84f35d902 0c619b736
Author: Brandon W Maister <bwm@materialize.io>
Date:   Mon Nov 25 10:28:51 2019 -0500

    Merge pull request #1067 from MaterializeInc/dependabot/cargo/unicase-2.6.0
    
    build(deps): bump unicase from 2.5.1 to 2.6.0

commit 84f35d902306ddaa4c7f64f7929802d32761f2a2
Merge: 40700351a c6d0abb05
Author: Brandon W Maister <bwm@materialize.io>
Date:   Mon Nov 25 10:23:57 2019 -0500

    Merge pull request #1068 from MaterializeInc/dependabot/cargo/itertools-0.8.2
    
    build(deps): bump itertools from 0.8.1 to 0.8.2

commit 4ca5f3344d495a1c09cbd8569c48274b440bbfec
Author: dependabot-preview[bot] <27856297+dependabot-preview[bot]@users.noreply.github.com>
Date:   Mon Nov 25 15:06:56 2019 +0000

    build(deps): bump chrono from 0.4.9 to 0.4.10
    
    Bumps [chrono](https://github.com/chronotope/chrono) from 0.4.9 to 0.4.10.
    - [Release notes](https://github.com/chronotope/chrono/releases)
    - [Changelog](https://github.com/chronotope/chrono/blob/master/CHANGELOG.md)
    - [Commits](https://github.com/chronotope/chrono/compare/v0.4.9...v0.4.10)
    
    Signed-off-by: dependabot-preview[bot] <support@dependabot.com>

commit 40700351a2d5c8f34e00f9f8e9451fb8d13d06f3
Merge: ab3160977 97df8db10
Author: Nikhil Benesch <nikhil.benesch@gmail.com>
Date:   Mon Nov 25 10:04:47 2019 -0500

    Merge pull request #1072 from MaterializeInc/dependabot/cargo/serde_json-1.0.42
    
    build(deps): bump serde_json from 1.0.41 to 1.0.42

commit ab31609775cf5d9c0e54f84d1636de3d23ea09a5
Merge: 7aa1fa49d 4412cd50d
Author: Frank McSherry <fmcsherry@me.com>
Date:   Mon Nov 25 06:55:39 2019 -0800

    Merge pull request #1073 from MaterializeInc/dependabot/cargo/timely-2b2a777
    
    build(deps): bump timely from `db7efb8` to `2b2a777`

commit b0689fd54902224760009d93cac2ef27499c2dfb
Author: Jamie Brandon <jamie@scattered-thoughts.net>
Date:   Mon Nov 25 13:51:20 2019 +0000

    Don't require a transactional thread to be running.
    
    This is useful if you want to try turning different threads on and off
    to track down performance problems.

commit 4412cd50d6ee4d038eb630179d315678a155dddb
Author: dependabot-preview[bot] <27856297+dependabot-preview[bot]@users.noreply.github.com>
Date:   Mon Nov 25 10:43:42 2019 +0000

    build(deps): bump timely from `db7efb8` to `2b2a777`
    
    Bumps [timely](https://github.com/TimelyDataflow/timely-dataflow) from `db7efb8` to `2b2a777`.
    - [Release notes](https://github.com/TimelyDataflow/timely-dataflow/releases)
    - [Commits](https://github.com/TimelyDataflow/timely-dataflow/compare/db7efb8e63dcfa184262ce0cffabad3c41eed0c0...2b2a777fbf3d3981c32f4d474bb3c9d890d38b3f)
    
    Signed-off-by: dependabot-preview[bot] <support@dependabot.com>

commit 97df8db10c1a5b3e1ea11e798fdac0f3c2de7381
Author: dependabot-preview[bot] <27856297+dependabot-preview[bot]@users.noreply.github.com>
Date:   Mon Nov 25 10:42:25 2019 +0000

    build(deps): bump serde_json from 1.0.41 to 1.0.42
    
    Bumps [serde_json](https://github.com/serde-rs/json) from 1.0.41 to 1.0.42.
    - [Release notes](https://github.com/serde-rs/json/releases)
    - [Commits](https://github.com/serde-rs/json/compare/v1.0.41...v1.0.42)
    
    Signed-off-by: dependabot-preview[bot] <support@dependabot.com>

commit c6d0abb0566310ec4456c8186efee95b30b71d3f
Author: dependabot-preview[bot] <27856297+dependabot-preview[bot]@users.noreply.github.com>
Date:   Mon Nov 25 10:39:38 2019 +0000

    build(deps): bump itertools from 0.8.1 to 0.8.2
    
    Bumps [itertools](https://github.com/bluss/rust-itertools) from 0.8.1 to 0.8.2.
    - [Release notes](https://github.com/bluss/rust-itertools/releases)
    - [Commits](https://github.com/bluss/rust-itertools/commits/v0.8.2)
    
    Signed-off-by: dependabot-preview[bot] <support@dependabot.com>

commit 0c619b73652700e57d1efd042a2043c9c4b49872
Author: dependabot-preview[bot] <27856297+dependabot-preview[bot]@users.noreply.github.com>
Date:   Mon Nov 25 10:39:07 2019 +0000

    build(deps): bump unicase from 2.5.1 to 2.6.0
    
    Bumps [unicase](https://github.com/seanmonstar/unicase) from 2.5.1 to 2.6.0.
    - [Release notes](https://github.com/seanmonstar/unicase/releases)
    - [Commits](https://github.com/seanmonstar/unicase/compare/v2.5.1...v2.6.0)
    
    Signed-off-by: dependabot-preview[bot] <support@dependabot.com>

commit b23f5a19cad8036ac254d630d1957b2b61da4aae
Author: dependabot-preview[bot] <27856297+dependabot-preview[bot]@users.noreply.github.com>
Date:   Mon Nov 25 10:38:44 2019 +0000

    build(deps): bump libfuzzer-sys from `4ad88ec` to `2542ae4`
    
    Bumps [libfuzzer-sys](https://github.com/rust-fuzz/libfuzzer-sys) from `4ad88ec` to `2542ae4`.
    - [Release notes](https://github.com/rust-fuzz/libfuzzer-sys/releases)
    - [Commits](https://github.com/rust-fuzz/libfuzzer-sys/compare/4ad88ec54fa2e7a0c877b6477cc86ea0de14a90d...2542ae41f2ac52a6baa58417a8ad8903fef231f9)
    
    Signed-off-by: dependabot-preview[bot] <support@dependabot.com>

commit 05ffac2aa277f47db6c8117876db778fe16eabe5
Author: Nikhil Benesch <nikhil.benesch@gmail.com>
Date:   Sun Nov 24 23:01:14 2019 -0500

    repr: absorb decimal parsing code from sql
    
    This logic never really belonged in the SQL parser, since it's not at
    all SQL specific. Moving the logic into repr will allow it to be used in
    other places, like float to decimal conversions (see #1059).

commit 7aa1fa49d08c43aa9f3557c0138b7d1eb39d4936
Merge: 928c58cd3 4f2340c7b
Author: Brandon W Maister <bwm@materialize.io>
Date:   Sun Nov 24 17:45:21 2019 -0500

    Merge pull request #1064 from quodlibetor/cute-runv
    
    Make runv stick out more in logs

commit 928c58cd354f74a55b633bf2b30577789718e518
Author: Brennan Vincent <brennan@materialize.io>
Date:   Sun Nov 24 12:07:14 2019 -0500

    correct homepage (#1063)

commit 4f2340c7b16a600d565cfaa59879aba3c0a06ca8
Author: Brandon W Maister <bwm@materialize.io>
Date:   Sat Nov 23 18:29:23 2019 -0500

    Make runv stick out more in logs
    
    The `run>` word just looks a lot like the text that it is often interspersed with. I
    wanted something that would stick out but not be too distracting, I'm happy to change
    this to something less cute or more functional if anyone has ideas (I read this prompt as
    "launch shell command") but the plain white text was annoyingly hard to spot when just
    glancing.

commit 69032f44c773e3be90a4059cfe1b7ee1f20e8c61
Author: Nikhil Benesch <nikhil.benesch@gmail.com>
Date:   Fri Nov 22 16:18:35 2019 -0500

    lint: fix merge skew (#1062)

commit 7c562778a14fb1c732e61ea3143195e7376cb081
Merge: 2b453ecad 2df61e939
Author: Frank McSherry <fmcsherry@me.com>
Date:   Thu Nov 21 11:19:07 2019 -0800

    Merge pull request #1038 from frankmcsherry/coordinate_frontiers_less
    
    Reduce frontier coordination if stable.

commit 2b453ecadd67485beaad1bc9b499384e9ec8ef0a
Merge: 74d74e97d 0d0dce1b2
Author: Nikhil Benesch <nikhil.benesch@gmail.com>
Date:   Thu Nov 21 13:32:22 2019 -0500

    Merge pull request #985 from benesch/docs-ocd
    
    www: tiny nits

commit 74d74e97d27c434b8ca62947ee209684eb6498a7
Merge: e674e2b0a a9b991516
Author: Nikhil Benesch <nikhil.benesch@gmail.com>
Date:   Wed Nov 20 18:46:08 2019 -0500

    Merge pull request #1045 from benesch/slt-error-messages
    
    sqllogictest: validate error messages

commit a9b991516e918b54ec0670cc0a2e9b4531f34281
Author: Nikhil Benesch <nikhil.benesch@gmail.com>
Date:   Wed Nov 20 16:32:41 2019 -0500

    sqllogictest: validate error messages
    
    Fix #618.

commit e674e2b0ac6b9606f11ed175b7cba017f634608a
Merge: 25471700a 4f988a1ec
Author: Nikhil Benesch <nikhil.benesch@gmail.com>
Date:   Wed Nov 20 17:58:18 2019 -0500

    Merge pull request #1043 from benesch/ident-func
    
    sql: support identifier functions like CURRENT_TIMESTAMP

commit 25471700a1709a49c8ea26b347b80ed12cc64174
Author: JLDLaughlin <JLDLaughlin@users.noreply.github.com>
Date:   Wed Nov 20 17:05:02 2019 -0500

    Support specific to_char() case for Metabase (#1046)
    
    The Metabase PostgreSQL driver runs the following query: `select to_char(current_timestamp, 'YYYY-MM-DD HH24:MI:SS.MS TZ')`. This change adds support for that specific to_char() case, leaving others to be implemented later.`

commit bfb22083b981ac9b0c54fdc27a8fb717ef0201f4
Merge: 11bd27e1d b86fe79a6
Author: Brandon W Maister <bwm@materialize.io>
Date:   Wed Nov 20 16:45:01 2019 -0500

    Merge pull request #1004 from quodlibetor/pgwire-max-messages
    
    Support max_rows in `execute(portal, max_rows)`

commit 11bd27e1da5cf5f4be6ec89b74fa1cdda9ab11fb
Author: JLDLaughlin <JLDLaughlin@users.noreply.github.com>
Date:   Wed Nov 20 16:00:15 2019 -0500

    Datum::String(&'a str) -> String(Cow<'a, str>) (#1042)
    
    Allow Datum::String to own its data, necessary for returning String values from SQL functions like to_char()

commit b86fe79a6a2c2aafa271a1ba444d0ce3ff1f3802
Author: Brandon W Maister <bwm@materialize.io>
Date:   Fri Nov 15 16:43:16 2019 -0500

    pgwire: Support portal suspension and resumption
    
    This also fixes a latent issue where we weren't sending `CloseComplete` messages for
    ClosePortal/CloseStatement
    
    Fixes #1030

commit 4f988a1eca7ec755f353e898d1a585e31d1a64bc
Author: Nikhil Benesch <nikhil.benesch@gmail.com>
Date:   Tue Nov 19 13:50:52 2019 -0500

    sql: support identifier functions like CURRENT_TIMESTAMP
    
    Support what I'm calling "identifier functions", which are magic
    identifiers that are actually function calls. To kick things off,
    support CURRENT_TIMESTAMP. There a bunch more magic identifiers, like
    CURRENT_USER, but we can get to those when we have support for the
    underlying functions.

commit e015649864709a52f684b5533aea063cffd454d8
Author: Brandon W Maister <bwm@materialize.io>
Date:   Tue Nov 19 14:24:07 2019 -0500

    impl fmt::Debug for Row in terms of its internal datums
    
    Also use that debug form in the handle_bind protocol trace logs

commit 4fc061456c19cff8d7a9a37fa40e33f429d22bfc
Author: Brandon W Maister <bwm@materialize.io>
Date:   Tue Nov 19 14:41:46 2019 -0500

    mzd int tests: Support starting the mz server in symbiosis mode
    
    This will make it possible to test exact output in tests

commit d78f9059d790a2cd32935755971920a1a7bcfbdf
Author: Brandon W Maister <bwm@materialize.io>
Date:   Tue Nov 19 12:03:15 2019 -0500

    mzd int tests: Add a util::TestResult type alias
    
    Everything should use the same type, this will both help enforce that and make writing
    tests a tiny bit easier.

commit 9fa41d155de790def26687dfd030e2d9687f0e5d
Merge: 127437db4 46a8c63f6
Author: Nikhil Benesch <nikhil.benesch@gmail.com>
Date:   Wed Nov 20 12:43:25 2019 -0500

    Merge pull request #1037 from benesch/slt-cockroach-tests
    
    test: enable some more SLT tests

commit 46a8c63f60df99b8b45973780109c9a55e2c3029
Author: Nikhil Benesch <nikhil.benesch@gmail.com>
Date:   Tue Nov 19 23:52:42 2019 -0500

    test: enable some more SLT tests

commit 127437db43c02dbf62ddcd0c99138dc2ae4540be
Merge: 10c3c65d2 7dc0d984d
Author: Nikhil Benesch <nikhil.benesch@gmail.com>
Date:   Wed Nov 20 11:57:32 2019 -0500

    Merge pull request #1036 from benesch/integration-logging
    
    dataflow: fix shutdown command processing

commit 2df61e939eac292e1abcd4a2d0b0b44db306eb60
Author: Frank McSherry <fmcsherry@me.com>
Date:   Wed Nov 20 11:33:23 2019 -0500

    Reduce frontier coordination if stable.
    
    Each worker tracks for each maintained trace the most recent frontier it has reported to the coordinator. Each time around the loop, it means to report any changes back to the coordinator. Right now it determines the changes and reports all of them, independent of which changes are non-empty. This PR changes the behavior to suppress reporting empty change sets, and further to avoid the work in the first place if the frontiers are stable (avoiding some allocation work).

commit 7dc0d984d7376f97bfed9448d6ebd3ef473aa929
Author: Nikhil Benesch <nikhil.benesch@gmail.com>
Date:   Tue Nov 19 23:31:48 2019 -0500

    dataflow: fix shutdown command processing
    
    Actually call Worker::handle_command when a SequencedCommand::Shutdown
    command arrives. The old implementation was skipping this step, which
    was preventing logging from being disabled, which was preventing servers
    from cleanly shutting down when logging was enabled.
    
    Fix #1033.

commit 10c3c65d2094d6ea2024f7a1a75cb09791670d91
Merge: e5a3dff20 ff1204ea1
Author: Frank McSherry <fmcsherry@me.com>
Date:   Wed Nov 20 06:30:13 2019 -0800

    Merge pull request #1032 from frankmcsherry/optional_compaction
    
    Make compaction latency optional.

commit ff1204ea14508f0f6778f60fc592080b7995d34b
Merge: 39880cfae e5a3dff20
Author: Frank McSherry <fmcsherry@me.com>
Date:   Wed Nov 20 06:15:43 2019 -0800

    Merge branch 'master' into optional_compaction

commit e5a3dff2029c3b2564c0589aa51b922683bc04c5
Merge: 7995c547f b0d6698db
Author: Nikhil Benesch <nikhil.benesch@gmail.com>
Date:   Tue Nov 19 23:54:14 2019 -0500

    Merge pull request #997 from MaterializeInc/persistence
    
    catalog: persist catalog items

commit 7995c547fedb9312d852c836b69fcb610c69931f
Merge: 2e35c3e47 bbbdf7d92
Author: Sean Loiselle <sean@materialize.io>
Date:   Tue Nov 19 23:31:28 2019 -0500

    Merge pull request #1035 from sploiselle/type-check-not
    
    check types of NOT operation

commit b0d6698db689c525957cd7bdafd73dd3a6cc0413
Author: Nikhil Benesch <nikhil.benesch@gmail.com>
Date:   Thu Nov 14 20:12:14 2019 -0500

    catalog: persist catalog items
    
    Add single-node persistence for the catalog. Restarting a materialized
    server will automatically install the same sources and views that were
    present when the server was shutdown.
    
    The catalog is stored on disk using SQLite. The default location is
    "mzdata/catalog", relative to the CWD of materialized, but can be
    configured with the --data-directory command line flag.

commit bbbdf7d9265feb096ba9d4242b6da58a82c709ba
Author: sploiselle <sean@materialize.io>
Date:   Tue Nov 19 17:17:14 2019 -0500

    check types of NOT operation

commit 2e35c3e474796f4e76c49503a4896dadb4a91050
Merge: 18b72d926 033d53679
Author: Nikhil Benesch <nikhil.benesch@gmail.com>
Date:   Tue Nov 19 17:08:18 2019 -0500

    Merge pull request #1029 from benesch/no-time-type
    
    repr: remove ScalarType::Time variant

commit 18b72d926d4560f7a5473a32e316f233e4680c7c
Author: Brennan Vincent <brennan@materialize.io>
Date:   Tue Nov 19 16:59:32 2019 -0500

    Allow grouping by column index (same logic as order by) (#1034)

commit 39880cfae65da923e0a790ce833cbeb2ee4fc9c1
Author: Frank McSherry <fmcsherry@me.com>
Date:   Tue Nov 19 16:09:29 2019 -0500

    Make compaction latency optional.

commit 752c68ef3fe9780cc6afee96c956ce5fc2f2a880
Author: Jamie Brandon <jamie@scattered-thoughts.net>
Date:   Tue Nov 19 19:56:14 2019 +0000

    Unbitrot pthreads shim

commit 6138bf922e67e1619837b2f6f24b5974fa0211a4
Merge: 465a0cce2 cd09f3395
Author: Nikhil Benesch <nikhil.benesch@gmail.com>
Date:   Tue Nov 19 14:44:50 2019 -0500

    Merge pull request #1025 from benesch/names
    
    dataflow,expr: introduce proper id type

commit 033d53679084de384bee402d84901dd6239eaea8
Author: Nikhil Benesch <nikhil.benesch@gmail.com>
Date:   Tue Nov 19 14:42:13 2019 -0500

    repr: remove ScalarType::Time variant
    
    ScalarType::Time is an ancient ScalarType variant (added in 2f2e334cf)
    that cannot be constructed, as there is no Datum::Time variant and never
    has been. We're not planning on supporting the SQL time type for quite a
    while (it has insane semantics around timezones that make it virtually
    useless), so just remove ScalarType::Time so that everyone doesn't need
    to invent their own way to ignore the variant.

commit cd09f3395284b6bed8de07e406c4274363a11344
Author: Nikhil Benesch <nikhil.benesch@gmail.com>
Date:   Sat Nov 16 19:20:04 2019 -0500

    dataflow,expr: introduce proper id type
    
    This commit works towards a longstanding goal of a proper ID type for
    "dataflow components", where a "dataflow component" is roughly anything
    that can be the target of a RelationExpr::Get expression.
    
    Previously, we were using simple string names (or, more recently,
    QualNames) across the entire system. But names are a SQL concept, doubly
    so when qualified, and the dataflow layer really wants to deal with
    something simpler and cheaper. Enter expr::Id.
    
    An expr::Id is either in the local or global namespace; the global
    namespace is further subdivided into system and user namespaces. Within
    each namespace, identifiers are simply a usize. This makes it dead
    simple to allocate IDs, as each layer can use its own ID allocator.
    (System global IDs are hardcoded into the binary; user global IDs are
    allocated by the catalog; and local IDs are allocated whenever a
    RelationExpr is built.)
    
    Fix #993.

commit 465a0cce2e0e8c09329589ab61c9f4be3e884384
Merge: aaffd3e9d d8eb87620
Author: wangandi <5522362+wangandi@users.noreply.github.com>
Date:   Tue Nov 19 14:14:51 2019 -0500

    Merge pull request #977 from wangandi/dedupjoin
    
    Make use of `demand` to reduce number of columns being used during join.

commit aaffd3e9d1c364cc6b6d4a8258ff0c25181d7b32
Author: JLDLaughlin <JLDLaughlin@users.noreply.github.com>
Date:   Tue Nov 19 12:16:36 2019 -0500

    Refactor QueryContext creation (#1024)
    
    Simplify creating 1) new QueryContexts and 2) nested QueryContexts, ensuring that each overall query uses exactly one current_timestamp value.

commit d8eb876209f2faeb6427a7563ddb544f675364d9
Author: Andi Wang <andi@materialize.io>
Date:   Mon Nov 18 16:51:18 2019 -0500

    Eliminate columns no longer needed in the join + columns not needed from the first input.

commit e548eb6c3249933ef375499fd5351e2228353e8c
Author: Andi Wang <andi@materialize.io>
Date:   Thu Nov 14 15:58:16 2019 -0500

    Conform to clippy.

commit 15cb29309df6d52f4af235a0199671a238b629b3
Author: Andi Wang <andi@materialize.io>
Date:   Thu Nov 14 15:47:13 2019 -0500

    Fix test failures in select <constant> from <2+ tables> group by <a column>.
    Address Frank's concern about not returning null if column is not nullable.

commit be9642e5201668d5f134ba94dabaeb20ee89ab90
Author: Andi Wang <andi@materialize.io>
Date:   Tue Nov 12 13:49:19 2019 -0500

    Make use of demand to reduce number of columns being used during join.

commit f851f30448acaa141afb1f5ec10c41eb06650ff2
Author: JLDLaughlin <JLDLaughlin@users.noreply.github.com>
Date:   Mon Nov 18 17:54:19 2019 -0500

    Support now(), current_timestamp() in SELECTs (#1020)

commit 25ec2cb2439275a251b8213d184c3808cfb863e8
Merge: 48f9fc659 744fcbf0c
Author: Sean Loiselle <sean@materialize.io>
Date:   Mon Nov 18 16:38:10 2019 -0500

    Merge pull request #1023 from sploiselle/slt-logging
    
    include SLT logging flag in docs

commit 744fcbf0cc266702ed662bb2c3ee217ba0a7a073
Author: sploiselle <sean@materialize.io>
Date:   Mon Nov 18 16:35:48 2019 -0500

    include SLT logging flag in docs

commit 48f9fc659e45a79103dd63abef541dfcdc863301
Merge: b0bb0d39f f54be87ea
Author: Nikhil Benesch <nikhil.benesch@gmail.com>
Date:   Mon Nov 18 16:22:30 2019 -0500

    Merge pull request #1013 from MaterializeInc/dependabot/cargo/cc-1.0.47
    
    build(deps): bump cc from 1.0.37 to 1.0.47

commit b0bb0d39f19046b8a5a31de31040f63c8f4cedd4
Merge: 20a540cb8 c5b50aec5
Author: Sean Loiselle <sean@materialize.io>
Date:   Mon Nov 18 16:20:18 2019 -0500

    Merge pull request #1018 from sploiselle/length-function
    
    Length function and encoding package

commit c5b50aec5a5f997c1747fe00848c5e93d354b522
Author: Sean Loiselle <himself@seanloiselle.com>
Date:   Sat Nov 16 22:29:52 2019 -0500

    add length function and encoding package to support it

commit f54be87ea2d96079945098fe105f478b60a730df
Author: dependabot-preview[bot] <27856297+dependabot-preview[bot]@users.noreply.github.com>
Date:   Mon Nov 18 19:59:12 2019 +0000

    build(deps): bump cc from 1.0.37 to 1.0.47
    
    Bumps [cc](https://github.com/alexcrichton/cc-rs) from 1.0.37 to 1.0.47.
    - [Release notes](https://github.com/alexcrichton/cc-rs/releases)
    - [Commits](https://github.com/alexcrichton/cc-rs/compare/1.0.37...1.0.47)
    
    Signed-off-by: dependabot-preview[bot] <support@dependabot.com>

commit 20a540cb8876cda2514bf9ece1e907d89ba1aacc
Author: Nikhil Benesch <nikhil.benesch@gmail.com>
Date:   Mon Nov 18 14:57:11 2019 -0500

    materialized: various integration test adjustments (#1008)
    
    * materialized: assert number of rows in prepared test
    
    The previous test would erroneously succeed if the query incorrectly
    returned zero rows.
    
    * materialized: let kernel choose free port
    
    Rather than trying to pick a random port for materialized to listen on
    in tests, let the kernel choose a free port by specifying port 0, and
    communicate the chosen port back to the test.
    
    * materialized: don't allow configuring the version
    
    The crate version is a property of the crate itself, so it was kind of
    weird to allow the user of the crate to pass in the version. Invert that
    flow, so that the crate hardcodes its own version, and downstream
    dependencies can query its version as necessary.

commit 3f65888cd4367a3281cd82e08db6c723826d21ea
Merge: ff4f0a0f2 54b15cbae
Author: Ruchir Khaitan <ruchir0001@gmail.com>
Date:   Mon Nov 18 14:43:42 2019 -0500

    Merge pull request #917 from ruchirK/timestamptz
    
    timestamptz work

commit 54b15cbae01d6f41831052691655c6b17b56b691
Author: Ruchir Khaitan <ruchir0001@gmail.com>
Date:   Tue Nov 5 11:11:08 2019 -0500

    Add support for timestamptz / timestamp with time zone (#855)

commit ff4f0a0f2426751a2924f84488a8b5195fad8260
Merge: edf5db030 9d45cf434
Author: Nikhil Benesch <nikhil.benesch@gmail.com>
Date:   Mon Nov 18 13:52:23 2019 -0500

    Merge pull request #1005 from benesch/names
    
    repr: introduce ColumnName type

commit edf5db030d21bf86d2f9ce5ba67cceadd378a80e
Merge: 8ee8b7311 d7b941c23
Author: Nikhil Benesch <nikhil.benesch@gmail.com>
Date:   Mon Nov 18 13:23:21 2019 -0500

    Merge pull request #1009 from benesch/pgwire-shrink
    
    pgwire: gentle cleanup

commit 8ee8b731156d4355dfd343e0c0500950f2d47b66
Merge: 1b91c7499 17edfccdf
Author: Nikhil Benesch <nikhil.benesch@gmail.com>
Date:   Mon Nov 18 13:22:30 2019 -0500

    Merge pull request #1014 from MaterializeInc/dependabot/cargo/serde_derive-1.0.102
    
    build(deps): bump serde_derive from 1.0.99 to 1.0.102

commit 1b91c74996afc7029c6cdfe6e18cd384e5407186
Merge: af453ad12 b4b581f49
Author: Nikhil Benesch <nikhil.benesch@gmail.com>
Date:   Mon Nov 18 13:21:47 2019 -0500

    Merge pull request #1012 from MaterializeInc/dependabot/cargo/openssl-0.10.25
    
    build(deps): bump openssl from 0.10.23 to 0.10.25

commit af453ad123aa41b1e6fb12d84250fbc18ddd64f1
Merge: fc312ff83 47699666c
Author: Nikhil Benesch <nikhil.benesch@gmail.com>
Date:   Mon Nov 18 13:21:30 2019 -0500

    Merge pull request #1011 from MaterializeInc/dependabot/cargo/libflate-0.1.27
    
    build(deps): bump libflate from 0.1.25 to 0.1.27

commit fc312ff832523e166249148ebd1da997376ca542
Merge: 6dc680385 98fdfad54
Author: Nikhil Benesch <nikhil.benesch@gmail.com>
Date:   Mon Nov 18 13:20:32 2019 -0500

    Merge pull request #1010 from MaterializeInc/dependabot/cargo/synstructure-0.12.3
    
    build(deps): bump synstructure from 0.12.1 to 0.12.3

commit 6dc68038556c797c475dacfed9b4d470af94b066
Merge: 57c347ec8 bdb59a618
Author: Nikhil Benesch <nikhil.benesch@gmail.com>
Date:   Mon Nov 18 13:19:56 2019 -0500

    Merge pull request #1015 from MaterializeInc/dependabot/cargo/adler32-1.0.4
    
    build(deps): bump adler32 from 1.0.3 to 1.0.4

commit 57c347ec8a65cd9e5665724a2876e91d3883dbb5
Merge: e967954f1 a4492c3f7
Author: Nikhil Benesch <nikhil.benesch@gmail.com>
Date:   Mon Nov 18 13:19:17 2019 -0500

    Merge pull request #1016 from MaterializeInc/dependabot/cargo/vcpkg-0.2.7
    
    build(deps): bump vcpkg from 0.2.6 to 0.2.7

commit e967954f19d18b3d442b7d6c6d013f3573db54ca
Merge: c2fd2dd24 3e6e2e11e
Author: Nikhil Benesch <nikhil.benesch@gmail.com>
Date:   Mon Nov 18 13:18:55 2019 -0500

    Merge pull request #1017 from MaterializeInc/dependabot/cargo/unicode-segmentation-1.6.0
    
    build(deps): bump unicode-segmentation from 1.3.0 to 1.6.0

commit c2fd2dd2436e95d827d7db86f7a3faa02ee74441
Merge: d6c2c0729 23116439b
Author: Nikhil Benesch <nikhil.benesch@gmail.com>
Date:   Mon Nov 18 13:17:47 2019 -0500

    Merge pull request #1007 from benesch/coord-cleanup
    
    coord: complete merge of queue thread and coordinator

commit 97962cf7215472b0929bfd997b72b3550b3cbc6f
Author: dependabot-preview[bot] <27856297+dependabot-preview[bot]@users.noreply.github.com>
Date:   Thu Nov 14 06:54:15 2019 +0000

    build(deps): bump unicode-width from 0.1.5 to 0.1.6
    
    Bumps [unicode-width](https://github.com/unicode-rs/unicode-width) from 0.1.5 to 0.1.6.
    - [Release notes](https://github.com/unicode-rs/unicode-width/releases)
    - [Commits](https://github.com/unicode-rs/unicode-width/commits/0.1.6)
    
    Signed-off-by: dependabot-preview[bot] <support@dependabot.com>

commit a4492c3f7ae0e8361753362301d715d737ba4169
Author: dependabot-preview[bot] <27856297+dependabot-preview[bot]@users.noreply.github.com>
Date:   Mon Nov 18 10:41:09 2019 +0000

    build(deps): bump vcpkg from 0.2.6 to 0.2.7
    
    Bumps [vcpkg](https://github.com/mcgoo/vcpkg-rs) from 0.2.6 to 0.2.7.
    - [Release notes](https://github.com/mcgoo/vcpkg-rs/releases)
    - [Changelog](https://github.com/mcgoo/vcpkg-rs/blob/master/CHANGELOG.md)
    - [Commits](https://github.com/mcgoo/vcpkg-rs/commits)
    
    Signed-off-by: dependabot-preview[bot] <support@dependabot.com>

commit 3e6e2e11e25210d1cffe3ae6e530ae7da3aae90d
Author: dependabot-preview[bot] <27856297+dependabot-preview[bot]@users.noreply.github.com>
Date:   Mon Nov 18 10:41:07 2019 +0000

    build(deps): bump unicode-segmentation from 1.3.0 to 1.6.0
    
    Bumps [unicode-segmentation](https://github.com/unicode-rs/unicode-segmentation) from 1.3.0 to 1.6.0.
    - [Release notes](https://github.com/unicode-rs/unicode-segmentation/releases)
    - [Commits](https://github.com/unicode-rs/unicode-segmentation/commits/v1.6.0)
    
    Signed-off-by: dependabot-preview[bot] <support@dependabot.com>

commit bdb59a618500caa15dfae670c2a553b1d462058c
Author: dependabot-preview[bot] <27856297+dependabot-preview[bot]@users.noreply.github.com>
Date:   Mon Nov 18 10:39:59 2019 +0000

    build(deps): bump adler32 from 1.0.3 to 1.0.4
    
    Bumps [adler32](https://github.com/remram44/adler32-rs) from 1.0.3 to 1.0.4.
    - [Release notes](https://github.com/remram44/adler32-rs/releases)
    - [Commits](https://github.com/remram44/adler32-rs/compare/1.0.3...1.0.4)
    
    Signed-off-by: dependabot-preview[bot] <support@dependabot.com>

commit 17edfccdff9e334ea16ddc377c74bca59b5ca52a
Author: dependabot-preview[bot] <27856297+dependabot-preview[bot]@users.noreply.github.com>
Date:   Mon Nov 18 10:39:27 2019 +0000

    build(deps): bump serde_derive from 1.0.99 to 1.0.102
    
    Bumps [serde_derive](https://github.com/serde-rs/serde) from 1.0.99 to 1.0.102.
    - [Release notes](https://github.com/serde-rs/serde/releases)
    - [Commits](https://github.com/serde-rs/serde/compare/v1.0.99...v1.0.102)
    
    Signed-off-by: dependabot-preview[bot] <support@dependabot.com>

commit b4b581f49200283b2be27bff765f1f872884560d
Author: dependabot-preview[bot] <27856297+dependabot-preview[bot]@users.noreply.github.com>
Date:   Mon Nov 18 10:38:08 2019 +0000

    build(deps): bump openssl from 0.10.23 to 0.10.25
    
    Bumps [openssl](https://github.com/sfackler/rust-openssl) from 0.10.23 to 0.10.25.
    - [Release notes](https://github.com/sfackler/rust-openssl/releases)
    - [Commits](https://github.com/sfackler/rust-openssl/compare/openssl-v0.10.23...openssl-v0.10.25)
    
    Signed-off-by: dependabot-preview[bot] <support@dependabot.com>

commit 47699666cc03ce847d5e6b1c1873098d72fbcd13
Author: dependabot-preview[bot] <27856297+dependabot-preview[bot]@users.noreply.github.com>
Date:   Mon Nov 18 10:37:41 2019 +0000

    build(deps): bump libflate from 0.1.25 to 0.1.27
    
    Bumps [libflate](https://github.com/sile/libflate) from 0.1.25 to 0.1.27.
    - [Release notes](https://github.com/sile/libflate/releases)
    - [Commits](https://github.com/sile/libflate/compare/0.1.25...0.1.27)
    
    Signed-off-by: dependabot-preview[bot] <support@dependabot.com>

commit 98fdfad541e35e7a7a09273812a65e8056db6242
Author: dependabot-preview[bot] <27856297+dependabot-preview[bot]@users.noreply.github.com>
Date:   Mon Nov 18 10:37:13 2019 +0000

    build(deps): bump synstructure from 0.12.1 to 0.12.3
    
    Bumps [synstructure](https://github.com/mystor/synstructure) from 0.12.1 to 0.12.3.
    - [Release notes](https://github.com/mystor/synstructure/releases)
    - [Commits](https://github.com/mystor/synstructure/commits)
    
    Signed-off-by: dependabot-preview[bot] <support@dependabot.com>

commit d7b941c236deafaa40e1514331b9b137afd7aeab
Author: Nikhil Benesch <nikhil.benesch@gmail.com>
Date:   Sun Nov 17 22:47:30 2019 -0500

    pgwire: remove SendAuthenticationOk

commit e4819c3a39d90391201c56409c69a3c8b7ed08a3
Author: Nikhil Benesch <nikhil.benesch@gmail.com>
Date:   Sun Nov 17 22:28:15 2019 -0500

    pgwire: order enum and trait methods sensibly
    
    This commit looks scarier than it is; it just reorders the state machine
    so that state variants and their corresponding poll methods are in a
    sensible and consistent order. There are no code changes.

commit ac57fd694b2ff6e8ab4a55bfbb15defa7cde3517
Author: Nikhil Benesch <nikhil.benesch@gmail.com>
Date:   Sun Nov 17 22:15:25 2019 -0500

    pgwire: sort imports properly

commit 1de149809a304fbdfe93b874cb72bf8a16acbd6d
Author: Nikhil Benesch <nikhil.benesch@gmail.com>
Date:   Sun Nov 17 22:14:47 2019 -0500

    pgwire: extract error handling helpers

commit cedcd4a4a3476b3ffa6f5f254a8ebb21a3c6f1cc
Author: Nikhil Benesch <nikhil.benesch@gmail.com>
Date:   Sun Nov 17 21:33:04 2019 -0500

    pgwire: extract some helper functions for state transitions

commit 23116439b8707d7e520624be9e273e6ed8834a8e
Author: Nikhil Benesch <nikhil.benesch@gmail.com>
Date:   Thu Nov 14 17:07:36 2019 -0500

    coord: take responsibility for installing logging sources in catalog
    
    The catalog shouldn't be concerning itself with installing logging
    sources. Let the coordinator drive the installation instead. It's a bit
    cleaner.

commit cf097f49eb4e265f1a5e39c9b2139bbabcf3411f
Author: Nikhil Benesch <nikhil.benesch@gmail.com>
Date:   Thu Nov 14 16:44:39 2019 -0500

    coord: merge apply_plan and sequence_plan
    
    These functions were separate only because of an accident of history.

commit 371aa834a8b1fe6aa951bfd3713a8a6015bc25df
Author: Nikhil Benesch <nikhil.benesch@gmail.com>
Date:   Thu Nov 14 16:36:31 2019 -0500

    coord: convert free functions into methods
    
    This more or less completes the merge of the old coordinator thread and
    the Coordinator object.

commit 9d45cf4344c2688e8427ec1ea529a5f74a85d4a0
Author: Nikhil Benesch <nikhil.benesch@gmail.com>
Date:   Sat Nov 16 12:36:14 2019 -0500

    repr: introduce ColumnName type
    
    ColumnNames can't be qualified, so they should have their own dedicated
    type, rather than using repr::QualName.
    
    Fix #987.
    Fix #992.
    Fix #993.
    Fix #998.

commit d6c2c0729a24b0c3ded62033fe932e2d4b1e3c4f
Merge: 4460d99bd 83899fd01
Author: Brandon W Maister <bwm@materialize.io>
Date:   Fri Nov 15 16:33:22 2019 -0500

    Merge pull request #1003 from quodlibetor/dcsh-ergo
    
    Some ergonomic improvements to dc.sh

commit 4460d99bdba9556cc082e58d7f9143c96239e1c0
Merge: f7bb79bf8 de972993f
Author: Nikhil Benesch <nikhil.benesch@gmail.com>
Date:   Fri Nov 15 15:37:53 2019 -0500

    Merge pull request #1001 from benesch/www-admin-fix
    
    www: fix admin for bios

commit 83899fd0155c8ec521d135748e92f085a03bf758
Author: Brandon W Maister <bwm@materialize.io>
Date:   Fri Nov 15 15:33:22 2019 -0500

    dc.sh: make `stop` a secret alias for `down`
    
    The difference between them in `docker-compose` is that `stop` operates on a single
    container, and `down` operates on the entire cluster. They're unambiguous, so just allow
    each to operate as the other.

commit 62e7126db391aa44c3a5d5e50630b26dfa934700
Author: Brandon W Maister <bwm@materialize.io>
Date:   Fri Nov 15 15:28:15 2019 -0500

    dc.sh: Expose service ports in `run`
    
    This makes it possible to do `ex/chbench/dc.sh run materialized` with logging going to
    your terminal, and to connect from metabase/mzcli on your laptop and get all your logging
    directly, which feels very nice.

commit f7bb79bf87161de88b286dbeb7d410074ae9fe19
Merge: 7c61491f0 1a098fa2b
Author: Nikhil Benesch <nikhil.benesch@gmail.com>
Date:   Fri Nov 15 15:16:43 2019 -0500

    Merge pull request #1000 from benesch/coord-ambiguity
    
    fix various CI problems

commit 1a098fa2bf159e088e1a5ff5e1be9b2f5980a334
Author: Nikhil Benesch <nikhil.benesch@gmail.com>
Date:   Fri Nov 15 14:43:16 2019 -0500

    ci: fix deploy job
    
    The deploy job expects all test jobs to run on master.

commit f57151eb0d49e67fbcd3b1019653bc46ff688472
Author: Nikhil Benesch <nikhil.benesch@gmail.com>
Date:   Fri Nov 15 14:31:57 2019 -0500

    coord: fix ambiguous reference
    
    For some reason only rustdoc cares about this ambiguity, and not rustc.
    Just use a fully-qualified path, because digging into this seems like it
    would be a quagmire.

commit de972993fe71c5915bd7fe7b3b7763636130cef5
Author: Nikhil Benesch <nikhil.benesch@gmail.com>
Date:   Fri Nov 15 14:24:09 2019 -0500

    www: fix admin for bios

commit 7c61491f08614f121901a545a32d31e69d938504
Merge: 247496734 b56b3d190
Author: Nikhil Benesch <nikhil.benesch@gmail.com>
Date:   Fri Nov 15 13:55:11 2019 -0500

    Merge pull request #999 from benesch/www-admin
    
    www: test netlify cms with team member bios

commit b56b3d190f61be7dbeeaccdea6913866dedadae9
Author: Nikhil Benesch <nikhil.benesch@gmail.com>
Date:   Thu Nov 14 23:37:37 2019 -0500

    www: test netlify cms with team member bios

commit a0e806562bde54c03e6033593cd8f0afb07000cc
Author: Nikhil Benesch <nikhil.benesch@gmail.com>
Date:   Fri Nov 15 12:44:51 2019 -0500

    www: fix homepage title

commit 247496734b86d546c5c6de48296390adf034f27a
Merge: 98b815b20 c6a37d0c3
Author: Brandon W Maister <bwm@materialize.io>
Date:   Fri Nov 15 13:25:55 2019 -0500

    Merge pull request #905 from quodlibetor/quoted-names
    
    Correctly handle quoted table and projection names

commit c6a37d0c3e90342e1c78cd6e6cc4906fb0f899f9
Author: Brandon W Maister <bwm@materialize.io>
Date:   Thu Nov 14 14:56:52 2019 -0500

    Make QualName == &str work correctly in most cases
    
    It does not correctly distinguish between dots inside of quotes and dots outside of
    quotes, but other than that I believe that it is correct.

commit 2f9c887d233d8fa1f377d58e1c5abc726669bee4
Author: Brandon W Maister <bwm@materialize.io>
Date:   Wed Nov 13 12:31:40 2019 -0500

    Enable a subset of the cockroach/case_sensitive_names tests
    
    Our names come back with quotes around them, so that changed, not sure if we want to have
    a different display method for returning to clients,
    
    I had to use some other function rather than `length` for the case-ignoring-function
    test, so I used ascii, which means that we now convert characters into strings in SLTs.
    
    I'm actually not sure what the semantics of `ASCII` are supposed to be, should that be
    returning a string to clients?

commit d5edf4a78ec221c46cbdd39d19c51258d876c85c
Author: Brandon W Maister <bwm@materialize.io>
Date:   Mon Nov 4 13:37:47 2019 -0500

    All names are QualNames
    
    This add support for dotted and quoted identifiers. In particular, we need to have a way
    to make the following equality hold, when entered at a terminal:
    
        oNe."two"."tHRee" == one.two."tHRee"
    
    This introduces a `repr::QualName` type (in `repr/qualname.rs`) that stores how data was
    entered, but does comparison based exclusively on normalized values. There are lots of
    things that could be done to make this perhaps more ergonomic and/or efficient.
    
    In terms of ergonomics I basically just did the smallest things that I could to get
    QualNames working, ideally we will delete a bunch of the inherent methods over time.
    
    In terms of efficiency these are probably significantly less efficient than the old
    string implementation, but now that the actual representation of the names are hidden
    there are some pretty obvious things we could do to improve things without changing the
    external API.
    
    Fixes #685

commit 98b815b20664c9ad363e692984d9c4943ee4ec9e
Merge: 075ab3c7f fedad6bdf
Author: Nikhil Benesch <nikhil.benesch@gmail.com>
Date:   Fri Nov 15 11:43:37 2019 -0500

    Merge pull request #998 from benesch/www-identity
    
    www: enable netlify identity

commit fedad6bdfa31b3514aa2d76b978828ebb4adfb5c
Author: Nikhil Benesch <nikhil.benesch@gmail.com>
Date:   Fri Nov 15 11:42:07 2019 -0500

    www: enable netlify identity

commit 075ab3c7fc65435d78429270970e909e51a92639
Author: Brennan Vincent <brennan@materialize.io>
Date:   Thu Nov 14 16:57:00 2019 -0500

    Fix outdated comment (#980)

commit af2795a659acc2bb361cacfc11897c856d2dd0c4
Merge: 3254f8782 61961dca3
Author: Brandon W Maister <bwm@materialize.io>
Date:   Thu Nov 14 16:56:50 2019 -0500

    Merge pull request #982 from quodlibetor/bin-check-flags
    
    bin/check: add `--no-force-rebuild` option and env var

commit 61961dca3d5b2c4d50deacf061084fbe791a7a5d
Author: Brandon W Maister <bwm@materialize.io>
Date:   Thu Nov 14 16:36:22 2019 -0500

    bin/check: fix creation of spurious files
    
    Fixes #966

commit 0d0dce1b215f402a00b23dfa08143f378c28bb4a
Author: Nikhil Benesch <nikhil.benesch@gmail.com>
Date:   Thu Nov 14 16:03:24 2019 -0500

    rr-diagram-gen: record minimum Go version in README

commit 5ae9ca35afad3382490672837b1c95120a8bd3dd
Author: Nikhil Benesch <nikhil.benesch@gmail.com>
Date:   Thu Nov 14 15:56:42 2019 -0500

    rr-diagram-gen: adjust Makefile
    
    Adjust the Makefile to make it conform to some "conventions":
    
      * `make run` will automatically rebuild if any of the Go source files
        change.
    
      * The GOBUILD and GOCLEAN variables are replaced with a GOFLAGS
        variable, on the theory that you never need to replace "go build"
        with "go someothercommand", but you might reasonably want to pass
        some additional flags.
    
      * src_default and dst_default are renamed to SRC and DST, to follow
        the convention that variables meant to be overridden by the user are
        uppercased. (Internal Makefile variables are lowercased.)
    
      * run and clean are marked as PHONY targets, since they don't actually
        create files named "run" or "clean", while the "build" target is
        renamed to "rr-diagram-gen" because it does create a file.

commit 3254f8782d45eb7d5a290aec44bb05ec539a9fed
Author: JLDLaughlin <JLDLaughlin@users.noreply.github.com>
Date:   Thu Nov 14 15:57:16 2019 -0500

    Return "BEGIN" for PgJDBC (#983)
    
    Return the message "BEGIN" instead of "START TRANSACTION" to PgJDBC

commit e7c7bb967303e346e913cc2cab52514d1e13a2a4
Author: Nikhil Benesch <nikhil.benesch@gmail.com>
Date:   Thu Nov 14 15:51:33 2019 -0500

    rr-diagram-gen: correctly compute paths w/o trailing space
    
    rr-diagram-gen would previously get confused if the source path or dest
    path was specified without a trailing slash. I.e., /path/to/dir/ would
    succeed, but /path/to/dir would not.

commit 84c1ac10848c2678637636b4c28c7abe3ec6485a
Author: Nikhil Benesch <nikhil.benesch@gmail.com>
Date:   Thu Nov 14 15:49:33 2019 -0500

    lint: make linters more targeted
    
    Cut down the scope of some of the lint rule exclusions, so that
    copyright headers are requested for the files in www where it makes
    sense.

commit cc63332ef7f654ffdfff4dd2fd5009eb82d7289a
Author: Brandon W Maister <bwm@materialize.io>
Date:   Wed Nov 13 14:18:26 2019 -0500

    bin/check: add `--no-force-rebuild` option and env var
    
    Useful if you're actively making changes specifically to check for clippy compliance.
    
    This does make `bin/check --[no-]force-rebuild` strictly more accurate than `cargo check`
    from the root, I think, since clippy requires rustc to pass as well.

commit 4be603a81b7263f79a8a5ee0f0c826ac7ea9bdcc
Merge: d4b5c11b0 ca2e40b17
Author: Nikhil Benesch <nikhil.benesch@gmail.com>
Date:   Thu Nov 14 15:18:03 2019 -0500

    Merge pull request #967 from benesch/catalog
    
    sql: split out catalog crate

commit ca2e40b1729c6c76de3b7ba8fe88eea07f722e79
Author: Nikhil Benesch <nikhil.benesch@gmail.com>
Date:   Thu Nov 14 01:45:36 2019 -0500

    sql: split out catalog crate
    
    The catalog will soon be responsible for metadata persistence. Split it
    out into its own crate to better encapsulate this responsiblity. It
    doesn't have much to do with SQL, after all; the catalog is sufficiently
    general that it could be, one day, useful for views defined in datalog,
    or in Materialize's IR.

commit d4b5c11b0fe33785c35dea5605a135bb59b6b43b
Merge: da03fa70a 8db41a6ea
Author: Nikhil Benesch <nikhil.benesch@gmail.com>
Date:   Thu Nov 14 14:54:30 2019 -0500

    Merge pull request #965 from benesch/coord-refactor-2
    
    coord: merge thread and coordinator

commit da03fa70ac2e3060514a326ccbb6c468508e658d
Merge: 628e9f869 bc8d856f8
Author: Nikhil Benesch <nikhil.benesch@gmail.com>
Date:   Thu Nov 14 13:31:55 2019 -0500

    Merge pull request #972 from MaterializeInc/dependabot/cargo/cexpr-0.3.6
    
    build(deps): bump cexpr from 0.3.5 to 0.3.6

commit 628e9f86976f6a5934516dfac4db652156052361
Merge: 24d959164 27f4abba6
Author: Nikhil Benesch <nikhil.benesch@gmail.com>
Date:   Thu Nov 14 13:28:14 2019 -0500

    Merge pull request #971 from MaterializeInc/dependabot/cargo/redox_syscall-0.1.56
    
    build(deps): bump redox_syscall from 0.1.54 to 0.1.56

commit 24d9591646bb1f7b5955e729c5ffc1708841ad4e
Merge: e1eebf7dd a9d13051f
Author: Nikhil Benesch <nikhil.benesch@gmail.com>
Date:   Thu Nov 14 13:27:44 2019 -0500

    Merge pull request #969 from MaterializeInc/dependabot/cargo/ryu-1.0.2
    
    build(deps): bump ryu from 1.0.0 to 1.0.2

commit e1eebf7dd098411b00a4dc1535125a9b0ff0b285
Merge: c27824a5b abfe02d0f
Author: Nikhil Benesch <nikhil.benesch@gmail.com>
Date:   Thu Nov 14 13:27:21 2019 -0500

    Merge pull request #968 from MaterializeInc/dependabot/cargo/typed-arena-1.7.0
    
    build(deps): bump typed-arena from 1.5.0 to 1.7.0

commit c27824a5b581f28623bdbd9beb42bf8d0a62122e
Merge: 38b215d25 987712b6e
Author: Nikhil Benesch <nikhil.benesch@gmail.com>
Date:   Thu Nov 14 13:23:30 2019 -0500

    Merge pull request #973 from MaterializeInc/dependabot/cargo/toml-0.5.5
    
    build(deps): bump toml from 0.5.3 to 0.5.5

commit 38b215d258d095d44fccbc2557a3fbad419f4e5e
Author: JLDLaughlin <JLDLaughlin@users.noreply.github.com>
Date:   Thu Nov 14 10:53:56 2019 -0500

    SHOW CREATE SOURCE <foo> (#964)

commit 27f4abba6f0cb21972a27726f8be5241b59eecf3
Author: dependabot-preview[bot] <27856297+dependabot-preview[bot]@users.noreply.github.com>
Date:   Thu Nov 14 15:32:56 2019 +0000

    build(deps): bump redox_syscall from 0.1.54 to 0.1.56
    
    Bumps redox_syscall from 0.1.54 to 0.1.56.
    
    Signed-off-by: dependabot-preview[bot] <support@dependabot.com>

commit e515194019c4b82d5fdf77b40002eee11d81b163
Merge: a81e6812f 816514c15
Author: Nikhil Benesch <nikhil.benesch@gmail.com>
Date:   Thu Nov 14 10:30:47 2019 -0500

    Merge pull request #974 from MaterializeInc/dependabot/cargo/tempfile-3.1.0
    
    build(deps): bump tempfile from 3.0.8 to 3.1.0

commit a81e6812fd595042ab7a44db7296049e170c4dc8
Merge: 03b104d9b cf7774cd5
Author: Nikhil Benesch <nikhil.benesch@gmail.com>
Date:   Thu Nov 14 10:29:23 2019 -0500

    Merge pull request #975 from MaterializeInc/dependabot/cargo/unicode-width-0.1.6
    
    build(deps): bump unicode-width from 0.1.5 to 0.1.6

commit 03b104d9b56f626c10c0f6d9776a88b4bfc650cf
Merge: bb20b3a7d f93fdc40d
Author: Nikhil Benesch <nikhil.benesch@gmail.com>
Date:   Thu Nov 14 10:28:40 2019 -0500

    Merge pull request #976 from MaterializeInc/dependabot/cargo/memoffset-0.5.3
    
    build(deps): bump memoffset from 0.5.1 to 0.5.3

commit f93fdc40d6f8d3c931d1a4a013bbb973052e6604
Author: dependabot-preview[bot] <27856297+dependabot-preview[bot]@users.noreply.github.com>
Date:   Thu Nov 14 06:54:39 2019 +0000

    build(deps): bump memoffset from 0.5.1 to 0.5.3
    
    Bumps [memoffset](https://github.com/Gilnaa/memoffset) from 0.5.1 to 0.5.3.
    - [Release notes](https://github.com/Gilnaa/memoffset/releases)
    - [Commits](https://github.com/Gilnaa/memoffset/compare/v0.5.1...v0.5.3)
    
    Signed-off-by: dependabot-preview[bot] <support@dependabot.com>

commit cf7774cd5fe0ef825b1b386c4398bd6e885e1575
Author: dependabot-preview[bot] <27856297+dependabot-preview[bot]@users.noreply.github.com>
Date:   Thu Nov 14 06:54:15 2019 +0000

    build(deps): bump unicode-width from 0.1.5 to 0.1.6
    
    Bumps [unicode-width](https://github.com/unicode-rs/unicode-width) from 0.1.5 to 0.1.6.
    - [Release notes](https://github.com/unicode-rs/unicode-width/releases)
    - [Commits](https://github.com/unicode-rs/unicode-width/commits/0.1.6)
    
    Signed-off-by: dependabot-preview[bot] <support@dependabot.com>

commit 816514c1579229e8aa7d4ded48706feaa08b074c
Author: dependabot-preview[bot] <27856297+dependabot-preview[bot]@users.noreply.github.com>
Date:   Thu Nov 14 06:53:50 2019 +0000

    build(deps): bump tempfile from 3.0.8 to 3.1.0
    
    Bumps [tempfile](https://github.com/Stebalien/tempfile) from 3.0.8 to 3.1.0.
    - [Release notes](https://github.com/Stebalien/tempfile/releases)
    - [Changelog](https://github.com/Stebalien/tempfile/blob/master/NEWS)
    - [Commits](https://github.com/Stebalien/tempfile/compare/v3.0.8...v3.1.0)
    
    Signed-off-by: dependabot-preview[bot] <support@dependabot.com>

commit 987712b6e9c422007643714f879278a57c6df0a2
Author: dependabot-preview[bot] <27856297+dependabot-preview[bot]@users.noreply.github.com>
Date:   Thu Nov 14 06:53:23 2019 +0000

    build(deps): bump toml from 0.5.3 to 0.5.5
    
    Bumps [toml](https://github.com/alexcrichton/toml-rs) from 0.5.3 to 0.5.5.
    - [Release notes](https://github.com/alexcrichton/toml-rs/releases)
    - [Commits](https://github.com/alexcrichton/toml-rs/compare/0.5.3...0.5.5)
    
    Signed-off-by: dependabot-preview[bot] <support@dependabot.com>

commit bc8d856f8f6c8be12f4008da47279d73d39a65e0
Author: dependabot-preview[bot] <27856297+dependabot-preview[bot]@users.noreply.github.com>
Date:   Thu Nov 14 06:52:57 2019 +0000

    build(deps): bump cexpr from 0.3.5 to 0.3.6
    
    Bumps [cexpr](https://github.com/jethrogb/rust-cexpr) from 0.3.5 to 0.3.6.
    - [Release notes](https://github.com/jethrogb/rust-cexpr/releases)
    - [Commits](https://github.com/jethrogb/rust-cexpr/commits)
    
    Signed-off-by: dependabot-preview[bot] <support@dependabot.com>

commit a9d13051f7da16808b100c471156f5d7a66c62f2
Author: dependabot-preview[bot] <27856297+dependabot-preview[bot]@users.noreply.github.com>
Date:   Thu Nov 14 06:51:38 2019 +0000

    build(deps): bump ryu from 1.0.0 to 1.0.2
    
    Bumps [ryu](https://github.com/dtolnay/ryu) from 1.0.0 to 1.0.2.
    - [Release notes](https://github.com/dtolnay/ryu/releases)
    - [Commits](https://github.com/dtolnay/ryu/compare/1.0.0...1.0.2)
    
    Signed-off-by: dependabot-preview[bot] <support@dependabot.com>

commit abfe02d0fdc337067c8583858e9cbc4adc7c0290
Author: dependabot-preview[bot] <27856297+dependabot-preview[bot]@users.noreply.github.com>
Date:   Thu Nov 14 06:51:12 2019 +0000

    build(deps): bump typed-arena from 1.5.0 to 1.7.0
    
    Bumps [typed-arena](https://github.com/SimonSapin/rust-typed-arena) from 1.5.0 to 1.7.0.
    - [Release notes](https://github.com/SimonSapin/rust-typed-arena/releases)
    - [Changelog](https://github.com/SimonSapin/rust-typed-arena/blob/master/CHANGELOG.md)
    - [Commits](https://github.com/SimonSapin/rust-typed-arena/compare/1.5.0...1.7.0)
    
    Signed-off-by: dependabot-preview[bot] <support@dependabot.com>

commit 8db41a6eaeb909bb95d4418ec65b04c276aef7c8
Author: Nikhil Benesch <nikhil.benesch@gmail.com>
Date:   Wed Nov 13 18:13:10 2019 -0500

    coord: merge thread and coordinator
    
    The responsibilities of the coordinator were previously arbitrarily
    split between the serve function and the Coordinator object, a
    consequence of the crate evolving organically. These are really meant to
    be one object. Start down that road by folding the serve function into
    Coordinator::new and Coordinator::serve, the latter of which is a new
    method.
    
    Clients are now responsible for calling `Coordinator::serve` in its own
    thread, which makes the API a bit cleaner.
    
    Note that this commit is an MVP. Additional cleanup work needs to
    happen, as the Coordinator object calls some free functions that should
    really be methods on the Coordinator. (This change is a bit hard to make
    due to the borrow checker, which is why it'll be follow-on work.)

commit bb20b3a7d5dd15778ef06c0c2ac3edd40d87a3fb
Merge: 41194e89d 48d2b2117
Author: Nikhil Benesch <nikhil.benesch@gmail.com>
Date:   Wed Nov 13 17:10:46 2019 -0500

    Merge pull request #963 from benesch/coord-skew
    
    coord: fix merge skew

commit 41194e89defe48af812634ecb49287ee4ca75ccc
Author: Cuong Do <cuongdo@users.noreply.github.com>
Date:   Wed Nov 13 17:08:45 2019 -0500

    Sort SHOW SOURCES results by source name (#962)
    
    This restores behavior we previously had. As @frankmcsherry noticed, we
    currently sort by the length of the source names, which isn't helpful.

commit 48d2b2117e4ef5ac82816c3973e92a28eb7453df
Author: Nikhil Benesch <nikhil.benesch@gmail.com>
Date:   Wed Nov 13 17:02:07 2019 -0500

    coord: fix merge skew
    
    This file is dead code.

commit cd89439b41b3b7391d8256006118de9b55cb7ef2
Merge: 90d06a639 b683806e5
Author: Nikhil Benesch <nikhil.benesch@gmail.com>
Date:   Wed Nov 13 16:54:23 2019 -0500

    Merge pull request #961 from benesch/coord-no-bind
    
    coord: remove bind command

commit 90d06a639fd17e3cc3da848557ecb39a3a25498e
Author: JLDLaughlin <JLDLaughlin@users.noreply.github.com>
Date:   Wed Nov 13 16:53:04 2019 -0500

    Use ShowStatementFilter to filter SHOW OBJECTS (#960)
    
    Follow up to #921, extension of @benesch's sqlparser upgrade. Uses the ShowStatementFilter to filter output of SHOW commands instead of a like regex string. Left to do: implement WHERE.

commit b683806e5b1998250afc41b6f1f2efe521b7cdf5
Author: Nikhil Benesch <nikhil.benesch@gmail.com>
Date:   Wed Nov 13 16:42:01 2019 -0500

    coord: remove bind command
    
    This didn't end up being necessary.

commit 574406661abb167d895b33897ff90a82bcb68384
Merge: e986c5b3a 3e08b7bc2
Author: Nikhil Benesch <nikhil.benesch@gmail.com>
Date:   Wed Nov 13 16:40:18 2019 -0500

    Merge pull request #959 from benesch/coord-refactor
    
    coord: merge transient and coordinator modules

commit 3e08b7bc2335ef411055db2129295ac00c21f640
Author: Nikhil Benesch <nikhil.benesch@gmail.com>
Date:   Wed Nov 13 15:22:08 2019 -0500

    coord: merge transient and coordinator modules
    
    This commit is pure code movement. The eventual plan is to merge
    coord::transient::serve and coord::Coordinator; having those pieces of
    code in the same file will make the eventual diff smaller.

commit e986c5b3a78415af4f9c59fe9cd5e510377f4d8b
Merge: 690978b19 8cf3331df
Author: Nikhil Benesch <nikhil.benesch@gmail.com>
Date:   Wed Nov 13 16:04:30 2019 -0500

    Merge pull request #958 from benesch/data-dir
    
    materialized: add a data-directory flag

commit 8cf3331dfaa20b52be1ac33b164f346b109ea24f
Author: Nikhil Benesch <nikhil.benesch@gmail.com>
Date:   Wed Nov 13 15:23:51 2019 -0500

    materialized: add a data-directory flag
    
    This is presently unused, but will soon determine where materialized
    persists cluster metadata, and where materialized permits file sources
    to read from.

commit ca52fad83d2c6269b5d21dda2c63834094c06335
Author: Nikhil Benesch <nikhil.benesch@gmail.com>
Date:   Wed Nov 13 15:43:02 2019 -0500

    materialized: fix bootstrap flag name
    
    I meant to call this "bootstrap-sql", not "bootstrap".

commit 690978b192ce9d668071ab9fc90cdef6190dbf85
Merge: 9cf113c20 d3bd8a4bb
Author: Sean Loiselle <sean@materialize.io>
Date:   Wed Nov 13 13:57:59 2019 -0500

    Merge pull request #957 from sploiselle/reorg-readme-update
    
    docs+www: upate READMEs to reflect reorged website structure

commit d3bd8a4bbe7e264068322e5bd9b86152c52731ea
Author: sploiselle <sean@materialize.io>
Date:   Wed Nov 13 13:47:28 2019 -0500

    docs+www: upate READMEs to reflect reorged structure

commit 9cf113c203d5675489e5fd7b02b8cc560bf3a7e2
Merge: 423afce32 7432e47f8
Author: Brandon W Maister <bwm@materialize.io>
Date:   Wed Nov 13 11:41:50 2019 -0500

    Merge pull request #956 from quodlibetor/speedier-bin-check
    
    Make bin/check (slightly) faster by only touching packages

commit 423afce321ad9cc1427959f25f7e7dfeff0097ed
Merge: 691724711 f71f54816
Author: wangandi <5522362+wangandi@users.noreply.github.com>
Date:   Wed Nov 13 11:32:01 2019 -0500

    Merge pull request #819 from wangandi/manageindex
    
    Basic index creation and deletion.
    
    Approved by Frank in person

commit 1cbb02f00403ee5ff8b352d06a238af6230b4889
Author: Nikhil Benesch <nikhil.benesch@gmail.com>
Date:   Tue Nov 12 16:13:59 2019 -0500

    coord: extract a config struct
    
    coord::transient::serve was maxed out on number of parameters.

commit f71f54816ea705e798f480597153248ff4c194c2
Author: Andi Wang <andi@materialize.io>
Date:   Thu Nov 7 14:31:29 2019 -0500

    Fix the fix for the server segfaulting when peeking an index.
    
    Add test to ensure this does not get overlooked again.

commit ecfe9c1eb569be68b01a6c929f99c076a15aab0d
Author: Andi Wang <andi@materialize.io>
Date:   Wed Nov 6 14:28:16 2019 -0500

    Move cascading and aliased index removal be handled by coordinator instead of TraceManager.

commit 828900f91a44dab80802a69b0626398f64f9b366
Author: Andi Wang <andi@materialize.io>
Date:   Mon Nov 4 16:39:49 2019 -0500

    Adopt snake_case

commit b463cd90595bd2844bed215d64042f4c4317d033
Author: Andi Wang <andi@materialize.io>
Date:   Mon Nov 4 14:08:47 2019 -0500

    Propagate constants past arrangeby

commit de094416b6fad0dfa7ccd86708b48749a7bf7805
Author: Andi Wang <andi@materialize.io>
Date:   Thu Oct 31 17:12:13 2019 -0400

    Add some more tests involving indexes and sources.
    
    Fix conflicts.

commit fd07b2816520cbaab5ffc883ab61e976d150f23b
Author: Andi Wang <andi@materialize.io>
Date:   Wed Oct 23 13:45:07 2019 -0400

    Basic index creation and deletion.
    Currently, the index is utilized during joins and when a RelationExpr has a matching map sub-RelationExpr.

commit 7432e47f8b60c681f6a13057cc1a4feb45bd2020
Author: Brandon W Maister <bwm@materialize.io>
Date:   Wed Nov 13 10:14:59 2019 -0500

    Make bin/check (slightly) faster by only touching packages
    
    This still seems to work correctly (errors continue to show up after running multiple
    times.
    
    For success on my laptop on an unchanged repo it's reliably about half a second faster,
    which is honestly less than I expected.
    
        with patch: bin/check  16.73s user 3.33s system 183% cpu 10.911 total
        without:    bin/check  17.90s user 3.81s system 191% cpu 11.365 total

commit 69172471160d970b39fd2d879b724b7a0e17c7c0
Merge: 966dab1d4 e940f932a
Author: Nikhil Benesch <nikhil.benesch@gmail.com>
Date:   Tue Nov 12 17:56:28 2019 -0500

    Merge pull request #955 from benesch/www-fix-cropping
    
    www: fix cropping of headshots

commit e940f932a461ab5670660c9ae07a3dedd0b0a0ff
Author: Nikhil Benesch <nikhil.benesch@gmail.com>
Date:   Tue Nov 12 17:37:17 2019 -0500

    www: fix cropping of headshots

commit 966dab1d485a9da9b6edc2df37ee9cf5284b41e7
Merge: c4f92d6d1 bc3401f7d
Author: Nikhil Benesch <nikhil.benesch@gmail.com>
Date:   Tue Nov 12 17:20:17 2019 -0500

    Merge pull request #954 from benesch/www-rel
    
    www: use relative urls everywhere

commit bc3401f7d7000c9cd92370a50cea3e1add295735
Author: Nikhil Benesch <nikhil.benesch@gmail.com>
Date:   Tue Nov 12 17:11:44 2019 -0500

    ci/test: fetch origin/master before determining files changed

commit 1ec117c6505b2d0d4d3f089e6458910e65c3b96a
Author: Nikhil Benesch <nikhil.benesch@gmail.com>
Date:   Tue Nov 12 17:09:36 2019 -0500

    www: use relative urls everywhere

commit c4f92d6d15fa7eb584ad8de03f946213f81aaa3c
Merge: 7a8b26ffd d7ad5262a
Author: Nikhil Benesch <nikhil.benesch@gmail.com>
Date:   Tue Nov 12 17:05:49 2019 -0500

    Merge pull request #946 from benesch/www
    
    www: merge in public website

commit d7ad5262a483d920eb696150d29432cce031f22b
Author: Nikhil Benesch <nikhil.benesch@gmail.com>
Date:   Tue Nov 12 11:35:23 2019 -0500

    www: merge in public website

commit 7a8b26ffde2ff0ecd6717f082c7c06e56e5bfd51
Merge: 08e2c4f9e ef259381b
Author: Nikhil Benesch <nikhil.benesch@gmail.com>
Date:   Tue Nov 12 16:25:00 2019 -0500

    Merge pull request #916 from benesch/clean-gitignore
    
    gitignore: don't include editor-specific entries

commit 08e2c4f9e391f33b55014b2b38aaf97b8b6801c1
Merge: ea3b49fd4 0c298a21d
Author: Nikhil Benesch <nikhil.benesch@gmail.com>
Date:   Tue Nov 12 16:24:08 2019 -0500

    Merge pull request #953 from benesch/slt-hang
    
    ore,mzd,slt: improve ergonomics of server shutdown

commit ef259381b4af5b265caa5104259c2ac344cdb787
Author: Nikhil Benesch <nikhil.benesch@gmail.com>
Date:   Wed Nov 6 14:32:37 2019 -0500

    gitignore: don't include editor-specific entries
    
    Don't include editor-specific entries. We don't want to be in the
    business of ignoring every user's editor's mess. That's what the global
    gitignore file is for.
    
    Also move some doc/user specific entries to doc/user/.gitignore, to
    limit the entries in the global gitignore to those that apply globally.
    
    Finally, standardize on glob syntax. Entries that start with a slash
    apply to entries at the level of the gitignore; other entries match at
    any level beneath the level of the gitignore.

commit ea3b49fd4a8cd07bf6e4278236945a414aa66e32
Merge: 73455395a f760bbe56
Author: Sean Loiselle <sean@materialize.io>
Date:   Tue Nov 12 16:20:00 2019 -0500

    Merge pull request #951 from sploiselle/rr-diagram-tool
    
    docs: add util for generating SVGs for docs

commit 0c298a21d7238994442af19dbd72a2c3a565172d
Author: Nikhil Benesch <nikhil.benesch@gmail.com>
Date:   Tue Nov 12 15:39:34 2019 -0500

    ore,mzd,slt: improve ergonomics of server shutdown
    
    Shutting down a materialized server must be done carefully. First the
    command queue transmitter (cmdq_tx) must be shutdown, to send the
    shutdown signal. Then we have to wait for the dataflow workers to
    shutdown, in order to make sure messages are not still flowing between
    the workers and the coordinator. Then we have to wait for the
    coordinator to shut down, to make sure nothing is still using the tokio
    runtime. And lastly, the tokio runtime can be shutdown.
    
    This was previously handled with a custom drop implementation for
    materialized::Server, and a drop-like shutdown function for
    sqllogictest::runner::State. These approaches were both flawed;
    materialized::Server was forced to use a bunch of unnecessary options so
    that it could move out of some fields in its drop implementation, while
    sqllogictest was forgetting to call the shutdown method in some modes.
    
    Solve both issues by providing a JoinOnDropHandle that waits for a
    thread to shutdown when the handle is dropped. (std::thread::JoinHandle
    *detaches* from the thread when dropped.) Then we don't need to provide
    a custom drop implementation, but can rely on the field drop order to
    handle everything for us.
    
    This has the nice side effect of solving the hang when passing
    --rewrite-results to SLT.

commit 73455395a4a63e0ab47258eb5450b82ce6e6491e
Merge: 210c7246b 86f7cc224
Author: Nikhil Benesch <nikhil.benesch@gmail.com>
Date:   Tue Nov 12 15:59:23 2019 -0500

    Merge pull request #952 from benesch/doc-cleanup
    
    *: fix broken references in doc comments

commit 86f7cc2246121088404494a3c1e1e378478d23cf
Author: Nikhil Benesch <nikhil.benesch@gmail.com>
Date:   Tue Nov 12 15:01:43 2019 -0500

    *: fix broken references in doc comments

commit f760bbe56ab1f1ced145ae22042cafb902858923
Author: sploiselle <sean@materialize.io>
Date:   Tue Nov 12 14:06:49 2019 -0500

    docs: add util for generating SVGs for docs

commit 210c7246b586216450af928ab6fd367a77aecf6e
Merge: 7a0bf6e13 17829e513
Author: Sean Loiselle <sean@materialize.io>
Date:   Tue Nov 12 14:54:00 2019 -0500

    Merge pull request #936 from sploiselle/expand-readme
    
    expand README

commit 7a0bf6e13a80144b247e371e300fa609b47458ce
Merge: f560539c4 d980b8f3f
Author: Frank McSherry <fmcsherry@me.com>
Date:   Tue Nov 12 21:13:13 2019 +0200

    Merge pull request #950 from MaterializeInc/ci-names
    
    ci/test: fix skew in pipeline job names

commit f560539c4ee42d90b7cae789486b6cbc63fad33a
Merge: 461e248ef ffcc3255a
Author: Frank McSherry <fmcsherry@me.com>
Date:   Tue Nov 12 21:12:30 2019 +0200

    Merge pull request #949 from frankmcsherry/reduce_peekaflows
    
    Reduce dataflows created for peeks.

commit d980b8f3fb233356fe012adb95b15b4f619f9b9f
Author: Nikhil Benesch <nikhil.benesch@gmail.com>
Date:   Tue Nov 12 13:55:02 2019 -0500

    ci/test: fix skew in pipeline job names
    
    This regressed accidentally in c580ba98e.

commit ffcc3255a509be5fc13186d4b1db6fc54ff51b05
Author: Frank McSherry <fmcsherry@me.com>
Date:   Tue Nov 12 13:34:50 2019 -0500

    Reduce dataflows created for peeks.
    
    This PR reduces the number of dataflows created for peeks by handling both projections and filters in the peek processsing pipeline, so that if the query is an optional projection around an optional filter around a get, we can process the query without dataflow construction. This should ease the load on the system, and reduce the amount of random nonsense the system has to do in response to relatively easy peek and select queries.

commit 461e248ef5ced0cc1ff000b8582466ce747ae149
Merge: a0a1814bf bc5b686a8
Author: Nikhil Benesch <nikhil.benesch@gmail.com>
Date:   Tue Nov 12 13:20:07 2019 -0500

    Merge pull request #948 from benesch/ci-no-pager
    
    ci/test: don't let `git diff` launch a pager

commit a0a1814bf7f26dd892bee4fcc4455b09a63f20ee
Author: Brennan Vincent <brennan@materialize.io>
Date:   Tue Nov 12 13:18:15 2019 -0500

    Docker local (#873)
    
    * Add instructions for hacky script to put docker containers in /etc/hosts

commit bc5b686a85b4ca6a84de15a76383ffdf680e7d2d
Author: Nikhil Benesch <nikhil.benesch@gmail.com>
Date:   Tue Nov 12 13:07:13 2019 -0500

    ci/test: don't let `git diff` launch a pager

commit 3d94cf56b60f977f4b5e88acb6ed9344d0423a56
Author: Brennan Vincent <brennan@materialize.io>
Date:   Tue Nov 12 12:56:31 2019 -0500

    [Trivial] Harmonize DataflowDesc constructor (#947)
    
    * [Trivial] Harmonize DataflowDesc constructor
    
    Make `DataflowDesc` slightly more consistent by only taking an `as_of` parameter in the
    fluent builder functions, as opposed to both there and the constructor.

commit 39a825bb96067ed4730751ee5deeed17bed0d3e7
Merge: 4630b5aba c6cf9dab5
Author: Nikhil Benesch <nikhil.benesch@gmail.com>
Date:   Tue Nov 12 10:33:16 2019 -0500

    Merge pull request #945 from benesch/cleanup
    
    doc: fix some broken links

commit c6cf9dab596b5a9c8f440c79d5d37e559a03db84
Author: Nikhil Benesch <nikhil.benesch@gmail.com>
Date:   Tue Nov 12 10:31:40 2019 -0500

    doc: fix some broken links

commit 4630b5aba4ad3f1273f72627aaab51ef8bc083a1
Merge: 34d4f1b18 15a09036a
Author: Nikhil Benesch <nikhil.benesch@gmail.com>
Date:   Tue Nov 12 10:30:11 2019 -0500

    Merge pull request #944 from benesch/cleanup
    
    Tiny cleanups

commit 15a09036af026b1ad71afe42fc1f2f543a6b9549
Author: Nikhil Benesch <nikhil.benesch@gmail.com>
Date:   Tue Nov 12 10:26:30 2019 -0500

    etc: move into misc/dist
    
    It's not important enough to be at the top level of the repository.

commit cd518af31b11d9a4774b98ee2d604e261b4c831a
Author: Nikhil Benesch <nikhil.benesch@gmail.com>
Date:   Tue Nov 12 10:25:30 2019 -0500

    fuzz: update installation instructions
    
    The required patch has landed upstream, so we no longer need to maintain
    a fork.

commit 34d4f1b1867bb7672b3f42fb514d2d2750e5b236
Merge: ba773836f dc93e9960
Author: Nikhil Benesch <nikhil.benesch@gmail.com>
Date:   Tue Nov 12 01:14:58 2019 -0500

    Merge pull request #943 from benesch/fix-docs-build
    
    netlify: fix docs deployment

commit dc93e99606784ea0aec1b05b96c3ba3c4628ebb0
Author: Nikhil Benesch <nikhil.benesch@gmail.com>
Date:   Tue Nov 12 01:13:01 2019 -0500

    netlify: fix docs deployment

commit ba773836f0d386927641e39a8d65c3bb2c0b4cb0
Merge: 505e3f9fe 190623cd0
Author: Nikhil Benesch <nikhil.benesch@gmail.com>
Date:   Tue Nov 12 01:08:15 2019 -0500

    Merge pull request #942 from benesch/docs-build
    
    doc/user: adjust URLs for Netlify build

commit 190623cd0f4d41256595af6a5e682e3e90a91186
Author: Nikhil Benesch <nikhil.benesch@gmail.com>
Date:   Mon Nov 11 23:31:59 2019 -0500

    doc/user: adjust URLs for Netlify build

commit 505e3f9fed29aa9c9d7fae411f0d720eb339c40f
Merge: 746d15cfe 9d9fcefbb
Author: Nikhil Benesch <nikhil.benesch@gmail.com>
Date:   Mon Nov 11 23:33:29 2019 -0500

    Merge pull request #939 from benesch/rust-1.39.0
    
    rust-toolchain: upgrade to Rust 1.39

commit 9d9fcefbbf42c8b6e4f0cdb2a0f566622d53a5ba
Author: Nikhil Benesch <nikhil.benesch@gmail.com>
Date:   Mon Nov 11 16:26:11 2019 -0500

    rust-toolchain: upgrade to Rust 1.39

commit 746d15cfea57fd412f076388fc28c2d1ae8fb490
Merge: fa10b19ec c580ba98e
Author: Nikhil Benesch <nikhil.benesch@gmail.com>
Date:   Mon Nov 11 23:06:27 2019 -0500

    Merge pull request #940 from benesch/skip-ci
    
    ci/test: skip rust steps when no rust changed

commit c580ba98e04fbb8779690a26a886efa9bb396f5b
Author: Nikhil Benesch <nikhil.benesch@gmail.com>
Date:   Mon Nov 11 17:13:09 2019 -0500

    ci/test: skip rust steps when no rust changed
    
    This will make landing docs PRs way more pleasant.
    
    Addresses half of #893.

commit fa10b19ec6bc943ca064ca12e4f9e982dcf2e9a2
Merge: baab55275 e1a336079
Author: Frank McSherry <fmcsherry@me.com>
Date:   Mon Nov 11 23:26:13 2019 +0200

    Merge pull request #937 from frankmcsherry/unit_join
    
    Unit for join is a single zero-ary row.

commit baab5527546bbc447ceb9d0b24b8466282feb6c4
Merge: f9b4417da ccd610e22
Author: Brandon W Maister <bwm@materialize.io>
Date:   Mon Nov 11 16:17:50 2019 -0500

    Merge pull request #904 from quodlibetor/transactions
    
    Lie and say that we support transactions

commit f9b4417dacf435e057f9311ff0ab634af650ca63
Author: Brennan Vincent <brennan@materialize.io>
Date:   Mon Nov 11 16:17:34 2019 -0500

     Clean up routing table when a receiver is dropped. (#938)

commit e1a33607982bf53a5bbfc4998e1acac2ff0b968c
Author: Frank McSherry <fmcsherry@me.com>
Date:   Mon Nov 11 15:44:22 2019 -0500

    Unit for join is a single zero-ary row.

commit 01e05a6cfaf43d227dd9d00cb30fd129acfddc23
Merge: ba53eb4fe 5333bd006
Author: Sean Loiselle <sean@materialize.io>
Date:   Mon Nov 11 15:36:05 2019 -0500

    Merge pull request #931 from sploiselle/doc-anchor-links
    
    docs: automatically create links to headers

commit ba53eb4fe1e70a9b80bb8b0c630e965f6bc8b718
Merge: 1a1acfc47 512cecffc
Author: Sean Loiselle <sean@materialize.io>
Date:   Mon Nov 11 15:35:48 2019 -0500

    Merge pull request #933 from sploiselle/doc-toc
    
    docs: add dynamic TOC

commit 17829e513b422961e005caa8e03efc70db4cea84
Author: sploiselle <sean@materialize.io>
Date:   Mon Nov 11 15:08:01 2019 -0500

    expand README

commit 1a1acfc472a064b9277b494899d068579871f803
Author: JLDLaughlin <JLDLaughlin@users.noreply.github.com>
Date:   Mon Nov 11 15:26:40 2019 -0500

    Show all tables by default (#935)

commit ccd610e22db00dda5ada6c75b8dd8b4abb602c76
Author: Brandon W Maister <bwm@materialize.io>
Date:   Tue Nov 5 10:48:28 2019 -0500

    Lie and say that we support transactions
    
    This plumbs the initial support for transactions through materialized -- we don't _do_
    anything for transactions, but we can support users requesting them.
    
    While for the most part the fact that we're lying about it should have limited observable
    effect, there are two obvious cases where the fact that we don't actually do anything for
    transactions could be user visible:
    
    * Since we don't freeze timestamps, it is possible that peeks at views from the same
      source see things at different timestamps. It's unclear what the semantics of PEEKs
      across different sources should be.
    * Also when doing `CREATE` various things we could take advantage of transactions to not
      create anything in the case of a rollback, and maybe to take a wholistic view on
      arrangement/view creation inside the transaction.
    
    Part of #885

commit 3ef061634d11d6684fbca35060f9f41d8ee03215
Author: Brandon W Maister <bwm@materialize.io>
Date:   Sun Nov 3 17:18:56 2019 -0500

    Break sql::session into multiple modules
    
    This separates the Vars, Session itself, and the prepared statement state.

commit ab61072e5cac8409f8bf5ab63122b295a98a1bac
Author: Cuong Do <cuongdo@users.noreply.github.com>
Date:   Mon Nov 11 15:00:08 2019 -0500

    README tweaks for Terraform demo config (#930)
    
    - Added section on ~/.aws/credentials
    - Made required steps for credentials more obvious using an ordered list
    - Added terraform init step
    - Added mention of SSH timeout

commit b84f31c817dc23cb7f2c96846a2ee06e9cc13317
Author: JLDLaughlin <JLDLaughlin@users.noreply.github.com>
Date:   Mon Nov 11 14:49:48 2019 -0500

    Bind parameters (#920)
    
    Bind parameter values passed to Materialize as bytes to Parameter holes in PreparedStatements.

commit 512cecffc5c83268f02cfd438fddf21802166b06
Author: sploiselle <sean@materialize.io>
Date:   Mon Nov 4 17:03:18 2019 -0500

    add dynamic toc to docs

commit 5333bd0063d8792c4872d595cd60f261c49f2534
Author: sploiselle <sean@materialize.io>
Date:   Mon Nov 4 15:25:07 2019 -0500

    docs: automatically create links to headers

commit 1c4e5f874a68a41439b1c37b534b4bc44f381091
Merge: 42baa6f48 759e44632
Author: Sean Loiselle <sean@materialize.io>
Date:   Mon Nov 11 12:58:37 2019 -0500

    Merge pull request #903 from sploiselle/docs-initial-content
    
    docs: Initial set of content

commit 759e446326525f8885a09b15bb2b7bd97f0191dd
Author: sploiselle <sean@materialize.io>
Date:   Thu Oct 31 15:11:07 2019 -0400

    add initial set of documentation

commit 42baa6f484da2745bc537f7da4d87342f996c6d3
Merge: ea8e9b648 d3847fb61
Author: Frank McSherry <fmcsherry@me.com>
Date:   Mon Nov 11 18:22:43 2019 +0200

    Merge pull request #924 from frankmcsherry/improved_frontiers
    
    Improve peek processing.

commit ea8e9b648c9ac3751fbd70c80dc55550b4d6a220
Merge: 09b135551 d54b2af7c
Author: Nikhil Benesch <nikhil.benesch@gmail.com>
Date:   Mon Nov 11 10:44:51 2019 -0500

    Merge pull request #923 from benesch/chbench-auto
    
    ex/chbench: automate ec2 vm creation

commit 09b1355519b1a7399214c987ec06d49857c78c6e
Merge: cc6c8bdae 8d83ff821
Author: Nikhil Benesch <nikhil.benesch@gmail.com>
Date:   Mon Nov 11 09:05:29 2019 -0500

    Merge pull request #926 from MaterializeInc/dependabot/cargo/md5-0.7.0
    
    Bump md5 from 0.6.1 to 0.7.0

commit cc6c8bdae88871c8df45760f6839f9998016fd91
Merge: a4d875983 55204244b
Author: Nikhil Benesch <nikhil.benesch@gmail.com>
Date:   Mon Nov 11 09:04:42 2019 -0500

    Merge pull request #928 from MaterializeInc/dependabot/cargo/smallvec-1.0.0
    
    Bump smallvec from 0.6.11 to 1.0.0

commit 55204244b84c4e3ca8eb941b14869a1eabc2edc1
Author: dependabot-preview[bot] <27856297+dependabot-preview[bot]@users.noreply.github.com>
Date:   Mon Nov 11 11:59:36 2019 +0000

    Bump smallvec from 0.6.11 to 1.0.0
    
    Bumps [smallvec](https://github.com/servo/rust-smallvec) from 0.6.11 to 1.0.0.
    - [Release notes](https://github.com/servo/rust-smallvec/releases)
    - [Commits](https://github.com/servo/rust-smallvec/compare/v0.6.11...v1.0.0)
    
    Signed-off-by: dependabot-preview[bot] <support@dependabot.com>

commit 8d83ff821b6c5cea34826bda6dc396a8adc2ad58
Author: dependabot-preview[bot] <27856297+dependabot-preview[bot]@users.noreply.github.com>
Date:   Mon Nov 11 11:57:50 2019 +0000

    Bump md5 from 0.6.1 to 0.7.0
    
    Bumps [md5](https://github.com/stainless-steel/md5) from 0.6.1 to 0.7.0.
    - [Release notes](https://github.com/stainless-steel/md5/releases)
    - [Commits](https://github.com/stainless-steel/md5/commits)
    
    Signed-off-by: dependabot-preview[bot] <support@dependabot.com>

commit a4d8759838067929f1341c481bf96da4f15bd28e
Merge: ab8e29323 d5f3fa081
Author: Frank McSherry <fmcsherry@me.com>
Date:   Sun Nov 10 20:55:55 2019 +0200

    Merge pull request #925 from frankmcsherry/bugz
    
    Bugz

commit d5f3fa08151c82b0d23858b944525bdd98757ea7
Author: Frank McSherry <fmcsherry@me.com>
Date:   Sun Nov 10 09:29:00 2019 -0500

    constant map should expose columns

commit e4e48f6a7e8ecadef896e7e1808f0b54510ef6d7
Author: Frank McSherry <fmcsherry@me.com>
Date:   Sun Nov 10 09:28:46 2019 -0500

    empty joins should have no records

commit d3847fb6129bf708e614133ad6616278d2842371
Author: Frank McSherry <fmcsherry@me.com>
Date:   Sat Nov 9 09:55:08 2019 -0500

    reorganize, peek eagerly

commit 8ef232f4de15d44be182e0c2148e5f448db413e7
Author: Frank McSherry <fmcsherry@me.com>
Date:   Sat Nov 9 08:51:22 2019 -0500

    placate clippy

commit d54b2af7c9511ed1ed101394f9268c43b6d632a4
Author: Nikhil Benesch <nikhil.benesch@gmail.com>
Date:   Thu Nov 7 15:54:45 2019 -0500

    ex/chbench: automate ec2 vm creation
    
    Fix #890.

commit c8f0149d33e3bb288ae64c9f1887fb0e5edcf239
Author: Frank McSherry <fmcsherry@me.com>
Date:   Fri Nov 8 14:55:12 2019 -0500

    Changes frontier reporting to event driven.
    
    This PR changes the way workers report their frontier information back to the coordinator, and how the coordinator uses this information. Previously, all workers would report the upper frontiers of all traces they manage. The coordinator would select the frontier of worker zero, and use that as the truth. This information drives the timestamps at which we peek, so it isn't correctness critical, but it can stall peeks a bit if it is unintentionally in advance of some other worker.
    
    The new logic changes all of the communication to be event-driven, with workers communicating changes back to the coordinator. The coordinator now uses the lower bound of frontiers from all workers, which has the potential to unblock some peeks that might have otherwise been blocked.

commit ab8e293232982f9b43e6066f59ab828d37464270
Merge: e2d66de48 aba201182
Author: Brandon W Maister <bwm@materialize.io>
Date:   Fri Nov 8 11:58:11 2019 -0500

    Merge pull request #909 from quodlibetor/chbench-dcsh-conveniences
    
    ex/chbench: don't pull mz if you're building locally

commit e2d66de4807a0360107eeb5075e4cf2d73b9ce01
Author: JLDLaughlin <JLDLaughlin@users.noreply.github.com>
Date:   Fri Nov 8 09:35:47 2019 -0500

    Filter SHOW OBJECTS output with LIKE regex (#921)

commit 5e8ea55bbf2d8542caa3df7a4dd3ca60418b9e2b
Merge: bb84ae4af 3cfc6b660
Author: Frank McSherry <fmcsherry@me.com>
Date:   Fri Nov 8 01:43:49 2019 +0200

    Merge pull request #915 from frankmcsherry/batch_logging
    
    Batch logging messages

commit bb84ae4afc4fbc9532d5a704c51c4444426e6459
Merge: f4e4aee7a 901f5d705
Author: Jamie Brandon <jamie@scattered-thoughts.net>
Date:   Thu Nov 7 23:36:04 2019 +0000

    Merge pull request #919 from jamii/decode_benchmark
    
    Decode benchmark

commit 901f5d705ef3852ae835127c44879266c61e1ff8
Author: Jamie Brandon <jamie@scattered-thoughts.net>
Date:   Thu Nov 7 19:01:54 2019 +0000

    Add a DatumOwned for comparison

commit 0d8baf2ea1abffe14f12536b5b956927d61b99e7
Author: Jamie Brandon <jamie@scattered-thoughts.net>
Date:   Thu Nov 7 17:22:31 2019 +0000

    Change assert to debug_assert

commit 73cfa6ad2cc0fc2a36ffb96807656f73f34136de
Author: Jamie Brandon <jamie@scattered-thoughts.net>
Date:   Thu Nov 7 17:13:43 2019 +0000

    Add a benchmark measuring impact of decoding literals

commit f4e4aee7adcd4653943db914599e6a6903fd06f8
Author: JLDLaughlin <JLDLaughlin@users.noreply.github.com>
Date:   Wed Nov 6 17:43:24 2019 -0500

    Decode (some) bytes into Datums! (#906)
    
    Will decode some parameters (if their format is Binary and they are of a handful of ScalarTypes) into Datums. Don't do anything with them yet.

commit ab2c6df64aac4bc01ce79ececf3f9534851f58cc
Merge: 08abed7e1 56661ea8c
Author: Ruchir Khaitan <ruchir0001@gmail.com>
Date:   Wed Nov 6 16:19:08 2019 -0500

    Merge pull request #902 from ruchirK/debugging-notes
    
    Add new doc detailing how to use {g|ll}db

commit 08abed7e115fc6a1467cd9d629ec7b66907e3a92
Merge: 04ae2b0db cf7242f0d
Author: Frank McSherry <fmcsherry@me.com>
Date:   Wed Nov 6 21:13:56 2019 +0200

    Merge pull request #914 from benesch/no-fun
    
    *: remove some fun

commit 3cfc6b660e4d8aadb899d7231f1a8cc65d0429d5
Author: Frank McSherry <fmcsherry@me.com>
Date:   Wed Nov 6 14:07:52 2019 -0500

    Batch logging messages
    
    Logging messages can be batched based on the timestamp used, until the point that the timestamp will no longer be used.
    Based on our logging granularity, we can batch more aggressively, because this timestamp changes relatively less frequently.

commit 56661ea8c0a4a7f5fa8df23703d73dccf6f3e193
Author: Ruchir Khaitan <ruchir0001@gmail.com>
Date:   Tue Nov 5 14:01:35 2019 -0500

    Add new doc detailing how to use {g|ll}db

commit cf7242f0db2bd26ba3eb7edf7f42192f1c5837ca
Author: Nikhil Benesch <nikhil.benesch@gmail.com>
Date:   Thu Oct 31 16:29:13 2019 -0400

    *: remove some fun
    
    Tweak some language and emojis to be a bit more crisp and professional.

commit 04ae2b0dbffc785cd61fea7e0afca0fe07e4fb54
Merge: 686696c25 bc9702402
Author: Nikhil Benesch <nikhil.benesch@gmail.com>
Date:   Wed Nov 6 09:31:41 2019 -0800

    Merge pull request #876 from benesch/doc-coalesce
    
    doc: coalesce development and authentication docs

commit 686696c25db769ad52474d9af66686ebc5587001
Merge: cdaf56de4 e3bd5af50
Author: Nikhil Benesch <nikhil.benesch@gmail.com>
Date:   Wed Nov 6 09:31:28 2019 -0800

    Merge pull request #912 from frankmcsherry/fix_master
    
    Fix master

commit e3bd5af5025429a6e0fe8cb045de15249f87c365
Author: Frank McSherry <fmcsherry@me.com>
Date:   Wed Nov 6 12:14:05 2019 -0500

    fix master

commit bc9702402127c687b3daacb0c1f3395f780e1743
Author: Nikhil Benesch <nikhil.benesch@gmail.com>
Date:   Thu Oct 31 16:39:34 2019 -0400

    doc: coalesce development and authentication docs
    
    The GitHub authentication doc duplicates a lot of information from the
    official GitHub docs and is likely to go stale. Roll a small subset of
    it into the main developer docs. Also call out the other repositories
    that we maintain.

commit aba201182f42f60c42a0af08e28aca91c2d9972f
Author: Brandon W Maister <bwm@materialize.io>
Date:   Tue Nov 5 18:18:37 2019 -0500

    ex/chbench: Add the MZ_LOG paramater with its default config to the file
    
    Make it more obvious that it's possible to enable logs inside docker-compose.

commit 320d2c87b40819a2d24a771fd2197d1e5bd75db8
Author: Brandon W Maister <bwm@materialize.io>
Date:   Tue Nov 5 18:16:31 2019 -0500

    dc.sh: don't 'docker pull' when running against local images
    
    It can be annoying to pull a few hundred megabytes of materialized when you're compiling
    it locally.

commit cdaf56de42dde1553399026af41f8a74c61ae16d
Merge: a6b02f044 9d5cc8987
Author: Frank McSherry <fmcsherry@me.com>
Date:   Wed Nov 6 15:53:49 2019 +0200

    Merge pull request #881 from frankmcsherry/project_joins
    
    WIP: Project joins

commit a6b02f044d7a42dedce9cfadada1001e85f6e4d5
Author: JLDLaughlin <JLDLaughlin@users.noreply.github.com>
Date:   Tue Nov 5 13:26:07 2019 -0500

    Decode bind message sent from Postgres (#899)
    
    Intermediate step to be able to bind: fully parse the bind message and parameters being sent from Postgres and store them in the FrontendMessage::Bind object.

commit 79aa8d1110223cb78c32967b345a6df9f6fc8d14
Author: Cuong Do <cuongdo@users.noreply.github.com>
Date:   Tue Nov 5 13:21:49 2019 -0500

    Tweaks for demo EC2 setup script (#901)
    
    - Add a sleep loop before mkfs.ext4. There was sometimes a race with the
      preceding fdisk.
    - Reasonable defaults for git.

commit a087996160f929b2dd22d6eb4d24bcb9d6763b86
Author: Brennan Vincent <brennan@materialize.io>
Date:   Tue Nov 5 12:10:09 2019 -0500

    Build jemalloc with profiling support (#900)

commit 96ba48b2acb7485e5467894f5beeb46141af178f
Merge: 3573bb6a9 17964c91d
Author: Sean Loiselle <sean@materialize.io>
Date:   Tue Nov 5 11:57:43 2019 -0500

    Merge pull request #877 from sploiselle/docs-site
    
    add Hugo site structure for documentation

commit 3573bb6a93f972a1911b7ba56da45c728aa9d3bb
Merge: 8f539099a b2fe1a913
Author: Frank McSherry <fmcsherry@me.com>
Date:   Tue Nov 5 18:43:32 2019 +0200

    Merge pull request #898 from frankmcsherry/improve_logging
    
    Update timely version, and reduce logging volume.

commit 17964c91dda9795e244de3b32cfd69c255d7f4a3
Author: sploiselle <sean@materialize.io>
Date:   Thu Oct 31 15:11:07 2019 -0400

    add Hugo site structure for documentation

commit b2fe1a9138a5358cc8ab41be02b9e214976f2a1d
Author: Frank McSherry <fmcsherry@me.com>
Date:   Tue Nov 5 10:05:31 2019 -0500

    Update timely version, and reduce logging volume.

commit 8f539099a2679f9261877a20567c7c49db868900
Author: JLDLaughlin <JLDLaughlin@users.noreply.github.com>
Date:   Tue Nov 5 09:39:48 2019 -0500

    Store and return parameter types (#895)
    
    Intermediate step to being able to bind parameters: fetches and returns a ParameterDescription for each $val in a PreparedStatement to return to Postgres' "DESCRIBE".

commit a261ae75a1299afb4e245cb07a6e3c7cf575c439
Merge: 2af72422e b771784f6
Author: Nikhil Benesch <nikhil.benesch@gmail.com>
Date:   Mon Nov 4 21:58:21 2019 -0500

    Merge pull request #882 from benesch/show-columns-names
    
    sql: use postgres type names in output of SHOW COLUMNS

commit b771784f6d787d731cf6927be66d4a3c3444c22d
Author: Nikhil Benesch <nikhil.benesch@gmail.com>
Date:   Fri Nov 1 09:26:16 2019 -0700

    sql: use postgres type names in output of SHOW COLUMNS
    
    Fix #880.

commit 2af72422eefddec3415a83763b1509abda160bdd
Merge: b2e1b0873 d708bb3c3
Author: Frank McSherry <fmcsherry@me.com>
Date:   Tue Nov 5 00:19:39 2019 +0200

    Merge pull request #892 from frankmcsherry/log_parks
    
    Log parks

commit b2e1b087314c0d70e86964a8d07e72c6c22b1277
Merge: d25d97317 a4fb9343f
Author: Frank McSherry <fmcsherry@me.com>
Date:   Mon Nov 4 22:28:29 2019 +0200

    Merge pull request #889 from frankmcsherry/lift_projections
    
    Lift projections

commit a4fb9343f000d3a4545cee020309fb48a02ef07c
Author: Frank McSherry <fmcsherry@me.com>
Date:   Mon Nov 4 15:00:12 2019 -0500

    Tidy comments.

commit 9cec87b1c458f4408a1b05806f037442121ce274
Author: Frank McSherry <fmcsherry@me.com>
Date:   Mon Nov 4 14:57:50 2019 -0500

    Ensure join fusion produces equivalence classes of keys.

commit d708bb3c395e442e8b1e6be5b213818d13c12bda
Author: Frank McSherry <fmcsherry@me.com>
Date:   Mon Nov 4 14:21:19 2019 -0500

    Re-use RowPacker within timely demux.

commit 5136360d9cf86272ce18cef3d7fb98eb67ec2c7a
Author: Frank McSherry <fmcsherry@me.com>
Date:   Mon Nov 4 14:16:47 2019 -0500

    Log park and unpark timings.

commit 05e38e73f5bb7d398f8237520f7f91670b7b9e64
Author: Frank McSherry <fmcsherry@me.com>
Date:   Mon Nov 4 13:30:16 2019 -0500

    Cannot lift through threshold.

commit 65c5b5d43046ba14d66957d31c90f88ebfc5c61b
Author: Frank McSherry <fmcsherry@me.com>
Date:   Mon Nov 4 13:06:50 2019 -0500

    Re-run tests with corrected logic.

commit 0c1b659f8bf13dccc0d700bdd9a58cf82f3558e3
Author: Frank McSherry <fmcsherry@me.com>
Date:   Mon Nov 4 13:03:06 2019 -0500

    Use the correct inner arity.

commit 10cbacfe9dd3a614898b26869262cbe3271105d8
Author: Frank McSherry <fmcsherry@me.com>
Date:   Mon Nov 4 11:38:18 2019 -0500

    Clippy's cognitive complexity is low.

commit 29bafca34e92d8dd252bd912f96b783463e606f7
Author: Frank McSherry <fmcsherry@me.com>
Date:   Mon Nov 4 11:14:09 2019 -0500

    Lift projections after join ordering.

commit ebca8be14c8b380848bb9dc25c60f2828f85d8d1
Author: Frank McSherry <fmcsherry@me.com>
Date:   Mon Nov 4 10:52:09 2019 -0500

    Special case union for improbable case that columns and projections align.

commit 759b247f66a704d4c84b25d6868490edba100ee0
Author: Frank McSherry <fmcsherry@me.com>
Date:   Mon Nov 4 09:56:03 2019 -0500

    Lift projections through operators whenever possible.

commit d25d973171282ba49f662c1a74a13557a312c8b0
Merge: 10b665c8b 7ac092251
Author: JLDLaughlin <JLDLaughlin@users.noreply.github.com>
Date:   Sat Nov 2 15:12:11 2019 -0400

    Merge pull request #886 from JLDLaughlin/use_signed_integers
    
    Read signed integers from Postgres

commit 7ac092251ce446e7769d9ddb9321d09387130139
Author: JLDLaughlin <jessica@materialize.io>
Date:   Sat Nov 2 14:49:40 2019 -0400

    linting

commit fdfb8a1475d1dc7f007856f196c2d191a6f4a4a5
Author: JLDLaughlin <jessica@materialize.io>
Date:   Sat Nov 2 14:33:24 2019 -0400

    Use u32 for conn_id and secret_key

commit 10b665c8bbb408f6e586a388d95a2fe7978d1261
Merge: 51915f780 987b7951c
Author: Frank McSherry <fmcsherry@me.com>
Date:   Sat Nov 2 15:30:02 2019 +0200

    Merge pull request #887 from frankmcsherry/tpch_online
    
    Re-enable TPC-H tests

commit 987b7951c6d1dcccd7ff4597e586f87179f98a4e
Author: Frank McSherry <fmcsherry@me.com>
Date:   Sat Nov 2 09:19:35 2019 -0400

    tidy lingering comments

commit b80e4351007c80cfd34cc5c91b2beba04bb11b57
Author: Frank McSherry <fmcsherry@me.com>
Date:   Sat Nov 2 09:09:58 2019 -0400

    fix up q789

commit 96e76f964726028e77177b1b26f81cef6bb31817
Author: Frank McSherry <fmcsherry@me.com>
Date:   Sat Nov 2 08:59:19 2019 -0400

    reduce scalar aggr.expr

commit b5113cbca638b3e6977681950a92f62c2fcdf7d4
Author: Frank McSherry <fmcsherry@me.com>
Date:   Sat Nov 2 08:54:14 2019 -0400

    bring TPCH explain tests back

commit 9d5cc8987943b7ca37270c1ff9959a649981210d
Author: Frank McSherry <fmcsherry@me.com>
Date:   Sat Nov 2 08:38:02 2019 -0400

    complete comments

commit 51915f780047ea5092699c27dd20c3361803cc18
Merge: 5ac299553 73d3ff440
Author: Frank McSherry <fmcsherry@me.com>
Date:   Sat Nov 2 14:34:44 2019 +0200

    Merge pull request #884 from frankmcsherry/scalar_reduction
    
    Reduces logical AND and OR when one argument is a constant.

commit c7dc8d72038b33c7397af497b9331917c72c343d
Author: Frank McSherry <fmcsherry@me.com>
Date:   Sat Nov 2 08:28:40 2019 -0400

    retain group keys

commit 88ecb286409e067b6e77aff58a140ec26bf96a26
Author: Frank McSherry <fmcsherry@me.com>
Date:   Sat Nov 2 08:26:03 2019 -0400

    retain group and order keys

commit 73d3ff440e433ba7b6577688b83e5c0536934185
Author: Frank McSherry <fmcsherry@me.com>
Date:   Sat Nov 2 08:22:17 2019 -0400

    appease clippy

commit eac36bc387fb7e67acc6408dc97f730da8aaf4c4
Author: JLDLaughlin <jessica@materialize.io>
Date:   Fri Nov 1 16:03:36 2019 -0400

    re-remove read_u32!, use try_into() instead of casting

commit 0641bd70937cdf1b9f7da35e24177002ed0b0739
Author: JLDLaughlin <jessica@materialize.io>
Date:   Fri Nov 1 15:43:04 2019 -0400

    re-add `read_u32` for the secret key

commit 5553e04d97e61658d457865c569a12be5e005430
Author: JLDLaughlin <jessica@materialize.io>
Date:   Fri Nov 1 14:52:36 2019 -0400

    Read signed integers from postgres
    
    Switch from reading unsigned integers to reading signed integers from Postgres. Postgres doesn't support unsigned integers, it appears that negative ints are used for signaling. This change is necessary to correctly parse messages like Bind.

commit 9bee1fc15645ab80669df3c2f7160400756e94b5
Author: Frank McSherry <fmcsherry@me.com>
Date:   Fri Nov 1 13:45:16 2019 -0400

    Reduces logical AND and OR when one argument is a constant.

commit dadd048c6fbf3df34f3ccff9c9444cc3cff3556f
Author: Frank McSherry <fmcsherry@me.com>
Date:   Fri Nov 1 12:51:50 2019 -0400

    crap

commit 69a49a89ad92f2aa7de0f47d75f0f8e82d776ab7
Author: Frank McSherry <fmcsherry@me.com>
Date:   Fri Nov 1 11:51:58 2019 -0400

    tidy tests

commit 515e7a9fcf6a89d3ae8f7e3b4a2480e3b8ed9fdc
Author: Frank McSherry <fmcsherry@me.com>
Date:   Fri Nov 1 11:30:48 2019 -0400

    unclear what changed

commit 14f4fb188c06bcb5411ea1a1b6f50d1d2cf5e7da
Author: Frank McSherry <fmcsherry@me.com>
Date:   Fri Nov 1 10:59:21 2019 -0400

    rebase failure

commit feb5884345e55f7552ba1d4dac0621034f53f9aa
Author: Frank McSherry <fmcsherry@me.com>
Date:   Fri Oct 25 14:19:27 2019 -0400

    initial commit

commit 5ac299553ffe4c45e56b379700471bb6b162bfdc
Merge: e68a5a501 29a0fd169
Author: Jamie Brandon <jamie@scattered-thoughts.net>
Date:   Fri Nov 1 14:40:07 2019 +0000

    Merge pull request #874 from MaterializeInc/realloc_no_more
    
    Realloc no more

commit 29a0fd169925f6c118198699315cf7e3c9e6f4a7
Author: Jamie Brandon <jamie@scattered-thoughts.net>
Date:   Fri Nov 1 14:21:44 2019 +0000

    Update docs

commit e68a5a501d9b2d9e84f3a4863031b5bb74bf40f7
Merge: 18d4860ab ed6a32d60
Author: Sean Loiselle <sean@materialize.io>
Date:   Fri Nov 1 09:58:04 2019 -0400

    Merge pull request #879 from sploiselle/debezium-docs
    
    remove broken link to download pregenerated TPCH DDLs

commit ed6a32d60510b59eb831b0c5412ce360be7e103e
Author: sploiselle <sean@materialize.io>
Date:   Thu Oct 31 17:07:02 2019 -0400

    remove broken link to download pregenerated TPCH DDLs

commit 18d4860ab0e876843a15f7211ac5fc5b83a0c2c2
Merge: 93d4b8672 de5b48fbd
Author: Sean Loiselle <sean@materialize.io>
Date:   Thu Oct 31 17:10:14 2019 -0400

    Merge pull request #878 from benesch/debezium-docs
    
    doc: fix MySQL/Debezium guide

commit de5b48fbdeb7f42a7c956651c95c4bc7160e621a
Author: Nikhil Benesch <nikhil.benesch@gmail.com>
Date:   Thu Oct 31 16:51:29 2019 -0400

    doc: fix MySQL/Debezium guide
    
    Fix the bugs that Frank discovered in #870.
    
    Fix #870.

commit 93d4b86723b8bc649593d06859679a9b5f7616ee
Merge: 9e9530b2b 6dc039cb2
Author: Brandon W Maister <bwm@materialize.io>
Date:   Thu Oct 31 16:15:07 2019 -0400

    Merge pull request #872 from quodlibetor/chbench-modularity
    
    Make docker-compose play nicer with systems running on the host

commit 9e9530b2b4baabd658812de263f31f0e280208fd
Merge: b4235c6d4 9999bf74e
Author: Frank McSherry <fmcsherry@me.com>
Date:   Thu Oct 31 22:08:53 2019 +0200

    Merge pull request #875 from frankmcsherry/simplify_orderby
    
    Only introduce new columns when needed

commit 9999bf74ec371926ec29695dd5dd515afcd7841d
Author: Frank McSherry <fmcsherry@me.com>
Date:   Thu Oct 31 15:39:11 2019 -0400

    amend tests

commit 1db63d85868279d41e6ba795ac0afb689ed2d460
Author: Frank McSherry <fmcsherry@me.com>
Date:   Thu Oct 31 14:58:10 2019 -0400

    only introduce new columns when needed

commit a3e91eb1aa3bec0625b744858aed0924f249219b
Merge: e44f68c66 b4235c6d4
Author: Jamie Brandon <jamie@scattered-thoughts.net>
Date:   Thu Oct 31 19:28:27 2019 +0000

    Merge branch 'master' into realloc_no_more

commit b4235c6d4eccc3ed1bf8de392c8156de2bf65c38
Merge: 1ab241e61 56185ebd3
Author: Nikhil Benesch <nikhil.benesch@gmail.com>
Date:   Thu Oct 31 15:13:52 2019 -0400

    Merge pull request #865 from benesch/prepared-prep
    
    coord,pgwire,sql: prep work for prepared statements

commit 56185ebd3c233f00683d7a324d3ee8d08b18ba07
Author: Nikhil Benesch <nikhil.benesch@gmail.com>
Date:   Thu Oct 31 00:54:53 2019 -0400

    symbiosis: include missing feature for rust_decimal

commit d80563bc768a69c22c79fdbe339d6b37dd5c3eaa
Author: Nikhil Benesch <nikhil.benesch@gmail.com>
Date:   Thu Oct 31 00:54:13 2019 -0400

    materialized: allow shutting down a server
    
    This is useful in forthcoming integration tests.

commit 996db69e328b08111f38c9ede0955c82f1a0e6c3
Author: Nikhil Benesch <nikhil.benesch@gmail.com>
Date:   Wed Oct 30 16:12:11 2019 -0400

    sql: add parameter type inference
    
    Infer types for query parameters like PostgreSQL. The rules are
    described in the "Type Conversion" section of the PostgreSQL manual [0].
    Our implementation hardcodes the rules as necessary, while PostgreSQL's
    is general (and even allows additional types and operators to be added
    at runtime!), but our implementation should be more than good enough for
    now.
    
    [0]: https://www.postgresql.org/docs/current/typeconv.html

commit e44f68c6641b00839c4a8c4167c1a02f7186fc85
Author: Jamie Brandon <jamie@scattered-thoughts.net>
Date:   Thu Oct 31 18:42:05 2019 +0000

    Don't clone until after limit

commit 6dc039cb26805b589552353c698d7c8cc56768cf
Author: Brandon W Maister <bwm@materialize.io>
Date:   Thu Oct 31 12:00:12 2019 -0400

    ex/chbench: make the dc script capable of running individual items
    
    Improve the usage while I'm at it.

commit d360a1d3be8ee022472b1b59e1d386a03de587f2
Author: Jamie Brandon <jamie@scattered-thoughts.net>
Date:   Thu Oct 31 18:17:48 2019 +0000

    Typo

commit 8d2f341d0456d8c488d70c9611c5bb65ea719d00
Author: Jamie Brandon <jamie@scattered-thoughts.net>
Date:   Thu Oct 31 18:16:17 2019 +0000

    rustfmt

commit 015710dc4988c3bf025b0519096d30fa20343c80
Author: Jamie Brandon <jamie@scattered-thoughts.net>
Date:   Thu Oct 31 18:02:42 2019 +0000

    Docs and clippy

commit bad22a3c30a323a1e0455abaf282e64e357b9637
Author: Jamie Brandon <jamie@scattered-thoughts.net>
Date:   Thu Oct 31 17:47:43 2019 +0000

    Not currently using Abomonation

commit c1d35cf3bc80ee072058f16fd550f677e585da74
Author: Jamie Brandon <jamie@scattered-thoughts.net>
Date:   Thu Oct 31 17:45:00 2019 +0000

    Clean up naming throughout

commit 34c4171481064e274db1af0f201039dc65c8070f
Author: Jamie Brandon <jamie@scattered-thoughts.net>
Date:   Thu Oct 31 17:22:47 2019 +0000

    Save a word by not allowing Row to be mutated

commit 4af31e509289980fdb67dce7c3285c4ecbe53cf1
Author: Brandon W Maister <bwm@materialize.io>
Date:   Thu Oct 31 11:53:41 2019 -0400

    ex/chbench: Move all exposed ports to 600n
    
    In particular this fixes the conflict between grafana and metabase which both want port
    3000 on the host system when I'm trying to use chbench to test metabase by continuously
    restarting the chbench cluster.
    
    This uses yaml anchors[1] as variables, inside a docker-compose extention node (prefixed
    with `x-`).
    
    [1]: https://yaml.org/spec/1.2/spec.html#id2785586

commit c23e4813220e124c7cd8a5936a7539aa855f459d
Author: Brennan Vincent <brennan@materialize.io>
Date:   Thu Oct 31 10:57:04 2019 -0400

    more sensical option parsing; add flags for materialized and SR urls

commit 024c59ffb5c3d02e105e0458d24c5ea337d86013
Author: Jamie Brandon <jamie@scattered-thoughts.net>
Date:   Wed Oct 30 21:58:15 2019 +0000

    Rename RowBuffer -> RowPacker

commit e7a97577890caac1bf64043727449e8ecc2e10be
Author: Jamie Brandon <jamie@scattered-thoughts.net>
Date:   Wed Oct 30 21:28:15 2019 +0000

    Cargo.lock

commit 0002e9c88b1f4b8bba849c7abc3e16a36345e472
Author: Jamie Brandon <jamie@scattered-thoughts.net>
Date:   Wed Oct 30 21:28:02 2019 +0000

    Misc shell.nix fixes

commit ef6c3ca1b76a95c9706d88a0bbdfa64f5b30eb7f
Author: Jamie Brandon <jamie@scattered-thoughts.net>
Date:   Wed Oct 30 21:27:54 2019 +0000

    RowBuffer

commit a5608fb10e0a7db89d71c9f2b581540673b21f06
Author: Nikhil Benesch <nikhil.benesch@gmail.com>
Date:   Wed Oct 30 15:12:44 2019 -0400

    sql: plumb parameters through planning
    
    Nothing actually results in a ScalarExpr::Parameter yet, but we'll be
    ready when things do.

commit 1ab241e6171a76425c9b2c41a3e02f0cee02c0cc
Author: Cuong Do <cuongdo@users.noreply.github.com>
Date:   Wed Oct 30 13:28:04 2019 -0400

    Fix EC2 setup script for chbenchmark (#868)
    
    We were performing operations on /mnt/docker before it was created

commit 2c3263deb26aa3e209232552e7a3416342d550da
Author: Nikhil Benesch <nikhil.benesch@gmail.com>
Date:   Wed Oct 30 13:21:08 2019 -0400

    sql: store QueryContext in ExprContext

commit dd7c5aa3df80f7f51f5ffa146294e2b260dcc57e
Author: Nikhil Benesch <nikhil.benesch@gmail.com>
Date:   Wed Oct 30 11:26:22 2019 -0400

    sql: introduce a QueryContext state bundle
    
    Like ExprContext for scalar expressions, introduce a QueryContext for
    relation expressions, to make it easy to add state that must be
    propagated during Query planning.

commit 88672b9327e62a85acc63da5e266a08682c74015
Author: Brennan Vincent <brennan@materialize.io>
Date:   Wed Oct 30 11:29:47 2019 -0400

    oops, seconds instead of microseconds

commit 8ef215abbc9debeffaacfa2fde3070441708a75c
Author: Brennan Vincent <brennan@materialize.io>
Date:   Wed Oct 30 11:14:37 2019 -0400

    wire up peek delays

commit 26fafddd1845c9722419a4fbecd23a9612bd959c
Author: Nikhil Benesch <nikhil.benesch@gmail.com>
Date:   Wed Oct 30 10:58:25 2019 -0400

    sql: rename ctx to ecx
    
    "cx" is the Rust convention for "context", rather than "ctx", and the
    "e" prefix will distinguish the variable from the forthcoming query
    context, or "qcx".

commit 3ab0ed362fb84c95e6bd59ab3889e4af4a65783f
Author: Cuong Do <cuongdo@users.noreply.github.com>
Date:   Wed Oct 30 10:45:00 2019 -0400

    Chbench improvements (#866)
    
    * Pull latest chbenchmark
    
    * Load test changes
    
    - Detach from load test, to prevent accidental termination
    - Add new queries to load test
    - Flush sources with empty Debezium record every 30 seconds. Needed for
    some new queries.

commit 52756fcf03cf4c637297e72befa133ce5d7a0c09
Merge: e71244bac 794c0c604
Author: Ruchir Khaitan <ruchir0001@gmail.com>
Date:   Wed Oct 30 09:22:45 2019 -0400

    Merge pull request #864 from ruchirK/binary-interval
    
    Add binary encoding support for intervals

commit 794c0c604123273fa240dbfa6a6d33a36678cf1e
Author: Ruchir Khaitan <ruchir0001@gmail.com>
Date:   Tue Oct 29 13:53:46 2019 -0400

    Add binary encoding support for intervals
    
    Fixes #600

commit 2dd3e37e545f4f874d2cc705153ca1c3f92de677
Author: Nikhil Benesch <nikhil.benesch@gmail.com>
Date:   Tue Oct 29 18:37:48 2019 -0400

    sql: split decorrelation out of root-query planning
    
    These are technically separate operations, and describing wants to be
    able to perform root-query planning without performing decorrelation.

commit e71244bac76ea246d4fe8e09d43b7db8646c905c
Merge: 1095b81e4 4500d137f
Author: Nikhil Benesch <nikhil.benesch@gmail.com>
Date:   Tue Oct 29 18:22:13 2019 -0400

    Merge pull request #859 from benesch/docs
    
    docs: reorg, reformat, copyedits

commit e9066c01eeec306dd9b4d98600294d7601a9823a
Author: Nikhil Benesch <nikhil.benesch@gmail.com>
Date:   Tue Oct 29 17:29:35 2019 -0400

    test: move memory.slt into special directory
    
    This test takes forever to run and doesn't provide really any additional
    coverage. Since we're not automatically inspecting the amount of memory
    it uses, move it to a special directory, where it won't be run unless
    explicitly requested.

commit 895457c742e18b3f32df0aba819a144c79286624
Author: Nikhil Benesch <nikhil.benesch@gmail.com>
Date:   Tue Oct 29 16:47:26 2019 -0400

    coord,sql: split describing from executing
    
    The pgwire extended protocol splits describing what a query will produce
    from actually executing the query. Our previous APIs in the sql/coord
    crates was centered around the simple protocol, where
    description/execution happen all at once. Since the extended flow is
    strictly more general, adjust our API to split description from
    execution. This saves us from double-planning queries just to figure out
    the shape of their result set (in most cases, at least), and tees us up
    nicely for supported prepared statements.

commit 490a4188b651fa8f7cbe04a7cfe4b7def8953a4f
Author: Nikhil Benesch <nikhil.benesch@gmail.com>
Date:   Tue Oct 29 15:43:24 2019 -0400

    coord: remove simple query support
    
    The pgwire simple query flow can easily be implemented in terms of the
    extended query flow. Do so, to shrink the API of the coordinator.

commit 9db105fabc8dce818dccbf6ba405014c08ea9f6f
Author: Nikhil Benesch <nikhil.benesch@gmail.com>
Date:   Tue Oct 29 15:09:02 2019 -0400

    pgwire: remove unnecessary HandleBind state

commit bcddb9a03c1a4555b0f55e9c69ef533aa3e19044
Author: Nikhil Benesch <nikhil.benesch@gmail.com>
Date:   Tue Oct 29 11:54:57 2019 -0400

    pgwire: use consistent name for `extended` field

commit 1095b81e4fab67eec9d695d10d31e460f632820f
Merge: 250b1a9a2 bde799d0d
Author: Jamie Brandon <jamie@scattered-thoughts.net>
Date:   Tue Oct 29 19:04:52 2019 +0000

    Merge pull request #817 from jamii/row_layout
    
    Row layout

commit bde799d0d02958de7cc632b7274b30d5bf02693a
Merge: f7b127e76 250b1a9a2
Author: Jamie Brandon <jamie@scattered-thoughts.net>
Date:   Tue Oct 29 18:49:30 2019 +0000

    Merge branch 'master' into row_layout

commit 250b1a9a281aa95fe8fdcdecede6b1d9854487be
Merge: ffba9e618 3f24e48f8
Author: Jamie Brandon <jamie@scattered-thoughts.net>
Date:   Tue Oct 29 17:57:15 2019 +0000

    Merge pull request #863 from jamii/update_nix
    
    Update nix

commit 3f24e48f8a45685693aa6bd87981abea9204adbd
Author: Jamie Brandon <jamie@scattered-thoughts.net>
Date:   Tue Oct 29 17:45:15 2019 +0000

    Clippy

commit 9e8baadb797916efc46a7bcb042b745fa0279397
Author: Jamie Brandon <jamie@scattered-thoughts.net>
Date:   Tue Oct 29 17:27:12 2019 +0000

    Update nix

commit ffba9e618612e7815ba49bd9963afa3a080a36b0
Merge: 822020cef f11ac5478
Author: Ruchir Khaitan <ruchir0001@gmail.com>
Date:   Tue Oct 29 13:03:28 2019 -0400

    Merge pull request #853 from MaterializeInc/min-max-dates
    
    Min/max functions for date and timestamp columns

commit 4500d137fff7d78d06f6c3e2e68c3b327c60b5c4
Author: Nikhil Benesch <nikhil.benesch@gmail.com>
Date:   Tue Oct 29 11:29:53 2019 -0400

    doc: ocd copyedits
    
    Use sentence case for headings consistently across the docs. Also fix
    some run-on sentences.

commit 2cc9e9a0fc6e643375a87e2eef10d6fc3b3c5a13
Author: Nikhil Benesch <nikhil.benesch@gmail.com>
Date:   Tue Oct 29 11:22:14 2019 -0400

    doc: hard-wrap at 80 chars
    
    Text documents should be hard-wrapped at 80 characters for readability
    from the terminal/text editors. There are no substantive changes in this
    commit; just reformattings.

commit 37534435b1f995811854fe455b7c126c45e52e9d
Author: Nikhil Benesch <nikhil.benesch@gmail.com>
Date:   Tue Oct 29 11:15:43 2019 -0400

    doc: reorg into per-doc asset folders
    
    This organization makes it a bit easier to see which files belong to
    which doc.

commit f11ac54783c3d27e755da749d8c831bcaae2a578
Author: Ruchir Khaitan <ruchir0001@gmail.com>
Date:   Tue Oct 29 11:02:46 2019 -0400

    Add min/max functions for timestamp columns
    
    Fixes #801

commit 534ea5055f9a01a11a454e934a98356967bd184a
Author: Ruchir Khaitan <ruchir0001@gmail.com>
Date:   Mon Oct 28 15:30:32 2019 -0400

    Add max and min function for date columns

commit 822020cefbcf27089faf5b92bd1df558921992da
Merge: 97d546aa6 776bfb01f
Author: Nikhil Benesch <nikhil.benesch@gmail.com>
Date:   Tue Oct 29 10:38:47 2019 -0400

    Merge pull request #852 from benesch/sql-expr-exhaustive
    
    sql: exhaustively match expression variants

commit f7b127e76f2521d7d6a144841f7c415dbc0c2961
Author: Jamie Brandon <jamie@scattered-thoughts.net>
Date:   Tue Oct 29 14:24:41 2019 +0000

    Fix doc-test

commit 4ab5dc4614f39d1436e66b510c587d1a45d0339a
Author: Jamie Brandon <jamie@scattered-thoughts.net>
Date:   Tue Oct 29 13:52:54 2019 +0000

    Add note about map weirdness

commit 2794c50e8dfcf369031f0b7936f5f65f9247edbb
Author: Jamie Brandon <jamie@scattered-thoughts.net>
Date:   Tue Oct 29 13:33:06 2019 +0000

    Remove unnecessary move

commit 6b9065018c9f918fdcb3af7fab57e5584e80476a
Author: Jamie Brandon <jamie@scattered-thoughts.net>
Date:   Tue Oct 29 13:24:34 2019 +0000

    Bench unpacking

commit db063bef65de758fd357f581844ae0ae1252bbe7
Author: Jamie Brandon <jamie@scattered-thoughts.net>
Date:   Tue Oct 29 13:03:40 2019 +0000

    Compare sorting with buffers

commit 2871aa4d5d834164100e0a7901956958078900db
Author: Jamie Brandon <jamie@scattered-thoughts.net>
Date:   Tue Oct 29 12:58:44 2019 +0000

    Update tests/benchmarks

commit 6654e3f4695db5d385bd4222b80566c7a927ed2a
Author: Jamie Brandon <jamie@scattered-thoughts.net>
Date:   Tue Oct 29 12:47:34 2019 +0000

    Replace `row.as_datums(&mut buffer)` with `buffer.from_iter(&row)`...
    
    ...to make it clearer that mutating the resulting buffer does not
    affect the row.

commit 9d4b277835eda2f52cd12c7df4dd67158caf3e12
Merge: 71c2d416a 97d546aa6
Author: Jamie Brandon <jamie@scattered-thoughts.net>
Date:   Tue Oct 29 12:26:51 2019 +0000

    Merge branch 'master' into row_layout

commit 97d546aa628531374945a9bb0344b72c67efbc30
Merge: 72befb32d 2f6a7b54f
Author: Nikhil Benesch <nikhil.benesch@gmail.com>
Date:   Tue Oct 29 00:04:02 2019 -0400

    Merge pull request #850 from MaterializeInc/dependabot/cargo/differential-dataflow-5c7b83a
    
    build(deps): bump differential-dataflow from `6ee4a58` to `5c7b83a`

commit 72befb32d0f00ccdd3c9c257a5db0dbccee08f6a
Merge: b294a7e7e 0d1b54341
Author: Nikhil Benesch <nikhil.benesch@gmail.com>
Date:   Tue Oct 29 00:03:32 2019 -0400

    Merge pull request #851 from benesch/disable-uuid-u128
    
    deps: upgrade to uuid v0.8

commit b294a7e7e28f804c2ae2cdbbbca01fe072687f2a
Merge: 3813d230c ed883dd5b
Author: Nikhil Benesch <nikhil.benesch@gmail.com>
Date:   Tue Oct 29 00:03:26 2019 -0400

    Merge pull request #848 from MaterializeInc/dependabot/cargo/smallvec-0.6.11
    
    build(deps): bump smallvec from 0.6.10 to 0.6.11

commit 776bfb01f6aedd9a88c4b77fd388e0e9e529a1ef
Author: Nikhil Benesch <nikhil.benesch@gmail.com>
Date:   Mon Oct 28 23:59:23 2019 -0400

    sql: exhaustively match expression variants
    
    We're now at the point where we can easily match against all
    sqlparser::ast::Expr variants. Do so, to make it very clear what we do
    not yet support. This has the nice side-effect of improving user error
    messages.

commit 3813d230c896f69db4f4baaf324c1280af260e2b
Merge: 5b1e4520a 0814339ef
Author: Nikhil Benesch <nikhil.benesch@gmail.com>
Date:   Mon Oct 28 23:50:34 2019 -0400

    Merge pull request #849 from MaterializeInc/dependabot/cargo/sqlparser-5f22011
    
    build(deps): bump sqlparser from `e323b1a` to `5f22011`

commit 0d1b543413b1e51ee1b7209eecc9362468e6bf10
Author: Nikhil Benesch <nikhil.benesch@gmail.com>
Date:   Mon Oct 28 23:37:13 2019 -0400

    deps: upgrade to uuid v0.8
    
    Dependabot wasn't able to do this automatically, because the comm crate
    was depending on a u128 feature that was removed in v0.8. Luckily, we're
    no longer in need of that feature, so we can drop it from comm's
    Cargo.toml.

commit 2f6a7b54f7894bca288c7945939bd8aa8a7039c4
Author: dependabot-preview[bot] <27856297+dependabot-preview[bot]@users.noreply.github.com>
Date:   Tue Oct 29 03:28:13 2019 +0000

    build(deps): bump differential-dataflow from `6ee4a58` to `5c7b83a`
    
    Bumps [differential-dataflow](https://github.com/TimelyDataflow/differential-dataflow) from `6ee4a58` to `5c7b83a`.
    - [Release notes](https://github.com/TimelyDataflow/differential-dataflow/releases)
    - [Commits](https://github.com/TimelyDataflow/differential-dataflow/compare/6ee4a587c0373d2784758164a62cd17106eb2216...5c7b83a83f0af89d66ef54f4856b608231bf204b)
    
    Signed-off-by: dependabot-preview[bot] <support@dependabot.com>

commit 0814339ef094468a8e19e8c55b33d786ff411558
Author: dependabot-preview[bot] <27856297+dependabot-preview[bot]@users.noreply.github.com>
Date:   Tue Oct 29 03:27:45 2019 +0000

    build(deps): bump sqlparser from `e323b1a` to `5f22011`
    
    Bumps [sqlparser](https://github.com/MaterializeInc/sqlparser) from `e323b1a` to `5f22011`.
    - [Release notes](https://github.com/MaterializeInc/sqlparser/releases)
    - [Commits](https://github.com/MaterializeInc/sqlparser/compare/e323b1aa1f3c375b2493c1d532dc5f0a78d20eb5...5f22011af9a53592cd207dd063faf75ebb63ad52)
    
    Signed-off-by: dependabot-preview[bot] <support@dependabot.com>

commit ed883dd5bd18fdcae5f7341e8d81442f75848c9c
Author: dependabot-preview[bot] <27856297+dependabot-preview[bot]@users.noreply.github.com>
Date:   Tue Oct 29 03:27:20 2019 +0000

    build(deps): bump smallvec from 0.6.10 to 0.6.11
    
    Bumps [smallvec](https://github.com/servo/rust-smallvec) from 0.6.10 to 0.6.11.
    - [Release notes](https://github.com/servo/rust-smallvec/releases)
    - [Commits](https://github.com/servo/rust-smallvec/compare/v0.6.10...v0.6.11)
    
    Signed-off-by: dependabot-preview[bot] <support@dependabot.com>

commit 5b1e4520a14c06fac6b1e78621a24eb5d64860e7
Merge: 07afcec4d 1ccf7cb5a
Author: Nikhil Benesch <nikhil.benesch@gmail.com>
Date:   Mon Oct 28 18:21:32 2019 -0400

    Merge pull request #842 from MaterializeInc/dependabot/cargo/differential-dataflow-6ee4a58
    
    build(deps): bump differential-dataflow from `25f7b2a` to `6ee4a58`

commit 07afcec4d74df641c2afe698a5a820195ac93b49
Merge: a75d74357 177a6d209
Author: Nikhil Benesch <nikhil.benesch@gmail.com>
Date:   Mon Oct 28 18:21:04 2019 -0400

    Merge pull request #839 from benesch/symbiosis-ii
    
    coord,sql: introduce symbiosis mode

commit 177a6d2091b8b888dadd43be7e3395f7f53a4435
Author: Nikhil Benesch <nikhil.benesch@gmail.com>
Date:   Fri Oct 25 16:44:09 2019 -0400

    coord,sql: introduce symbiosis mode
    
    From the comment on the new symbiosis crate:
    
        In symbiosis mode, Materialize will conjoin with an OLTP database to
        masquerade as a HTAP system. All DDL statements and writes will be routed to
        the OLTP database (like `CREATE TABLE`, `INSERT`, etc.), while reads will be
        routed through Materialize. Changes to the tables in the OLTP database are
        automatically streamed through Materialize.
    
        The only supported OLTP database at the moment is PostgreSQL. Supporting
        other databases is complicated by the fact that we roughly followe
        Postgres's SQL semantics; using, say, MySQL, would be rather confusing,
        because `INSERT`, `UPDATE`, and `DELETE` statements would be subject to a
        wildly different set of SQL semantics than `SELECT` statements.
    
        Symbiosis mode is only suitable for development. It is likely to be
        extremely slow and inefficient on large data sets.
    
    The symbiosis implementation is an adapation of the code that used to
    live in the sqllogictest runner, which has been ported to use the new
    symbiosis system in Materialize proper.
    
    To start materialized in symbiosis mode:
    
        $ materialized --symbiosis postgres://

commit a75d743577df50b0c00a9ae2479a7a105c3a9e09
Merge: e21f37866 f1f7e3ca9
Author: Robert Grimm <grimmr@materialize.io>
Date:   Mon Oct 28 14:58:46 2019 -0400

    Merge pull request #847 from apparebit/master
    
    Bump rdkafka containing bumped librdkafka

commit e21f3786692c88a94d70fcb486a292f739b79821
Merge: 75759e2bd 37cf2c24d
Author: Nikhil Benesch <nikhil.benesch@gmail.com>
Date:   Mon Oct 28 14:58:24 2019 -0400

    Merge pull request #845 from MaterializeInc/dependabot/cargo/itertools-0.8.1
    
    build(deps): bump itertools from 0.8.0 to 0.8.1

commit 75759e2bd91cd37244589f45bef74bcb5c0588b5
Merge: 8b99fbd29 1a3af9c02
Author: Nikhil Benesch <nikhil.benesch@gmail.com>
Date:   Mon Oct 28 14:58:14 2019 -0400

    Merge pull request #841 from MaterializeInc/dependabot/cargo/serde-1.0.102
    
    build(deps): bump serde from 1.0.101 to 1.0.102

commit 8b99fbd29da50d3cb27aa760368ec6605269890e
Merge: 221750acf 1f7d2de1a
Author: Nikhil Benesch <nikhil.benesch@gmail.com>
Date:   Mon Oct 28 14:57:55 2019 -0400

    Merge pull request #840 from MaterializeInc/dependabot/cargo/whoami-0.6.0
    
    build(deps): bump whoami from 0.5.3 to 0.6.0

commit 71c2d416ac06ca1fb92a883cb648593594f28d7c
Author: Jamie Brandon <jamie@scattered-thoughts.net>
Date:   Mon Oct 28 18:44:49 2019 +0000

    Const functions!

commit f1f7e3ca9d40397503e35cb2736bb32c01791f38
Author: Robert Grimm <grimmr@materialize.io>
Date:   Mon Oct 28 14:21:22 2019 -0400

    Bump rdkafka containing bumped librdkafka containing fix for latest XCode/macOS

commit 1ccf7cb5a0c64b63ab1724a097bf840ddc9bf2d5
Author: dependabot-preview[bot] <27856297+dependabot-preview[bot]@users.noreply.github.com>
Date:   Mon Oct 28 17:30:31 2019 +0000

    build(deps): bump differential-dataflow from `25f7b2a` to `6ee4a58`
    
    Bumps [differential-dataflow](https://github.com/TimelyDataflow/differential-dataflow) from `25f7b2a` to `6ee4a58`.
    - [Release notes](https://github.com/TimelyDataflow/differential-dataflow/releases)
    - [Commits](https://github.com/TimelyDataflow/differential-dataflow/compare/25f7b2ae71ac3c14583e46b1a030681565b3b0c5...6ee4a587c0373d2784758164a62cd17106eb2216)
    
    Signed-off-by: dependabot-preview[bot] <support@dependabot.com>

commit 1a3af9c02646d6c50ddc3dd31a9f1a5d6c7c2f4c
Author: dependabot-preview[bot] <27856297+dependabot-preview[bot]@users.noreply.github.com>
Date:   Mon Oct 28 17:29:46 2019 +0000

    build(deps): bump serde from 1.0.101 to 1.0.102
    
    Bumps [serde](https://github.com/serde-rs/serde) from 1.0.101 to 1.0.102.
    - [Release notes](https://github.com/serde-rs/serde/releases)
    - [Commits](https://github.com/serde-rs/serde/compare/v1.0.101...v1.0.102)
    
    Signed-off-by: dependabot-preview[bot] <support@dependabot.com>

commit 1f7d2de1a58dde1c64f87e597ba367b4d694b2f7
Author: dependabot-preview[bot] <27856297+dependabot-preview[bot]@users.noreply.github.com>
Date:   Mon Oct 28 17:29:03 2019 +0000

    build(deps): bump whoami from 0.5.3 to 0.6.0
    
    Bumps [whoami](https://github.com/libcala/whoami) from 0.5.3 to 0.6.0.
    - [Release notes](https://github.com/libcala/whoami/releases)
    - [Changelog](https://github.com/libcala/whoami/blob/master/CHANGELOG.md)
    - [Commits](https://github.com/libcala/whoami/commits)
    
    Signed-off-by: dependabot-preview[bot] <support@dependabot.com>

commit 37cf2c24d51f7e2aa624ee5ba7814cf970e85d33
Author: dependabot-preview[bot] <27856297+dependabot-preview[bot]@users.noreply.github.com>
Date:   Mon Oct 28 17:27:40 2019 +0000

    build(deps): bump itertools from 0.8.0 to 0.8.1
    
    Bumps [itertools](https://github.com/bluss/rust-itertools) from 0.8.0 to 0.8.1.
    - [Release notes](https://github.com/bluss/rust-itertools/releases)
    - [Commits](https://github.com/bluss/rust-itertools/commits)
    
    Signed-off-by: dependabot-preview[bot] <support@dependabot.com>

commit 221750acfd4e91f23805e5cb3631016936f7acd4
Merge: c91049db4 27c2bc414
Author: Nikhil Benesch <nikhil.benesch@gmail.com>
Date:   Mon Oct 28 13:25:13 2019 -0400

    Merge pull request #843 from MaterializeInc/dependabot/cargo/sqlparser-e323b1a
    
    build(deps): bump sqlparser from `a5b547a` to `e323b1a`

commit 27c2bc414636a3d929f9cc3f927af29595c95a06
Author: dependabot-preview[bot] <27856297+dependabot-preview[bot]@users.noreply.github.com>
Date:   Mon Oct 28 10:30:45 2019 +0000

    build(deps): bump sqlparser from `a5b547a` to `e323b1a`
    
    Bumps [sqlparser](https://github.com/MaterializeInc/sqlparser) from `a5b547a` to `e323b1a`.
    - [Release notes](https://github.com/MaterializeInc/sqlparser/releases)
    - [Commits](https://github.com/MaterializeInc/sqlparser/compare/a5b547aef127ae8a35f1796d6c7aa0eb67e01b5c...e323b1aa1f3c375b2493c1d532dc5f0a78d20eb5)
    
    Signed-off-by: dependabot-preview[bot] <support@dependabot.com>

commit 19085411f17c8769eea4410d78825c73c2d94e9d
Author: Jamie Brandon <jamie@scattered-thoughts.net>
Date:   Mon Oct 28 13:28:39 2019 +0000

    Facepalm

commit 33dda0878f6509ec62551fc6f31a4ae2ae2ea1f3
Merge: 479aed4d4 c91049db4
Author: Jamie Brandon <jamie@scattered-thoughts.net>
Date:   Fri Oct 25 22:37:00 2019 +0100

    Merge branch 'master' into row_layout2

commit 479aed4d4a7f6d4196a3cb168699348f509f090f
Author: Jamie Brandon <jamie@scattered-thoughts.net>
Date:   Fri Oct 25 22:23:59 2019 +0100

    Row layout (squashed)

commit c91049db4bab42f885ec050e9577591f25a444a2
Merge: b81f62816 a73cc1d85
Author: Frank McSherry <fmcsherry@me.com>
Date:   Fri Oct 25 23:33:35 2019 +0300

    Merge pull request #835 from frankmcsherry/reduce_keys
    
    The keys for reduce expressions were being set to the group key, even…

commit b81f62816f1fb2aac02c5ae3d0cc34221cc3b285
Merge: ffcd29864 4dda22d8d
Author: Frank McSherry <fmcsherry@me.com>
Date:   Fri Oct 25 23:33:22 2019 +0300

    Merge pull request #837 from frankmcsherry/tail_names
    
    Chase down source names in tail.

commit 4dda22d8d8f649b10b89a33390f26d5245433f19
Author: Frank McSherry <fmcsherry@me.com>
Date:   Fri Oct 25 16:25:15 2019 -0400

    Open port MTRL for psql access.

commit b13af8bcc1c3814b7fe12501cc031071f27ef204
Author: Frank McSherry <fmcsherry@me.com>
Date:   Fri Oct 25 16:15:01 2019 -0400

    Chase down source names in tail.

commit a73cc1d85fda5435c6b1d3570f33ea2da772a352
Author: Frank McSherry <fmcsherry@me.com>
Date:   Fri Oct 25 16:00:29 2019 -0400

    The keys for reduce expressions were being set to the group key, even if the inner relation had a more precise set of keys contained in the group key. This may be uncommon, but showed up in the case of constant relations, for which there is a trivial empty key if the constant relation has at most one row.

commit ffcd29864700d6e7d3f330f5a17f6d6e113bc38b
Merge: a0d7d75c2 0e077cdb7
Author: Frank McSherry <fmcsherry@me.com>
Date:   Fri Oct 25 22:45:29 2019 +0300

    Merge pull request #833 from frankmcsherry/control_c
    
    Allows docker compose to be interrupted with control-c.

commit 0e077cdb79f366eb6df2e10c380065a4e0bc319f
Author: Frank McSherry <fmcsherry@me.com>
Date:   Fri Oct 25 15:33:25 2019 -0400

    Allows docker compose to be interrupted with control-c.

commit a0d7d75c230253e966b2e55fbc89e453e2b4d580
Merge: 0f6e31c16 f17845962
Author: Frank McSherry <fmcsherry@me.com>
Date:   Fri Oct 25 22:28:35 2019 +0300

    Merge pull request #832 from frankmcsherry/log_cancels
    
    Log cancellation of peeks as if the peek had completed.

commit f1784596255d56e1df1a26c84ca053751e3a24e3
Author: Frank McSherry <fmcsherry@me.com>
Date:   Fri Oct 25 14:59:49 2019 -0400

    Shift panics to errors for robustness.

commit a3ca592061ad1de6041bb07d141e10c584ed267f
Author: Brennan Vincent <brennan@materialize.io>
Date:   Fri Oct 25 14:31:28 2019 -0400

    Add --flush-every option

commit ad1da87f77ddd3eb5562944ef4b8a78ef0259ecb
Author: Frank McSherry <fmcsherry@me.com>
Date:   Fri Oct 25 14:59:49 2019 -0400

    Shift panics to errors for robustness.

commit 15b74e43f17a66f94258a5507242adb670a19feb
Author: Frank McSherry <fmcsherry@me.com>
Date:   Fri Oct 25 14:49:22 2019 -0400

    Log cancellation of peeks as if the peek had completed.

commit 6c383098bea5d14a64d3bd715b90803147e0acf6
Merge: 7af93dfa6 a75e107ff
Author: Brennan Vincent <brennan@materialize.io>
Date:   Fri Oct 25 14:32:11 2019 -0400

    Merge pull request #8 from MaterializeInc/fixes
    
    Fixes

commit 7af93dfa6157cd33e7a3c5c01be7d1279a8ac020
Author: Brennan Vincent <brennan@materialize.io>
Date:   Fri Oct 25 13:45:15 2019 -0400

    add flush-tables script and install necessary packages in docker

commit 0f6e31c1618a34e494c3be94223e2c812c7a1903
Author: Cuong Do <cuongdo@users.noreply.github.com>
Date:   Fri Oct 25 13:42:02 2019 -0400

    chbenchmark enhancements (#831)
    
    * chbenchmark enhancements
    
    * Added `nuke` for dc.sh: nukes Docker local state
    * Added `load-test` for dc.sh: starts a stability test with the last-known
      good configuration
    * Added ec2-setup.sh, an experimental script that does almost all setup
      (swap, install Docker, etc.) that's needed to get chbenchmark running
      on an EC2 VM (m5ad.4xlarge).
    
    * Add daemon.json

commit 95052085fde67fa944f7b2886e092ab575ae4134
Merge: 8a261c071 e5898943b
Author: Nikhil Benesch <nikhil.benesch@gmail.com>
Date:   Fri Oct 25 12:28:49 2019 -0400

    Merge pull request #829 from benesch/symbiosis-i
    
    coord, sql: clean up interfaces

commit a75e107ffc9ae7d0f5cd9249d57933f9794ecb22
Author: Cuong Do <cdo@materialize.io>
Date:   Fri Oct 25 15:29:59 2019 +0000

    Fix SELECTs to use proper names
    
    When a view uses projections on aggregate functions, the resulting
    column name does not remain aggregate_function(x). Work around this by
    using explicit column aliases.

commit 731129d58bf671effc5eac1cb36f17d224de13f6
Author: Cuong Do <cdo@materialize.io>
Date:   Fri Oct 25 15:29:34 2019 +0000

    Drop chbenchmark view if it already exists
    
    Allows reruns without tearing everything down

commit 8a261c071681f8438d134a7047ff8ffcb7298121
Merge: 8e1bdc0da cc95ca83c
Author: Brandon W Maister <bwm@materialize.io>
Date:   Fri Oct 25 10:34:06 2019 -0400

    Merge pull request #818 from quodlibetor/log-improvements
    
    Log layout/message changes

commit e5898943b9311fd264514c186a806967e8cf2f58
Author: Nikhil Benesch <nikhil.benesch@gmail.com>
Date:   Fri Oct 25 01:36:06 2019 -0400

    sql: tighten API
    
    Vastly reduce the public API surface of the SQL module by exposing only
    two functions, parse and plan. Parse converts a SQL string to a list of
    SQL statements, while plan converts a single SQL statement to a plan.
    This API is a bit less convenient, but far more flexible, and allows
    implementing handle_parse_command and handle_execute_command in the
    coord crate instead.

commit 28777aa14e814b9b20215e2e72864f1742121348
Author: Nikhil Benesch <nikhil.benesch@gmail.com>
Date:   Fri Oct 25 00:27:58 2019 -0400

    sql: make all planning methods free functions
    
    The distinction between what was a free function and what was a method
    was rather arbitrary. Just make them all free functions that take an
    immutable reference to a Catalog.

commit 7807d0c00f689c0f278e47656173758d788d8fa6
Author: Nikhil Benesch <nikhil.benesch@gmail.com>
Date:   Thu Oct 24 23:57:15 2019 -0400

    coord: better leverage type system in API
    
    The coordinator's API previously assumed that all `coord::Command`s
    needed a connection ID, response transmitter, and SQL session, and that
    a `coord::Response` would always be sent over the response transmitter
    after processing was complete.
    
    This assumption had a number of exceptions. CancelRequests, for example,
    need only a connnection ID and produce no response; parse requests need
    only respond with failure or success, and have no need to return the
    kind of SQL statement they parsed to.
    
    Rework the coordinator API so that each command declares exactly what
    fields it needs and what fields it returns. This results in a bit of
    duplication, especially between Query and Execute commands, but allows
    for much greater flexibility, and a more descriptive API.
    
    Also take the opportunity to introduce a new Shutdown command, which
    shuts down the coordinator thread. This will be used in the forthcoming
    "symbiosis" mode, where the SLT runner will drive a coordinator via the
    same `coord::transient::serve` interface that materialized uses, rather
    than assembling a bespoke dataflow server out of its components.

commit 8e1bdc0da5240e936432ca4520f85818dde7106a
Merge: 3a7a6ed56 fb99a9dc1
Author: Nikhil Benesch <nikhil.benesch@gmail.com>
Date:   Thu Oct 24 17:03:13 2019 -0400

    Merge pull request #827 from benesch/sqllogictest-inputs
    
    dataflow,sqllogictest: send input data via command stream

commit fb99a9dc146e4077f9c9417417c12df702dcaa7e
Author: Nikhil Benesch <nikhil.benesch@gmail.com>
Date:   Thu Oct 24 15:07:51 2019 -0400

    dataflow,sqllogictest: send input data via command stream
    
    This will make it possible to send input data in a multi-process
    cluster, where muxes are not usable.

commit 3a7a6ed5632b93e7e4fdf567f25878885eaed0e0
Merge: 4319dbfb4 a7ff6218a
Author: Frank McSherry <fmcsherry@me.com>
Date:   Thu Oct 24 23:20:06 2019 +0300

    Merge pull request #786 from frankmcsherry/lazy_sources
    
    SQL Catalog, distinct from dataflows

commit 4319dbfb4ff3b1200d847ad4a935ce3d8464b27c
Merge: 49aa13e00 c96dcd6d5
Author: JLDLaughlin <JLDLaughlin@users.noreply.github.com>
Date:   Thu Oct 24 16:09:46 2019 -0400

    Merge pull request #826 from JLDLaughlin/remove_create_sources_metrics
    
    Remove duplicate CREATE SOURCES from metrics

commit a7ff6218a03ef3b798f3a7c69e04dc4ab42f0052
Author: Frank McSherry <fmcsherry@me.com>
Date:   Thu Oct 24 16:04:47 2019 -0400

    deterministic traces for peeking

commit c96dcd6d59c6bc773e72ff057ef5ad612c0b600f
Author: JLDLaughlin <jessica@materialize.io>
Date:   Thu Oct 24 15:17:07 2019 -0400

    Remove duplicate CREATE SOURCES from metrics

commit 293e5760b10cfde3e2d678048bd3c22e72812a13
Author: Frank McSherry <fmcsherry@me.com>
Date:   Thu Oct 24 14:37:13 2019 -0400

    various horrible things

commit 49aa13e00c94e890cd213ea7a44bd89eb1f9000d
Merge: b9bf9477d 9145e95bf
Author: Nikhil Benesch <nikhil.benesch@gmail.com>
Date:   Thu Oct 24 10:08:30 2019 -0400

    Merge pull request #820 from benesch/comm-dynamic-broadcast
    
    comm: allow dynamic broadcast channel allocation

commit dc758d766690f46635a9e40165fea910792f5f9f
Author: Frank McSherry <fmcsherry@me.com>
Date:   Thu Oct 24 09:23:40 2019 -0400

    rename views rather than sources

commit b9bf9477d7c22275e5e470336edc58a65f14d1b3
Merge: 64512203b e8ce9ae2f
Author: JLDLaughlin <JLDLaughlin@users.noreply.github.com>
Date:   Wed Oct 23 22:09:36 2019 -0400

    Merge pull request #809 from JLDLaughlin/metric_error_logging
    
    Improve CHBench metrics container: use Rust postgres crate, quiet errors, improve Grafana visualization. Closes #720

commit 9145e95bf8e6330eb1a181dbe7487a9592387177
Author: Nikhil Benesch <nikhil.benesch@gmail.com>
Date:   Wed Oct 23 18:13:21 2019 -0400

    comm: allow dynamic broadcast channel allocation
    
    Previously, broadcast channels had to be allocated statically, as every
    unique broadcast channel required a new Rust token type. Relax that
    restriction by allowing broadcast::Tokens to invent their own,
    potentially dynamic allocation strategy.
    
    This will be used by a forthcoming patch to route local input traffic,
    currently used by SLT, via dynamically-allocated broadcast channels.

commit e8ce9ae2f33ca9731dfbdb4a47842085279e2834
Author: JLDLaughlin <jessica@materialize.io>
Date:   Wed Oct 23 17:33:06 2019 -0400

    fix bad naming

commit 00b2ce8258df4fd953d4f131446238a5b9089e73
Author: JLDLaughlin <jessica@materialize.io>
Date:   Wed Oct 23 17:27:43 2019 -0400

    rename backoff

commit 9b3d1fdffde128a47c6b901258d20e403c12483c
Author: JLDLaughlin <jessica@materialize.io>
Date:   Wed Oct 23 17:26:46 2019 -0400

    global variable

commit cc95ca83cdb33da5ea96183a6df3f119128175a6
Author: Brandon W Maister <bwm@materialize.io>
Date:   Wed Oct 23 16:09:27 2019 -0400

    log: "reduce" log timestamp precision from nanos to micros
    
    The last three digits of precision were *always* zero, anyway, and it seems a bit
    unlikely that we'll ever need human-log outputs tobe more fine-grained than microseconds.

commit 64512203b726e6f580b126aa35649cef11f50b8a
Merge: 5c908aa42 5de12e321
Author: Sean Loiselle <sean@materialize.io>
Date:   Wed Oct 23 15:43:53 2019 -0400

    Merge pull request #653 from sploiselle/architecture-docs-update
    
    add architecture details and diagrams to docs

commit e545be08f7e514c265ca07c8d2bc52f1294dedf4
Author: JLDLaughlin <jessica@materialize.io>
Date:   Wed Oct 23 15:26:46 2019 -0400

    fix buckets

commit 5de12e321df737e46aab31bbf230e766947bb912
Author: sploiselle <sean@materialize.io>
Date:   Wed Sep 25 15:43:07 2019 -0400

    add architecture details and diagrams to docs

commit 0fba412e8f288c70f68f1c2c15bef5bad1471f78
Author: Cuong Do <cuongdo@users.noreply.github.com>
Date:   Wed Oct 23 14:48:36 2019 -0400

    Add ORDER BY in queries (#7)
    
    MaterializeInc/materialize#772 added the ability to include ORDER BY in
    view definitions, so we use that ability when creating the chbenchmark
    views.
    
    Also fixed the SELECT for q07, which used a name (su_nationkey) that
    isn't in scope for queries against the view.

commit 1e0f5e5d1b8c655cf6d49f35d1c4b3ddb96ae1a2
Merge: 5bd478b70 5c908aa42
Author: Frank McSherry <fmcsherry@me.com>
Date:   Wed Oct 23 14:42:35 2019 -0400

    address issues, merge

commit 5bd478b70df6277e001280f483e08509bf4fd432
Author: Frank McSherry <fmcsherry@me.com>
Date:   Wed Oct 23 14:28:34 2019 -0400

    issues addressed

commit 5f1d7d1a9a4fe7bbee72e49989a438088da94e1d
Author: JLDLaughlin <jessica@materialize.io>
Date:   Wed Oct 23 13:43:16 2019 -0400

    remove ;

commit c4f12eefd7334aedb55daca83e918c2c994fb572
Author: JLDLaughlin <jessica@materialize.io>
Date:   Wed Oct 23 13:41:25 2019 -0400

    trailing newline

commit c76b8843dcc7d5c584704659f8ace5062d14ffbe
Author: JLDLaughlin <jessica@materialize.io>
Date:   Wed Oct 23 13:39:54 2019 -0400

    use drop to observe, update materialize.json

commit edf2147cd15300970b97bc86f594d0e391e9e503
Author: JLDLaughlin <jessica@materialize.io>
Date:   Wed Oct 23 11:58:40 2019 -0400

    pin prometheus, remove sender/receiver

commit 12d8d75ccff0cd420775e7802099d74e929515f7
Author: Brandon W Maister <bwm@materialize.io>
Date:   Tue Oct 22 14:08:59 2019 -0400

    log: strip leading `src/` and trailing `.rs` from log lines
    
    They seem like they're just noise to me.

commit 29bd06bcaa8846b0ec709668cd568acfbe78f18d
Author: Brandon W Maister <bwm@materialize.io>
Date:   Tue Oct 22 14:07:57 2019 -0400

    log: align ERROR/INFO/WARN log statements to the right

commit 5c908aa4221d17675f3226f65fb415e6187f88cc
Merge: 92f62db7c c7e4f5c28
Author: Nikhil Benesch <nikhil.benesch@gmail.com>
Date:   Tue Oct 22 22:21:12 2019 -0400

    Merge pull request #813 from benesch/empty-extended
    
    pgwire: don't fall out of extended mode upon empty queries

commit fa15f26bc5cfbd4ebf4aff2a72c4156300f6bcf9
Author: JLDLaughlin <jessica@materialize.io>
Date:   Tue Oct 22 20:54:00 2019 -0400

    cargo fmt

commit c7e4f5c283e927f716b1a2847c5032c228263bd4
Author: Nikhil Benesch <nikhil.benesch@gmail.com>
Date:   Tue Oct 22 18:30:35 2019 -0400

    pgwire: don't fall out of extended mode upon empty queries
    
    We need to propagate the extended mode bool when we see an
    EmptyQueryResponse, because EmptyQueryResponse can be returned in both
    the simple and extended query flow.

commit ea157fc1ad78a504964d52d54c768252e4481f81
Author: JLDLaughlin <jessica@materialize.io>
Date:   Tue Oct 22 16:36:06 2019 -0400

    use postgres 0.15

commit e66be99741e77676aa7dc87bf2115e1aed3601e1
Merge: 1022a807a 7f901f4d0
Author: Cuong Do <cuongdo@users.noreply.github.com>
Date:   Tue Oct 22 16:32:09 2019 -0400

    Merge pull request #6 from MaterializeInc/make_logging_accessible
    
    Enable the '-l' parameter

commit 7f901f4d01bd7dccf1ef507544f05e6591ecf945
Author: Cuong Do <cuongdo@noreply.github.com>
Date:   Tue Oct 22 20:26:55 2019 +0000

    Enable the '-l' parameter

commit 92f62db7c847f672e939c8bfc682383e8842445e
Merge: b8b7eb2a9 17d394698
Author: Brandon W Maister <bwm@materialize.io>
Date:   Tue Oct 22 14:10:22 2019 -0400

    Merge pull request #808 from quodlibetor/log-improvements
    
    Our very own query log

commit b8b7eb2a95b65c1580ffd439a560b06271a649a0
Merge: c29b1e293 388f9164e
Author: Nikhil Benesch <nikhil.benesch@gmail.com>
Date:   Tue Oct 22 10:50:11 2019 -0400

    Merge pull request #811 from benesch/show-create-view
    
    Support SHOW CREATE VIEW

commit c29b1e293dff4503238361c2d4daf23f5e8a525a
Merge: c3d25a42e 8b359a7f7
Author: Nikhil Benesch <nikhil.benesch@gmail.com>
Date:   Tue Oct 22 02:27:12 2019 -0400

    Merge pull request #810 from benesch/rdkafka
    
    deps: bump rdkafka for better lz4 handling

commit 388f9164e2a69c9dfba3078edb2a69fe318e2d33
Author: Nikhil Benesch <nikhil.benesch@gmail.com>
Date:   Sat Oct 12 03:10:46 2019 -0400

    Support SHOW CREATE VIEW
    
    Fix #730.

commit 8b359a7f7368d95e7d47d341b3bb21260982c066
Author: Nikhil Benesch <nikhil.benesch@gmail.com>
Date:   Tue Oct 22 01:34:55 2019 -0400

    deps: bump rdkafka for better lz4 handling
    
    Bump rdkafka to a version that doesn't try to use the system's lz4
    library.

commit c3d25a42eb0e798d3d5e37b6255dfefa4412dfbb
Merge: 555792b43 0896441e6
Author: Nikhil Benesch <nikhil.benesch@gmail.com>
Date:   Tue Oct 22 01:04:38 2019 -0400

    Merge pull request #803 from benesch/rdkafka-zstd
    
    deps: bump rdkafka to drop zstd support

commit 4a7995f554099c22ae2fcc798f29b848217d61ad
Merge: b833513fa 0f603c0cf
Author: JLDLaughlin <jessica@materialize.io>
Date:   Mon Oct 21 21:23:43 2019 -0400

    Merge branch 'metric_error_logging' of github.com:JLDLaughlin/materialize into metric_error_logging

commit b833513fa03e82bdd01f6c8636945e360ac7733c
Author: JLDLaughlin <jessica@materialize.io>
Date:   Mon Oct 21 21:23:10 2019 -0400

    newline Cargo.toml

commit 17d394698b810ae23f0733a3ace720c551f9ca57
Author: Brandon W Maister <bwm@materialize.io>
Date:   Mon Oct 21 18:03:38 2019 -0400

    Add connection id to every log statement in pgwire::protocol
    
    when there are many connections all doing things concurrently it makes it easier to
    figure out what's going on.

commit 0f603c0cf5812f346070f54edd2af07659a73bc5
Merge: 9ec71abd3 555792b43
Author: JLDLaughlin <JLDLaughlin@users.noreply.github.com>
Date:   Mon Oct 21 18:26:15 2019 -0400

    Merge branch 'master' into metric_error_logging

commit 9ec71abd32646653ff0204d6c14a15b3ddbe710d
Author: JLDLaughlin <jessica@materialize.io>
Date:   Mon Oct 21 18:24:26 2019 -0400

    quiet view not found errors

commit 7a093fefc448dfab681fe41640d9f5734e15f1ce
Author: Brandon W Maister <bwm@materialize.io>
Date:   Mon Oct 21 17:56:45 2019 -0400

    Don't add empty field formats every time we use the default
    
    JDBC uses the default often

commit b7d1e2ed5436499b7a90183c6e7f8cb4e1b0893a
Author: Brandon W Maister <bwm@materialize.io>
Date:   Mon Oct 21 16:32:34 2019 -0400

    Our very own query log
    
    Now running materialize with MZ_LOG=pgwire=debug,info will log all queries fairly
    readably, relative to the `pgwire=trace` level which logs every single step in the
    protocol and is therefore very noisey for just debugging the queries that are coming in.

commit 56a8d11ab842bf18d444dae448eaba46581ca975
Author: Brandon W Maister <bwm@materialize.io>
Date:   Mon Oct 21 16:36:20 2019 -0400

    Change log environment variable to MZ_LOG
    
    We are "standardizing" on mz for all prefixes for materialize-related things, and it's
    much easier to type than MTRLZ.

commit 1022a807a82a8a718083fb385275f22e85a46160
Author: Brennan Vincent <brennan@materialize.io>
Date:   Mon Oct 21 16:02:09 2019 -0400

    print histogram with thousands separator

commit 555792b438519426b74598c3280d28d969d2d8cc
Merge: ef5efb000 223984431
Author: Brandon W Maister <bwm@materialize.io>
Date:   Mon Oct 21 15:31:19 2019 -0400

    Merge pull request #806 from quodlibetor/extended-flow-empty-queries
    
    Support empty queries in extended query flow

commit b4964a8d02cf098645dc31aa975a55a8fe77ef04
Merge: 56aceb1d0 03ec2f937
Author: Brennan Vincent <brennan@materialize.io>
Date:   Mon Oct 21 15:26:09 2019 -0400

    Merge branch 'peeks' (Automatically peek views)

commit 03ec2f93711ad0f1976c787c15c627b78769f271
Author: Brennan Vincent <brennan@materialize.io>
Date:   Mon Oct 21 15:25:59 2019 -0400

    fixes

commit ef5efb00069d9421bdecfd5a270f7cdab662e107
Merge: cf109f165 93e5c3018
Author: Nikhil Benesch <nikhil.benesch@gmail.com>
Date:   Mon Oct 21 14:42:49 2019 -0400

    Merge pull request #782 from benesch/tail-since
    
    coord,dataflow: only produce future updates in TAIL

commit 223984431e0e9be9f963e3cd3f17f50fafd86454
Author: Brandon W Maister <bwm@materialize.io>
Date:   Mon Oct 21 14:37:19 2019 -0400

    Support empty queries in extended query flow
    
    JDBC issues these, and they don't seem to be explicitly disallowed.

commit 93e5c3018f1f4932ff919fdf68277fcf5efa03fa
Author: Nikhil Benesch <nikhil.benesch@gmail.com>
Date:   Wed Oct 16 15:53:10 2019 -0400

    coord,dataflow: only produce future updates in TAIL
    
    This supersedes #427. The feedback in that PR was substantially easier
    to address after the coordinator refactor. TAIL now only produces
    records *after* the TAIL command begins, so that TAILing a large
    relation does not require outputting a snapshot of that large relation
    first. The biggest difference is that the notion of current time is
    derived from the upper frontier of the tailed view, rather than using
    the current system time.
    
    Fix #21.

commit cf109f165b1bd21595be36d5e9d1e8bade7580e4
Merge: 1ffda8644 9a043e329
Author: Nikhil Benesch <nikhil.benesch@gmail.com>
Date:   Mon Oct 21 14:15:02 2019 -0400

    Merge pull request #802 from benesch/pg-downgrade
    
    sqllogictest,testdrive: downgrade to stable release of postgres

commit 0896441e649d8d1e407961bc45ee4f4480f9efb0
Author: Nikhil Benesch <nikhil.benesch@gmail.com>
Date:   Mon Oct 21 14:13:50 2019 -0400

    deps: bump rdkafka to drop zstd support
    
    Upgrade to a version of rdkafka that doesn't require libzstd to be
    included. The upgraded version of rdkafka also properly vendors its own
    version of the zstd library, so should we ever want it we can simply
    enable the "zstd" feature.

commit 56aceb1d0de23990153719ab660fc0b3523f2979
Author: Brennan Vincent <brennan@materialize.io>
Date:   Mon Oct 21 13:54:46 2019 -0400

    update query timestamps

commit 9a043e329ec21515d91a128c06c8f95ab1b824ee
Author: Nikhil Benesch <nikhil.benesch@gmail.com>
Date:   Fri Oct 18 13:33:54 2019 -0400

    sqllogictest,testdrive: downgrade to stable release of postgres
    
    Using a stable release of the postgres driver means we can use
    off-the-shelf packages for interval and decimal decoding, rather than
    rolling our own.

commit 1ffda8644389f24d9954c965cbb88bef67de77c0
Merge: 34323ecf2 5fb196ee1
Author: Nikhil Benesch <nikhil.benesch@gmail.com>
Date:   Mon Oct 21 13:09:44 2019 -0400

    Merge pull request #796 from MaterializeInc/dependabot/cargo/backtrace-0.3.40
    
    Bump backtrace from 0.3.38 to 0.3.40

commit 34323ecf2526d549e589eeec3409e358c1dcc979
Merge: 01766ebd8 d61448df0
Author: Nikhil Benesch <nikhil.benesch@gmail.com>
Date:   Mon Oct 21 13:09:26 2019 -0400

    Merge pull request #797 from MaterializeInc/dependabot/cargo/timely-714fc0e
    
    Bump timely from `a901170` to `714fc0e`

commit 01766ebd8b0bafb431c2ca0d5c5e018de444f199
Merge: 970ae9358 fa9fd2a5d
Author: Nikhil Benesch <nikhil.benesch@gmail.com>
Date:   Mon Oct 21 13:08:30 2019 -0400

    Merge pull request #795 from MaterializeInc/dependabot/cargo/env_logger-0.7.1
    
    Bump env_logger from 0.7.0 to 0.7.1

commit 970ae9358c1ece9a59936d554d8693e26d3826c2
Merge: 0cbc1bd3f b7604146c
Author: Nikhil Benesch <nikhil.benesch@gmail.com>
Date:   Mon Oct 21 13:08:04 2019 -0400

    Merge pull request #798 from MaterializeInc/dependabot/cargo/libfuzzer-sys-4ad88ec
    
    Bump libfuzzer-sys from `4a41319` to `4ad88ec`

commit 0cbc1bd3ff9441d8f7fa81506b4127587beba5ed
Merge: 52935ebd8 9c18ba191
Author: Nikhil Benesch <nikhil.benesch@gmail.com>
Date:   Mon Oct 21 13:07:38 2019 -0400

    Merge pull request #799 from MaterializeInc/dependabot/cargo/libc-0.2.65
    
    Bump libc from 0.2.62 to 0.2.65

commit 099b285d1ab124eed765d2c25fdf3ac5a56803cc
Author: Brennan Vincent <brennan@materialize.io>
Date:   Mon Oct 21 12:46:54 2019 -0400

    more wip

commit d61448df03302d53f866be5464e467191759610f
Author: dependabot-preview[bot] <27856297+dependabot-preview[bot]@users.noreply.github.com>
Date:   Mon Oct 21 14:24:31 2019 +0000

    Bump timely from `a901170` to `714fc0e`
    
    Bumps [timely](https://github.com/TimelyDataflow/timely-dataflow) from `a901170` to `714fc0e`.
    - [Release notes](https://github.com/TimelyDataflow/timely-dataflow/releases)
    - [Commits](https://github.com/TimelyDataflow/timely-dataflow/compare/a901170e6610406c69c077501ec4f9e5f60ac7a1...714fc0ef09bbf224972083df72d967f8ccbc0cba)
    
    Signed-off-by: dependabot-preview[bot] <support@dependabot.com>

commit fa9fd2a5da8d9c97fa386e25c0b62b900d9b2f1c
Author: dependabot-preview[bot] <27856297+dependabot-preview[bot]@users.noreply.github.com>
Date:   Mon Oct 21 14:24:23 2019 +0000

    Bump env_logger from 0.7.0 to 0.7.1
    
    Bumps [env_logger](https://github.com/sebasmagri/env_logger) from 0.7.0 to 0.7.1.
    - [Release notes](https://github.com/sebasmagri/env_logger/releases)
    - [Changelog](https://github.com/sebasmagri/env_logger/blob/master/CHANGELOG.md)
    - [Commits](https://github.com/sebasmagri/env_logger/compare/v0.7.0...v0.7.1)
    
    Signed-off-by: dependabot-preview[bot] <support@dependabot.com>

commit b7604146c3d54520a00f75be90909eb6eceb81aa
Author: dependabot-preview[bot] <27856297+dependabot-preview[bot]@users.noreply.github.com>
Date:   Mon Oct 21 14:24:22 2019 +0000

    Bump libfuzzer-sys from `4a41319` to `4ad88ec`
    
    Bumps [libfuzzer-sys](https://github.com/rust-fuzz/libfuzzer-sys) from `4a41319` to `4ad88ec`.
    - [Release notes](https://github.com/rust-fuzz/libfuzzer-sys/releases)
    - [Commits](https://github.com/rust-fuzz/libfuzzer-sys/compare/4a413199b5cb1bbed6a1d157b2342b925f8464ac...4ad88ec54fa2e7a0c877b6477cc86ea0de14a90d)
    
    Signed-off-by: dependabot-preview[bot] <support@dependabot.com>

commit 9c18ba19127943038345ab8dff74f036b0f25520
Author: dependabot-preview[bot] <27856297+dependabot-preview[bot]@users.noreply.github.com>
Date:   Mon Oct 21 14:24:22 2019 +0000

    Bump libc from 0.2.62 to 0.2.65
    
    Bumps [libc](https://github.com/rust-lang/libc) from 0.2.62 to 0.2.65.
    - [Release notes](https://github.com/rust-lang/libc/releases)
    - [Commits](https://github.com/rust-lang/libc/compare/0.2.62...0.2.65)
    
    Signed-off-by: dependabot-preview[bot] <support@dependabot.com>

commit 5fb196ee17248180925ed91bc32f74064571fe0c
Author: dependabot-preview[bot] <27856297+dependabot-preview[bot]@users.noreply.github.com>
Date:   Mon Oct 21 14:24:09 2019 +0000

    Bump backtrace from 0.3.38 to 0.3.40
    
    Bumps [backtrace](https://github.com/rust-lang/backtrace-rs) from 0.3.38 to 0.3.40.
    - [Release notes](https://github.com/rust-lang/backtrace-rs/releases)
    - [Commits](https://github.com/rust-lang/backtrace-rs/compare/0.3.38...0.3.40)
    
    Signed-off-by: dependabot-preview[bot] <support@dependabot.com>

commit 52935ebd8b4558bff25c242fce70fd6276fbcd4e
Merge: 8d5371898 54332803c
Author: Nikhil Benesch <nikhil.benesch@gmail.com>
Date:   Mon Oct 21 10:22:17 2019 -0400

    Merge pull request #794 from MaterializeInc/dependabot/cargo/sqlparser-3a077b0
    
    Bump sqlparser from `73371ca` to `3a077b0`

commit 54332803c41f797b45ca259392fe690d2c8e75f1
Author: dependabot-preview[bot] <27856297+dependabot-preview[bot]@users.noreply.github.com>
Date:   Mon Oct 21 10:35:37 2019 +0000

    Bump sqlparser from `73371ca` to `a5b547a`
    
    Bumps [sqlparser](https://github.com/MaterializeInc/sqlparser) from `73371ca` to `a5b547a`.
    - [Release notes](https://github.com/MaterializeInc/sqlparser/releases)
    - [Commits](https://github.com/MaterializeInc/sqlparser/compare/73371caa756f09e8978585fbe85851dc5a776fb9...a5b547a)
    
    Signed-off-by: dependabot-preview[bot] <support@dependabot.com>

commit 8d537189846de99be909e588b723558f0e9d06f2
Merge: 40bd6fe65 06609a48e
Author: Robert Grimm <grimmr@materialize.io>
Date:   Fri Oct 18 17:17:56 2019 -0400

    Merge pull request #790 from benesch/rdkafka-bump
    
    deps: upgrade to rdkafka 1.2.1

commit 1afbfcbf33df601d2fcca62f3da7041957dc3dc0
Author: Brennan Vincent <brennan@materialize.io>
Date:   Fri Oct 18 17:05:06 2019 -0400

    more WIP

commit 06609a48e4a7249b084c07bfac6f7e9d5d0787e5
Author: Nikhil Benesch <nikhil.benesch@gmail.com>
Date:   Fri Oct 18 16:53:54 2019 -0400

    deps: upgrade to rdkafka 1.2.1
    
    This should fix compilation on the latest macOS, which apparently just
    outright removed the timespec_get symbol upon which the old version of
    rdkafka depended.

commit 6f6bd80829880666f5eb9eb641439d9fec7f92f6
Author: Frank McSherry <fmcsherry@me.com>
Date:   Fri Oct 18 14:51:20 2019 -0400

    amend tests

commit 40bd6fe65f8a2885c7c6a71f4b5dd07adbc25b69
Merge: 2a3eefdd1 9d266d3fb
Author: Nikhil Benesch <nikhil.benesch@gmail.com>
Date:   Fri Oct 18 13:37:33 2019 -0400

    Merge pull request #787 from benesch/compat
    
    sql,pgwire: start chipping away at pgjdbc compatibility

commit 824b8b4ad6f1f8e2b09d37f5459e623d5beb5c58
Author: Frank McSherry <fmcsherry@me.com>
Date:   Fri Oct 18 11:16:00 2019 -0400

    name sources differently

commit 9d266d3fbd8e7769803bb9fe78dc541db03f26ea
Author: Nikhil Benesch <nikhil.benesch@gmail.com>
Date:   Thu Oct 17 17:44:45 2019 -0400

    sql,pgwire: support asynchronous parameter status
    
    The pgwire protocol expects "asynchronous" parameter status
    notifications whenever an important parameter's status changes. (The
    important parameters are the same ones that are sent during the startup
    flow.) These notifications are only semi-asynchronous, as they are
    generated after a SET statement executes successfully.
    
    Teach our pgwire implementation to send these messages accordingly. This
    makes all of the "ClientInfo" tests in PgJDBC pass successfully.

commit 11970f7799117d63ddbbb1d6273bab46b9f07b83
Author: Nikhil Benesch <nikhil.benesch@gmail.com>
Date:   Thu Oct 17 17:42:53 2019 -0400

    pgwire: fix footgun in handle query
    
    The command_complete! macro was not correctly propagating the `extended`
    bool of the `HandleQuery` state. Fortunately this wasn't a problem,
    because `state.field_formats.is_some() == state.extended` for all cases
    in which the command_complete! macro was called, but this was just
    waiting to go wrong.

commit b0788f12fe32448ee87a0f5ed8b9117ad53d1c0a
Author: Nikhil Benesch <nikhil.benesch@gmail.com>
Date:   Thu Oct 17 17:08:45 2019 -0400

    pgwire: fix DescribePortal handling
    
    DescribePortal handling was previously broken; it was reporting
    parameter statuses, but only DescribeStatement is meant to report
    parameter statuses. And then I accidentally removed it entirely in #784.
    
    Restore it, and this time with the proper behavior of not reporting
    parameter statuses, but only row descriptions.
    
    This is required for PgJDBC.

commit 3d4c428b3324b7c64e0cba93322c44764c10dfc1
Author: Nikhil Benesch <nikhil.benesch@gmail.com>
Date:   Thu Oct 17 16:35:30 2019 -0400

    sql: support extra_float_digits session variable
    
    PgJDBC depends upon this.

commit aad8bc7895c1f057d8b92bcc6a6a5242a5e6902f
Author: Nikhil Benesch <nikhil.benesch@gmail.com>
Date:   Thu Oct 17 16:07:24 2019 -0400

    sql: support application_name session variable
    
    PgJDBC depends upon this.

commit 4c4aa762d5919b258bfc0419828c2de180612dc9
Author: Nikhil Benesch <nikhil.benesch@gmail.com>
Date:   Thu Oct 17 15:03:42 2019 -0400

    sql: pretend to be Postgres 9.5.0
    
    The old strategy of pretending to be "12.0.0+postgres
    0.1.0+materialized" was confusing pgjdbc, which expects a strict version
    string. Also pick an older version of Postgres to avoid an annoying
    warning from psql.

commit 706cf38162faba382de506b975d7eb60c9bb3553
Author: Frank McSherry <fmcsherry@me.com>
Date:   Fri Oct 18 10:10:13 2019 -0400

    maybe ready

commit cad7fc07accf7312b84875797209933b224afae9
Author: Frank McSherry <fmcsherry@me.com>
Date:   Fri Oct 18 08:37:57 2019 -0400

    check in

commit d0be3ec5996cfb58013d1f9282c14738feff2417
Author: Frank McSherry <fmcsherry@me.com>
Date:   Thu Oct 17 17:48:17 2019 -0400

    check in

commit 2a3eefdd1d3a6fa1ee9fdee117e54083c64223b5
Merge: 0ead5857d 53c14d928
Author: Nikhil Benesch <nikhil.benesch@gmail.com>
Date:   Thu Oct 17 16:22:47 2019 -0400

    Merge pull request #785 from benesch/pgwire-oops
    
    pgwire: fix simple query protocol

commit bf9c7ac61117a3e8f8343f564e815de68bbb8aca
Author: Frank McSherry <fmcsherry@me.com>
Date:   Thu Oct 17 16:11:50 2019 -0400

    extract catalog from planner

commit 53c14d928916a6cbf251d0155ab6b1bb0255e40f
Author: Nikhil Benesch <nikhil.benesch@gmail.com>
Date:   Thu Oct 17 16:10:17 2019 -0400

    pgwire: fix simple query protocol
    
    I accidentally broke the simple query protocol in #784; the protocol
    state machine was accidentally falling into the extended query flow even
    when the simple flow was active due to a simple typo.
    
    Fix that. It's clear that we need some tests for the simple flow, but
    I'm going to defer that for the moment, since the incoming JDBC work
    will provide hundreds and hundreds of tests for the protocol.

commit c0083e31cc74626d361afea560083b7d4100723f
Author: Frank McSherry <fmcsherry@me.com>
Date:   Thu Oct 17 14:08:06 2019 -0400

    initial checkin

commit 0ead5857de78fd3311e4edcd5c1d3b4615affcb1
Merge: df12f21fd a3c4571c8
Author: Nikhil Benesch <nikhil.benesch@gmail.com>
Date:   Thu Oct 17 14:59:33 2019 -0400

    Merge pull request #784 from benesch/extended-protocol
    
    pgwire,sql: support all queries in extended flow

commit a3c4571c8dbf046724a4800ccebbc9978c67cc68
Author: Nikhil Benesch <nikhil.benesch@gmail.com>
Date:   Thu Oct 17 03:42:03 2019 -0400

    pgwire,sql: support all queries in extended flow
    
    Rework the prepared statement implementation so that any query can be a
    "prepared" statement. This is necessary because the pgwire extended
    query flow essentially prepares every statement, and many drivers do
    this transparently.
    
    Now, a Parse command in the extended flow will cause all the immutable
    bits of planning. For example, Parse on a `CREATE VIEW ...` statement
    will do everything short of actually installing the view, so that errors
    can be surfaced immediately.
    
    When the prepared statement is later the target of an Execute command,
    we'll replan the query, this time running both the immutable and mutable
    bits. This is true also for `SELECT` statements, which is a bit
    unfortunate, as previously the plans were cached. I think this tradeoff
    is worth it for now, as the big benefit will come when we can actually
    preoptimize plans; the SQL planner itself is quite fast.
    
    As a quick integration test for now, switch testdrive over to using the
    extended query flow. This shook out several bugs in our implementation
    of the backend extended query flow.
    
    Also, as a bonus, add support for binary encoding of decimals, and also
    fix a bug in our binary encoding of timestamps, which was using the
    wrong epoch.
    
    Fix #599.
    Fix #776.

commit ec66a6f11883624529f51cad16c85f7ebe4402f7
Author: Nikhil Benesch <nikhil.benesch@gmail.com>
Date:   Thu Oct 17 01:27:26 2019 -0400

    sql: split planning into immutable and mutable phases
    
    Separating the immutable bits of planning from the mutable bits makes it
    easier to deal with prepared statements. Preparing a statement involves
    everything but the mutable part.

commit df12f21fdbe86267e31cb989fc223167f74d88e2
Merge: 7c217beca 407049cec
Author: Nikhil Benesch <nikhil.benesch@gmail.com>
Date:   Wed Oct 16 22:06:00 2019 -0400

    Merge pull request #781 from benesch/cancellation2
    
    coord,dataflow,pgwire: support cancellation

commit 407049cec5a625a61220b728e8f00c1aa955d739
Author: Nikhil Benesch <nikhil.benesch@gmail.com>
Date:   Wed Oct 16 15:09:52 2019 -0400

    pgwire: check connection secrets on cancellation
    
    For a modest bit of security, the pgwire protocol requires cancellation
    requests to authenticate themselves with the 32-bit secret of the target
    connection. This is rather silly, given that we don't authenticate
    connections at all at the moment, but might as well implement it while
    I'm in the area.

commit 51ff280b337486168e4d7feefc44e5a3dc30b8c0
Author: Nikhil Benesch <nikhil.benesch@gmail.com>
Date:   Wed Oct 16 12:07:32 2019 -0400

    coord,dataflow,pgwire: support cancellation
    
    Fix #376.

commit b29849b99e697625db4ae4b48a63347e0f14413b
Author: Nikhil Benesch <nikhil.benesch@gmail.com>
Date:   Wed Oct 16 16:26:27 2019 -0400

    comm: don't sometimes fail to connect broadcast transmitter
    
    In a certain pathological interleaving, where one broadcast transmitter
    was created before its receiver but another was not, we could lose
    messages. This was not currently impacting any of our code (we don't
    create multiple broadcast transmitters), but figured I'd fix the problem
    while I was in the area.

commit d9794ea55eb6978d42c2ea801647e4a00df50f60
Author: Nikhil Benesch <nikhil.benesch@gmail.com>
Date:   Wed Oct 16 14:01:47 2019 -0400

    comm: support closing MPSC receivers when number of producers is known
    
    MPSC channels in comm have the defect that they do not close when all
    possible producers have closed. This is for reasons of efficiency; since
    producers can be sent to different processes, refcounting them (e.g.,
    with drop implementations) would be unacceptably expensive, as the
    refcount would need to be distributed and thus would involve network
    accesses.
    
    Instead, introduce a new API where the client specifies the maximum
    number of producers that are expected to connect. Once that number of
    producers has connected, and once those producers have finished
    producing messages, the receiver is closed.

commit 50d93e96da76e2be8b2429408dd7450db0e5d1fa
Author: Nikhil Benesch <nikhil.benesch@gmail.com>
Date:   Wed Oct 16 10:36:00 2019 -0400

    coord: improve docs about query flow
    
    The idea is to put notes about the general philosophy in the module
    docs, while keeping specifics in the item-level docs.

commit ff970a3c71cd3407a332ec01b32168975a870277
Author: Nikhil Benesch <nikhil.benesch@gmail.com>
Date:   Tue Oct 15 14:36:27 2019 -0400

    pgwire: improve docs of FrontendMessage

commit ec7086ff7e0a6918f3ac752700e4df3667937175
Author: Nikhil Benesch <nikhil.benesch@gmail.com>
Date:   Tue Oct 15 14:19:05 2019 -0400

    pgwire: harmonize message decoding
    
    Ensure each type of message has a dedicated function, even when the
    function is trivial, to make the dispatcher in the match easier to
    follow. Also name the functions "decode_MESSAGETYPE", rather than
    "parse_MESSAGETYPE", which better harmonizes with the name of the
    "Decoder" object and avoids the awkwardness of "parse_parse".

commit 6c60b14f5c3b2a3ae63dc06139f2070f04684a24
Author: Nikhil Benesch <nikhil.benesch@gmail.com>
Date:   Tue Oct 15 14:04:02 2019 -0400

    pgwire: keep encode helpers near the encoder

commit c35e7cb7d2da6a053b85a45097a2c9c74212418b
Author: Nikhil Benesch <nikhil.benesch@gmail.com>
Date:   Tue Oct 15 14:01:28 2019 -0400

    pgwire: simplify codec::Cursor
    
    The ref-counted offset can be replaced with just advancing the contained
    byte slice as necessary.

commit 6dc7b26628e8dc44d350e8d78c7eb2aada9a5c78
Author: Nikhil Benesch <nikhil.benesch@gmail.com>
Date:   Tue Oct 15 13:49:21 2019 -0400

    pgwire: add some additional documentation

commit 7c217beca133e8bf711a9df46360212ebd307936
Merge: 592ca8405 2d8cf8671
Author: Frank McSherry <fmcsherry@me.com>
Date:   Wed Oct 16 15:24:13 2019 -0400

    Merge pull request #774 from frankmcsherry/normalize_logs
    
    Normalize logging

commit 592ca840508a8f35b1f447cc643ab155e37d1184
Merge: 7bdf6cf75 3a06e0f62
Author: wangandi <5522362+wangandi@users.noreply.github.com>
Date:   Wed Oct 16 15:18:36 2019 -0400

    Merge pull request #772 from wangandi/orderby
    
    Enable orderby/offset/limit with view creation.

commit eabdd9c653093c6f328ce94d5953360de5675217
Author: Brennan Vincent <brennan@materialize.io>
Date:   Tue Oct 15 16:06:41 2019 -0400

    peeking views WIP

commit 7bdf6cf75bd48bb2262893e6092399b7197626c0
Merge: 9dbdcd7b2 740b1e639
Author: Nikhil Benesch <nikhil.benesch@gmail.com>
Date:   Wed Oct 16 09:56:03 2019 -0400

    Merge pull request #775 from benesch/eager-predicate-oops
    
    sql: apply decorrelation optimization to nested subqueries too

commit 9dbdcd7b221cbb06900e5d7bb2e280f9d60a4d10
Merge: 8846c96f4 4bc0ae9e2
Author: Jamie Brandon <jamie@scattered-thoughts.net>
Date:   Wed Oct 16 12:26:52 2019 +0100

    Merge pull request #770 from jamii/slt-docs
    
    High-level docs for slt

commit 740b1e639fc3908cab9c05fc790ba9f5a92c2da9
Author: Nikhil Benesch <nikhil.benesch@gmail.com>
Date:   Tue Oct 15 17:28:22 2019 -0400

    sql: apply decorrelation optimization to nested subqueries too
    
    In #755, the optimization I added to eagerly incorporate predicates
    failed to recurse into nested subqueries, resulting in a cross join for
    chbench query 20 (which uses nested subqueries).

commit 2d8cf8671c6c3e485d4c4199e794e58fb48c6c5a
Author: Frank McSherry <fmcsherry@me.com>
Date:   Tue Oct 15 16:31:35 2019 -0400

    update column names and startup sql

commit 2cd599f890a35b1af8e50a42bf77ee0cf3d193cf
Author: Frank McSherry <fmcsherry@me.com>
Date:   Tue Oct 15 15:33:50 2019 -0400

    normalize logging

commit 8846c96f4f442017cd3cb9a5fa4729b975d3c6a2
Merge: 595d0806e aa3b3f3a8
Author: Frank McSherry <fmcsherry@me.com>
Date:   Tue Oct 15 15:21:45 2019 -0400

    Merge pull request #768 from frankmcsherry/absorb_projections
    
    Absorb projects into reduce

commit aa3b3f3a8cd8a7d8c995c4d69b2558c5f0370d06
Author: Frank McSherry <fmcsherry@me.com>
Date:   Tue Oct 15 15:12:22 2019 -0400

    dedup q11

commit b552a1e5ad73503408723519b19b4ec83139feb2
Author: Frank McSherry <fmcsherry@me.com>
Date:   Tue Oct 15 15:10:59 2019 -0400

    update tests

commit 3a06e0f62dc1e493301130287be07d54a77ef8cb
Author: Andi Wang <andi@materialize.io>
Date:   Tue Oct 15 14:28:45 2019 -0400

    Enable orderby/offset/limit with view creation.

commit 7f3126684d0f6e8d14dc3f7a026a9bc84c1c2fc0
Author: Frank McSherry <fmcsherry@me.com>
Date:   Tue Oct 15 14:45:56 2019 -0400

    rebase

commit 083f2393f3128bc64c53eed70178549155a1a83e
Author: Frank McSherry <fmcsherry@me.com>
Date:   Tue Oct 15 11:53:32 2019 -0400

    rebase, refresh

commit a416436bb9354ec34c8d541adeb4194ffe93229d
Author: Frank McSherry <fmcsherry@me.com>
Date:   Tue Oct 15 10:42:12 2019 -0400

    rewrite test, reuse method

commit 0ab63212bd43d8a5dc8699f6094876de5ce7e57f
Author: Frank McSherry <fmcsherry@me.com>
Date:   Tue Oct 15 10:11:29 2019 -0400

    absorb projects into reduce

commit 595d0806ea47d079776e8f8395986e620aa277f6
Merge: b6c3a1029 12eda0e93
Author: Frank McSherry <fmcsherry@me.com>
Date:   Tue Oct 15 14:37:27 2019 -0400

    Merge pull request #762 from frankmcsherry/reduce_elision
    
    generalize distinct elision to reduce

commit b6c3a1029f9fc120f7b91fc23112329a169d8ee6
Merge: 67abec79f aa6da7e74
Author: Frank McSherry <fmcsherry@me.com>
Date:   Tue Oct 15 14:37:01 2019 -0400

    Merge pull request #751 from frankmcsherry/maintain_arranged
    
    Only arrange by self as last resort

commit 12eda0e9392721a4952803650c3164284bea9a6e
Author: Frank McSherry <fmcsherry@me.com>
Date:   Tue Oct 15 13:05:28 2019 -0400

    wrangle clippy

commit 4bc0ae9e2a2f24f8227833835926db845763c2e9
Author: Jamie Brandon <jamie@scattered-thoughts.net>
Date:   Tue Oct 15 17:59:46 2019 +0100

    slt docs

commit aa6da7e744d02c190f4e9aaec1ab3a5f53e343ee
Author: Frank McSherry <fmcsherry@me.com>
Date:   Tue Oct 15 12:44:46 2019 -0400

    rebase

commit 54e8a46c0b2daee0538d97425f28d29308fab588
Author: Frank McSherry <fmcsherry@me.com>
Date:   Mon Oct 14 22:52:49 2019 -0400

    f clippy

commit 9a67d07eee62706cdc8117edf953cb00b51e5d52
Author: Frank McSherry <fmcsherry@me.com>
Date:   Mon Oct 14 22:50:29 2019 -0400

    f clippy

commit 77eefaf63d572d2cac221b8f6d720a886e7bcb95
Author: Frank McSherry <fmcsherry@me.com>
Date:   Mon Oct 14 22:43:43 2019 -0400

    refresh differential

commit 205a0fa1c4cd5cccedfaf27fbb0630effe8dd6ea
Author: Frank McSherry <fmcsherry@me.com>
Date:   Mon Oct 14 21:43:32 2019 -0400

    bugses. also differential

commit e386695164ec33260d4af48ec50e3db133113006
Author: Frank McSherry <fmcsherry@me.com>
Date:   Mon Oct 14 18:25:35 2019 -0400

    better handle render results

commit 789ad604f98c32f9986e62e849bb04338bcd4a8e
Author: Frank McSherry <fmcsherry@me.com>
Date:   Mon Oct 14 18:08:43 2019 -0400

    rebase

commit 1511253a2e79880f587d47b812b07665e7c96a49
Author: Frank McSherry <fmcsherry@me.com>
Date:   Sat Oct 12 15:40:19 2019 -0400

    ignore internal gets

commit afe856a4d65d7141eeaa84022003fd254ea76f57
Author: Frank McSherry <fmcsherry@me.com>
Date:   Sat Oct 12 14:09:44 2019 -0400

    excise by_self arrangement

commit c7ff30e1469de9a1f1eb59904f8fc2a59542d249
Author: Frank McSherry <fmcsherry@me.com>
Date:   Sat Oct 12 12:18:52 2019 -0400

    remove diagnostics

commit fa9a8aea96852fe9fdcf9b9d703ff929e7c5ebb8
Author: Frank McSherry <fmcsherry@me.com>
Date:   Sat Oct 12 12:11:03 2019 -0400

    only arrange by self as last resort

commit 6f758620f0d8df1f1e4845eb5db3c62a985fd686
Author: Frank McSherry <fmcsherry@me.com>
Date:   Tue Oct 15 11:39:55 2019 -0400

    better use existing types

commit c563e8e735027fd49e505d9f79e65b0d6bd89cb4
Author: Frank McSherry <fmcsherry@me.com>
Date:   Tue Oct 15 11:37:54 2019 -0400

    better use existing types

commit e1358f2373de4c177d73031aa0226571e3257933
Author: Frank McSherry <fmcsherry@me.com>
Date:   Tue Oct 15 11:36:36 2019 -0400

    better use existing types

commit a2526114cabb0b57d58d4b2a5791425bdec87371
Author: Frank McSherry <fmcsherry@me.com>
Date:   Mon Oct 14 17:57:29 2019 -0400

    respect absent keys

commit bc2d3549b275f370a119a2800a134e9fba471fae
Author: Frank McSherry <fmcsherry@me.com>
Date:   Mon Oct 14 17:15:18 2019 -0400

    logical error

commit 667585f55f5cef1a128469705db5eb41bb4a6654
Author: Frank McSherry <fmcsherry@me.com>
Date:   Mon Oct 14 16:31:01 2019 -0400

    generalize distinct elision to reduce

commit 67abec79fa29b722e399ab3ede2d76dda33c8f79
Merge: 3bc349399 e069fcef8
Author: Nikhil Benesch <nikhil.benesch@gmail.com>
Date:   Tue Oct 15 11:08:22 2019 -0400

    Merge pull request #765 from MaterializeInc/dependabot/cargo/reqwest-0.9.22
    
    Bump reqwest from 0.9.21 to 0.9.22

commit 3bc349399541873320e41de8280f1bd3cd45b381
Merge: b8a6a1917 5e346a9e7
Author: Nikhil Benesch <nikhil.benesch@gmail.com>
Date:   Tue Oct 15 11:08:08 2019 -0400

    Merge pull request #766 from MaterializeInc/dependabot/cargo/failure-0.1.6
    
    Bump failure from 0.1.5 to 0.1.6

commit b8a6a1917cba37f5046c29b3a071d48861d2bef1
Merge: 8533ef448 e21488583
Author: Nikhil Benesch <nikhil.benesch@gmail.com>
Date:   Tue Oct 15 11:08:01 2019 -0400

    Merge pull request #755 from benesch/improve-correlated-plans
    
    sql: eagerly incorporate predicates when decorrelating

commit 8533ef448beed94561696eee4c3a50bf0d43e409
Merge: 90e73dc82 5ea3a62d1
Author: Brandon W Maister <bwm@materialize.io>
Date:   Tue Oct 15 10:55:28 2019 -0400

    Merge pull request #769 from quodlibetor/fix-client-peek-latencies
    
    metrics crate: support peek durations up to 5 minutes

commit e2148858354d9d74d5a6d84ade70cb5d90203c80
Author: Nikhil Benesch <nikhil.benesch@gmail.com>
Date:   Sat Oct 12 23:48:56 2019 -0400

    sql: eagerly incorporate predicates when decorrelating
    
    The branch key tightening introduced in #719 had the defect that it was
    interfering with the assertive predicate pushdown introduced in #715.
    As a result, correlated subqueries could wind up planning large cross
    joins, even though a join key was technically available.
    
    This commit not only restores the assertive predicate pushdown behavior,
    it enhances to never before seen power: even the five-way cross join in
    q21 is finally optimized.
    
    The trick is to take a query that looks like
    
        SELECT * FROM a, b, c
        WHERE a.a = b.a AND b.c = c.c AND EXISTS (<subquery>)
    
    and rewrite it to look like, essentially:
    
        SELECT * FROM (
            SELECT * FROM a, b, c WHERE a.a = b.a AND b.c = c.c
        ) WHERE EXISTS (<subquery>)
    
    In the old example, <subquery> is evaluated in the context of `FROM
    a, b, c` (i.e., the three-way cross join), and we needed serious
    optimization smarts to push down the join key (`a.a = b.a AND ...`) to
    both sides of the join.
    
    In the rewritten example, <subquery> is evaluated in the context of
    `FROM a, b, c WHERE a.a = b.a AND b.c = c.c` (i.e., the predicates are
    applied first), and the branch naturally applies to the post-selection
    relation without any kind of complicated optimizations required.
    
    Things get tricky when multiple subqueries are in play, and this patch
    doesn't attempt to make optimal decisions. A query like
    
        SELECT * FROM a, b, c
        WHERE a.a = b.a AND b.c = c.c
        AND EXISTS (<subquery>)
        AND EXISTS (<subquery 2>)
    
    may very well be more efficient if <subquery 2> is evaluated before
    <subquery>, but at the moment we simply plan in the order that
    subqueries appear.
    
    Fix #750.

commit 5ea3a62d1ed01eb1ac6455d4a3b089658bafb932
Author: Brandon W Maister <bwm@materialize.io>
Date:   Tue Oct 15 10:28:08 2019 -0400

    metrics crate: support peek durations up to 5 minutes
    
    turns out we sometimes take longer thant 160 ms.
    
    Fixes #767

commit 90e73dc8224baa82dcd556ada9eded589fd436e8
Merge: de1cc7493 d204d1537
Author: Frank McSherry <fmcsherry@me.com>
Date:   Tue Oct 15 09:25:26 2019 -0400

    Merge pull request #763 from MaterializeInc/dependabot/cargo/timely-a901170
    
    Bump timely from `0d5dfae` to `a901170`

commit 5e346a9e771c169613f5f406499422a2f5e7854e
Author: dependabot-preview[bot] <27856297+dependabot-preview[bot]@users.noreply.github.com>
Date:   Mon Oct 14 23:06:41 2019 +0000

    Bump failure from 0.1.5 to 0.1.6
    
    Bumps [failure](https://github.com/rust-lang-nursery/failure) from 0.1.5 to 0.1.6.
    - [Release notes](https://github.com/rust-lang-nursery/failure/releases)
    - [Changelog](https://github.com/rust-lang-nursery/failure/blob/master/RELEASES.md)
    - [Commits](https://github.com/rust-lang-nursery/failure/commits)
    
    Signed-off-by: dependabot-preview[bot] <support@dependabot.com>

commit e069fcef83384769220f0ae8d2892f16cbbbad16
Author: dependabot-preview[bot] <27856297+dependabot-preview[bot]@users.noreply.github.com>
Date:   Mon Oct 14 23:06:21 2019 +0000

    Bump reqwest from 0.9.21 to 0.9.22
    
    Bumps [reqwest](https://github.com/seanmonstar/reqwest) from 0.9.21 to 0.9.22.
    - [Release notes](https://github.com/seanmonstar/reqwest/releases)
    - [Changelog](https://github.com/seanmonstar/reqwest/blob/v0.9.22/CHANGELOG.md)
    - [Commits](https://github.com/seanmonstar/reqwest/compare/v0.9.21...v0.9.22)
    
    Signed-off-by: dependabot-preview[bot] <support@dependabot.com>

commit d204d1537193a18ad86270cfa53f95d2df4bb74f
Author: dependabot-preview[bot] <27856297+dependabot-preview[bot]@users.noreply.github.com>
Date:   Mon Oct 14 23:04:44 2019 +0000

    Bump timely from `0d5dfae` to `a901170`
    
    Bumps [timely](https://github.com/TimelyDataflow/timely-dataflow) from `0d5dfae` to `a901170`.
    - [Release notes](https://github.com/TimelyDataflow/timely-dataflow/releases)
    - [Commits](https://github.com/TimelyDataflow/timely-dataflow/compare/0d5dfae1853ffd454795a84255525d4494a909a6...a901170e6610406c69c077501ec4f9e5f60ac7a1)
    
    Signed-off-by: dependabot-preview[bot] <support@dependabot.com>

commit de1cc7493e3448a169c0f27b062bd12532f6c59d
Merge: 45ee3e715 28c8367eb
Author: JLDLaughlin <JLDLaughlin@users.noreply.github.com>
Date:   Mon Oct 14 17:18:34 2019 -0400

    Merge pull request #760 from JLDLaughlin/improve_simplify_filter_predicates
    
    Small improvements to SimplifyJoinEqualities

commit 45ee3e71529dc455b786c55ed1cd818f64af427c
Merge: fd90429b1 47570c7b9
Author: Frank McSherry <fmcsherry@me.com>
Date:   Mon Oct 14 17:13:03 2019 -0400

    Merge pull request #754 from frankmcsherry/more_nullage
    
    More null pushdown

commit a22b4fc89d739f67d312345356f372d77d73440e
Author: Brennan Vincent <brennan@materialize.io>
Date:   Mon Oct 14 17:12:36 2019 -0400

    automatic view creation

commit fd90429b1956650057c6e30609fb63d01944312c
Merge: 2a9a3d378 83dc04c3d
Author: wangandi <5522362+wangandi@users.noreply.github.com>
Date:   Mon Oct 14 17:08:43 2019 -0400

    Merge pull request #747 from wangandi/orderby
    
    Enable order by in subqueries.

commit 47570c7b96ad1d4aab7274bceab28f3c5ca9950d
Author: Frank McSherry <fmcsherry@me.com>
Date:   Mon Oct 14 10:24:32 2019 -0400

    f this workflow

commit 0e59c25b03aea95d39590ae66ca03629d0dc8a09
Author: Frank McSherry <fmcsherry@me.com>
Date:   Mon Oct 14 10:18:51 2019 -0400

    further rebase woes

commit 86976a6e10d01710710b2eacc1bb79054f89d01a
Author: Frank McSherry <fmcsherry@me.com>
Date:   Mon Oct 14 09:03:57 2019 -0400

    rebase failure

commit f8fe5c50cbd686dab60c6121fa4135b66d7746e9
Author: Frank McSherry <fmcsherry@me.com>
Date:   Sun Oct 13 23:23:11 2019 -0400

    scary reduce optimization

commit 394bad087743ab2c175b66e4b4a03348c507a3be
Author: Frank McSherry <fmcsherry@me.com>
Date:   Sun Oct 13 23:12:21 2019 -0400

    why so hard

commit 3197e36450516c4a286984309144bea92741eea4
Author: Frank McSherry <fmcsherry@me.com>
Date:   Sun Oct 13 22:59:07 2019 -0400

    ignore clippy

commit c58126f2688e40851f3a31afcf3fe802b49a8ce9
Author: Frank McSherry <fmcsherry@me.com>
Date:   Sun Oct 13 22:07:21 2019 -0400

    join and reduce additions

commit 5e83b3963547097b75b12fdfc6a55168471e6b5e
Author: Frank McSherry <fmcsherry@me.com>
Date:   Sun Oct 13 21:23:23 2019 -0400

    cross let boundaries

commit d1b78abe3b1561591d9d9145ddb2b520dab484e8
Author: Frank McSherry <fmcsherry@me.com>
Date:   Sun Oct 13 20:53:41 2019 -0400

    cargo fmt

commit 846329751f4db7d3030e15de3bdbc9f25cc78e95
Author: Frank McSherry <fmcsherry@me.com>
Date:   Sun Oct 13 20:53:19 2019 -0400

    tidy

commit 769e07cc3b9355d36a02a938e2e3894f1c5083a3
Author: Frank McSherry <fmcsherry@me.com>
Date:   Sat Oct 12 20:22:32 2019 -0400

    tidy comments, remove q11v2

commit 26fffee57af2042d367be0a36c8bf853344de503
Author: Frank McSherry <fmcsherry@me.com>
Date:   Sat Oct 12 20:08:46 2019 -0400

    cargo fmt

commit 0f9bf18e0a3127f09bf4510fbaf76d817e87ad18
Author: Frank McSherry <fmcsherry@me.com>
Date:   Sat Oct 12 20:08:18 2019 -0400

    More null tests

commit 2a9a3d3787ee6b34e57d40064135d47d63543427
Merge: f83d3a093 b2bc5f852
Author: Frank McSherry <fmcsherry@me.com>
Date:   Mon Oct 14 16:37:59 2019 -0400

    Merge pull request #759 from frankmcsherry/minimize_logs
    
    Minimize logs

commit 28c8367ebe56542a6fb3ba6872b9fc6e2ce28fac
Author: JLDLaughlin <jessica@materialize.io>
Date:   Mon Oct 14 15:14:51 2019 -0400

    github issue

commit bd3b7e8ce60153314f37d52e08b3617f5f04b130
Author: JLDLaughlin <jessica@materialize.io>
Date:   Mon Oct 14 15:00:48 2019 -0400

    linting

commit e5e6718d8d988e0453b217d5b8a68c72a03cbfe4
Author: JLDLaughlin <jessica@materialize.io>
Date:   Mon Oct 14 14:54:07 2019 -0400

    add todo

commit b2bc5f8520570c8ef447120e958de812454be15f
Author: Frank McSherry <fmcsherry@me.com>
Date:   Mon Oct 14 14:43:01 2019 -0400

    remove accumulating logs

commit 83dc04c3d7e77b3bf9bcfbd0233a304e159abd59
Author: Andi Wang <andi@materialize.io>
Date:   Mon Oct 7 16:29:10 2019 -0400

    Enable order by in subqueries.

commit 4057afe0fc7a901d236fb504e637c06e4491df1b
Author: JLDLaughlin <jessica@materialize.io>
Date:   Mon Oct 14 14:14:01 2019 -0400

    improve name, doc test

commit e295dc684429e3ce15cbc66d366b4fd0adf53059
Author: Frank McSherry <fmcsherry@me.com>
Date:   Mon Oct 14 13:18:01 2019 -0400

    work around ci limitations

commit aec7dec1a46451e7ac1ce476fa02d6612708fd5b
Author: Frank McSherry <fmcsherry@me.com>
Date:   Mon Oct 14 13:15:04 2019 -0400

    remove dropped dataflow structure

commit f83d3a093dfd6ebecf18ed92ae7b6aa9ac600426
Merge: 48386e6f9 fb5baa684
Author: Robert Grimm <grimmr@materialize.io>
Date:   Mon Oct 14 12:42:38 2019 -0400

    Merge pull request #743 from apparebit/better-peek-finishing
    
    Better peek finishing

commit 48386e6f9a9bd2a60adf999bfb6d58d20e15acd2
Merge: c06c76d3d f7930f070
Author: JLDLaughlin <JLDLaughlin@users.noreply.github.com>
Date:   Mon Oct 14 11:56:29 2019 -0400

    Merge pull request #728 from JLDLaughlin/simplify_complex_equalities
    
    Simplify complex equalities in Filter {Join {}}s

commit fb5baa684aef27aeb5429e716a67a5fc10fa65db
Author: Robert Grimm <grimmr@materialize.io>
Date:   Mon Oct 14 11:48:02 2019 -0400

    Advance cursor on *all* branches of loop
    
    Otherwise, we might just be stuck.

commit f7930f070aecd88de7586a5c2dce51184b1365c0
Author: JLDLaughlin <jessica@materialize.io>
Date:   Mon Oct 14 11:44:07 2019 -0400

    add function comment

commit d666d3918829dd6250897fb75fece70d9ea60cf6
Author: JLDLaughlin <jessica@materialize.io>
Date:   Mon Oct 14 10:49:00 2019 -0400

    rewrite chbench.slt results

commit 1ea4f8593886d25ac193e34aec8a59e1c43ecb8b
Author: JLDLaughlin <jessica@materialize.io>
Date:   Mon Oct 14 10:41:57 2019 -0400

    catch up with rebase

commit c4e25eae742037569ad71bd816d6be5ec5ac725c
Merge: 5707b4cb5 c06c76d3d
Author: JLDLaughlin <jessica@materialize.io>
Date:   Mon Oct 14 10:28:21 2019 -0400

    Merge branch 'master' into simplify_complex_equalities

commit c06c76d3d30e6f4b48b028c0bc3f08b613c1e217
Merge: ac1921932 de490cb10
Author: Frank McSherry <fmcsherry@me.com>
Date:   Mon Oct 14 09:53:52 2019 -0400

    Merge pull request #674 from frankmcsherry/constant_joins
    
    tidy constant joins

commit de490cb10bcb6fe6187bef7764d98e6e504e8cc1
Author: Frank McSherry <fmcsherry@me.com>
Date:   Mon Oct 14 09:45:14 2019 -0400

    subquery update

commit d5e361a2bf71cc4824c0155fc33d94d6f3fbdf41
Author: Frank McSherry <fmcsherry@me.com>
Date:   Mon Oct 14 09:33:15 2019 -0400

    cargo fmt

commit 9305e6f6252f89634ece7f8efb45a2a63bc065f6
Author: Frank McSherry <fmcsherry@me.com>
Date:   Mon Oct 14 09:30:49 2019 -0400

    rebase

commit 9c6755489971d17103bffcad2536d1a5dc6bea7e
Author: Frank McSherry <fmcsherry@me.com>
Date:   Tue Oct 1 16:19:06 2019 -0400

    tidy constant joins

commit ac19219325350cc2a2ce8e0d12c5e2dcb8cfec69
Merge: d6136e528 d9b10d953
Author: Frank McSherry <fmcsherry@me.com>
Date:   Mon Oct 14 08:41:41 2019 -0400

    Merge pull request #757 from frankmcsherry/reorder_optimizations
    
    Reorder optimizations

commit d9b10d953c533ae032d7c4256fec36497b47b96f
Author: Frank McSherry <fmcsherry@me.com>
Date:   Sun Oct 13 23:08:12 2019 -0400

    tidy post-join

commit 98ce202b8bafaebf2c8c0664f536b005158d4d83
Author: Frank McSherry <fmcsherry@me.com>
Date:   Sun Oct 13 22:51:35 2019 -0400

    cargo fmt

commit 5707b4cb5b57aeb09d76ae7ecec00c3922b47425
Author: JLDLaughlin <jessica@materialize.io>
Date:   Sun Oct 13 16:49:18 2019 -0400

    fix doc test

commit bf5833f5f0a7f019566c41e30f3cd8a4f543e0c7
Author: JLDLaughlin <jessica@materialize.io>
Date:   Sun Oct 13 16:14:44 2019 -0400

    working version with comments, needs to be refactored

commit d6136e52856f0f28f35000e6e8000452e4463027
Merge: 80fc5117e 8ab8ab7e4
Author: Frank McSherry <fmcsherry@me.com>
Date:   Sun Oct 13 00:37:02 2019 -0400

    Merge pull request #753 from frankmcsherry/less_nullage
    
    Less null pushdown

commit 8ab8ab7e4e4b1267808143ade768b7877bbabb47
Author: Frank McSherry <fmcsherry@me.com>
Date:   Sat Oct 12 19:14:47 2019 -0400

    cargo fmt

commit ebb79c3175c16d05d515232f1477505f36377f99
Author: Frank McSherry <fmcsherry@me.com>
Date:   Sat Oct 12 19:14:00 2019 -0400

    relax null pushdown

commit 80fc5117e95edc7ed1679ada8ba9a5449e8a0edc
Merge: e08aaada0 32e87fd4f
Author: Nikhil Benesch <nikhil.benesch@gmail.com>
Date:   Sat Oct 12 18:35:23 2019 -0400

    Merge pull request #752 from benesch/improve-noncorrelated-plans
    
    sql: plan non-correlated subqueries better

commit 32e87fd4ffc0552a3459dba8916511e14338eac2
Author: Nikhil Benesch <nikhil.benesch@gmail.com>
Date:   Sat Oct 12 15:04:26 2019 -0400

    sql: plan non-correlated subqueries better
    
    When a subquery is not correlated, don't bother joining it with the
    outer query at all. This yields nearly optimal plans for simple
    non-correlated subqueries. See enclosed comments and plan diffs for
    details.

commit e08aaada02b246ca3851becfdfc2afe218b779e4
Merge: 3ec1931c2 a4cfe32c3
Author: Nikhil Benesch <nikhil.benesch@gmail.com>
Date:   Sat Oct 12 03:11:04 2019 -0400

    Merge pull request #748 from benesch/rdkafka-bump
    
    deps: bump rdkafka

commit a4cfe32c36f7cb5bf507cedda8d6de7cac1e188c
Author: Nikhil Benesch <nikhil.benesch@gmail.com>
Date:   Sat Oct 12 02:49:58 2019 -0400

    deps: bump rdkafka
    
    rdkafka depends on a version of bindgen that causes nightly rustc to
    overflow its stack, which breaks our deploy job. Upgrade to a new
    version of rdkafka which depends on a new version of bindgen that does
    not cause rustc to overflow its stack.

commit 3ec1931c24518fb9bcb13ca38adfd62a97de080c
Merge: adce24cda 1695412a2
Author: Nikhil Benesch <nikhil.benesch@gmail.com>
Date:   Sat Oct 12 02:36:22 2019 -0400

    Merge pull request #719 from benesch/branch-tightening
    
    expr,sql: tighten branch key during decorrelation

commit 1695412a2eb8f66b7d9c6599a711f511a619cb3e
Author: Nikhil Benesch <nikhil.benesch@gmail.com>
Date:   Fri Oct 11 19:10:34 2019 -0400

    sql: rename parameter to ScalarExpr::applied_to
    
    What ScalarExpr::applied_to called `inner` was actually the
    concatenation of the outer relation expression and the inner relation
    expression, which I found exceptionally confusing to keep track of.
    Rename the parameter to `relation`, which I think is marginally less
    confusing.

commit 009437316bedfdb2552dd7e1a6e817d09bcff26f
Author: Nikhil Benesch <nikhil.benesch@gmail.com>
Date:   Sat Sep 14 04:14:10 2019 -0400

    sql: fix scoping of doubly-nested subqueries
    
    With nested subqueries, column references are only ambiguous if the same
    column appears twice in the same scope. A doubly-nested subquery
    introduces has three scopes from the perspective of SQL, even though
    from the perspective of the innermost subquery in our SQL IR there are
    only two scopes (inner and outer).

commit ae3ae0533f27a718bec472021ec6a565c05a58c1
Author: Nikhil Benesch <nikhil.benesch@gmail.com>
Date:   Tue Oct 8 22:18:37 2019 -0400

    expr,sql: tighten branch key during decorrelation
    
    When decorrelating a subquery like
    
        SELECT * FROM t1 WHERE EXISTS (SELECT * FROM t2)
    
    we generate a query plan that involves joining t1 against t2, to
    effectively run the inner query once for every row of the outer query.
    This is extra computation than is actually required, as in this case the
    subquery is not correlated; in other words, the predicate
    
       EXISTS (SELECT * FROM t2)
    
    does not vary based on the observed row of t1, so the subquery can
    simply be executed once, and that result can be applied to every row of
    t1.
    
    This generalizes to correlated subqueries like
    
        SELECT a, b FROM t1 WHERE EXISTS (SELECT * FROM t2 WHERE t1.b = t2.b)
    
    where the inner query only needs to be executed for distinct values of
    t1.b, and not distinct values of (t1.a, t1.b), since the value of the
    inner query is not dependent on t1.a, just t1.b.
    
    This commit teaches the decorrelator to walk the inner queries,
    determine what columns they actually use from the outer query, and use
    that to limit the amount of computation that must be performed, as
    described above.
    
    Informs #704.

commit 29e2c46533497d2b08c5faeb195a2a294181754a
Author: Nikhil Benesch <nikhil.benesch@gmail.com>
Date:   Tue Oct 8 12:13:45 2019 -0400

    expr: remove extraneous let from branch constructor
    
    This let gets properly eliminated by an optimization pass later, but
    it makes the code simpler not to have it.

commit adce24cda0bfe5fa1170f8ec75a182c69f2638aa
Merge: 66014c257 7052fe8b4
Author: Nikhil Benesch <nikhil.benesch@gmail.com>
Date:   Sat Oct 12 02:17:14 2019 -0400

    Merge pull request #725 from benesch/sql-typ
    
    expr,sql: rework scalar expression typing

commit 7052fe8b4f338dfad7a55cb182bfbae53a597233
Author: Nikhil Benesch <nikhil.benesch@gmail.com>
Date:   Wed Oct 9 15:45:17 2019 -0400

    expr,sql: learn to derive a ScalarExpr's types
    
    Previously, the SQL planner would keep track of a scalar expression's
    types as it built up the scalar expression, throwing away type
    information about the leaves of the expression as it worked its way
    towards the root. This is problematic when a ScalarExpr later needs to
    be split into pieces, as the type information about the inside of an
    expression was lost.
    
    Add a new ScalarExpr::typ method that can derive a scalar expression's
    type on the fly. This requires that ScalarExpr::Literal contain type
    information, as the full type of decimal and null literals cannot be
    inferred.
    
    Note that ScalarExpr::typ is added to both ::sql::expr::ScalarExpr and
    ::expr::ScalarExpr. The ::sql::expr version requires both the outer and
    inner relation expressions that the scalar expression will be evaluated
    upon (due to correlation), while the ::expr version requries just the
    single relation expression (thanks to decorrelation).
    
    Then, teach the planner to use ScalarExpr::typ whenever scalar
    expression type information is required, rather than passing it upwards
    along with the expression. Functions that planned scalar expressions
    previously returned (ScalarExpr, ColumnType), and now return
    ScalarExpr, as the column type can be computed (via typ) whenever
    required.
    
    Finally, remove the ColumnTypes from RelationExpr::Reduce and
    RelationExpr::Map, as they can be derived from the contained
    ScalarExprs/AggregateExprs as necessary. This prevents them from going
    stale as optimizations rewrite the tree.
    
    Addresses half of #716.

commit ad757f29a9436497613415702f5cf5958209b6c2
Author: Robert Grimm <grimmr@materialize.io>
Date:   Fri Oct 11 16:39:51 2019 -0400

    Appease the powers that are

commit 30f844a4ee16fc3320ef3f08e241a4d859195857
Author: Robert Grimm <grimmr@materialize.io>
Date:   Fri Oct 11 16:31:08 2019 -0400

    Remove detritus from earlier drafts

commit 02569255855a0900a25ca7cd7b42d762098528c0
Author: Robert Grimm <grimmr@materialize.io>
Date:   Fri Oct 11 16:27:42 2019 -0400

    Rewrite operator to finishing instruction transformation
    
    * Factor out code into its own method.
    * Be more conservative as to when to transform dataflow.
    * Make addition of other operators more or less trivial.

commit c86d1edebf5335539bede79197db8a8be5eca75d
Author: Brennan Vincent <brennan@materialize.io>
Date:   Fri Oct 11 14:15:41 2019 -0400

    oops

commit 66014c25778958a0e095eb7ee86a673883e739ed
Merge: 535f4ed53 1839411d8
Author: Frank McSherry <fmcsherry@me.com>
Date:   Fri Oct 11 13:57:53 2019 -0400

    Merge pull request #736 from frankmcsherry/any_all
    
    Move filters around ANY

commit 5ef554edccf23dffbbbfa03328edcba33c6cac7a
Author: Robert Grimm <grimmr@materialize.io>
Date:   Fri Oct 11 13:09:31 2019 -0400

    Factor out processing of finishing instructions and enable filtering

commit bded4165e22e605d6630466954f77988f599eb5d
Author: Robert Grimm <grimmr@materialize.io>
Date:   Fri Oct 11 13:08:51 2019 -0400

    Move final filter into finishing instructions in coordinator

commit c0abe3a85921d6b8f5dfeb557544b9cd658100e8
Author: Robert Grimm <grimmr@materialize.io>
Date:   Fri Oct 11 13:07:49 2019 -0400

    Add filter predicates to finishing instructions

commit 535f4ed53735f83e789b31080e7f1650fad62fc8
Merge: 9a7a3feec 59eb87c46
Author: Frank McSherry <fmcsherry@me.com>
Date:   Fri Oct 11 13:38:38 2019 -0400

    Merge pull request #737 from frankmcsherry/linear_recursion
    
    Avoid multiple recursive calls in join::typ()

commit 59eb87c465338192565cf4ad2c9dfb3485d9effc
Author: Frank McSherry <fmcsherry@me.com>
Date:   Fri Oct 11 13:04:37 2019 -0400

    Update src/expr/relation/mod.rs
    
    Co-Authored-By: Robert Grimm <apparebit@gmail.com>

commit 14d9cee1a80aa7fcce3a49d1c8993d9fa9fc0867
Merge: 9a0cc1608 9a7a3feec
Author: JLDLaughlin <jessica@materialize.io>
Date:   Fri Oct 11 13:04:09 2019 -0400

    Merge branch 'master' into simplify_complex_equalities

commit 9a0cc1608a14080006c7ce15fd1908e70201a34f
Author: JLDLaughlin <jessica@materialize.io>
Date:   Fri Oct 11 11:27:45 2019 -0400

    use visit_mut

commit 81a1175a39126de3118ce946d8e58044f9ebc5b6
Author: Frank McSherry <fmcsherry@me.com>
Date:   Fri Oct 11 10:37:54 2019 -0400

    avoid multiple recursive calls in join::typ()

commit 1839411d85917ed060249ad30c69276cfb19a6e2
Author: Frank McSherry <fmcsherry@me.com>
Date:   Fri Oct 11 07:58:27 2019 -0400

    thanks clippy, for all you do

commit d0ac8ea8109a509adba493dc6337715b9218cc3c
Author: Frank McSherry <fmcsherry@me.com>
Date:   Fri Oct 11 07:39:02 2019 -0400

    move filters around ANY

commit 9a7a3feec7dd81809f284daca0909e7918295c13
Merge: 106a7d3fe 5cbe92085
Author: Nikhil Benesch <nikhil.benesch@gmail.com>
Date:   Fri Oct 11 00:31:31 2019 -0400

    Merge pull request #733 from benesch/rm-col-name
    
    repr: remove ColumnType::name

commit 5cbe920855badf85ae4d9c125203dcfca70142c4
Author: Nikhil Benesch <nikhil.benesch@gmail.com>
Date:   Thu Oct 10 16:38:34 2019 -0400

    repr: remove ColumnType::name
    
    Most layers of the stack don't care about naming the columns in a
    relation type, and they were therefore frequently wrong. The SQL
    planner, which cares a lot about column names, has its own scope object
    for tracking column names.
    
    So, remove ColumnType::name. A new struct, RelationDesc, is introduced,
    which bundles a RelationType with optional column names, for the few
    places that we do want relation expressions with column names.
    
    Fix #638.

commit 106a7d3fe101c5c74b4c7cccd80d3e345025f69b
Merge: f2fc16bbb d3edd84ef
Author: Frank McSherry <fmcsherry@me.com>
Date:   Thu Oct 10 20:01:13 2019 -0400

    Merge pull request #735 from frankmcsherry/reoptimize_union
    
    Reoptimize union

commit f2fc16bbbfe8fc264d9aa472aea2cdcda4eb7367
Merge: 738c604be 52152d2e8
Author: Frank McSherry <fmcsherry@me.com>
Date:   Thu Oct 10 19:26:22 2019 -0400

    Merge pull request #734 from frankmcsherry/decse
    
    Fix join elision

commit d3edd84ef219d915029ab7de04a267dc9d461f26
Author: Frank McSherry <fmcsherry@me.com>
Date:   Thu Oct 10 19:25:05 2019 -0400

    reoptimize union

commit 52152d2e8eeff53dcfe26d6e11ed1d62d41a740d
Author: Frank McSherry <fmcsherry@me.com>
Date:   Thu Oct 10 19:10:01 2019 -0400

    cargo fmt

commit 770d4e322c5a828b0a566bf8c636a043f1c51755
Author: Frank McSherry <fmcsherry@me.com>
Date:   Thu Oct 10 19:08:07 2019 -0400

    correct join elision

commit fd1b1801ce34cf57099f0391d64878d0aef00a02
Author: Frank McSherry <fmcsherry@me.com>
Date:   Thu Oct 10 18:22:43 2019 -0400

    comment out cse

commit 738c604be7a1d7fb4ce96313ab5c538881a2309d
Merge: 6156514be fd9cdb36a
Author: Frank McSherry <fmcsherry@me.com>
Date:   Thu Oct 10 18:15:51 2019 -0400

    Merge pull request #732 from frankmcsherry/reduce_filters
    
    Canonicalize some predicates

commit fd9cdb36a5683c6a93422598046e9b4d755b8fcf
Author: Frank McSherry <fmcsherry@me.com>
Date:   Thu Oct 10 17:38:50 2019 -0400

    canonicalize some predicates

commit 6156514bee86ccff6249da87284f18f50f37a250
Merge: d163ed844 f21c5117c
Author: Frank McSherry <fmcsherry@me.com>
Date:   Thu Oct 10 17:33:30 2019 -0400

    Merge pull request #731 from frankmcsherry/filter_across_lets
    
    Push filters through lets

commit 5417ab16b8b50ab883a02b796053b0737180b3d5
Author: Brennan Vincent <brennan@materialize.io>
Date:   Thu Oct 10 17:28:42 2019 -0400

    Refactor config into its own file

commit f21c5117cea029adb6d79f93dccc6115253fbfd0
Author: Frank McSherry <fmcsherry@me.com>
Date:   Thu Oct 10 17:11:00 2019 -0400

    typo

commit b78b98ee6bc628613fbd1449881fd3fc678cced6
Author: Frank McSherry <fmcsherry@me.com>
Date:   Thu Oct 10 17:07:03 2019 -0400

    comment type incorrect

commit 637fb55241ed3566cf4d13bc3567d2fbbecb596c
Author: Frank McSherry <fmcsherry@me.com>
Date:   Thu Oct 10 17:00:25 2019 -0400

    clarify exposition

commit 51c5798e5a8d59a522776b0598e53ce81d7b82f8
Author: Brennan Vincent <brennan@materialize.io>
Date:   Thu Oct 10 16:24:28 2019 -0400

    Make it clear that we are licensing our modifications under Apache 2 (#5)

commit ada8a55df0564bc3a47d83cffc8786846ac4017d
Author: JLDLaughlin <jessica@materialize.io>
Date:   Thu Oct 10 14:17:20 2019 -0400

    tiny changes

commit 6738de0c91231a2751be4b438a36ccd27cb4e707
Author: Frank McSherry <fmcsherry@me.com>
Date:   Thu Oct 10 14:08:36 2019 -0400

    push filters through lets

commit d163ed84488fda118b26c41f93823d009bfed3f4
Merge: a0394eb34 9b22eabb9
Author: Frank McSherry <fmcsherry@me.com>
Date:   Thu Oct 10 13:52:22 2019 -0400

    Merge pull request #715 from frankmcsherry/assertive_pushdown
    
    Assertive pushdown

commit a0394eb34cac6070a692739e45680c3cd39ef223
Merge: 2ffdda3f7 9d1cd5ee6
Author: Frank McSherry <fmcsherry@me.com>
Date:   Thu Oct 10 13:47:00 2019 -0400

    Merge pull request #729 from frankmcsherry/recompaction
    
    re-enable compaction

commit a070c9a7b2fbcd2bba95f28d8d2d1df7630543ae
Author: Brennan Vincent <brennan@materialize.io>
Date:   Thu Oct 10 13:38:56 2019 -0400

    configurable on CLI

commit 90f9c600c6d7fc27c8a0a60f4897b323da5ec233
Author: Brennan Vincent <brennan@materialize.io>
Date:   Thu Oct 10 13:19:51 2019 -0400

    throw exception for wrong number of cols

commit 9d1cd5ee68534d9b2f95fdcb602603678a35b539
Author: Frank McSherry <fmcsherry@me.com>
Date:   Thu Oct 10 13:05:38 2019 -0400

    re-enable compaction

commit 5b3b546f146da1e55f9c609bc8bf4d75feca9b87
Author: JLDLaughlin <jessica@materialize.io>
Date:   Thu Oct 10 12:33:22 2019 -0400

    :japanese-ogre

commit 34c7eef5491085aef4574e695670b95c11727c7a
Author: JLDLaughlin <jessica@materialize.io>
Date:   Thu Oct 10 11:39:52 2019 -0400

    appease linter

commit 034ec040c9eac9354d1a50b4fdf62047827626b3
Author: JLDLaughlin <jessica@materialize.io>
Date:   Thu Oct 10 11:29:00 2019 -0400

    WIP: Simplify complex equalities in joins

commit aea5cb99eb9ac23cd5334e4ebc6af5479f66c19b
Author: Brennan Vincent <brennan@materialize.io>
Date:   Wed Oct 9 21:01:51 2019 -0400

    use std::thread

commit 2905fc4bc881ea1f1acee5513e3db51a4dca3c5f
Author: Brennan Vincent <brennan@materialize.io>
Date:   Wed Oct 9 20:43:55 2019 -0400

    Initial "create sources" implementation

commit 2ffdda3f72b75a761540e46acb29dbed184c49f4
Merge: d89e09b05 0d5aab7e2
Author: Frank McSherry <fmcsherry@me.com>
Date:   Wed Oct 9 17:43:06 2019 -0400

    Merge pull request #707 from MaterializeInc/dependabot/cargo/differential-dataflow-05ac090
    
    build(deps): bump differential-dataflow from `22f6da5` to `05ac090`

commit d89e09b053cb08d093b242b0409d0069da05dc98
Merge: 3b0fec6a2 af3c77d6a
Author: Nikhil Benesch <nikhil.benesch@gmail.com>
Date:   Wed Oct 9 17:20:11 2019 -0400

    Merge pull request #714 from benesch/lint-shellcheck
    
    bin/lint: better error messages about shellcheck

commit 9b22eabb908aade2d13878e36749a73ac9a6ff89
Author: Frank McSherry <fmcsherry@me.com>
Date:   Wed Oct 9 15:57:55 2019 -0400

    amend nonnullable, fixedpoint

commit 3b0fec6a21d773e1ebd8dbca90ed458c356a9ce4
Merge: 23d24d2f3 119350353
Author: Nikhil Benesch <nikhil.benesch@gmail.com>
Date:   Wed Oct 9 14:29:44 2019 -0400

    Merge pull request #723 from benesch/comm-framesize
    
    comm: increase maximum frame size to 1GiB

commit 1193503532fb629f04d46d5b577d6c8df1f78af4
Author: Nikhil Benesch <nikhil.benesch@gmail.com>
Date:   Wed Oct 9 13:18:04 2019 -0400

    comm: increase maximum frame size to 1GiB
    
    We send query results in one shot, so the frame size can reasonably
    drift upwards towards 1GiB for big result sets.

commit 89d8199897c01d357ab334cc435379f710b376d9
Author: Nikhil Benesch <nikhil.benesch@gmail.com>
Date:   Wed Oct 9 13:17:20 2019 -0400

    ore: generalize StreamExt::recv

commit 23d24d2f397947d28c07fb2e4a539e9051736bce
Merge: 5d85615ba 8ab776d12
Author: Robert Grimm <grimmr@materialize.io>
Date:   Tue Oct 8 17:11:49 2019 -0400

    Merge pull request #717 from apparebit/operates
    
    Optionally execute one or more SQL commands at startup

commit 8ab776d123ae031c84c96c1d890da55749130ddb
Author: Robert Grimm <grimmr@materialize.io>
Date:   Tue Oct 8 16:40:00 2019 -0400

    Add missing copyright, yo!

commit 53bf05ee9a40a1e4af1fafd05208c5f5301d1f06
Author: Robert Grimm <grimmr@materialize.io>
Date:   Tue Oct 8 16:31:55 2019 -0400

    Optionally execute one or more SQL commands at startup

commit 5d85615ba8608f4f6d7a8a6a676c19bb2b37db55
Merge: b750225a4 a978f226b
Author: Nikhil Benesch <nikhil.benesch@gmail.com>
Date:   Tue Oct 8 15:45:19 2019 -0400

    Merge pull request #706 from MaterializeInc/dependabot/cargo/serde_json-1.0.41
    
    build(deps): bump serde_json from 1.0.40 to 1.0.41

commit 4b9647a7735fd0541e625cfef60523cdc3d4452b
Author: Frank McSherry <fmcsherry@me.com>
Date:   Tue Oct 8 14:35:51 2019 -0400

    clippy

commit 9db098282a704e59180a04b5b39a35ab9d48f412
Author: Frank McSherry <fmcsherry@me.com>
Date:   Tue Oct 8 14:33:01 2019 -0400

    doc tests

commit ccc86e6ef54f8de5c84d2f59932221049f837aff
Author: Frank McSherry <fmcsherry@me.com>
Date:   Tue Oct 8 14:30:53 2019 -0400

    cargo fmt

commit a3c01513cc7200f7566013fe67cd8df249db1821
Author: Frank McSherry <fmcsherry@me.com>
Date:   Tue Oct 8 14:30:22 2019 -0400

    aggregation is broken

commit 11f50fc829611d416924741f68177fc0ff72cc15
Author: Frank McSherry <fmcsherry@me.com>
Date:   Tue Oct 8 14:29:02 2019 -0400

    zomg optimizations

commit 4b37e50abcca598301eb0413c8c5cafc6b377655
Author: Frank McSherry <fmcsherry@me.com>
Date:   Tue Oct 8 10:49:06 2019 -0400

    blah blah blah

commit 441eb135d32adace02e75d480528a19fb429df23
Author: Frank McSherry <fmcsherry@me.com>
Date:   Tue Oct 8 10:48:17 2019 -0400

    swap comment locations

commit bc2e265104636f72547f99a26276860e4dd89801
Author: Frank McSherry <fmcsherry@me.com>
Date:   Tue Oct 8 10:44:49 2019 -0400

    tests, clippy

commit 16123f8ea911cb9155591e5a7badf3dba84833bf
Author: Frank McSherry <fmcsherry@me.com>
Date:   Tue Oct 8 10:33:16 2019 -0400

    cargo fmt

commit dccd747e44ea5b021c6cda1ce406878f434bd8de
Author: Frank McSherry <fmcsherry@me.com>
Date:   Tue Oct 8 10:32:39 2019 -0400

    push predicates further down

commit c4a769ad85e102f0033c7e5574149adef39a81b2
Author: Frank McSherry <fmcsherry@me.com>
Date:   Mon Oct 7 15:45:46 2019 -0400

    push down to each input

commit b750225a43d7350b036340d18e273c22eebee9a8
Merge: 72677feab c97485ed1
Author: Nikhil Benesch <nikhil.benesch@gmail.com>
Date:   Tue Oct 8 12:24:24 2019 -0400

    Merge pull request #712 from benesch/extract
    
    sql: support extract function-like operator

commit a978f226b0535d6e3c14bf95aa27627acc590a33
Author: dependabot-preview[bot] <27856297+dependabot-preview[bot]@users.noreply.github.com>
Date:   Tue Oct 8 15:58:14 2019 +0000

    build(deps): bump serde_json from 1.0.40 to 1.0.41
    
    Bumps [serde_json](https://github.com/serde-rs/json) from 1.0.40 to 1.0.41.
    - [Release notes](https://github.com/serde-rs/json/releases)
    - [Commits](https://github.com/serde-rs/json/compare/v1.0.40...v1.0.41)
    
    Signed-off-by: dependabot-preview[bot] <support@dependabot.com>

commit 72677feabb49ef65782e74086f36d6f866d9d202
Merge: e9e17fed1 09f2715c6
Author: Nikhil Benesch <nikhil.benesch@gmail.com>
Date:   Tue Oct 8 11:56:31 2019 -0400

    Merge pull request #709 from MaterializeInc/dependabot/cargo/num_enum-0.4.2
    
    build(deps): bump num_enum from 0.4.1 to 0.4.2

commit e9e17fed117c9b8dd5bacb5f0c62613ee6e60951
Merge: 0f5e5956a 5b35b9718
Author: Nikhil Benesch <nikhil.benesch@gmail.com>
Date:   Tue Oct 8 11:55:47 2019 -0400

    Merge pull request #708 from MaterializeInc/dependabot/cargo/reqwest-0.9.21
    
    build(deps): bump reqwest from 0.9.20 to 0.9.21

commit af3c77d6a02c32933a472d8147fd258faaa4b9fe
Author: Nikhil Benesch <nikhil.benesch@gmail.com>
Date:   Tue Oct 8 11:31:29 2019 -0400

    bin/lint: better error messages about shellcheck
    
    Complain more verbosely when shellcheck is missing, or is a version that
    is too old. Also allow folks to skip it by setting MZDEV_NO_SHELLCHECK
    in their environment.
    
    Improves on the situation described in #713.

commit c97485ed12370b8443a65f8421d2a916c4b228b7
Author: Nikhil Benesch <nikhil.benesch@gmail.com>
Date:   Mon Oct 7 16:17:18 2019 -0400

    sql: support extract function-like operator
    
    Support the basic features of the EXTRACT function-like operator, which
    extracts date/time fields from date/time-like objects.
    
    Fix #483.

commit 0f5e5956a20264064bca47b233bda5c61f90b1ba
Merge: 493a26cda 85e1529ce
Author: Sean Loiselle <sean@materialize.io>
Date:   Tue Oct 8 11:10:12 2019 -0400

    Merge pull request #673 from sploiselle/simple-demo-for-docs
    
    add simple load gen for use in getting started docs

commit 85e1529ce3fb7c941714449c1818e057aff57794
Author: sploiselle <sean@materialize.io>
Date:   Wed Sep 25 16:03:34 2019 -0400

    add simple load gen for use in getting started docs

commit 927e137f53ce5a8a8d367934e9d044373609e2a9
Author: Brennan Vincent <brennan@materialize.io>
Date:   Mon Oct 7 17:11:44 2019 -0400

    Switch to Cmake-based build system for chbenchmark tool (#4)
    
    switch to Cmake

commit 493a26cda2f0fda700510ade8dd67ed6fefe6a58
Author: Brennan Vincent <brennan@materialize.io>
Date:   Mon Oct 7 17:01:45 2019 -0400

    Fake Postgres version 12.0.0 (#711)
    
    Fake Postgres version 12.0.0

commit 19600b033aabfa9cc6b733721f634f71d0c59fab
Merge: a8a8b95f0 bb2c56cf0
Author: Frank McSherry <fmcsherry@me.com>
Date:   Mon Oct 7 15:20:14 2019 -0400

    Merge pull request #703 from benesch/reorg
    
    Complete crate reorganization

commit 5b35b971842d5db752826d9166277089c4339ed3
Author: dependabot-preview[bot] <27856297+dependabot-preview[bot]@users.noreply.github.com>
Date:   Mon Oct 7 19:11:03 2019 +0000

    build(deps): bump reqwest from 0.9.20 to 0.9.21
    
    Bumps [reqwest](https://github.com/seanmonstar/reqwest) from 0.9.20 to 0.9.21.
    - [Release notes](https://github.com/seanmonstar/reqwest/releases)
    - [Changelog](https://github.com/seanmonstar/reqwest/blob/v0.9.21/CHANGELOG.md)
    - [Commits](https://github.com/seanmonstar/reqwest/compare/v0.9.20...v0.9.21)
    
    Signed-off-by: dependabot-preview[bot] <support@dependabot.com>

commit a8a8b95f0bc47239c09995d7278ede5f23b3697e
Author: Nikhil Benesch <nikhil.benesch@gmail.com>
Date:   Mon Oct 7 15:08:00 2019 -0400

    Revert "rust-toolchain: upgrade to beta (temporarily)" (#710)
    
    This reverts commit 6ae571206454722be3644cf398c037fa3f70a903.

commit bb2c56cf0a4bc1d77285488ad3fb1c2e32100d56
Author: Nikhil Benesch <nikhil.benesch@gmail.com>
Date:   Mon Oct 7 11:50:51 2019 -0400

    materialized: specify default-run
    
    This makes `cargo run` at the top level, without a bin parameter
    specified, default to running materialized, which is what most people
    want most of the time.

commit 09f2715c6254f3ac43a23ad34cb34ca0bbc62ee3
Author: dependabot-preview[bot] <27856297+dependabot-preview[bot]@users.noreply.github.com>
Date:   Mon Oct 7 18:20:51 2019 +0000

    build(deps): bump num_enum from 0.4.1 to 0.4.2
    
    Bumps [num_enum](https://github.com/illicitonion/num_enum) from 0.4.1 to 0.4.2.
    - [Release notes](https://github.com/illicitonion/num_enum/releases)
    - [Commits](https://github.com/illicitonion/num_enum/compare/0.4.1...0.4.2)
    
    Signed-off-by: dependabot-preview[bot] <support@dependabot.com>

commit 0d5aab7e23a732082acc1e1f676ece365a23d3c9
Author: dependabot-preview[bot] <27856297+dependabot-preview[bot]@users.noreply.github.com>
Date:   Mon Oct 7 18:20:05 2019 +0000

    build(deps): bump differential-dataflow from `22f6da5` to `05ac090`
    
    Bumps [differential-dataflow](https://github.com/TimelyDataflow/differential-dataflow) from `22f6da5` to `05ac090`.
    - [Release notes](https://github.com/TimelyDataflow/differential-dataflow/releases)
    - [Commits](https://github.com/TimelyDataflow/differential-dataflow/compare/22f6da5770e2fd3d779a8e11268cf1cea29d96da...05ac090625f2082afc0fb4c99d0846a285d10e34)
    
    Signed-off-by: dependabot-preview[bot] <support@dependabot.com>

commit 123d3df2124d5dbf669f6066f5c127b18f366cb3
Author: Brennan Vincent <brennan@materialize.io>
Date:   Mon Oct 7 11:59:47 2019 -0400

    fix Metrics image name (#699)

commit e0f38848172f186c0189891aeb2bc8bf56cada8f
Merge: 7d104d61b 3b0a27605
Author: Frank McSherry <fmcsherry@me.com>
Date:   Mon Oct 7 11:47:17 2019 -0400

    Merge pull request #702 from frankmcsherry/joinorder_keys
    
    Use key information for join order.

commit ac644a6eeb842e6e0a93c70e0cc617caf33da785
Author: Brennan Vincent <brennan@materialize.io>
Date:   Mon Oct 7 11:44:23 2019 -0400

    add command-line args for sleep time

commit 54ad40d89af871ff6a9571c53ba5b4ce38f59ab1
Author: Brennan Vincent <brennan@materialize.io>
Date:   Mon Oct 7 11:44:00 2019 -0400

    slight style fix

commit f31b99d4e4515b4469ae402be09dc695036c5cd3
Author: Brennan Vincent <brennan@materialize.io>
Date:   Thu Oct 3 16:49:56 2019 -0400

    Fix next query dice roll logic

commit 56808bbb15297248ca17b5e61efd6c29cb74b4e5
Author: Nikhil Benesch <nikhil.benesch@gmail.com>
Date:   Mon Oct 7 11:43:58 2019 -0400

    materialize: reorganize into single-module materialized crate
    
    The materialize crate now contains only what was previously called the
    "server" module. Promote that module to the top level of the crate, and
    rename the crate to "materialized" to reflect that it only contains code
    related to the actual starting of a materialized server.

commit 71ab97a4dabc75879df439ba0b4e21ce28597bef
Author: Nikhil Benesch <nikhil.benesch@gmail.com>
Date:   Mon Oct 7 11:37:44 2019 -0400

    pgwire: split out separate crate
    
    The pgwire module is an easy boundary point. This will also allow us to
    easily upgrade the pgwire crate to the new async/await stuff.

commit 3b0a276058a104eb42eb663d06d5485db9d42e34
Author: Frank McSherry <fmcsherry@me.com>
Date:   Mon Oct 7 11:08:17 2019 -0400

    get self together

commit a845784844a99f763596aceb7838f0688b12c33f
Author: Frank McSherry <fmcsherry@me.com>
Date:   Mon Oct 7 10:59:45 2019 -0400

    remove nonsense

commit 74da85ec2d287ad7bb9d597beeceb92361dffbe4
Author: Frank McSherry <fmcsherry@me.com>
Date:   Mon Oct 7 10:51:44 2019 -0400

    Use key information for join order.
    
    We previously (wrongly) used the first field as a proxy for key information. We now extract it from the type.

commit 7d104d61b0598e3f7068e4a0881677b200098e6b
Merge: 06136db70 1d9470ef6
Author: Nikhil Benesch <nikhil.benesch@gmail.com>
Date:   Mon Oct 7 10:47:38 2019 -0400

    Merge pull request #700 from benesch/civiz
    
    civiz: compute total properly in presence of null

commit 1d9470ef6a1547f6cf0efd78b8380c41a3fcc19d
Author: Nikhil Benesch <nikhil.benesch@gmail.com>
Date:   Mon Oct 7 10:35:09 2019 -0400

    civiz: compute total properly in presence of null

commit 06136db70f884507ac2950cc29987d54cb3e2411
Merge: 0a606c8e6 4752b8e47
Author: Frank McSherry <fmcsherry@me.com>
Date:   Mon Oct 7 10:09:59 2019 -0400

    Merge pull request #698 from benesch/decimal-rounding
    
    repr/scalar: fix decimal rounding

commit 0a606c8e67f1d82efeaa5a104db9f0fe8afdf78f
Merge: 3734ee25e 9cb3b7a5c
Author: Frank McSherry <fmcsherry@me.com>
Date:   Mon Oct 7 10:05:10 2019 -0400

    Merge pull request #686 from frankmcsherry/primary_keys
    
    WIP: Keys (uniqueness) in  `RelationType`

commit 3734ee25eed838ec1a057b70fbfd97e25fba384a
Merge: 81ec65d95 41a8afcc9
Author: Nikhil Benesch <nikhil.benesch@gmail.com>
Date:   Mon Oct 7 09:39:15 2019 -0400

    Merge pull request #675 from benesch/comm-pool
    
    comm: reuse connections for MPSC senders

commit 41a8afcc9f7951c3e2a0742067622bfa94e2c0b8
Author: Nikhil Benesch <nikhil.benesch@gmail.com>
Date:   Tue Oct 1 00:22:41 2019 -0400

    comm: reuse connections for MPSC senders
    
    Since most channels are used by worker nodes to send peek results to the
    coordinator, it's a waste to open a new TCP stream for every peek. Teach
    the MPSC senders to use a thread-local connection pool instead.
    
    This required some reworking of the handshake protocol so that
    connections can be disassociated with their current receiver and
    connected to a new one.
    
    Fix #644.

commit 76032a789fa8c1fed639384aeb6be21500c1e73b
Author: Nikhil Benesch <nikhil.benesch@gmail.com>
Date:   Tue Oct 1 19:59:59 2019 -0400

    comm: split channel and rendezvous handshakes
    
    This is necessary to allow channel-designated connections to be pooled,
    but rendezvous-designated handshakes to be unpooled. I think it also
    makes the code clearer, which is a nice side effect.

commit 9c9eccab90c3aba83ab2d4d2f8826bde75fd932b
Author: Nikhil Benesch <nikhil.benesch@gmail.com>
Date:   Tue Oct 1 18:25:30 2019 -0400

    comm: split out framing
    
    Framing a stream is irreversible, as the read side maintains an internal
    buffer that is inaccessible (except through reading the framed stream,
    of course). Connection pooling will therefore need to operate on
    pre-framed streams. Begin making that transition by requiring explicit
    framing, rather than rolling the framing into the construction of
    the encoder/decoder.

commit 637504bab89765fbcbb2fc73ef6ab9269b97f1ad
Author: Nikhil Benesch <nikhil.benesch@gmail.com>
Date:   Tue Oct 1 16:58:00 2019 -0400

    comm: split rendezvous and channel routing table
    
    Rendezvous traffic needs to be unbuffered because the underlying socket
    may be handed to another module, while channel traffic will be subject
    to connection pooling internally. These two requirements are
    incompatible, and so the two types of connections need separate handling.
    Begin that process by separating the routing tables.

commit ddfe96e2dc7f01777cd5835f75a4fb176dca550e
Author: Nikhil Benesch <nikhil.benesch@gmail.com>
Date:   Tue Oct 1 16:49:00 2019 -0400

    comm: extract routing table
    
    comm::Switchboard will soon differentiate between rendezvous traffic and
    other types of traffic, and will want to use two switchboards.

commit 0e47616d5474e9a340a5ba315c87cd23e47a9c42
Author: Nikhil Benesch <nikhil.benesch@gmail.com>
Date:   Tue Oct 1 13:32:06 2019 -0400

    comm: remove redundant to_socket_addrs() call
    
    DNS resolution is now handled by the client, so the call to
    to_socket_addrs inside the comm package was entirely redundant.

commit 81ec65d95f966eccf8bc3fa6e8eb40e14178ebe8
Merge: 32221754e 6fb1db318
Author: Nikhil Benesch <nikhil.benesch@gmail.com>
Date:   Sat Oct 5 19:59:52 2019 -0400

    Merge pull request #697 from benesch/ci-slt
    
    civiz: account for rows_inserted -> rows_affected rename

commit 4752b8e47cd1b7091b774e68d68d3894408deb6c
Author: Nikhil Benesch <nikhil.benesch@gmail.com>
Date:   Sat Oct 5 19:05:35 2019 -0400

    repr/scalar: fix decimal rounding
    
    Formatting a float with zero precision (in other words, rounding to an
    integer) was not correctly rounding up when the next fractional digit
    was greater than 5.
    
    Fix #689.

commit 6fb1db3183fbe552e5f49f03ba39642307560daf
Author: Nikhil Benesch <nikhil.benesch@gmail.com>
Date:   Sat Oct 5 19:20:25 2019 -0400

    ci/slt: propagate error if upload fails
    
    psql by default doesn't set a failing exit code if a SQL statement
    fails. Set the ON_ERROR_STOP variable so that it does.
    
    This prevents builds from spuriously succeeding when the INSERT fails.

commit b30e6c62179f441044cd47b6bfaf7aa5e708298f
Author: Nikhil Benesch <nikhil.benesch@gmail.com>
Date:   Sat Oct 5 19:13:02 2019 -0400

    civiz: account for rows_inserted -> rows_affected rename

commit 9cb3b7a5ce4649d270f196c9e1f8463be5bf624f
Author: Frank McSherry <fmcsherry@me.com>
Date:   Sat Oct 5 18:31:14 2019 -0400

    clippy fail

commit cd2009c3ceb89e4a8844e108a6f9de51625a8f13
Author: Frank McSherry <fmcsherry@me.com>
Date:   Sat Oct 5 18:22:01 2019 -0400

    cargo fmt

commit a45a435c15f4eef00e16ff14dbd2725365b1643a
Author: Frank McSherry <fmcsherry@me.com>
Date:   Sat Oct 5 18:18:29 2019 -0400

    constant, and some join

commit edf15bf5be3bcecaec00a6d04cf79fce6c27d95e
Author: Frank McSherry <fmcsherry@me.com>
Date:   Sat Oct 5 09:32:56 2019 -0400

    actually add file

commit a0bedd106618b11e06b106a3e5c9807a3ec19500
Author: Frank McSherry <fmcsherry@me.com>
Date:   Sat Oct 5 08:50:53 2019 -0400

    teach SLT about keys

commit fad8ea9e5f64dba2269bcd0a3b3d27aa8e40a8fc
Author: Frank McSherry <fmcsherry@me.com>
Date:   Sat Oct 5 08:32:00 2019 -0400

    reduce keys come first

commit 9987a7a631d4baf839eb7e5700605ba52a3ca07c
Author: Frank McSherry <fmcsherry@me.com>
Date:   Sat Oct 5 08:15:36 2019 -0400

    amend chbench

commit 33a750f9aedc773c6e87e47f9170f426e4eb3f73
Author: Frank McSherry <fmcsherry@me.com>
Date:   Sat Oct 5 07:33:24 2019 -0400

    cargo fmt

commit 19f0861d48970c80c89a17221d03018a2a12b415
Author: Frank McSherry <fmcsherry@me.com>
Date:   Sat Oct 5 07:23:02 2019 -0400

    distinct elision

commit a5afe8cec69614eaafd1bb5ad82604c60fe93c6b
Author: Frank McSherry <fmcsherry@me.com>
Date:   Thu Oct 3 18:02:03 2019 -0400

    integrate keys

commit 7047676c1291fc16d5e3a268314ba07b19681f8a
Author: Frank McSherry <fmcsherry@me.com>
Date:   Thu Oct 3 09:28:30 2019 -0400

    introduce primary keys; use constructor

commit 32221754ec938716df39bec1868d542d38497ada
Merge: aba7c5593 6ae571206
Author: Nikhil Benesch <nikhil.benesch@gmail.com>
Date:   Fri Oct 4 17:21:34 2019 -0400

    Merge pull request #693 from benesch/rust-beta
    
    rust-toolchain: upgrade to beta (temporarily)

commit e897560bb5b6c609fcd511bf25174ee53050ba76
Author: Nikhil Benesch <nikhil.benesch@gmail.com>
Date:   Fri Oct 4 16:21:04 2019 -0400

    repr/scalar: don't format decimal as negative zero
    
    Previously, if a negative decimal rounded to zero, we'd print "-0" if
    the formatting string requested zero digits of precision.

commit 6ae571206454722be3644cf398c037fa3f70a903
Author: Nikhil Benesch <nikhil.benesch@gmail.com>
Date:   Thu Oct 3 18:50:01 2019 -0400

    rust-toolchain: upgrade to beta (temporarily)
    
    Upgrade to the 1.39 beta, temporarily, for async/await support. This
    will allow us to incrementally incorporate 1.39 support in the weeks
    leading up to the stable release, and report bugs while there's still
    time for them to be fixed.
    
    This commit also updates the version of rdkafka, as the previous version
    had a bug in its version of bindgen that caused the beta compiler to
    overflow its stack.

commit aba7c5593aa09125bd8cfed52281278b9456f93a
Merge: bccc2244d 3beb12ad0
Author: Brandon W Maister <bwm@materialize.io>
Date:   Fri Oct 4 16:08:47 2019 -0400

    Merge pull request #695 from quodlibetor/grafana-process-metrics
    
    chbench: add processlevel metrics to grafana

commit 3beb12ad047e6c78678dcb88d121a7827faa2105
Author: Brandon W Maister <bwm@materialize.io>
Date:   Fri Oct 4 13:14:31 2019 -0400

    metrics: reinitialize the db on error
    
    Sometimes it comes up and fails at startup but keeps running. This way, if it is ever
    possible for it to succeed it will succed.

commit 2b63813762fcc4f3751d4c9f258097f064985d3e
Author: Brandon W Maister <bwm@materialize.io>
Date:   Fri Oct 4 13:11:52 2019 -0400

    dc.sh: add a restart command that updates the image being run
    
    It doesn't seem like running "docker-compose restart" uses a newer image even if it has
    been tagged locally. So e.g. running `docker-compose restart metrics` with the config
    file pointing to `materialize/metrics:latest` doesn't reliably pick up changes.
    
    This stop/up change does.

commit 6c1ac7fa7d74c13dcbbd54af5491a4655bb58653
Author: Brandon W Maister <bwm@materialize.io>
Date:   Fri Oct 4 11:17:50 2019 -0400

    ex/chbench: use materialized:latest image, since we now have dc.sh
    
    The dc.sh script can handle the finicky bits of making sure that containers are up to
    date so it is safe for us to just rely on the most recent container.

commit a77b5bfc2479df2d7a2189e59c92387578b87f33
Author: Brandon W Maister <bwm@materialize.io>
Date:   Thu Oct 3 18:18:22 2019 -0400

    grafana: add cpu%, resident memory, and open fds to dashboard

commit bccc2244db4f04c5fcdc9a2204fc3b98b83edaff
Merge: e5b980bb5 2c0d9da08
Author: Brandon W Maister <bwm@materialize.io>
Date:   Fri Oct 4 12:38:16 2019 -0400

    Merge pull request #688 from benesch/dc-ocd
    
    ex/chbench: tweak interface of dc.sh

commit e5b980bb57afd6d367468540b0cffb54c41dc122
Merge: 95a7a52cd bef1262bb
Author: Brandon W Maister <bwm@materialize.io>
Date:   Fri Oct 4 10:49:33 2019 -0400

    Merge pull request #690 from frankmcsherry/pgwire_describe_portal
    
    WIP extending pgwire to describe portals

commit 95a7a52cdab1068bed428739cfe4577dae0d67a2
Merge: 86ae96caf 70c73de6e
Author: Frank McSherry <fmcsherry@me.com>
Date:   Thu Oct 3 21:38:59 2019 -0400

    Merge pull request #684 from frankmcsherry/underscore_names
    
    names need underscores

commit bef1262bb031f57fd911ab0d810bc2a04b1b0411
Author: Frank McSherry <fmcsherry@me.com>
Date:   Thu Oct 3 18:12:15 2019 -0400

    cargo fmt

commit 86ae96caf2fc5aa611b1b85df93b3cf675ed9d40
Merge: 5649bc51e 6802d97e2
Author: Jamie Brandon <jamie@scattered-thoughts.net>
Date:   Thu Oct 3 22:51:57 2019 +0100

    Merge pull request #691 from jamii/outer_joins_are_nullable
    
    During outer joins, the scope needs to learn that the newly produced columns are nullable

commit 6802d97e23071a3b268338aaa04eb299dd457f32
Author: Jamie Brandon <jamie@scattered-thoughts.net>
Date:   Thu Oct 3 17:23:27 2019 -0400

    During outer joins, the scope needs to learn that the newly produced
    columns are nullable

commit 8fc76ccc020c58ad106ef4cf729e4ac447bb72f3
Author: Brennan Vincent <brennan@materialize.io>
Date:   Thu Oct 3 16:14:40 2019 -0400

    Fix screwed up automatic refactor

commit fcca76e9978b825198cae54ed9b7213e6fb6e857
Author: Brennan Vincent <brennan@materialize.io>
Date:   Thu Oct 3 16:14:13 2019 -0400

    Revert "Revert "various style and memory leak fixes""
    
    This reverts commit d3b40b2143a8065c3ac86499bf403b1ef1bf7216.

commit 434866b131105b747f0ee458764a9bf1fbc6fba9
Author: Frank McSherry <fmcsherry@me.com>
Date:   Thu Oct 3 15:01:44 2019 -0400

    initial commit

commit 5649bc51e27141867ce99a7e1175de5189f8ec66
Merge: d6c01cc0a 4fe62ae06
Author: Nikhil Benesch <nikhil.benesch@gmail.com>
Date:   Thu Oct 3 14:10:19 2019 -0400

    Merge pull request #643 from benesch/transform-finishing
    
    dataflow,sql: use finishing as name for RowSetFinishing consistently

commit 4fe62ae0663a51b295d9574c8237673e6155ecac
Author: Nikhil Benesch <nikhil.benesch@gmail.com>
Date:   Thu Sep 26 16:16:32 2019 -0400

    dataflow,sql: use finishing as name for RowSetFinishing consistently
    
    RowSetFinishing was renamed from RowSetTransform. Many variables of type
    RowSetFinishing, however, were called `transform`, in reference to its
    old name. Rename those variables to `finishing` to reduce confusion.

commit d3b40b2143a8065c3ac86499bf403b1ef1bf7216
Author: Brennan Vincent <brennan@materialize.io>
Date:   Thu Oct 3 13:50:17 2019 -0400

    Revert "various style and memory leak fixes"
    
    (This is throwing an exception when running... reverting to unbreak for other people while I investigate why)
    
    This reverts commit 1b3c6ab3cef39d79e4d4909cbf0ff3e3b03a916c.

commit 2c0d9da088f6eba23069a40954dcec791c5b9bbe
Author: Nikhil Benesch <nikhil.benesch@gmail.com>
Date:   Thu Oct 3 12:19:40 2019 -0400

    ex/chbench: tweak interface of dc.sh
    
    This fixes a bug where running `dc.sh` without arguments would fail
    silently, without printing an error message. It also now prints the
    docker-compose commands it's running.

commit d6c01cc0a2c83b9c5d7d69246ae6c4ad03dbaa41
Merge: 1c4e2c6eb 67494818a
Author: Nikhil Benesch <nikhil.benesch@gmail.com>
Date:   Thu Oct 3 11:33:15 2019 -0400

    Merge pull request #683 from benesch/chbench-dc
    
    ex/chbench: always pass -d --build to docker-compose up

commit 70c73de6ee75932c3640197a394b6476afab5c30
Author: Frank McSherry <fmcsherry@me.com>
Date:   Wed Oct 2 19:03:11 2019 -0400

    names need underscores

commit 67494818afa8f81ddf6ead66b9d42d34874b4bea
Author: Nikhil Benesch <nikhil.benesch@gmail.com>
Date:   Wed Oct 2 17:58:24 2019 -0400

    ex/chbench: always pass -d --build to docker-compose up
    
    Failing to pass `-d` results in interminable log spam to the console.
    Failing to pass `--build` results in potentially stale images; since
    `--build` won't actually rebuild if there's nothing to do, it's not
    really any slower than not passing it.
    
    `docker-compose up` really has the defaults wrong here. Update
    all references to `docker-compose up` to `docker-compose up -d --build`
    to nudge people in the correct direction.

commit 1c4e2c6eb12a2665b3d6a09ad825e893be7005af
Merge: b8afdba68 9408bd649
Author: Robert Grimm <grimmr@materialize.io>
Date:   Wed Oct 2 17:47:34 2019 -0400

    Merge pull request #681 from apparebit/operates
    
    Make address column relational

commit b8afdba686d398e543a506c46da67402d97613ad
Merge: c5fec8a13 4f90ced23
Author: JLDLaughlin <JLDLaughlin@users.noreply.github.com>
Date:   Wed Oct 2 17:38:12 2019 -0400

    Merge pull request #682 from JLDLaughlin/update_function_name
    
    Change name to plan_toplevel_query

commit 4f90ced23b56f8021dced1e0fa1d4fda4e850234
Author: JLDLaughlin <jessica@materialize.io>
Date:   Wed Oct 2 17:17:07 2019 -0400

    Change name to plan_toplevel_query

commit 1b3c6ab3cef39d79e4d4909cbf0ff3e3b03a916c
Author: Brennan Vincent <brennan@materialize.io>
Date:   Wed Oct 2 17:04:02 2019 -0400

    various style and memory leak fixes

commit 9408bd6496a9b5a629ffcd432c4f8d5fe2d55923
Author: Robert Grimm <grimmr@materialize.io>
Date:   Wed Oct 2 16:29:47 2019 -0400

    Make address column relational
    
    Previously, it contained the string representation of an array. Now, there are two columns encoding the contents.

commit c5fec8a13724a4b976069c59273b18005f9686a0
Merge: c4ebded18 d82ae7e73
Author: Brandon W Maister <bwm@materialize.io>
Date:   Wed Oct 2 16:28:33 2019 -0400

    Merge pull request #680 from quodlibetor/chbench-metrics-robustness
    
    CHbench metrics robustness

commit f61cdf20dd4096843503b80a77dfddd59531be9a
Author: Brennan Vincent <brennan@materialize.io>
Date:   Wed Oct 2 13:43:03 2019 -0400

    Build in separate directory and allow passing DEBUG flag to make

commit c4ebded18781a1da6bd8c55db3cb247e515d4eee
Merge: 05260e330 87addf209
Author: Sean Loiselle <sean@materialize.io>
Date:   Wed Oct 2 15:48:20 2019 -0400

    Merge pull request #679 from sploiselle/image-lint-fix
    
    allow images to pass linter by not linting them

commit d82ae7e73bc407cbf11a4403977a13e33732e2f8
Author: Brandon W Maister <bwm@materialize.io>
Date:   Wed Oct 2 14:57:25 2019 -0400

    grafana: Make the arrangement batches plot more readable
    
    Stack it and use fill instead of lines. It was just noise without that.
    
    This does make it a bit harder to see the largest batch, but the hover tooltip still
    sorts in descending order, and overall changes to batches are much more clear.

commit 490ba1adc9ea4995cb202eebb482c7c654968197
Author: Brandon W Maister <bwm@materialize.io>
Date:   Wed Oct 2 13:47:30 2019 -0400

    Try to make bringing up the chbench example reliable
    
    * Set what seem to be correct dependencies between everything
    * Add a script that brings things up and just waits an amount of time that seems to work
      for me for them to come up

commit 056151dc8e57a4b26ce089aaad1de523f1987759
Author: Brandon W Maister <bwm@materialize.io>
Date:   Wed Oct 2 13:30:38 2019 -0400

    metrics: Add minimal tpcch table metrics to the dashboard
    
    This at least gives us a sanity check on how many items are in the table.

commit dfa0d2d926b474cffb75f0557c5bdffd11a86d74
Author: Brandon W Maister <bwm@materialize.io>
Date:   Wed Oct 2 13:04:30 2019 -0400

    Update metrics script to use a histogram, fix some things
    
    * We were pushing metrics as label values instead of as metric values, which was
      confusing because the prometheus `push` method is weird
    * Changed the chbench prometheus config to point to the in-cluster pushgateway
    * Added a startup message and other log verbosity things, slight refactoring

commit 05260e330d7096f71b8749a1ed82f25a34e2982b
Merge: aa2e5f11f 847a27a29
Author: Sean Loiselle <sean@materialize.io>
Date:   Wed Oct 2 13:17:39 2019 -0400

    Merge pull request #631 from sploiselle/getting-started
    
    add getting started guide to highlight existence of mtrlz-setup doc

commit 87addf209b95df3c0e9f44ffcb10c26ef01c351e
Author: sploiselle <sean@materialize.io>
Date:   Wed Oct 2 13:15:04 2019 -0400

    allow images to pass linter by not linting them

commit aa2e5f11fe790b515abf5e6a16885bc9c4597226
Merge: 8f650d394 3b7ab78dd
Author: Jamie Brandon <jamie@scattered-thoughts.net>
Date:   Tue Oct 1 19:27:43 2019 +0100

    Merge pull request #659 from benesch/slt-enable
    
    sqllogictest: enable some more tests

commit 8f650d3941209b7b6aa76e07b9e8320608ad2147
Merge: 26fc95661 158be742d
Author: Brandon W Maister <bwm@materialize.io>
Date:   Tue Oct 1 13:33:34 2019 -0400

    Merge pull request #655 from quodlibetor/grafana-dashboard
    
    Add grafana dashboard to ex/chbench

commit 158be742d53a171c37429214404f7e47a85a3752
Author: Brandon W Maister <bwm@materialize.io>
Date:   Mon Sep 30 12:20:09 2019 -0400

    Add grafana container to ex/chbench and a default dashboard

commit 26fc956612432794b8a5986d9553a1d0d527f54f
Merge: a0c540d18 7955840e3
Author: Nikhil Benesch <nikhil.benesch@gmail.com>
Date:   Tue Oct 1 13:19:03 2019 -0400

    Merge pull request #661 from MaterializeInc/dependabot/cargo/env_logger-0.7.0
    
    Bump env_logger from 0.6.2 to 0.7.0

commit a0c540d1864f4d53063f077a4f8fe9e70f4e997c
Merge: 0bf993e0e 8cf53fda7
Author: Frank McSherry <fmcsherry@me.com>
Date:   Tue Oct 1 12:30:07 2019 -0400

    Merge pull request #667 from frankmcsherry/format_ranges
    
    format ranges of indices

commit 0bf993e0ed95d9375bd941f69e2d0b97dff289b6
Merge: 80ba3000a 65466b1d0
Author: Nikhil Benesch <nikhil.benesch@gmail.com>
Date:   Tue Oct 1 11:51:05 2019 -0400

    Merge pull request #671 from benesch/dataflow-prune
    
    dataflow: remove dead code

commit 7955840e3cee51f94bd048c4aa6a8d3dffc86abc
Author: dependabot-preview[bot] <27856297+dependabot-preview[bot]@users.noreply.github.com>
Date:   Mon Sep 30 19:34:58 2019 +0000

    Bump env_logger from 0.6.2 to 0.7.0
    
    Bumps [env_logger](https://github.com/sebasmagri/env_logger) from 0.6.2 to 0.7.0.
    - [Release notes](https://github.com/sebasmagri/env_logger/releases)
    - [Changelog](https://github.com/sebasmagri/env_logger/blob/master/CHANGELOG.md)
    - [Commits](https://github.com/sebasmagri/env_logger/compare/v0.6.2...v0.7.0)
    
    Signed-off-by: dependabot-preview[bot] <support@dependabot.com>

commit 8cf53fda7ae39ae00846da12d5d2ea928207baf6
Author: Frank McSherry <fmcsherry@me.com>
Date:   Tue Oct 1 11:40:45 2019 -0400

    relocate method

commit 80ba3000a4d61028c3f177d40f4ed403ef90187f
Merge: 9793dd820 63ae93873
Author: Nikhil Benesch <nikhil.benesch@gmail.com>
Date:   Tue Oct 1 11:39:06 2019 -0400

    Merge pull request #662 from MaterializeInc/dependabot/cargo/tokio-threadpool-0.1.16
    
    Bump tokio-threadpool from 0.1.15 to 0.1.16

commit 9793dd8200f1d966cc30a16313318c36e3cb1732
Merge: 975104edd 58d120216
Author: Nikhil Benesch <nikhil.benesch@gmail.com>
Date:   Tue Oct 1 11:37:46 2019 -0400

    Merge pull request #660 from MaterializeInc/dependabot/cargo/bincode-1.2.0
    
    Bump bincode from 1.1.4 to 1.2.0

commit 975104eddebd640624412070fe6d14ef4b5ab525
Merge: 0e31989a3 5028dd60c
Author: JLDLaughlin <JLDLaughlin@users.noreply.github.com>
Date:   Tue Oct 1 11:28:26 2019 -0400

    Merge pull request #670 from JLDLaughlin/update_predicate_pushdown_comment
    
    Update predicate pushdown comment

commit 65466b1d0980699ce8b14753e2163ff86af92c60
Author: Nikhil Benesch <nikhil.benesch@gmail.com>
Date:   Tue Oct 1 11:19:41 2019 -0400

    dataflow: remove dead code
    
    The exfiltrate module was removed, but the file still existed. Removing
    it also lets us remove the reqwest dependency.

commit 0e31989a3a161f5f669d66fdee214f6bccbd1705
Merge: b7db1344d b74c7cc72
Author: Nikhil Benesch <nikhil.benesch@gmail.com>
Date:   Tue Oct 1 11:13:46 2019 -0400

    Merge pull request #669 from benesch/cargo-reordering
    
    Cargo.lock: commit reordering

commit 5028dd60cc1e85366aa1b6d24d5efbb3e1de28d1
Author: JLDLaughlin <jessica@materialize.io>
Date:   Tue Oct 1 11:04:26 2019 -0400

    extra line

commit e86f5acbaf6583fa162f7566ef2b2ec415338c93
Author: JLDLaughlin <jessica@materialize.io>
Date:   Tue Oct 1 11:02:48 2019 -0400

    add comments

commit b7db1344db4b21bb8c16773a3bc7a12152c23d14
Merge: 036b5d52d 16eb6c686
Author: Robert Grimm <grimmr@materialize.io>
Date:   Tue Oct 1 11:01:36 2019 -0400

    Merge pull request #668 from apparebit/refactoring-feature
    
    Significantly shorten description of refactoring issues

commit b74c7cc72d6c3ea568d69e975c037a25481f1bf9
Author: Nikhil Benesch <nikhil.benesch@gmail.com>
Date:   Tue Oct 1 11:00:38 2019 -0400

    Cargo.lock: commit reordering
    
    Somehow Cargo.lock is no longer sorted alphabetically.

commit 036b5d52de92fb428e7969fee5113bc27db5c965
Merge: 9f2956694 4f05f8a55
Author: Nikhil Benesch <nikhil.benesch@gmail.com>
Date:   Tue Oct 1 10:54:36 2019 -0400

    Merge pull request #663 from benesch/slt-crash
    
    sqllogictest: fix crash in SLT

commit 16eb6c686f349ea74a07eaec729b317408c71d42
Author: Robert Grimm <grimmr@materialize.io>
Date:   Tue Oct 1 10:41:21 2019 -0400

    Significantly shorten description of refactoring issues
    
    GitHub has a 200 character limit. Go figure.

commit 8134a7ac2f22fd06246eb579ba1cbd59a7d411a0
Author: Frank McSherry <fmcsherry@me.com>
Date:   Tue Oct 1 09:55:39 2019 -0400

    remove comment, fmt

commit f5b4db2a58d8c7ae84487bb36569c5380636a31c
Author: Frank McSherry <fmcsherry@me.com>
Date:   Tue Oct 1 09:37:39 2019 -0400

    format ranges of indices

commit 4f05f8a5563ec42d1e5fadec93d535dbb6a81c2d
Author: Nikhil Benesch <nikhil.benesch@gmail.com>
Date:   Mon Sep 30 15:37:47 2019 -0400

    sqllogictest: fix crash in SLT
    
    sqllogictest files that dropped tables were at risk of crashing if they
    later inserted data into non-dropped tables, since the sqllogictest
    runner was incorrectly still sending watermark messages to the inputs
    for the dropped source.
    
    Fix #647.

commit 9f295669468a8733a01ace1972e7404be8ab80e7
Merge: 800c75566 6f920948e
Author: Robert Grimm <grimmr@materialize.io>
Date:   Mon Sep 30 17:50:14 2019 -0400

    Merge pull request #666 from apparebit/refactoring-feature
    
    Add refactoring as a fourth issue category

commit 6f920948efb94f4f66b5366577dbb465399f45ea
Author: Robert Grimm <grimmr@materialize.io>
Date:   Mon Sep 30 17:10:06 2019 -0400

    Add refactoring as a fourth issue category
    
    Refactorings fall squarely inbetween bugs and features and generally deserve their own category.

commit 800c75566155da90cd7e06a51d94cc16b65cffe9
Merge: 5183abd7f 829779755
Author: Frank McSherry <fmcsherry@me.com>
Date:   Mon Sep 30 17:07:49 2019 -0400

    Merge pull request #664 from frankmcsherry/chbench_update
    
    update some chbench cases

commit 829779755b94136e9889fce1d9debdbb3586ccc3
Author: Frank McSherry <fmcsherry@me.com>
Date:   Mon Sep 30 16:56:36 2019 -0400

    merge

commit 9a4692511cbb9f55a120992fb8c4b94faacaff0d
Merge: acb0f9502 5183abd7f
Author: Frank McSherry <fmcsherry@me.com>
Date:   Mon Sep 30 16:54:26 2019 -0400

    Merge remote-tracking branch 'origin/master' into chbench_update

commit 5183abd7f9da1ed3970118cd39fe964df5dceb4c
Merge: bde2f784c b271e0f4e
Author: Robert Grimm <grimmr@materialize.io>
Date:   Mon Sep 30 16:54:01 2019 -0400

    Merge pull request #656 from apparebit/prettier-pretty
    
    Improve pretty-printing of Let expressions

commit acb0f9502051703d0a2653cfea92cf0b0f6d0099
Author: Frank McSherry <fmcsherry@me.com>
Date:   Mon Sep 30 16:38:09 2019 -0400

    update some chbench cases

commit 078bb61fa7240de7ba29a89ab4091176e42bac6b
Merge: 160dc4ac4 42be1684a
Author: Brennan Vincent <brennan@materialize.io>
Date:   Mon Sep 30 15:40:36 2019 -0400

    Merge pull request #1 from umanwizard/fixwarn
    
    fix build on Ubuntu 19.04 (which was warning about catching an except…

commit 63ae93873319e0fb3dc36bfb067613b19782474c
Author: dependabot-preview[bot] <27856297+dependabot-preview[bot]@users.noreply.github.com>
Date:   Mon Sep 30 19:35:23 2019 +0000

    Bump tokio-threadpool from 0.1.15 to 0.1.16
    
    Bumps [tokio-threadpool](https://github.com/tokio-rs/tokio) from 0.1.15 to 0.1.16.
    - [Release notes](https://github.com/tokio-rs/tokio/releases)
    - [Commits](https://github.com/tokio-rs/tokio/compare/tokio-threadpool-0.1.15...tokio-threadpool-0.1.16)
    
    Signed-off-by: dependabot-preview[bot] <support@dependabot.com>

commit 58d120216b8808a5e422067d731c1977fad178bd
Author: dependabot-preview[bot] <27856297+dependabot-preview[bot]@users.noreply.github.com>
Date:   Mon Sep 30 19:34:36 2019 +0000

    Bump bincode from 1.1.4 to 1.2.0
    
    Bumps [bincode](https://github.com/servo/bincode) from 1.1.4 to 1.2.0.
    - [Release notes](https://github.com/servo/bincode/releases)
    - [Commits](https://github.com/servo/bincode/compare/v1.1.4...v1.2.0)
    
    Signed-off-by: dependabot-preview[bot] <support@dependabot.com>

commit 42be1684a3e074d179873bb641de289bef535155
Author: Brennan Vincent <brennan@materialize.io>
Date:   Mon Sep 30 15:30:44 2019 -0400

    fix build on Ubuntu 19.04 (which was warning about catching an exception by value)

commit 3b7ab78dd951558eb38b3e30f85df54d63798d1d
Author: Nikhil Benesch <nikhil.benesch@gmail.com>
Date:   Mon Sep 30 15:08:56 2019 -0400

    ci/test: enable in2 sqlite test
    
    This just works now.

commit 30d1bf42767b90ae81bb2cae78e37906002d7f19
Author: Nikhil Benesch <nikhil.benesch@gmail.com>
Date:   Mon Sep 30 15:01:18 2019 -0400

    sqllogictest: support more UPDATE tests
    
    We can run about half of the Cockroach UPDATE tests now, with a slight
    modification to the sqllogictest runner to track "rows affected" instead
    of "diffs generated".

commit 0be07fce3de5c281c6dba2877a96faf5b8faf8bf
Author: Nikhil Benesch <nikhil.benesch@gmail.com>
Date:   Mon Sep 30 14:46:01 2019 -0400

    ci/test: enable sqlite update tests
    
    These pass now.

commit bde2f784ca41322024f1a86e3465a42cd0485ad8
Merge: 8a1e05191 81711b340
Author: Nikhil Benesch <nikhil.benesch@gmail.com>
Date:   Mon Sep 30 15:01:02 2019 -0400

    Merge pull request #657 from benesch/slt-speedup
    
    sqllogictest: speed up postgres integration

commit 81711b340743f0fe3c4c4be1d4d285e69000cacc
Author: Nikhil Benesch <nikhil.benesch@gmail.com>
Date:   Mon Sep 30 11:42:33 2019 -0400

    sqllogictest: speed up postgres integration
    
    It was taking multiple minutes to insert 10000 rows into Postgres. The
    issue was that we'd diff the whole table after every
    INSERT/UPDATE/DELETE statement. We can be quite a bit smarter than that,
    by asking Postgres to tell us only about the rows that were
    inserted/updated/deleted via the `RETURNING *` Postgres extension.  Note
    that updates are a tad more involved, as we need to run a separate query
    to determine the pre-update values.
    
    This makes inserting 10000 rows take a few seconds, which is far more
    reasonable.

commit 8a1e05191e6f01d39c3a948613e296aea0d28aee
Merge: 98bb1c42b 5d1f72fad
Author: JLDLaughlin <JLDLaughlin@users.noreply.github.com>
Date:   Mon Sep 30 14:05:02 2019 -0400

    Push metrics to prometheus pushgateway (#654)

commit 5d1f72fad4be71865d0aa580bbc3f67767baf722
Merge: 4afc4b9e9 98bb1c42b
Author: JLDLaughlin <JLDLaughlin@users.noreply.github.com>
Date:   Mon Sep 30 13:47:30 2019 -0400

    Merge branch 'master' into push_metrics_pushgateway

commit 4afc4b9e9c1ef04aaecfcd878d717da4ef9070cf
Author: JLDLaughlin <jessica@materialize.io>
Date:   Mon Sep 30 13:45:07 2019 -0400

    separate threads

commit b271e0f4e3343d089942dc21f6a5d949d7397a31
Author: Robert Grimm <grimmr@materialize.io>
Date:   Mon Sep 30 13:15:35 2019 -0400

    Update expected output to glorious prettier pretty-printed dataflow graphs

commit 562c98f2e5d9b5a95685d780885799e43843b964
Author: Robert Grimm <grimmr@materialize.io>
Date:   Mon Sep 30 12:53:53 2019 -0400

    Improve pretty-printing of Let expressions
    
    The previous use of a semicolon didn't exactly make clear that the expression continues on the next line. The new ML-ish "in" is far more explicit. Plus we have a test now.

commit 98bb1c42b931d30f6573b35da8bf9cadd7ad4673
Merge: fab314e2e 10f396fb3
Author: Brandon W Maister <bwm@materialize.io>
Date:   Mon Sep 30 12:39:44 2019 -0400

    Merge pull request #649 from quodlibetor/prometheus-metrics-more
    
    Prometheus metrics from kafka and sql queries

commit 10f396fb3299a8123e22082ae33b15e887fe5339
Author: Brandon W Maister <bwm@materialize.io>
Date:   Fri Sep 27 16:05:14 2019 -0400

    Add the prometheus sql exporter and connect it to prometheus
    
    This adds a couple of metrics that we care about, and we could extend it to point to
    mysql and do a bunch more work for better metrics. As it is though we can do a small
    amount of introspection based on this.

commit fab314e2e04a396c22b9d5a239df6178e9be947c
Merge: 543c1f501 23ee94f9a
Author: Jamie Brandon <jamie@scattered-thoughts.net>
Date:   Mon Sep 30 16:42:57 2019 +0100

    Merge pull request #648 from benesch/decimal-overflow
    
    sql: prevent decimal precision overflow

commit b39a0dfd36ead682e0c2503ca8c5e5fa59e208e6
Author: JLDLaughlin <jessica@materialize.io>
Date:   Mon Sep 30 11:36:01 2019 -0400

    delete lib.rs, add comment

commit bac7d31ba31baf40a0f5a0bbd341e416b254ef99
Author: JLDLaughlin <jessica@materialize.io>
Date:   Mon Sep 30 11:30:23 2019 -0400

    final

commit 23ee94f9a513a7f24645de1423a699f7a70fa6d7
Author: Nikhil Benesch <nikhil.benesch@gmail.com>
Date:   Fri Sep 27 15:59:13 2019 -0400

    sql: prevent decimal precision overflow

commit 543c1f50179182c95b5883b67846d15af303ff1f
Merge: cffd0bc91 809a8076e
Author: wangandi <5522362+wangandi@users.noreply.github.com>
Date:   Mon Sep 30 08:42:34 2019 -0400

    Merge pull request #641 from wangandi/offset
    
    Add offset support to select.

commit 155d977e1f5dee4e2f7499732c3422dcfb3e859b
Author: Brandon W Maister <bwm@materialize.io>
Date:   Fri Sep 27 16:36:12 2019 -0400

    Make kafka metrics use prometheus-static-metric

commit fe18570fd02c372b0a5859ad407184495734c26b
Author: Brandon W Maister <bwm@materialize.io>
Date:   Fri Sep 27 10:20:25 2019 -0400

    Add kafka event prometheus metrics
    
    This adds the number of bytes and kafka events read to prometheus

commit cffd0bc913c5569e39776927b347fe65a4a929d6
Merge: 98cdb4181 3fd94a0c1
Author: Brandon W Maister <bwm@materialize.io>
Date:   Sat Sep 28 13:17:34 2019 -0400

    Merge pull request #650 from quodlibetor/ci-image-support-release
    
    Make bin/ci-image script work with --release builds

commit 3fd94a0c1ecd23236278d430279c66fa66a53c2c
Author: Brandon W Maister <bwm@materialize.io>
Date:   Sat Sep 28 12:52:34 2019 -0400

    ci-image: use the :local tag from do_build when running
    
    Fold in one of the changes from #640: teach the run subcommand to use the
    local tag, just to increase the probability that the right image gets
    selected. Previously it was possible to accidentally run an image from
    the registry, rather than one that was locally built.

commit 5e42afcd72957ee36e0c901ec99fd94137b62bac
Author: Brandon W Maister <bwm@materialize.io>
Date:   Fri Sep 27 16:39:19 2019 -0400

    Make ci-image work with --release builds

commit 809a8076ed85796b85ce21c1f4ebc7396ecbdb97
Author: Andi Wang <andi@materialize.io>
Date:   Thu Sep 26 15:46:56 2019 -0400

    Add offset support to select.

commit 98cdb4181ac0605b85b8c748cff4c6ea38612972
Merge: 67472c58f 9a75f3987
Author: Jamie Brandon <jamie@scattered-thoughts.net>
Date:   Fri Sep 27 13:33:19 2019 +0100

    Merge pull request #637 from jamii/group_by_complex
    
    Arbitrary ORDER BY and bonus CSE

commit 9a75f398746e856478fcb7538f92cee73c509b95
Author: Jamie Brandon <jamie@scattered-thoughts.net>
Date:   Fri Sep 27 12:27:52 2019 +0100

    Cleanup

commit e2b76ff24bd499e64094766dd9a7bd850df7b601
Author: Jamie Brandon <jamie@scattered-thoughts.net>
Date:   Thu Sep 26 23:34:11 2019 +0100

    Unicode spaces?

commit 51f2702ca17cac4b80ac090e930c1c7e620c0776
Author: Jamie Brandon <jamie@scattered-thoughts.net>
Date:   Thu Sep 26 23:30:25 2019 +0100

    Rustfmt

commit 34b781eeafb35382078971e7aa98c061fc980bc9
Author: Jamie Brandon <jamie@scattered-thoughts.net>
Date:   Thu Sep 26 23:09:35 2019 +0100

    Clippy

commit 5428150868458a4af3b444b40b8893ddc821f761
Merge: 0ea66837d 67472c58f
Author: Jamie Brandon <jamie@scattered-thoughts.net>
Date:   Thu Sep 26 23:00:54 2019 +0100

    Merge branch 'master' into group_by_complex

commit c18da9ee0d396142a1a26e0a609c37a3ad227f90
Merge: b2aa11be8 67472c58f
Author: JLDLaughlin <jessica@materialize.io>
Date:   Thu Sep 26 17:49:46 2019 -0400

    Merge branch 'master' of https://github.com/MaterializeInc/materialize

commit 67472c58f73d6ffbde08309b766c845dfb2f6f7b
Merge: 725b1db1a 63d5bbbf5
Author: Brandon W Maister <bwm@materialize.io>
Date:   Thu Sep 26 17:35:31 2019 -0400

    Merge pull request #639 from quodlibetor/prometheus-metrics
    
    Add bare minimum prometheus metrics for materialized

commit 0ea66837dcb0e3e530c152a5b668090a93b102a3
Author: Jamie Brandon <jamie@scattered-thoughts.net>
Date:   Thu Sep 26 21:59:46 2019 +0100

    Doh, HashSet iter order is not reproducible

commit c6bde864e4190c2f730e7ab916bb0ef6e109e262
Author: Jamie Brandon <jamie@scattered-thoughts.net>
Date:   Thu Sep 26 21:51:12 2019 +0100

    Need to transform the type too or the postgres protocol gets confused

commit 63d5bbbf5ebd9f6c3298f7ec911126faf7ee5f51
Author: Brandon W Maister <bwm@materialize.io>
Date:   Thu Sep 26 14:06:55 2019 -0400

    Add bare minimum prometheus metrics for materialized
    
    This just returns response counts, but it adds the infrastructure to enable more metrics
    from inside materialized, and also for us to add some more external prometheus metrics,
    coming in a follow-up commit. The only useful query that can be performed because of this
    commit `rate(mz_responses_sent_total[10s])` or sub-queries on that (e.g.
    `rate(mz_responses_sent_total{kind="select",status="success"})`). The
    state-machine-future code makes it difficult to thread the query that we're currently
    tracking through to the error case, so currently status="error" always has an empty
    "kind".
    
    In addition to the core infra for prometheus inside materialized, this adds an example
    local prometheus config in ex/prometheus (it will work if you just `cargo run --bin
    materialized`) and also prometheus to the chbench docker-compose setup.
    
    Since I'm not exactly sure what the perf impact of metrics will be I added a flag to turn
    them off. It seems like the rust-prometheus library does not store timestamps for
    individual `inc()` calls, so I don't think that there is much risk of memory exhaustion
    if we are running materialized without prometheus also running, but we could definitely
    add more granular metrics in the future that could include arbitrary memory overhead.
    
    Future commits will add prometheus connectors to the timely logging infrastructure.
    
    Part of #317

commit 62b2d6510db74cdc9db6215799842bdcf350fe2c
Author: Jamie Brandon <jamie@scattered-thoughts.net>
Date:   Thu Sep 26 21:34:06 2019 +0100

    Update chbench and tpch

commit b2aa11be883f4b687791bea131c0a72e29a1b4cc
Merge: 685f3b9c7 725b1db1a
Author: JLDLaughlin <jessica@materialize.io>
Date:   Thu Sep 26 16:26:17 2019 -0400

    Merge branch 'master' of https://github.com/MaterializeInc/materialize

commit 725b1db1af2a0fb1369de0ee4d90b0863e947ec0
Author: JLDLaughlin <JLDLaughlin@users.noreply.github.com>
Date:   Thu Sep 26 16:25:00 2019 -0400

    Update metrics binary to print out PEEK times (#642)
    
    Runs a new metrics container alongside chbench to continuously print out the timing of "PEEK q01"

commit d429ee3d9d7294346e8939ecc2a1020335c7b70a
Author: Jamie Brandon <jamie@scattered-thoughts.net>
Date:   Thu Sep 26 21:09:52 2019 +0100

    Misc linting fixes that I'll sneak in unnoticed

commit 13d522623c6cfa8794a748aca8fc95dde96f5902
Author: Jamie Brandon <jamie@scattered-thoughts.net>
Date:   Thu Sep 26 21:08:40 2019 +0100

    :|

commit 40d7db58421633355f1045736721433f6d55f883
Author: Jamie Brandon <jamie@scattered-thoughts.net>
Date:   Thu Sep 26 21:05:42 2019 +0100

    Why do we even has this lint...

commit f02d5cfb0a5f12ac1d5098656974dc7a39f1b300
Author: Jamie Brandon <jamie@scattered-thoughts.net>
Date:   Thu Sep 26 21:01:07 2019 +0100

    More bugfixes

commit 685f3b9c7ee5d930ebec113db0b311a11ef8a748
Merge: 27d282604 02e87b643
Author: JLDLaughlin <jessica@materialize.io>
Date:   Thu Sep 26 15:58:16 2019 -0400

    Merge branch 'master' of https://github.com/MaterializeInc/materialize

commit 4428e58ee6b99450ec1552b231dab61bcd020fbc
Author: Jamie Brandon <jamie@scattered-thoughts.net>
Date:   Thu Sep 26 20:52:41 2019 +0100

    false < true

commit 95a4d320113f769bc5d20b20b90356700ba8d614
Author: Jamie Brandon <jamie@scattered-thoughts.net>
Date:   Thu Sep 26 20:51:00 2019 +0100

    Handle arbitrary exprs in ORDER BY

commit 7bb7a2e6eb2768fc2a37aedba106f00359defb64
Author: Jamie Brandon <jamie@scattered-thoughts.net>
Date:   Thu Sep 26 19:50:22 2019 +0100

    Update chbench.slt

commit 1078c003110b3a7c3a721016875b8ac52fdf9798
Author: Jamie Brandon <jamie@scattered-thoughts.net>
Date:   Thu Sep 26 19:43:42 2019 +0100

    Add tests

commit 78231cd22bae3b6ffdadf2f567bc18430f16a40b
Author: Jamie Brandon <jamie@scattered-thoughts.net>
Date:   Thu Sep 26 19:34:40 2019 +0100

    Bugfixes

commit 02e87b643f28632f294f37b3c410dc809168aafb
Merge: 0a5937860 83e297529
Author: Nikhil Benesch <nikhil.benesch@gmail.com>
Date:   Thu Sep 26 14:18:13 2019 -0400

    Merge pull request #633 from benesch/xcompile
    
    bin/xcompile[ctl]: add scripts to xcompile from macOS to Linux

commit 83e29752980d6556b004afbd63fbab2d015768a7
Author: Nikhil Benesch <nikhil.benesch@gmail.com>
Date:   Thu Sep 26 13:15:31 2019 -0400

    rust-toolchain: upgrade to Rust 1.38
    
    Also add CMake to the builder, since the cross-compiling support
    switched us to using librdkafka's CMake build system.
    
    The code changes in this PR account for changes in rustfmt, and new
    warnings from clippy/rustc.

commit 336bad9adfc5ee2711b9f8407e627969a44e1933
Author: Jamie Brandon <jamie@scattered-thoughts.net>
Date:   Thu Sep 26 18:46:11 2019 +0100

    Bugfix

commit 5d29a8ee0b5ef4fdfc4690e02f541d62e492bf40
Author: Nikhil Benesch <nikhil.benesch@gmail.com>
Date:   Wed Sep 25 18:32:24 2019 -0400

    bin/xcompile[-bootstrap]: add scripts to xcompile from macOS to Linux
    
    This is quite useful when trying to build Docker images locally (for
    chbench, for example). To use:
    
        bin/xcompilectl bootstrap
        bin/xcompile
        cp target/x86_64-unknown-linux-gnu/materialized misc/docker/ci-materialized
        cd misc/docker/ci-materialized
        docker build -t materialize/ci-materialized .
        docker run --rm --init -it materialize/ci-materialized
    
    For maximum iteration speed, this pattern is wrapped up in a script:
    
      bin/ci-image build-and-run materialized

commit d0430d3845f66cc1e5d047edbcd569c4c5fca023
Author: Jamie Brandon <jamie@scattered-thoughts.net>
Date:   Thu Sep 26 18:28:00 2019 +0100

    Resolve aggregates using the new resolve_expr instead of aggregate_context

commit fa75aa189b97bfe7df611dbc887831619a775adf
Author: Jamie Brandon <jamie@scattered-thoughts.net>
Date:   Thu Sep 26 18:21:38 2019 +0100

    Do some limited CSE via Scope

commit f5a1398d5d187587ac9c51292497ece92a979f83
Author: Jamie Brandon <jamie@scattered-thoughts.net>
Date:   Thu Sep 26 18:20:59 2019 +0100

    Deduplicate aggregates

commit 7ac6cae234bdd4f8ce318aba32e99bd2fa31fdec
Author: Jamie Brandon <jamie@scattered-thoughts.net>
Date:   Thu Sep 26 18:04:09 2019 +0100

    Simplify handling of select_all

commit 0a59378606dccbcf25abd41fcd60f0888a196d7e
Merge: 025c3209c 4345fe38d
Author: Frank McSherry <fmcsherry@me.com>
Date:   Thu Sep 26 11:14:13 2019 -0400

    Merge pull request #635 from MaterializeInc/frankmcsherry-patch-1
    
    Update README.md

commit 4345fe38ddb72b296f8bd12ac895476e97b64386
Author: Frank McSherry <fmcsherry@me.com>
Date:   Thu Sep 26 10:29:59 2019 -0400

    Update README.md
    
    Clarify some steps.

commit 025c3209c64883b85f46a243da62f195377d2f44
Merge: cf726917a 0eaf772a4
Author: wangandi <5522362+wangandi@users.noreply.github.com>
Date:   Thu Sep 26 09:57:55 2019 -0400

    Merge pull request #620 from wangandi/substrfunc
    
    Add substr func

commit cf726917aed6fd30f4bd8155a1be672132e47088
Merge: 1a9da5c4b 8f297a8a8
Author: Nikhil Benesch <nikhil.benesch@gmail.com>
Date:   Thu Sep 26 02:59:53 2019 -0400

    Merge pull request #624 from benesch/pretty-print-compact
    
    expr: add compact pretty printing of lists

commit 8f297a8a8d5fece17881f099e12828aef96eea3c
Author: Nikhil Benesch <nikhil.benesch@gmail.com>
Date:   Wed Sep 25 11:22:18 2019 -0400

    expr: add compact pretty printing of lists
    
    This is kind of a hack, and doesn't always get things exactly right, but
    it does a decent job and is much better than printing long lists of
    outputs
    one
    per
    line
    which
    is
    really
    painful
    when
    there
    are
    forty
    plus
    outputs. See the doc comment within for details on the approach.

commit 1a9da5c4b3fe01bee892a23696bcb870a1ab76c4
Merge: d6a7b2368 1b56a1624
Author: Nikhil Benesch <nikhil.benesch@gmail.com>
Date:   Thu Sep 26 02:40:56 2019 -0400

    Merge pull request #630 from benesch/distinct-by
    
    expr,sql: use distinct_by in more places

commit 1b56a16241e5237523f6f1b9ca2fed71c5cfacac
Author: Nikhil Benesch <nikhil.benesch@gmail.com>
Date:   Wed Sep 25 15:34:48 2019 -0400

    expr,sql: use distinct_by in more places
    
    Now that we have an explicit `RelationExpr::distinct_by`, the old idiom
    of achieving distinct by via `RelationExpr::project` followed by
    `RelationExpr::distinct` is deprecated, as it introduces an unnecessary
    project node. Update a few call sites to use the new idiom.
    
    One day we'll want to do this via a transformation, too, but it's useful
    to just construct the desired plan directly, when it's easily within our
    control to do so.

commit d6a7b236826f21d83e9ed6f222d985aa522b4358
Merge: 3ee74bb0b 781128610
Author: Frank McSherry <fmcsherry@me.com>
Date:   Wed Sep 25 18:29:16 2019 -0400

    Merge pull request #625 from frankmcsherry/nonnullable
    
    Nonnullable

commit 781128610001417c915bc1e0ba2a56dac92b412d
Author: Frank McSherry <fmcsherry@me.com>
Date:   Wed Sep 25 18:19:04 2019 -0400

    molify clippy

commit 9460c75d483588f5caf9aa5b618293de7b77456b
Merge: 2fedd7cff 3ee74bb0b
Author: Frank McSherry <fmcsherry@me.com>
Date:   Wed Sep 25 17:42:42 2019 -0400

    merged

commit 2fedd7cfff6bcd436851d4de99f3407ef3dafe71
Author: Frank McSherry <fmcsherry@me.com>
Date:   Wed Sep 25 17:32:11 2019 -0400

    equals null equals null

commit 3ee74bb0bbe5943e6ca5ca3d8f4aa1329d148a9b
Merge: 183866547 5567a05d7
Author: Robert Grimm <grimmr@materialize.io>
Date:   Wed Sep 25 17:29:31 2019 -0400

    Merge pull request #594 from apparebit/master
    
    Add Unbind and Deduplicate optimizations

commit 0eaf772a43cb1aae3428c07d96cf633f2448860b
Author: Andi Wang <andi@materialize.io>
Date:   Tue Sep 24 16:36:00 2019 -0400

    Add substr func

commit 847a27a29b80bf5fd1393c16a008c9311c6ddd81
Author: sploiselle <sean@materialize.io>
Date:   Wed Sep 25 16:03:34 2019 -0400

    add getting started guide to highlight existence of mtrlz-setup doc

commit 27d282604e61171f1269bdf53756334435651470
Merge: f17867c78 183866547
Author: JLDLaughlin <JLDLaughlin@users.noreply.github.com>
Date:   Wed Sep 25 15:58:21 2019 -0400

    Merge pull request #1 from MaterializeInc/master
    
    Merge materialize

commit 1838665475748d0f0553bc8cd411d16363ade846
Merge: 6e2bed2d5 8232367d9
Author: JLDLaughlin <JLDLaughlin@users.noreply.github.com>
Date:   Wed Sep 25 14:46:11 2019 -0400

    Introduce metrics crate to run with chbench (#626)
    
    Basic start to new metrics crate to be built and pushed via BuildKite. Actual code only prints PEEK latencies at the moment.

commit 8232367d90ab0986d65d15aadfd1b67122ecabf7
Author: JLDLaughlin <jessica@materialize.io>
Date:   Wed Sep 25 14:34:05 2019 -0400

    another trailing newline

commit 596925075f9403d939755f5eb555ffaf00946400
Author: JLDLaughlin <jessica@materialize.io>
Date:   Wed Sep 25 14:32:59 2019 -0400

    trailing newline

commit e08f873df620661ec275ce96f455e9008de99cce
Merge: 1ea11dd4b b4d7ee834
Author: JLDLaughlin <jessica@materialize.io>
Date:   Wed Sep 25 14:31:09 2019 -0400

    Merge branch 'metrics_crate' of github.com:JLDLaughlin/materialize into metrics_crate

commit 1ea11dd4b0a5adbbd9182ffd4f98cfe7155bd317
Author: JLDLaughlin <jessica@materialize.io>
Date:   Wed Sep 25 14:30:03 2019 -0400

    fix path in toml

commit b4d7ee8348e303d8ade5a443e6c643a703adcf14
Author: JLDLaughlin <JLDLaughlin@users.noreply.github.com>
Date:   Wed Sep 25 14:24:01 2019 -0400

    Update mod.rs
    
    pt 2

commit 9c52793bdf05f930d6495adc47398f3487b04c99
Author: JLDLaughlin <JLDLaughlin@users.noreply.github.com>
Date:   Wed Sep 25 14:22:25 2019 -0400

    Update mod.rs
    
    pull out irrelevant change

commit 18c611bb591eec8a0deb369c71f0165b07e021a3
Merge: aed97c807 aa4ca311d
Author: JLDLaughlin <jessica@materialize.io>
Date:   Wed Sep 25 14:20:19 2019 -0400

    Merge branch 'metrics_crate' of github.com:JLDLaughlin/materialize into metrics_crate

commit aed97c8079f4cd33b80ca633fd1823843d4b6244
Author: JLDLaughlin <jessica@materialize.io>
Date:   Wed Sep 25 14:20:08 2019 -0400

    fix!

commit aa4ca311d42ef45828499cfe138ce4f649b832ca
Author: JLDLaughlin <jessica@materialize.io>
Date:   Wed Sep 25 14:17:10 2019 -0400

    first updates

commit 50fc997fdd12e30ee7080718c716ed7d1bb84ffe
Author: Frank McSherry <fmcsherry@me.com>
Date:   Wed Sep 25 14:06:20 2019 -0400

    amend chbench

commit 5567a05d75802526029760f12774c22d7c674efa
Author: Robert Grimm <grimmr@materialize.io>
Date:   Wed Sep 25 13:51:27 2019 -0400

    Capture latest and greatest expression tree for tests

commit cc4d9cb6fb7e1142ca67df512b0055f893e615ce
Author: JLDLaughlin <jessica@materialize.io>
Date:   Wed Sep 25 13:43:07 2019 -0400

    add newline to Cargo.toml

commit 673cae7a029159c7d0ddd73696ab53682abee40b
Author: JLDLaughlin <jessica@materialize.io>
Date:   Wed Sep 25 13:41:39 2019 -0400

    cargo fmt

commit 36786b9e258090007fb6b8c61ab3677421902476
Author: JLDLaughlin <jessica@materialize.io>
Date:   Wed Sep 25 13:38:08 2019 -0400

    add todo to chbench docker-compose

commit 84858d2d879c7d2b9b9d1773f7c955010612437f
Author: JLDLaughlin <jessica@materialize.io>
Date:   Wed Sep 25 13:32:15 2019 -0400

    Introduce metrics crate to run with chbench

commit 8a17646d6c30c8d1983897b0c51fdbe079961574
Merge: cfc61a816 6e2bed2d5
Author: Frank McSherry <fmcsherry@me.com>
Date:   Wed Sep 25 13:31:19 2019 -0400

    Merge remote-tracking branch 'origin' into nonnullable

commit cfc61a816432a8557e8eda3cf7bf1fe710768880
Author: Frank McSherry <fmcsherry@me.com>
Date:   Wed Sep 25 13:27:12 2019 -0400

    teach SLT about NOT NULL

commit 9a08bcd6755977445cf1aa0825577d1d9e7c7936
Author: Frank McSherry <fmcsherry@me.com>
Date:   Wed Sep 25 13:26:30 2019 -0400

    add UnaryExpr::IsNull

commit baa3585fad74ed81e998bbf4ad111c41abca6e9f
Author: Robert Grimm <grimmr@materialize.io>
Date:   Wed Sep 25 13:14:35 2019 -0400

    Clean up implementation
    
    * Remove optimization code from Environment.
    * Add new LocalBinding to automatically drop binding at end of scope.
    * Document reasoning behind Unbind and design trade-off

commit 797d99494e9ce4cb20ca771549716b0d77ce822f
Author: Robert Grimm <grimmr@materialize.io>
Date:   Mon Sep 23 15:33:25 2019 -0400

    Add Normalize optimization

commit fd9347ceae6562b361be09e2d1bdd2c925728a22
Author: Robert Grimm <grimmr@materialize.io>
Date:   Mon Sep 23 11:46:49 2019 -0400

    Fix bug, aquiesce Clippy, and complete test

commit fd5c5ca9091405102bc5e2ee13548d888481998a
Author: Robert Grimm <grimmr@materialize.io>
Date:   Fri Sep 20 18:16:19 2019 -0400

    Add Unbind and Deduplicate implementations
    
    The former is tested and appears to be working. The latter still contains some bug.

commit 6e2bed2d58baf61f4ed5518b7daa6776071122a2
Merge: 784982429 1db5f3a76
Author: Sean Loiselle <himself@seanloiselle.com>
Date:   Wed Sep 25 13:11:29 2019 -0400

    Merge pull request #615 from sploiselle/mysql-debezium-instructions
    
    add mysql/debezium setup instructions and script

commit f99ab21f00dd19da37cf8b449e7a650e19815f27
Author: Frank McSherry <fmcsherry@me.com>
Date:   Wed Sep 25 12:52:26 2019 -0400

    counts to countall

commit 1db5f3a7614730a959cafaf9024960c4ec359703
Author: sploiselle <sean@materialize.io>
Date:   Tue Sep 24 16:12:04 2019 -0400

    add mysql/debezium setup instructions and script

commit 784982429558e639c1b53f1b03fcc054f053b21c
Merge: 46dca3074 23a1654c8
Author: Brandon W Maister <bwm@materialize.io>
Date:   Wed Sep 25 11:07:49 2019 -0400

    Merge pull request #596 from quodlibetor/prepared-statements-extended-queries
    
    Prepared statements, extended queries, and some binary formats

commit 46dca307499579c7f6cdd7465405678f1710bb13
Merge: 9e5a3c4d5 016690f0e
Author: Nikhil Benesch <nikhil.benesch@gmail.com>
Date:   Wed Sep 25 10:26:09 2019 -0400

    Merge pull request #623 from benesch/slt-chbench
    
    expr: use sequential ID allocation when planning

commit 23a1654c833318d4ff6c8cdc3a75fc56287b4db7
Author: Brandon W Maister <bwm@materialize.io>
Date:   Tue Sep 24 13:58:22 2019 -0400

    Put prepared statement modification behind accessor methods
    
    Once a statement has been created it should not be modifiable

commit ddc33884b600bfe82b24112f49a468324dc1a5c7
Author: Brandon W Maister <bwm@materialize.io>
Date:   Tue Sep 24 10:22:58 2019 -0400

    Move plan_query into helper method
    
    Part of #607

commit 3888eaf473741498edfa80b299972dedcbe4447b
Author: Brandon W Maister <bwm@materialize.io>
Date:   Mon Sep 23 14:28:48 2019 -0400

    rename ParsedStatement session structs
    
    There was an unnecessary inner struct that made it harder to figure out how the parts fit
    together.

commit 93e70d2001ddd810df13ea4a8ece9b83d27c94fe
Author: Brandon W Maister <bwm@materialize.io>
Date:   Mon Sep 23 12:59:34 2019 -0400

    pgwire/codec: Move everything to using the Cursor over the buffer
    
    Cursors know how to read their bytes. Very similar to the [`bytes::Buf`] trait, but that
    api is designed to panic if the underlying buffer is not large enough. We don't want
    users to be able to crash us by sending trivially too-small messages.

commit 66bec028a8c991fa8b44d4d362c895a7e9aa092a
Author: Brandon W Maister <bwm@materialize.io>
Date:   Mon Sep 23 11:36:13 2019 -0400

    pgwire: Clean up log statements, remove/add comments

commit 29ee1d965a6082a08a59ab544511e8de44030291
Author: Brandon W Maister <bwm@materialize.io>
Date:   Thu Sep 19 11:25:13 2019 -0400

    Make Session debug less verbose
    
    Don't show the full debug reprs of all the vars, just their values

commit 2ef192a740cb2119f438116184e9da0e016e3102
Author: Brandon W Maister <bwm@materialize.io>
Date:   Tue Sep 17 17:43:15 2019 -0400

    pgwire: Handle Execute part of extended query
    
    Unfortunately this means we need to thread the idea whether or not we're currently in an
    extended query through several steps of the protocol state machine.

commit 7f87eed4da927d8100e3c2f9ee781c8c3a6218ac
Author: Brandon W Maister <bwm@materialize.io>
Date:   Thu Sep 19 11:24:26 2019 -0400

    pgwire: Support sending some kinds of binary data
    
    The only things I know are not correct:
    
    * When handling DESCRIBE we don't care what formats were requested, we just describe
      every field as TEXT
    * Can't handle Interval or Decimal (numeric) types

commit a5f7208553665d038df311a0150efd0cf60f706a
Author: Brandon W Maister <bwm@materialize.io>
Date:   Tue Sep 17 17:19:04 2019 -0400

    Support portals in the prepared statement flow

commit 8eef25af0ce4f1dd15fb1aa39feaaf20f5f14781
Author: Brandon W Maister <bwm@materialize.io>
Date:   Mon Sep 16 18:13:56 2019 -0400

    pgwire: extended queries: Handle all the way through sync for Parse

commit 05188896fb68604cb095d2e87fab83014019f5bf
Author: Brandon W Maister <bwm@materialize.io>
Date:   Mon Sep 16 16:25:48 2019 -0400

    Stash the parsed query in the session (actually prepare statements)

commit 02e743566f802db4a7541557a29906bf2df19a5f
Author: Brandon W Maister <bwm@materialize.io>
Date:   Mon Sep 16 14:22:51 2019 -0400

    Make queue::Command capable of handling multiple kinds of commands
    
    For extended queries we're going to need to handle Parse, Describe, and Execute at the
    query/sequencing layer.

commit 340a3e0bc346b6bc240ced78c7b1b0acb9f93b98
Author: Brandon W Maister <bwm@materialize.io>
Date:   Fri Sep 13 16:09:57 2019 -0400

    Stash prepared statements in the sql::session::Session

commit 11ec90f9bb00e239aecb8a139e84ae2fc7d8eb99
Author: Brandon W Maister <bwm@materialize.io>
Date:   Mon Sep 23 10:27:57 2019 -0400

    pgwire/protocol: add a bunch of trace logs
    
    You can enable them by running with MTRLZ_LOG=materialize::pgwire=trace,info

commit 43e8f38ee71a5bd861b0f0774853877fb76573d8
Author: Brandon W Maister <bwm@materialize.io>
Date:   Mon Sep 23 10:27:29 2019 -0400

    pgwire: parse ParseComplete message but don't do anything with it yet

commit 7025b8c3f89fdfef2892875c4a4ed8e78958f452
Author: Brandon W Maister <bwm@materialize.io>
Date:   Wed Sep 11 14:53:14 2019 -0400

    pgwire: Parse prepared statements and handle them in protocol

commit 016690f0e2b630ee7b9c8e7c6fe6716bd29c2957
Author: Nikhil Benesch <nikhil.benesch@gmail.com>
Date:   Tue Sep 24 23:33:23 2019 -0400

    expr: use sequential ID allocation when planning
    
    This makes it possible to write static assertions about the expected
    query plan. The previous approach of using UUIDs meant that the IDs
    changed on every replan.
    
    Note that the additional ID cleanup transformation in #594 is still very
    much warranted, as expr transformations will leave holes in the ID
    allocation that can be cleaned up with that transformation.
    
    Now that all query plans are deterministic, fill in some more expected
    chbench plans.
    
    Fix #608.

commit 9e5a3c4d58c191bbca7ad39c771143fc7fa11324
Merge: 65847956a cc0774cde
Author: Nikhil Benesch <nikhil.benesch@gmail.com>
Date:   Wed Sep 25 09:42:51 2019 -0400

    Merge pull request #614 from benesch/sqllogictest-cleanup
    
    Refactor sqllogictest runner

commit cc0774cdec11fc0db407849de77ffbabcbc03058
Author: Nikhil Benesch <nikhil.benesch@gmail.com>
Date:   Wed Sep 25 00:53:56 2019 -0400

    sqllogictest: learn to rewrite results
    
    Add a mode in which sqllogictest will rewrite incorrect outputs to match
    the observed outputs, rather than failing. This is particularly useful
    when EXPLAIN output is changed; rather than manually updating each
    query's expected output, the expected outputs can be automatically
    updated, and then the diffs can be eyeballed.

commit e56942ca805828b3373cd80d83cfdf57bea5bf4a
Author: Frank McSherry <fmcsherry@me.com>
Date:   Wed Sep 25 00:18:30 2019 -0400

    map, filter, reduce

commit 0f5a0007e9c2fe2b5939f15035893186ce5b7eb5
Author: Nikhil Benesch <nikhil.benesch@gmail.com>
Date:   Wed Sep 25 00:08:07 2019 -0400

    sqllogictest: push bail lifting into run_record
    
    The goal is to simplify run_string to its essence. The next commit will
    introduce result rewriting, and will need to duplicate much of the code
    that remains in run_string.

commit 11afc96cc1605f94cc0aba4a4236a50ea4042ef1
Author: Nikhil Benesch <nikhil.benesch@gmail.com>
Date:   Tue Sep 24 15:45:29 2019 -0400

    sqllogictest: clean up column name comparison

commit 6b7c487fbaa9bb629d8213353d9bbb24e01b1c52
Author: Nikhil Benesch <nikhil.benesch@gmail.com>
Date:   Tue Sep 24 15:27:45 2019 -0400

    sqllogictest: extract helpers for planning/running sql

commit 5d863d82bf218e6c27259c8c4b2d7b5a6c906246
Author: Nikhil Benesch <nikhil.benesch@gmail.com>
Date:   Tue Sep 24 15:16:33 2019 -0400

    sqllogictest: split State::run_statement into pieces

commit 0c5d42383bf3f9bf1f37ad6ed5c57f9594f1cdc5
Author: Nikhil Benesch <nikhil.benesch@gmail.com>
Date:   Tue Sep 24 15:04:11 2019 -0400

    sqllogictest: split State::run_record function
    
    This match statement was over 400 lines long, and getting really hard to
    reason about.

commit 69b83694e7fd866d816a6f4f2ac39fed9b830447
Author: Nikhil Benesch <nikhil.benesch@gmail.com>
Date:   Tue Sep 24 13:56:07 2019 -0400

    sqllogictest: clean up output
    
    Avoid using horizontal rules, since Buildkite can't display them. Make
    better use of indentation, and use "----" as a poor man's horizontal
    rule. Also restore the former behavior of printing queries before
    running them in maximum-verbosity mode, since otherwise it's impossible
    to tell what query caused a panic. Also also don't bother printing
    failure categories that weren't triggered. E.g., if there were no output
    failures, don't print "output-failures=0".
    
    All in all this makes parsing the output of SLT about 100x easier.

commit 0264a3350a0c212af418aea3e8682c105627a058
Author: Nikhil Benesch <nikhil.benesch@gmail.com>
Date:   Tue Sep 24 13:18:27 2019 -0400

    ci: adjust for new SLT options
    
    Verbosity level two is now equivalent to verbosity level one. --fail is
    now the default, and --no-fail must be explicitly requested.

commit 3f5cb6db89c4621581e24f6a14d9db6a30d7e524
Author: Nikhil Benesch <nikhil.benesch@gmail.com>
Date:   Tue Sep 24 13:17:21 2019 -0400

    sqllogictest: replace --fail option with --no-fail
    
    Returning a failing exit code should be the default.

commit 585a31e4d57ed517df0ae2782b2f4770e1bbd907
Author: Nikhil Benesch <nikhil.benesch@gmail.com>
Date:   Tue Sep 24 13:13:28 2019 -0400

    sqllogictest: remove expect-outcomes support
    
    This is no longer used.

commit ea2ec5592faff91cb7b5f214eb167e1b502f2133
Author: Nikhil Benesch <nikhil.benesch@gmail.com>
Date:   Tue Sep 24 13:03:58 2019 -0400

    sqllogictest: split parse_record function
    
    This function was getting mighty hard to follow.

commit 44c664f31b5a556d48493c802aa2050026f672ee
Author: Nikhil Benesch <nikhil.benesch@gmail.com>
Date:   Tue Sep 24 12:46:35 2019 -0400

    sqllogictest: polish ast module

commit 0186023f1e5a96967cbd4c3abf09ca843f7d0759
Author: Nikhil Benesch <nikhil.benesch@gmail.com>
Date:   Tue Sep 24 12:30:28 2019 -0400

    sqllogictest: standardize PASS/FAIL output
    
    Use PASS/FAIL consistently, rather than "SUCCESS!"/"FAIL!" in some
    places.

commit 1d07bbcce0e3e7ef84c2a4bf1c1864ae470ea117
Author: Nikhil Benesch <nikhil.benesch@gmail.com>
Date:   Tue Sep 24 11:46:14 2019 -0400

    sqllogictest: drop no-verbosity mode
    
    No one has ever wanted the default verbosity mode for sqllogictest, in
    which absolutely nothing is printed. Drop that verbosity mode, and slide
    the other verbosity modes down.

commit 3492f73fe1c83dce2da4d907268fe46f48b0edcc
Author: Nikhil Benesch <nikhil.benesch@gmail.com>
Date:   Tue Sep 24 11:38:26 2019 -0400

    sqllogictest: remove support for only parsing
    
    It's no longer used, and was substantially complicated things.

commit c332165ad32bd3ee9d343c48a15d5697ce4b325b
Author: Nikhil Benesch <nikhil.benesch@gmail.com>
Date:   Tue Sep 24 11:34:09 2019 -0400

    sqllogictest: improve description

commit 93cd660a990bd63dfc53e92e8f01d8e79f42454a
Author: Nikhil Benesch <nikhil.benesch@gmail.com>
Date:   Tue Sep 24 11:27:13 2019 -0400

    sqllogictest: modularize
    
    Split the sqllogictest runner into multiple files. It was getting pretty
    hard to keep track of.

commit 65847956ae86ff8de87a7c3813140d3e9cd4d54e
Merge: f0a1d0420 8e0f109b5
Author: Nikhil Benesch <nikhil.benesch@gmail.com>
Date:   Tue Sep 24 23:23:53 2019 -0400

    Merge pull request #622 from benesch/slt-chbench
    
    test: fix merge skew in chbench plans

commit 8e0f109b5604922dd1587498966dd1eaf4290ad8
Author: Nikhil Benesch <nikhil.benesch@gmail.com>
Date:   Tue Sep 24 23:10:03 2019 -0400

    test: fix merge skew in chbench plans

commit f0a1d0420e0e0919cf31ce1956916bdf0cdb93e4
Merge: 36b5f5b80 95a8241e1
Author: Nikhil Benesch <nikhil.benesch@gmail.com>
Date:   Tue Sep 24 22:08:23 2019 -0400

    Merge pull request #621 from benesch/slt-chbench
    
    test: add chbench plans to SLT

commit 95a8241e159f4e1be2c1adf566159cdd9d48d07d
Author: Nikhil Benesch <nikhil.benesch@gmail.com>
Date:   Tue Sep 24 21:43:27 2019 -0400

    test: add chbench plans to SLT

commit 96232849e23e757507d792335d69e07f0265585d
Author: Frank McSherry <fmcsherry@me.com>
Date:   Tue Sep 24 17:52:18 2019 -0400

    work in progress

commit 36b5f5b807bbca0852c874fe1637707032981397
Merge: d7feadced 771e375d3
Author: Nikhil Benesch <nikhil.benesch@gmail.com>
Date:   Tue Sep 24 17:40:33 2019 -0400

    Merge pull request #617 from benesch/projection-extraction
    
    expr/transform: extract projections from maps

commit 771e375d3c49dfdd972894c778b37665e3afbdf9
Author: Nikhil Benesch <nikhil.benesch@gmail.com>
Date:   Tue Sep 24 17:03:20 2019 -0400

    expr: pretty-print aggregate expression innards

commit 0f9347d97e1037692a1709b0af99220435da45f8
Author: Nikhil Benesch <nikhil.benesch@gmail.com>
Date:   Tue Sep 24 16:48:55 2019 -0400

    expr: fix pretty-printing indentation in reduce, too
    
    Like in 970f8c3, the pretty printing indentation of the aggregate
    functions and group keys in reduces was broken in the expanded mode. Fix
    it the same way, and also add a test.

commit b1507eb8ecb5d3c7367445aaa58fbabe049fb8e7
Author: Nikhil Benesch <nikhil.benesch@gmail.com>
Date:   Tue Sep 24 16:41:58 2019 -0400

    expr/transform: extract projections from maps
    
    The planner can generate map operators that are used to generate simple
    projections. Add a transformation that can lift those projections out of
    the map, so they can be subjected to other optimizations, like project
    fusion.

commit d7feadced526c2d8d5d4bb6255728c99c1bb1e68
Merge: 412c73295 8090ea8cb
Author: Frank McSherry <fmcsherry@me.com>
Date:   Tue Sep 24 16:22:30 2019 -0400

    Merge pull request #610 from benesch/goodplans
    
    Quality of life improvements for plans in sqllogictest

commit 8090ea8cb8ed3e178f694b917bd9b6bbf7b6c2bb
Author: Frank McSherry <fmcsherry@me.com>
Date:   Tue Sep 24 16:07:18 2019 -0400

    allow map scalars access to prior scalars

commit 412c73295a9b9ad7f7c919cb2b90c2a662bf68c2
Merge: b24a7702e 67651b191
Author: Frank McSherry <fmcsherry@me.com>
Date:   Tue Sep 24 15:54:10 2019 -0400

    Merge pull request #612 from frankmcsherry/optimization_tests
    
    Optimization tests

commit b24a7702e53083986ab06b3d93ab7b81e58e0c4c
Merge: e14cdf2a1 aebb83900
Author: Brandon W Maister <bwm@materialize.io>
Date:   Tue Sep 24 15:16:55 2019 -0400

    Merge pull request #613 from quodlibetor/docker-compose-mzcli-dependency
    
    Make the docker-compose cli build depend on the mzcli docker image

commit 67651b191e073b6a1099ee88a1bfd10386098ca3
Author: Frank McSherry <fmcsherry@me.com>
Date:   Tue Sep 24 13:17:34 2019 -0400

    SLT explain improvements

commit 5e274cf78772fa52597411aaf069b107f7032b7c
Author: Nikhil Benesch <nikhil.benesch@gmail.com>
Date:   Tue Sep 24 11:07:44 2019 -0400

    expr/transform: add map fusion
    
    This is always worth doing.

commit cdaf1de1def8cfab18a9d864ea2de11ce14a8140
Author: Nikhil Benesch <nikhil.benesch@gmail.com>
Date:   Tue Sep 24 11:01:53 2019 -0400

    repr: shorten representation of decimals
    
    Render decimal significands as "99999dec" rather than
    "Significand(99999)", which was needlessly verbose.

commit 970f8c322fbbedcfa94a72003a5120cb56a815cd
Author: Nikhil Benesch <nikhil.benesch@gmail.com>
Date:   Tue Sep 24 10:53:35 2019 -0400

    expr/relation: fix pretty-printing indentation of scalar exprs
    
    The rendering of scalar exprs in map, filter, and project nodes was
    subject to the same indentation buglet that join variables were (which
    was fixed in #564). Fix the indentation of map, filter, and project in
    the same way, and add tests.

commit e14cdf2a17d9c86050a4a2a3887139cfb25eb19d
Merge: f2dd4c6b2 f64d859c1
Author: Sean Loiselle <himself@seanloiselle.com>
Date:   Tue Sep 24 10:40:47 2019 -0400

    Merge pull request #601 from MaterializeInc/update-getting-started-docs
    
    docs: misc. improvements

commit 66eec5e5c0f9883ff21ba0eb6d1cd3d2ee808e60
Author: Frank McSherry <fmcsherry@me.com>
Date:   Mon Sep 23 15:56:32 2019 -0400

    Preliminary work on testing EXPLAIN

commit f64d859c12bc9c39c5a046065a154bf39a4693ea
Author: sploiselle <himself@seanloiselle.com>
Date:   Mon Sep 23 17:15:46 2019 -0400

    reflect changes to confluent-platform and other misc. improvements

commit f2dd4c6b2c3fa2823f880f20e441fd8dae7cf0d3
Merge: 8b724c05d 2b28408f0
Author: Nikhil Benesch <nikhil.benesch@gmail.com>
Date:   Tue Sep 24 09:04:54 2019 -0400

    Merge pull request #603 from benesch/multiline-slt
    
    sqllogictest: hack in support for multiline output

commit 8b724c05def2fd53357431e95b3f5d7056426ec4
Merge: 994d0c446 a3d4471ce
Author: Nikhil Benesch <nikhil.benesch@gmail.com>
Date:   Tue Sep 24 09:04:19 2019 -0400

    Merge pull request #604 from benesch/fix-slt
    
    sqllogictest: fix recent regressions

commit 994d0c446840b8f27ee5b21bd07560dd992135ed
Merge: 4cb0b0d13 49a561344
Author: Jamie Brandon <jamie@scattered-thoughts.net>
Date:   Tue Sep 24 13:32:49 2019 +0100

    Merge pull request #605 from jamii/cleanup_inline_let
    
    Cleanup InlineLet

commit 49a561344110fd124893d596adb45cc6f5287354
Author: Jamie Brandon <jamie@scattered-thoughts.net>
Date:   Tue Sep 24 13:17:14 2019 +0100

    Cleanup InlineLet

commit a3d4471cebfec8efe31d7c8adf43ab5cb9915096
Author: Nikhil Benesch <nikhil.benesch@gmail.com>
Date:   Tue Sep 24 00:24:47 2019 -0400

    expr/transform: fix folding of threshold operator
    
    This operator was not correctly handling the new world where constants
    can have multiplicities. Teach it to apply the thresholding to the diff
    field within each constant row.
    
    Additionally enable the CockroachDB union sqllogictests, which exposed
    this issue and the issue fixed by the previous commit.

commit 60df9923cb6952720b9c66a774e70dd26316231d
Author: Nikhil Benesch <nikhil.benesch@gmail.com>
Date:   Tue Sep 24 00:21:00 2019 -0400

    expr/transform: ensure FoldConstants consolidates all const nodes
    
    The FoldConstants transformation was not ensuring that all constant
    nodes were consolidated, which violated assumptions that no negative
    constants would appear when folding a reduce node. (Before, for example,
    folding a union operation would not consolidate the new constant node.)

commit 2b28408f017b4407e91c4094941951c181aa3eb3
Author: Nikhil Benesch <nikhil.benesch@gmail.com>
Date:   Mon Sep 23 23:52:41 2019 -0400

    sqllogictest: hack in support for multiline output
    
    It turns out trying to match Cockroach's behavior here is an exercise in
    insanity. Instead just introduce a new query option called "multiline",
    which causes the expected output to be assumed to be a single row with
    multiple lines, rather than each line being its own row.

commit 4cb0b0d137aa594274a46393d69aacbbf089314a
Author: Brennan Vincent <brennan@materialize.io>
Date:   Mon Sep 23 15:14:38 2019 -0400

    Avoid log spam for null payloads (#597)

commit f17867c78e2e9badcf056eb87b32c5abacaa2471
Merge: 5012cdc6a 7e3654e8d
Author: JLDLaughlin <JLDLaughlin@users.noreply.github.com>
Date:   Mon Sep 23 14:27:34 2019 -0400

    Merge pull request #595 from MaterializeInc/update_ch_readme
    
    Move Mac instructions up in CH README

commit 5012cdc6afe1977994e03321d41870dc61e9ab59
Merge: 1a7aff556 7a14f55ca
Author: Nikhil Benesch <nikhil.benesch@gmail.com>
Date:   Mon Sep 23 14:08:15 2019 -0400

    Merge pull request #592 from MaterializeInc/dependabot/cargo/backtrace-0.3.38
    
    build(deps): bump backtrace from 0.3.37 to 0.3.38

commit 1a7aff55611afef480d350cfd025614837b56e41
Merge: 3f25f0469 641fb35f0
Author: Nikhil Benesch <nikhil.benesch@gmail.com>
Date:   Mon Sep 23 14:08:05 2019 -0400

    Merge pull request #593 from MaterializeInc/dependabot/cargo/parse_duration-2.0.1
    
    build(deps): bump parse_duration from 1.0.3 to 2.0.1

commit 3f25f0469172dbbca8aba621ab8b55fc4c5bc5fd
Merge: d4fcf33bc f8f513214
Author: Nikhil Benesch <nikhil.benesch@gmail.com>
Date:   Mon Sep 23 14:07:49 2019 -0400

    Merge pull request #514 from benesch/ci-diagnose
    
    ci: disable sccache, which was breaking caching

commit 7e3654e8d178b02dfde5bcf635074fa944001e1e
Author: JLDLaughlin <jessica@materialize.io>
Date:   Mon Sep 23 14:01:30 2019 -0400

    add back performance warning

commit 87505509ca3efb5bce4c8ccfd4dedd4b974b4b72
Author: JLDLaughlin <jessica@materialize.io>
Date:   Mon Sep 23 13:47:31 2019 -0400

    remove nested list

commit 6523df7b86568358eb24527ba2bce50663df5f05
Author: JLDLaughlin <jessica@materialize.io>
Date:   Mon Sep 23 13:45:57 2019 -0400

    Move Mac instructions higher in README

commit f8f513214f79a3fe9dd774148f7e39251b95a566
Author: Nikhil Benesch <nikhil.benesch@gmail.com>
Date:   Sat Sep 14 13:16:33 2019 -0400

    ci: disable sccache, which was breaking caching
    
    See details within. For some reason, sccache was making the situation
    worse, not better. Disable it; it was never that good anyway.

commit d4fcf33bcb22eb10cd5212169b5135a7f6b49485
Merge: 5b43c9c6d 1ef168a80
Author: wangandi <5522362+wangandi@users.noreply.github.com>
Date:   Mon Sep 23 13:39:52 2019 -0400

    Merge pull request #591 from wangandi/asciifunc
    
    Add ascii function.

commit 1ef168a80a0cdb0a861606cd7816e6d396efaac1
Author: Andi Wang <andi@materialize.io>
Date:   Mon Sep 23 13:21:20 2019 -0400

    Try again to have output be consistent.

commit f819a7036d9eb6c74f1968fd9d90e9f9aadfbf3a
Author: Andi Wang <andi@materialize.io>
Date:   Mon Sep 23 13:02:12 2019 -0400

    More linter compliance.

commit 10bf486152f8f8501a6ab6833cad01ee7c14ddbc
Author: Andi Wang <andi@materialize.io>
Date:   Mon Sep 23 12:56:38 2019 -0400

    Fix linter and make results consistent.

commit 4ba2b0575b38e843674c6615d252f3c92e77e990
Author: Andi Wang <andi@materialize.io>
Date:   Mon Sep 23 09:40:20 2019 -0400

    Add ascii function.

commit 5b43c9c6d73ce4a6d8ce1b8286db132050c09925
Merge: c45efdd52 c0ce33756
Author: Nikhil Benesch <nikhil.benesch@gmail.com>
Date:   Mon Sep 23 11:16:48 2019 -0400

    Merge pull request #574 from benesch/no-distinct
    
    expr: remove RelationExpr::Distinct

commit 641fb35f002c899c4e9986931ab0c0e6b7d74637
Author: dependabot-preview[bot] <27856297+dependabot-preview[bot]@users.noreply.github.com>
Date:   Mon Sep 23 15:09:40 2019 +0000

    build(deps): bump parse_duration from 1.0.3 to 2.0.1
    
    Bumps [parse_duration](https://github.com/zeta12ti/parse_duration) from 1.0.3 to 2.0.1.
    - [Release notes](https://github.com/zeta12ti/parse_duration/releases)
    - [Changelog](https://github.com/zeta12ti/parse_duration/blob/master/CHANGELOG.md)
    - [Commits](https://github.com/zeta12ti/parse_duration/commits)
    
    Signed-off-by: dependabot-preview[bot] <support@dependabot.com>

commit 7a14f55ca9e49fe6e8f87a33651c1070ee5faff1
Author: dependabot-preview[bot] <27856297+dependabot-preview[bot]@users.noreply.github.com>
Date:   Mon Sep 23 15:09:23 2019 +0000

    build(deps): bump backtrace from 0.3.37 to 0.3.38
    
    Bumps [backtrace](https://github.com/rust-lang/backtrace-rs) from 0.3.37 to 0.3.38.
    - [Release notes](https://github.com/rust-lang/backtrace-rs/releases)
    - [Commits](https://github.com/rust-lang/backtrace-rs/compare/0.3.37...0.3.38)
    
    Signed-off-by: dependabot-preview[bot] <support@dependabot.com>

commit c0ce337566ee53df6c210e886787bda5ba35b62e
Author: Nikhil Benesch <nikhil.benesch@gmail.com>
Date:   Thu Sep 19 14:46:49 2019 -0400

    expr: support negative constants
    
    This makes it possible to fold constants through negations, which
    unleashes constant folding on queries like:
    
        SELECT count(*) FROM (VALUES (1), (2), (3))
    
    Constant folding would previously get stuck because this query plans a
    negation operator as part of ensuring that it handles empty inputs as
    the SQL spec requires--that is, by producing a single row with a zero
    count.

commit 7e9066fc91d5346391e87df12e8a9ced3223c7f5
Author: Nikhil Benesch <nikhil.benesch@gmail.com>
Date:   Thu Sep 19 13:57:11 2019 -0400

    expr: fold constants in Union
    
    This was easy enough to do, and vastly simplifies plans that use
    `VALUES` expressions with multiple rows, which are initially planned as
    unions of several constant rows.

commit 0a966aabcc86cd1fabc0560f0849b4c45e0e6754
Author: Nikhil Benesch <nikhil.benesch@gmail.com>
Date:   Thu Sep 19 13:56:18 2019 -0400

    expr: fold constants in Reduce
    
    Now that Distinct has been replaced with Reduce, it's more important
    that we be able to fold constants through Reduce.

commit 8aea270d018dfb480a005576354ff1c6ae6fef7e
Author: Nikhil Benesch <nikhil.benesch@gmail.com>
Date:   Wed Sep 18 17:26:23 2019 -0400

    expr: remove RelationExpr::Distinct
    
    RelationExpr::Distinct can be trivially implemented in terms of
    RelationExpr::Reduce by specifying no aggregation functions. Do that, to
    cut down on the number of nodes we need to reason about.
    
    We may want to hold off on implementing this until #573 is done, as we
    currently have some optimizations that apply easily to distinct but
    require a bit more elbow grease to apply to reduce.

commit c45efdd52450000344cc8016a824746cc8a75d63
Merge: fbab394fa 5028b0374
Author: Nikhil Benesch <nikhil.benesch@gmail.com>
Date:   Mon Sep 23 10:39:51 2019 -0400

    Merge pull request #578 from benesch/extract-coord
    
    materialize: extract a coord crate

commit fbab394fa511bb34d215c5b1e39d38a7019b32ed
Merge: e00465d22 94e75f0f5
Author: JLDLaughlin <JLDLaughlin@users.noreply.github.com>
Date:   Mon Sep 23 10:37:24 2019 -0400

    Merge pull request #590 from MaterializeInc/pkey_bug_fix
    
    Return pkey indices, not new vec

commit e00465d22bb7add20f09ed0aa300bfdc7630d85c
Merge: 6022cfb46 ddb67d20d
Author: Nikhil Benesch <nikhil.benesch@gmail.com>
Date:   Mon Sep 23 10:29:21 2019 -0400

    Merge pull request #581 from benesch/avg-promotion
    
    sql: ensure avg outputs a fractional type

commit 5028b03744899aca6bcfa4a319ff4589a290c3a5
Author: Nikhil Benesch <nikhil.benesch@gmail.com>
Date:   Thu Sep 19 15:44:02 2019 -0400

    materialize: extract a coord crate
    
    Extract materialize::queue into its own crate, named coord. A future
    commit will move materialize::pgwire to its own crate, so that the
    materialize crate will contain just the logic for starting up a
    materialized server.

commit 94e75f0f564a0e7117ee3b8d1c6b159ae8fa8e0d
Author: JLDLaughlin <jessica@materialize.io>
Date:   Mon Sep 23 10:21:38 2019 -0400

    dereference, not clone

commit fac36d872aded135a943388229897d41dc25b07a
Author: JLDLaughlin <jessica@materialize.io>
Date:   Mon Sep 23 09:15:21 2019 -0400

    usize not &usize

commit 7b89cdd4de3a10cf2ee2bc7bbe12da51d16c6314
Author: JLDLaughlin <jessica@materialize.io>
Date:   Mon Sep 23 09:09:32 2019 -0400

    Return pkey indices, not new vec

commit 6022cfb46933a506ec63474c6e9ec1dc22cac5ee
Merge: cdb16c580 2e204f3f3
Author: Jamie Brandon <jamie@scattered-thoughts.net>
Date:   Mon Sep 23 13:10:39 2019 +0100

    Merge pull request #588 from jamii/test_nullable
    
    Test inferred types against actual values

commit 2e204f3f364df1b6a2f04c0f0a713bf4c555d399
Author: Jamie Brandon <jamie@scattered-thoughts.net>
Date:   Mon Sep 23 12:10:56 2019 +0100

    Test inferred types against actual values

commit ddb67d20d07077f32a2bf6c8142cd9174acbb5e2
Author: Nikhil Benesch <nikhil.benesch@gmail.com>
Date:   Thu Sep 19 16:31:58 2019 -0400

    sql: ensure avg outputs a fractional type
    
    avg was previously using its input type as its output type, so taking
    the avg of an integral column would return an integral result, with the
    fractional component truncated. That behavior was technically in
    compliance with the SQL spec, but is not what PostgreSQL and MySQL do,
    and surprising to boot. Instead, choose the smallest fractional type
    that can represent the input, and use that as the output type.
    
    Fix #549.

commit cdb16c580e84f2e7a624832e82e5a80bf3242ba1
Author: Cuong Do <cuongdo@users.noreply.github.com>
Date:   Sun Sep 22 20:19:51 2019 -0400

    Fix mod and division by 0 (#582)
    
    * Fix mod and division by 0
    
    Because we don't yet support reporting errors from functions, this
    change more uniformly applies the sqlite approach of returning NULL when
    performing division or modulus by 0.
    
    Fixes #580
    
    * Fix mod_float{32,64}

commit aebb83900081804276a77505e59ac8a7fd82a92b
Author: Brandon W Maister <bwm@materialize.io>
Date:   Sun Sep 22 17:58:31 2019 -0400

    Make the cli docker compose target depend on the mzcli image
    
    The otherpart of MaterializeInc/materialize#586

commit 2bf4f68e233fcb3e785eebe9b0b6db193341359d
Merge: 0793aefa6 260a43e30
Author: Nikhil Benesch <nikhil.benesch@gmail.com>
Date:   Sat Sep 21 13:04:17 2019 -0400

    Merge pull request #577 from benesch/neg-decimal
    
    expr,repr,sql: support negating decimals

commit 260a43e302a9103d39edfd7f2dc7c21437eea34e
Author: Nikhil Benesch <nikhil.benesch@gmail.com>
Date:   Thu Sep 19 15:19:47 2019 -0400

    expr,repr,sql: support negating decimals
    
    Fix #575.

commit 0793aefa66b2ce536e73c3a3c5db13c589e45304
Merge: e46099cc7 6bc360ece
Author: Nikhil Benesch <nikhil.benesch@gmail.com>
Date:   Sat Sep 21 12:36:08 2019 -0400

    Merge pull request #579 from benesch/coresymbolication
    
    Fix backtrace symbolication in panic handling on macOS

commit 644b87bcc89efe70ca9448477c48d80f32fc5293
Author: Brandon W Maister <bwm@materialize.io>
Date:   Fri Sep 20 17:07:57 2019 -0400

    CHBench example: remove some debug output from cli/_build.sh

commit e46099cc7187b057fdc0de83da5817e00c02785b
Merge: 32536e94a 54a76448c
Author: Brandon W Maister <bwm@materialize.io>
Date:   Fri Sep 20 16:46:52 2019 -0400

    Merge pull request #583 from quodlibetor/docker-compose-mzcli
    
    CHBench example: move from `psql` to `mzcli`

commit 54a76448c2917b201aef492969f2a898266a7c23
Author: Brandon W Maister <bwm@materialize.io>
Date:   Fri Sep 20 16:04:23 2019 -0400

    CHBench example: move from `psql` to `mzcli`
    
    This changes the default compose command to be mzcli, but continues to include psql
    mostly because I haven't tested the tail script with mzcli, but also if someone needs to
    fall back to psql just running this works:
    
         docker-compose run cli psql -h materialized -p 6875 sslmode=disable

commit 32536e94a0179223d10806fdd0bcefed2e00719f
Merge: 9713601a1 f4a8a8150
Author: wangandi <5522362+wangandi@users.noreply.github.com>
Date:   Fri Sep 20 11:21:40 2019 -0400

    Merge pull request #571 from wangandi/modfunc
    
    WIP: Map mod to %.

commit f4a8a81509345d4548add5cc80d44b5015f1a843
Author: Andi Wang <andi@materialize.io>
Date:   Thu Sep 19 18:55:05 2019 -0400

    To comply with linter, add newline at end.

commit ad7628157b98ba078534aef24d4b89468688c596
Author: Andi Wang <andi@materialize.io>
Date:   Thu Sep 19 18:35:16 2019 -0400

    Add a bunch of testing.

commit 28cbbdc266c179efe17cd92b8a6684a8ba1e965b
Author: Andi Wang <andi@materialize.io>
Date:   Wed Sep 18 19:33:54 2019 -0400

    Conform to fast-linter.

commit 239eddf30dfb1398dbfe37d444dde2c5c5b5526c
Author: Andi Wang <andi@materialize.io>
Date:   Wed Sep 18 12:17:14 2019 -0400

    Map mod to %.

commit 9713601a1fc4390826196b2e84d96bbc6460cc10
Merge: cdf9d6fcb 3c6055535
Author: Frank McSherry <fmcsherry@me.com>
Date:   Thu Sep 19 16:34:40 2019 -0400

    Merge pull request #567 from frankmcsherry/filter_nonnull
    
    Only filter nullable columns

commit 6bc360ece266c4dd2e0fba2cd753645d5a74d521
Author: Nikhil Benesch <nikhil.benesch@gmail.com>
Date:   Thu Sep 19 16:01:08 2019 -0400

    Fix backtrace symbolication in panic handling on macOS
    
    Apparently the "coresymbolication" feature is necessary to get
    backtraces on macOS to have proper file/line information.

commit cdf9d6fcbd150cda225215d85e179ee9369dee2c
Merge: ed1129767 2af19d248
Author: JLDLaughlin <JLDLaughlin@users.noreply.github.com>
Date:   Wed Sep 18 20:18:23 2019 -0400

    Merge pull request #568 from MaterializeInc/sort_dedupe_filters
    
    Deduplicate filters to increase reuse of arrangements

commit 2af19d248dc6bfdb691c5c66a47cd63cc1307d44
Author: JLDLaughlin <jessica@materialize.io>
Date:   Wed Sep 18 17:49:28 2019 -0400

    use vecs! sort and dedup

commit f086cc079d311223b257d943eadef2c2087639e2
Author: JLDLaughlin <jessica@materialize.io>
Date:   Wed Sep 18 17:23:23 2019 -0400

    deduplicate correct answer in filter.rs doc test

commit 4e33c00fb0485a51e0e77f2e71f97fcd9790dfdf
Author: JLDLaughlin <jessica@materialize.io>
Date:   Wed Sep 18 16:02:09 2019 -0400

    hashset instead of sort

commit ed11297671e956d2cb60d26fe3d4835896a6c2c6
Merge: ad362d5cc 34d1808a2
Author: Nikhil Benesch <nikhil.benesch@gmail.com>
Date:   Wed Sep 18 15:50:01 2019 -0400

    Merge pull request #566 from benesch/doc-deps
    
    Build docs and dependencies

commit c29dc704baed3055905b27c5e2bb7b3cec777c79
Author: JLDLaughlin <jessica@materialize.io>
Date:   Wed Sep 18 15:16:45 2019 -0400

    Sort and dedup Filters to correctly reuse arrangements

commit ad362d5cc640f4956b4f40234802451a977813d6
Merge: 08fde429d 4941cc6e0
Author: Robert Grimm <grimmr@materialize.io>
Date:   Wed Sep 18 14:47:54 2019 -0400

    Merge pull request #565 from apparebit/master
    
    Add abstractions for handling bindings. Implement let hoisting with them

commit 3c6055535738e3824a005afe238ac4b2f95972da
Author: Frank McSherry <fmcsherry@me.com>
Date:   Wed Sep 18 14:43:17 2019 -0400

    cargo fmt

commit 8bbc7ed87936296b25818bb3131519b5319fb346
Author: Frank McSherry <fmcsherry@me.com>
Date:   Wed Sep 18 14:42:46 2019 -0400

    only filter nullable columns

commit 4941cc6e0d984510f2832db1918e156c7d058394
Author: Robert Grimm <grimmr@materialize.io>
Date:   Wed Sep 18 14:00:26 2019 -0400

    Eliminate the by now unnecessary doulble match on RelationExpr::Let in extract()

commit 34d1808a291eea257f46c830890348904c55c08c
Author: Nikhil Benesch <nikhil.benesch@gmail.com>
Date:   Wed Sep 18 13:23:42 2019 -0400

    Build docs and dependencies
    
    This makes autolinks to our dependencies work. The bug with multiple
    versions of the same crate isn't hugely problematic; `cargo doc` will
    just randomly pick one of the docs to complete. This means the
    occasional link will be broken, but that's better than all of the links
    to our dependencies being broken.

commit 08fde429d357636cb7d7a8d8e24f6fdac1b77253
Merge: d33d71ed0 cd6a35fc7
Author: Nikhil Benesch <nikhil.benesch@gmail.com>
Date:   Wed Sep 18 13:25:14 2019 -0400

    Merge pull request #564 from benesch/pretty-pretty
    
    Various pretty printing improvements

commit cd6a35fc7288f23f634bde94a3cfe04201fbe202
Author: Nikhil Benesch <nikhil.benesch@gmail.com>
Date:   Wed Sep 18 01:48:15 2019 -0400

    expr: complete scalar expression pretty printing
    
    The lack of pretty printing for complex scalar expressions in EXPLAIN
    output has made debugging a bit challenging. Complete the pretty
    printer, using a compact enough representation that we can probably
    enable it by default.
    
    Fix #423.

commit d15ed87a1352838c94c369cb65bbf6035c4ff88c
Author: Robert Grimm <grimmr@materialize.io>
Date:   Wed Sep 18 12:13:25 2019 -0400

    Incorporate Clippy's feedback and add comment explaining extract()

commit e57d909ebee52b0790c0f3365ca4c74b425da834
Author: Robert Grimm <grimmr@materialize.io>
Date:   Wed Sep 18 11:23:35 2019 -0400

    Clean up hoisting implementation
    
    "if let RelationExpr::Let {..}" seems  more concise and readable, especially for the double matches, than the more general match expression.
    
    Also, don't just panic!() for unreachable!() code.

commit 02bba939a8ed0c053dba9ea1aa3b19abac0a6fb1
Author: Robert Grimm <grimmr@materialize.io>
Date:   Wed Sep 18 10:55:10 2019 -0400

    Add new and improved implementation of Let hoisting

commit d33d71ed0a6fa66fcf8ce23487d1d2510289ab5d
Merge: 6690a04ed 71a02b1bd
Author: Frank McSherry <fmcsherry@me.com>
Date:   Wed Sep 18 09:15:25 2019 -0400

    Merge pull request #559 from frankmcsherry/simplify_dual
    
    simplify dual

commit 6690a04ed69d69c1242a7b1757668ef6f0de494e
Merge: 717572a73 365e7fade
Author: Jamie Brandon <jamie@scattered-thoughts.net>
Date:   Wed Sep 18 10:56:14 2019 +0100

    Merge pull request #562 from benesch/no-or-default
    
    expr: remove RelationExpr::OrDefault

commit 5b91a2b77b90ff21d5b4a46cd9733da157e8ca08
Author: Nikhil Benesch <nikhil.benesch@gmail.com>
Date:   Wed Sep 18 00:13:42 2019 -0400

    expr: standardize rendering of constant nodes
    
    While debugging some query plans, it's been pretty confusing that both
    an empty constant and a constant with an empty row were rendered as (),
    and that a constant with a single row rendered as (1) while a constant
    with two rows rendered as ((1), (2)). While nice in isolation, I think
    the brevity is actually impeding understanding here.
    
    This commit adopts a new standard output format that looks like
    array/slice notation in many languages.
    
    A constant with no rows:                []
    A constant with an empty row:           [[]]
    A constant with one row of one column:  [[1]]
    A constant with two rows of one column: [[1], [2]]
    
    While a bit more verbose, this will be quite helpful to me while
    debugging query plans!

commit 7391d9ea93b1bc974b7ff351ef58abffde08f5d9
Author: Nikhil Benesch <nikhil.benesch@gmail.com>
Date:   Tue Sep 17 23:55:00 2019 -0400

    expr: add tests for constant pretty printing

commit b33ea9d5be88109dc66e85c3bd61ee0c374c2d32
Author: Nikhil Benesch <nikhil.benesch@gmail.com>
Date:   Tue Sep 17 23:44:42 2019 -0400

    expr: fix buglet in indentation of join variables
    
    Join variables were previously inconsistently indented when formatted in
    multiline mode, due to some extraneous `nest` calls. Indentation is now
    entirely handled by `to_[tightly_]braced_doc`, so those nest calls can
    be elided.

commit 365e7fadeda77a39d5c798ade8a83caca1d35c4c
Author: Nikhil Benesch <nikhil.benesch@gmail.com>
Date:   Tue Sep 17 23:16:32 2019 -0400

    expr: remove RelationExpr::OrDefault
    
    This node is no longer used. When its behavior is needed, an equivalent
    dataflow can be built by expr::RelationExpr::lookup, which is the
    codepath that the new decorrelator uses.

commit 717572a73788a83441a83778afe8afb39020ceaa
Author: Cuong Do <cuongdo@users.noreply.github.com>
Date:   Tue Sep 17 16:01:17 2019 -0400

    Fix chbench flush-tables (#557)
    
    Previously, we weren't specifying the right topic name, which was
    causing the timestamp sealing to not work correctly

commit 71a02b1bd8f002e03a7b39dea6c28d9e0f5dae17
Author: Frank McSherry <fmcsherry@me.com>
Date:   Tue Sep 17 15:16:10 2019 -0400

    simplify dual

commit 958f0fc5436394a3a7e79a4908584b89e85a01cb
Merge: 2b067ee1e a03518299
Author: Jamie Brandon <jamie@scattered-thoughts.net>
Date:   Tue Sep 17 19:27:00 2019 +0100

    Merge pull request #556 from jamii/sql_docs
    
    Refactor sql/lib and add module docs

commit 2b067ee1eb843e013d19da576f37c29f3e565149
Merge: 831b1e9e9 4d3fb809f
Author: Nikhil Benesch <nikhil.benesch@gmail.com>
Date:   Tue Sep 17 13:24:43 2019 -0400

    Merge pull request #520 from MaterializeInc/dependabot/cargo/hyper-0.12.35
    
    build(deps): bump hyper from 0.12.34 to 0.12.35

commit a035182997a8f450e2680b9e1ae9ef1727cf7161
Author: Jamie Brandon <jamie@scattered-thoughts.net>
Date:   Tue Sep 17 17:17:33 2019 +0100

    Refactor sql/lib and add module docs

commit 831b1e9e9b250714f47253b27c3a9f0d4c5dc747
Author: Cuong Do <cuongdo@users.noreply.github.com>
Date:   Tue Sep 17 10:27:07 2019 -0400

    Script to flush changes to tables (#554)
    
    Inserts an empty event into all chbenchmark Kafka topics, to advance the
    timestamps for the corresponding materialized sources

commit 9b1bf7f554eaab5128b8dc7910b03295dd794d39
Merge: 500e56460 23e983064
Author: Nikhil Benesch <nikhil.benesch@gmail.com>
Date:   Mon Sep 16 17:43:22 2019 -0400

    Merge pull request #551 from MaterializeInc/dependabot/cargo/rand-0.7.2
    
    build(deps): bump rand from 0.7.0 to 0.7.2

commit 500e564601823b4ade21db29df16fa4e6f8f7899
Merge: aca6e5066 1a03c061f
Author: Nikhil Benesch <nikhil.benesch@gmail.com>
Date:   Mon Sep 16 17:37:57 2019 -0400

    Merge pull request #547 from benesch/map-via-joins
    
    expr,sql: map via joins

commit aca6e506649ab09b59c4ea0b1bc554e7d2cd2331
Merge: 2db7faffd 3d9f34c23
Author: Nikhil Benesch <nikhil.benesch@gmail.com>
Date:   Mon Sep 16 17:01:10 2019 -0400

    Merge pull request #550 from frankmcsherry/constant_propagation
    
    Constant propagation

commit 23e9830648b0806370641987d3bb2007c612cdf0
Author: dependabot-preview[bot] <27856297+dependabot-preview[bot]@users.noreply.github.com>
Date:   Mon Sep 16 20:55:35 2019 +0000

    build(deps): bump rand from 0.7.0 to 0.7.2
    
    Bumps [rand](https://github.com/rust-random/rand) from 0.7.0 to 0.7.2.
    - [Release notes](https://github.com/rust-random/rand/releases)
    - [Changelog](https://github.com/rust-random/rand/blob/master/CHANGELOG.md)
    - [Commits](https://github.com/rust-random/rand/compare/0.7.0...0.7.2)
    
    Signed-off-by: dependabot-preview[bot] <support@dependabot.com>

commit 3d9f34c2328ddb00eb3d5f9ecd909b2dbbd665b2
Author: Frank McSherry <fmcsherry@me.com>
Date:   Mon Sep 16 16:40:28 2019 -0400

    remove comments

commit eb314c7ffc72073e7ce5f33a64c31771591975e3
Author: Frank McSherry <fmcsherry@me.com>
Date:   Mon Sep 16 16:34:26 2019 -0400

    cargo fmt

commit 75a447e2ff15d474a1fe41140577b461e4296407
Author: Frank McSherry <fmcsherry@me.com>
Date:   Mon Sep 16 16:31:55 2019 -0400

    further constant propagation

commit 2db7faffd0d044ff309474fc36af562adb8a4990
Merge: bcc24bffe a58eedff5
Author: Frank McSherry <fmcsherry@me.com>
Date:   Mon Sep 16 15:36:11 2019 -0400

    Merge pull request #548 from frankmcsherry/inline_constants
    
    Inline constants

commit bcc24bffe363b3e8c958f6bd865362734066cebd
Author: Cuong Do <cuongdo@users.noreply.github.com>
Date:   Mon Sep 16 14:50:54 2019 -0400

    Add `mysqlcli` to chbench Dockerfile (#546)
    
    Add the ability to run the MySQL CLI against the MySQL that's part of
    the chbenchmark setup

commit a58eedff5049c82da8fe6fa3611ba4690341921f
Author: Frank McSherry <fmcsherry@me.com>
Date:   Mon Sep 16 14:42:50 2019 -0400

    inline constants

commit 1a03c061f54926dd35cbbb483c09efd250b04856
Author: Nikhil Benesch <nikhil.benesch@gmail.com>
Date:   Mon Sep 16 13:59:05 2019 -0400

    expr,sql: map via joins
    
    Frank had the insight that mapping via joins with a constant relation
    expression allows our optimizer to do more work, including eliding the
    map/join entirely if predicates can be pushed down. Use this pattern in
    another place in the decorrelation code, to save on a redundant
    map/filter, and also leave some comments behind in both places it's
    used.

commit d77fffa48c8feb309c49df23b178bbccf3eaaa0b
Merge: 98d5d07cf 0b008a11e
Author: Brandon W Maister <bwm@materialize.io>
Date:   Mon Sep 16 12:54:18 2019 -0400

    Merge pull request #525 from quodlibetor/fix-dt-month-addition
    
    Fix Timestamp + Month addition

commit 4d3fb809f02df025b616a1222a6b731f8a504fb5
Author: dependabot-preview[bot] <27856297+dependabot-preview[bot]@users.noreply.github.com>
Date:   Mon Sep 16 15:42:40 2019 +0000

    build(deps): bump hyper from 0.12.34 to 0.12.35
    
    Bumps [hyper](https://github.com/hyperium/hyper) from 0.12.34 to 0.12.35.
    - [Release notes](https://github.com/hyperium/hyper/releases)
    - [Changelog](https://github.com/hyperium/hyper/blob/master/CHANGELOG.md)
    - [Commits](https://github.com/hyperium/hyper/commits)
    
    Signed-off-by: dependabot-preview[bot] <support@dependabot.com>

commit 0b008a11e9ac86579be2d3b4230d282c080db611
Author: Brandon W Maister <bwm@materialize.io>
Date:   Mon Sep 16 11:41:17 2019 -0400

    The expr crate requires uuid with the v4 feature
    
    Running build from outside the expr crate worked fine, but from inside it could fail.

commit 82c57fe4f497657ba8e611293471f17ea7775375
Author: Brandon W Maister <bwm@materialize.io>
Date:   Mon Sep 16 11:40:13 2019 -0400

    Verify (and fix) the result of interval addition comparisons in fast SLT

commit 98d5d07cfa349ec55522825d0298638ebc659a79
Merge: 56c3b103c 8fcbfafca
Author: Nikhil Benesch <nikhil.benesch@gmail.com>
Date:   Mon Sep 16 11:40:07 2019 -0400

    Merge pull request #519 from MaterializeInc/dependabot/cargo/serde-1.0.101
    
    build(deps): bump serde from 1.0.100 to 1.0.101

commit 56c3b103c3e670f6f908149e4f33e4cb3c0b03a2
Merge: 42000a54e e58c030f7
Author: Frank McSherry <fmcsherry@me.com>
Date:   Mon Sep 16 11:05:11 2019 -0400

    Merge pull request #516 from frankmcsherry/transformation_bonanza
    
    Transformation bonanza

commit 8fcbfafca29c11b568b55c2200490324cb2791e1
Author: dependabot-preview[bot] <27856297+dependabot-preview[bot]@users.noreply.github.com>
Date:   Mon Sep 16 14:34:11 2019 +0000

    build(deps): bump serde from 1.0.100 to 1.0.101
    
    Bumps [serde](https://github.com/serde-rs/serde) from 1.0.100 to 1.0.101.
    - [Release notes](https://github.com/serde-rs/serde/releases)
    - [Commits](https://github.com/serde-rs/serde/compare/v1.0.100...v1.0.101)
    
    Signed-off-by: dependabot-preview[bot] <support@dependabot.com>

commit 42000a54e000d88e5eb0648cecd23fb1d059e63c
Merge: 12f694d1e 8f0f53c59
Author: Nikhil Benesch <nikhil.benesch@gmail.com>
Date:   Mon Sep 16 00:49:56 2019 -0400

    Merge pull request #517 from benesch/civiz-fix
    
    civiz: fix rendering of new fields

commit 8f0f53c59f9a703ccfad60fa9da337d1990768ff
Author: Nikhil Benesch <nikhil.benesch@gmail.com>
Date:   Mon Sep 16 00:19:25 2019 -0400

    civiz: fix rendering of new fields

commit e58c030f7c22f57c900142bf60946548116bf5cc
Author: Nikhil Benesch <nikhil.benesch@gmail.com>
Date:   Sun Sep 15 22:49:04 2019 -0400

    sql: split plan_binary_op into pieces
    
    This function was getting a bit out of hand. Split it into multiple
    pieces to make it easier to follow.

commit 13728065ef8af3f5073a61fcf74002511050f088
Author: Nikhil Benesch <nikhil.benesch@gmail.com>
Date:   Sun Sep 15 21:44:39 2019 -0400

    sql: allow adding interval and date
    
    The previous code would panic if you tried to add an interval and a
    date, rather than a date and an interval. The dataflow layer was
    assuming that the interval would be the second argument, while the SQL
    layer would happily provide it as the first.
    
    Also, subtracting a date from an interval is ill-defined and should be
    outright prohibited.

commit 9ada42d9460cb3a79c535d8f1b23a2ef49074a19
Author: Nikhil Benesch <nikhil.benesch@gmail.com>
Date:   Sun Sep 15 14:20:10 2019 -0400

    sql: give planner responsibility for date -> timestamp promotion
    
    The dataflow layer was previously responsible for promoting dates into
    timestamps at runtime. This was confusing the new constant propagation
    optimizations, since the planner was not aware that such promotions were
    possible. Make the planner explicitly responsible for any date ->
    timestamp promotions, so that constant propagation can happen correctly.

commit c1288db9ddbaaa1b02ed2f9b47dca59591f91b3b
Author: Nikhil Benesch <nikhil.benesch@gmail.com>
Date:   Sun Sep 15 13:52:16 2019 -0400

    sql: fold find_output_type into try_coalesce_types
    
    It's pretty hard to explain what find_output_type does, so fold it back
    into try_coalesce_types so we only have to explain the weirdness in once
    place.

commit 4ca5eabaefdae2a90d416da62c46e284910abc6e
Author: Nikhil Benesch <nikhil.benesch@gmail.com>
Date:   Sun Sep 15 13:25:17 2019 -0400

    sql: properly type result of LIKE expression
    
    The result of a LIKE expression always needs to be marked as nullable,
    since LIKE might return NULL even if the inputs are non-nullable, if the
    pattern is invalid.

commit 54df4d3623ab0544e535e2e9bdb403f920278a21
Author: Frank McSherry <fmcsherry@me.com>
Date:   Sun Sep 15 12:19:38 2019 -0400

    validate constant type

commit cb6d61e61f18fa3c6709fc4b069564f6413e0752
Author: Nikhil Benesch <nikhil.benesch@gmail.com>
Date:   Sun Sep 15 12:08:00 2019 -0400

    sql: fix typing of TIMELIKE + INTERVAL
    
    This was incorrectly typing the result as a date, when it is in fact a
    timestamp.

commit 03a0c98335417c57ad9cc7d9982e8145dfb329cb
Author: Frank McSherry <fmcsherry@me.com>
Date:   Sun Sep 15 10:15:37 2019 -0400

    cargo fmt

commit 1a2e13209ae9aaf17817ad26770dd25938018017
Author: Frank McSherry <fmcsherry@me.com>
Date:   Sun Sep 15 10:15:07 2019 -0400

    inline get expressions

commit 43c7a9482675f13b0acca4398a4a33b0052c1773
Author: Frank McSherry <fmcsherry@me.com>
Date:   Sun Sep 15 10:07:21 2019 -0400

    constant propagation

commit c280674706e782ff4672ca505ffcefcbdccb8692
Author: Frank McSherry <fmcsherry@me.com>
Date:   Sun Sep 15 09:08:24 2019 -0400

    constant product as join not map

commit 7052fdd908ad68ca29f9ffa3fe061b8c0209a03b
Author: Frank McSherry <fmcsherry@me.com>
Date:   Sun Sep 15 09:07:29 2019 -0400

    push through union

commit 12f694d1ece6f032b93bec232b38b3a33312425a
Merge: cc1f6afb6 c075bcb57
Author: Nikhil Benesch <nikhil.benesch@gmail.com>
Date:   Sun Sep 15 00:08:23 2019 -0400

    Merge pull request #515 from benesch/sqllogictest-tweaks
    
    Various mergeable sqllogictest tweaks

commit c075bcb571ff6a297b034c631fab56982b50b37a
Author: Nikhil Benesch <nikhil.benesch@gmail.com>
Date:   Fri Sep 13 22:10:24 2019 -0400

    sqllogictest: don't rewrite CREATE VIEW to CREATE MATERIALIZED VIEW
    
    These are synonyms now, so don't bother with the rewrite.

commit 9d9426818fc174163d1b28ac191eed3ea9383c5e
Author: Nikhil Benesch <nikhil.benesch@gmail.com>
Date:   Fri Sep 13 22:09:52 2019 -0400

    Update test/sqlite to latest version
    
    The updated version includes fixes for compiling the sqllogictest runner
    on macOS and dropping dependent views in Materialize.

commit cc1f6afb6eccad3253e35cda34084a65566461cb
Merge: 1189a4393 9e82cc849
Author: Nikhil Benesch <nikhil.benesch@gmail.com>
Date:   Sat Sep 14 14:37:07 2019 -0400

    Merge pull request #512 from jamii/increase-slt-ttimeout
    
    Increase slt timeout

commit 1189a439362ffe672e8ad19edd7da5059ee9dc5d
Merge: 5adf3762f 01134006a
Author: Frank McSherry <fmcsherry@me.com>
Date:   Sat Sep 14 12:45:34 2019 -0400

    Merge pull request #511 from frankmcsherry/join_elision
    
    Join elision

commit 9e82cc84924b84acfd044b8af4fcd1f35256ad97
Author: Jamie Brandon <jamie@scattered-thoughts.net>
Date:   Sat Sep 14 17:40:09 2019 +0100

    Increase slt timeout
    
    We have a lot more tests actually running now

commit 01134006ac31a9f1560aff6091964b71d140862d
Author: Frank McSherry <fmcsherry@me.com>
Date:   Sat Sep 14 10:47:42 2019 -0400

    removing output printing

commit 36dc094e9da12bdd226098a7e4aca2f84db7a1e3
Author: Frank McSherry <fmcsherry@me.com>
Date:   Sat Sep 14 10:36:00 2019 -0400

    low value clippy junk

commit 92e096d0027430f203f14b77b874a24d8853eafe
Author: Frank McSherry <fmcsherry@me.com>
Date:   Sat Sep 14 10:24:01 2019 -0400

    cargo check fail

commit a539f36c778848d52e65cfca9eb694608f05adbd
Author: Frank McSherry <fmcsherry@me.com>
Date:   Sat Sep 14 10:22:30 2019 -0400

    Reduce joins

commit 5adf3762fe1ef31dd9ebbca49051cc6dce3a3a60
Author: Cuong Do <cuongdo@users.noreply.github.com>
Date:   Fri Sep 13 18:08:54 2019 -0400

    Reinstate several TPC-H queries in SLT (#507)

commit 0b192d3c51cba3c9d88249ab81b2b6fbba9450f2
Merge: 3d27a90af 54745dca7
Author: Nikhil Benesch <nikhil.benesch@gmail.com>
Date:   Fri Sep 13 17:51:02 2019 -0400

    Merge pull request #510 from apparebit/master
    
    Improve formatting of RelationExpr::Let

commit 3d27a90af5543db5c3247e6ee846217f48cd34f0
Merge: 2e2c4deb9 c250960ab
Author: Nikhil Benesch <nikhil.benesch@gmail.com>
Date:   Fri Sep 13 17:09:44 2019 -0400

    Merge pull request #506 from benesch/decimal-min-max
    
    sql: support min and max on decimals

commit 2e2c4deb9f79375f16e3c7b5cbd608a9d7a4adfc
Merge: b004d2890 cc35f36b1
Author: Frank McSherry <fmcsherry@me.com>
Date:   Fri Sep 13 16:53:22 2019 -0400

    Merge pull request #508 from frankmcsherry/distinct_union
    
    remove distincts

commit cc35f36b125ffbb1e2c11223ea1add668c5e1b01
Author: Frank McSherry <fmcsherry@me.com>
Date:   Fri Sep 13 16:36:11 2019 -0400

    cargo fmt

commit 52366f20c40c168f2c327bd28d99f124ca6559d0
Author: Frank McSherry <fmcsherry@me.com>
Date:   Fri Sep 13 16:35:31 2019 -0400

    use take, fix typ, post-order

commit 54745dca77cf20f7354a27bac57f3dd12f5bf065
Author: Robert Grimm <grimmr@materialize.io>
Date:   Fri Sep 13 16:34:41 2019 -0400

    Improve formatting of RelationExpr::Let

commit fb4b99ddc6558450b4cfdb216d25ff28c15fcbf5
Author: Frank McSherry <fmcsherry@me.com>
Date:   Fri Sep 13 16:13:57 2019 -0400

    remove distincts

commit c250960ab23e0be65744204872ed1b7709c48dbc
Author: Nikhil Benesch <nikhil.benesch@gmail.com>
Date:   Fri Sep 13 16:02:51 2019 -0400

    sql: support min and max on decimals
    
    Somehow I missed these two aggregate functions when implementing decimal
    support.

commit b004d28909e1bd14349976a406d2a3672535d413
Merge: 69990106d 1f133da58
Author: Nikhil Benesch <nikhil.benesch@gmail.com>
Date:   Fri Sep 13 15:16:02 2019 -0400

    Merge pull request #505 from benesch/sql-merge-skew
    
    sql: fix some merge skew

commit 69990106dcc743f2ce8f25912d93c6b33c1b69d7
Merge: 656935381 c9af91050
Author: Nikhil Benesch <nikhil.benesch@gmail.com>
Date:   Fri Sep 13 15:13:58 2019 -0400

    Merge pull request #504 from benesch/comm-deps
    
    comm: remove duplicated rand dependency

commit 1f133da583c568f8a038b8085c1274a8cd1545f8
Author: Nikhil Benesch <nikhil.benesch@gmail.com>
Date:   Fri Sep 13 14:58:02 2019 -0400

    sql: fix some merge skew

commit c9af91050eca4f7dae5ca4976e177f0e3be22543
Author: Nikhil Benesch <nikhil.benesch@gmail.com>
Date:   Fri Sep 13 14:51:43 2019 -0400

    comm: remove duplicated rand dependency
    
    Now that rand is a full-time dependency, it no longer needs to be a dev
    dependency.

commit 656935381cdad2eaff92004516048bb58dc48be6
Merge: 9397784b2 2506ae06e
Author: Nikhil Benesch <nikhil.benesch@gmail.com>
Date:   Fri Sep 13 14:46:18 2019 -0400

    Merge pull request #460 from MaterializeInc/dependabot/cargo/regex-1.3.1
    
    build(deps): bump regex from 1.2.1 to 1.3.1

commit 9397784b22608643349ccf27788ba50231e32ccd
Merge: c5ff6016a d62a08ba4
Author: Nikhil Benesch <nikhil.benesch@gmail.com>
Date:   Fri Sep 13 14:44:06 2019 -0400

    Merge pull request #487 from benesch/exfiltrate-exfiltrator
    
    *: remove the exfiltrator

commit c5ff6016ab3fc11f7c89a48cbe89e0d5d80e49d9
Merge: 5327cc46b 47cd6e91e
Author: Nikhil Benesch <nikhil.benesch@gmail.com>
Date:   Fri Sep 13 14:43:02 2019 -0400

    Merge pull request #500 from benesch/sql-fixes
    
    sql: various fixes

commit d62a08ba4f6c3668a020d7f7105bc1b47c3e684d
Author: Nikhil Benesch <nikhil.benesch@gmail.com>
Date:   Wed Sep 11 17:45:35 2019 -0400

    *: remove the exfiltrator
    
    Now that we have cross-process channels with the `comm` crate, we no
    longer need a goofy RPC layer that uses HTTP. Hook everything up with
    channels instead.
    
    One other nice side effect of this change is it's easy to make the
    coordinator reponsible for sorting peek results. The pgwire module now
    expects any rows to be provided in one shot via a channel, rather than
    expecting N results, one from each of the Timely workers.

commit 5327cc46bfef3729f8b8f2dadfba62a1693443f3
Merge: 0c4209028 5d654b681
Author: Nikhil Benesch <nikhil.benesch@gmail.com>
Date:   Fri Sep 13 14:12:50 2019 -0400

    Merge pull request #495 from benesch/comm-unix
    
    comm: run local switchboards over Unix sockets

commit 47cd6e91e53d875480c3781fb2f15a763045b7fd
Author: Nikhil Benesch <nikhil.benesch@gmail.com>
Date:   Fri Sep 13 03:26:44 2019 -0400

    sql: support subqueries in table position
    
    These are easy, because they can't be correlated unless LATERAL is
    specified. (Supporting LATERAL queries is left to another patch.)

commit 0c4209028904ec569d6d8339eb134acba5c924f1
Merge: 4ad4731cd 6bf3e9c41
Author: Jamie Brandon <jamie@scattered-thoughts.net>
Date:   Fri Sep 13 19:07:59 2019 +0100

    Merge pull request #503 from jamii/slt-bugfix
    
    Fix some bugs in the slt driver

commit 6bf3e9c4157d4cba1f06dc18d15225c3e27b3a65
Author: Jamie Brandon <jamie@scattered-thoughts.net>
Date:   Fri Sep 13 18:40:22 2019 +0100

    Trim lines in cockroach mode, because they like to line numbers up nicely

commit 3afa27ab50171132b7cdbc102d275f5ff3860888
Author: Jamie Brandon <jamie@scattered-thoughts.net>
Date:   Fri Sep 13 18:23:35 2019 +0100

    Be sure to always read results regardless of the outcome.
    
    Otherwise we get out of sync in later tests.

commit b453b484999908844c78bb225097e015d20a534a
Author: Jamie Brandon <jamie@scattered-thoughts.net>
Date:   Fri Sep 13 14:41:29 2019 +0100

    Print all failures in slt

commit 4ad4731cdd49169559f084420248c820a287a1df
Merge: 415064d8e 3123134bf
Author: Nikhil Benesch <nikhil.benesch@gmail.com>
Date:   Fri Sep 13 13:34:06 2019 -0400

    Merge pull request #501 from benesch/subquery-in
    
    sql: support [NOT] IN (<subquery>)

commit 5d654b681b65aef1951751b5d05aab228d61a705
Author: Nikhil Benesch <nikhil.benesch@gmail.com>
Date:   Thu Sep 12 16:38:33 2019 -0400

    comm: use well-typed addresses, rather than strings
    
    This also fixes the defect where a MPSC transmitter could be connected
    with the wrong type. E.g., after the last commit, it was possible to say
    
        let switchboard = Switchboard::new::<TcpStream>();
        let (tx, rx) = switchboard.mpsc();
        tx.connect::<UnixStream>();
    
    which would then crash loudly because a TCP socket address is not a
    valid Unix socket address. The transmitter now carries with it the type
    information about what type of connection it is supposed to establish,
    to avoid such mistakes.
    
    The cost is a bit of flexibility, as it is no longer possible for
    someone else to show up with an implementation of `protocol::Connection`
    and have the comm library seamlessly work. That's fine, though, since we
    control the comm library and can just add a first-party trait
    implementation and `protocol::Addr` variant.

commit 3123134bfddcfb99867ccd3d01c256e16aac14ae
Author: Nikhil Benesch <nikhil.benesch@gmail.com>
Date:   Fri Sep 13 13:08:59 2019 -0400

    sql: support [NOT] IN (<subquery>)
    
    Turns out @jamii basically added support for this when he added support
    for ANY and ALL.

commit 0ebf9fe04669c00995840fb0d600d8903def814a
Author: Nikhil Benesch <nikhil.benesch@gmail.com>
Date:   Fri Sep 13 13:01:45 2019 -0400

    sql: extract a helper for planning ANY and ALL queries
    
    This is just code movement. This helper function will be used in
    planning IN queries momentarily.

commit 415064d8eeae8d3d435a18e9c15bbb8baf229195
Merge: b8f6e7b04 333c96bc7
Author: Frank McSherry <fmcsherry@me.com>
Date:   Fri Sep 13 12:50:11 2019 -0400

    Merge pull request #499 from frankmcsherry/topk
    
    TopK breaks ties

commit b8f6e7b047da45dd13a5a5636768656a84b9f327
Merge: 65477aac2 3595c9fbe
Author: Nikhil Benesch <nikhil.benesch@gmail.com>
Date:   Fri Sep 13 10:24:34 2019 -0400

    Merge pull request #496 from benesch/order-by-ordinal
    
    sql: support ordinal column refs in ORDER BY

commit 333c96bc7405867c38fc880ba7ba32a85c94beed
Author: Frank McSherry <fmcsherry@me.com>
Date:   Fri Sep 13 10:19:24 2019 -0400

    add method to RelationExpr

commit e5ef4801877e700125e1d4142d46e7d30103d2c1
Author: Frank McSherry <fmcsherry@me.com>
Date:   Fri Sep 13 10:13:01 2019 -0400

    TopK breaks ties

commit 2506ae06e350c3623fd0feea4aff793d4a9a7d45
Author: dependabot-preview[bot] <27856297+dependabot-preview[bot]@users.noreply.github.com>
Date:   Fri Sep 13 13:48:37 2019 +0000

    build(deps): bump regex from 1.2.1 to 1.3.1
    
    Bumps [regex](https://github.com/rust-lang/regex) from 1.2.1 to 1.3.1.
    - [Release notes](https://github.com/rust-lang/regex/releases)
    - [Changelog](https://github.com/rust-lang/regex/blob/master/CHANGELOG.md)
    - [Commits](https://github.com/rust-lang/regex/compare/1.2.1...1.3.1)
    
    Signed-off-by: dependabot-preview[bot] <support@dependabot.com>

commit 65477aac2d979b2c11e054d9a2f1a4aea2fd09cd
Merge: ac782371a 04aaf8e96
Author: Jamie Brandon <jamie@scattered-thoughts.net>
Date:   Fri Sep 13 14:46:22 2019 +0100

    Merge pull request #497 from jamii/any
    
    Implement ANY/ALL

commit 04aaf8e96ea0908b0ca986915edcecfb7e9e48b7
Author: Jamie Brandon <jamie@scattered-thoughts.net>
Date:   Fri Sep 13 13:43:48 2019 +0100

    Remove pointless projects

commit ebfcd603f76b5f71215358872daddbec854d2421
Author: Jamie Brandon <jamie@scattered-thoughts.net>
Date:   Fri Sep 13 12:55:42 2019 +0100

    Every time...

commit 8e7fa16fd8c1e895c1667e94281af6f3ffc13879
Author: Jamie Brandon <jamie@scattered-thoughts.net>
Date:   Fri Sep 13 12:51:55 2019 +0100

    Support mtrlz-shell in default.nix

commit 855752ccbbdcb18c00f3966e23632b13e40a9b6b
Author: Jamie Brandon <jamie@scattered-thoughts.net>
Date:   Fri Sep 13 12:51:35 2019 +0100

    Bugfix - projection for decorrelating joins was sometimes wrong

commit bbd9582d5be14e0b827bc40f6c8b723a8dc116cf
Author: Jamie Brandon <jamie@scattered-thoughts.net>
Date:   Fri Sep 13 12:50:59 2019 +0100

    Bugfix - InlineLet didn't run inside Let.value

commit 7041f3529518133b0b41199d70f405de898efddb
Author: Jamie Brandon <jamie@scattered-thoughts.net>
Date:   Fri Sep 13 12:50:48 2019 +0100

    Implement ANY/ALL

commit d4d8b7a7ebb9ce8aba4712441d1b2760df329464
Author: Nikhil Benesch <nikhil.benesch@gmail.com>
Date:   Fri Sep 13 03:26:05 2019 -0400

    sql: name columns from VALUES expressions
    
    Postgres and Cockroach both name the columns in a VALUES expression like
    "column1", "column2", and so on.

commit 3595c9fbe23ef2a7fbec1b10a78a2353df9dbb48
Author: Nikhil Benesch <nikhil.benesch@gmail.com>
Date:   Fri Sep 13 02:40:07 2019 -0400

    sql: support ordinal column refs in ORDER BY
    
    SQL weirdly supports using ordinal column references in ORDER BY, like
    
        SELECT a, b FROM x ORDER BY 2, 1
    
    where the 1 and 2 refer to the columns named a and b, respectively. The
    sqllogictests make extensive use of this notation. Adding support for
    this notation is quite easy and should yield a massive increase in our
    sqllogictest successes, now that most of Jamie's subquery work is in.

commit e3c00f9b8582da2da0764d4a505baa8952c21b87
Author: Nikhil Benesch <nikhil.benesch@gmail.com>
Date:   Fri Sep 13 02:00:13 2019 -0400

    ore: add boxed extensions to Stream and Sink
    
    We already have the equivalent method for Future.

commit ac782371aad2c9e4441117273811445c8df86e6d
Merge: b43d9e66c 0938596cf
Author: JLDLaughlin <JLDLaughlin@users.noreply.github.com>
Date:   Thu Sep 12 15:50:25 2019 -0400

    Merge pull request #485 from MaterializeInc/store_keyed_arrangements_in_context
    
    Store keyed arrangements in Context

commit b43d9e66cdad4477915c04797a75eeda0369b81f
Merge: a1bdafc9b d1e8b0abd
Author: Frank McSherry <fmcsherry@me.com>
Date:   Thu Sep 12 15:37:46 2019 -0400

    Merge pull request #494 from frankmcsherry/unbound_gets
    
    Correct uses_inner.

commit 71d72ce029c46d08e1d206118ac64181d2e3c049
Author: Nikhil Benesch <nikhil.benesch@gmail.com>
Date:   Thu Sep 12 14:54:29 2019 -0400

    comm: run local switchboards over Unix sockets
    
    Our SQL logic tests generate so many PEEKs that they exhaust the
    available outgoing ports, once PEEK traffic is switched to use comm
    channels (#487). We will eventually need to use TCP connection pooling
    to avoid this problem, since it could happen in production too, but for
    now we can just use Unix sockets when traffic is entirely local, like it
    is for SQL logic tests.
    
    This is a useful feature in its own right--it's really dumb to open a
    TCP connection to localhost, because TCP has a lot of overhead.

commit d1e8b0abd9b5e81587fd8ec9508ffe1a7ee8aa18
Author: Frank McSherry <fmcsherry@me.com>
Date:   Thu Sep 12 14:44:56 2019 -0400

    note future improvements

commit 88485fa23c94b3321f7de28d97759a592995d100
Author: Frank McSherry <fmcsherry@me.com>
Date:   Thu Sep 12 14:40:27 2019 -0400

    correct uses_inner. fixes #474

commit a1bdafc9b23399c4a66b6c59f711163ea63f6cf4
Author: Brennan Vincent <brennan@materialize.io>
Date:   Thu Sep 12 13:53:17 2019 -0400

    Put Regex behind a box in order to save memory (#491)
    
    * Put Regex behind a box in order to save memory, since its size is much bigger than every other datum variant
    
    * format

commit 0938596cfce28929e8db93593b6a3a68c84e813b
Author: JLDLaughlin <jessica@materialize.io>
Date:   Thu Sep 12 13:37:17 2019 -0400

    gets rid of confusing collection line

commit d645f88a0e20ed5e0e720d8d1f0935cccc121319
Merge: f655f7411 56f91f875
Author: Nikhil Benesch <nikhil.benesch@gmail.com>
Date:   Thu Sep 12 13:35:36 2019 -0400

    Merge pull request #476 from MaterializeInc/sqlparser-upgrade
    
    sql: upgrade to latest sqlparser

commit f655f741101b9289d8c50d40e6c6f1fb1d38c83a
Merge: 9d44a8ea5 42de34022
Author: Nikhil Benesch <nikhil.benesch@gmail.com>
Date:   Thu Sep 12 13:35:22 2019 -0400

    Merge pull request #492 from benesch/unused-crates
    
    *: prune unused crates

commit 9d44a8ea52b053cc6613bffe6558d1b2fb8b25ba
Merge: 8714a4890 de0afdf96
Author: Jamie Brandon <jamie@scattered-thoughts.net>
Date:   Thu Sep 12 16:35:47 2019 +0100

    Merge pull request #490 from jamii/subselect
    
    Implement subselect

commit 42de34022fe4bd48562113de3187add09627feed
Author: Nikhil Benesch <nikhil.benesch@gmail.com>
Date:   Thu Sep 12 11:32:22 2019 -0400

    *: prune unused crates
    
    Our various Cargo.tomls had accumulated several unused crate
    dependencies. Clean those up.
    
    Discovered with cargo-udeps [0].
    
    [0]: https://github.com/est31/cargo-udeps

commit de0afdf960582da240eea540e4d044d7ffacf055
Author: Jamie Brandon <jamie@scattered-thoughts.net>
Date:   Thu Sep 12 15:34:23 2019 +0100

    Clippy

commit ee7c9acf7b04b572e92f03047d71c4362a2fb42d
Author: Jamie Brandon <jamie@scattered-thoughts.net>
Date:   Thu Sep 12 15:26:09 2019 +0100

    Implement subselect

commit 8714a4890619587b1d8fe2b5c53b37db93d7f7cf
Merge: 37d59b53d 466897283
Author: Jamie Brandon <jamie@scattered-thoughts.net>
Date:   Thu Sep 12 14:06:24 2019 +0100

    Merge pull request #468 from MaterializeInc/decorrelation
    
    Decorrelation

commit 466897283e41213a010acb850c164d49b3493f51
Author: Jamie Brandon <jamie@scattered-thoughts.net>
Date:   Thu Sep 12 13:40:46 2019 +0100

    Many more docs

commit 2b14bd6f9654a878def666ded55922f59e8e8228
Author: Jamie Brandon <jamie@scattered-thoughts.net>
Date:   Thu Sep 12 13:10:04 2019 +0100

    Bugfix - actually get correct projections for outer joins

commit 3a369c7d13ddff9c09c10ff45d3a16f30c7435bb
Author: Jamie Brandon <jamie@scattered-thoughts.net>
Date:   Thu Sep 12 13:01:15 2019 +0100

    Move expr::correlated to sql::expr

commit fc6b19e38d2cb2b8eea668164eeebbea90abfac9
Author: Jamie Brandon <jamie@scattered-thoughts.net>
Date:   Thu Sep 12 12:26:22 2019 +0100

    Bugfix - using lookup directly in full outer join causes duplicate rows

commit 44d6e4f6131947375cb22242c0725471e6d794e0
Author: Jamie Brandon <jamie@scattered-thoughts.net>
Date:   Thu Sep 12 12:05:29 2019 +0100

    Various minor changes

commit ef5e3554b9fb2d4176bc170e1a310d6fa7ca6d91
Author: Jamie Brandon <jamie@scattered-thoughts.net>
Date:   Thu Sep 12 11:48:59 2019 +0100

    Add assert to lookup

commit 086d53282f10c49803f8657285ed58d9ee1fedc8
Author: Jamie Brandon <jamie@scattered-thoughts.net>
Date:   Thu Sep 12 11:46:13 2019 +0100

    Simplify outer joins

commit 0b33f6d48c39004422e995c47b96b2718b5d764c
Merge: 68fc4150f 37d59b53d
Author: Jamie Brandon <jamie@scattered-thoughts.net>
Date:   Thu Sep 12 11:30:58 2019 +0100

    Merge branch 'master' into decorrelation

commit dff98f7b060bf4951534579566a961b4183a7502
Author: JLDLaughlin <jessica@materialize.io>
Date:   Wed Sep 11 16:58:04 2019 -0400

    WIP: store keyed arrangements in Context

commit 37d59b53d37c2b86130c0b5debe403291abace3f
Merge: 55f979031 e0396c81e
Author: Nikhil Benesch <nikhil.benesch@gmail.com>
Date:   Wed Sep 11 15:53:45 2019 -0400

    Merge pull request #482 from benesch/mod-fixes
    
    sql: improve support for modulus

commit e0396c81e209aa8cdafd91879e6eced6375993a3
Author: Nikhil Benesch <nikhil.benesch@gmail.com>
Date:   Wed Sep 11 15:29:50 2019 -0400

    sql: improve support for modulus
    
    Add modulus to the list of arithmetic operators that should try to
    coalesce its arguments, and also add support for decimal modulus.
    
    Fix #478.

commit 68fc4150f9375f1310dba6ea4c0c3104da415b32
Author: Jamie Brandon <jamie@scattered-thoughts.net>
Date:   Wed Sep 11 17:52:44 2019 +0100

    Bugfix - condition for `OUTER NATURAL/USING` needs to live in the join
    itself or we get subtle bugs around joins on nulls

commit 37320b7928716c87d4720b9b0c72b9754ea62d39
Author: Jamie Brandon <jamie@scattered-thoughts.net>
Date:   Wed Sep 11 17:11:35 2019 +0100

    Add a doc to Exists

commit 4d0421b2e7dfc3166f04f4768ff4a8efe3df8f7b
Author: Jamie Brandon <jamie@scattered-thoughts.net>
Date:   Wed Sep 11 17:10:19 2019 +0100

    Use take instead of clone in a few more places

commit 594eb915dd941f85036effb51956a02bff247659
Author: Jamie Brandon <jamie@scattered-thoughts.net>
Date:   Wed Sep 11 17:05:18 2019 +0100

    Use a JoinKind enum

commit 56f91f8750af62e4b0fc94ba8df87047751baa6a
Author: Nikhil Benesch <nikhil.benesch@gmail.com>
Date:   Wed Sep 11 12:05:02 2019 -0400

    fuzz: remove errant Cargo.lock

commit 2905995b697662992e32ccdf4587ac21c47ec3c6
Author: Nikhil Benesch <nikhil.benesch@gmail.com>
Date:   Wed Sep 11 11:59:28 2019 -0400

    sql: upgrade to latest sqlparser
    
    This version of sqlparser syncs with the upstream sqlparser in that
    numeric literals are no longer parsed. This is nice because we no longer
    need to depend on bigdecimal or num-bigint, but we do need to roll our
    own number parsing now.

commit 55f979031ba45d41f90f13445157d3ebe41ba391
Merge: b4b2d47fe 19f05de7f
Author: Nikhil Benesch <nikhil.benesch@gmail.com>
Date:   Wed Sep 11 11:52:01 2019 -0400

    Merge pull request #461 from MaterializeInc/dependabot/cargo/serde-1.0.100
    
    build(deps): bump serde from 1.0.99 to 1.0.100

commit c03f289a3a617551beb4d166e7d666ba33562b35
Author: Jamie Brandon <jamie@scattered-thoughts.net>
Date:   Wed Sep 11 16:45:46 2019 +0100

    Document `take`

commit 90c767d57e1ccd30e9f46ae5ca848ebcc1076b72
Author: Jamie Brandon <jamie@scattered-thoughts.net>
Date:   Wed Sep 11 16:45:37 2019 +0100

    Pin uuid crate

commit 19f05de7fa4b2db3768831a349ef594ebb3b663d
Author: dependabot-preview[bot] <27856297+dependabot-preview[bot]@users.noreply.github.com>
Date:   Wed Sep 11 15:16:15 2019 +0000

    build(deps): bump serde from 1.0.99 to 1.0.100
    
    Bumps [serde](https://github.com/serde-rs/serde) from 1.0.99 to 1.0.100.
    - [Release notes](https://github.com/serde-rs/serde/releases)
    - [Commits](https://github.com/serde-rs/serde/compare/v1.0.99...v1.0.100)
    
    Signed-off-by: dependabot-preview[bot] <support@dependabot.com>

commit b4b2d47fec57b76ebf129789bf4c4690081de604
Merge: 1192b20a5 e8ea3e76f
Author: Nikhil Benesch <nikhil.benesch@gmail.com>
Date:   Wed Sep 11 11:14:07 2019 -0400

    Merge pull request #458 from MaterializeInc/dependabot/cargo/regex-syntax-0.6.12
    
    build(deps): bump regex-syntax from 0.6.11 to 0.6.12

commit dbcda89bd833e306145c97fffcb63a44008790d3
Author: Jamie Brandon <jamie@scattered-thoughts.net>
Date:   Wed Sep 11 15:17:27 2019 +0100

    Bugfix - EXISTS should only return true once per outer row

commit 1192b20a507f5bea8ee314a629ff610803e1a04e
Merge: 51364eefc 851d784e8
Author: Nikhil Benesch <nikhil.benesch@gmail.com>
Date:   Wed Sep 11 08:54:23 2019 -0400

    Merge pull request #473 from benesch/fix-explain-plan
    
    mtrlz/queue: fix EXPLAIN PLAN

commit d449afdfd104dcb43d10af9d472a3fca2a06a67e
Author: Jamie Brandon <jamie@scattered-thoughts.net>
Date:   Wed Sep 11 10:57:24 2019 +0100

    Make sure optimization happens before we determine a timestamp

commit 02820612f84b85909e0488bb42b23c2f594ef1e3
Merge: 985570aaa 51364eefc
Author: Jamie Brandon <jamie@scattered-thoughts.net>
Date:   Wed Sep 11 10:46:59 2019 +0100

    Merge branch 'master' into decorrelation

commit 851d784e82e6ebfedd057238d898f7c4fc092a78
Author: Nikhil Benesch <nikhil.benesch@gmail.com>
Date:   Tue Sep 10 23:42:55 2019 -0400

    mtrlz/queue: fix EXPLAIN PLAN
    
    I appear to have broken this in the coordinator refactor. EXPLAIN PLAN
    no longer needs to wait for the optimizer, as the optimizer and the
    queue are now the same module and so the results can be returned
    directly.

commit 51364eefc06d764a7f728e6ce59318fc3ea5d6f0
Merge: 0b58a3da2 868b6e2a4
Author: Nikhil Benesch <nikhil.benesch@gmail.com>
Date:   Tue Sep 10 20:52:35 2019 -0400

    Merge pull request #469 from MaterializeInc/comm-mpsc-select
    
    comm: interleave messages from multiple MPSC senders

commit 0b58a3da2cc3d89687210c1fd1ecb787f71bfd9c
Merge: 71bbf5852 aec8f29ce
Author: Nikhil Benesch <nikhil.benesch@gmail.com>
Date:   Tue Sep 10 20:40:16 2019 -0400

    Merge pull request #465 from benesch/coordinator-split
    
    dataflow: extract coordinator into materialize::queue

commit 868b6e2a4d80f3f1947a6981802fe9b357b02825
Author: Nikhil Benesch <nikhil.benesch@gmail.com>
Date:   Tue Sep 10 14:47:46 2019 -0400

    comm: interleave messages from multiple MPSC senders
    
    Fix a bug in the implementation of MPSC senders in which messages from
    producers were presented in a total order, i.e., messages from the
    second producer would only be presented after the first producer was
    closed. Now messages from multiple producers are properly interleaved.
    
    This required the addition of a new `SelectFlatten` stream combinator,
    since nothing like this exists in the futures library itself.

commit aec8f29ceaf057b16d05f7383523c0191d4f091a
Author: Nikhil Benesch <nikhil.benesch@gmail.com>
Date:   Tue Sep 10 00:11:16 2019 -0400

    queue: merge coordinator and queue together
    
    This is the final commit in the series of commits to split the
    coordinator off onto its own thread.
    
    This commit merges the queue thread and the coordinator thread. The
    architecture diagram is now roughly in its final form, as there is one
    object, the queue/coordinator, that has a global view of the state of
    the world, and is the authority on what objects exist, both at the SQL
    layer and at the dataflow layer.
    
    Additional cleanups will follow, but in a different patch series.

commit 71bbf5852ff889fcd5c98478e00f001580dd43d6
Merge: eb2cedb58 76caad18d
Author: JLDLaughlin <JLDLaughlin@users.noreply.github.com>
Date:   Tue Sep 10 16:56:32 2019 -0400

    Merge pull request #464 from MaterializeInc/arrange_by_keys
    
    Create arrangement by primary key when creating dataflows

commit 76caad18dd1184d2cd5b4ea250ade1da0adaf580
Author: JLDLaughlin <jessica@materialize.io>
Date:   Tue Sep 10 16:36:42 2019 -0400

    index using `usize` not `&usize`

commit eb2cedb5852f3f04ac73d2d66d50ddff45a0add9
Merge: 77bf2ad6c 7ae6b3687
Author: Frank McSherry <fmcsherry@me.com>
Date:   Tue Sep 10 16:29:31 2019 -0400

    Merge pull request #470 from frankmcsherry/logging_keys
    
    Logging keys

commit 110a2c7cf31f93aff00e955550da147a63b95f9a
Author: JLDLaughlin <jessica@materialize.io>
Date:   Tue Sep 10 16:28:24 2019 -0400

    loop over stream faster/use less memory

commit 2eeab11536dd422983a4348494dae7f81dfd2ea1
Author: Nikhil Benesch <nikhil.benesch@gmail.com>
Date:   Mon Sep 9 15:26:17 2019 -0400

    dataflow: move coordinator into materialize::queue
    
    This is the fifth commit in a long series of commits to split the
    coordinator off onto its own thread.
    
    As promised in the last commit, this commit moves the coordinator out
    of the dataflow crate and into the queue module of the materialize
    crate. The coordinator and queue will be merged into one entity in the
    next commit; this commit is almost entirely code movement to make
    things easier to review.

commit 3bfe31ee362aca71aea26c1cbf7bb349313ecd6c
Author: Nikhil Benesch <nikhil.benesch@gmail.com>
Date:   Mon Sep 9 15:01:43 2019 -0400

    dataflow: prepare to move coordinator into new package
    
    This is the fourth commit in a long series of commits to split the
    coordinator off onto its own thread.
    
    In the next commit, the coordinator will be moved to the materialized
    crate. In preparation for this move, this commit moves several types
    that were declared in the dataflow::coordinator module to the
    dataflow::server module, since these types will continue to belong in
    the dataflow crate even when the coordinator moves out.

commit c9fec62bff2a781e10e9c91cf777778a959c9935
Author: Nikhil Benesch <nikhil.benesch@gmail.com>
Date:   Mon Sep 9 14:44:34 2019 -0400

    dataflow: move coordinator to its own thread
    
    This is the third commit in what is becoming a long series of commits to
    split the coordinator off onto its own thread.
    
    While this commit technically accomplishes the stated goal, the task is
    far from complete. The code changes here are the minimum possible, and
    one massive defect is that the coordinator spins at 100% CPU. This will
    be addressed in a follow-up commit.

commit 843b043d3671675af74e756b716a6444e09d168b
Author: Nikhil Benesch <nikhil.benesch@gmail.com>
Date:   Mon Sep 9 11:22:45 2019 -0400

    dataflow: make coordinator responsible for installing log sources
    
    This is the second commit in what will be a long series to split the
    coordinator off onto its own thread.
    
    Worker 0 was previously responsible for installing logging sources
    into the coordinator, but the coordinator is just as capable of
    doing so itself from the logging config object.

commit 640619fc129ae6526fe17ff2d0f0314f9e6b7bb9
Author: Nikhil Benesch <nikhil.benesch@gmail.com>
Date:   Thu Sep 5 17:55:40 2019 -0400

    dataflow: teach coordinator to use broadcast channels
    
    This is the first commit in what will be a long series to split the
    coordinator off onto its own thread.

commit 7ae6b3687302da9edca46601082545e0dab7830c
Author: Frank McSherry <fmcsherry@me.com>
Date:   Tue Sep 10 15:11:58 2019 -0400

    cargo fmt

commit 6473d2b90b07680bae94a838c6123765f3db1633
Author: Frank McSherry <fmcsherry@me.com>
Date:   Tue Sep 10 15:04:45 2019 -0400

    add primary key information for logging collections

commit 77bf2ad6cdc754bec3c57ba0935a51aabb80a1b8
Merge: 1bbfc2606 868789b69
Author: Nikhil Benesch <nikhil.benesch@gmail.com>
Date:   Tue Sep 10 14:56:19 2019 -0400

    Merge pull request #459 from MaterializeInc/dependabot/cargo/hyper-0.12.34
    
    build(deps): bump hyper from 0.12.33 to 0.12.34

commit 1bbfc2606fa118f88ae3d252687378153a69f221
Merge: 7272bbe15 02198c27d
Author: Nikhil Benesch <nikhil.benesch@gmail.com>
Date:   Tue Sep 10 14:56:01 2019 -0400

    Merge pull request #456 from MaterializeInc/dependabot/cargo/parse_duration-1.0.3
    
    build(deps): bump parse_duration from 1.0.2 to 1.0.3

commit 7272bbe1599ae6b86d540d05865747a72bdf7b31
Merge: 577f65bb5 738a9ddaf
Author: Nikhil Benesch <nikhil.benesch@gmail.com>
Date:   Tue Sep 10 14:55:42 2019 -0400

    Merge pull request #457 from MaterializeInc/dependabot/cargo/backtrace-0.3.37
    
    build(deps): bump backtrace from 0.3.35 to 0.3.37

commit 577f65bb5d88d58b5765aa4a07428f62d3c113e2
Merge: ea6c1cec2 c4e614668
Author: Nikhil Benesch <nikhil.benesch@gmail.com>
Date:   Tue Sep 10 14:51:09 2019 -0400

    Merge pull request #462 from MaterializeInc/dependabot/cargo/unicase-2.5.1
    
    build(deps): bump unicase from 2.4.0 to 2.5.1

commit 49df2152522d66b160d182c720447f286c82b383
Author: JLDLaughlin <jessica@materialize.io>
Date:   Tue Sep 10 14:42:12 2019 -0400

    arrange by self and by key

commit 985570aaaf77ea16d7293cd9577f9253f7a71fcc
Author: Jamie Brandon <jamie@scattered-thoughts.net>
Date:   Tue Sep 10 19:40:53 2019 +0100

    Clippy

commit e25534fd8588071078ad81cdf317ab079879f5c1
Author: JLDLaughlin <jessica@materialize.io>
Date:   Tue Sep 10 14:40:37 2019 -0400

    Revert "arrange by self and by key"
    
    This reverts commit 34b49f3828cef9e027482fb34121b33932fa58e7.

commit 34b49f3828cef9e027482fb34121b33932fa58e7
Author: JLDLaughlin <jessica@materialize.io>
Date:   Tue Sep 10 14:39:52 2019 -0400

    arrange by self and by key

commit ea6c1cec2a0c82af32369ff8c48e5b04e5601273
Merge: 81ceefd02 ee0b8a349
Author: Brandon W Maister <bwm@materialize.io>
Date:   Tue Sep 10 14:38:55 2019 -0400

    Merge pull request #467 from quodlibetor/log_dependencies
    
    Log dataflow dependencies

commit a8d49fb55db49016137d99b2dcf6e5d9d82c0c3f
Author: Jamie Brandon <jamie@scattered-thoughts.net>
Date:   Tue Sep 10 19:36:49 2019 +0100

    Reorder impls

commit d315dab1258a7b3efeb9006032adb6596b0a58a6
Author: Jamie Brandon <jamie@scattered-thoughts.net>
Date:   Tue Sep 10 19:34:03 2019 +0100

    Break branch into multiple operations. Clarify invariants of applied_to.

commit daa1d5290fcac6ed61b553bc50a7dfd200b86b96
Author: Jamie Brandon <jamie@scattered-thoughts.net>
Date:   Tue Sep 10 18:37:15 2019 +0100

    Increase timeout for full slt

commit ee0b8a349e0e842110fa6c62c3c59d21a3903962
Author: Brandon W Maister <bwm@materialize.io>
Date:   Tue Sep 10 11:27:17 2019 -0400

    logging: Remove dataflow sources when their dependents are dropped

commit 1cb4452fea14ba8f2c80cfeb560ebc26aad61f27
Author: Frank McSherry <fmcsherry@me.com>
Date:   Mon Sep 9 13:55:31 2019 -0400

    Add DataflowDependency logs to track relationships between dataflows
    
    They are logged when we create a dataflow, and importantly will allow us to
    reconstruct the lag from a source to a dataflow by way of logs_frontiers.

commit 24bef25dbb88c2753698c6e95ceb8c99d2e2be3a
Author: Jamie Brandon <jamie@scattered-thoughts.net>
Date:   Tue Sep 10 16:44:14 2019 +0100

    Clippy

commit d7884f9d6b89039e4b2323674b4748ecd74086ba
Author: Jamie Brandon <jamie@scattered-thoughts.net>
Date:   Tue Sep 10 16:41:51 2019 +0100

    Clippy

commit f73947bbba114b40dd8ac1f07a50bedaacf30a84
Author: Jamie Brandon <jamie@scattered-thoughts.net>
Date:   Tue Sep 10 16:34:26 2019 +0100

    Support simple subqueries

commit 81ceefd024a90b0ad0c8621d3dc0ff50e13eb95c
Merge: 581df79bc 7fbeaf31f
Author: Brandon W Maister <quodlibetor@gmail.com>
Date:   Tue Sep 10 11:14:44 2019 -0400

    Merge pull request #466 from quodlibetor/less-warnings-better-kafka
    
    Fewer warnings better kafka polling

commit c03bc88319bd0ae2c845f30a752ae11b90574ca3
Author: Jamie Brandon <jamie@scattered-thoughts.net>
Date:   Tue Sep 10 16:08:15 2019 +0100

    Add context to union bails

commit 83362f066ef33d0a4db25f9e92db49c071587410
Author: Jamie Brandon <jamie@scattered-thoughts.net>
Date:   Tue Sep 10 15:57:35 2019 +0100

    Bugfix - project on LEFT OUTER was wrong way around

commit 1fda0c9601a9aeb4cd4c7e45233169cfa5c64628
Merge: ac374b520 581df79bc
Author: Jamie Brandon <jamie@scattered-thoughts.net>
Date:   Tue Sep 10 15:28:59 2019 +0100

    Merge branch 'master' into decorrelation

commit 7fbeaf31f76094d84e411545a7d6868b351d7231
Author: Brandon W Maister <bwm@materialize.io>
Date:   Mon Sep 9 17:59:46 2019 -0400

    kafka: Don't configure a deprecated setting
    
    This setting was generating warnings and all the documentation just says
    "deprecated".

commit 62dab448b1f1a8079cd71fedb01619b7d17c952a
Author: Brandon W Maister <bwm@materialize.io>
Date:   Mon Sep 9 17:24:36 2019 -0400

    kafka: Always poll within the required interval
    
    Kafka requires a that user threads poll the queue in _addition_ to a separate
    heartbeat thread that keeps the cluster aware of the client. The idea [seems to
    be][1] that if a user thread is too overwhelmed to poll occassionally then kafka
    should rebalance things.
    
    Different versions of kafka have the default at different values, but the
    current default is 5 minutes, so we set it to that.
    
    Then, we poll once per minute just to be really sure that we are never evicted.
    
    [1]: https://stackoverflow.com/a/43992308/25616

commit ac374b52065358c795d3f2c84a201798ebb3f657
Author: Jamie Brandon <jamie@scattered-thoughts.net>
Date:   Tue Sep 10 14:39:03 2019 +0100

    Another silly bugfix

commit 6f2c2d2f7e85319762a7ba7f437c12d699c93609
Author: Jamie Brandon <jamie@scattered-thoughts.net>
Date:   Tue Sep 10 14:11:43 2019 +0100

    Silly bugfix

commit a2042695765fb4456aec59454e812ec10c26e172
Author: Jamie Brandon <jamie@scattered-thoughts.net>
Date:   Tue Sep 10 13:47:11 2019 +0100

    More transforms

commit d3822922f0c71aeb8a039330123d15fd730bf565
Author: Jamie Brandon <jamie@scattered-thoughts.net>
Date:   Tue Sep 10 13:33:35 2019 +0100

    Dont make redundant Let

commit e8810a5ff73207942fabbb4bf0288be6f78860a3
Author: Jamie Brandon <jamie@scattered-thoughts.net>
Date:   Tue Sep 10 13:27:36 2019 +0100

    Add a bunch more transforms to get select5 to optimize nicely

commit 17e1bda7cf9515b4268d941c2415c346521d9cac
Author: Brandon W Maister <bwm@materialize.io>
Date:   Mon Sep 9 14:41:41 2019 -0400

    Sort the output of SHOW <OBJECT>

commit e838ddf4b101fd112182c0d8a2d21a05c323bc0d
Author: Frank McSherry <fmcsherry@me.com>
Date:   Mon Sep 9 13:36:09 2019 -0400

    re-order logging to avoid misperceptions

commit 581df79bca04dda9e104a5576e186b4f59ce043b
Merge: ec9039954 adf866c38
Author: Frank McSherry <fmcsherry@me.com>
Date:   Mon Sep 9 13:33:38 2019 -0400

    Merge pull request #446 from frankmcsherry/arrangement_sharing
    
    Arrangement sharing

commit 3dcea71c983b1e20e8c5f0fd9c03830e7a5343b2
Merge: 2ff4c50e9 ec9039954
Author: JLDLaughlin <JLDLaughlin@users.noreply.github.com>
Date:   Mon Sep 9 13:15:51 2019 -0400

    Merge branch 'master' into arrange_by_keys

commit 2ff4c50e93a1f48047a568573329bfdb46107aee
Author: JLDLaughlin <jessica@materialize.io>
Date:   Mon Sep 9 13:13:49 2019 -0400

    store by_keys arrangement

commit adf866c38c383c8a1c7fab194aeafe27b798afa4
Author: Frank McSherry <fmcsherry@me.com>
Date:   Fri Sep 6 18:23:27 2019 -0400

    cargo fmt

commit aa79419ca6b9be97bf1c68314f7ed8d89729bf2e
Author: Frank McSherry <fmcsherry@me.com>
Date:   Fri Sep 6 18:22:36 2019 -0400

    surface arrangement sharing

commit d6edec62952f8570acd56feb08412f9d9aada88a
Author: Jamie Brandon <jamie@scattered-thoughts.net>
Date:   Mon Sep 9 17:57:37 2019 +0100

    No longer need an explicit node for Branch

commit a5daef0cbb0a2e19de28103d7746e52f4d40cacf
Author: Jamie Brandon <jamie@scattered-thoughts.net>
Date:   Mon Sep 9 17:21:25 2019 +0100

    Add a transform to inline pointless Let

commit bcf6b45b57475f810596b0fdb85f991fb72670be
Author: Jamie Brandon <jamie@scattered-thoughts.net>
Date:   Mon Sep 9 16:14:54 2019 +0100

    Use ColumnRef instead of isize

commit c4e614668c9f0b52eb02923e29e8dcd03b33e411
Author: dependabot-preview[bot] <27856297+dependabot-preview[bot]@users.noreply.github.com>
Date:   Mon Sep 9 15:11:15 2019 +0000

    build(deps): bump unicase from 2.4.0 to 2.5.1
    
    Bumps [unicase](https://github.com/seanmonstar/unicase) from 2.4.0 to 2.5.1.
    - [Release notes](https://github.com/seanmonstar/unicase/releases)
    - [Commits](https://github.com/seanmonstar/unicase/compare/v2.4.0...v2.5.1)
    
    Signed-off-by: dependabot-preview[bot] <support@dependabot.com>

commit 868789b69c76f56ac265c2af87794234798997a4
Author: dependabot-preview[bot] <27856297+dependabot-preview[bot]@users.noreply.github.com>
Date:   Mon Sep 9 15:10:04 2019 +0000

    build(deps): bump hyper from 0.12.33 to 0.12.34
    
    Bumps [hyper](https://github.com/hyperium/hyper) from 0.12.33 to 0.12.34.
    - [Release notes](https://github.com/hyperium/hyper/releases)
    - [Changelog](https://github.com/hyperium/hyper/blob/v0.12.34/CHANGELOG.md)
    - [Commits](https://github.com/hyperium/hyper/compare/v0.12.33...v0.12.34)
    
    Signed-off-by: dependabot-preview[bot] <support@dependabot.com>

commit e8ea3e76fd91bbb9953bb6e24277d67678dfeeca
Author: dependabot-preview[bot] <27856297+dependabot-preview[bot]@users.noreply.github.com>
Date:   Mon Sep 9 15:09:41 2019 +0000

    build(deps): bump regex-syntax from 0.6.11 to 0.6.12
    
    Bumps [regex-syntax](https://github.com/rust-lang/regex) from 0.6.11 to 0.6.12.
    - [Release notes](https://github.com/rust-lang/regex/releases)
    - [Changelog](https://github.com/rust-lang/regex/blob/master/CHANGELOG.md)
    - [Commits](https://github.com/rust-lang/regex/compare/regex-syntax-0.6.11...regex-syntax-0.6.12)
    
    Signed-off-by: dependabot-preview[bot] <support@dependabot.com>

commit 738a9ddafbe46f2a7f788b4545a901281d4c3d1d
Author: dependabot-preview[bot] <27856297+dependabot-preview[bot]@users.noreply.github.com>
Date:   Mon Sep 9 15:09:15 2019 +0000

    build(deps): bump backtrace from 0.3.35 to 0.3.37
    
    Bumps [backtrace](https://github.com/rust-lang/backtrace-rs) from 0.3.35 to 0.3.37.
    - [Release notes](https://github.com/rust-lang/backtrace-rs/releases)
    - [Commits](https://github.com/rust-lang/backtrace-rs/compare/0.3.35...0.3.37)
    
    Signed-off-by: dependabot-preview[bot] <support@dependabot.com>

commit 02198c27d2969bc573267e94944ee1c97fa3ebb8
Author: dependabot-preview[bot] <27856297+dependabot-preview[bot]@users.noreply.github.com>
Date:   Mon Sep 9 15:08:52 2019 +0000

    build(deps): bump parse_duration from 1.0.2 to 1.0.3
    
    Bumps [parse_duration](https://github.com/zeta12ti/parse_duration) from 1.0.2 to 1.0.3.
    - [Release notes](https://github.com/zeta12ti/parse_duration/releases)
    - [Commits](https://github.com/zeta12ti/parse_duration/compare/v1.0.2...v1.0.3)
    
    Signed-off-by: dependabot-preview[bot] <support@dependabot.com>

commit ec90399547258ad45f26c1f6c9a70caabb96aa51
Merge: 8f72a8ab2 a9baa9858
Author: Nikhil Benesch <nikhil.benesch@gmail.com>
Date:   Mon Sep 9 11:05:25 2019 -0400

    Merge pull request #451 from benesch/testdrive-consistency
    
    test: consistentize testdrive/sqllogictest scripts

commit 8f72a8ab2de5a1a5c44188b952823432073deb10
Merge: 3d9dca116 6f4a331e6
Author: Brandon W Maister <quodlibetor@gmail.com>
Date:   Mon Sep 9 11:02:11 2019 -0400

    Merge pull request #450 from quodlibetor/simplify-version-build
    
    Simplify sha-in-version string code by requiring it

commit d6b1fa1dec8bff738673ceeea6749df4e5c637b3
Author: Jamie Brandon <jamie@scattered-thoughts.net>
Date:   Mon Sep 9 15:46:26 2019 +0100

    More rebase fixes

commit 3d9dca116ca1d832fb9040dfc99acd9a907cb43a
Merge: 05d3d0364 5ea402a12
Author: Nikhil Benesch <nikhil.benesch@gmail.com>
Date:   Mon Sep 9 10:00:18 2019 -0400

    Merge pull request #454 from MaterializeInc/typo-oops
    
    comm: fix inexplicable typo in copyright header

commit 05d3d03648051bde9930a75a88a86f92c1eec3bc
Merge: 377475b18 61b8ca7fa
Author: Nikhil Benesch <nikhil.benesch@gmail.com>
Date:   Mon Sep 9 10:00:06 2019 -0400

    Merge pull request #447 from MaterializeInc/testdrive-highlight
    
    misc/editor/vscode: add testdrive highlighting vscode extension

commit 5ea402a122639957efdd8c511ed2bc5701e262b3
Author: Nikhil Benesch <nikhil.benesch@gmail.com>
Date:   Mon Sep 9 09:41:24 2019 -0400

    comm: fix inexplicable typo in copyright header

commit 377475b1881ef498e7c19561b1c9474139023c34
Merge: 4c5295738 fec07d011
Author: Nikhil Benesch <nikhil.benesch@gmail.com>
Date:   Mon Sep 9 09:29:35 2019 -0400

    Merge pull request #453 from MaterializeInc/timely-mainline
    
    deps: switch back to mainline timely

commit fec07d01131d3551d2e708ca9fb87d09387bd3cb
Author: Nikhil Benesch <nikhil.benesch@gmail.com>
Date:   Sun Sep 8 23:09:08 2019 -0400

    deps: switch back to mainline timely
    
    PR #424 switched us to a Timely branch that exposed more of the
    networking guts, but that PR has been merged
    (TimelyDataflow/timely-dataflow#292), so we're cleared to switch back to
    master.

commit 4c52957389a15aab56b28f946ed1692db9e31742
Merge: 3b754d1a8 470ca70c0
Author: Nikhil Benesch <nikhil.benesch@gmail.com>
Date:   Sun Sep 8 23:05:18 2019 -0400

    Merge pull request #440 from benesch/coordinator-logs
    
    dataflow: don't give coordinator direct access to logger

commit 3b754d1a88d1d03ab0c5e8a67fc6514392259300
Merge: 61692908b f2ef3be44
Author: Nikhil Benesch <nikhil.benesch@gmail.com>
Date:   Sun Sep 8 23:01:43 2019 -0400

    Merge pull request #424 from benesch/comm2
    
    comm: introduce a cross-process communication fabric

commit f2ef3be44de365d4dd955e71e7fc0491f4e06bd6
Author: Nikhil Benesch <nikhil.benesch@gmail.com>
Date:   Thu Sep 5 01:15:31 2019 -0400

    mtrlz/server: wire up switchboard
    
    Begin wiring up the switchboard to actually route traffic. The first
    step is to make the switchboard responsible for making network
    connections on Timely's behalf.

commit 49fe90ac44918781554e920e5ad4ec8510d6890e
Author: Nikhil Benesch <nikhil.benesch@gmail.com>
Date:   Fri Aug 30 01:12:33 2019 -0400

    comm: introduce a cross-process communication fabric
    
    comm provides interprocess channels that look and feel like the standard
    Rust channels in `std::sync::mpsc`. These have two immediate usages:
    
      * allowing the coordinator to live on a separate process/thread from
        the 0th Timely worker but still broadcast an ordered stream of
        messages to all workers
    
      * transmitting results to the pgwire connection without involving
        HTTP
    
    and are additionally expected to be useful when we start building
    active-active replication.

commit a9baa9858e65c628fa868832afa35386f50b0363
Author: Nikhil Benesch <nikhil.benesch@gmail.com>
Date:   Sun Sep 8 13:42:25 2019 -0400

    test: consistentize testdrive/sqllogictest scripts
    
    No functionality changes here; just enforcing a bit more of a consistent
    style.

commit 61b8ca7fa87fcc378c2dfa03380ce5f0063f9320
Author: Nikhil Benesch <nikhil.benesch@gmail.com>
Date:   Fri Sep 6 22:38:14 2019 -0400

    misc/editor/vscode: add testdrive highlighting vscode extension

commit 61692908beb81d43687f5725408063a0ac97caca
Merge: 06ffaff41 5a457f86e
Author: Frank McSherry <fmcsherry@me.com>
Date:   Sun Sep 8 07:43:15 2019 -0400

    Merge pull request #448 from frankmcsherry/keep_alive2
    
    Keep alive2

commit 6f4a331e63c84b382834012a774b42994e46fe0d
Author: Brandon W Maister <bwm@materialize.io>
Date:   Sat Sep 7 13:13:00 2019 -0400

    Simplify sha-in-version string by requiring it

commit 06ffaff410361db6b59ba29636ae988f45e22006
Merge: c11d070fc 0d53baffa
Author: Brandon W Maister <quodlibetor@gmail.com>
Date:   Sat Sep 7 11:55:10 2019 -0400

    Merge pull request #441 from quodlibetor/more-logged-words
    
    Log mz version at startup and kafka ms diffs on error

commit 5a457f86e783206812e4176171851f6477645754
Author: Frank McSherry <fmcsherry@me.com>
Date:   Sat Sep 7 09:23:55 2019 -0400

    cargo fmt

commit 9b9fd6cf9159035271538289e93dcf6ae42a501d
Author: Frank McSherry <fmcsherry@me.com>
Date:   Sat Sep 7 09:21:19 2019 -0400

    remove drop_after_peek

commit 09c4d0b51ef9f91777bacbc1fc150b1e08911941
Author: Frank McSherry <fmcsherry@me.com>
Date:   Sat Sep 7 09:16:18 2019 -0400

    use keepalive tokens

commit c11d070fc069181175e1613419b74a886524e99d
Merge: a6d55b098 24f708c51
Author: Frank McSherry <fmcsherry@me.com>
Date:   Fri Sep 6 21:48:15 2019 -0400

    Merge pull request #445 from benesch/reorder-prepush
    
    pre-push: rearrange so fast things happen first

commit 24f708c51a21dcbeb261a71de32d2008d27072aa
Author: Nikhil Benesch <nikhil.benesch@gmail.com>
Date:   Fri Sep 6 18:05:13 2019 -0400

    pre-push: rearrange so fast things happen first
    
    Most notably, do bin/check before cargo test, so that clippy errors are
    surfaced as early as possible to reduce frustration.
    
    Touches #426.

commit a6d55b0987a492ab0dccbda99d31401d364ac7eb
Merge: ffc1acae9 4a53b0bad
Author: Brandon W Maister <quodlibetor@gmail.com>
Date:   Fri Sep 6 15:44:25 2019 -0400

    Merge pull request #442 from quodlibetor/bump-ex-chbench
    
    Bump chbench docker compose to use latest materialized

commit ffc1acae92ac321a114cef1bdc10992dc0d0d930
Merge: 131d4b71a c141d8901
Author: Brandon W Maister <quodlibetor@gmail.com>
Date:   Fri Sep 6 14:14:11 2019 -0400

    Merge pull request #438 from MaterializeInc/dependabot/cargo/chrono-0.4.9
    
    build(deps): bump chrono from 0.4.6 to 0.4.9

commit 0d53baffa0b89f726f6f4ed96c0abf15164aa219
Author: Brandon W Maister <bwm@materialize.io>
Date:   Fri Sep 6 13:29:13 2019 -0400

    Add the materialized version to the startup message
    
    Generally useful, in particular I wanted to be able to modify the image
    parameter in ex/chbench/docker-compose.yml to just be `unstable-latest`, but
    docker/compose#3574 means that there is no particularly ergonomic way to keep
    the actual image up to date -- it'll just keep using whatever version of
    `unstable-latest` happened to be present when you first ran `docker-compose
    up`, unless you run `docker-compose pull`.
    
    3574: https://github.com/docker/compose/issues/3574

commit 131d4b71a334746596e926bcdb8b19c9059bcac9
Merge: 03b871307 16cd17a3a
Author: Brandon W Maister <quodlibetor@gmail.com>
Date:   Fri Sep 6 14:09:09 2019 -0400

    Merge pull request #388 from MaterializeInc/demo-debug-build
    
    [demo] Add the ability to build/run materialized in debug mode

commit 4a53b0bad0029b8c5e538ccea27813f218bcf963
Author: Brandon W Maister <bwm@materialize.io>
Date:   Fri Sep 6 14:06:18 2019 -0400

    Bump chbench docker compose to use latest materialized

commit c141d8901b335ffe2b94ffc3a04672f4ede0f812
Author: dependabot-preview[bot] <27856297+dependabot-preview[bot]@users.noreply.github.com>
Date:   Fri Sep 6 18:00:51 2019 +0000

    build(deps): bump chrono from 0.4.6 to 0.4.9
    
    Bumps [chrono](https://github.com/chronotope/chrono) from 0.4.6 to 0.4.9.
    - [Release notes](https://github.com/chronotope/chrono/releases)
    - [Changelog](https://github.com/chronotope/chrono/blob/master/CHANGELOG.md)
    - [Commits](https://github.com/chronotope/chrono/compare/v0.4.6...v0.4.9)
    
    Signed-off-by: dependabot-preview[bot] <support@dependabot.com>

commit 03b871307539e876763a7b6c7c547f6324d71998
Merge: 6abf3bdc4 75a63c261
Author: Nikhil Benesch <nikhil.benesch@gmail.com>
Date:   Fri Sep 6 13:58:48 2019 -0400

    Merge pull request #437 from benesch/create-source-err
    
    sql: improve error message when schema registry is missing subject

commit 470ca70c04a56694335c1596f2b2ccd911887143
Author: Nikhil Benesch <nikhil.benesch@gmail.com>
Date:   Fri Sep 6 13:22:51 2019 -0400

    dataflow: don't give coordinator direct access to logger
    
    The coordinator will soon live on a separate thread/process from the
    Timely workers. This means it will be unable to log directly. Instead it
    needs to send a message to the workers, via the sequenced command
    stream, which directs them to log the event.

commit fb5ff49368a48261f97ec2d719dd58be5be788e7
Author: Brandon W Maister <bwm@materialize.io>
Date:   Fri Sep 6 13:05:52 2019 -0400

    Include the millisecond diff in kafka fastforward messages

commit 6abf3bdc43568c452ab7b9d15cf9d601386b105f
Merge: a18aa86cc 2de432cf6
Author: Brandon W Maister <quodlibetor@gmail.com>
Date:   Fri Sep 6 11:49:32 2019 -0400

    Merge pull request #417 from quodlibetor/date-math
    
    Date math with intervals, dates, and timestamps. Fixes #181

commit a18aa86cc2dfe5194926762f2d09459ac55b0449
Merge: a3ec245f8 f3e05ad4d
Author: Brandon W Maister <quodlibetor@gmail.com>
Date:   Fri Sep 6 11:42:02 2019 -0400

    Merge pull request #420 from quodlibetor/verbose-ci
    
    set -x the various ci scripts

commit 75a63c2614d9fcf37ecea61ae187cbd05cc21ee1
Author: Nikhil Benesch <nikhil.benesch@gmail.com>
Date:   Fri Sep 6 01:29:21 2019 -0400

    sql: improve error message when schema registry is missing subject
    
    When CREATE SOURCE names a subject that does not exist in the schema
    registry, produce a more descriptive error message. We used to say
    simply "subject not found"; now we say "fetching schema 'foo' from
    registry: no schemas found for subject".

commit 5e2f874d3da381a851a083c734bf9a11cd89b443
Author: Nikhil Benesch <nikhil.benesch@gmail.com>
Date:   Fri Sep 6 01:13:05 2019 -0400

    testdrive: use new avro schema munging abilities
    
    The upstream Avro library can't handle schemas with user-defined types,
    but our interchange library can. Use it, so that we don't need to write
    the row schema twice.

commit a3ec245f8f1a00b3c10472add558ca2c238e759f
Merge: 565381a96 d40574096
Author: Nikhil Benesch <nikhil.benesch@gmail.com>
Date:   Fri Sep 6 00:56:56 2019 -0400

    Merge pull request #436 from MaterializeInc/slt-upload
    
    ci/slt: fix jq parsing in upload

commit d40574096c2931c9549b072a4662c6a9d6e5aff7
Author: Nikhil Benesch <nikhil.benesch@gmail.com>
Date:   Fri Sep 6 00:35:17 2019 -0400

    ci/slt: fix jq parsing in upload
    
    Apparently jq 1.6 allows you to join arrays of numbers, but jq 1.5,
    which we use in our CI builder image, requires an explicit call to
    tostring first.

commit 2de432cf65aa2e3d6b1105076476030943fcc44f
Author: Brandon W Maister <bwm@materialize.io>
Date:   Wed Sep 4 14:25:05 2019 -0400

    Add interval addition/subtraction for Dates and Timestamps
    
    As soon as you interact with interval arithmatic you have to type promote up to
    a Timestamp, no matter what your input type is, because Intervals can contain
    times or monthlike spans.
    
    This takes the Decimal-like approach and does a bunch of logic in
    `plan_binary_op`, instead of maybe doing some sort of type coalescing in
    `try_coalesce_types`, because that function is used for genuine coalescing, not
    just "find the output type".
    
    Closes #181

commit 70b2c40a0bee5edb0ac5b56c9e7713e5d5995224
Author: Brandon W Maister <bwm@materialize.io>
Date:   Wed Sep 4 14:23:31 2019 -0400

    Remove timelike support from find_output_type
    
    We're going to handle it higher up the call stack and not try to do any
    coercions.

commit b58dc6d89942971b6d3c1e8b658e4abc641fffb2
Author: Brandon W Maister <bwm@materialize.io>
Date:   Wed Sep 4 14:04:54 2019 -0400

    Remove the distinction between ScalarType::Interval{Duration,Months}
    
    We aren't allowed to make distinctions in representation (at any level) based
    on it, even though the rules are kinda crazy.
    
    Eventually we might want to go closer to postgres' internal representation of
    `Months/Days/Hours` to be able to represent "logical" days, rather than numbers
    of seconds, and/or combine months and days, but the semantics of that are wild
    so I'm leaving it off.

commit 8f35c2f61ec5b8502c43cc2132555bf019bcd09b
Author: Brandon W Maister <bwm@materialize.io>
Date:   Tue Sep 3 11:54:51 2019 -0400

    Add pretty printing and SLT tests for intervals

commit 565381a960ae4924366752f8096bd4acb2a1438b
Author: Brennan Vincent <brennan@materialize.io>
Date:   Thu Sep 5 17:16:46 2019 -0400

    Use boring pipeline stage name (#431)

commit 9611bf031b0eb906902478e263cd93b1e2800507
Author: Brandon W Maister <bwm@materialize.io>
Date:   Thu Aug 29 17:05:03 2019 -0400

    Support receiving and and sending intervals

commit ccc2fe76eb2bd771fd24f302d6a342b56ce335cd
Author: Brandon W Maister <bwm@materialize.io>
Date:   Thu Aug 29 14:22:06 2019 -0400

    Find the output of expressions involving multiple timelike things
    
    There are some fiddly bits keep track of:
    
    * Numeric types cannot be combined with time types by any operation
    * Intervals can't be combined with durations of other types
    * Timelikes can't be combined with each other

commit d72e9cf6a55f1b1ac89050b64ef2365235184a2d
Author: Brandon W Maister <bwm@materialize.io>
Date:   Wed Aug 28 13:46:32 2019 -0400

    Extract expr output-type determination into a func

commit 3d21f805e057b69742d0475abaed5f0771d8e587
Author: Brennan Vincent <brennan@materialize.io>
Date:   Thu Sep 5 16:43:47 2019 -0400

    order/limit v0 (#418)
    
    "ORDER BY" and "LIMIT" v0 (only on top-level SELECT statements)

commit 064cf52bcfa24cddfa171c4d6047fa7fd9efc82c
Merge: 6f5e694ab de45b8290
Author: Brandon W Maister <quodlibetor@gmail.com>
Date:   Thu Sep 5 16:40:50 2019 -0400

    Merge pull request #430 from benesch/fast-clippy
    
    ci/test: run clippy and rustfmt sooner

commit 6f5e694abfc2d109734f680fde828fbf24adfe52
Merge: c6b41f997 ed160b1b4
Author: Cuong Do <cuongdo@users.noreply.github.com>
Date:   Thu Sep 5 16:33:08 2019 -0400

    Merge pull request #429 from cuongdo/demo-tweaks
    
    Demo tweaks

commit de45b8290321194a3f22d03c8fd4201dfeba6d4c
Author: Nikhil Benesch <nikhil.benesch@gmail.com>
Date:   Thu Sep 5 15:01:32 2019 -0400

    ci/test: run clippy and rustfmt sooner
    
    Rearrange things so that Clippy and Rustfmt can report their results to
    GitHub ASAP, rather than waiting for the multi-minute build to complete.

commit ed160b1b4b0c4ce65b2778249b4523c418b4fd56
Author: Cuong Do <cdo@materialize.io>
Date:   Thu Sep 5 14:23:45 2019 -0400

    Demo tweaks
    
    * Use `CREATE SOURCES LIKE` in chbench's README.md
    * Add note about running in Docker for Mac
    * Bump materialized image tag
    * Set materialized's workers to 1, which is a much safer default. A
      person running a real demo should probably tweak the number of workers
      appropriately for their setup.

commit e7f4e093b181bdc574a31c146d5cb5442ceaf6ea
Author: Jamie Brandon <jamie@scattered-thoughts.net>
Date:   Thu Sep 5 16:37:32 2019 +0100

    Fix up after rebase

commit 9bf2e579e1f6fddc36149f95dccfd70f8acf2498
Author: Jamie Brandon <jamie@scattered-thoughts.net>
Date:   Thu Sep 5 15:11:21 2019 +0100

    Test shadowing

commit f98520e09f6f88571b944efcdb4ed42568bd3de0
Author: Jamie Brandon <jamie@scattered-thoughts.net>
Date:   Thu Sep 5 15:05:20 2019 +0100

    Add a subquery test

commit f65464bf04b2c925b450d26e49195abf882321cc
Author: Jamie Brandon <jamie@scattered-thoughts.net>
Date:   Thu Sep 5 15:05:09 2019 +0100

    Throw away repeated join key

commit 19ec17ed192537a7c5f62765d030ded063c72603
Author: Jamie Brandon <jamie@scattered-thoughts.net>
Date:   Thu Sep 5 15:04:56 2019 +0100

    Plan EXISTS

commit 35351b7207db5873b80bb82846ed5fd288fd4fac
Author: Jamie Brandon <jamie@scattered-thoughts.net>
Date:   Thu Sep 5 14:19:44 2019 +0100

    Thread outer scope through planner

commit 6c980dbd3afbc95053903a92e06f439abd5ccc9d
Author: Jamie Brandon <jamie@scattered-thoughts.net>
Date:   Wed Sep 4 17:13:20 2019 +0100

    Remove dbg

commit b44783dd3d598ce8faeefab62125733ca9bd4d5e
Author: Jamie Brandon <jamie@scattered-thoughts.net>
Date:   Wed Sep 4 16:59:04 2019 +0100

    Typo

commit 43698cdf683300cd8b7288c133990a0b165a8152
Author: Jamie Brandon <jamie@scattered-thoughts.net>
Date:   Wed Sep 4 16:58:35 2019 +0100

    Add Negate/Threshold. Remove used_outer_variables.

commit 3fdbe6e7bd680ecbcd241cb0c64d16acc0a2ed87
Author: Jamie Brandon <jamie@scattered-thoughts.net>
Date:   Wed Sep 4 16:46:48 2019 +0100

    Handle outer joins

commit 15c8d118446a5c41883c8ca676bf018c02139515
Author: Jamie Brandon <jamie@scattered-thoughts.net>
Date:   Tue Sep 3 15:33:40 2019 +0100

    Recover accidentally deleted line

commit d1cc88d6d4a501cd3f0b9dd171300d6922d7f5be
Author: Jamie Brandon <jamie@scattered-thoughts.net>
Date:   Tue Sep 3 15:19:33 2019 +0100

    Branch creates a name like Let

commit 142d9b7279e464a3c31672363edff7834c3159fa
Author: Jamie Brandon <jamie@scattered-thoughts.net>
Date:   Tue Sep 3 14:31:55 2019 +0100

    Implement visit for Branch

commit 7fa926d76d89a7c6c8dac07181c7585c751b788c
Author: Jamie Brandon <jamie@scattered-thoughts.net>
Date:   Tue Sep 3 13:54:50 2019 +0100

    Render Branch

commit 07f197e45a0f72abfc6148697c7854679ae2ccb6
Author: Jamie Brandon <jamie@scattered-thoughts.net>
Date:   Thu Aug 29 18:03:05 2019 +0100

    Hook up sql to correlated

commit fa688bcd729cec28fe0813cd1cc7e984cf833714
Author: Jamie Brandon <jamie@scattered-thoughts.net>
Date:   Thu Aug 29 15:37:33 2019 +0100

    Move correlated exprs to expr crate

commit 2d4d97c97225ebcf9979250b9f0fda6614ddb829
Author: Jamie Brandon <jamie@scattered-thoughts.net>
Date:   Thu Aug 29 15:30:57 2019 +0100

    Handle `if`

commit 9d95c1ae0ef80cae321e44cdc8ef0a1c42bcdcf7
Author: Jamie Brandon <jamie@scattered-thoughts.net>
Date:   Thu Aug 29 15:14:11 2019 +0100

    Use column numbers instead of variables, but get it right this time

commit 98cb18de9d59a65a8e511f1ba855cbf4014670e6
Author: Jamie Brandon <jamie@scattered-thoughts.net>
Date:   Wed Aug 28 20:03:52 2019 +0100

    Sketch out reduce and distinct

commit be4650279a8d9c475a1101f8bf958605dc032adc
Author: Jamie Brandon <jamie@scattered-thoughts.net>
Date:   Tue Aug 27 17:07:26 2019 +0100

    Only allow aggregates inside group.
    
    Gonna rely on the existing sql munging code for that transform instead
    of trying to mix it in with decorrelation.

commit b82b040addcd22af8c59206e3bbd043e9c14eaff
Author: Jamie Brandon <jamie@scattered-thoughts.net>
Date:   Mon Aug 26 16:02:53 2019 +0100

    Handle union

commit 0611ac5c0bbfa7729e8813be59c5be0f2053f4f4
Author: Jamie Brandon <jamie@scattered-thoughts.net>
Date:   Mon Aug 26 15:46:12 2019 +0100

    Code dump from much older branch

commit c6b41f9979f1db8cdb36add66fe354fe22db8d3c
Merge: daf1a41d9 c029b00e7
Author: Nikhil Benesch <nikhil.benesch@gmail.com>
Date:   Wed Sep 4 23:30:52 2019 -0400

    Merge pull request #413 from MaterializeInc/dont-crash-slt
    
    Don't crash slt on SetVariable

commit daf1a41d9e6c130dfe302951cd4ec136da99eff0
Merge: 5a598bbc8 6b1ae8b24
Author: Nikhil Benesch <nikhil.benesch@gmail.com>
Date:   Wed Sep 4 23:29:22 2019 -0400

    Merge pull request #425 from benesch/pre-push-hook
    
    misc/githooks: make pre-push check all branches

commit 5a598bbc8c3597a3c1585684ed4664313f442630
Merge: abb8f6c66 a47095836
Author: Frank McSherry <fmcsherry@me.com>
Date:   Wed Sep 4 22:19:15 2019 -0400

    Merge pull request #402 from MaterializeInc/dependabot/cargo/differential-dataflow-f683d77
    
    build(deps): bump differential-dataflow from `8a44b24` to `f683d77`

commit 6b1ae8b24497ff7d97d30ca4acc08fa565deaa4e
Author: Nikhil Benesch <nikhil.benesch@gmail.com>
Date:   Wed Sep 4 21:53:34 2019 -0400

    misc/githooks: make pre-push check all branches
    
    Now that we aren't pushing directly to master, adjust the pre-push hook
    so that it checks all branches. After some discussion, this is what the
    team decided would be most useful in minimizing Clippy stress.

commit f3e05ad4d0e6b921218e675cdef182d54ab326e5
Author: Brandon W Maister <bwm@materialize.io>
Date:   Wed Sep 4 17:33:21 2019 -0400

    Add the ability to log commands in ci scripts

commit abb8f6c66582ce34e2992a167c60e1cad4d21223
Merge: 44b9bfac2 6ca078ee3
Author: Frank McSherry <fmcsherry@me.com>
Date:   Wed Sep 4 17:31:00 2019 -0400

    Merge pull request #408 from frankmcsherry/relation_expr_doc
    
    Add doc comments

commit 44b9bfac2adc3263d3cae13c66d3c54c1571de25
Merge: cee629b09 13358c8dc
Author: Frank McSherry <fmcsherry@me.com>
Date:   Wed Sep 4 17:21:40 2019 -0400

    Merge pull request #412 from frankmcsherry/docker_commit_hash
    
    Update commit hash

commit 6ca078ee3024f63930c4842375f500c134802e37
Merge: e7d23b755 cee629b09
Author: Frank McSherry <fmcsherry@me.com>
Date:   Wed Sep 4 17:11:52 2019 -0400

    Merge branch 'master' into relation_expr_doc

commit 13358c8dcea2d0dfb49bac20f77c51470bf20e06
Author: Frank McSherry <fmcsherry@me.com>
Date:   Wed Sep 4 17:10:17 2019 -0400

    re-up commit number

commit 58f940c552e089f5fd98b3b247afab84594394a5
Author: Frank McSherry <fmcsherry@me.com>
Date:   Wed Sep 4 17:09:39 2019 -0400

    re-up commit number

commit cee629b09766b336c216ff111faaf64a38153790
Merge: 9976d5a6d df501520c
Author: Robert Grimm <3990077+apparebit@users.noreply.github.com>
Date:   Wed Sep 4 17:05:45 2019 -0400

    Merge pull request #421 from MaterializeInc/better-ci-labels
    
    Update emoji and name of CI pipeline stage

commit 9976d5a6d12beb8d16a583a0e5ec59d8d4a07faf
Merge: 6bed3a526 fb66a98cb
Author: Robert Grimm <3990077+apparebit@users.noreply.github.com>
Date:   Wed Sep 4 16:19:23 2019 -0400

    Merge pull request #396 from MaterializeInc/pretty-pretty
    
    Complete pretty-printing of dataflow graphs via documents

commit 6bed3a5266292a4494c20eecf7d724a38c085373
Merge: 813fd556c b373bb5a9
Author: Frank McSherry <fmcsherry@me.com>
Date:   Wed Sep 4 16:09:34 2019 -0400

    Merge pull request #419 from frankmcsherry/timely_bump
    
    bump timely

commit df501520ca80f50870a9661ee2ef21453a2f74fb
Author: Robert Grimm <3990077+apparebit@users.noreply.github.com>
Date:   Wed Sep 4 15:58:12 2019 -0400

    Update emoji and name of CI pipeline stage
    
    "hygiene" falls short of capturing the full impact

commit fb66a98cb9b8a054f6fb0e7b1e7e794065cf6bd4
Author: Robert Grimm <grimmr@materialize.io>
Date:   Wed Sep 4 15:50:36 2019 -0400

    Death to the demon hygiene and its overeager test extraction!
    
    Yet another sprinkling of "ignore"...

commit c029b00e7618b75663ca10af8934b1c66ece6d49
Author: Nikhil Benesch <nikhil.benesch@gmail.com>
Date:   Wed Sep 4 15:48:44 2019 -0400

    ci/slt: restore execute bit on upload.sh

commit b373bb5a9500dcc67130acb5093a163f64c6058f
Author: Frank McSherry <fmcsherry@me.com>
Date:   Wed Sep 4 15:48:41 2019 -0400

    bump timely

commit e79fda7de649dc45a4ea9962d555cd4be975e6e5
Author: Robert Grimm <grimmr@materialize.io>
Date:   Wed Sep 4 15:04:37 2019 -0400

    Prevent overeager testing infrastructure from taking text out of context

commit 2c20fc2319ec26d12c56536bad366dc4ec36f940
Author: Robert Grimm <grimmr@materialize.io>
Date:   Wed Sep 4 14:47:30 2019 -0400

    Complete RelationExpr::to_doc()
    
    This commit should wrap up the pretty printing of RelationExpr. It makes significant changes to the original pull request, notably:
    
    * Introduce two helper functions for generating well-formed documents that brace another document.
    * Document new helper functions as well as `to_doc()` and `pretty()`.
    * Incorporate review feedback.

commit bf94bf08bc01ee584cf72693fa0ce59b8ccf1ec3
Author: Robert Grimm <grimmr@materialize.io>
Date:   Tue Sep 3 13:39:08 2019 -0400

    Death to the demon Clippy!
    
    Unlike Allegra Gellar, the original target of the exclamation, Clippy may just be deserving of that fate.

commit 42f15cb2d88a73be7ed0942d41a9847078a14934
Author: Robert Grimm <grimmr@materialize.io>
Date:   Fri Aug 30 16:54:41 2019 -0400

    Complete a first pass at pretty printing dataflow graphs
    
    I am not satisfied with the actual printout, which contains too many newlines. However, the code is nicely readable and editable. I added the newlines just before this commit (since the previous version was even worse) and it took me maybe 5 minutes.

commit e7d23b755851b82d6caf0c73d6e111a6b0c476cd
Author: Frank McSherry <fmcsherry@me.com>
Date:   Wed Sep 4 15:00:25 2019 -0400

    address comments

commit 5f6afadd743b0e1fb76a7e5ff7e5108cd63fda7d
Author: Frank McSherry <fmcsherry@me.com>
Date:   Wed Sep 4 14:47:37 2019 -0400

    move documentation to method

commit 69f05a5e1d3321ea07238bb615530a3c4013f752
Author: Frank McSherry <fmcsherry@me.com>
Date:   Wed Sep 4 14:45:24 2019 -0400

    further comments

commit 813fd556c017ec1477b525919c6013b80b012c68
Merge: 5e4dbda48 3754e52ba
Author: Brandon W Maister <quodlibetor@gmail.com>
Date:   Wed Sep 4 13:26:58 2019 -0400

    Merge pull request #414 from quodlibetor/unstripped-unstable-docker-image
    
    Change the unstable-COMMIT docker image to not strip symbols

commit 8d66917ba10c382e1fcf4ebcf38ecf6fc7eb5f71
Author: Nikhil Benesch <nikhil.benesch@gmail.com>
Date:   Wed Sep 4 13:11:56 2019 -0400

    ci/slt: use correct path for sqlite tests
    
    SQLite tests live in test/sqlite/test now, not sqllogictest/test.

commit 3754e52ba9df1d1463d82dce5ac77c9054a7b863
Author: Brandon W Maister <bwm@materialize.io>
Date:   Wed Sep 4 13:10:26 2019 -0400

    Change the unstable-COMMIT docker image to not strip symbols
    
    This should allow us to get backtraces if materialized crashes.

commit 38b27745d8f2505422e24a5765aa33555ee3201a
Author: Jamie Brandon <jamie@scattered-thoughts.net>
Date:   Wed Sep 4 17:31:01 2019 +0100

    Don't crash slt on SetVariable

commit 46839ce1c93687bd1d194fab721279cf62a27328
Author: Frank McSherry <fmcsherry@me.com>
Date:   Wed Sep 4 11:41:31 2019 -0400

    update commit hash

commit 5e4dbda48c40eb513a7ad59ef68c1c8f48687172
Merge: f026bd2f8 316631937
Author: Cuong Do <cuongdo@users.noreply.github.com>
Date:   Wed Sep 4 11:36:28 2019 -0400

    Merge pull request #411 from frankmcsherry/dates_work
    
    update dates

commit 3166319375b26cf948fe12303683e293b49350d3
Author: Frank McSherry <fmcsherry@me.com>
Date:   Wed Sep 4 11:26:24 2019 -0400

    update dates

commit f026bd2f877ce002f19c637a844c06c5188f8b78
Merge: e99092985 671ea08f2
Author: JLDLaughlin <JLDLaughlin@users.noreply.github.com>
Date:   Wed Sep 4 11:03:59 2019 -0400

    Merge pull request #409 from MaterializeInc/negative_test_primary_keys
    
    Add negative test for broken primary keys

commit 671ea08f2f20a7d36062765eb03cc98be9028fcb
Author: JLDLaughlin <jessica@materialize.io>
Date:   Wed Sep 4 10:53:41 2019 -0400

    align }

commit 06eb474ed6df1ce224a814d46690e19140bf79b0
Author: JLDLaughlin <jessica@materialize.io>
Date:   Wed Sep 4 10:16:59 2019 -0400

    add trailing newline

commit efd3bac0e1180593c6dd34ac140b016e0b58e971
Author: JLDLaughlin <jessica@materialize.io>
Date:   Wed Sep 4 10:06:30 2019 -0400

    move negative tests to registry.td

commit 3dedd8ccccbf30fd76e17989f3f27c190cbd8004
Author: Frank McSherry <fmcsherry@me.com>
Date:   Wed Sep 4 09:50:56 2019 -0400

    add doc comments

commit 435dd6820f51a5f7601fed50991a2db48cb7d87b
Author: JLDLaughlin <jessica@materialize.io>
Date:   Wed Sep 4 09:47:55 2019 -0400

    add negative test for broken primary keys

commit e990929859ac0586c5e86ed2c762dfd6831925c0
Merge: 412eaeec9 2f8e063da
Author: Frank McSherry <fmcsherry@me.com>
Date:   Tue Sep 3 17:36:00 2019 -0400

    Merge pull request #407 from frankmcsherry/infrequent_logging
    
    WIP: revisit logging streams less frequently

commit 2f8e063da4984d03c9e3aece64cdbbd3cb15c02a
Author: Frank McSherry <fmcsherry@me.com>
Date:   Tue Sep 3 17:24:51 2019 -0400

    cargo fml

commit 1655a5dc8bff51ca2f40cba8e4e98a9b6cebede6
Author: Frank McSherry <fmcsherry@me.com>
Date:   Tue Sep 3 17:22:46 2019 -0400

    default logging each 1s

commit 1991ef8d63859403fd255dbb81d0e0de593b68f2
Author: Frank McSherry <fmcsherry@me.com>
Date:   Tue Sep 3 14:55:13 2019 -0400

    revisit logging streams less frequently

commit 412eaeec97843255d1d373e724f69a0587eaa4f6
Merge: 43442a708 1a009add1
Author: Brandon W Maister <quodlibetor@gmail.com>
Date:   Tue Sep 3 13:39:41 2019 -0400

    Merge pull request #406 from quodlibetor/sql-debug
    
    sql: Deny missing debug impls

commit 1a009add152fb5a4ec435a3cdb8e4a5fffbaa17b
Author: Brandon W Maister <bwm@materialize.io>
Date:   Tue Sep 3 13:17:48 2019 -0400

    Deny missing debug impls in a few more crates

commit 8e7c2a00e34621124375f73a9f3a982b4f065bae
Author: Brandon W Maister <bwm@materialize.io>
Date:   Tue Sep 3 10:23:23 2019 -0400

    sql: Deny missing debug impls

commit a47095836ed1032a1a6268c4ba2fa17fd86a1a34
Author: dependabot-preview[bot] <27856297+dependabot-preview[bot]@users.noreply.github.com>
Date:   Mon Sep 2 14:47:25 2019 +0000

    build(deps): bump differential-dataflow from `8a44b24` to `f683d77`
    
    Bumps [differential-dataflow](https://github.com/TimelyDataflow/differential-dataflow) from `8a44b24` to `f683d77`.
    - [Release notes](https://github.com/TimelyDataflow/differential-dataflow/releases)
    - [Commits](https://github.com/TimelyDataflow/differential-dataflow/compare/8a44b24fbe76d42b9bcc2a64ad5f774e060aab30...f683d77cd76e580dd3506c35ca89642758cf63b3)
    
    Signed-off-by: dependabot-preview[bot] <support@dependabot.com>

commit 43442a7087f740bf7790482c02f415facecd8980
Merge: c1211fb8b 7ab7b696c
Author: Frank McSherry <fmcsherry@me.com>
Date:   Sun Sep 1 12:52:59 2019 -0400

    Merge pull request #401 from frankmcsherry/box_drop
    
    Unify unbind with drops

commit 7ab7b696c8e67381eaf44a6c149b1290fcefdee4
Author: Frank McSherry <fmcsherry@me.com>
Date:   Sat Aug 31 20:24:37 2019 -0400

    unify unbind with drops

commit c1211fb8b43b62e97f9c4ab09236132161c064d2
Merge: 3781893cd 733906380
Author: Frank McSherry <fmcsherry@me.com>
Date:   Sat Aug 31 20:01:11 2019 -0400

    Merge pull request #398 from frankmcsherry/render_revamp
    
    [WIP] Render revamp

commit 733906380615d65012e8091cee598a57bb173871
Merge: 0c74223de 4d867a5fe
Author: Frank McSherry <fmcsherry@me.com>
Date:   Sat Aug 31 18:21:05 2019 -0400

    Merge branch 'render_revamp' of github.com:frankmcsherry/materialize into render_revamp

commit 0c74223deb06098cedca6e018a9c30ad4d7d7be9
Author: Frank McSherry <fmcsherry@me.com>
Date:   Sat Aug 31 12:12:20 2019 -0400

    fixes, plus drop

commit 8737a7c565222847f0871e9394bc4135be038eb0
Author: Frank McSherry <fmcsherry@me.com>
Date:   Sat Aug 31 10:03:10 2019 -0400

    correct let

commit de3bed83b764222b45666748d132959eee673e53
Author: Frank McSherry <fmcsherry@me.com>
Date:   Sat Aug 31 09:50:33 2019 -0400

    improve comments

commit 325ff98eee85273d67c5e6f6691168e5244a4dbc
Author: Frank McSherry <fmcsherry@me.com>
Date:   Sat Aug 31 09:43:51 2019 -0400

    move context under render

commit 21df16fb1968b12b22e9f0d5948b6d59404ec980
Author: Frank McSherry <fmcsherry@me.com>
Date:   Sat Aug 31 09:39:59 2019 -0400

    restructuring into methods

commit adccc5f3a4213d198adc7f107adc99abd99c5539
Author: Frank McSherry <fmcsherry@me.com>
Date:   Fri Aug 30 20:01:55 2019 -0400

    worker of render

commit 3781893cddc1cfac035e4dc0d806c639d2b53f0f
Merge: 49dee4bbc 38c6b0bca
Author: Frank McSherry <fmcsherry@me.com>
Date:   Sat Aug 31 14:05:40 2019 -0400

    Merge pull request #395 from MaterializeInc/coord-prep2
    
    Continue teasing apart the SQL and coordinator APIs

commit 4d867a5fe6574bef269333191762cf83934d88ca
Author: Frank McSherry <fmcsherry@me.com>
Date:   Sat Aug 31 12:12:20 2019 -0400

    fixes, plus drop

commit 5bb4e1b8be2c573dbe88c0e2a0973f5833764d6e
Author: Frank McSherry <fmcsherry@me.com>
Date:   Sat Aug 31 10:03:10 2019 -0400

    correct let

commit de0ccf05264481722e1d58d2342f41c994739737
Author: Frank McSherry <fmcsherry@me.com>
Date:   Sat Aug 31 09:50:33 2019 -0400

    improve comments

commit 4d6c765931300a77ed1057623bff23469a553a4d
Author: Frank McSherry <fmcsherry@me.com>
Date:   Sat Aug 31 09:43:51 2019 -0400

    move context under render

commit 280bfca87e996929f96300a280744b315d492ac1
Author: Frank McSherry <fmcsherry@me.com>
Date:   Sat Aug 31 09:39:59 2019 -0400

    restructuring into methods

commit e7d80b3c6e03ea2be408030991c3c82cf5811d6a
Author: Frank McSherry <fmcsherry@me.com>
Date:   Fri Aug 30 20:01:55 2019 -0400

    worker of render

commit 38c6b0bcab127d5f619f7cf19eb8f9dbe17b491a
Author: Nikhil Benesch <nikhil.benesch@gmail.com>
Date:   Fri Aug 30 15:32:00 2019 -0400

    sql: lift responsibility for DataflowCommand construction into queue
    
    The SQL layer was a bit too coupled to our particular communication
    fabric. Specifically, sql::Planner was responsible for determining how
    many Timely workers, if any at all, were going to respond to a given SQL
    statement, and would plumb connection IDs accordingly.
    
    Lift that responsibility into the queue module. The queue will soon be
    home to all of the central coordination logic for Materialize, so this
    responsibility logically belongs there. The SQL layer is now blissfully
    unaware of who exactly will do what, and simply returns a logical `Plan`.

commit b712e4b77426c29acc35265dd0397a47a874500a
Author: Nikhil Benesch <nikhil.benesch@gmail.com>
Date:   Fri Aug 30 14:25:18 2019 -0400

    dataflow: extract a dataflow-types crate
    
    dataflow-types exposes the types that the SQL layer needs to plan
    dataflows without taking a dependency on the dataflow crate itself.

commit 49dee4bbc8065596f144ba52a455cf90fd849e76
Merge: 63d704266 ac75921cd
Author: Frank McSherry <fmcsherry@me.com>
Date:   Fri Aug 30 13:31:22 2019 -0400

    Merge pull request #394 from frankmcsherry/view_asof
    
    Advance view inputs

commit ac75921cd8ecd96eac33514bfacda39dcb3c34f0
Author: Frank McSherry <fmcsherry@me.com>
Date:   Fri Aug 30 12:22:33 2019 -0400

    Advance view inputs

commit 63d704266a4f4f73cadd8762cf2c14ef3bcac9b9
Merge: 84dbb5456 34180408d
Author: Brandon W Maister <quodlibetor@gmail.com>
Date:   Thu Aug 29 17:33:06 2019 -0400

    Merge pull request #349 from MaterializeInc/dates
    
    Support parsing and returning dates and timestamps

commit 84dbb5456829fe672add139994007d8bb6c57df9
Merge: 3a6d7b25e e3d497b6c
Author: JLDLaughlin <JLDLaughlin@users.noreply.github.com>
Date:   Thu Aug 29 17:23:16 2019 -0400

    Merge pull request #389 from MaterializeInc/primary_key_information
    
    Support reading primary key schemas from Kafka
    
    Fixes #149

commit 34180408dd96a6283b924b73e6835236be9198fb
Author: Brandon W Maister <bwm@materialize.io>
Date:   Thu Aug 29 17:14:18 2019 -0400

    Add the cockroach timestamp SLT
    
    This gets rid of the cockroach double Timezone specifier, which was weird
    because that timestamp didn't have a timezone (wasn't TIMESTAMP WITH TZ) anyway
    and so really shouldn't represent itself as having one.
    
    If we wanted to start representing all naive timestamps as being UTC we could,
    I suppose, but that would actually take us further from the postgres default
    format:
    
        bwm=# SELECT TIMESTAMP '2000-01-01 9:9:9';
              timestamp
        ---------------------
         2000-01-01 09:09:09
    
        bwm=# SELECT TIMESTAMP WITH TIME ZONE '2000-01-01 9:9:9+0000';
              timestamptz
        ------------------------
         2000-01-01 04:09:09-05

commit ed5502edba6be1e6046b9c35e9c9907a206da46b
Author: Brandon W Maister <bwm@materialize.io>
Date:   Tue Aug 27 11:22:00 2019 -0400

    More slt error formatting: show Display of some more causes

commit baa35934bb1202b7de08b6ee35416249e8e6c414
Author: Brandon W Maister <bwm@materialize.io>
Date:   Mon Aug 26 22:33:16 2019 -0400

    Move some more "add a new type" errors to compile time
    
    * Adding a new Avro Schema type
    * Adding a new Datum and not handling it in repr

commit 4cb638121df74cd9efc48d31d804a1ec7fee2c73
Author: Brandon W Maister <bwm@materialize.io>
Date:   Mon Aug 26 18:46:17 2019 -0400

    Handle Timestamps (aka datetimes)
    
    This also adds some tests for Dates to SLTs and TD tests because splitting that
    off into the date commit was just too much work.

commit 767907f8223f08a7e0537a44611e5e80168cbe26
Author: Brandon W Maister <bwm@materialize.io>
Date:   Tue Aug 27 13:42:41 2019 -0400

    Match cockroach SLT "do not split" behavior for single-column results
    
    Needed because timestamps have spaces in them.

commit 9dbc145c5db20766fe793c901c0143829517dc2f
Author: Brandon W Maister <bwm@materialize.io>
Date:   Fri Aug 23 11:12:19 2019 -0400

    Handle dates that come in from Avro
    
    This also makes the match exhaustive so that we'll get a compilation error next
    time we try to add a new type from Avro.

commit 85e1e07feb204e3314eab0727d122c1b1f71f62d
Author: Brandon W Maister <bwm@materialize.io>
Date:   Wed Aug 21 17:24:45 2019 -0400

    Improve error message around mismatched before/after schema

commit 327bfd27119008feae53b4678ecc059e3e15b81e
Author: Brandon W Maister <bwm@materialize.io>
Date:   Tue Aug 20 16:40:36 2019 -0400

    Support parsing and sending dates
    
    Most of the work for this happened in the Avro and sqlparser crates. This just
    verifies that some TCP-H queries parse correctly on top of those changes.

commit e3d497b6c7b88b2488336fef9cada7ad54e96f3a
Author: JLDLaughlin <jessica@materialize.io>
Date:   Thu Aug 29 17:02:11 2019 -0400

    forgot !

commit 8805c823be1edc97a7ca782cd2640022f7358ac2
Author: JLDLaughlin <jessica@materialize.io>
Date:   Thu Aug 29 16:53:13 2019 -0400

    update bail! messages

commit d9cc9043780bfa7252a274adb121c2e5c4fa8cff
Author: JLDLaughlin <jessica@materialize.io>
Date:   Thu Aug 29 15:50:56 2019 -0400

    dont fail if no key schema

commit 36f43b63ad2e354e07b7c01e4c3233e5844d511e
Author: JLDLaughlin <jessica@materialize.io>
Date:   Thu Aug 29 14:36:24 2019 -0400

    compare field types and nullable

commit 3a6d7b25ea846b1921ce309fefceca4da71c915c
Merge: bfdf80ba3 74daab5be
Author: Frank McSherry <fmcsherry@me.com>
Date:   Thu Aug 29 20:13:49 2019 +0200

    Merge pull request #392 from frankmcsherry/explain_joinorder
    
    Explain join order

commit bfdf80ba35e11f03b5bdf643f4491ed95896c581
Merge: d44e4ace2 cb6a2d95b
Author: Nikhil Benesch <nikhil.benesch@gmail.com>
Date:   Thu Aug 29 12:57:57 2019 -0400

    Merge pull request #385 from MaterializeInc/coord-prep
    
    Various coordinator/cancellation prep work

commit 74daab5beb0687432dcd0502e5cdc21fbbe100e1
Author: Frank McSherry <fmcsherry@me.com>
Date:   Thu Aug 29 09:37:21 2019 -0400

    explain join order

commit f2c081b478f38e1df9e6c6ebe48eb355e16b07ef
Author: JLDLaughlin <jessica@materialize.io>
Date:   Wed Aug 28 17:04:42 2019 -0400

    put in TODO

commit 36305aa2bbd66c61a6ebceff31e3efa658fd0a3d
Merge: e9a02e708 d44e4ace2
Author: JLDLaughlin <jessica@materialize.io>
Date:   Wed Aug 28 16:09:15 2019 -0400

    merge

commit e9a02e708112ca0a17ce413952d5b0d6997d3425
Author: JLDLaughlin <jessica@materialize.io>
Date:   Wed Aug 28 16:00:32 2019 -0400

    WIP

commit cb6a2d95b915836cef87735e93c2e30944a96bee
Author: Nikhil Benesch <nikhil.benesch@gmail.com>
Date:   Sat Aug 24 12:15:08 2019 -0400

    *: use u32 connection IDs
    
    This makes supporting the pgwire cancelation protocol much easier.

commit 16cd17a3a1cd9de767efd00e41a91d6f5555c9b3
Author: Brandon W Maister <bwm@materialize.io>
Date:   Wed Aug 28 14:24:28 2019 -0400

    [demo] Add the ability to build/run materialized in debug mode
    
    Faster compilation when testing

commit bdf85dae0bc4bb5823e04639612c2d32b8dbb568
Author: Nikhil Benesch <nikhil.benesch@gmail.com>
Date:   Fri Aug 23 18:10:40 2019 -0400

    ore: require mux key to be specified explicitly
    
    We're no longer going to use Uuid muxes everywhere.

commit 949dd4b03828edcc224b863df78b39f561e04bef
Author: Nikhil Benesch <nikhil.benesch@gmail.com>
Date:   Tue Aug 27 16:41:45 2019 -0400

    mtrlz/queue: rework command handoff
    
    Move SqlCommand and SqlResponse to queue::Command and queue::Response.
    The queue will soon be in charge of handling commands that may not be
    SQL (e.g., cancellation requests).

commit d44e4ace21bd118885bfb9736f04098707720fb9
Merge: af84bdcf5 cb1af0cde
Author: Nikhil Benesch <nikhil.benesch@gmail.com>
Date:   Wed Aug 28 11:44:43 2019 -0400

    Merge pull request #378 from MaterializeInc/dec-avg
    
    dataflow,sql: lower avg to sum / count

commit af84bdcf55daa6b23725f457ee0365f933b99aaf
Merge: 1338a2788 bcea920ac
Author: Frank McSherry <fmcsherry@me.com>
Date:   Wed Aug 28 17:38:52 2019 +0200

    Merge pull request #383 from MaterializeInc/named_reduce
    
    add names to reduce

commit bcea920acdb09e3fe2b92b85a12b3e2cc77b8aab
Author: Frank McSherry <fmcsherry@me.com>
Date:   Wed Aug 28 09:54:29 2019 -0400

    add names to reduce

commit cb1af0cde999cafee61f042efb08d545d504a411
Author: Nikhil Benesch <nikhil.benesch@gmail.com>
Date:   Tue Aug 27 00:04:57 2019 -0400

    dataflow,sql: lower avg to sum / count
    
    Add our first SQL AST transformer, which rewrites `avg(col)` to
    `sum(col) / count(col)`, so that the rest of the codebase doesn't need
    to think about averages.
    
    Fix #212.

commit 5d9d778c17210a82eea0adf033cde994d68d7de5
Author: Nikhil Benesch <nikhil.benesch@gmail.com>
Date:   Mon Aug 26 23:34:50 2019 -0400

    sql: adjust planner code layout
    
    For some reason there were two impl blocks in this file, with some
    functions sprinkled in between. Also plan_statement was misnamed, as it
    only plans create statements.

commit 302d588e2c2d55fc8960e6a4e3f3c67c1f1ab2d5
Author: Nikhil Benesch <nikhil.benesch@gmail.com>
Date:   Mon Aug 26 12:49:28 2019 -0400

    expr: move avg func selection into sql
    
    This is a SQL concept, so it doesn't belong in the expr module.

commit dd965e4560ae0c600a52acc2e250ffad891355fc
Merge: a93048457 16bc2d926
Author: Brandon W Maister <quodlibetor@gmail.com>
Date:   Tue Aug 27 15:47:59 2019 -0400

    Merge pull request #1 from MaterializeInc/dates-via-chrono
    
    Dates (via chrono)

commit 16bc2d926d4e2c0d6c75ebb438073e2be0cb3734
Author: Brandon W Maister <bwm@materialize.io>
Date:   Mon Aug 26 17:13:14 2019 -0400

    Support decoding and encoding timestamps

commit 1338a27881efa48cb80d51ec57178b7d04db9bb0
Merge: 8398e5ef3 611c0bdb0
Author: Robert Grimm <3990077+apparebit@users.noreply.github.com>
Date:   Tue Aug 27 14:11:18 2019 -0400

    Merge pull request #380 from MaterializeInc/plumbing
    
    Complete the plumbing for EXPLAIN

commit 611c0bdb088ac1974c61a8cb2ea78a51ca201bb5
Author: Robert Grimm <grimmr@materialize.io>
Date:   Tue Aug 27 13:31:05 2019 -0400

    Complete the plumbing for EXPLAIN
    
    * Onboard pretty 0.5.2, a pretty-printer based on Wadler's formatting combinators. Create a first, trivial invocation.
    * Add support for forwarding Explain to the coordinator, which does the planning and uses exfiltrator to directly communicate with the client.
    * Add the corresonding control plane logic, notably in the client-facing pgwire component.

commit ad511c54c2936a977e33484e27874fa87b2a24af
Author: Brandon W Maister <bwm@materialize.io>
Date:   Mon Aug 26 12:26:27 2019 -0400

    Fix unused result in a test

commit 6f8d3a4d56419647f85f87ff61b6128b6eb160af
Author: Brandon W Maister <bwm@materialize.io>
Date:   Thu Aug 22 14:31:20 2019 -0400

    Handle Semantic Dates
    
    This adds support for Debezium and Kafka's date output format via Chrono's
    support for Dates.
    
    Instead of using chrono we could imagine possibly just parsing to an Int32 and
    expecting downstream crates to add some semantic layers on top of the Int in
    their interpretation.
    
    One downside to the current implementation (afaict) of avro-rs is that there is
    no way to expose the various extra complex fields to downstream crates, so
    while we could parse "logicalType": "date" to a Date variant, correctly parsing
    the various extended date formats that kafka/debezium provide is impossible
    without baking them into this code.

commit 8398e5ef37139a673fcc79959c405c126f96ba40
Merge: 6157156cd fa41906a8
Author: Nikhil Benesch <nikhil.benesch@gmail.com>
Date:   Mon Aug 26 14:54:18 2019 -0400

    Merge pull request #377 from MaterializeInc/rust-1.37
    
    rust-toolchain: upgrade to Rust v1.37

commit fa41906a82b089b0ff5f14bfd2556fd0c8e1a436
Author: Nikhil Benesch <nikhil.benesch@gmail.com>
Date:   Mon Aug 26 14:36:39 2019 -0400

    rust-toolchain: upgrade to Rust v1.37

commit 6157156cd9addb6aa27b1fd65854e7feec2d2e8f
Merge: 3f9fe06c6 87df4659f
Author: Nikhil Benesch <nikhil.benesch@gmail.com>
Date:   Mon Aug 26 12:03:07 2019 -0400

    Merge pull request #371 from MaterializeInc/dependabot/cargo/lazy_static-1.4.0
    
    build(deps): bump lazy_static from 1.3.0 to 1.4.0

commit 87df4659f930d27225edef712a6572150f557306
Author: dependabot-preview[bot] <27856297+dependabot-preview[bot]@users.noreply.github.com>
Date:   Mon Aug 26 14:48:32 2019 +0000

    build(deps): bump lazy_static from 1.3.0 to 1.4.0
    
    Bumps [lazy_static](https://github.com/rust-lang-nursery/lazy-static.rs) from 1.3.0 to 1.4.0.
    - [Release notes](https://github.com/rust-lang-nursery/lazy-static.rs/releases)
    - [Commits](https://github.com/rust-lang-nursery/lazy-static.rs/compare/1.3.0...1.4.0)
    
    Signed-off-by: dependabot-preview[bot] <support@dependabot.com>

commit 3f9fe06c6f9e38e61f369d71a85590058bb3f322
Merge: 6f55bd45d aa21bc38d
Author: Nikhil Benesch <nikhil.benesch@gmail.com>
Date:   Mon Aug 26 10:46:25 2019 -0400

    Merge pull request #369 from MaterializeInc/dependabot/cargo/criterion-0.3.0
    
    build(deps): bump criterion from 0.2.11 to 0.3.0

commit 6f55bd45d765cee87beeb8e2f0a2d838ed7c117c
Merge: 54b0228d9 6c68af6b6
Author: Nikhil Benesch <nikhil.benesch@gmail.com>
Date:   Mon Aug 26 10:38:36 2019 -0400

    Merge pull request #359 from benesch/like-tests
    
    sql: small CREATE SOURCES tweaks

commit 54b0228d923387dfab2b4d2ca3d95adb57b17c8f
Merge: 2c4d109bb de645ec87
Author: Nikhil Benesch <nikhil.benesch@gmail.com>
Date:   Mon Aug 26 10:26:42 2019 -0400

    Merge pull request #373 from MaterializeInc/dependabot/cargo/simplelog-0.7.1
    
    build(deps): bump simplelog from 0.6.0 to 0.7.1

commit 2c4d109bb1d5cae42bb7c806a306b0774134fbad
Merge: f1d4d4dc6 51a1490f4
Author: Nikhil Benesch <nikhil.benesch@gmail.com>
Date:   Mon Aug 26 10:26:26 2019 -0400

    Merge pull request #370 from MaterializeInc/dependabot/cargo/getopts-0.2.21
    
    build(deps): bump getopts from 0.2.19 to 0.2.21

commit aa21bc38daa889827585dd1d566de480d5d72d44
Author: dependabot-preview[bot] <27856297+dependabot-preview[bot]@users.noreply.github.com>
Date:   Mon Aug 26 13:23:50 2019 +0000

    build(deps): bump criterion from 0.2.11 to 0.3.0
    
    Bumps [criterion](https://github.com/bheisler/criterion.rs) from 0.2.11 to 0.3.0.
    - [Release notes](https://github.com/bheisler/criterion.rs/releases)
    - [Changelog](https://github.com/bheisler/criterion.rs/blob/master/CHANGELOG.md)
    - [Commits](https://github.com/bheisler/criterion.rs/compare/0.2.11...0.3.0)
    
    Signed-off-by: dependabot-preview[bot] <support@dependabot.com>

commit f1d4d4dc6310eae0545d86d16b0a107799552c13
Merge: 42a9bf8d1 09a12a0cb
Author: Nikhil Benesch <nikhil.benesch@gmail.com>
Date:   Mon Aug 26 10:20:21 2019 -0400

    Merge pull request #361 from MaterializeInc/scoping
    
    sql: improve scope resolution after JOINs

commit 42a9bf8d17203dbb6a6c44e61157589e4ba4beb5
Merge: a90b46ac9 e0f5249d4
Author: Nikhil Benesch <nikhil.benesch@gmail.com>
Date:   Mon Aug 26 10:15:44 2019 -0400

    Merge pull request #368 from MaterializeInc/dependabot/cargo/reqwest-0.9.20
    
    build(deps): bump reqwest from 0.9.19 to 0.9.20

commit de645ec87c8f28f15cb3632d233ad9b9ec2f229a
Author: dependabot-preview[bot] <27856297+dependabot-preview[bot]@users.noreply.github.com>
Date:   Mon Aug 26 13:25:30 2019 +0000

    build(deps): bump simplelog from 0.6.0 to 0.7.1
    
    Bumps [simplelog](https://github.com/drakulix/simplelog.rs) from 0.6.0 to 0.7.1.
    - [Release notes](https://github.com/drakulix/simplelog.rs/releases)
    - [Changelog](https://github.com/Drakulix/simplelog.rs/blob/master/CHANGELOG.md)
    - [Commits](https://github.com/drakulix/simplelog.rs/compare/v0.6.0...v0.7.1)
    
    Signed-off-by: dependabot-preview[bot] <support@dependabot.com>

commit 51a1490f41f2ebf98b38daf5a42e3a5f78aa2a56
Author: dependabot-preview[bot] <27856297+dependabot-preview[bot]@users.noreply.github.com>
Date:   Mon Aug 26 13:24:03 2019 +0000

    build(deps): bump getopts from 0.2.19 to 0.2.21
    
    Bumps [getopts](https://github.com/rust-lang/getopts) from 0.2.19 to 0.2.21.
    - [Release notes](https://github.com/rust-lang/getopts/releases)
    - [Commits](https://github.com/rust-lang/getopts/compare/v0.2.19...v0.2.21)
    
    Signed-off-by: dependabot-preview[bot] <support@dependabot.com>

commit e0f5249d415a08f35dd203cce9d0c29f970130f5
Author: dependabot-preview[bot] <27856297+dependabot-preview[bot]@users.noreply.github.com>
Date:   Mon Aug 26 13:23:17 2019 +0000

    build(deps): bump reqwest from 0.9.19 to 0.9.20
    
    Bumps [reqwest](https://github.com/seanmonstar/reqwest) from 0.9.19 to 0.9.20.
    - [Release notes](https://github.com/seanmonstar/reqwest/releases)
    - [Changelog](https://github.com/seanmonstar/reqwest/blob/v0.9.20/CHANGELOG.md)
    - [Commits](https://github.com/seanmonstar/reqwest/compare/v0.9.19...v0.9.20)
    
    Signed-off-by: dependabot-preview[bot] <support@dependabot.com>

commit a90b46ac9a49db0568868068daabbfe6ffda27b0
Merge: 5823a981b ce9b19a11
Author: Nikhil Benesch <nikhil.benesch@gmail.com>
Date:   Sat Aug 24 12:56:04 2019 -0400

    Merge pull request #357 from MaterializeInc/quiesce
    
    Reduce CPU usage while idle

commit 5823a981be401966aa3316ccf37d845ec78fabf4
Merge: d414e5712 6f86d4cd5
Author: Nikhil Benesch <benesch@mtrlz.io>
Date:   Sat Aug 24 12:45:30 2019 -0400

    Merge pull request #365 from MaterializeInc/issue-templates
    
    github: improve issue templates

commit 6f86d4cd543a64668bd43e1b76813e02cb0492b3
Author: Nikhil Benesch <nikhil.benesch@gmail.com>
Date:   Sat Aug 24 12:35:10 2019 -0400

    github: improve issue templates
    
    We can make better use of GitHub's issue templates, so that folks don't
    forget to categorize their issue appropriately.

commit d414e5712cce62ab41f475f90c7bf2e3603947cc
Merge: 5330c6257 c776b6325
Author: Robert Grimm <3990077+apparebit@users.noreply.github.com>
Date:   Fri Aug 23 18:19:09 2019 -0400

    Merge pull request #364 from MaterializeInc/wait-for-godot
    
    Introduce more expressive messaging

commit c776b6325237f5a31e88706ec3b7a8e26b9961b2
Author: Robert Grimm <grimmr@materialize.io>
Date:   Fri Aug 23 17:50:49 2019 -0400

    Introduce more expressive messaging

commit 09a12a0cbcfdcff81722d4634e855b82fa003052
Author: Nikhil Benesch <nikhil.benesch@gmail.com>
Date:   Fri Aug 23 11:11:48 2019 -0400

    sql: improve scope resolution after JOINs
    
    After a NATURAL JOIN occurs, the corresponding columns can be qualified
    by either their left or right name in both MySQL and PostgreSQL. MySQL
    additionally detects corresponding columns after an ON join--add support
    for that too, even though PostgreSQL does not, because it's trivial now
    that we do the right thing for NATURAL JOINS.

commit 5330c6257792225f03de4235ab3fc1331a2b6c0a
Merge: 6fd4e5b04 f159d8ee7
Author: Brandon W Maister <quodlibetor@gmail.com>
Date:   Fri Aug 23 12:08:14 2019 -0400

    Merge pull request #363 from MaterializeInc/sqltest-readability
    
    slt failure readability

commit 6fd4e5b045695b556e9835fc24fc44b55c6dd44b
Merge: 4de67fe45 6f942f24b
Author: Brandon W Maister <quodlibetor@gmail.com>
Date:   Fri Aug 23 11:59:51 2019 -0400

    Merge pull request #362 from MaterializeInc/logging
    
    Improve Logging

commit f159d8ee76da4da985789bbe040b44d7c9543f92
Author: Brandon W Maister <bwm@materialize.io>
Date:   Wed Aug 21 10:56:34 2019 -0400

    [sqllogictest] Make the status line show the overall status
    
    Now it starts with `SUCCESS!` or `FAIL!`

commit 11ec6d0c55693a30120a6618e6c050ef1373ea58
Author: Brandon W Maister <bwm@materialize.io>
Date:   Wed Aug 21 10:55:07 2019 -0400

    [sqllogictest] Make inference failure more readable

commit 6f942f24b61f47690bdc952a0564f76f0da4da73
Author: Brandon W Maister <bwm@materialize.io>
Date:   Fri Aug 23 11:16:09 2019 -0400

    [demo] Slightly improve "clearing" messages

commit 58ce8c5a52d92da38da3726a785a513a62a22df7
Author: Brandon W Maister <bwm@materialize.io>
Date:   Thu Aug 22 18:09:11 2019 -0400

    [logging] Don't allocate intermediate format strings

commit dd510eb5562e2d2a738fed58ec4203b84cc53f64
Author: Brandon W Maister <bwm@materialize.io>
Date:   Thu Aug 22 18:07:51 2019 -0400

    [logging] Use `MTRLZ_LOG` instead of `RUST_LOG` for the var
    
    Default to showing `info` level logs from everything. Mostly this just gives us
    a template to be able to fine-tune this later.

commit 6c68af6b63f35a067b1ca87a8f235461096405bb
Author: Nikhil Benesch <nikhil.benesch@gmail.com>
Date:   Thu Aug 22 21:57:51 2019 -0400

    sql: sanitize kafka topic names in CREATE SOURCES
    
    CREATE SOURCES previously had the annoying property that it could create
    topics that were hard to name from SQL. Consider a Kafka topic like
    "mysql.table" in Kafka. CREATE SOURCES would previously create a source
    with the literal name "mysql.table". Since dots are not valid in
    unquoted identifiers in SQL, every reference to the topic would have to
    use the quoted form... and we don't even handle the quoted form properly
    right now.

commit 8ccd58fcc8a1e6b4e644c73467316ab09bedcff9
Author: Nikhil Benesch <nikhil.benesch@gmail.com>
Date:   Thu Aug 22 21:10:46 2019 -0400

    ci/test: enable cockroach/like.slt
    
    Enable the CockroachDB LIKE tests in CI, which were disabled for some
    reason. This exposed that the LIKE operator had gotten a bit panicky, so
    suppress that error by returning a Datum::Null, as explained in the
    comment within.

commit eb6be070686063be93a8961472d08d4a7a5c33df
Author: Nikhil Benesch <nikhil.benesch@gmail.com>
Date:   Thu Aug 22 21:09:52 2019 -0400

    expr/like: condense to one file
    
    Convention for modules with just one file in them is to avoid the
    directory entirely.

commit 4de67fe45cb736154b880437cf0b6aff82ba51bd
Merge: e6ae02fb3 be8b28c02
Author: Nikhil Benesch <nikhil.benesch@gmail.com>
Date:   Thu Aug 22 18:17:03 2019 -0400

    Merge pull request #358 from MaterializeInc/brandon
    
    Fix demo.md & do type promotion from Int32 -> Int64

commit be8b28c02ed7db829182fac6936cb532a027645b
Author: Brandon W Maister <bwm@materialize.io>
Date:   Wed Aug 21 14:45:14 2019 -0400

    Do type promotion from Int32 -> Int64

commit 8434efc92d82657703c772e3b1ce1fb8a455e096
Author: Brandon W Maister <bwm@materialize.io>
Date:   Wed Aug 21 14:38:21 2019 -0400

    [demo] fix confluent commands for confluent cli 5.3

commit e6ae02fb31940a6d803a102e254aa6b303e5c8cd
Merge: 395a2f2f7 ab8dcfa7b
Author: JLDLaughlin <JLDLaughlin@users.noreply.github.com>
Date:   Thu Aug 22 17:19:20 2019 -0400

    Merge pull request #355 from MaterializeInc/filter_create_sources
    
    Filter out Kafka topics based on CREATE SOURCES [LIKE] clause

commit ab8dcfa7b4109729e81899ac6088c00b5631b81c
Author: JLDLaughlin <jessica@materialize.io>
Date:   Thu Aug 22 17:04:32 2019 -0400

    use ?

commit ce9b19a11da0c8d7b6eb1c7c60523aed46b6de0b
Author: Nikhil Benesch <nikhil.benesch@gmail.com>
Date:   Thu Aug 22 16:11:24 2019 -0400

    sql: respect logging config
    
    Don't just assume that all logging views exist. They might not, now that
    the logging config can be set via a command line flag.

commit 3e0fa7c946c5cdbf927bf4acc30248e90e2f9a89
Author: Nikhil Benesch <nikhil.benesch@gmail.com>
Date:   Thu Aug 22 15:45:35 2019 -0400

    materialized: allow specifying logging granularity via CLI opts
    
    This required quite a bit of refactoring of server startup in order to
    accept non-timely CLI options.

commit 9ffac50b2d62a8b15e37ed400ff21c54559317b3
Author: JLDLaughlin <jessica@materialize.io>
Date:   Thu Aug 22 16:54:46 2019 -0400

    actually expose failure!

commit 51c6a69dd6c2b90f24c159e8b3908d6890e2a68a
Author: JLDLaughlin <jessica@materialize.io>
Date:   Thu Aug 22 16:36:37 2019 -0400

    simplify return, escalate failure

commit a44565d37447fb7e1d179807e4d9de6388e4fea0
Author: JLDLaughlin <jessica@materialize.io>
Date:   Thu Aug 22 16:17:39 2019 -0400

    hygiene update

commit 7ba3398d3b10301b1a2ff2c2247bfdb64895cf51
Author: Nikhil Benesch <nikhil.benesch@gmail.com>
Date:   Thu Aug 22 14:31:21 2019 -0400

    dataflow: ask kafka to notify us when a message is available
    
    This prevents using 100% CPU when there's nothing to do. The worker
    thread is now able to park itself when it runs out of Kafka messages, as
    the Kafka thread will unpark it when a new message is received.

commit a9339a54b609cfcadb4ccf0518814ab79cb5d276
Author: Nikhil Benesch <nikhil.benesch@gmail.com>
Date:   Thu Aug 22 12:01:57 2019 -0400

    dataflow-bin: add a new crate for viewing dataflow logs

commit 63555a3185f2bce6f569e21375ee4e63fd5379a5
Author: JLDLaughlin <jessica@materialize.io>
Date:   Thu Aug 22 16:05:10 2019 -0400

    Err instead of bail!

commit e661386419c14e4fd550711bb4d2721fc434812e
Author: JLDLaughlin <jessica@materialize.io>
Date:   Thu Aug 22 15:58:28 2019 -0400

    use and update expr expression parser

commit 395a2f2f7312a788e8c175c4639c20b3b9f443cc
Merge: 0a44d3ee8 f0ee06220
Author: Frank McSherry <fmcsherry@me.com>
Date:   Wed Aug 21 22:51:22 2019 +0200

    Merge pull request #356 from MaterializeInc/chill_maintenance
    
    quiesce maintenance

commit f0ee0622000a37cba975f10986987423aa6fdeb6
Author: Frank McSherry <fmcsherry@me.com>
Date:   Wed Aug 21 16:34:51 2019 -0400

    quiesce maintenance

commit f8deae1ec87f395e0a3eb77d0e3f369d7dbea16a
Author: JLDLaughlin <jessica@materialize.io>
Date:   Wed Aug 21 16:33:06 2019 -0400

    add LIKE 'testdrive%' to avoid irrelevant topics

commit 5d38cf3e0e0e6b6988fb74a92dea37b342d15afb
Author: JLDLaughlin <jessica@materialize.io>
Date:   Wed Aug 21 16:09:21 2019 -0400

    filter out subjects based on like clause

commit 0a44d3ee8bbf5a80b92944529f315b098b04ca1f
Merge: 81505d9ac b29bf5008
Author: Frank McSherry <fmcsherry@me.com>
Date:   Wed Aug 21 21:35:20 2019 +0200

    Merge pull request #354 from MaterializeInc/optimization_exfiltration
    
    Move transformations to coordinator

commit b29bf500844143460ee0676f7822dfb91d2a828c
Author: Frank McSherry <fmcsherry@me.com>
Date:   Wed Aug 21 15:19:11 2019 -0400

    optimize peeks

commit 6a6d753e8304e8e7770a3f3624beb8051b9b1219
Author: Frank McSherry <fmcsherry@me.com>
Date:   Wed Aug 21 14:49:06 2019 -0400

    move transformantions to coordinator

commit 81505d9ac6c95bc795affaafd0ccc9a77b8f7803
Merge: a61bbd160 b83bb9b9d
Author: Nikhil Benesch <nikhil.benesch@gmail.com>
Date:   Wed Aug 21 14:12:08 2019 -0400

    Merge pull request #352 from MaterializeInc/doc-testing
    
    doc: add notes on running tests to developer guide

commit a61bbd160dd09596cc5cc423d9fa187464eabc6d
Merge: 4f07c62a2 ad6cdbe6c
Author: Nikhil Benesch <nikhil.benesch@gmail.com>
Date:   Wed Aug 21 14:01:08 2019 -0400

    Merge pull request #351 from MaterializeInc/exfiltrate
    
    dataflow: centralize exfiltration logic

commit b83bb9b9d34da1418d5870c91c2fb94dd3ed37a1
Author: Nikhil Benesch <nikhil.benesch@gmail.com>
Date:   Wed Aug 21 13:56:53 2019 -0400

    doc: correct notes about submitting changes
    
    The team has grown! The notes about how changes land on master were in
    need of an update.

commit 5918f167dfb2dfd1964b03beef3bef55c16a9bb6
Author: Nikhil Benesch <nikhil.benesch@gmail.com>
Date:   Wed Aug 21 02:38:42 2019 -0400

    doc: add notes on running tests to developer guide

commit ad6cdbe6ce93d26d5f291a671e3178d0173f9c2c
Author: Nikhil Benesch <nikhil.benesch@gmail.com>
Date:   Wed Aug 21 11:49:12 2019 -0400

    dataflow: don't expose panicky methods on Exfiltration
    
    Per Frank's guidance, clients of Exfiltration are now encouraged to
    handle errors properly.

commit a9adbb22b0d292ed29472f5a6ddca18255d45024
Author: Nikhil Benesch <nikhil.benesch@gmail.com>
Date:   Wed Aug 21 01:29:25 2019 -0400

    dataflow: centralize exfiltration logic
    
    PEEK and TAIL share a lot of logic about sending results back to the
    client, but that logic was previously not easily shared. Centralize that
    logic in a new exfiltrate module.
    
    Also take the opportunity to fold DataflowCommand::Tail into
    DataflowCommand::CreateDataflow, now that the connection UUID is
    available to the SQL layer and not attached via a sidechannel
    CommandMeta struct.

commit dd66cb0f3e7c6d1db6113e9ccb56a1280e8ec0aa
Author: Nikhil Benesch <nikhil.benesch@gmail.com>
Date:   Wed Aug 21 01:34:32 2019 -0400

    sqllogictest: move submodule to test/sqlite
    
    Several of our new engineers have been confused about how sqllogictest
    the submodule differs from sqllogictest the test runner. Move the
    submodule to test/sqlite, where it is symmetric to test/cockroach, and
    better enforces the rule of keeping test data files in test and source
    code in src.

commit 4f07c62a2ebe4641947397a2d14c9a4c1ab2e643
Merge: b82bb65a5 38873b1f0
Author: Nikhil Benesch <nikhil.benesch@gmail.com>
Date:   Wed Aug 21 01:29:09 2019 -0400

    Merge pull request #346 from MaterializeInc/the-great-schism
    
    *: split out dataflow and sql crates

commit 38873b1f08579225f3f3c96813e408252b58e81e
Author: Nikhil Benesch <nikhil.benesch@gmail.com>
Date:   Mon Aug 19 19:04:38 2019 -0400

    mtrlz: extract sql crate
    
    This isn't strictly necessary from a compile time perspective, but it
    makes the boundaries a bit nicer. The materialize crate now contains
    only the necessary glue code to hook up the sql and dataflow crates.

commit 20a296b31cb449dffc4c030ca0741d622c4dd941
Author: Nikhil Benesch <nikhil.benesch@gmail.com>
Date:   Mon Aug 19 18:56:48 2019 -0400

    mtrlz: extract dataflow crate
    
    This is the moment we've all been waiting for. A separate dataflow
    package means that changes to the SQL layer can often avoid recompiling
    the particularly slow differential- and timely- related code.

commit bd93a48902ce71ac2d839daf8800dd0a8d2e973a
Author: Nikhil Benesch <nikhil.benesch@gmail.com>
Date:   Mon Aug 19 18:46:45 2019 -0400

    mtrlz/glue: inline CommandMeta into DataflowCommand
    
    In order to split out dataflow and sql crates, the glue module needs to
    be removed. This is the last step towards that goal. The CommandMeta struct
    can easily be inlined into DataflowCommand, as it only contains one field,
    and is presently only used by PEEKs.
    
    This commit also removes the glue module, since it no longer contains any
    objects.

commit ad973909b36237f3840733b07dc4b4eea4c5c91a
Author: Nikhil Benesch <nikhil.benesch@gmail.com>
Date:   Mon Aug 19 18:24:25 2019 -0400

    mtrlz/glue: inline CommandMeta into SqlCommand
    
    In order to split out dataflow and sql crates, the glue module needs to
    be removed. This is another step towards that goal. The CommandMeta struct
    can easily be inlined into SqlCommand, as it only contains one field.

commit c157324a5c98d5d92b0bb06602203abe90372682
Author: Nikhil Benesch <nikhil.benesch@gmail.com>
Date:   Mon Aug 19 18:15:52 2019 -0400

    mtrlz/glue: remove dataflow-related types
    
    In order to split out dataflow and sql crates, the glue module needs to
    be removed. This is another step towards that goal. The SqlResult,
    SqlResponse, and SqlCommand structs all logically belong in the dataflow
    module anyway.

commit 2d34b1e084a7b80d92ce0fded26b1936f5b2f2dc
Author: Nikhil Benesch <nikhil.benesch@gmail.com>
Date:   Mon Aug 19 18:07:00 2019 -0400

    mtrlz/glue: remove sql-related types
    
    In order to split out dataflow and sql crates, the glue module needs to
    be removed. This is another step towards that goal. The SqlResult,
    SqlResponse, and SqlCommand structs all logically belong in the sql module
    anyway.

commit 5e8b0786a2d0444e966dfd9061028d5fe94c99e6
Author: Nikhil Benesch <nikhil.benesch@gmail.com>
Date:   Mon Aug 19 17:59:28 2019 -0400

    mtrlz/glue: remove re-exports
    
    In order to split out dataflow and sql crates, the glue module needs to
    be removed. This is another step towards that goal. These re-exports
    can be inlined in the modules that use them.

commit 81f4ea2eda08225402d1d9291613e627cc2c5484
Author: Nikhil Benesch <nikhil.benesch@gmail.com>
Date:   Mon Aug 19 17:51:39 2019 -0400

    mtrlz/glue: extract Mux into ore crate
    
    In order to split out dataflow and sql crates, the glue module needs to
    be removed. This is one step towards that goal. Mux is a general
    purpose type that neatly fits into our utility crate ore.

commit 5d8eed43ac9bc06f936d25af641d732a76e0d778
Author: Nikhil Benesch <nikhil.benesch@gmail.com>
Date:   Mon Aug 19 17:10:43 2019 -0400

    materialize: extract interchange crate

commit b82bb65a5217d3006f25d4c68b5997bda44c15fb
Merge: d8e945960 7a40ae305
Author: Nikhil Benesch <nikhil.benesch@gmail.com>
Date:   Tue Aug 20 23:46:55 2019 -0400

    Merge pull request #350 from MaterializeInc/decimal-arithmetic
    
    sql: fix decimal arithmetic involving integral literals

commit 7a40ae305de4be413635c15a3808aff13c529cba
Author: Nikhil Benesch <nikhil.benesch@gmail.com>
Date:   Tue Aug 20 18:56:06 2019 -0400

    sql: fix decimal arithmetic involving integral literals
    
    We were not properly coalescing types when integer literals were
    involved.
    
    h/t @quodlibetor for catching this

commit d8e945960fcc70f869b715b3e1a058f5738b9f1b
Merge: 02b28649e 29f580eef
Author: Robert Grimm <3990077+apparebit@users.noreply.github.com>
Date:   Tue Aug 20 16:32:47 2019 -0400

    Merge pull request #348 from MaterializeInc/ready-set
    
    Fully implement UNION, EXCEPT, and INTERSECT

commit 02b28649ea7e752c950e45f3005fecab79bb5bf1
Author: Brennan Vincent <brennan@materialize.io>
Date:   Tue Aug 20 16:17:09 2019 -0400

    Implement TAIL command on backend (#327)

commit 324a82b3ca2ce61b0209707b36cf8028fa167726
Merge: e15ab93a7 e5fd55cc2
Author: Robert Grimm <3990077+apparebit@users.noreply.github.com>
Date:   Tue Aug 20 15:50:52 2019 -0400

    Merge pull request #347 from MaterializeInc/ignorance-is-bliss
    
    Ignore configuration state for IntelliJ IDEs

commit e15ab93a74016bd23d9671a69b2d7a5434527a96
Merge: 6425a57b3 7a385bb09
Author: Nikhil Benesch <nikhil.benesch@gmail.com>
Date:   Tue Aug 20 15:47:42 2019 -0400

    Merge pull request #340 from MaterializeInc/dependabot/cargo/serde-1.0.99
    
    build(deps): bump serde from 1.0.98 to 1.0.99

commit 29f580eefb2ddf6e4bf7b02683adfa0929954aec
Author: Robert Grimm <grimmr@materialize.io>
Date:   Tue Aug 20 15:47:27 2019 -0400

    Use rustfmt or be called out by SkyNet

commit 6425a57b331ff9a5d658c5982a906f66993c88bf
Merge: 81192d407 9ea39cd29
Author: Nikhil Benesch <nikhil.benesch@gmail.com>
Date:   Tue Aug 20 15:47:27 2019 -0400

    Merge pull request #343 from MaterializeInc/bai-clippy
    
    *: remove some unnecessary clippy allow directives

commit 7de0df0f68baaf0c581eaef5d649196259c0e115
Author: Robert Grimm <grimmr@materialize.io>
Date:   Tue Aug 20 15:35:11 2019 -0400

    Add clarifying comment for not needing another threshold()

commit 42021464e03327143b83a203ad52bf44b3485a84
Author: Robert Grimm <grimmr@materialize.io>
Date:   Tue Aug 20 15:00:02 2019 -0400

    Correctly implement UNION, EXCEPT, and INTERSECT
    
    With each set operator, in that order, becoming more complex. Notably, INTERSECT is expressed in terms of EXCEPT.

commit e5fd55cc21fc890c516328b0581c63f4d1289698
Author: Robert Grimm <grimmr@materialize.io>
Date:   Tue Aug 20 11:55:45 2019 -0400

    Ignore configuration state for IntelliJ IDEs

commit 7a385bb09ef0698dce9f3ac7bd45e4f5509024ab
Author: dependabot-preview[bot] <27856297+dependabot-preview[bot]@users.noreply.github.com>
Date:   Tue Aug 20 13:52:47 2019 +0000

    build(deps): bump serde from 1.0.98 to 1.0.99
    
    Bumps [serde](https://github.com/serde-rs/serde) from 1.0.98 to 1.0.99.
    - [Release notes](https://github.com/serde-rs/serde/releases)
    - [Commits](https://github.com/serde-rs/serde/compare/v1.0.98...v1.0.99)
    
    Signed-off-by: dependabot-preview[bot] <support@dependabot.com>

commit 81192d4074d3bb34d019d6133ed17792f5574f70
Merge: 8ffbcb075 fd0f45159
Author: Nikhil Benesch <nikhil.benesch@gmail.com>
Date:   Tue Aug 20 09:50:46 2019 -0400

    Merge pull request #339 from MaterializeInc/dependabot/cargo/differential-dataflow-c78b860
    
    build(deps): bump differential-dataflow from `6e67400` to `c78b860`

commit 8ffbcb07568194207c70ba61d88e4add16abca56
Merge: 99b6a84d9 af5d94c08
Author: Nikhil Benesch <nikhil.benesch@gmail.com>
Date:   Tue Aug 20 09:50:33 2019 -0400

    Merge pull request #335 from MaterializeInc/dependabot/cargo/timely-b63bea6
    
    build(deps): bump timely from `0b6ba22` to `b63bea6`

commit 9ea39cd29cb6e5e1c3d4a34b4e4821312fa48ce2
Author: Nikhil Benesch <nikhil.benesch@gmail.com>
Date:   Mon Aug 19 13:46:24 2019 -0400

    *: remove some unnecessary clippy allow directives
    
    These lints are now globally allowed in bin/check, so the specific
    overrides are no longer necessary.

commit af5d94c08b444c98568f0f7ad4b5feeb6e979f67
Author: dependabot-preview[bot] <27856297+dependabot-preview[bot]@users.noreply.github.com>
Date:   Mon Aug 19 21:11:32 2019 +0000

    build(deps): bump timely from `0b6ba22` to `b63bea6`
    
    Bumps [timely](https://github.com/TimelyDataflow/timely-dataflow) from `0b6ba22` to `b63bea6`.
    - [Release notes](https://github.com/TimelyDataflow/timely-dataflow/releases)
    - [Commits](https://github.com/TimelyDataflow/timely-dataflow/compare/0b6ba222eb262aa8a22048ebd0b14bb9383c4967...b63bea65438a482477463f816cccf72dacaba8da)
    
    Signed-off-by: dependabot-preview[bot] <support@dependabot.com>

commit 99b6a84d94a5633de5b064f090fc3227fa7128de
Merge: 1fa047515 d5559a605
Author: Nikhil Benesch <nikhil.benesch@gmail.com>
Date:   Mon Aug 19 17:09:20 2019 -0400

    Merge pull request #336 from MaterializeInc/dependabot/cargo/serde_derive-1.0.99
    
    build(deps): bump serde_derive from 1.0.98 to 1.0.99

commit 1fa047515756faf40bb8ff58ab9ec4ea9a1c0f61
Merge: a0fd8ff12 ba1adfb12
Author: Nikhil Benesch <nikhil.benesch@gmail.com>
Date:   Mon Aug 19 17:08:44 2019 -0400

    Merge pull request #337 from MaterializeInc/dependabot/cargo/slog-stdlog-4.0.0
    
    build(deps): bump slog-stdlog from 3.0.5 to 4.0.0

commit a0fd8ff12d7997e691e64106bcd31dd99e965db2
Merge: d6d5a9346 865a86916
Author: Nikhil Benesch <nikhil.benesch@gmail.com>
Date:   Mon Aug 19 17:07:40 2019 -0400

    Merge pull request #338 from MaterializeInc/dependabot/cargo/backtrace-0.3.35
    
    build(deps): bump backtrace from 0.3.34 to 0.3.35

commit d6d5a934620a4c41ecf44fc22d97b2842aabebe4
Merge: 01cdde408 b9dbbed82
Author: Nikhil Benesch <nikhil.benesch@gmail.com>
Date:   Mon Aug 19 17:07:12 2019 -0400

    Merge pull request #341 from MaterializeInc/dependabot/cargo/sqlparser-c17eb41
    
    build(deps): bump sqlparser from `5c6832a` to `c17eb41`

commit 01cdde408bdf5975ed57803c1d25485059e6c6f6
Merge: d05b3c750 2652f5ed0
Author: Robert Grimm <3990077+apparebit@users.noreply.github.com>
Date:   Mon Aug 19 16:21:47 2019 -0400

    Merge pull request #345 from MaterializeInc/thresholding
    
    Add the Threshold differential dataflow operator

commit d05b3c750153284c803d7ec239ece21dc6c549a8
Merge: d0c18abeb f79d90f75
Author: Robert Grimm <3990077+apparebit@users.noreply.github.com>
Date:   Mon Aug 19 16:14:46 2019 -0400

    Merge pull request #344 from MaterializeInc/big-ass-rules
    
    Add nice horizontal rules for readability

commit 2652f5ed00392ff5d471137a43a3f64d2a60b069
Author: Robert Grimm <grimmr@materialize.io>
Date:   Mon Aug 19 16:04:00 2019 -0400

    Add the Threshold differential dataflow operator

commit f79d90f754131ce260b90510261bdd397b680316
Author: Robert Grimm <grimmr@materialize.io>
Date:   Mon Aug 19 14:30:27 2019 -0400

    Appease the "hygiene" check

commit fd0f4515907eac7c5aeee4256a40f6b7d8fbd549
Author: dependabot-preview[bot] <27856297+dependabot-preview[bot]@users.noreply.github.com>
Date:   Mon Aug 19 18:21:48 2019 +0000

    build(deps): bump differential-dataflow from `6e67400` to `c78b860`
    
    Bumps [differential-dataflow](https://github.com/TimelyDataflow/differential-dataflow) from `6e67400` to `c78b860`.
    - [Release notes](https://github.com/TimelyDataflow/differential-dataflow/releases)
    - [Commits](https://github.com/TimelyDataflow/differential-dataflow/compare/6e67400512565b00fa0202f75a2ac6d4f8a3ab8d...c78b860af3f4b6148c8bedbf3f13a5eb1c006b23)
    
    Signed-off-by: dependabot-preview[bot] <support@dependabot.com>

commit d0c18abeb39637ddd788caded68750e3a74441ca
Merge: 2f8e5fd16 e1fe70491
Author: Nikhil Benesch <nikhil.benesch@gmail.com>
Date:   Mon Aug 19 14:18:48 2019 -0400

    Merge pull request #342 from MaterializeInc/repr-split
    
    repr,dataflow: continue extraction into crates

commit ded6dd469b553c94c3857e2c988748eefcacb9d1
Author: Robert Grimm <grimmr@materialize.io>
Date:   Mon Aug 19 14:10:12 2019 -0400

    Add nice horizontal rules for readability

commit e1fe704916d9755af8c0933c98ea8bc49a7785a0
Author: Nikhil Benesch <nikhil.benesch@gmail.com>
Date:   Mon Aug 19 13:31:11 2019 -0400

    dataflow: move transforms to expr
    
    This will facilitate fast unit testing of the transformations, as they
    don't depend on differential dataflow.

commit e6797650ba10466b490aedae1b0bd7beea2d1f9c
Author: Nikhil Benesch <nikhil.benesch@gmail.com>
Date:   Mon Aug 19 13:23:47 2019 -0400

    dataflow: extract an expr package
    
    Move the expression language out of the dataflow module into its own
    crate, called expr. This is another step towards breaking the
    SQL-differential dataflow dependency edge.

commit cfade4d65f2c5f2b7c4cc60f749f2a62562b4302
Author: Nikhil Benesch <nikhil.benesch@gmail.com>
Date:   Mon Aug 19 11:25:43 2019 -0400

    repr: reorganize into proper modules
    
    repr/lib.rs was getting a bit large. Split into proper modules.

commit b9dbbed82b447d683260f3dbe09dc58e9195deb4
Author: dependabot-preview[bot] <27856297+dependabot-preview[bot]@users.noreply.github.com>
Date:   Mon Aug 19 15:55:41 2019 +0000

    build(deps): bump sqlparser from `5c6832a` to `c17eb41`
    
    Bumps [sqlparser](https://github.com/MaterializeInc/sqlparser) from `5c6832a` to `c17eb41`.
    - [Release notes](https://github.com/MaterializeInc/sqlparser/releases)
    - [Commits](https://github.com/MaterializeInc/sqlparser/compare/5c6832a735fa85d33e43bc237098bf4b87af0fd0...c17eb41cc1c69098b38fab5841fc4701e9a4e5bb)
    
    Signed-off-by: dependabot-preview[bot] <support@dependabot.com>

commit 865a869164c644adaa73cb8a4559bd0ece84e0d5
Author: dependabot-preview[bot] <27856297+dependabot-preview[bot]@users.noreply.github.com>
Date:   Mon Aug 19 15:54:49 2019 +0000

    build(deps): bump backtrace from 0.3.34 to 0.3.35
    
    Bumps [backtrace](https://github.com/rust-lang/backtrace-rs) from 0.3.34 to 0.3.35.
    - [Release notes](https://github.com/rust-lang/backtrace-rs/releases)
    - [Commits](https://github.com/rust-lang/backtrace-rs/compare/0.3.34...0.3.35)
    
    Signed-off-by: dependabot-preview[bot] <support@dependabot.com>

commit ba1adfb124bbf78fb7382a7ab7f32ddeb05b1f4d
Author: dependabot-preview[bot] <27856297+dependabot-preview[bot]@users.noreply.github.com>
Date:   Mon Aug 19 15:54:28 2019 +0000

    build(deps): bump slog-stdlog from 3.0.5 to 4.0.0
    
    Bumps [slog-stdlog](https://github.com/slog-rs/stdlog) from 3.0.5 to 4.0.0.
    - [Release notes](https://github.com/slog-rs/stdlog/releases)
    - [Changelog](https://github.com/slog-rs/stdlog/blob/master/CHANGELOG.md)
    - [Commits](https://github.com/slog-rs/stdlog/commits/v4.0.0)
    
    Signed-off-by: dependabot-preview[bot] <support@dependabot.com>

commit d5559a60591008872b9a27e9a1673960c9302e5d
Author: dependabot-preview[bot] <27856297+dependabot-preview[bot]@users.noreply.github.com>
Date:   Mon Aug 19 15:54:06 2019 +0000

    build(deps): bump serde_derive from 1.0.98 to 1.0.99
    
    Bumps [serde_derive](https://github.com/serde-rs/serde) from 1.0.98 to 1.0.99.
    - [Release notes](https://github.com/serde-rs/serde/releases)
    - [Commits](https://github.com/serde-rs/serde/compare/v1.0.98...v1.0.99)
    
    Signed-off-by: dependabot-preview[bot] <support@dependabot.com>

commit 2f8e5fd1651a1abeaf98c91b621dc5baf9c474b4
Merge: 5c3121306 18102a695
Author: Nikhil Benesch <nikhil.benesch@gmail.com>
Date:   Fri Aug 16 18:13:47 2019 -0400

    Merge pull request #334 from MaterializeInc/colnames
    
    sql: retain column names on simple projections

commit 18102a695c77da42f92c14ca24781724c8b1dc0a
Author: Nikhil Benesch <nikhil.benesch@gmail.com>
Date:   Fri Aug 16 17:56:12 2019 -0400

    sql: retain column names on simple projections
    
    Fix #323.

commit 5c312130669ba21c135d2ca54aa206f6316a6ee7
Merge: 74ee24da4 b81350e0d
Author: Robert Grimm <3990077+apparebit@users.noreply.github.com>
Date:   Fri Aug 16 14:00:35 2019 -0400

    Merge pull request #328 from MaterializeInc/apparebit-patch-1
    
    Document alternatives for GitHub Authentication

commit 74ee24da410a253e394667f8a13763c66fb2539c
Merge: 09701de6a 52ba66eb5
Author: Nikhil Benesch <nikhil.benesch@gmail.com>
Date:   Fri Aug 16 10:53:34 2019 -0400

    Merge pull request #330 from MaterializeInc/repr-crate
    
    repr: extract into crate

commit 52ba66eb52dff240c4dcacbc70e6124c88cb5772
Author: Nikhil Benesch <nikhil.benesch@gmail.com>
Date:   Thu Aug 15 17:05:55 2019 -0400

    repr: extract into crate
    
    Part of an effort to reduce compile times. Extracting repr into its own
    crate facilitates breaking the dependency between sql and dataflow.

commit 09701de6aa9dad31d12beabd286b28b8c4202902
Merge: baa46151a 631f8201e
Author: Nikhil Benesch <nikhil.benesch@gmail.com>
Date:   Fri Aug 16 10:34:56 2019 -0400

    Merge pull request #331 from benesch/clippy
    
    bin/check: tweak clippy settings

commit baa46151a12d0e6afa31da525ddfc67d687b3413
Merge: 782f5c91b 794c4a35a
Author: Nikhil Benesch <nikhil.benesch@gmail.com>
Date:   Fri Aug 16 00:29:10 2019 -0400

    Merge pull request #329 from MaterializeInc/show-set
    
    sql: support configuration parameters

commit 631f8201efa3b64c8b328c4afa73312da1346c97
Author: Nikhil Benesch <nikhil.benesch@gmail.com>
Date:   Fri Aug 16 00:20:33 2019 -0400

    bin/check: disable large_enum_variant
    
    This lint has literally never been helpful.

commit b81549e3b47a9fb2081f8d364e2d0c763a17eadd
Author: Nikhil Benesch <nikhil.benesch@gmail.com>
Date:   Fri Aug 16 00:19:53 2019 -0400

    bin/check: re-enable clippy::identity_conversion
    
    Now that we're on Rust 1.36, we can re-enable this clippy lint that was
    busted on Rust 1.35.

commit c7bc93b72d39cb36ba2a53094a5950f6abcb7410
Author: Nikhil Benesch <nikhil.benesch@gmail.com>
Date:   Fri Aug 16 00:18:41 2019 -0400

    bin/check: use underscore format in clippy lint
    
    For consistency with the other lints in this file, use underscores, not
    dashes.

commit 794c4a35ad63aa50b7a2f1f7f402e8e0feb9563a
Author: Nikhil Benesch <nikhil.benesch@gmail.com>
Date:   Thu Aug 15 15:28:01 2019 -0400

    sql: support configuration parameters
    
    PostgreSQL has a notion of configuration parameters, like `DateStyle`
    and `client_encoding`. Clients besides `psql` get very upset when these
    parameters are not present. This commit introduces support for some of
    the fundamental configuration parameters, which brings us close to
    supporting pgcli and suppresses a number of warnings when using
    `cockroach sql` to connect. (We may want to use one of these alternate
    CLIs for better TAIL support in the demo.)
    
    Configuration parameters can be observed with the `SHOW` statement and
    changed with the `SET` statement.

commit 782f5c91b392fdc2d657ed7a8ef9793641768d82
Merge: 9c178ed7c 19819f4d2
Author: Frank McSherry <fmcsherry@me.com>
Date:   Thu Aug 15 23:06:32 2019 +0200

    Merge pull request #320 from MaterializeInc/trace_compaction
    
    Trace compaction

commit 19819f4d27496361db9dc2e12e0abad7bc31da26
Author: Frank McSherry <fmcsherry@me.com>
Date:   Thu Aug 15 16:57:56 2019 -0400

    review edits

commit d20910bda5d7ba3c566c10fda2eb66ec57a345f0
Author: Nikhil Benesch <nikhil.benesch@gmail.com>
Date:   Thu Aug 15 15:17:29 2019 -0400

    testdrive: allow spaces in expected SQL output when quoted

commit b81350e0df7f94912b0c2bb34d4b2c88f57b08f9
Author: Robert Grimm <3990077+apparebit@users.noreply.github.com>
Date:   Thu Aug 15 15:32:31 2019 -0400

    Make reality and documentation converge
    
    With thanks to @benesch for the feedback!

commit d23590e103c2b523f2d103876e295ef953e1afa3
Author: Robert Grimm <3990077+apparebit@users.noreply.github.com>
Date:   Thu Aug 15 14:14:30 2019 -0400

    Document alternatives for GitHub Authentication
    
    I kept running into password prompts and couldn't use command line tools. The documented setup is simple enough and works.

commit 0ea520dfbb2452fa8ee96cac6e51793b93ea5756
Author: Frank McSherry <fmcsherry@me.com>
Date:   Thu Aug 15 13:55:14 2019 -0400

    collecting logs, logging collections

commit 9c178ed7cdda7108e8084334730809ff7164ec96
Merge: b9f0c2a6a 70c7df601
Author: Nikhil Benesch <nikhil.benesch@gmail.com>
Date:   Wed Aug 14 16:05:04 2019 -0400

    Merge pull request #326 from MaterializeInc/nagle
    
    server: disable tinygram prevention (Nagle's algorithm) via TCP_NODELAY

commit 70c7df601804c5219ce8aff4fc69168812c7dfb9
Author: Nikhil Benesch <nikhil.benesch@gmail.com>
Date:   Wed Aug 14 15:55:25 2019 -0400

    dataflow: also disable tinygram prevention on reqwest client
    
    This is in the spirit of the laste commit, but is more about avoiding
    future problems than avoiding any observed problems at the moment.

commit 4d7cafdb52bf90f22faa8717d1eb0e6d13dda0fd
Author: Nikhil Benesch <nikhil.benesch@gmail.com>
Date:   Wed Aug 14 14:27:00 2019 -0400

    server: disable tinygram prevention (Nagle's algorithm) via TCP_NODELAY
    
    Tinygram prevention interacts poorly with delayed acks on Linux,
    resulting in 40ms of forced latency between successive queries.

commit fae48e83430cba8f2d36e5dbe308e1dec5212cd5
Author: Nikhil Benesch <nikhil.benesch@gmail.com>
Date:   Wed Aug 14 14:20:32 2019 -0400

    pgwire: batch sends together better
    
    There's no need to split DataRow and CommandComplete messages into two
    separate packets.

commit b9f0c2a6a98abf65e5bbbf134c9aafd03066d53d
Merge: a7450fb6c 9f8e29900
Author: Frank McSherry <fmcsherry@me.com>
Date:   Wed Aug 14 19:07:50 2019 +0200

    Merge pull request #322 from MaterializeInc/set-operation-errors
    
    sql: improve error messages about unsupported set operations

commit a7450fb6cb77100516fae37e2fc4187ff6b4fab6
Merge: 74ce074da f0188d03f
Author: Robert Grimm <3990077+apparebit@users.noreply.github.com>
Date:   Tue Aug 13 22:31:43 2019 -0400

    Merge pull request #319 from MaterializeInc/apparebit-patch-1
    
    Update and streamline installation instructions

commit 9f8e299006f03c99828da087b6323ce2f8dc6bd5
Author: Nikhil Benesch <nikhil.benesch@gmail.com>
Date:   Tue Aug 13 18:10:32 2019 -0400

    sql: improve error messages about unsupported set operations
    
    It's not that we don't support any set operations; we just don't support
    any set operations besides UNION [ALL].

commit 1cd5749e64ef5a146b1a9a557513e889c2d016ad
Author: Frank McSherry <fmcsherry@me.com>
Date:   Tue Aug 13 15:39:53 2019 -0400

    trace compaction enabled

commit 74ce074daa05923888832a8a498c0d0fbfdf6486
Merge: 247d382f9 5cdd0e4e5
Author: Nikhil Benesch <nikhil.benesch@gmail.com>
Date:   Tue Aug 13 11:50:40 2019 -0400

    Merge pull request #312 from MaterializeInc/ex
    
    Add basic CH-benCHmark demo

commit 5cdd0e4e5767d1e79f437fa306e24974ecf756a6
Author: Nikhil Benesch <nikhil.benesch@gmail.com>
Date:   Wed Aug 7 18:41:59 2019 -0400

    Add basic CH-benCHmark demo

commit f0188d03f2a8365657757909bf930356f79122ab
Author: Robert Grimm <3990077+apparebit@users.noreply.github.com>
Date:   Tue Aug 13 10:58:38 2019 -0400

    Brought back magic nix incantation
    
    It's an odd snippet because it doesn't explain into which `materialize` directory the user should descend. But that's for somebody else to fix.

commit ca3fc58e63e15c2545c8875d2f583152ce92cc0d
Author: Frank McSherry <fmcsherry@me.com>
Date:   Mon Aug 12 18:53:28 2019 -0400

    EnableCompaction command

commit 247d382f92fa96c032b90a478b0d722666e4589f
Merge: 8bc5f200d e79c67e89
Author: Frank McSherry <fmcsherry@me.com>
Date:   Tue Aug 13 00:12:01 2019 +0200

    Merge pull request #311 from MaterializeInc/materialize_logs
    
    Additional logging features

commit 91e4d1ed018da9af8f0ae1c10490dbd208d8c78a
Author: Robert Grimm <3990077+apparebit@users.noreply.github.com>
Date:   Mon Aug 12 17:22:07 2019 -0400

    Update and streamline installation instructions

commit e79c67e89e4640940860df58e9ae1739621fe695
Author: Frank McSherry <fmcsherry@me.com>
Date:   Mon Aug 12 17:21:23 2019 -0400

    amend clippy, refactor

commit 8bc5f200d0f484577bad363541bafbc3cadf005a
Merge: 9922f4668 08051d9a2
Author: Nikhil Benesch <nikhil.benesch@gmail.com>
Date:   Mon Aug 12 16:34:30 2019 -0400

    Merge pull request #315 from MaterializeInc/dependabot/cargo/rand-0.7.0
    
    build(deps): bump rand from 0.6.5 to 0.7.0

commit 9922f46687ed31dca424ddadbcf23693d299d029
Merge: 8838be397 672883b25
Author: Frank McSherry <fmcsherry@me.com>
Date:   Mon Aug 12 19:09:36 2019 +0200

    Merge pull request #314 from MaterializeInc/dependabot/cargo/differential-dataflow-8ded097
    
    build(deps): bump differential-dataflow from `5c1d9e4` to `8ded097`

commit 08051d9a2851f6abb8c72bc09b881e8acc198630
Author: dependabot-preview[bot] <27856297+dependabot-preview[bot]@users.noreply.github.com>
Date:   Mon Aug 12 16:11:26 2019 +0000

    build(deps): bump rand from 0.6.5 to 0.7.0
    
    Bumps [rand](https://github.com/rust-random/rand) from 0.6.5 to 0.7.0.
    - [Release notes](https://github.com/rust-random/rand/releases)
    - [Changelog](https://github.com/rust-random/rand/blob/master/CHANGELOG.md)
    - [Commits](https://github.com/rust-random/rand/commits)
    
    Signed-off-by: dependabot-preview[bot] <support@dependabot.com>

commit 8838be397e3200b8fe941865963ade514937f519
Merge: 4c20e364d b73a11a7a
Author: Nikhil Benesch <nikhil.benesch@gmail.com>
Date:   Mon Aug 12 12:09:10 2019 -0400

    Merge pull request #313 from MaterializeInc/rdkafka-mainline
    
    deps: switch back to mainline rdkafka

commit 672883b25d38bda079303bb526be83c598c0993a
Author: dependabot-preview[bot] <27856297+dependabot-preview[bot]@users.noreply.github.com>
Date:   Mon Aug 12 12:30:58 2019 +0000

    build(deps): bump differential-dataflow from `5c1d9e4` to `8ded097`
    
    Bumps [differential-dataflow](https://github.com/TimelyDataflow/differential-dataflow) from `5c1d9e4` to `8ded097`.
    - [Release notes](https://github.com/TimelyDataflow/differential-dataflow/releases)
    - [Commits](https://github.com/TimelyDataflow/differential-dataflow/compare/5c1d9e4e24648c2edf2cba41af01f20f517db823...8ded097a17ec9d904b0ff7ba4d10c7a75ffb7fd5)
    
    Signed-off-by: dependabot-preview[bot] <support@dependabot.com>

commit b73a11a7a8a9101a93bb845e5da69d60f32c81d0
Author: Nikhil Benesch <nikhil.benesch@gmail.com>
Date:   Sun Aug 11 16:14:44 2019 +0000

    deps: switch back to mainline rdkafka
    
    The Kafka admin client patch has landed upstream, so we can switch back
    to mainline rdkafka. Unfortunately the patch hasn't yet made it into a
    release, so we're stuck depending on git master.

commit fa583ecd886b55359ba53fced962503c0a02a5ee
Author: Frank McSherry <fmcsherry@me.com>
Date:   Fri Aug 9 18:05:43 2019 -0400

    logs_messages

commit d51431492412621849d4db434950665bc4220113
Author: Frank McSherry <fmcsherry@me.com>
Date:   Fri Aug 9 15:11:17 2019 -0400

    update tests

commit 0a99176a205459e491225ec8f01cb61de973702d
Author: Frank McSherry <fmcsherry@me.com>
Date:   Fri Aug 9 14:41:42 2019 -0400

    additional logging features

commit 160dc4ac4c294d330b95c2fe3c07923b62da279c
Author: Nikhil Benesch <nikhil.benesch@gmail.com>
Date:   Fri Aug 9 11:20:57 2019 -0400

    Fix buffer overflows

commit 7b1cd592782c767f746a0abdfe811d67c915ca5d
Author: Nikhil Benesch <nikhil.benesch@gmail.com>
Date:   Fri Aug 9 11:18:53 2019 -0400

    Compile with debugging information

commit 4c20e364de7d5572f52507140e43e72b4d0e2f8d
Merge: 6d95ec7cf 0fb988811
Author: Frank McSherry <fmcsherry@me.com>
Date:   Fri Aug 9 00:10:14 2019 +0200

    Merge pull request #309 from MaterializeInc/logging_repair
    
    Logging repair

commit 6d95ec7cfb8a02eb1bde1be9b1a468fad7e496f4
Merge: f5c8bac34 af15e5c64
Author: Frank McSherry <fmcsherry@me.com>
Date:   Fri Aug 9 00:09:37 2019 +0200

    Merge pull request #304 from MaterializeInc/trailing-newline-fix
    
    lint/trailing-newline: on error, print correct file, not the first file

commit dfd24c19404d24e75d425f63c95294c5ab1991b0
Author: Nikhil Benesch <nikhil.benesch@gmail.com>
Date:   Thu Aug 8 17:43:16 2019 -0400

    Lowercase more things

commit a82da1695575ffe039af63557d5b829b6908a937
Author: Nikhil Benesch <nikhil.benesch@gmail.com>
Date:   Thu Aug 8 17:42:53 2019 -0400

    Fix segfault

commit 0fb9888113ce09ceed369f92b1b7bdd11a6b132e
Author: Nikhil Benesch <nikhil.benesch@gmail.com>
Date:   Thu Aug 8 15:44:26 2019 -0400

    testdrive: disable garbage collection on Kafka topics
    
    Kafka has a default 7-day retention policy, and testdrive uses
    timestamps that appear to be from the 1970s. This results in Kafka
    occasionally destroying data while our tests are running, if we are
    unlucky enough to be running tests while the Kafka garbage collector is
    active. (By default, the Kafka GC runs every 5m.)
    
    This hopefully fixes the CI hangs we've been seeing.

commit edbace940030b11f504da0f2b73d92719ecda153
Author: Frank McSherry <fmcsherry@me.com>
Date:   Wed Aug 7 17:22:24 2019 -0400

    dataflow: rework logging
    
    This commit repairs several things about the logging infrastructure that have
    fallen out of sync with various changes to peek discipline and coordination. It
    is now driven more by logging enums which should ensure more consistency across
    their uses, and allow us to more easily drop in references to them where
    required.

commit f5c8bac34495944d8aa52d0e834f5079de96f77e
Merge: c79842c4f f80b48754
Author: Nikhil Benesch <nikhil.benesch@gmail.com>
Date:   Thu Aug 8 15:05:04 2019 -0400

    Merge pull request #310 from MaterializeInc/cuongdo/fix-demo-typos
    
    s/mtrz-produce/mtrlz-produce/g

commit f80b487541b2e096664b9f3e6da7456d921c504d
Author: Cuong Do <cdo@materialize.io>
Date:   Thu Aug 8 13:39:31 2019 -0400

    s/mtrz-produce/mtrlz-produce/g

commit 8397b1f3a9512904a8a406c99286271d50ebb69e
Author: Nikhil Benesch <nikhil.benesch@gmail.com>
Date:   Thu Aug 8 00:53:23 2019 -0400

    Fix pthread barrier check (again)

commit 242d0e61355f35d4199d2d7723630b4f71799c1d
Author: Nikhil Benesch <nikhil.benesch@gmail.com>
Date:   Wed Aug 7 23:40:57 2019 -0400

    Consistently lowercase all table references
    
    Apparently these are not case sensitive on macOS but they are on Linux
    (?!?!?!).

commit 072b484129b31b7bf5cb72ee883af2e20cbe4d76
Author: Nikhil Benesch <nikhil.benesch@gmail.com>
Date:   Wed Aug 7 23:24:53 2019 -0400

    Support case-sensitive file systems

commit 684ea3e69d57854f5d8c48b7b0013aa1a66b777b
Author: Nikhil Benesch <nikhil.benesch@gmail.com>
Date:   Wed Aug 7 23:12:41 2019 -0400

    Use relative gen dir paths during run

commit c79842c4f2b083ce1f18c2e09c88490f1ee62dd5
Merge: 836cb4ade 002dd91e0
Author: Frank McSherry <fmcsherry@me.com>
Date:   Wed Aug 7 23:52:59 2019 +0200

    Merge pull request #308 from MaterializeInc/nicer-demo
    
    Make demo nicer

commit 002dd91e0018f0c6793d776eeadcd538763bfa4a
Author: Brandon W Maister <bwm@materialize.io>
Date:   Wed Aug 7 15:16:17 2019 -0400

    Make demo nicer

commit ac154fc5d312d15cebd0fc0605c6f07c525ca698
Author: Nikhil Benesch <nikhil.benesch@gmail.com>
Date:   Wed Aug 7 16:22:26 2019 -0400

    Add Docker builds

commit 836cb4ade5c26a342d89fc3c867d757891c68c37
Merge: 65b36354c b670595aa
Author: Frank McSherry <fmcsherry@me.com>
Date:   Wed Aug 7 22:11:55 2019 +0200

    Merge pull request #306 from MaterializeInc/coordinator
    
    Introduce coordinator

commit 4cfca2a781511ebd3a1cc3a73e772ab24d39a5db
Author: Nikhil Benesch <nikhil.benesch@gmail.com>
Date:   Wed Aug 7 15:58:49 2019 -0400

    Excise some global mutable state

commit b670595aab5fb9534b1a04ef46364495e2f0f09c
Author: Frank McSherry <fmcsherry@me.com>
Date:   Wed Aug 7 14:59:15 2019 -0400

    tidy up things

commit 15911b41bedaed5e01db04c4661c94f879a5d800
Author: Nikhil Benesch <nikhil.benesch@gmail.com>
Date:   Wed Aug 7 14:34:17 2019 -0400

    Proper atomics

commit 2c8ef6cb9a3e120fcfa69a2b698b9eba3d123cda
Author: Nikhil Benesch <nikhil.benesch@gmail.com>
Date:   Wed Aug 7 14:07:50 2019 -0400

    Space after casts

commit 95f03ac67785a2f65c647f437af08dee15e0084a
Author: Nikhil Benesch <nikhil.benesch@gmail.com>
Date:   Wed Aug 7 13:56:09 2019 -0400

    Remove 'using namespace std'

commit 331eed6d20c1879ba3bf5c32a7f41eb811586af4
Author: Nikhil Benesch <nikhil.benesch@gmail.com>
Date:   Wed Aug 7 13:51:21 2019 -0400

    Better option handling

commit 776708f88228cf772a47a3202d72bbe09cc5d68f
Author: Frank McSherry <fmcsherry@me.com>
Date:   Wed Aug 7 13:26:00 2019 -0400

    add coordinator.rs

commit dd1d61e80417c1d0aada63b83d5e2f86c5c113ba
Author: Frank McSherry <fmcsherry@me.com>
Date:   Wed Aug 7 11:59:46 2019 -0400

    introduce coordinator

commit 91929a9dda84409a85572af1c5bb2fd4751a76fb
Author: Nikhil Benesch <nikhil.benesch@gmail.com>
Date:   Tue Aug 6 23:09:06 2019 -0400

    Clean up build system

commit b78ca4c0ce9b2a3fcaf55a7f74f13535faee3d27
Author: Nikhil Benesch <nikhil.benesch@gmail.com>
Date:   Tue Aug 6 22:52:59 2019 -0400

    clang-format

commit 770979dc244969f76c35c8f8fddd6d6806fcea79
Author: Nikhil Benesch <nikhil.benesch@gmail.com>
Date:   Mon Aug 5 16:38:07 2019 -0400

    Add support for MySQL

commit 65b36354c3021de6646d45714eca50ab8ee30f96
Merge: b5448ff77 8eb290c08
Author: Frank McSherry <fmcsherry@me.com>
Date:   Wed Aug 7 02:37:10 2019 +0200

    Merge pull request #303 from MaterializeInc/earliest_source
    
    Add EarliestSource peek

commit b5448ff775f4221862f5239ae95b11225e3037f2
Merge: 04c0f988d 9781e1cd6
Author: Cuong Do <cuongdo@users.noreply.github.com>
Date:   Tue Aug 6 20:34:14 2019 -0400

    Merge pull request #302 from MaterializeInc/demo-flush
    
    Fix last demo flush

commit 8eb290c0832573a927343a59ffe0cee4589beca1
Author: Frank McSherry <fmcsherry@me.com>
Date:   Tue Aug 6 20:29:06 2019 -0400

    merge conflict

commit 04c0f988db7f639010af89b406864d7a0ba39124
Merge: 6aa7fc561 26c23e412
Author: Frank McSherry <fmcsherry@me.com>
Date:   Wed Aug 7 02:20:59 2019 +0200

    Merge pull request #295 from MaterializeInc/kafka-sparse-connections
    
    dataflow: ask Kafka to use sparse connections

commit 0e22771aac8bbebd87d3c49588cb9f28919580eb
Merge: 6bbf0cc7f 6aa7fc561
Author: Frank McSherry <fmcsherry@me.com>
Date:   Wed Aug 7 01:09:54 2019 +0200

    Merge branch 'master' into earliest_source

commit 6aa7fc5614434e8a41f32b43bd06ede5d3a972b6
Author: Brennan Vincent <brennan@materialize.io>
Date:   Tue Aug 6 19:06:35 2019 -0400

    Create sources (#300)

commit af15e5c64d8dfa90ae6fd4b071b11ab6defdc63d
Author: Nikhil Benesch <nikhil.benesch@gmail.com>
Date:   Tue Aug 6 19:00:30 2019 -0400

    lint/trailing-newline: on error, print correct file, not the first file

commit 6bbf0cc7f8e16d687607cc9b6a9f0daaa71e7ba8
Author: Frank McSherry <fmcsherry@me.com>
Date:   Tue Aug 6 18:51:34 2019 -0400

    Add EarliestSource peek

commit b0e6ffa12dc674b71f62864c4d681fe237f6cda8
Author: Brennan Vincent <brennan@materialize.io>
Date:   Tue Aug 6 18:21:06 2019 -0400

    Use jemalloc to improve single-core avro decode performance on macOS (#301)

commit 9781e1cd667c9a5a3f001e099deefe382013a8c6
Author: Brandon W Maister <bwm@materialize.io>
Date:   Tue Aug 6 17:27:06 2019 -0400

    Fix last demo flush
    
    It's necessary until we get peek-after-flush

commit 098e89dd936391b2d0adc1817b5e89a1ade67a0d
Merge: 92dbac5f9 a4551baa8
Author: Frank McSherry <fmcsherry@me.com>
Date:   Tue Aug 6 22:40:55 2019 +0200

    Merge pull request #299 from MaterializeInc/timestamp_picking
    
    Choose timestamps based on sources

commit a4551baa8d8aa61ed4adf9d4ded943086def7f06
Author: Frank McSherry <fmcsherry@me.com>
Date:   Tue Aug 6 16:12:01 2019 -0400

    handle absent views

commit 92dbac5f984e0fc2b51cc1dc1fe2a9864797561f
Merge: 7d6191b74 831720c76
Author: Brandon W Maister <quodlibetor@gmail.com>
Date:   Tue Aug 6 15:22:27 2019 -0400

    Merge pull request #292 from MaterializeInc/improve-demo
    
    demo: Move the setup logic into helper functions

commit a12de8f7e0ebc61bc97e9479d17c8acdf0b41f77
Author: Frank McSherry <fmcsherry@me.com>
Date:   Tue Aug 6 15:10:00 2019 -0400

    stray println remained

commit 831720c765a4b70abedc468473be46cf1093010f
Author: Brandon W Maister <bwm@materialize.io>
Date:   Mon Aug 5 14:13:52 2019 -0400

    demo: Move the setup logic into helper functions
    
    * This makes mtrz-startup idempotent, and more robust to first-time setup.
    * Github UI will show more of a difference between human commands and output
    
    Clean up the demo README using the functions defined in utils.

commit d3bd63007efafa061ab134a6a36d40db4ac54eaf
Author: Frank McSherry <fmcsherry@me.com>
Date:   Tue Aug 6 14:48:59 2019 -0400

    choose timestamps based on sources

commit 7d6191b7454b8ffe0906ab42dc022af739c1c53b
Merge: 1703cc7b0 f958a1e4c
Author: Frank McSherry <fmcsherry@me.com>
Date:   Tue Aug 6 19:47:27 2019 +0200

    Merge pull request #245 from MaterializeInc/logging
    
    Logging views

commit 1703cc7b04ca1c73673bf2f83fcf8f81adae7511
Author: Brennan Vincent <brennan@materialize.io>
Date:   Tue Aug 6 13:41:45 2019 -0400

    add "dyn" to a few bare trait objects (#298)

commit f958a1e4cc168b811fff890cd3a84b6e036ed3dc
Author: Frank McSherry <fmcsherry@me.com>
Date:   Tue Aug 6 13:35:21 2019 -0400

    supreme clarity added

commit 6632b7e265c4e9351f758b8f5372b60476cf3c40
Author: Frank McSherry <fmcsherry@me.com>
Date:   Tue Aug 6 12:25:37 2019 -0400

    comments, and on_delete optional

commit 0353318658f106c3c0155f6a7caa47079409034f
Merge: 4e7caf045 194fb44a8
Author: Frank McSherry <fmcsherry@me.com>
Date:   Tue Aug 6 17:37:49 2019 +0200

    Merge pull request #287 from MaterializeInc/show-columns
    
    Support SHOW COLUMNS FROM

commit 194fb44a89e70a88da30b02e291e0898da99a5b1
Author: Brandon W Maister <bwm@materialize.io>
Date:   Tue Aug 6 10:49:00 2019 -0400

    ci/slt: improve error output
    
    Make it more clear that errors are associated with current file, simplify
    verbosity use.

commit c1fed748457681aee83ed0693ad016484dc7a850
Author: Brandon W Maister <bwm@materialize.io>
Date:   Tue Aug 6 09:39:44 2019 -0400

    Make display of ScalarType obviously different from existing systems

commit 2194ec05a6751e1d7e1416ae5547b15104407732
Author: Frank McSherry <fmcsherry@me.com>
Date:   Tue Aug 6 11:24:42 2019 -0400

    dataflow: add support for timely logging

commit 4e7caf045b3adca9bea96831f12c8fe588b088d0
Merge: 762d16298 6f9e06613
Author: Nikhil Benesch <nikhil.benesch@gmail.com>
Date:   Tue Aug 6 10:01:15 2019 -0400

    Merge pull request #293 from MaterializeInc/reqwest-less-threads
    
    materialize: use reqwest's natively async DNS resolver

commit 15cf6ca9fcf71c01d8d431da1540bf211fda9979
Author: Brandon W Maister <bwm@materialize.io>
Date:   Mon Aug 5 11:47:55 2019 -0400

    Support SHOW COLUMNS FROM
    
    Closes #180

commit 762d162981c807734a2fddaa04b3395597d13f41
Merge: 8adf1d48c e9f9a2ce9
Author: Nikhil Benesch <nikhil.benesch@gmail.com>
Date:   Tue Aug 6 09:07:44 2019 -0400

    Merge pull request #282 from MaterializeInc/dependabot/cargo/backtrace-0.3.34
    
    build(deps): bump backtrace from 0.3.33 to 0.3.34

commit 8adf1d48c4f6fc192bdba4b1193065ddc6395450
Merge: d599afd3a a6c9ae831
Author: Nikhil Benesch <nikhil.benesch@gmail.com>
Date:   Tue Aug 6 09:07:08 2019 -0400

    Merge pull request #284 from MaterializeInc/dependabot/cargo/regex-1.2.1
    
    build(deps): bump regex from 1.2.0 to 1.2.1

commit d599afd3ad9b95990b283440c113710ac6bb1104
Merge: 4046b9b56 a6012bea0
Author: Nikhil Benesch <nikhil.benesch@gmail.com>
Date:   Tue Aug 6 09:06:13 2019 -0400

    Merge pull request #281 from MaterializeInc/dependabot/cargo/differential-dataflow-5c1d9e4
    
    build(deps): bump differential-dataflow from `ada2c48` to `5c1d9e4`

commit 4046b9b56ae179d4eb7b28a5db78cac937238b55
Merge: 5214e7235 fd5977ea9
Author: Nikhil Benesch <nikhil.benesch@gmail.com>
Date:   Tue Aug 6 08:58:11 2019 -0400

    Merge pull request #296 from MaterializeInc/column-builder
    
    {dataflow,repr,sql}: use ColumnType builder pattern more consistently

commit fd5977ea91f9888240c27dc5b3c7b0d72ca7e07e
Author: Nikhil Benesch <nikhil.benesch@gmail.com>
Date:   Mon Aug 5 22:34:34 2019 -0400

    ci/test: improve error message when tests fail to build

commit 2cca21ee9297a4a521a71927b438b8356f776f68
Author: Nikhil Benesch <nikhil.benesch@gmail.com>
Date:   Mon Aug 5 20:54:43 2019 -0400

    {dataflow,repr,sql}: use ColumnType builder pattern more consistently
    
    Use the ColumnType builder pattern in more places where it enhances
    readability.
    
    Fix #294.

commit 5214e72358171e731dad5f43770cfa0f721338f4
Merge: d71550834 7e48167fd
Author: Nikhil Benesch <nikhil.benesch@gmail.com>
Date:   Mon Aug 5 20:57:15 2019 -0400

    Merge pull request #286 from MaterializeInc/ci-slt-tweaks
    
    ci/slt: fix uploading (again) (again)

commit 26c23e4128d6e42625c4771885c7521ae073f82b
Author: Nikhil Benesch <nikhil.benesch@gmail.com>
Date:   Mon Aug 5 20:32:17 2019 -0400

    dataflow: ask Kafka to use sparse connections
    
    Ask the Kafka library not to eagerly connect to multiple brokers to save
    on threads . This doesn't actually make the situation better in our
    tests, where we use just one broker, but will prevent the situation from
    getting worse in production where multiple brokers are used.
    
    Informs #210.

commit 6f9e0661346282f0e94c4d6de722aaaab86c026e
Author: Nikhil Benesch <nikhil.benesch@gmail.com>
Date:   Mon Aug 5 20:01:59 2019 -0400

    materialize: use reqwest's natively async DNS resolver
    
    This saves a bunch of threads with every Reqwest client, since it
    doesn't need to spawn a threadpool to use getaddrinfo.
    
    Informs #210.

commit 95c9c5851e6fa2cff226ba6e08e100a5810202cb
Author: Brandon W Maister <bwm@materialize.io>
Date:   Mon Aug 5 16:08:45 2019 -0400

    ci/slt: Improve error messages for Outcome
    
    Mostly this just makes multi-line errors more aligned.

commit c5f09c43befbaaa6517db10f2b273b11c863e337
Author: Brandon W Maister <bwm@materialize.io>
Date:   Mon Aug 5 16:03:11 2019 -0400

    ci/slt: Support immediate "SendRows" declaration

commit b8d3fbe3f9e8833ea238ec15189045f175e86536
Author: Nikhil Benesch <nikhil.benesch@gmail.com>
Date:   Mon Aug 5 11:14:49 2019 -0400

    Check for errors when opening output files

commit be4a69bdcd58f9de3dba18e7fa732876a6f37745
Author: Nikhil Benesch <nikhil.benesch@gmail.com>
Date:   Mon Aug 5 10:59:16 2019 -0400

    Port to macOS
    
    macOS doesn't support pthread barriers, so import a pthread barrier shim
    from the internet.

commit 3ceca306efafb9692a07a167b2cb211cc533b187
Author: Nikhil Benesch <nikhil.benesch@gmail.com>
Date:   Mon Aug 5 10:42:55 2019 -0400

    Initial import

commit 7e48167fd98058ee68c7e4dce76139f0fc6ace83
Author: Nikhil Benesch <nikhil.benesch@gmail.com>
Date:   Mon Aug 5 10:04:30 2019 -0400

    ci/slt: fix uploading (again) (again)
    
    I forgot that the upload script needs to be its own file so that it can
    run in a different Docker container which has the appropriate SSH
    configuration.

commit a6c9ae831e85270b16d6c246137dc43bfe310a3f
Author: dependabot-preview[bot] <27856297+dependabot-preview[bot]@users.noreply.github.com>
Date:   Mon Aug 5 12:09:01 2019 +0000

    build(deps): bump regex from 1.2.0 to 1.2.1
    
    Bumps [regex](https://github.com/rust-lang/regex) from 1.2.0 to 1.2.1.
    - [Release notes](https://github.com/rust-lang/regex/releases)
    - [Changelog](https://github.com/rust-lang/regex/blob/master/CHANGELOG.md)
    - [Commits](https://github.com/rust-lang/regex/compare/1.2.0...1.2.1)
    
    Signed-off-by: dependabot-preview[bot] <support@dependabot.com>

commit e9f9a2ce9bcca3cc4f2992a51309aba035d3212d
Author: dependabot-preview[bot] <27856297+dependabot-preview[bot]@users.noreply.github.com>
Date:   Mon Aug 5 12:08:24 2019 +0000

    build(deps): bump backtrace from 0.3.33 to 0.3.34
    
    Bumps [backtrace](https://github.com/rust-lang/backtrace-rs) from 0.3.33 to 0.3.34.
    - [Release notes](https://github.com/rust-lang/backtrace-rs/releases)
    - [Commits](https://github.com/rust-lang/backtrace-rs/compare/0.3.33...0.3.34)
    
    Signed-off-by: dependabot-preview[bot] <support@dependabot.com>

commit a6012bea06e186828acd586c4fbff41348c79ae7
Author: dependabot-preview[bot] <27856297+dependabot-preview[bot]@users.noreply.github.com>
Date:   Mon Aug 5 12:07:44 2019 +0000

    build(deps): bump differential-dataflow from `ada2c48` to `5c1d9e4`
    
    Bumps [differential-dataflow](https://github.com/TimelyDataflow/differential-dataflow) from `ada2c48` to `5c1d9e4`.
    - [Release notes](https://github.com/TimelyDataflow/differential-dataflow/releases)
    - [Commits](https://github.com/TimelyDataflow/differential-dataflow/compare/ada2c48aff200c158928b83e71601a324c837f30...5c1d9e4e24648c2edf2cba41af01f20f517db823)
    
    Signed-off-by: dependabot-preview[bot] <support@dependabot.com>

commit d715508343651715302ecebeb1980649efb8d7de
Merge: 593279e11 3bd4559e0
Author: Nikhil Benesch <nikhil.benesch@gmail.com>
Date:   Sun Aug 4 23:07:36 2019 -0400

    Merge pull request #278 from MaterializeInc/ci-fixes
    
    ci/slt: fix uploading (again)

commit 3bd4559e044301b1ed993170d1b3b236ab1ec3ca
Author: Nikhil Benesch <nikhil.benesch@gmail.com>
Date:   Sun Aug 4 13:32:35 2019 -0400

    ci/slt: fix uploading (again)

commit 593279e11ac276c5a58de488dc9fe479a3734aee
Merge: 20fbb29eb d426bc7dd
Author: Nikhil Benesch <nikhil.benesch@gmail.com>
Date:   Sun Aug 4 12:03:08 2019 -0400

    Merge pull request #277 from MaterializeInc/ci-fixes
    
    Various CI improvements

commit d426bc7dda12c46749efaaa6e2618f0a48711f4c
Author: Nikhil Benesch <nikhil.benesch@gmail.com>
Date:   Sat Aug 3 22:09:31 2019 -0400

    ci/slt: fix result uploading

commit 0534ac85ee7d4b64a8b37c7bab91f60e53eaea44
Author: Nikhil Benesch <nikhil.benesch@gmail.com>
Date:   Sat Aug 3 22:06:37 2019 -0400

    bin/lint: speed up trailing-newline.sh by accepting multiple files at once

commit 1b43f96657674b61265781a811a0ca991347d121
Author: Nikhil Benesch <nikhil.benesch@gmail.com>
Date:   Sat Aug 3 22:05:08 2019 -0400

    *: run shellcheck on shell scripts

commit 2b5597d3eb17de5147f812e629a28e7fce6ac168
Author: Nikhil Benesch <nikhil.benesch@gmail.com>
Date:   Sat Aug 3 22:02:52 2019 -0400

    misc/shlib: add mapfile shim for Bash v3

commit 20fbb29eb92c74a674ff12804170df0e1eaf5731
Merge: 154a7c984 2a5badde2
Author: Nikhil Benesch <nikhil.benesch@gmail.com>
Date:   Fri Aug 2 17:25:10 2019 -0400

    Merge pull request #273 from MaterializeInc/benesch/slt-via-postgres
    
    Back SQL logic tests with Postgres

commit 2a5badde2b0c431fe6f72e51831d7f21e63cdc75
Author: Nikhil Benesch <nikhil.benesch@gmail.com>
Date:   Fri Aug 2 14:14:20 2019 -0400

    sqllogictest: don't try to fuzz .gitignore

commit 2aea36115d8a5b4f1e8c503097fff75a6720b2ba
Author: Nikhil Benesch <nikhil.benesch@gmail.com>
Date:   Thu Aug 1 17:07:39 2019 -0400

    test: adapt testdrive scripts for removed CREATE TABLE
    
    Since we no longer natively support CREATE TABLE, testdrive scripts need
    to always build Kafka sources. In the cases where this is onerous, just
    convert the testdrive script into a sqllogictest script instead.

commit 6eee3f96add208103f1dfb1d17e93e520f7cddb1
Author: Nikhil Benesch <nikhil.benesch@gmail.com>
Date:   Thu Aug 1 17:07:20 2019 -0400

    sql: don't panic on DROP TABLE

commit 10e6b82c28407ca66723057016eb9385e34dc972
Author: Jamie Brandon <jamie@scattered-thoughts.net>
Date:   Thu Aug 1 11:21:30 2019 -0700

    lint + clippy
    
    Co-authored-by: Nikhil Benesch <nikhil.benesch@gmail.com>

commit 8f825fe625ab594bb2a76eb48e64fd175244966c
Author: Jamie Brandon <jamie@scattered-thoughts.net>
Date:   Thu Aug 1 11:21:16 2019 -0700

    Delete sqlite version

commit 5dbe0dfc4727380ba8c3d8a4f2e9fab08937da8c
Author: Nikhil Benesch <nikhil.benesch@gmail.com>
Date:   Thu Aug 1 13:55:03 2019 -0400

    ci/slt: configure for new Postgres-backed world

commit deeeeab02daee7a888bc3cb3748140cab44f2a83
Author: Nikhil Benesch <nikhil.benesch@gmail.com>
Date:   Thu Aug 1 13:27:41 2019 -0400

    sqllogictest: upgrade to postgres 0.16.0-rc.2.
    
    This avoids introducing another version of the postgres package into the
    system, since testdrive already uses postgres 0.16.0-rc.2. It also
    introduces support for the standard PG* environment variables, so that
    we can better configure things in CI.

commit 8da61075f35e32d95c00c77f26570fa418c85515
Author: Jamie Brandon <jamie@scattered-thoughts.net>
Date:   Wed Jul 31 15:40:59 2019 -0700

    Correct comment

commit abce05a99ae9fa241890e01309f226ce2a9041cc
Author: Jamie Brandon <jamie@scattered-thoughts.net>
Date:   Wed Jul 31 15:34:31 2019 -0700

    Avoid underflowing timestamp when peeking

commit 13fc90f8a312aefa750c35762ec433efc5df1c42
Author: Jamie Brandon <jamie@scattered-thoughts.net>
Date:   Wed Jul 31 15:32:14 2019 -0700

    Remove sleep - race should be fixed now

commit 7a81a822bf90202bcf4141c73090d85d074da9a8
Author: Jamie Brandon <jamie@scattered-thoughts.net>
Date:   Wed Jul 31 15:30:13 2019 -0700

    Fix off by one peek

commit 2f4113dcfce3bc5a2100f543ef961ea9d7d78356
Author: Jamie Brandon <jamie@scattered-thoughts.net>
Date:   Wed Jul 31 15:10:31 2019 -0700

    Spelling

commit 63b3b44506d618eae02836ca05f2f3fab0e700b9
Author: Jamie Brandon <jamie@scattered-thoughts.net>
Date:   Wed Jul 31 15:09:25 2019 -0700

    Change watermarks to be <= instead of <

commit 293499d1f63ac2d5fa71d59a521cc8632af95362
Author: Jamie Brandon <jamie@scattered-thoughts.net>
Date:   Wed Jul 31 14:42:11 2019 -0700

    Split up multiple statements

commit 76f0438b429f9567d6e713e124e0333d8dbfd8da
Author: Jamie Brandon <jamie@scattered-thoughts.net>
Date:   Wed Jul 31 14:42:03 2019 -0700

    Fix timestamp bugs

commit 3243a78b1d69f6c95e4bfd0a4c9dd3ccd1fbeaa8
Author: Jamie Brandon <jamie@scattered-thoughts.net>
Date:   Wed Jul 31 14:28:05 2019 -0700

    Clippy

commit 377a2012f0934b5ce38a030126cab3c7102e555e
Author: Jamie Brandon <jamie@scattered-thoughts.net>
Date:   Wed Jul 31 14:26:05 2019 -0700

    Remove dead code

commit c99768a3f0d7387c9e0ed0af09f04f0c4ccf96b1
Author: Jamie Brandon <jamie@scattered-thoughts.net>
Date:   Wed Jul 31 14:13:32 2019 -0700

    Adjust peek times too

commit 71c30be329104ce0d0142f9bd24a112b0933bc73
Author: Jamie Brandon <jamie@scattered-thoughts.net>
Date:   Wed Jul 31 14:02:26 2019 -0700

    Send LocalInput updates and watermarks from slt

commit c3c0726d86173d7ef4612523a1e92dda1deeb4b0
Author: Jamie Brandon <jamie@scattered-thoughts.net>
Date:   Wed Jul 31 13:37:10 2019 -0700

    Add a new mechanism for sending timestamped updates to local connectors

commit 48f785a2ee606555a24d98877f3d20bcdef93a06
Author: Jamie Brandon <jamie@scattered-thoughts.net>
Date:   Wed Jul 31 12:42:19 2019 -0700

    Strip out support for INSERT and CREATE TABLE

commit 23b44af3b4692042f47ad3060d3b90a9fdc7cdc9
Author: Jamie Brandon <jamie@scattered-thoughts.net>
Date:   Wed Jul 31 11:04:18 2019 -0700

    Fix another trailing comma

commit 2e1b752dc63dc8f62c34c4562d1c0b4a6fcddc90
Author: Jamie Brandon <jamie@scattered-thoughts.net>
Date:   Wed Jul 31 11:02:59 2019 -0700

    Avoid using cockroach-specific types in tests

commit 575f28172dd3956b59e04ac701df217f0363086b
Author: Jamie Brandon <jamie@scattered-thoughts.net>
Date:   Tue Jul 30 18:11:38 2019 -0700

    Remove redundant check

commit f222963034d81d94e622442028c0e251e3cfce70
Author: Jamie Brandon <jamie@scattered-thoughts.net>
Date:   Tue Jul 30 17:47:41 2019 -0700

    Put sleep in a more sensible place

commit 8999c1ab5145df37c6eb3ae4326d96694673c055
Author: Jamie Brandon <jamie@scattered-thoughts.net>
Date:   Tue Jul 30 17:29:31 2019 -0700

    Bugfix - scale conversion was backwards

commit 468d47a562a39e705e6b14d082f47e165850da82
Author: Jamie Brandon <jamie@scattered-thoughts.net>
Date:   Tue Jul 30 17:24:00 2019 -0700

    Sleep less

commit 874bf146f47dc980608e5c36420a238308510dc7
Author: Jamie Brandon <jamie@scattered-thoughts.net>
Date:   Tue Jul 30 17:14:49 2019 -0700

    Be much more careful about converting postgres types to materialize types

commit 147e9c6d677b64554824f9c4a7455448c129687c
Author: Jamie Brandon <jamie@scattered-thoughts.net>
Date:   Tue Jul 30 16:34:27 2019 -0700

    Switch to postgres for better decimal/datetime support

commit 1595d0f7a39665395ea7853a5c11fdf4c0a471b5
Author: Jamie Brandon <jamie@scattered-thoughts.net>
Date:   Tue Jul 30 13:24:13 2019 -0700

    Bail gracefully on statements that sqlite can't handle

commit ac3d7d76b1beeca5f39c4319dbebaacbb95ca566
Author: Jamie Brandon <jamie@scattered-thoughts.net>
Date:   Tue Jul 30 13:23:51 2019 -0700

    Remove trailing commas in sql - not valid syntax in most dbs

commit 195cd929d584a8bbe922d7deb216a7fa881c908e
Author: Jamie Brandon <jamie@scattered-thoughts.net>
Date:   Mon Jul 29 19:15:06 2019 -0700

    Don't blow up on deletes, just return Unsupported

commit 7c7bb0412fa3944d16554b93e822b7c6c93a4617
Author: Jamie Brandon <jamie@scattered-thoughts.net>
Date:   Mon Jul 29 18:44:29 2019 -0700

    :(

commit 8f32591e47bbc0a88893debde2b6f0787571a7a9
Author: Jamie Brandon <jamie@scattered-thoughts.net>
Date:   Mon Jul 29 17:55:42 2019 -0700

    Handle decimals. Send original sql instead of statement.to_string()

commit fa01a15e72e519c951f0a6831cb373f3c250a720
Author: Jamie Brandon <jamie@scattered-thoughts.net>
Date:   Mon Jul 29 17:04:09 2019 -0700

    Hook sqlite layer up to slt

commit 27853e596d1e23ed195ace79f0fe98e79e980523
Author: Jamie Brandon <jamie@scattered-thoughts.net>
Date:   Mon Jul 29 17:03:32 2019 -0700

    Expose sql dataflow store so slt can update it manually

commit e6e6f3c5e5c4e7b23d7c4166b0a062b03dc89ba4
Author: Jamie Brandon <jamie@scattered-thoughts.net>
Date:   Mon Jul 29 15:44:19 2019 -0700

    Handle conversions from sqlite to datum

commit 6d026979bdd0a088c90630ce876d12058311d1da
Author: Jamie Brandon <jamie@scattered-thoughts.net>
Date:   Mon Jul 29 15:40:36 2019 -0700

    Split out conversion from sql types to materialize types

commit 606075ed6719a9a754a6005ffa8d86e8ad953233
Author: Jamie Brandon <jamie@scattered-thoughts.net>
Date:   Mon Jul 29 14:58:10 2019 -0700

    WIP support for feeding slt statements through sqlite

commit 154a7c984510fcc86684c396beaa4a7d6d9a8943
Merge: 9106bab47 f8f209353
Author: Nikhil Benesch <nikhil.benesch@gmail.com>
Date:   Fri Aug 2 14:36:03 2019 -0400

    Merge pull request #276 from MaterializeInc/slt-results-fix
    
    ci/slt: fix sqllogictest result uploading

commit f8f209353b5805fde29e250aa46b65a54dcdc660
Author: Nikhil Benesch <nikhil.benesch@gmail.com>
Date:   Fri Aug 2 13:29:16 2019 -0400

    ci/slt: fix sqllogictest result uploading
    
    The sed script used in this process had gotten a bit out of hand.
    Specifically, "\10" is a backreference to the first match, followed by a
    literal zero, not a backreference to the tenth match as intended. Teach
    sqllogictest to output a JSON summary of results, and use that to
    construct the appropriate SQL query.

commit 9106bab47181b1612212a55f332cd3168266a557
Merge: 5d1e20a19 047a8dcfd
Author: Frank McSherry <fmcsherry@me.com>
Date:   Fri Aug 2 20:06:52 2019 +0200

    Merge pull request #275 from MaterializeInc/arrangement_improvement
    
    Generalize managed arrangements

commit 047a8dcfda8a54d59cf62f083dd62e1b0d257fa8
Author: Frank McSherry <fmcsherry@me.com>
Date:   Thu Aug 1 17:00:24 2019 -0400

    clippy

commit 479dfd67d92601f9d9604cb770386af5a76a349f
Author: Frank McSherry <fmcsherry@me.com>
Date:   Thu Aug 1 15:42:09 2019 -0400

    cargo fmt

commit 7814b22822aff27b6c93bf8b966cffab86fd0d6c
Author: Frank McSherry <fmcsherry@me.com>
Date:   Thu Aug 1 15:28:39 2019 -0400

    generalize managed arrangements

commit 5d1e20a197e8491de883cf57c43a60312f4efb6c
Author: Brennan Vincent <brennan@materialize.io>
Date:   Thu Aug 1 15:07:18 2019 -0400

    Implement SHOW <object>S (#274)

commit 1ef4806a8afbfc95c4fd74335f78e20267526186
Author: Brennan Vincent <brennan@materialize.io>
Date:   Thu Aug 1 13:00:29 2019 -0400

    Add SqlResponse that immediately sends rows to the client (#272)

commit a78ac2f8c1fb6e70094fbd7ef2348d2a468c37f7
Merge: d6b407545 147358a14
Author: Nikhil Benesch <nikhil.benesch@gmail.com>
Date:   Thu Aug 1 12:04:01 2019 -0400

    Merge pull request #264 from MaterializeInc/tpch-decimal-ints
    
    test/tpch: restore original integer literals

commit d6b407545bde58aec2e2caa44fa99b65125b945b
Author: Brennan Vincent <brennan@materialize.io>
Date:   Thu Aug 1 11:57:24 2019 -0400

    Update sqlparser dependency (#271)

commit 276359b3abffc1b0ff10d45839c2e990be975728
Merge: 0f923df4f 977204b8b
Author: Frank McSherry <fmcsherry@me.com>
Date:   Thu Aug 1 17:16:59 2019 +0200

    Merge pull request #270 from MaterializeInc/roundrobin_kafka
    
    Distribute kafka readers

commit 0f923df4fca8c1412511dffd97703e25e8703b5e
Merge: 4519388e3 e03f5f6e1
Author: Frank McSherry <fmcsherry@me.com>
Date:   Thu Aug 1 16:55:47 2019 +0200

    Merge pull request #269 from MaterializeInc/mergesort_peeks
    
    Alter peek results

commit 977204b8b4c791275ecaf779f1840f1c3f85c3a2
Author: Frank McSherry <fmcsherry@me.com>
Date:   Thu Aug 1 09:29:41 2019 -0400

    distribute kafka readers

commit e03f5f6e1605a4d12e42bb331614c0c1651e13f9
Author: Frank McSherry <fmcsherry@me.com>
Date:   Thu Aug 1 09:10:43 2019 -0400

    fixes #239

commit 4519388e3971ff5aba769ac3ae69504709ebc8ea
Merge: c5408aada ce023327e
Author: Nikhil Benesch <nikhil.benesch@gmail.com>
Date:   Wed Jul 31 16:38:17 2019 -0400

    Merge pull request #268 from MaterializeInc/civiz
    
    ci/deploy: automatically deploy civiz

commit ce023327eee772402e1d1cd2707c244ce6da1676
Author: Nikhil Benesch <nikhil.benesch@gmail.com>
Date:   Wed Jul 31 16:01:55 2019 -0400

    ci/deploy: automatically deploy civiz
    
    Fix #265.

commit c5408aada5552d80320363686dd18ef9fd9ea544
Merge: c8af3afdc 45d6a5b26
Author: Nikhil Benesch <nikhil.benesch@gmail.com>
Date:   Wed Jul 31 15:30:24 2019 -0400

    Merge pull request #267 from MaterializeInc/civiz
    
    misc: add civiz app, which powers mtrlz.dev/civiz

commit 45d6a5b26e530a24ee3948d5993614983dfa04e9
Author: Nikhil Benesch <nikhil.benesch@gmail.com>
Date:   Wed Jul 31 15:17:42 2019 -0400

    misc: add civiz app, which powers mtrlz.dev/civiz
    
    Touches #126 and #265.

commit 147358a14d468ed91baa7757ab7e8a76a51665a8
Author: Nikhil Benesch <nikhil.benesch@gmail.com>
Date:   Wed Jul 31 13:32:44 2019 -0400

    test/tpch: restore original integer literals
    
    We now support casting integers to decimals (#234), so we can undo the
    edits from 6b076b426 that provided a temporary workaround.
    
    Also, close #205, which should have been closed when #234 landed.

commit c8af3afdcb89943f24f4aa0c7629a34b05ce3d44
Merge: 91fd0da7d 44ff88b06
Author: Nikhil Benesch <nikhil.benesch@gmail.com>
Date:   Wed Jul 31 13:23:47 2019 -0400

    Merge pull request #224 from MaterializeInc/doc-pm
    
    doc: add project management notes

commit 44ff88b0686455e1f3a8b3ea3aed7b5226a6f507
Author: Nikhil Benesch <nikhil.benesch@gmail.com>
Date:   Wed Jul 24 18:43:54 2019 -0400

    doc: add project management notes

commit 91fd0da7dbb86986f05063d1986da1271c033dc9
Merge: 8be6b56dd 5c465dc3e
Author: Nikhil Benesch <nikhil.benesch@gmail.com>
Date:   Wed Jul 31 11:50:17 2019 -0400

    Merge pull request #262 from MaterializeInc/ci-deploy
    
    ci/deploy: fix bug in deploying official docker image

commit 5c465dc3e126a3f56755273093c1a0992110571b
Author: Nikhil Benesch <nikhil.benesch@gmail.com>
Date:   Wed Jul 31 11:43:51 2019 -0400

    ci/deploy: fix bug in docker deployment

commit d50cca8080d82f9652461b442c5c985f52eceeca
Author: Nikhil Benesch <nikhil.benesch@gmail.com>
Date:   Wed Jul 31 11:42:38 2019 -0400

    ci/deploy: use builder agents for doc deployment
    
    A warm cache makes all the difference here.

commit 8be6b56dda6a80a533a7868b0c788bef453454ea
Merge: 4522e6583 ad835dd4b
Author: Nikhil Benesch <nikhil.benesch@gmail.com>
Date:   Wed Jul 31 11:37:42 2019 -0400

    Merge pull request #261 from MaterializeInc/ci-deploy
    
    ci/deploy: learn to deploy official materialized binary

commit ad835dd4b8f409013a118af8e6fd191fd4d2decb
Author: Nikhil Benesch <nikhil.benesch@gmail.com>
Date:   Wed Jul 31 11:13:47 2019 -0400

    ci/deploy: remove errant option

commit 1204f0fed47ddd67186e9c84d5b91fd6988a5950
Author: Nikhil Benesch <nikhil.benesch@gmail.com>
Date:   Wed Jul 31 11:07:04 2019 -0400

    ci: link openssl statically
    
    This makes deployment a bit easier.

commit d46de37d62da6d44ca901a19c538142c232c05ec
Author: Nikhil Benesch <nikhil.benesch@gmail.com>
Date:   Wed Jul 31 11:06:45 2019 -0400

    ci/deploy: learn to deploy official materialized binary

commit 4522e65835ab61c6154f2e87443ed5a117b070be
Merge: 53289bec7 f7c36a192
Author: Nikhil Benesch <nikhil.benesch@gmail.com>
Date:   Wed Jul 31 10:47:45 2019 -0400

    Merge pull request #259 from MaterializeInc/ci-doc
    
    ci: fix doc deployment (again)

commit f7c36a1929b5961dcabe0a4c5915aad0cbc59212
Author: Nikhil Benesch <nikhil.benesch@gmail.com>
Date:   Wed Jul 31 09:40:25 2019 -0400

    ci: fix doc deployment (again)

commit 53289bec7831214df9154b545f9768d216186615
Merge: 24a711693 d61624d42
Author: Nikhil Benesch <nikhil.benesch@gmail.com>
Date:   Wed Jul 31 10:35:44 2019 -0400

    Merge pull request #258 from MaterializeInc/ci-doc
    
    ci: fix doc deployment

commit d61624d422369ce1b054e75dcbb5fe41fad55c78
Author: Nikhil Benesch <nikhil.benesch@gmail.com>
Date:   Wed Jul 31 09:40:25 2019 -0400

    ci: fix doc deployment

commit 24a7116936b2f4497215218158a75bb92ac0add1
Merge: d425f4eaa fb5bf22e4
Author: Nikhil Benesch <nikhil.benesch@gmail.com>
Date:   Wed Jul 31 09:17:51 2019 -0400

    Merge pull request #256 from benesch/ci-deploy
    
    ci/deploy: fix nightly image tag

commit fb5bf22e40f59562fadff2301734ac023ee4f251
Author: Nikhil Benesch <nikhil.benesch@gmail.com>
Date:   Tue Jul 30 23:11:24 2019 -0400

    ci/slt: fix upload script

commit 7d08fe96d316e6bfc6ce308deed60b63c1f55ade
Author: Nikhil Benesch <nikhil.benesch@gmail.com>
Date:   Tue Jul 30 23:06:23 2019 -0400

    ci/deploy: fix nightly image tag

commit d425f4eaa3f51e4436c5ca166f201c0a557fe64c
Merge: 1f1b00788 cb9efc5c6
Author: Nikhil Benesch <nikhil.benesch@gmail.com>
Date:   Tue Jul 30 18:42:53 2019 -0400

    Merge pull request #255 from MaterializeInc/ci-timeout
    
    Add a timeout to all CI jobs

commit cb9efc5c6cdaa5cc69b979c2aa6bd4ec9d686db1
Author: Nikhil Benesch <nikhil.benesch@gmail.com>
Date:   Tue Jul 30 18:36:04 2019 -0400

    Add a timeout to all CI jobs
    
    Fix #143.

commit 1f1b00788a35fd6647c2cc2a2260653f396d936c
Merge: ca88b1db5 8fac36046
Author: Nikhil Benesch <nikhil.benesch@gmail.com>
Date:   Tue Jul 30 18:33:35 2019 -0400

    Merge pull request #254 from MaterializeInc/ci-reorg
    
    ci: reorganize

commit 8fac36046851dfc4c8c5ea9a0ab33739185908f9
Author: Nikhil Benesch <nikhil.benesch@gmail.com>
Date:   Mon Jul 29 18:03:16 2019 -0400

    ci: reorganize
    
    Modify layout of ci dir and Docker files to be more consistent.

commit ca88b1db5b85fcb8923f8ea31c6a0621918d4d65
Author: Brennan Vincent <brennan@materialize.io>
Date:   Tue Jul 30 08:55:37 2019 -0400

    Refuse to drop object if it is of the wrong type (#253)

commit 3de9561fcc746a364d4d4b6c2807e511924a39a4
Merge: 3b590b06c 9b3af2b71
Author: Brennan Vincent <brennan@materialize.io>
Date:   Mon Jul 29 13:46:02 2019 -0400

    Merge pull request #251 from umanwizard/cargorun
    
    update `cargo run` command in docs

commit 3b590b06c46c34c24e1a08e64a68340c90108527
Merge: ed761005f 8ff2d3c69
Author: Nikhil Benesch <nikhil.benesch@gmail.com>
Date:   Mon Jul 29 13:30:39 2019 -0400

    Merge pull request #252 from MaterializeInc/demo-update
    
    doc/demo: update examples for new semantics

commit 8ff2d3c69556bd060b3394bf72915b6708439197
Author: Nikhil Benesch <nikhil.benesch@gmail.com>
Date:   Mon Jul 29 13:19:34 2019 -0400

    doc/demo: update examples for new semantics

commit ed761005f9b3ee02e71ac80c767cd01d1b3a7790
Merge: 33f2ffa4b ee81597cd
Author: Brennan Vincent <brennan@materialize.io>
Date:   Mon Jul 29 13:00:06 2019 -0400

    Merge pull request #250 from umanwizard/broken_link
    
    Fix broken link in Readme

commit 9b3af2b71d6309426ade4dd4a6ba165e04e376a0
Author: Brennan Vincent <brennan@materialize.io>
Date:   Mon Jul 29 12:54:28 2019 -0400

    update `cargo run` command in docs

commit 33f2ffa4b60ae22d7f0bd4ff0995643aefb84255
Merge: df8358376 20bf8f141
Author: Nikhil Benesch <nikhil.benesch@gmail.com>
Date:   Mon Jul 29 11:56:04 2019 -0400

    Merge pull request #242 from MaterializeInc/ci-fast
    
    Speed up CI

commit ee81597cdb3f8ca28db6cca2cb5b10489f51f339
Author: Brennan Vincent <brennan@materialize.io>
Date:   Mon Jul 29 11:55:26 2019 -0400

    Fix broken link in Readme

commit 20bf8f14150111722ff18a07e33f03ca5cefc107
Author: Nikhil Benesch <nikhil.benesch@gmail.com>
Date:   Fri Jul 26 15:46:57 2019 -0400

    ci: speed up
    
    Speed up CI by breaking the pipeline into multiple steps. The first
    step, which builds Docker images for the various test binaries, is the
    only blocking step. The other steps simply pull down the particular
    Docker images they need and can run in parallel in one another.
    
    This introduces quite a bit of complexity too, but it's complexity we'd
    need to introduce down the road, anyway, in order to shard jobs.

commit df83583766e51e1d8f86d402f8d69e848a6ba853
Merge: 99db0acbd 40a89aded
Author: Nikhil Benesch <nikhil.benesch@gmail.com>
Date:   Mon Jul 29 11:33:17 2019 -0400

    Merge pull request #246 from MaterializeInc/dependabot/cargo/serde_derive-1.0.98
    
    build(deps): bump serde_derive from 1.0.97 to 1.0.98

commit 99db0acbd1cf8bb5be6749a14b02758fc4116085
Merge: 52f2a439d 559ac3eae
Author: Nikhil Benesch <nikhil.benesch@gmail.com>
Date:   Mon Jul 29 11:33:07 2019 -0400

    Merge pull request #247 from MaterializeInc/dependabot/cargo/log-0.4.8
    
    build(deps): bump log from 0.4.7 to 0.4.8

commit 40a89adeda9069f501e456129c2ea39eee86b1a0
Author: dependabot-preview[bot] <27856297+dependabot-preview[bot]@users.noreply.github.com>
Date:   Mon Jul 29 14:41:00 2019 +0000

    build(deps): bump serde_derive from 1.0.97 to 1.0.98
    
    Bumps [serde_derive](https://github.com/serde-rs/serde) from 1.0.97 to 1.0.98.
    - [Release notes](https://github.com/serde-rs/serde/releases)
    - [Commits](https://github.com/serde-rs/serde/compare/v1.0.97...v1.0.98)
    
    Signed-off-by: dependabot-preview[bot] <support@dependabot.com>

commit 559ac3eaed4d6c68add69933e5efc2828d8a0e55
Author: dependabot-preview[bot] <27856297+dependabot-preview[bot]@users.noreply.github.com>
Date:   Mon Jul 29 14:40:58 2019 +0000

    build(deps): bump log from 0.4.7 to 0.4.8
    
    Bumps [log](https://github.com/rust-lang/log) from 0.4.7 to 0.4.8.
    - [Release notes](https://github.com/rust-lang/log/releases)
    - [Changelog](https://github.com/rust-lang-nursery/log/blob/master/CHANGELOG.md)
    - [Commits](https://github.com/rust-lang/log/commits)
    
    Signed-off-by: dependabot-preview[bot] <support@dependabot.com>

commit 52f2a439dc535cf786293805170dad877c57064a
Merge: 305fdf480 638c78fec
Author: Nikhil Benesch <nikhil.benesch@gmail.com>
Date:   Mon Jul 29 10:39:02 2019 -0400

    Merge pull request #248 from MaterializeInc/dependabot/cargo/serde-1.0.98
    
    build(deps): bump serde from 1.0.97 to 1.0.98

commit 305fdf4800a5a8a5ae553bb195af151dfd2146a1
Merge: a61e51b96 87f1242d8
Author: Nikhil Benesch <nikhil.benesch@gmail.com>
Date:   Mon Jul 29 10:37:33 2019 -0400

    Merge pull request #249 from MaterializeInc/develop
    
    Update develop.md

commit 87f1242d80642c522dcd9e4dc1ab79f50dc2faa4
Author: Arjun Narayan <arjunravinarayan@gmail.com>
Date:   Mon Jul 29 10:20:02 2019 -0400

    Update develop.md

commit 638c78fecee341c56e3243e6c80afeaef39697b1
Author: dependabot-preview[bot] <27856297+dependabot-preview[bot]@users.noreply.github.com>
Date:   Mon Jul 29 12:08:41 2019 +0000

    build(deps): bump serde from 1.0.97 to 1.0.98
    
    Bumps [serde](https://github.com/serde-rs/serde) from 1.0.97 to 1.0.98.
    - [Release notes](https://github.com/serde-rs/serde/releases)
    - [Commits](https://github.com/serde-rs/serde/compare/v1.0.97...v1.0.98)
    
    Signed-off-by: dependabot-preview[bot] <support@dependabot.com>

commit a61e51b964a85c3fc1488ddc590b8d4020f9ee06
Merge: 0cc90aa10 f888cc1c8
Author: Nikhil Benesch <nikhil.benesch@gmail.com>
Date:   Fri Jul 26 14:06:08 2019 -0400

    Merge pull request #225 from MaterializeInc/dependabot/cargo/slog-stdlog-3.0.5
    
    build(deps): bump slog-stdlog from 3.0.2 to 3.0.5

commit 0cc90aa10ae62b030b6c66378a387b141b53fc62
Merge: 8ad74b1d2 7f5bcd7e1
Author: Nikhil Benesch <nikhil.benesch@gmail.com>
Date:   Fri Jul 26 14:05:59 2019 -0400

    Merge pull request #226 from MaterializeInc/dependabot/cargo/crossbeam-0.7.2
    
    build(deps): bump crossbeam from 0.7.1 to 0.7.2

commit f888cc1c8dce1849ee343c8651c2bbd4a080a1d1
Author: dependabot-preview[bot] <27856297+dependabot-preview[bot]@users.noreply.github.com>
Date:   Fri Jul 26 17:42:34 2019 +0000

    build(deps): bump slog-stdlog from 3.0.2 to 3.0.5
    
    Bumps [slog-stdlog](https://github.com/slog-rs/stdlog) from 3.0.2 to 3.0.5.
    - [Release notes](https://github.com/slog-rs/stdlog/releases)
    - [Changelog](https://github.com/slog-rs/stdlog/blob/master/CHANGELOG.md)
    - [Commits](https://github.com/slog-rs/stdlog/commits)
    
    Signed-off-by: dependabot-preview[bot] <support@dependabot.com>

commit 7f5bcd7e163837cc7d0c5f49893fb94adefdbd19
Author: dependabot-preview[bot] <27856297+dependabot-preview[bot]@users.noreply.github.com>
Date:   Fri Jul 26 17:42:33 2019 +0000

    build(deps): bump crossbeam from 0.7.1 to 0.7.2
    
    Bumps [crossbeam](https://github.com/crossbeam-rs/crossbeam) from 0.7.1 to 0.7.2.
    - [Release notes](https://github.com/crossbeam-rs/crossbeam/releases)
    - [Changelog](https://github.com/crossbeam-rs/crossbeam/blob/master/CHANGELOG.md)
    - [Commits](https://github.com/crossbeam-rs/crossbeam/compare/crossbeam-0.7.1...crossbeam-0.7.2)
    
    Signed-off-by: dependabot-preview[bot] <support@dependabot.com>

commit 8ad74b1d2f53e322a1965f7ffee9c5de976ac547
Merge: 6ce8d7ee6 2c66abab0
Author: Nikhil Benesch <nikhil.benesch@gmail.com>
Date:   Fri Jul 26 13:40:25 2019 -0400

    Merge pull request #236 from MaterializeInc/testdrive-topics
    
    testdrive: don't reuse kafka topic names

commit 2c66abab053c15f465b60d611926c6bb04729de5
Author: Nikhil Benesch <nikhil.benesch@gmail.com>
Date:   Thu Jul 25 19:01:58 2019 -0400

    testdrive: don't reuse kafka topic names
    
    Reusing Kafka topics is fraught with peril. (See the enclosed removed
    comments for details; basically, Kafka deletion is asynchronous, and can
    impact a topic created with the same name in the future.)
    
    Instead, randomly generate a name for each testdrive invocation, like
    testdrive-TOPICNAME-123456789. We still clean up after ourselves by
    deleting any topics that start with testdrive-TOPICNAME on the next
    testdrive invocation, but those topics are abandoned at that point and
    so can't impact the current testdrive run.

commit 6ce8d7ee644bde9e3c36713730f54090b59e39ce
Merge: f0fbb261a f5887762f
Author: Frank McSherry <fmcsherry@me.com>
Date:   Fri Jul 26 19:09:17 2019 +0200

    Merge pull request #240 from MaterializeInc/multiple_processes
    
    Multiple computer support

commit f5887762f5ea01a3c169523d74f16a4147868bcb
Author: Frank McSherry <fmcsherry@me.com>
Date:   Fri Jul 26 12:49:52 2019 -0400

    correct start-up order

commit f0fbb261aaee884914cd6c9d32a95fdd3bc9b91c
Merge: 7fe7ac0ba b0c6c6f03
Author: Nikhil Benesch <nikhil.benesch@gmail.com>
Date:   Fri Jul 26 10:55:19 2019 -0400

    Merge pull request #238 from MaterializeInc/slt-ci
    
    ci: run fast subset of sqllogictest on PRs

commit b0c6c6f03d9f1dc8b695448ac68a6ffb3bbeb8ec
Author: Nikhil Benesch <nikhil.benesch@gmail.com>
Date:   Fri Jul 26 00:06:08 2019 -0400

    ci: run fast subset of sqllogictest on PRs

commit 24553bbe1e5c865c0840d2dd7ceb271a89b299a2
Author: Frank McSherry <fmcsherry@me.com>
Date:   Fri Jul 26 09:48:03 2019 -0400

    extract worker zero address

commit 7fe7ac0ba098a33c856897a71d6449fea4f3ae2b
Merge: 0f64a377b 270432676
Author: Nikhil Benesch <nikhil.benesch@gmail.com>
Date:   Fri Jul 26 00:05:16 2019 -0400

    Merge pull request #237 from MaterializeInc/sql-coalesce
    
    mtrlz/sql: unify coalesce and cast code paths

commit 270432676da3c1cab69b335a580f95fe3c937a3c
Author: Nikhil Benesch <nikhil.benesch@gmail.com>
Date:   Thu Jul 25 22:56:29 2019 -0400

    mtrlz/sql: unify coalesce and cast code paths
    
    There are two code paths in the SQL planner for converting values
    between different types. The first code path (the "cast" code path) is
    used by explicit CAST operators and the implicit cast that occurs when
    inserting a datum of a given type into a column of a given type. The
    second code path (the "coalesce" code path) is used when performing an
    operation that implicitly coalesces types, like coalesce(a, b, c), or a
    CASE statement with multiple branches, where the arguments need not be
    of exactly the same type if they can be automatically converted into a
    mutually agreeable type.
    
    In what appears to be a historical accident, the two code paths had
    completely independent rules for what types could be converted into
    other types. The cast rules were more complete, so teach the coalesce
    code path to simply call into the cast code path.

commit 0f64a377bff0ace24b24670eabc8cd24c15a5ece
Merge: 3c5277604 7e40fffab
Author: Frank McSherry <fmcsherry@me.com>
Date:   Fri Jul 26 01:05:06 2019 +0200

    Merge pull request #235 from MaterializeInc/de_fuzz
    
    remove redundant fuzz

commit 3c5277604768c6ab3a1db72c98b095df9a38db25
Merge: a4ccfd143 8a47c745f
Author: Frank McSherry <fmcsherry@me.com>
Date:   Fri Jul 26 00:59:50 2019 +0200

    Merge pull request #234 from MaterializeInc/decimal-casts
    
    mtrlz/sql: support decimal->{int, float} casts

commit 7e40fffaba1c049842c38928b127cf6ce6a15c69
Author: Frank McSherry <fmcsherry@me.com>
Date:   Thu Jul 25 18:56:02 2019 -0400

    remove redundant fuzz

commit a4ccfd14311fe174616f718ef5dd4f975d737ffa
Merge: 4a9631960 baf990b0b
Author: Frank McSherry <fmcsherry@me.com>
Date:   Thu Jul 25 23:42:16 2019 +0200

    Merge pull request #228 from MaterializeInc/multiprocess
    
    Multi-process support

commit 8a47c745fed617aff9b95d8dffe17fced6ad568d
Author: Nikhil Benesch <nikhil.benesch@gmail.com>
Date:   Thu Jul 25 17:22:36 2019 -0400

    mtrlz/sql: support decimal->{int, float} casts

commit 4a9631960632b5a8e7568f84c9647a816f8ae8af
Merge: 67754d7b3 f81d75a67
Author: Frank McSherry <fmcsherry@me.com>
Date:   Thu Jul 25 23:41:16 2019 +0200

    Merge pull request #233 from MaterializeInc/shutdown_peeks
    
    Shutdown peeks

commit f81d75a67b7236587510817be20fd176463726af
Author: Frank McSherry <fmcsherry@me.com>
Date:   Thu Jul 25 16:50:20 2019 -0400

    clippy ...

commit 2cd31ca27bbec2d0dc8e68c93a575d77b99dc54c
Merge: afae782d4 67754d7b3
Author: Frank McSherry <fmcsherry@me.com>
Date:   Thu Jul 25 16:42:38 2019 -0400

    Merge branch 'master' of github.com:MaterializeInc/materialize

commit afae782d4ca996b3097e0ae477ecbb0796d8f1d4
Author: Frank McSherry <fmcsherry@me.com>
Date:   Thu Jul 25 16:42:30 2019 -0400

    Avoid processing peeks once shut down

commit 67754d7b3bd6da6556cce3eebad8eb858b4a3e7a
Author: Nikhil Benesch <nikhil.benesch@gmail.com>
Date:   Thu Jul 25 16:04:03 2019 -0400

    githooks/pre-push: fix detection of branch

commit 1ca135fd38bc3e74ba0d9ca1fc875917853a19e1
Author: Nikhil Benesch <nikhil.benesch@gmail.com>
Date:   Thu Jul 25 15:26:36 2019 -0400

    fuzz: don't fail cargo test
    
    The default fuzz targets generated by `cargo fuzz` cause `cargo test` to
    fail, because `cargo test` interacts poorly with the `#![no_main]`
    attribute (rust-lang/rust#59162). Use the workaround suggested in the
    linked issue, namely, by not specifying `#![no_main]` when building
    tests.

commit baf990b0bfda681ccd49a899ffa568daad5748d9
Author: Frank McSherry <fmcsherry@me.com>
Date:   Thu Jul 25 14:01:48 2019 -0400

    cargo fmt

commit 2a6473c04c9b227a463d08b6493f62077119c27e
Merge: 6d7f34c9f 14ad2903d
Author: Cuong Do <cuongdo@users.noreply.github.com>
Date:   Thu Jul 25 09:26:12 2019 -0400

    Merge pull request #227 from MaterializeInc/fix-fuzz-clippy-error
    
    Fix clippy error

commit c78913c6d845a43c1ccf5729a29571d4dafce900
Author: Frank McSherry <fmcsherry@me.com>
Date:   Thu Jul 25 09:11:36 2019 -0400

    initial commit

commit 14ad2903d69e8ccd967fb96ed860c55fa005eca3
Author: Cuong Do <cuongdo@noreply.github.com>
Date:   Thu Jul 25 06:38:37 2019 -0400

    Fix clippy error
    
    https://buildkite.com/materialize/tests/builds/891#aba03b70-7851-46db-9ea4-0ca7473aa337

commit 6d7f34c9fd87eb43352d288bdf22a31fcbc96c10
Author: Nikhil Benesch <nikhil.benesch@gmail.com>
Date:   Wed Jul 24 18:48:01 2019 -0400

    Update issue templates

commit ab8adf2db14eb0fa2097292bf8a9995b0008abe2
Author: Nikhil Benesch <nikhil.benesch@gmail.com>
Date:   Wed Jul 24 15:08:25 2019 -0400

    fuzz: add to workspace
    
    I fixed the bug in cargo-fuzz that was preventing it from working with
    workspaces [0], so we can actually make the fuzz crate part of the
    workspace. This means we no longer need to update every dependency
    twice (once for the main workspace, and once for the fuzz crate).
    
    Fix #211.
    
    [0]: The bug is hilarious: https://github.com/rust-fuzz/cargo-fuzz/pull/176

commit b8d460d8f93606be33267eb6741fd722aa35d3b4
Merge: cf04d307e 79f5a5f16
Author: Nikhil Benesch <nikhil.benesch@gmail.com>
Date:   Wed Jul 24 11:19:57 2019 -0400

    Merge pull request #209 from MaterializeInc/dependabot/cargo/differential-dataflow-ada2c48
    
    build(deps): bump differential-dataflow from `e1edeb3` to `ada2c48`

commit cf04d307eb7bda43d48b91ecc7f222fcb8d5565d
Merge: 441a251ff e1aa56914
Author: Nikhil Benesch <nikhil.benesch@gmail.com>
Date:   Wed Jul 24 11:14:24 2019 -0400

    Merge pull request #201 from MaterializeInc/dependabot/cargo/reqwest-0.9.19
    
    build(deps): bump reqwest from 0.9.18 to 0.9.19

commit 79f5a5f16fb0c3f78210e88d99dfcb8e73d0ff32
Author: dependabot-preview[bot] <27856297+dependabot-preview[bot]@users.noreply.github.com>
Date:   Wed Jul 24 15:01:59 2019 +0000

    build(deps): bump differential-dataflow from `e1edeb3` to `ada2c48`
    
    Bumps [differential-dataflow](https://github.com/TimelyDataflow/differential-dataflow) from `e1edeb3` to `ada2c48`.
    - [Release notes](https://github.com/TimelyDataflow/differential-dataflow/releases)
    - [Commits](https://github.com/TimelyDataflow/differential-dataflow/compare/e1edeb3d665b592a039299e3033353ad58191ea8...ada2c48aff200c158928b83e71601a324c837f30)
    
    Signed-off-by: dependabot-preview[bot] <support@dependabot.com>

commit 441a251ff5a05138d6fae0e84b56a6b261de3d83
Merge: 323b5dc8b d800984c3
Author: Nikhil Benesch <nikhil.benesch@gmail.com>
Date:   Wed Jul 24 10:59:33 2019 -0400

    Merge pull request #206 from MaterializeInc/clean-decimal-refactor
    
    mtrlz: implement SQL-compliant decimal type

commit e1aa56914c83b294ee710afbde4d33698dbd341c
Author: dependabot-preview[bot] <27856297+dependabot-preview[bot]@users.noreply.github.com>
Date:   Wed Jul 24 14:55:28 2019 +0000

    build(deps): bump reqwest from 0.9.18 to 0.9.19
    
    Bumps [reqwest](https://github.com/seanmonstar/reqwest) from 0.9.18 to 0.9.19.
    - [Release notes](https://github.com/seanmonstar/reqwest/releases)
    - [Changelog](https://github.com/seanmonstar/reqwest/blob/master/CHANGELOG.md)
    - [Commits](https://github.com/seanmonstar/reqwest/compare/v0.9.18...v0.9.19)
    
    Signed-off-by: dependabot-preview[bot] <support@dependabot.com>

commit 323b5dc8bd7b4651b47c5c88730b75d73fd42107
Merge: 692e6c77a eea6df416
Author: Nikhil Benesch <nikhil.benesch@gmail.com>
Date:   Wed Jul 24 10:54:35 2019 -0400

    Merge pull request #203 from MaterializeInc/dependabot/cargo/slog-2.5.2
    
    build(deps): bump slog from 2.5.0 to 2.5.2

commit 692e6c77a1759d796a9d064eba79ff0ded7037b3
Merge: cc9810212 9522a9a49
Author: Nikhil Benesch <nikhil.benesch@gmail.com>
Date:   Wed Jul 24 10:54:06 2019 -0400

    Merge pull request #200 from MaterializeInc/dependabot/cargo/walkdir-2.2.9
    
    build(deps): bump walkdir from 2.2.8 to 2.2.9

commit cc981021240572ee3279341a99cfefe9b9035315
Merge: ad517eddd b741d2af0
Author: Nikhil Benesch <nikhil.benesch@gmail.com>
Date:   Wed Jul 24 10:53:20 2019 -0400

    Merge pull request #199 from MaterializeInc/dependabot/cargo/regex-1.2.0
    
    build(deps): bump regex from 1.1.9 to 1.2.0

commit d800984c37543ddaeaf9ba2daf99015337e4b2ec
Author: Frank McSherry <fmcsherry@me.com>
Date:   Mon Jul 22 13:18:31 2019 -0400

    dataflow: tidy reduce logic

commit 6b076b426ee2fa2031fdebeaf4f757b605f14e4a
Author: Frank McSherry <fmcsherry@me.com>
Date:   Tue Jul 23 15:24:37 2019 -0400

    test: update tpch for decimals

commit 91dd5f0c94750c3165d98a78b457f5f135ef8605
Author: Nikhil Benesch <nikhil.benesch@gmail.com>
Date:   Wed Jun 26 17:36:37 2019 -0400

    mtrlz: implement SQL-compliant decimal type
    
    Add a first-pass implementation of a SQL-compliant decimal type. The
    type supports exact decimal arithmetic with up to 38 digits of
    precision, using 128-bit integer arithmetic under the hood.

commit eea6df416e84d5309741d3e3e503c7859946b00f
Author: dependabot-preview[bot] <27856297+dependabot-preview[bot]@users.noreply.github.com>
Date:   Tue Jul 23 11:33:56 2019 +0000

    build(deps): bump slog from 2.5.0 to 2.5.2
    
    Bumps [slog](https://github.com/slog-rs/slog) from 2.5.0 to 2.5.2.
    - [Release notes](https://github.com/slog-rs/slog/releases)
    - [Changelog](https://github.com/slog-rs/slog/blob/master/CHANGELOG.md)
    - [Commits](https://github.com/slog-rs/slog/compare/v2.5.0...v2.5.2)
    
    Signed-off-by: dependabot-preview[bot] <support@dependabot.com>

commit a930484576678b72f08a5acb3431f756af750c52
Author: Nikhil Benesch <nikhil.benesch@gmail.com>
Date:   Mon Jul 22 11:51:47 2019 -0400

    Handle decimals

commit 9522a9a49f14a4d641693119a579fa8952d548b1
Author: dependabot-preview[bot] <27856297+dependabot-preview[bot]@users.noreply.github.com>
Date:   Mon Jul 22 10:40:10 2019 +0000

    build(deps): bump walkdir from 2.2.8 to 2.2.9
    
    Bumps [walkdir](https://github.com/BurntSushi/walkdir) from 2.2.8 to 2.2.9.
    - [Release notes](https://github.com/BurntSushi/walkdir/releases)
    - [Commits](https://github.com/BurntSushi/walkdir/compare/2.2.8...2.2.9)
    
    Signed-off-by: dependabot-preview[bot] <support@dependabot.com>

commit b741d2af0e88b8aabd8450de8c664e121e717761
Author: dependabot-preview[bot] <27856297+dependabot-preview[bot]@users.noreply.github.com>
Date:   Mon Jul 22 10:39:44 2019 +0000

    build(deps): bump regex from 1.1.9 to 1.2.0
    
    Bumps [regex](https://github.com/rust-lang/regex) from 1.1.9 to 1.2.0.
    - [Release notes](https://github.com/rust-lang/regex/releases)
    - [Changelog](https://github.com/rust-lang/regex/blob/master/CHANGELOG.md)
    - [Commits](https://github.com/rust-lang/regex/compare/1.1.9...1.2.0)
    
    Signed-off-by: dependabot-preview[bot] <support@dependabot.com>

commit ad517eddda47ceca1b68d3451a2cb2a7d531a942
Merge: c6ec7bd34 c22b86d90
Author: Nikhil Benesch <nikhil.benesch@gmail.com>
Date:   Fri Jul 19 11:01:11 2019 -0700

    Merge pull request #187 from MaterializeInc/dependabot/cargo/slog-2.5.0
    
    build(deps): bump slog from 2.4.1 to 2.5.0

commit c6ec7bd3445904a7e5054dad82a7b1569245ebbb
Merge: c40e52d35 f6c888ab9
Author: Nikhil Benesch <nikhil.benesch@gmail.com>
Date:   Fri Jul 19 11:00:39 2019 -0700

    Merge pull request #195 from MaterializeInc/dependabot/cargo/serde_derive-1.0.97
    
    build(deps): bump serde_derive from 1.0.94 to 1.0.97

commit c40e52d35ef21394a394644388460552bb09ddaf
Merge: 2f52d6c67 c64629b5b
Author: Nikhil Benesch <nikhil.benesch@gmail.com>
Date:   Fri Jul 19 11:00:27 2019 -0700

    Merge pull request #198 from MaterializeInc/queue-weirdness
    
    fix queue flow

commit c22b86d90003d64a168194940505b6f08fee87c2
Author: dependabot-preview[bot] <27856297+dependabot-preview[bot]@users.noreply.github.com>
Date:   Fri Jul 19 17:48:32 2019 +0000

    build(deps): bump slog from 2.4.1 to 2.5.0
    
    Bumps [slog](https://github.com/slog-rs/slog) from 2.4.1 to 2.5.0.
    - [Release notes](https://github.com/slog-rs/slog/releases)
    - [Changelog](https://github.com/slog-rs/slog/blob/master/CHANGELOG.md)
    - [Commits](https://github.com/slog-rs/slog/compare/v2.4.1...v2.5.0)
    
    Signed-off-by: dependabot-preview[bot] <support@dependabot.com>

commit f6c888ab93e14adeee3f6b37ec3395c7cd46215a
Author: dependabot-preview[bot] <27856297+dependabot-preview[bot]@users.noreply.github.com>
Date:   Fri Jul 19 17:48:22 2019 +0000

    build(deps): bump serde_derive from 1.0.94 to 1.0.97
    
    Bumps [serde_derive](https://github.com/serde-rs/serde) from 1.0.94 to 1.0.97.
    - [Release notes](https://github.com/serde-rs/serde/releases)
    - [Commits](https://github.com/serde-rs/serde/compare/v1.0.94...v1.0.97)
    
    Signed-off-by: dependabot-preview[bot] <support@dependabot.com>

commit 2f52d6c67ab28ece0fd84d8d7e08aabde649d49d
Merge: 8b354b76e bd97a9b93
Author: Nikhil Benesch <nikhil.benesch@gmail.com>
Date:   Fri Jul 19 10:47:05 2019 -0700

    Merge pull request #190 from MaterializeInc/dependabot/cargo/hyper-0.12.33
    
    build(deps): bump hyper from 0.12.31 to 0.12.33

commit 8b354b76efaaf79a3f914177d4ebb341b04b2b38
Merge: 0237c1e8e dca4e007a
Author: Nikhil Benesch <nikhil.benesch@gmail.com>
Date:   Fri Jul 19 10:46:53 2019 -0700

    Merge pull request #194 from MaterializeInc/dependabot/cargo/backtrace-0.3.33
    
    build(deps): bump backtrace from 0.3.32 to 0.3.33

commit 0237c1e8e131d463737d215c068287ac89e93896
Merge: 67f119717 2c67beb38
Author: Nikhil Benesch <nikhil.benesch@gmail.com>
Date:   Fri Jul 19 10:46:26 2019 -0700

    Merge pull request #196 from MaterializeInc/dependabot/cargo/serde-1.0.97
    
    build(deps): bump serde from 1.0.94 to 1.0.97

commit c64629b5b708c1d8398da95781ee10650dfbbbd2
Author: Nikhil Benesch <nikhil.benesch@gmail.com>
Date:   Thu Jul 18 18:51:55 2019 -0400

    fix queue flow
    
    Fix the queue flow per our discussion in the engineering huddle today.
    This also fixes a longstanding race that caused a panic when PEEKs
    immediately followed a CREATE VIEW.

commit bd97a9b93c490a4f0148c5f2464ea9204157bb8d
Author: dependabot-preview[bot] <27856297+dependabot-preview[bot]@users.noreply.github.com>
Date:   Thu Jul 18 17:07:36 2019 +0000

    build(deps): bump hyper from 0.12.31 to 0.12.33
    
    Bumps [hyper](https://github.com/hyperium/hyper) from 0.12.31 to 0.12.33.
    - [Release notes](https://github.com/hyperium/hyper/releases)
    - [Changelog](https://github.com/hyperium/hyper/blob/master/CHANGELOG.md)
    - [Commits](https://github.com/hyperium/hyper/compare/v0.12.31...v0.12.33)
    
    Signed-off-by: dependabot-preview[bot] <support@dependabot.com>

commit 2c67beb38f747d2e7bba41d06c137b8fdbbd7759
Author: dependabot-preview[bot] <27856297+dependabot-preview[bot]@users.noreply.github.com>
Date:   Thu Jul 18 16:49:47 2019 +0000

    build(deps): bump serde from 1.0.94 to 1.0.97
    
    Bumps [serde](https://github.com/serde-rs/serde) from 1.0.94 to 1.0.97.
    - [Release notes](https://github.com/serde-rs/serde/releases)
    - [Commits](https://github.com/serde-rs/serde/compare/v1.0.94...v1.0.97)
    
    Signed-off-by: dependabot-preview[bot] <support@dependabot.com>

commit dca4e007a8951eada8ae6dadfbd906c1d574881e
Author: dependabot-preview[bot] <27856297+dependabot-preview[bot]@users.noreply.github.com>
Date:   Thu Jul 18 16:49:08 2019 +0000

    build(deps): bump backtrace from 0.3.32 to 0.3.33
    
    Bumps [backtrace](https://github.com/rust-lang/backtrace-rs) from 0.3.32 to 0.3.33.
    - [Release notes](https://github.com/rust-lang/backtrace-rs/releases)
    - [Commits](https://github.com/rust-lang/backtrace-rs/compare/0.3.32...0.3.33)
    
    Signed-off-by: dependabot-preview[bot] <support@dependabot.com>

commit 67f11971721560430eea1bf3e31b3d37a415ec8c
Merge: 1065d9928 24f1ef6d0
Author: Nikhil Benesch <nikhil.benesch@gmail.com>
Date:   Thu Jul 18 07:49:11 2019 -0700

    Merge pull request #189 from MaterializeInc/dependabot/cargo/atty-0.2.13
    
    build(deps): bump atty from 0.2.11 to 0.2.13

commit 1065d9928f3ebdec664caa0fe8d11c4bdd411d22
Merge: 50f2bf350 fb7b00fd2
Author: Nikhil Benesch <nikhil.benesch@gmail.com>
Date:   Thu Jul 18 06:02:59 2019 -0700

    Merge pull request #185 from MaterializeInc/dependabot/cargo/timely-a1a3702
    
    build(deps): bump timely from `9430c46` to `a1a3702`

commit 50f2bf350773fbf60b1b29afaea75fedf44b109c
Merge: facaa7be6 11bbd3828
Author: Nikhil Benesch <nikhil.benesch@gmail.com>
Date:   Thu Jul 18 05:59:23 2019 -0700

    Merge pull request #182 from MaterializeInc/dependabot/cargo/log-0.4.7
    
    build(deps): bump log from 0.4.6 to 0.4.7

commit fb7b00fd2292d945db45fcf194b1c43903879439
Author: dependabot-preview[bot] <27856297+dependabot-preview[bot]@users.noreply.github.com>
Date:   Wed Jul 17 01:28:38 2019 +0000

    build(deps): bump timely from `9430c46` to `a1a3702`
    
    Bumps [timely](https://github.com/TimelyDataflow/timely-dataflow) from `9430c46` to `a1a3702`.
    - [Release notes](https://github.com/TimelyDataflow/timely-dataflow/releases)
    - [Commits](https://github.com/TimelyDataflow/timely-dataflow/compare/9430c46addfd33fc08b6063d2ecb916d35459a52...a1a3702a5229fcfaf5bc8440a0808791ab43df35)
    
    Signed-off-by: dependabot-preview[bot] <support@dependabot.com>

commit 24f1ef6d0bc68ea98f8c93e2cbf8f0f9a6a0347b
Author: dependabot-preview[bot] <27856297+dependabot-preview[bot]@users.noreply.github.com>
Date:   Wed Jul 17 01:28:28 2019 +0000

    build(deps): bump atty from 0.2.11 to 0.2.13
    
    Bumps [atty](https://github.com/softprops/atty) from 0.2.11 to 0.2.13.
    - [Release notes](https://github.com/softprops/atty/releases)
    - [Changelog](https://github.com/softprops/atty/blob/master/CHANGELOG.md)
    - [Commits](https://github.com/softprops/atty/compare/0.2.11...0.2.13)
    
    Signed-off-by: dependabot-preview[bot] <support@dependabot.com>

commit 11bbd38282b63b17765606fa1dc7e00b0f68b27d
Author: dependabot-preview[bot] <27856297+dependabot-preview[bot]@users.noreply.github.com>
Date:   Wed Jul 17 01:28:14 2019 +0000

    build(deps): bump log from 0.4.6 to 0.4.7
    
    Bumps [log](https://github.com/rust-lang/log) from 0.4.6 to 0.4.7.
    - [Release notes](https://github.com/rust-lang/log/releases)
    - [Changelog](https://github.com/rust-lang-nursery/log/blob/master/CHANGELOG.md)
    - [Commits](https://github.com/rust-lang/log/compare/0.4.6...0.4.7)
    
    Signed-off-by: dependabot-preview[bot] <support@dependabot.com>

commit facaa7be6e5ce775dee256a8319ddb4c2ca9ff46
Author: Nikhil Benesch <nikhil.benesch@gmail.com>
Date:   Tue Jul 16 21:23:11 2019 -0400

    deps: bump sqlparser
    
    Proper support for decimals will be added in an upcoming patch. For now,
    just cast them to floats by converting them to strings and back.

commit 40468129b638a78c4223d0844c44692cacf695f2
Merge: 322a92cee 0a565882a
Author: Nikhil Benesch <nikhil.benesch@gmail.com>
Date:   Mon Jul 8 13:33:44 2019 -0400

    Merge pull request #172 from MaterializeInc/rust-1.36
    
    rust-toolchain: upgrade to Rust 1.36

commit 0a565882aa7ee11baf07cca3296fa2a1cfdcf9ba
Author: Nikhil Benesch <nikhil.benesch@gmail.com>
Date:   Mon Jul 8 13:11:20 2019 -0400

    rust-toolchain: upgrade to Rust 1.36

commit 322a92cee845ecc2199a614c19f7c2ea6bf5de92
Merge: 1297a4397 73b21daa4
Author: Nikhil Benesch <nikhil.benesch@gmail.com>
Date:   Mon Jul 8 13:03:20 2019 -0400

    Merge pull request #166 from MaterializeInc/dependabot/cargo/tokio-0.1.22
    
    build(deps): bump tokio from 0.1.21 to 0.1.22

commit 73b21daa4d50cd8324d94a2ba4d99fb9fd81e87d
Author: dependabot-preview[bot] <27856297+dependabot-preview[bot]@users.noreply.github.com>
Date:   Mon Jul 8 14:42:07 2019 +0000

    build(deps): bump tokio from 0.1.21 to 0.1.22
    
    Bumps [tokio](https://github.com/tokio-rs/tokio) from 0.1.21 to 0.1.22.
    - [Release notes](https://github.com/tokio-rs/tokio/releases)
    - [Commits](https://github.com/tokio-rs/tokio/commits)
    
    Signed-off-by: dependabot-preview[bot] <support@dependabot.com>

commit 1297a4397c0fb172f6bfaad2e528d236087d975f
Merge: c73c31b19 5579a1bf5
Author: Nikhil Benesch <nikhil.benesch@gmail.com>
Date:   Mon Jul 8 10:40:16 2019 -0400

    Merge pull request #164 from MaterializeInc/dependabot/cargo/serde_json-1.0.40
    
    build(deps): bump serde_json from 1.0.39 to 1.0.40

commit c73c31b196700777347d77a901e8db248350c127
Merge: 6c6663c6f 1fcedddb3
Author: Nikhil Benesch <nikhil.benesch@gmail.com>
Date:   Mon Jul 8 10:38:36 2019 -0400

    Merge pull request #171 from MaterializeInc/dependabot/cargo/regex-syntax-0.6.8
    
    build(deps): bump regex-syntax from 0.6.7 to 0.6.8

commit 1fcedddb30ed9e2b07e6da0a770908a19f68826f
Author: dependabot-preview[bot] <27856297+dependabot-preview[bot]@users.noreply.github.com>
Date:   Mon Jul 8 14:33:06 2019 +0000

    build(deps): bump regex-syntax from 0.6.7 to 0.6.8
    
    Bumps [regex-syntax](https://github.com/rust-lang/regex) from 0.6.7 to 0.6.8.
    - [Release notes](https://github.com/rust-lang/regex/releases)
    - [Changelog](https://github.com/rust-lang/regex/blob/master/CHANGELOG.md)
    - [Commits](https://github.com/rust-lang/regex/commits)
    
    Signed-off-by: dependabot-preview[bot] <support@dependabot.com>

commit 5579a1bf55d11e7099724f7e41d5283d3a3b7565
Author: dependabot-preview[bot] <27856297+dependabot-preview[bot]@users.noreply.github.com>
Date:   Mon Jul 8 14:32:54 2019 +0000

    build(deps): bump serde_json from 1.0.39 to 1.0.40
    
    Bumps [serde_json](https://github.com/serde-rs/json) from 1.0.39 to 1.0.40.
    - [Release notes](https://github.com/serde-rs/json/releases)
    - [Commits](https://github.com/serde-rs/json/compare/v1.0.39...v1.0.40)
    
    Signed-off-by: dependabot-preview[bot] <support@dependabot.com>

commit 6c6663c6fe6ebb77af01a823508fda15a4fc9bf2
Merge: 4d9dc1359 c3a3c1975
Author: Nikhil Benesch <nikhil.benesch@gmail.com>
Date:   Mon Jul 8 10:31:28 2019 -0400

    Merge pull request #167 from MaterializeInc/dependabot/cargo/tokio-threadpool-0.1.15
    
    build(deps): bump tokio-threadpool from 0.1.14 to 0.1.15

commit 4d9dc1359bab54d55b2b357bcf6ad329329b8ee1
Merge: e7b7e2392 22c93888f
Author: Nikhil Benesch <nikhil.benesch@gmail.com>
Date:   Mon Jul 8 10:30:57 2019 -0400

    Merge pull request #169 from MaterializeInc/dependabot/cargo/libflate-0.1.25
    
    build(deps): [security] bump libflate from 0.1.23 to 0.1.25

commit e7b7e23924a3d9c8eef253429969b6a7e41f4bf8
Merge: f7ae778e6 c30b49991
Author: Nikhil Benesch <nikhil.benesch@gmail.com>
Date:   Mon Jul 8 10:30:36 2019 -0400

    Merge pull request #170 from MaterializeInc/dependabot/cargo/regex-1.1.9
    
    build(deps): bump regex from 1.1.7 to 1.1.9

commit c30b49991b23aedb2c4d1834e4496cc796794623
Author: dependabot-preview[bot] <27856297+dependabot-preview[bot]@users.noreply.github.com>
Date:   Mon Jul 8 10:57:19 2019 +0000

    build(deps): bump regex from 1.1.7 to 1.1.9
    
    Bumps [regex](https://github.com/rust-lang/regex) from 1.1.7 to 1.1.9.
    - [Release notes](https://github.com/rust-lang/regex/releases)
    - [Changelog](https://github.com/rust-lang/regex/blob/master/CHANGELOG.md)
    - [Commits](https://github.com/rust-lang/regex/compare/1.1.7...1.1.9)
    
    Signed-off-by: dependabot-preview[bot] <support@dependabot.com>

commit 22c93888f602e59622208574587cf1919e61d93b
Author: dependabot-preview[bot] <27856297+dependabot-preview[bot]@users.noreply.github.com>
Date:   Sun Jul 7 17:59:30 2019 +0000

    build(deps): [security] bump libflate from 0.1.23 to 0.1.25
    
    Bumps [libflate](https://github.com/sile/libflate) from 0.1.23 to 0.1.25. **This update includes security fixes.**
    - [Release notes](https://github.com/sile/libflate/releases)
    - [Commits](https://github.com/sile/libflate/compare/0.1.23...0.1.25)
    
    Signed-off-by: dependabot-preview[bot] <support@dependabot.com>

commit c3a3c19757ccf377d76c022062178d980f870923
Author: dependabot-preview[bot] <27856297+dependabot-preview[bot]@users.noreply.github.com>
Date:   Thu Jul 4 10:52:47 2019 +0000

    build(deps): bump tokio-threadpool from 0.1.14 to 0.1.15
    
    Bumps [tokio-threadpool](https://github.com/tokio-rs/tokio) from 0.1.14 to 0.1.15.
    - [Release notes](https://github.com/tokio-rs/tokio/releases)
    - [Changelog](https://github.com/tokio-rs/tokio/blob/tokio-0.1.15/CHANGELOG.md)
    - [Commits](https://github.com/tokio-rs/tokio/compare/tokio-threadpool-0.1.14...tokio-0.1.15)
    
    Signed-off-by: dependabot-preview[bot] <support@dependabot.com>

commit f7ae778e6936d99cf77b134219010d028689cb8b
Merge: 9df853068 5ca660eb5
Author: Nikhil Benesch <nikhil.benesch@gmail.com>
Date:   Wed Jul 3 10:09:47 2019 -0400

    Merge pull request #163 from MaterializeInc/dependabot/cargo/env_logger-0.6.2
    
    build(deps): bump env_logger from 0.6.1 to 0.6.2

commit 9df8530686d5b974b5602d5402fde4bccaddb54a
Merge: 46d7872ca c41d3fd4e
Author: Nikhil Benesch <nikhil.benesch@gmail.com>
Date:   Wed Jul 3 10:09:10 2019 -0400

    Merge pull request #165 from MaterializeInc/dependabot/cargo/postgres-0.16.0-rc.2
    
    build(deps): bump postgres from 0.16.0-rc.1 to 0.16.0-rc.2

commit 46d7872cab2b79d9cf537f2b64047500b0f18083
Author: Jamie Brandon <jamie@scattered-thoughts.net>
Date:   Mon Jul 1 18:45:14 2019 +0100

    Don't panic in planner

commit 6430ca8ba02284a485618ee9ce4b66433aead3a8
Author: Jamie Brandon <jamie@scattered-thoughts.net>
Date:   Mon Jul 1 18:44:33 2019 +0100

    Make `RelationExpr::let_` take self

commit c41d3fd4e22546bde1de6eb20a83bf21afedc1d9
Author: dependabot-preview[bot] <27856297+dependabot-preview[bot]@users.noreply.github.com>
Date:   Mon Jul 1 10:53:30 2019 +0000

    build(deps): bump postgres from 0.16.0-rc.1 to 0.16.0-rc.2
    
    Bumps [postgres](https://github.com/sfackler/rust-postgres) from 0.16.0-rc.1 to 0.16.0-rc.2.
    - [Release notes](https://github.com/sfackler/rust-postgres/releases)
    - [Commits](https://github.com/sfackler/rust-postgres/compare/postgres-v0.16.0-rc.1...postgres-v0.16.0-rc.2)
    
    Signed-off-by: dependabot-preview[bot] <support@dependabot.com>

commit 5ca660eb509f8caf19f8f4c32358d3b991b85b04
Author: dependabot-preview[bot] <27856297+dependabot-preview[bot]@users.noreply.github.com>
Date:   Mon Jul 1 10:53:13 2019 +0000

    build(deps): bump env_logger from 0.6.1 to 0.6.2
    
    Bumps [env_logger](https://github.com/sebasmagri/env_logger) from 0.6.1 to 0.6.2.
    - [Release notes](https://github.com/sebasmagri/env_logger/releases)
    - [Changelog](https://github.com/sebasmagri/env_logger/blob/master/CHANGELOG.md)
    - [Commits](https://github.com/sebasmagri/env_logger/compare/v0.6.1...v0.6.2)
    
    Signed-off-by: dependabot-preview[bot] <support@dependabot.com>

commit fcf8ba749faf7e94130aa2a3fdea875bafbff383
Author: Nikhil Benesch <nikhil.benesch@gmail.com>
Date:   Sat Jun 29 00:44:09 2019 -0400

    mtrlz: unify PeekExisting, PeekTransient, and Insert
    
    These are three shades of the same operation. Just unify them.

commit b90b9db5a7c60f0b8455c3a36c9887e5b548f34b
Author: Nikhil Benesch <nikhil.benesch@gmail.com>
Date:   Fri Jun 28 19:46:31 2019 -0400

    mtrlz: only require name to drop dataflow
    
    Passing the whole dataflow around is a bit strange--what if it doesn't
    exactly match the existing dataflow of that name?

commit a37bb8cd31e87499d7f50a892d613af9b5ea708e
Merge: 794c8b71e 15d78f08e
Author: Nikhil Benesch <nikhil.benesch@gmail.com>
Date:   Sun Jun 30 21:07:56 2019 -0400

    Merge pull request #161 from MaterializeInc/dependabot/cargo/serde-1.0.94
    
    Bump serde from 1.0.93 to 1.0.94

commit 15d78f08e6a2de2adcd637f4d0b70995c45de363
Author: dependabot-preview[bot] <27856297+dependabot-preview[bot]@users.noreply.github.com>
Date:   Mon Jul 1 00:54:51 2019 +0000

    Bump serde from 1.0.93 to 1.0.94
    
    Bumps [serde](https://github.com/serde-rs/serde) from 1.0.93 to 1.0.94.
    - [Release notes](https://github.com/serde-rs/serde/releases)
    - [Commits](https://github.com/serde-rs/serde/compare/v1.0.93...v1.0.94)
    
    Signed-off-by: dependabot-preview[bot] <support@dependabot.com>

commit 794c8b71eaff7fb2d7d9df56c83ed03d5bc670b6
Merge: c2b2a4c58 d44d3e227
Author: Nikhil Benesch <nikhil.benesch@gmail.com>
Date:   Sun Jun 30 20:52:59 2019 -0400

    Merge pull request #162 from MaterializeInc/dependabot/cargo/serde_derive-1.0.94
    
    Bump serde_derive from 1.0.93 to 1.0.94

commit c2b2a4c588e04e83289662c441f30550da1faa12
Merge: bf04345c3 e0bd36ec3
Author: Nikhil Benesch <nikhil.benesch@gmail.com>
Date:   Sun Jun 30 20:52:44 2019 -0400

    Merge pull request #160 from MaterializeInc/dependabot/cargo/rand-0.7.0
    
    Bump rand from 0.6.5 to 0.7.0

commit d44d3e2274920ce8da90f0bc43621cd9ceeff7df
Author: dependabot-preview[bot] <27856297+dependabot-preview[bot]@users.noreply.github.com>
Date:   Fri Jun 28 10:45:13 2019 +0000

    Bump serde_derive from 1.0.93 to 1.0.94
    
    Bumps [serde_derive](https://github.com/serde-rs/serde) from 1.0.93 to 1.0.94.
    - [Release notes](https://github.com/serde-rs/serde/releases)
    - [Commits](https://github.com/serde-rs/serde/compare/v1.0.93...v1.0.94)
    
    Signed-off-by: dependabot-preview[bot] <support@dependabot.com>

commit e0bd36ec34f7b41b4f4ee5bebdcff5d32100c70e
Author: dependabot-preview[bot] <27856297+dependabot-preview[bot]@users.noreply.github.com>
Date:   Fri Jun 28 10:44:27 2019 +0000

    Bump rand from 0.6.5 to 0.7.0
    
    Bumps [rand](https://github.com/rust-random/rand) from 0.6.5 to 0.7.0.
    - [Release notes](https://github.com/rust-random/rand/releases)
    - [Changelog](https://github.com/rust-random/rand/blob/master/CHANGELOG.md)
    - [Commits](https://github.com/rust-random/rand/commits)
    
    Signed-off-by: dependabot-preview[bot] <support@dependabot.com>

commit bf04345c311742a7041ab6e06f02add2fbbb1b3b
Author: Nikhil Benesch <nikhil.benesch@gmail.com>
Date:   Thu Jun 27 22:13:42 2019 -0400

    misc/githooks: only verify pushes to master

commit a56f63202db4c0e780a8a95f225be15e4ae79a79
Merge: 91b1b0234 ccc192294
Author: Nikhil Benesch <nikhil.benesch@gmail.com>
Date:   Thu Jun 27 21:57:36 2019 -0400

    Merge pull request #158 from MaterializeInc/dependabot/cargo/backtrace-0.3.32
    
    Bump backtrace from 0.3.31 to 0.3.32

commit 91b1b0234296456cdd7b86b3a54ff30237b7fb92
Merge: bc2915075 94201402a
Author: Nikhil Benesch <nikhil.benesch@gmail.com>
Date:   Thu Jun 27 21:57:24 2019 -0400

    Merge pull request #157 from MaterializeInc/dependabot/cargo/differential-dataflow-e1edeb3
    
    build(deps): bump differential-dataflow from `9213446` to `e1edeb3`

commit bc2915075975c4109f6c38be97fc6161397fac56
Merge: adfc1fe52 5937b507b
Author: Nikhil Benesch <nikhil.benesch@gmail.com>
Date:   Thu Jun 27 21:56:51 2019 -0400

    Merge pull request #156 from MaterializeInc/dependabot/cargo/hyper-0.12.31
    
    build(deps): bump hyper from 0.12.30 to 0.12.31

commit adfc1fe52f966814ed510338609320d644551013
Author: Jamie Brandon <jamie@scattered-thoughts.net>
Date:   Thu Jun 27 17:21:40 2019 +0100

    Avoid testing based on cockroaches hash order :)

commit ccc192294f8f0eef832b09a7d3c1da0d609750e0
Author: dependabot-preview[bot] <27856297+dependabot-preview[bot]@users.noreply.github.com>
Date:   Thu Jun 27 16:05:37 2019 +0000

    Bump backtrace from 0.3.31 to 0.3.32
    
    Bumps [backtrace](https://github.com/rust-lang/backtrace-rs) from 0.3.31 to 0.3.32.
    - [Release notes](https://github.com/rust-lang/backtrace-rs/releases)
    - [Commits](https://github.com/rust-lang/backtrace-rs/compare/0.3.31...0.3.32)
    
    Signed-off-by: dependabot-preview[bot] <support@dependabot.com>

commit 5db661bc0f84ebb4ae9c18e5e056ad2ed81f10f8
Merge: 30546e1f4 fef06a8a8
Author: Frank McSherry <fmcsherry@me.com>
Date:   Thu Jun 27 12:03:43 2019 -0400

    Merge pull request #159 from MaterializeInc/demorgans
    
    Demorgans

commit fef06a8a89c2fea3130fee6990f8ec86e17e335b
Author: Frank McSherry <fmcsherry@me.com>
Date:   Thu Jun 27 09:34:29 2019 -0400

    fuzz

commit bf3c0c240e42637802de46dfecd121dd00e8dc6d
Author: Frank McSherry <fmcsherry@me.com>
Date:   Thu Jun 27 09:29:03 2019 -0400

    correct logic

commit 30546e1f43d86edd304eb4967b6a7aed0b1783e7
Author: Jamie Brandon <jamie@scattered-thoughts.net>
Date:   Thu Jun 27 10:44:16 2019 +0100

    DeMorgans transform is wrong in three-valued logic

commit 2f8cb098931a07d7b8d51c4d464699674957b51a
Author: Nikhil Benesch <nikhil.benesch@gmail.com>
Date:   Thu Jun 27 02:23:41 2019 -0400

    mtrlz: unify INSERT code paths
    
    Adjust the dataflow module's insert command to take an arbitrary
    dataflow as its source, rather than a constant list of values. This
    unlocks support for complex insert statements, like
    
        INSERT INTO t SELECT ...
    
    where the SELECT ... query is any arbitrary query that we are currently
    capable of executing.
    
    This requires some timestamp shenanigans in order to perform the query
    at time t and perform the insert at time t + 1. I plan to document this
    scheme further soon.
    
    The other major change is that the planner is no longer aware of how
    many rows an INSERT statement will generate, and so cannot immediately
    report this answer to the client. The mechanism for sending PEEK results
    has been generalized so that it can also be used for reporting INSERT
    counts to the client.

commit 9b8d7463cd9dac73aff7c79fa436f41488ba71f3
Author: Nikhil Benesch <nikhil.benesch@gmail.com>
Date:   Thu Jun 27 00:55:14 2019 -0400

    mtrlz/dataflow: temporarily remove arrangement caching code
    
    This isn't hooked up yet, and it's making INSERT unification harder.
    Just remove it for now.

commit 661cd7be8d414cbdf843a34c5da69b4d9e797fc4
Author: Nikhil Benesch <nikhil.benesch@gmail.com>
Date:   Wed Jun 26 17:31:12 2019 -0400

    mtrlz: don't require a view wrapper in PeekTransient
    
    Push the handling of naming and typing this view to the dataflow layer.
    This makes life a bit easier in a future commit, which will also want to
    shuttle around RelationExprs in DataflowCommands, rather than
    fully-fledged views.

commit a90e1aa402f3cc968a58c9308a8642cc58f6e9dd
Author: Nikhil Benesch <nikhil.benesch@gmail.com>
Date:   Wed Jun 26 16:36:00 2019 -0400

    mtrlz/dataflow: use unordered inputs for local sources
    
    Use the less ergonomic but more expressive UnorderedInput type for our
    local imports. These allow inserts to occur at multiple times (provided
    you hold the requisite capability), which will be useful in refactoring
    our INSERT pathway.

commit 676f09db8bb3acb16a74b3286a1598ed5b4d794c
Author: Nikhil Benesch <nikhil.benesch@gmail.com>
Date:   Wed Jun 26 11:42:08 2019 -0400

    mtrlz/{dataflow,repr}: don't permit asking a datum for its ScalarType
    
    It is currently possible to infer a Datum's ScalarType, since every
    Datum variant corresponds exactly to a ScalarType variant. This will
    no longer be the case when we introduce support for variable-scale
    decimals, where the Datum::Decimal variant will not carry information
    about its scale.

commit 94201402a821f32e8b159356993f085dcab2a26f
Author: dependabot-preview[bot] <27856297+dependabot-preview[bot]@users.noreply.github.com>
Date:   Wed Jun 26 10:53:15 2019 +0000

    build(deps): bump differential-dataflow from `9213446` to `e1edeb3`
    
    Bumps [differential-dataflow](https://github.com/TimelyDataflow/differential-dataflow) from `9213446` to `e1edeb3`.
    - [Release notes](https://github.com/TimelyDataflow/differential-dataflow/releases)
    - [Commits](https://github.com/TimelyDataflow/differential-dataflow/compare/92134466b01f799757c50f693a222a53f2c38f59...e1edeb3d665b592a039299e3033353ad58191ea8)
    
    Signed-off-by: dependabot-preview[bot] <support@dependabot.com>

commit 5937b507b31bd9fcc926483a2a86a9ecf2db435f
Author: dependabot-preview[bot] <27856297+dependabot-preview[bot]@users.noreply.github.com>
Date:   Wed Jun 26 10:53:01 2019 +0000

    build(deps): bump hyper from 0.12.30 to 0.12.31
    
    Bumps [hyper](https://github.com/hyperium/hyper) from 0.12.30 to 0.12.31.
    - [Release notes](https://github.com/hyperium/hyper/releases)
    - [Changelog](https://github.com/hyperium/hyper/blob/master/CHANGELOG.md)
    - [Commits](https://github.com/hyperium/hyper/compare/v0.12.30...v0.12.31)
    
    Signed-off-by: dependabot-preview[bot] <support@dependabot.com>

commit c8ad81321325444908213378c73b50cd4db0ff6a
Merge: 971c04858 5d3b53ec6
Author: Nikhil Benesch <nikhil.benesch@gmail.com>
Date:   Tue Jun 25 14:05:50 2019 -0400

    Merge pull request #152 from MaterializeInc/dependabot/cargo/backtrace-0.3.31
    
    build(deps): bump backtrace from 0.3.30 to 0.3.31

commit 971c04858fc9476c75e7fa31a7b87d056e253112
Merge: cfc363f64 24ba514b6
Author: Nikhil Benesch <nikhil.benesch@gmail.com>
Date:   Tue Jun 25 14:04:50 2019 -0400

    Merge pull request #150 from MaterializeInc/dependabot/cargo/serde_derive-1.0.93
    
    build(deps): bump serde_derive from 1.0.92 to 1.0.93

commit cfc363f644b9572fceb4116535da4dd472dd7656
Author: Nikhil Benesch <nikhil.benesch@gmail.com>
Date:   Tue Jun 25 14:01:02 2019 -0400

    deps: update sqlparser
    
    Update to the latest sqlparser. This brings in a rather invasive rename
    that drops the "SQL" prefix from all types.

commit 24ba514b62fd1bde97959a135d02121f9ce9b548
Author: dependabot-preview[bot] <27856297+dependabot-preview[bot]@users.noreply.github.com>
Date:   Tue Jun 25 15:40:59 2019 +0000

    build(deps): bump serde_derive from 1.0.92 to 1.0.93
    
    Bumps [serde_derive](https://github.com/serde-rs/serde) from 1.0.92 to 1.0.93.
    - [Release notes](https://github.com/serde-rs/serde/releases)
    - [Commits](https://github.com/serde-rs/serde/compare/v1.0.92...v1.0.93)
    
    Signed-off-by: dependabot-preview[bot] <support@dependabot.com>

commit b4439730b5795ab94bc8e626728605d3f3fcc879
Author: Nikhil Benesch <nikhil.benesch@gmail.com>
Date:   Tue Jun 25 11:22:59 2019 -0400

    mtrlz/repr: de-weird regexes
    
    Fix #155 with assistance from Frank and Jamie.

commit 4bf8a44d44ba4df923425a2b334d2e821d6b7bed
Author: Nikhil Benesch <nikhil.benesch@gmail.com>
Date:   Tue Jun 25 10:52:56 2019 -0400

    Cargo.lock: missed updates

commit 9d393ca189951cb066c847cde1d822f69152191c
Author: Nikhil Benesch <nikhil.benesch@gmail.com>
Date:   Tue Jun 25 10:44:11 2019 -0400

    mtrlz/sql: auto-promote int32s to int64s

commit d445fe170ec0089274a2d34357cc8b76090917fc
Merge: 0276826f1 eb96bacb3
Author: Nikhil Benesch <nikhil.benesch@gmail.com>
Date:   Tue Jun 25 01:17:44 2019 -0400

    Merge pull request #151 from MaterializeInc/dependabot/cargo/serde-1.0.93
    
    build(deps): bump serde from 1.0.92 to 1.0.93

commit 0276826f1c93f978fbebba68caaf553fe499431a
Merge: 54c1f6c22 9f1509f45
Author: Nikhil Benesch <nikhil.benesch@gmail.com>
Date:   Tue Jun 25 01:11:38 2019 -0400

    Merge pull request #154 from MaterializeInc/like
    
    plan LIKE operator

commit 9f1509f45f65c844889fab5f7a0901b649c5cacc
Author: Nikhil Benesch <nikhil.benesch@gmail.com>
Date:   Mon Jun 24 23:05:09 2019 -0400

    mtrlz/repr: add notes about weird regex design

commit 1625f0a5a1744bd4db095e28a4088eb5c468d35a
Author: Nikhil Benesch <nikhil.benesch@gmail.com>
Date:   Mon Jun 24 22:53:44 2019 -0400

    mtrlz/sql: plan LIKE operator

commit 802161997fa1d0fa90bfd18e12eb01b08ba50ec9
Author: Nikhil Benesch <nikhil.benesch@gmail.com>
Date:   Mon Jun 24 17:08:41 2019 -0400

    mtrlz/repr: add a regex variant to datum

commit 54c1f6c226dafef9b0902e22998a6142f62e98a2
Author: Frank McSherry <fmcsherry@me.com>
Date:   Mon Jun 24 17:12:54 2019 -0400

    dates, casts

commit eda81c092d3b98c39412f5e82d836f6d6e427feb
Merge: e147615e1 47dddeb53
Author: Frank McSherry <fmcsherry@me.com>
Date:   Mon Jun 24 17:07:20 2019 -0400

    Merge pull request #153 from MaterializeInc/undistribute
    
    Undistribute AND

commit 47dddeb53eb1384332fd5d92605b3a689cbbdc41
Author: Frank McSherry <fmcsherry@me.com>
Date:   Mon Jun 24 17:03:29 2019 -0400

    cargo fmt

commit 60868561fe833170b9301bbda05298d1e29645eb
Author: Frank McSherry <fmcsherry@me.com>
Date:   Mon Jun 24 17:03:08 2019 -0400

    undistribute over and

commit e147615e1692e4f480f3b630506e2297fe513874
Author: Jamie Brandon <jamie@scattered-thoughts.net>
Date:   Mon Jun 24 14:36:10 2019 +0100

    Don't fail slt if some tests failed
    
    We will be failing slt tests for a long time to come, and we want to
    distinguish in CI between successfully reporting a number of failed tests,
    and crashing without reporting anything.

commit 1c0b3115d15a73427d0d01809c00643ad2bdf383
Author: Frank McSherry <fmcsherry@me.com>
Date:   Mon Jun 24 09:26:02 2019 -0400

    correct timestamps

commit 5d3b53ec6222fd32b434cad6b3778395b6d59626
Author: dependabot-preview[bot] <27856297+dependabot-preview[bot]@users.noreply.github.com>
Date:   Mon Jun 24 11:11:25 2019 +0000

    build(deps): bump backtrace from 0.3.30 to 0.3.31
    
    Bumps [backtrace](https://github.com/rust-lang/backtrace-rs) from 0.3.30 to 0.3.31.
    - [Release notes](https://github.com/rust-lang/backtrace-rs/releases)
    - [Commits](https://github.com/rust-lang/backtrace-rs/compare/0.3.30...0.3.31)
    
    Signed-off-by: dependabot-preview[bot] <support@dependabot.com>

commit eb96bacb393f4a76e5422da370c9fb2ca7fd0317
Author: dependabot-preview[bot] <27856297+dependabot-preview[bot]@users.noreply.github.com>
Date:   Mon Jun 24 11:11:06 2019 +0000

    build(deps): bump serde from 1.0.92 to 1.0.93
    
    Bumps [serde](https://github.com/serde-rs/serde) from 1.0.92 to 1.0.93.
    - [Release notes](https://github.com/serde-rs/serde/releases)
    - [Commits](https://github.com/serde-rs/serde/compare/v1.0.92...v1.0.93)
    
    Signed-off-by: dependabot-preview[bot] <support@dependabot.com>

commit bdb657b36cc18e62b010b45812494e438d094798
Author: Frank McSherry <fmcsherry@me.com>
Date:   Fri Jun 21 17:14:55 2019 -0400

    cargo fml

commit f8f8cab49f40620bd86779700f31a61eaba08db2
Author: Frank McSherry <fmcsherry@me.com>
Date:   Fri Jun 21 17:13:54 2019 -0400

    <3 clippy

commit 21f031481b36f6c46aed5fa72735d70609155de6
Author: Frank McSherry <fmcsherry@me.com>
Date:   Fri Jun 21 17:08:29 2019 -0400

    amend tpch to use our dates (wrong TZs)

commit 791dd8bf8b8e9a799a251ef75f37b55a529817e8
Author: Frank McSherry <fmcsherry@me.com>
Date:   Fri Jun 21 17:08:06 2019 -0400

    prefer joins involving field zero

commit 8ea399fec4607e27501d3a1ef32c9d7f8cbb13f4
Author: Nikhil Benesch <nikhil.benesch@gmail.com>
Date:   Thu Jun 20 17:37:29 2019 -0400

    mtrlz/dataflow: tell kafka to fetch bigger batches
    
    This increases throughput at the cost of memory usage, which seems like
    a tradeoff worth making.

commit 8eecc063b6091567721fa1bc7a0d255b04cf96e0
Author: Frank McSherry <fmcsherry@me.com>
Date:   Thu Jun 20 16:39:25 2019 -0400

    distribute payloads better

commit 9df59a3097aee78e431015a130ed359b0d1a88b6
Author: Nikhil Benesch <nikhil.benesch@gmail.com>
Date:   Thu Jun 20 16:09:29 2019 -0400

    mtrlz/interchange: add fast path
    
    When an Avro record is laid out appropriately, we can substantially
    speed up decoding by dropping the trailing metadata on the floor, rather
    than decoding it and then throwing it away.

commit 0d07f056594d10229ddbf49b74316ca171652252
Merge: fdb1ebc9d 2a6522f97
Author: Frank McSherry <fmcsherry@me.com>
Date:   Thu Jun 20 16:13:14 2019 -0400

    Merge pull request #148 from MaterializeInc/floatpocalypse
    
    Floatpocalypse

commit 2a6522f97242333d9afe5bf9632bb322900d6ea7
Author: Frank McSherry <fmcsherry@me.com>
Date:   Thu Jun 20 16:06:47 2019 -0400

    clippy

commit 7cfd56401ece8b118809e6c13607665f40a1a23c
Author: Frank McSherry <fmcsherry@me.com>
Date:   Thu Jun 20 16:01:45 2019 -0400

    cargo fmt

commit d659e93cbf756643fefe4e8f64660268337677dd
Author: Frank McSherry <fmcsherry@me.com>
Date:   Thu Jun 20 16:00:43 2019 -0400

    use integers for floats

commit fdb1ebc9dd787a0f30d35d4e243ce8367f385871
Author: Nikhil Benesch <nikhil.benesch@gmail.com>
Date:   Thu Jun 20 15:51:54 2019 -0400

    mtrlz/interchange: avoid performing schema resolution when possible
    
    When the reader and writer schemas are literally identical, there is no
    need to waste time performing schema resolution. This doubles the speed
    of Avro decoding.

commit 23ce965595264820d7f6d9ce06fb19812c68e07b
Author: Nikhil Benesch <nikhil.benesch@gmail.com>
Date:   Thu Jun 20 14:51:25 2019 -0400

    mtrlz/interchange: remove dead code

commit 14a765da08bad0eb813ae851c02521f386e3b550
Author: Jamie Brandon <jamie@scattered-thoughts.net>
Date:   Thu Jun 20 17:57:35 2019 +0100

    Fix some bad error handling logic.

commit 8c53a8de92476ca17683ced2153b11bd41db5449
Author: Jamie Brandon <jamie@scattered-thoughts.net>
Date:   Thu Jun 20 16:37:22 2019 +0100

    Report stacktraces for slt crashes

commit 940e95fe517cf376fe180d318486dce0b5daf34e
Author: Jamie Brandon <jamie@scattered-thoughts.net>
Date:   Thu Jun 20 14:53:43 2019 +0100

    Don't swallow slt errors.
    
    This made sense when we might return an error code because the number
    of failures has changed, but now the only way to get one is to crash
    without finishing the test, so there are no results to publish anyway.

commit 046501442763c0145dee18ff8c789fe691747374
Author: Nikhil Benesch <nikhil.benesch@gmail.com>
Date:   Wed Jun 19 16:05:39 2019 -0400

    mtrlz/interchange: add avro microbenchmark

commit b9e24d42207c781a9a81f499187daf43e6c37889
Merge: 2a8d1ee17 b6f15744a
Author: Frank McSherry <fmcsherry@me.com>
Date:   Thu Jun 20 09:26:58 2019 -0400

    Merge pull request #147 from MaterializeInc/distribute_avro
    
    Distribute avro

commit 2a8d1ee17026540e735e2e4860bdd96ca2c249cb
Author: Jamie Brandon <jamie@scattered-thoughts.net>
Date:   Thu Jun 20 14:22:51 2019 +0100

    Don't try to run inserts that are supposed to fail

commit b6f15744a98865a0d81bbd6b60263bb43af19b46
Author: Frank McSherry <fmcsherry@me.com>
Date:   Thu Jun 20 09:07:04 2019 -0400

    errors

commit c34949d0da8ef01bbdd300735a0f5326500e0c20
Author: Frank McSherry <fmcsherry@me.com>
Date:   Thu Jun 20 09:03:32 2019 -0400

    tidy null, appease clippy

commit 525476dbf7cf5bd7092dccc15376db25c6facd6f
Author: Frank McSherry <fmcsherry@me.com>
Date:   Thu Jun 20 08:51:26 2019 -0400

    fuzz lock

commit c1567b9b679b3f8021b7ed2e0a9adb205297d375
Author: Frank McSherry <fmcsherry@me.com>
Date:   Thu Jun 20 08:46:06 2019 -0400

    parallelize deserialization

commit cd87f236c2de1841a381902b61e68daff55c2014
Author: Jamie Brandon <jamie@scattered-thoughts.net>
Date:   Wed Jun 19 19:22:41 2019 +0100

    Get through views.slt without bailing

commit ba9b1c904c830e32a77e4b54ad1947d7bc122427
Author: Jamie Brandon <jamie@scattered-thoughts.net>
Date:   Wed Jun 19 19:17:14 2019 +0100

    Cockroach slt isn't consistent about case

commit 6635e0ac5772a3c1683955a6944997a1695e3639
Author: Jamie Brandon <jamie@scattered-thoughts.net>
Date:   Wed Jun 19 19:16:48 2019 +0100

    Don't bother testing error handling on statements

commit d908368cdc77a0b5ba96e7ad2aeb9bbe254e1027
Author: Jamie Brandon <jamie@scattered-thoughts.net>
Date:   Wed Jun 19 19:16:35 2019 +0100

    Be more aggressive about handling inserts in slt

commit c27e1086cb5e706887354a08530af95c05586a1c
Author: Jamie Brandon <jamie@scattered-thoughts.net>
Date:   Wed Jun 19 18:58:18 2019 +0100

    Clippy

commit 01e083a83034c495905d2eedfbaa5274feb2b802
Author: Jamie Brandon <jamie@scattered-thoughts.net>
Date:   Wed Jun 19 18:33:50 2019 +0100

    Maintain mapping for `SELECT *` directly
    
    Trying to use resolution is too hard - sometimes columns don't even
    have names eg `SELECT * FROM (SELECT 1) AS foo`

commit 30955d54c3507c9e8b9fec90316fccf449aae304
Author: Jamie Brandon <jamie@scattered-thoughts.net>
Date:   Wed Jun 19 18:02:17 2019 +0100

    Disable unsupported tests. Remove irrelevant tests.

commit 2cbedaf30da7e11679273b8d8fd442655e9c86dc
Author: Jamie Brandon <jamie@scattered-thoughts.net>
Date:   Wed Jun 19 17:38:05 2019 +0100

    Don't try to support accessing columns that are dropping from
    using/natural join scope

commit d8830ca97f32c1b1e9f5b674cf135f7ffe8aadcb
Author: Jamie Brandon <jamie@scattered-thoughts.net>
Date:   Wed Jun 19 17:37:53 2019 +0100

    Fix coalescing of columns in natural/using join

commit 1e168c9106c25d0448c1c31a9468a46c66503434
Author: Frank McSherry <fmcsherry@me.com>
Date:   Wed Jun 19 11:56:42 2019 -0400

    single kafka operator

commit 66a79d86945431fddc8f15c1cfbecc04d8e75b56
Author: Frank McSherry <fmcsherry@me.com>
Date:   Wed Jun 19 11:55:48 2019 -0400

    initialize with capacity

commit ec450727d4d164314ee8004b1d98208207fda793
Merge: 39801f594 35b0ee408
Author: Nikhil Benesch <nikhil.benesch@gmail.com>
Date:   Tue Jun 18 17:27:53 2019 -0400

    Merge pull request #144 from MaterializeInc/dependabot/cargo/simplelog-0.6.0
    
    build(deps): bump simplelog from 0.5.3 to 0.6.0

commit 39801f59412dce16b5131a6875fa73ff48f77619
Merge: f626ad0b6 057f2f07d
Author: Nikhil Benesch <nikhil.benesch@gmail.com>
Date:   Tue Jun 18 17:27:37 2019 -0400

    Merge pull request #142 from MaterializeInc/dependabot/cargo/hyper-0.12.30
    
    build(deps): bump hyper from 0.12.29 to 0.12.30

commit f626ad0b63d343ea342ae75e3a2245510dbd6feb
Merge: f966ff896 3e222d9ad
Author: Nikhil Benesch <nikhil.benesch@gmail.com>
Date:   Tue Jun 18 17:27:09 2019 -0400

    Merge pull request #145 from MaterializeInc/dependabot/cargo/differential-dataflow-9213446
    
    build(deps): bump differential-dataflow from `15889bf` to `9213446`

commit f966ff896eb2f07e8892d9ef32dcd45912097b2a
Author: Nikhil Benesch <nikhil.benesch@gmail.com>
Date:   Tue Jun 18 16:59:22 2019 -0400

    mtrlz/interchange: support avro schemas with named types
    
    Our Avro parser doesn't supported named types in schemas, but
    Debezium requires named types. Hack in support for now by preprocessing
    schemas that use named types.

commit 3e222d9ad54aaec4c94945857173a36c82ec6a81
Author: dependabot-preview[bot] <dependabot-preview[bot]@users.noreply.github.com>
Date:   Tue Jun 18 21:02:45 2019 +0000

    build(deps): bump differential-dataflow from `15889bf` to `9213446`
    
    Bumps [differential-dataflow](https://github.com/TimelyDataflow/differential-dataflow) from `15889bf` to `9213446`.
    - [Release notes](https://github.com/TimelyDataflow/differential-dataflow/releases)
    - [Commits](https://github.com/TimelyDataflow/differential-dataflow/compare/15889bf834458756861128490e56936919ab3fa2...92134466b01f799757c50f693a222a53f2c38f59)
    
    Signed-off-by: dependabot-preview[bot] <support@dependabot.com>

commit 35b0ee408ad7ec28cbeb6183456e44a8e812855f
Author: dependabot-preview[bot] <dependabot-preview[bot]@users.noreply.github.com>
Date:   Tue Jun 18 21:02:43 2019 +0000

    build(deps): bump simplelog from 0.5.3 to 0.6.0
    
    Bumps [simplelog](https://github.com/drakulix/simplelog.rs) from 0.5.3 to 0.6.0.
    - [Release notes](https://github.com/drakulix/simplelog.rs/releases)
    - [Changelog](https://github.com/Drakulix/simplelog.rs/blob/master/CHANGELOG.md)
    - [Commits](https://github.com/drakulix/simplelog.rs/compare/v0.5.3...v0.6.0)
    
    Signed-off-by: dependabot-preview[bot] <support@dependabot.com>

commit 771e9e439ac81811c4edff18741ce3ae5e4d776e
Author: Frank McSherry <fmcsherry@me.com>
Date:   Tue Jun 18 14:28:55 2019 -0400

    use identity for min

commit 5d50a00c88fbbd88e1cdd39093b9d9342a0873bc
Author: Nikhil Benesch <nikhil.benesch@gmail.com>
Date:   Tue Jun 18 14:18:37 2019 -0400

    mtrlz/dataflow: allow dataflows that don't depend on anything
    
    Apparently `VALUES (...)` does not depend on any dataflows. Teach
    `root_input_time` to handle this situation by returning the current
    input time.
    
    Fix #139.

commit 7a5f33d9d57a802f23a1193be97f8c816b34128b
Author: Nikhil Benesch <nikhil.benesch@gmail.com>
Date:   Tue Jun 18 14:17:36 2019 -0400

    mtrlz/dataflow: clean up timestamp handling
    
    Now that timestamp 0 is explicitly reserved to mean "the beginning of
    time when everything is empty", we no longer need to peek at an
    Option<Timestamp>, since we can use 0 instead of none.

commit 3182615f651220570a965b075288fffcda08de8e
Author: Nikhil Benesch <nikhil.benesch@gmail.com>
Date:   Tue Jun 18 11:57:36 2019 -0400

    *: fmt + clippy

commit 8b9c3ccf1754095428c00db9871c4907fd8e57a7
Author: Jamie Brandon <jamie@scattered-thoughts.net>
Date:   Tue Jun 18 16:23:30 2019 +0100

    Natural/using should move the joined columns to the front

commit f89f9decaac9939e6cb24bd88fee041834dd3b76
Author: Jamie Brandon <jamie@scattered-thoughts.net>
Date:   Tue Jun 18 16:13:58 2019 +0100

    Tweak cockroach/join.slt

commit 23e1b695df404168954e97dc2a0aea1034c2bd55
Author: Jamie Brandon <jamie@scattered-thoughts.net>
Date:   Tue Jun 18 16:10:30 2019 +0100

    Handle cockroach' deviations from slt output formatting

commit d2c6ba61b35b958e221a3a2fc5ae0d8b972a68c0
Merge: 8778f176d 649765758
Author: Frank McSherry <fmcsherry@me.com>
Date:   Tue Jun 18 11:00:34 2019 -0400

    Merge branch 'master' of https://github.com/MaterializeInc/materialize

commit 8778f176df3ebef8d14bf9ee49c37a8da7961a2d
Author: Frank McSherry <fmcsherry@me.com>
Date:   Tue Jun 18 10:59:33 2019 -0400

    advance all interactive inputs to time 1

commit 6497657586e671d3beba6ab5337705944b9c574c
Author: Jamie Brandon <jamie@scattered-thoughts.net>
Date:   Tue Jun 18 15:59:05 2019 +0100

    More tweaking of cockroach/aggregate

commit e555d361047835b43e4fc6bf474091f6dc3e8c13
Author: Jamie Brandon <jamie@scattered-thoughts.net>
Date:   Tue Jun 18 15:58:31 2019 +0100

    Return success if we get a parse error on a query that is supposed to fail

commit 58636f89231ca7ec1eea56ff1dbed0c1e4ab47a5
Author: Jamie Brandon <jamie@scattered-thoughts.net>
Date:   Tue Jun 18 15:58:23 2019 +0100

    Bump sqlparser

commit b743061316491731dfd75a9b004cf487dd6df73c
Author: Jamie Brandon <jamie@scattered-thoughts.net>
Date:   Tue Jun 18 15:47:56 2019 +0100

    Bump cargo.lock

commit 8ba848bb00981b5b507d31d30315cbb3c5e8f828
Author: Jamie Brandon <jamie@scattered-thoughts.net>
Date:   Tue Jun 18 15:47:46 2019 +0100

    Support min/max on string/bool

commit 8ab9ff83f222bb272c77b2e30df0d676bfd038a2
Author: Jamie Brandon <jamie@scattered-thoughts.net>
Date:   Tue Jun 18 15:47:24 2019 +0100

    Tweak cockroach/aggregate.slt some more

commit b40efb4b8bb486f873adb3260da6595217e5a4f1
Author: Jamie Brandon <jamie@scattered-thoughts.net>
Date:   Tue Jun 18 15:47:10 2019 +0100

    Support printing bools

commit d8451121dccbe5994d1407f6be9382fb4cddc3fa
Author: Jamie Brandon <jamie@scattered-thoughts.net>
Date:   Tue Jun 18 15:47:00 2019 +0100

    Name aggregates columns after the function name

commit 4d3adc3783283db95d7340cf1e281be795277573
Author: Jamie Brandon <jamie@scattered-thoughts.net>
Date:   Tue Jun 18 15:29:36 2019 +0100

    Modify cockroach/aggregate so we can get to the end without bailing

commit cd9444ae7015ad646437bac860f78f40b9c790d7
Author: Jamie Brandon <jamie@scattered-thoughts.net>
Date:   Tue Jun 18 15:29:28 2019 +0100

    Support BOOL as a sql type

commit 3e20d98e457b8c945dd224f097ab4ba47c580585
Author: Jamie Brandon <jamie@scattered-thoughts.net>
Date:   Tue Jun 18 15:15:03 2019 +0100

    HAVING triggers grouping even if it doesn't contain aggregates

commit 1b6e7fd95caf3c0f9ec753488ff8936381fe96da
Author: Jamie Brandon <jamie@scattered-thoughts.net>
Date:   Tue Jun 18 15:14:58 2019 +0100

    Update slqparser

commit e9dd715fb02069562989e26a4589784cf31d0224
Author: Frank McSherry <fmcsherry@me.com>
Date:   Tue Jun 18 10:05:54 2019 -0400

    remove empty maps

commit a50a1dc91a761a5a302449df82fa28dd75f895c4
Author: Jamie Brandon <jamie@scattered-thoughts.net>
Date:   Tue Jun 18 14:40:57 2019 +0100

    Add tests for aggregates on empty tables

commit ce1736598c849edbce0e9229e1aa87c7f3f63fed
Author: Jamie Brandon <jamie@scattered-thoughts.net>
Date:   Tue Jun 18 14:20:14 2019 +0100

    Support aggregates on things that are inferred to be null
    
    Because you're allowed to write that and we can't just crash in response

commit 683a17e972f56307413dad280b93865759a97846
Author: Jamie Brandon <jamie@scattered-thoughts.net>
Date:   Tue Jun 18 14:18:04 2019 +0100

    Shame

commit 592eaed67e1bebf1dd4be1f0b379d3b636d52847
Author: Jamie Brandon <jamie@scattered-thoughts.net>
Date:   Tue Jun 18 14:05:52 2019 +0100

    Remove many unsupported aggregate tests

commit 0aadeccd73c8e58231cf3442d5f59a28f3c19824
Author: Jamie Brandon <jamie@scattered-thoughts.net>
Date:   Tue Jun 18 14:05:36 2019 +0100

    Learn how to format ints in real context

commit d78e8f703a86870202095d3de8e2ae20c965ddeb
Author: Jamie Brandon <jamie@scattered-thoughts.net>
Date:   Tue Jun 18 14:05:20 2019 +0100

    Support BOOLEAN and STRING sql types

commit d359e978aee221b90dd52f74795dbeda9479c5c3
Author: Frank McSherry <fmcsherry@me.com>
Date:   Tue Jun 18 09:05:48 2019 -0400

    only issue drop if drops exist

commit 6a727532156e690c82ffdab3d982cf6c82f4a13a
Merge: 0a6c615be 12ba96e7f
Author: Jamie Brandon <jamie@scattered-thoughts.net>
Date:   Tue Jun 18 13:09:20 2019 +0100

    Merge branch 'cockroach-slt'

commit 0a6c615beff9e9977611f55179629d3040b72e2b
Author: Nikhil Benesch <nikhil.benesch@gmail.com>
Date:   Tue Jun 18 00:57:23 2019 -0400

    mtrlz/dataflow: synchronize input times
    
    This is important when updates are interspersed.

commit a2ce7a0d774814aab1da9158ec3a06c08e6b99c1
Author: Nikhil Benesch <nikhil.benesch@gmail.com>
Date:   Tue Jun 18 00:34:17 2019 -0400

    mtrlz/dataflow: rework dataflow bootstrap
    
    It is substantially shorter and less buggy to just run some commands at
    bootstrap to install the dual dataflow, rather than coding it all by
    hand.

commit 9257f896c083a6d9d5e05bfeee2f8741f18c93b5
Author: Nikhil Benesch <nikhil.benesch@gmail.com>
Date:   Mon Jun 17 23:40:00 2019 -0400

    ci/deploy: bump Rust version
    
    Bump the Rust version in the deploy image (by rebuilding it on the
    latest nightly, not by modifying the Dockerfile at all), so that it can
    compile the latest code, which uses features in Rust 1.35. Apparently
    the nightly in the old image predates this.

commit 057f2f07daa614222a55da89d6ea55b655ea59b5
Author: dependabot-preview[bot] <dependabot-preview[bot]@users.noreply.github.com>
Date:   Tue Jun 18 03:28:17 2019 +0000

    build(deps): bump hyper from 0.12.29 to 0.12.30
    
    Bumps [hyper](https://github.com/hyperium/hyper) from 0.12.29 to 0.12.30.
    - [Release notes](https://github.com/hyperium/hyper/releases)
    - [Changelog](https://github.com/hyperium/hyper/blob/master/CHANGELOG.md)
    - [Commits](https://github.com/hyperium/hyper/compare/v0.12.29...v0.12.30)
    
    Signed-off-by: dependabot-preview[bot] <support@dependabot.com>

commit f2be84a070910f2d8350c7a0e2516a81ed6e1a98
Author: Frank McSherry <fmcsherry@me.com>
Date:   Mon Jun 17 17:17:08 2019 -0400

    add FULL word

commit 44aee5c52ab411d25080b6b9264b4c2a089634e7
Author: Frank McSherry <fmcsherry@me.com>
Date:   Mon Jun 17 17:05:57 2019 -0400

    FractureReduce is wrong; do not use

commit 35d71190e311a25f15266dc1e671e970ed8d86e4
Author: Nikhil Benesch <nikhil.benesch@gmail.com>
Date:   Mon Jun 17 15:36:55 2019 -0400

    mtlrz/dataflow: prove that empty tables can be selected from
    
    Fix #140. (This was actually fixed in a prior commit.)

commit e6cb9ea6540cd1effdf54b43319fcfc6cf23b434
Author: Nikhil Benesch <nikhil.benesch@gmail.com>
Date:   Mon Jun 17 15:31:33 2019 -0400

    mtrlz/dataflow: learn about dual's time
    
    The dual table needs to expose its input time, so that it can be
    sychronized with other inputs and peeks.
    
    Fix #139.

commit 1f2fa23b218048ee06909f9fd4989325fa87fbad
Author: Nikhil Benesch <nikhil.benesch@gmail.com>
Date:   Mon Jun 17 13:28:13 2019 -0400

    mtrlz/dataflow: use differential inputs, not timely inputs
    
    This will make it easier to track the timestamp of built-in inputs, like
    the "dual" table.

commit 12ba96e7f612fe45760c04914f9a47d2164eecae
Author: Jamie Brandon <jamie@scattered-thoughts.net>
Date:   Mon Jun 17 17:35:02 2019 +0100

    Leave inserts alone

commit 335d94ae327245a11e2c505a76dc52dddd356ca9
Author: Jamie Brandon <jamie@scattered-thoughts.net>
Date:   Mon Jun 17 17:23:31 2019 +0100

    Turn cockroach tests on

commit 69947dbff4e6d1b2d639f11b99a767fd6bd9df09
Author: Jamie Brandon <jamie@scattered-thoughts.net>
Date:   Mon Jun 17 17:18:06 2019 +0100

    Disable some cockroach slt tests that we dont support

commit 15a5f844b0032bb22e2cca5bdc529a5a14539c26
Author: Jamie Brandon <jamie@scattered-thoughts.net>
Date:   Mon Jun 17 17:11:33 2019 +0100

    Support VALUES expressions

commit 500c5e5ec8c0861ec37c12a9695e8f8b38dd1bbc
Author: Jamie Brandon <jamie@scattered-thoughts.net>
Date:   Mon Jun 17 17:04:26 2019 +0100

    Fix bug where outer joins combined with using/on would lose a column

commit ea7acc3bca84301ca8b6e3efa23db9897e583d80
Author: Nikhil Benesch <nikhil.benesch@gmail.com>
Date:   Mon Jun 17 11:50:53 2019 -0400

    mtrlz/dataflow: don't crash if trace uninitialized

commit 50046ae2c688b9a2c26a03256263fbf55e7a10ba
Author: Jamie Brandon <jamie@scattered-thoughts.net>
Date:   Mon Jun 17 15:36:59 2019 +0100

    Allow WHERE clause to have NULL type

commit 0063868c571e54b4457b5f7af5dc6f6068620eb6
Author: Jamie Brandon <jamie@scattered-thoughts.net>
Date:   Mon Jun 17 14:19:31 2019 +0100

    Fix type check that I broke earlier

commit 7d061a3025f9071929ce9f43a6e2a3253e7ec907
Author: Jamie Brandon <jamie@scattered-thoughts.net>
Date:   Mon Jun 17 14:49:08 2019 +0100

    Add tests for weird outer joins

commit b4facd134119f554572dbe863ad4c3d7b335c6f8
Author: Jamie Brandon <jamie@scattered-thoughts.net>
Date:   Mon Jun 17 14:35:14 2019 +0100

    Add test for peeking a source directly

commit ca8a49eb91e3433d52c1c1e8fa29bb7fbda17afc
Author: Jamie Brandon <jamie@scattered-thoughts.net>
Date:   Mon Jun 17 14:19:31 2019 +0100

    Fix type check that I broke earlier

commit fc572ecb7e69d2aa8a937eacd13a9832b66dc627
Author: Nikhil Benesch <nikhil.benesch@gmail.com>
Date:   Fri Jun 14 18:33:59 2019 -0400

    mtrlz: fix typos

commit 074e76a8372aacda41ff0cffc3708bca593b484e
Merge: bcfa02956 2821ae2ac
Author: Nikhil Benesch <nikhil.benesch@gmail.com>
Date:   Fri Jun 14 18:07:43 2019 -0400

    Merge pull request #138 from MaterializeInc/rust-1.36
    
    rust-toolchain: upgrade to Rust 1.35

commit 2821ae2acac00375079eb583e590f7daa74273a4
Author: Nikhil Benesch <nikhil.benesch@gmail.com>
Date:   Fri Jun 14 17:43:59 2019 -0400

    rust-toolchain: upgrade to Rust 1.35

commit bcfa029566ee8f94da49612d488d08817136788e
Author: Nikhil Benesch <nikhil.benesch@gmail.com>
Date:   Fri Jun 14 17:20:46 2019 -0400

    mtrlz/sql: polish docs

commit 38219e691584f0a4b74aa160f03194991aed0581
Author: Nikhil Benesch <nikhil.benesch@gmail.com>
Date:   Fri Jun 14 17:07:00 2019 -0400

    mtrlz/sql: remove unused Side enum

commit 5d15a48ad8093634282a8f091b048df264ca9f0d
Author: Nikhil Benesch <nikhil.benesch@gmail.com>
Date:   Fri Jun 14 17:06:38 2019 -0400

    mtrlz: improve some docs

commit 079e419eeb78f7d9af9608270edae19ab854964d
Author: Nikhil Benesch <nikhil.benesch@gmail.com>
Date:   Fri Jun 14 16:49:39 2019 -0400

    dataflow: split transform module into multiple files

commit 141bddf290d94c0e7ee0f22cb60be5f15f9dd322
Author: Nikhil Benesch <nikhil.benesch@gmail.com>
Date:   Fri Jun 14 11:47:40 2019 -0400

    dataflow: clean up shared capability handling

commit c469fe3224cd4c901d24fc361af212a56abb65df
Author: Nikhil Benesch <nikhil.benesch@gmail.com>
Date:   Wed Jun 12 16:37:25 2019 -0400

    *: require diff envelopes; improve timestamp handling
    
    This commit does a lot, but it didn't seem worth the time to split it
    up. Most importantly:
    
      1. Kafka sources are now required to declare a schema that wraps the
         input in a diff "envelope". The structure of this envelope is
         shared by Debezium and CockroachDB CDC: there are two nullable
         fields, `before` and `after`, that have the same type, where the
         `before` field optionally specifies a record to retract, while the
         `after` field optionally specifies a record to produce. This allows
         us to handle updates to existing data, rather than just insertions.
    
      2. The system now runs entirely on logical time that is driven by
         external inputs. That is, we no longer stamp incoming Kafka records
         with our own monotonic timestamp; rather, we accept whatever
         timestamps records come in with, and only reorder them if they come
         in out of order. Streams are thus required to send
         watermarks/"timestamp closed" messages. Our tests have been updated
         to do so, and a ready-made solution for Debezium (which does not
         produce watermarks by default) is forthcoming. Peeks have been
         extended with various consistency "modes" that specify what changes
         you want to peek at: a) whatever is currently ready, b) whatever
         incorporates updates known to the inputs, even if that means
         waiting a bit, or c) a specific logical time.
    
         Internal inputs (i.e., those created by CREATE TABLE) manage their
         own logical clock; they all share one global logical clock that is
         ticked whenever an insertion on any table occurs.

commit 564ed0afcd170040343b56b3940c6dd6e6086d50
Author: Jamie Brandon <jamie@scattered-thoughts.net>
Date:   Thu Jun 13 17:12:46 2019 +0100

    Add a hack for handling "INSERT INTO foo SELECT ..." in slt

commit 5710a08a8298e633e07f10584c2dde84f3b8dbef
Author: Jamie Brandon <jamie@scattered-thoughts.net>
Date:   Thu Jun 13 16:23:10 2019 +0100

    Remove dbg!()

commit 272a0abde6f9ba759540fdb2a7d1d1fa6a0c26d5
Author: Jamie Brandon <jamie@scattered-thoughts.net>
Date:   Wed Jun 12 20:35:11 2019 +0100

    Update fuzz/Cargo.lock

commit c0a76ad04409ff43f687cc4227c7116fb3464a63
Author: Jamie Brandon <jamie@scattered-thoughts.net>
Date:   Wed Jun 12 20:32:07 2019 +0100

    Add a transform to split predicates

commit aa158b80a1e5b3f4968e9293a39941bba308e4ec
Author: Jamie Brandon <jamie@scattered-thoughts.net>
Date:   Wed Jun 12 19:39:24 2019 +0100

    Clippy

commit 697da90b2a7d94fffd27d47d79fd885e39e06dda
Author: Jamie Brandon <jamie@scattered-thoughts.net>
Date:   Wed Jun 12 19:36:45 2019 +0100

    Replace visit_* with visit_*_inner, since that seems to get used everywhere anyway. Delete dead project pushdown code.

commit 3200dadcc4e9e6189df3b32f5e0ad87d6e7e970a
Author: Jamie Brandon <jamie@scattered-thoughts.net>
Date:   Wed Jun 12 17:31:45 2019 +0100

    Fold sql/plan into sql, since most of it is now redundant

commit 5dddbed58712f2a7657e9b7383c5e40dde49c466
Author: Nikhil Benesch <nikhil.benesch@gmail.com>
Date:   Tue Jun 11 18:01:04 2019 -0400

    sqllogictest: don't break standard files for cockroach files
    
    CockroachDB sqllogictests aren't quite compatible with standard SQLite
    sqllogictests. Rather than attempting to handle both at once, add a
    special "mode" directive that switches the runner between
    CockroachDB/SQLite formats.

commit bf0730430a42931614c6441dcc86a99e5f85508e
Author: Nikhil Benesch <nikhil.benesch@gmail.com>
Date:   Tue Jun 11 17:41:53 2019 -0400

    transitive deps: cargo update

commit 5bb1283293bf2df146cf72c1a9fb1ced067a50d9
Merge: 8a510311c c25a76c0f
Author: Nikhil Benesch <nikhil.benesch@gmail.com>
Date:   Tue Jun 11 16:21:43 2019 -0400

    Merge pull request #128 from MaterializeInc/dependabot/cargo/byteorder-1.3.2
    
    build(deps): bump byteorder from 1.3.1 to 1.3.2

commit 8a510311c6e8b247de6b1865181fd595c77c8bdd
Merge: 9700d743c f79a440a2
Author: Nikhil Benesch <nikhil.benesch@gmail.com>
Date:   Tue Jun 11 16:21:20 2019 -0400

    Merge pull request #129 from MaterializeInc/dependabot/cargo/smallvec-0.6.10
    
    build(deps): bump smallvec from 0.6.9 to 0.6.10

commit 9700d743c6ec4e748f45efa33148ee83506ae233
Merge: 01fb5c985 cde4dcafb
Author: Nikhil Benesch <nikhil.benesch@gmail.com>
Date:   Tue Jun 11 16:21:04 2019 -0400

    Merge pull request #131 from MaterializeInc/dependabot/cargo/regex-1.1.7
    
    build(deps): bump regex from 1.1.6 to 1.1.7

commit 01fb5c985110fb0609a1c1021a72a28561fb1b8b
Merge: b8a0ef867 0da2e293f
Author: Nikhil Benesch <nikhil.benesch@gmail.com>
Date:   Tue Jun 11 16:20:41 2019 -0400

    Merge pull request #132 from MaterializeInc/dependabot/cargo/walkdir-2.2.8
    
    build(deps): bump walkdir from 2.2.7 to 2.2.8

commit b8a0ef86792dafcd386a07874fd69a59cdf745cb
Author: Nikhil Benesch <nikhil.benesch@gmail.com>
Date:   Tue Jun 11 16:15:41 2019 -0400

    sqllogictest: remove stray dbg! macro

commit 55bd5daa43624d5307beee2ad22b8c438971b8f5
Author: Nikhil Benesch <nikhil.benesch@gmail.com>
Date:   Tue Jun 11 16:12:41 2019 -0400

    sqllogictest: deal with whitespace awfulness

commit 53dfe885f8cd829fe0658e8f6536d25d503bf110
Author: Nikhil Benesch <nikhil.benesch@gmail.com>
Date:   Tue Jun 11 15:25:47 2019 -0400

    ci/slt: stopgap for new SLT output format

commit 15078aea318d59765486d45b4551a72f6958ff3c
Author: Nikhil Benesch <nikhil.benesch@gmail.com>
Date:   Tue Jun 11 14:50:45 2019 -0400

    mtrlz/dataflow: reduce special-casing in insert path

commit 436fea4501575a529f8fd81ff4cf264e35c76b1a
Author: Nikhil Benesch <nikhil.benesch@gmail.com>
Date:   Tue Jun 11 14:42:24 2019 -0400

    mtrlz/dataflow: more dead code removal

commit 14afe5f7049c5ee2500f97fb69ea6c260fb2a283
Author: Nikhil Benesch <nikhil.benesch@gmail.com>
Date:   Tue Jun 11 14:37:20 2019 -0400

    *: remove all traces of clock
    
    The purpose of the clock module was superseded in 510c6dbc. Just remove
    all traces of it.

commit 35724c2efa3dde86b0b3c9ae97cccdb6af41dfc0
Author: Nikhil Benesch <nikhil.benesch@gmail.com>
Date:   Tue Jun 11 14:25:01 2019 -0400

    mtrlz/sql: support nested joins
    
    This was surprisingly easy: just needed a bit of mutual recursion.

commit 0e896ab7a23f1eae5dca4c9a714e939aebfe56a8
Author: Nikhil Benesch <nikhil.benesch@gmail.com>
Date:   Tue Jun 11 14:14:22 2019 -0400

    mtrlz: upgrade sqlparser
    
    Upstream has landed nearly all of our SQL parser patches, but with some
    occasional modifications. Upgrade to a sqlparser version that
    incorporates these modifications.
    
    Notably this upgrade drops the "DATA" in "DATA SOURCE" and "DATA SINK",
    as, upon reflection, "SOURCE" and "SINK" are perfectly clear on their
    own, and fit better with "TABLE" and "VIEW".

commit c25a76c0f69f9c06ec7240efb038f34b05052dde
Author: dependabot-preview[bot] <dependabot-preview[bot]@users.noreply.github.com>
Date:   Tue Jun 11 13:27:41 2019 +0000

    build(deps): bump byteorder from 1.3.1 to 1.3.2
    
    Bumps [byteorder](https://github.com/BurntSushi/byteorder) from 1.3.1 to 1.3.2.
    - [Release notes](https://github.com/BurntSushi/byteorder/releases)
    - [Changelog](https://github.com/BurntSushi/byteorder/blob/master/CHANGELOG.md)
    - [Commits](https://github.com/BurntSushi/byteorder/compare/1.3.1...1.3.2)
    
    Signed-off-by: dependabot-preview[bot] <support@dependabot.com>

commit f79a440a2afdd782d10f01f9eed1ca642cf1a5e2
Author: dependabot-preview[bot] <dependabot-preview[bot]@users.noreply.github.com>
Date:   Tue Jun 11 13:27:39 2019 +0000

    build(deps): bump smallvec from 0.6.9 to 0.6.10
    
    Bumps [smallvec](https://github.com/servo/rust-smallvec) from 0.6.9 to 0.6.10.
    - [Release notes](https://github.com/servo/rust-smallvec/releases)
    - [Commits](https://github.com/servo/rust-smallvec/commits)
    
    Signed-off-by: dependabot-preview[bot] <support@dependabot.com>

commit cde4dcafbf6736d47a51876570d3ad946e82bc06
Author: dependabot-preview[bot] <dependabot-preview[bot]@users.noreply.github.com>
Date:   Tue Jun 11 13:27:35 2019 +0000

    build(deps): bump regex from 1.1.6 to 1.1.7
    
    Bumps [regex](https://github.com/rust-lang/regex) from 1.1.6 to 1.1.7.
    - [Release notes](https://github.com/rust-lang/regex/releases)
    - [Changelog](https://github.com/rust-lang/regex/blob/master/CHANGELOG.md)
    - [Commits](https://github.com/rust-lang/regex/compare/1.1.6...1.1.7)
    
    Signed-off-by: dependabot-preview[bot] <support@dependabot.com>

commit 0da2e293fc6c33d4af2a078d91a36ad837d75e08
Author: dependabot-preview[bot] <dependabot-preview[bot]@users.noreply.github.com>
Date:   Tue Jun 11 13:27:34 2019 +0000

    build(deps): bump walkdir from 2.2.7 to 2.2.8
    
    Bumps [walkdir](https://github.com/BurntSushi/walkdir) from 2.2.7 to 2.2.8.
    - [Release notes](https://github.com/BurntSushi/walkdir/releases)
    - [Commits](https://github.com/BurntSushi/walkdir/compare/2.2.7...2.2.8)
    
    Signed-off-by: dependabot-preview[bot] <support@dependabot.com>

commit 10adf90cc019607a3ff26ba361f14325fce8c5aa
Author: Nikhil Benesch <nikhil.benesch@gmail.com>
Date:   Mon Jun 10 23:38:09 2019 -0400

    sqllogictest: clippy

commit 4f7431df3c55ae99ef466cc0f84d1b86b441ad31
Author: Nikhil Benesch <nikhil.benesch@gmail.com>
Date:   Mon Jun 10 23:33:49 2019 -0400

    test/cockroach: remove irrelevant test files
    
    Many of the CockroachDB logic tests will never be relevant to
    Materialize. Just remove them outright.

commit 0f374033e2bc890a05749f70d806d857368e83dc
Author: Nikhil Benesch <nikhil.benesch@gmail.com>
Date:   Mon Jun 10 22:40:48 2019 -0400

    test/cockroach_logic_test -> test/cockroach
    
    I don't find "logic_test" to be clarifying enough to justify the extra
    long directory name.

commit 7552c92d207634db136362e509a1f8f3efb41e18
Author: Nikhil Benesch <nikhil.benesch@gmail.com>
Date:   Mon Jun 10 22:39:43 2019 -0400

    test/cockroach_logic_test: add license header

commit d26fb4a5898b4c9a2a1beb10061c44db865508d1
Author: Nikhil Benesch <nikhil.benesch@gmail.com>
Date:   Mon Jun 10 22:13:45 2019 -0400

    lint: improve detection
    
    Every file should be checked for a trailing newline. Exemptions should
    only be applied for the copyright header.

commit 3363447805bad5af162f258b71c88acda47905f3
Merge: f938b0675 c88472e8c
Author: Frank McSherry <fmcsherry@me.com>
Date:   Mon Jun 10 16:32:57 2019 -0400

    Merge branch 'master' of https://github.com/MaterializeInc/materialize

commit c88472e8cca4c75aec01c470ee7759e8825234ab
Author: Jamie Brandon <jamie@scattered-thoughts.net>
Date:   Mon Jun 10 21:29:46 2019 +0100

    More cockroach slt fixes

commit f938b0675e7aeeeb1b6ba5d90c9726e5d5111487
Merge: 4d389759f 8202afe42
Author: Frank McSherry <fmcsherry@me.com>
Date:   Mon Jun 10 16:18:53 2019 -0400

    Merge branch 'master' of https://github.com/MaterializeInc/materialize

commit 4d389759f421eb31174409c612d9171438b78b15
Author: Frank McSherry <fmcsherry@me.com>
Date:   Mon Jun 10 16:16:26 2019 -0400

    unify CountAll

commit 8202afe4241184616e2ad172b4bd72b96e1eaf67
Author: Jamie Brandon <jamie@scattered-thoughts.net>
Date:   Mon Jun 10 21:01:09 2019 +0100

    Minor bugfixes for cockroach slt

commit 4b5da206288c6e032f28ca999fc7d278e89145a0
Author: Jamie Brandon <jamie@scattered-thoughts.net>
Date:   Mon Jun 10 20:42:23 2019 +0100

    Add some logic tests from cockroach

commit 26b82af43ab0ec828757416620603a8ad5b93cfa
Author: Nikhil Benesch <nikhil.benesch@gmail.com>
Date:   Mon Jun 10 14:56:05 2019 -0400

    sqllogictest: restore patches
    
    These were lost in a153bc1429cbd85ce36928b43c93f236362851bc.

commit adca5173772846ff3902e5e60574327913b4a8b4
Author: Nikhil Benesch <nikhil.benesch@gmail.com>
Date:   Mon Jun 10 14:45:53 2019 -0400

    interchange: learn to handle unions
    
    When we see a union, we can just extract the inner element. We've
    already made sure (during schema validation) that the union only has one
    element.

commit dc1eaf0573684b5da934b83a924f717e0c3142b1
Author: Frank McSherry <fmcsherry@me.com>
Date:   Mon Jun 10 14:51:02 2019 -0400

    upgrade DD in fuzz

commit 35afde68a5b4b78d500a6c92bebf1f75b54b0c4f
Author: Frank McSherry <fmcsherry@me.com>
Date:   Mon Jun 10 14:41:37 2019 -0400

    cargo fmt

commit aae769cc115597003789e412e2a258d2b2c81c19
Merge: e2a33a8c1 4748673bc
Author: Frank McSherry <fmcsherry@me.com>
Date:   Mon Jun 10 14:34:07 2019 -0400

    reduce improved

commit e2a33a8c16e9f2eff2ee18a07711ded5db11efc4
Author: Nikhil Benesch <nikhil.benesch@gmail.com>
Date:   Mon Jun 10 14:12:49 2019 -0400

    *: lint, clippy, fmt, etc.

commit 84dfa075e02b7ccb62b6cda27a7a044c8cb41112
Author: Jamie Brandon <jamie@scattered-thoughts.net>
Date:   Mon Jun 10 19:12:35 2019 +0100

    Can do nulls test in testdrive now

commit d07814b325a85259ca422dcdb54328ad5a008c0b
Author: Nikhil Benesch <nikhil.benesch@gmail.com>
Date:   Mon Jun 10 14:08:03 2019 -0400

    testdrive: support ingesting nulls

commit 1e2e21be0ddd5941da8e33c2853d401cf39d8755
Author: Nikhil Benesch <nikhil.benesch@gmail.com>
Date:   Mon Jun 10 14:02:21 2019 -0400

    Fix resolution of reader unions when writer is not a union

commit c6d1b2d4d0d2465d94288ca6294f302534eca617
Author: Jamie Brandon <jamie@scattered-thoughts.net>
Date:   Mon Jun 10 18:55:02 2019 +0100

    When turning Filter into Join, push down a filter on null columns
    
    Fixes https://github.com/MaterializeInc/materialize/issues/134

commit bc2f335604aac209a325cf09820bb5d766e88321
Author: Jamie Brandon <jamie@scattered-thoughts.net>
Date:   Mon Jun 10 18:38:01 2019 +0100

    Add test for joins on nulls

commit 4748673bcf26e73d8c10086fd27e691d69cc3664
Author: Frank McSherry <fmcsherry@me.com>
Date:   Mon Jun 10 13:52:40 2019 -0400

    new tests

commit b62d50530fff0ef8b9578d83bc5174a27fdf1e61
Merge: a153bc142 35a9793ae
Author: Nikhil Benesch <nikhil.benesch@gmail.com>
Date:   Mon Jun 10 10:28:16 2019 -0400

    Merge pull request #127 from MaterializeInc/dependabot/cargo/reqwest-0.9.18
    
    build(deps): bump reqwest from 0.9.17 to 0.9.18

commit a153bc1429cbd85ce36928b43c93f236362851bc
Author: Frank McSherry <fmcsherry@me.com>
Date:   Sun Jun 9 18:01:05 2019 -0400

    render reduce

commit 35a9793ae7a0770d54b8bf0cc5b329d1775f3349
Author: dependabot-preview[bot] <dependabot-preview[bot]@users.noreply.github.com>
Date:   Fri Jun 7 18:45:03 2019 +0000

    build(deps): bump reqwest from 0.9.17 to 0.9.18
    
    Bumps [reqwest](https://github.com/seanmonstar/reqwest) from 0.9.17 to 0.9.18.
    - [Release notes](https://github.com/seanmonstar/reqwest/releases)
    - [Changelog](https://github.com/seanmonstar/reqwest/blob/master/CHANGELOG.md)
    - [Commits](https://github.com/seanmonstar/reqwest/compare/v0.9.17...v0.9.18)
    
    Signed-off-by: dependabot-preview[bot] <support@dependabot.com>

commit 53db36ef6e7b0aa8feefb8771ce2d90c66409e6a
Author: Nikhil Benesch <nikhil.benesch@gmail.com>
Date:   Fri Jun 7 14:25:02 2019 -0400

    *: lint

commit b6b07b19f07a7c61eb7df29cdd0d47fe8eebe372
Author: Frank McSherry <fmcsherry@me.com>
Date:   Thu Jun 6 23:18:43 2019 -0400

    skip redundant join keys

commit 4cf571cd92289474aab7a6bba6254b275218a519
Author: Frank McSherry <fmcsherry@me.com>
Date:   Thu Jun 6 16:47:01 2019 -0400

    print correct thing

commit 91dd4b45a863aa09f7fae884014cab5fcd5234af
Merge: 9eb384134 b7ab148e9
Author: Frank McSherry <fmcsherry@me.com>
Date:   Thu Jun 6 16:32:30 2019 -0400

    Merge branch 'master' of https://github.com/MaterializeInc/materialize

commit 9eb384134674685c1f03b90bcd2c6e4d14c5bbb2
Author: Frank McSherry <fmcsherry@me.com>
Date:   Thu Jun 6 16:32:23 2019 -0400

    print output failures

commit b7ab148e91297538cc89bf28c8634407c28fe8a5
Author: Nikhil Benesch <nikhil.benesch@gmail.com>
Date:   Thu Jun 6 16:30:05 2019 -0400

    fuzz: upgrade sqlparser, too

commit 28fa6ff690d75b1277f8234a749b65eb2c49984a
Author: Nikhil Benesch <nikhil.benesch@gmail.com>
Date:   Thu Jun 6 15:55:35 2019 -0400

    sql: upgrade sqlparser
    
    This brings no new features, but syncs us with the patches that have
    landed upstream, which were modified slightly from what landed in our
    fork in order to pass upstream review.

commit aacc828a23cc6333936d566928621614a7afbbe2
Author: Frank McSherry <fmcsherry@me.com>
Date:   Thu Jun 6 14:18:41 2019 -0400

    cargo fmt

commit 5e0b2a68da148237abf7f57ee6e2d1b83b48e180
Merge: 26e852138 ad89198d0
Author: Frank McSherry <fmcsherry@me.com>
Date:   Thu Jun 6 14:18:26 2019 -0400

    Merge branch 'master' of https://github.com/MaterializeInc/materialize

commit 26e852138a785a7c98c9d4e1fcb3180d3cde01be
Author: Frank McSherry <fmcsherry@me.com>
Date:   Thu Jun 6 14:18:19 2019 -0400

    fracture reduce transform

commit ad89198d089229cb23bdef7d6a305a438db83cf0
Author: Jamie Brandon <jamie@scattered-thoughts.net>
Date:   Thu Jun 6 16:54:07 2019 +0100

    Increasing shame...

commit a80a265867eccadf719e2e6c45773f3aeef84321
Author: Jamie Brandon <jamie@scattered-thoughts.net>
Date:   Thu Jun 6 16:39:25 2019 +0100

    The shame, the shame...
    
    Fixes https://github.com/MaterializeInc/materialize/issues/125

commit 19ebd511aa195cab65fb560c2a3ae3ca9487ac9d
Author: Frank McSherry <fmcsherry@me.com>
Date:   Thu Jun 6 10:00:26 2019 -0400

    de-wedge, ideally

commit 61bd43df61d148a68f9fad18742cb4d2dbceb4b4
Author: Nikhil Benesch <nikhil.benesch@gmail.com>
Date:   Thu Jun 6 01:03:06 2019 -0400

    ci: document how to GDB in build agents

commit 75cc185e772f903f2713353de16b266adb673b4e
Merge: 30ececba6 ea2749f73
Author: Jamie Brandon <jamie@scattered-thoughts.net>
Date:   Thu Jun 6 01:17:16 2019 +0100

    Merge pull request #115 from MaterializeInc/dependabot/cargo/libc-0.2.58
    
    build(deps): bump libc from 0.2.55 to 0.2.58

commit 30ececba60248cb75717be53aa1142f102977f08
Merge: 1ef3e82e9 2dc3456ee
Author: Jamie Brandon <jamie@scattered-thoughts.net>
Date:   Thu Jun 6 01:17:09 2019 +0100

    Merge pull request #123 from MaterializeInc/dependabot/cargo/termcolor-1.0.5
    
    build(deps): bump termcolor from 1.0.4 to 1.0.5

commit 1ef3e82e9f4d468149d2f7f69a4e91eed520f6d4
Merge: 1d24e9e9e fe6c6e403
Author: Jamie Brandon <jamie@scattered-thoughts.net>
Date:   Thu Jun 6 01:17:03 2019 +0100

    Merge pull request #124 from MaterializeInc/dependabot/cargo/backtrace-0.3.30
    
    build(deps): bump backtrace from 0.3.26 to 0.3.30

commit ea2749f73c7575ab40bbebe60051a5a4687ac068
Author: dependabot-preview[bot] <dependabot-preview[bot]@users.noreply.github.com>
Date:   Thu Jun 6 00:16:15 2019 +0000

    build(deps): bump libc from 0.2.55 to 0.2.58
    
    Bumps [libc](https://github.com/rust-lang/libc) from 0.2.55 to 0.2.58.
    - [Release notes](https://github.com/rust-lang/libc/releases)
    - [Commits](https://github.com/rust-lang/libc/compare/0.2.55...0.2.58)

commit 1d24e9e9eb4ea6eac84048e1afe2c07386982d2c
Merge: 29ec27d8e 8f1cae497
Author: Jamie Brandon <jamie@scattered-thoughts.net>
Date:   Thu Jun 6 01:09:34 2019 +0100

    Merge branch 'ir'

commit 8f1cae4976d00428efa70087c1d02c36b0226984
Author: Jamie Brandon <jamie@scattered-thoughts.net>
Date:   Thu Jun 6 00:50:38 2019 +0100

    We can run select4.test now!

commit 37d05bd5447d7779a6b6d39210d88e962dcc529c
Author: Jamie Brandon <jamie@scattered-thoughts.net>
Date:   Wed Jun 5 23:08:38 2019 +0100

    Clippy

commit af7e99807eb6fc87132d13d4283d060b96eee251
Author: Jamie Brandon <jamie@scattered-thoughts.net>
Date:   Wed Jun 5 22:58:06 2019 +0100

    Add outer joins

commit 9999f9166e4450410363ddf5f6439705dcefe2a8
Author: Frank McSherry <fmcsherry@me.com>
Date:   Wed Jun 5 16:39:36 2019 -0400

    pile on transforms

commit 5ff7b79ec6bd0989187ce0812d83769cb3f386ad
Author: Frank McSherry <fmcsherry@me.com>
Date:   Wed Jun 5 13:56:02 2019 -0400

    robustify reduce for ifthenelse

commit 0c01f1609640e0f4f10f119b67be703fe8e7c813
Author: Jamie Brandon <jamie@scattered-thoughts.net>
Date:   Wed Jun 5 17:14:12 2019 +0100

    Simplify join planning

commit 2f5f6d6f3c54f011a4c183a2fb55e85b9c7b2382
Author: Jamie Brandon <jamie@scattered-thoughts.net>
Date:   Wed Jun 5 15:28:26 2019 +0100

    Avoid duplicate values in Constant

commit 207e2585369a3fbcadca7e9b4171902b59f471c5
Author: Jamie Brandon <jamie@scattered-thoughts.net>
Date:   Wed Jun 5 15:28:14 2019 +0100

    Fix aggregates with empty group by

commit ac47a515c8f6f08a3871e1615dd0a94800478bc1
Author: Frank McSherry <fmcsherry@me.com>
Date:   Wed Jun 5 10:09:51 2019 -0400

    constant folding

commit 2bd0818ebf276507bd572e5e58de3c2bafb31bd8
Author: Jamie Brandon <jamie@scattered-thoughts.net>
Date:   Wed Jun 5 13:30:47 2019 +0100

    Bugfix - don't drop variables

commit 6e087d30691cab209fa5c72716b7ec4cfad45f30
Author: Nikhil Benesch <nikhil.benesch@gmail.com>
Date:   Wed Jun 5 01:59:44 2019 -0400

    mtrlz/dataflow: enforce that sinks don't have a type

commit 9531ba32a67050cde1fa26bbf93ec761f821e375
Author: Nikhil Benesch <nikhil.benesch@gmail.com>
Date:   Wed Jun 5 01:43:13 2019 -0400

    *: clippy

commit fcc66c7ef44ed4ab36bda8a41fd00d73cf3ce081
Author: Nikhil Benesch <nikhil.benesch@gmail.com>
Date:   Wed Jun 5 01:28:07 2019 -0400

    mtrlz/dataflow: fix doc tests

commit 7a82dc6be79030932479cae5be96e0db1059f26d
Author: Frank McSherry <fmcsherry@me.com>
Date:   Wed Jun 5 00:36:51 2019 -0400

    change name of built-in

commit 9422b9c8f49e0cbc2a8ec014f45bc6993e3b3d8a
Author: Frank McSherry <fmcsherry@me.com>
Date:   Wed Jun 5 00:17:13 2019 -0400

    Null fails filter too

commit 5e99b5cc7a3eb95fbc21b96eba57444c6f97a478
Author: Frank McSherry <fmcsherry@me.com>
Date:   Tue Jun 4 23:35:07 2019 -0400

    query transformations

commit ca0072cacbb95637b36ee4514c17fc79dd11ee7b
Author: Frank McSherry <fmcsherry@me.com>
Date:   Tue Jun 4 21:30:19 2019 -0400

    predicate pushdown

commit 20d00ef5204ebe905791c1d1af8b6dc95e00611c
Author: Frank McSherry <fmcsherry@me.com>
Date:   Tue Jun 4 20:05:59 2019 -0400

    press the buttons

commit 437293a41e41b4048e335bb9fc5257c26dec50fa
Author: Frank McSherry <fmcsherry@me.com>
Date:   Tue Jun 4 19:30:45 2019 -0400

    cargo fmt

commit 519f734dd6834d1734994dd8db6bab9625c4ba5b
Author: Frank McSherry <fmcsherry@me.com>
Date:   Tue Jun 4 19:30:30 2019 -0400

    fix all the things

commit 3324f0b7fae1eff1f13337cc9115401af26e56b3
Author: Jamie Brandon <jamie@scattered-thoughts.net>
Date:   Tue Jun 4 20:20:54 2019 +0100

    Fix tests

commit 9d6a4f87e30d110509c41e6b2254bd07be6d4bb7
Author: Jamie Brandon <jamie@scattered-thoughts.net>
Date:   Tue Jun 4 20:08:19 2019 +0100

    Fix lifetime lawyering for visit

commit bc3c7f29264f97226dd57144c6760bed82b6e72f
Author: Jamie Brandon <jamie@scattered-thoughts.net>
Date:   Tue Jun 4 19:45:04 2019 +0100

    Hack together a sort-of-working planner

commit 410cf251fee5081e55abcc9ded7cfa5678ffdc63
Author: Jamie Brandon <jamie@scattered-thoughts.net>
Date:   Tue Jun 4 17:58:48 2019 +0100

    Stub out context setup for @frankmcsherry

commit b2bb734f00c48e0470b3eea46ed42c794db2f6c7
Author: Jamie Brandon <jamie@scattered-thoughts.net>
Date:   Tue Jun 4 17:48:18 2019 +0100

    WIP Switch to the new IR
    
    An unfortunate consequence - the TraceManager uses the IR as a key and
    the new IR contains a name and a type for importing traces, where the
    old just contained a name. That means we need to know the type of
    something to eg drop it :/
    
    WIP = still need to fix the planner to work with the new IR

commit fe6c6e403790feaaa15eaec97c54e285d7fe591f
Author: dependabot-preview[bot] <dependabot-preview[bot]@users.noreply.github.com>
Date:   Tue Jun 4 15:03:10 2019 +0000

    build(deps): bump backtrace from 0.3.26 to 0.3.30
    
    Bumps [backtrace](https://github.com/rust-lang/backtrace-rs) from 0.3.26 to 0.3.30.
    - [Release notes](https://github.com/rust-lang/backtrace-rs/releases)
    - [Commits](https://github.com/rust-lang/backtrace-rs/compare/0.3.26...0.3.30)

commit 2dc3456ee1e8d0f4d50cf723903c9d58afc17257
Author: dependabot-preview[bot] <dependabot-preview[bot]@users.noreply.github.com>
Date:   Tue Jun 4 15:02:54 2019 +0000

    build(deps): bump termcolor from 1.0.4 to 1.0.5
    
    Bumps [termcolor](https://github.com/BurntSushi/termcolor) from 1.0.4 to 1.0.5.
    - [Release notes](https://github.com/BurntSushi/termcolor/releases)
    - [Commits](https://github.com/BurntSushi/termcolor/compare/1.0.4...1.0.5)

commit bd55e07c890243f338c80dc9018c5002f180602b
Author: Jamie Brandon <jamie@scattered-thoughts.net>
Date:   Tue Jun 4 14:54:24 2019 +0100

    Split Project into Project and Map

commit e0feda758e1e142ab5595d60678a5286b3257973
Author: Jamie Brandon <jamie@scattered-thoughts.net>
Date:   Tue Jun 4 14:34:36 2019 +0100

    Update fuzz/Cargo.lock to match materialize

commit 9f2a71b0aa1fe4b9a9040124c716a1e3a37fb26d
Author: Jamie Brandon <jamie@scattered-thoughts.net>
Date:   Tue Jun 4 14:34:27 2019 +0100

    Aggregate -> AggregateExpr

commit 5e1c23c1dc4f852a61a1edc53952601f66e6203f
Author: Jamie Brandon <jamie@scattered-thoughts.net>
Date:   Tue Jun 4 14:21:16 2019 +0100

    Plan -> RelationExpr

commit e4febfde17bf96f791576d95d76100c26121a80c
Author: Frank McSherry <fmcsherry@me.com>
Date:   Tue Jun 4 09:10:40 2019 -0400

    cargo fmt

commit 3f78e36700a760422136c51ab475cbbbe19147d3
Merge: 510c6dbc3 0b7b50daf
Author: Frank McSherry <fmcsherry@me.com>
Date:   Tue Jun 4 09:09:27 2019 -0400

    Merge branch 'ir' of https://github.com/MaterializeInc/materialize into ir

commit 510c6dbc3593f2483be28c56d00cdbf5c7e22731
Author: Frank McSherry <fmcsherry@me.com>
Date:   Tue Jun 4 09:09:21 2019 -0400

    minimize Clock

commit 0b7b50daf7b1f94fbbde197a2c224270fef2c79f
Author: Jamie Brandon <jamie@scattered-thoughts.net>
Date:   Tue Jun 4 14:04:49 2019 +0100

    Bugfix - somehow this case was lost in dataflow2

commit 19f6d55153700e9d30adda72a4aec5ed8442f131
Author: Frank McSherry <fmcsherry@me.com>
Date:   Tue Jun 4 08:53:29 2019 -0400

    re-organize

commit 29ec27d8eed5878bae3aa9e6104084618a33f3a1
Merge: a5b738d85 7c336504d
Author: Nikhil Benesch <nikhil.benesch@gmail.com>
Date:   Mon Jun 3 23:24:57 2019 -0400

    Merge pull request #119 from MaterializeInc/dependabot/cargo/rustc-demangle-0.1.15
    
    build(deps): bump rustc-demangle from 0.1.14 to 0.1.15

commit a5b738d859b56215499b651e8a743f14308cec41
Merge: 0c2a19663 b1fd54fd1
Author: Nikhil Benesch <nikhil.benesch@gmail.com>
Date:   Mon Jun 3 23:24:50 2019 -0400

    Merge pull request #120 from MaterializeInc/dependabot/cargo/serde_derive-1.0.92
    
    build(deps): bump serde_derive from 1.0.91 to 1.0.92

commit 0c2a19663d1ef6e9427e6bccac655ecea1c1d0c9
Merge: 9229ec055 b7b4b8a28
Author: Nikhil Benesch <nikhil.benesch@gmail.com>
Date:   Mon Jun 3 23:24:39 2019 -0400

    Merge pull request #118 from MaterializeInc/dependabot/cargo/tokio-0.1.21
    
    build(deps): bump tokio from 0.1.20 to 0.1.21

commit 9229ec05577b1e431ca640a200d2dff539cea07b
Merge: 55b190047 7f6712731
Author: Nikhil Benesch <nikhil.benesch@gmail.com>
Date:   Mon Jun 3 23:24:33 2019 -0400

    Merge pull request #117 from MaterializeInc/dependabot/cargo/mio-0.6.19
    
    build(deps): bump mio from 0.6.18 to 0.6.19

commit 55b19004784625f3066f48a0fa039b797c7fedc4
Merge: ec4e16419 85af5e76a
Author: Nikhil Benesch <nikhil.benesch@gmail.com>
Date:   Mon Jun 3 23:24:06 2019 -0400

    Merge pull request #116 from MaterializeInc/dependabot/cargo/h2-0.1.21
    
    build(deps): bump h2 from 0.1.20 to 0.1.21

commit f8641d21966a74d6816e6279e81d0e4af4c243c9
Author: Frank McSherry <fmcsherry@me.com>
Date:   Mon Jun 3 23:06:04 2019 -0400

    cargo fmt

commit 3cdb9a5b81d30f7eb68d9f6b48969620110d4cbb
Author: Frank McSherry <fmcsherry@me.com>
Date:   Mon Jun 3 23:05:50 2019 -0400

    step_or_park(None)

commit 30f7107df3ce82c757fcd6cfcdbb32a9a851addd
Author: Frank McSherry <fmcsherry@me.com>
Date:   Mon Jun 3 22:03:42 2019 -0400

    input handles; no sleep

commit 1c5b88118b251dd34d9ee90e057987583800f198
Author: Frank McSherry <fmcsherry@me.com>
Date:   Mon Jun 3 18:38:16 2019 -0400

    top_k

commit 167c5e4cc46b3882a0511b6c946b079820000022
Author: Jamie Brandon <jamie@scattered-thoughts.net>
Date:   Mon Jun 3 22:43:04 2019 +0100

    Clippy

commit 5905c200325d1c0f65debcadaf91ba6d93f08946
Author: Jamie Brandon <jamie@scattered-thoughts.net>
Date:   Mon Jun 3 22:35:15 2019 +0100

    Refactor Type/FType.
    
    FType -> ScalarType
    Type -> ColumnType
    FType::Tuple -> RelationType.
    
    Also comment out support for ScalarType::Array/Map/, since we don't
    support then in planning yet anyway.
    
    This required butchering the avro tests, since most of the test cases
    aren't things that look like relations.

commit b7b4b8a2864ef2eff57ae74e4423e3ee374cfb10
Author: dependabot-preview[bot] <dependabot-preview[bot]@users.noreply.github.com>
Date:   Mon Jun 3 18:27:38 2019 +0000

    build(deps): bump tokio from 0.1.20 to 0.1.21
    
    Bumps [tokio](https://github.com/tokio-rs/tokio) from 0.1.20 to 0.1.21.
    - [Release notes](https://github.com/tokio-rs/tokio/releases)
    - [Commits](https://github.com/tokio-rs/tokio/compare/tokio-0.1.20...tokio-0.1.21)

commit b1fd54fd1530b8c956eced0706d4b53182c9fc4e
Author: dependabot-preview[bot] <dependabot-preview[bot]@users.noreply.github.com>
Date:   Mon Jun 3 18:27:36 2019 +0000

    build(deps): bump serde_derive from 1.0.91 to 1.0.92
    
    Bumps [serde_derive](https://github.com/serde-rs/serde) from 1.0.91 to 1.0.92.
    - [Release notes](https://github.com/serde-rs/serde/releases)
    - [Commits](https://github.com/serde-rs/serde/compare/v1.0.91...v1.0.92)

commit ec4e16419bb4614ec4692791f311160e71a490db
Merge: 8728a4cdb bbeb7799a
Author: Nikhil Benesch <nikhil.benesch@gmail.com>
Date:   Mon Jun 3 14:26:11 2019 -0400

    Merge pull request #114 from MaterializeInc/dependabot/cargo/libloading-0.5.1
    
    build(deps): bump libloading from 0.5.0 to 0.5.1

commit 8728a4cdb51fb183a0d33d2d4e10329b8408d968
Merge: 347c2afb4 c4251aa12
Author: Nikhil Benesch <nikhil.benesch@gmail.com>
Date:   Mon Jun 3 14:25:40 2019 -0400

    Merge pull request #113 from MaterializeInc/dependabot/cargo/serde-1.0.92
    
    build(deps): bump serde from 1.0.91 to 1.0.92

commit 347c2afb41cb56c0f73f72dc8f784c211dfa77fa
Merge: 7d3630f1b 486aa8070
Author: Nikhil Benesch <nikhil.benesch@gmail.com>
Date:   Mon Jun 3 14:25:19 2019 -0400

    Merge pull request #112 from MaterializeInc/dependabot/cargo/differential-dataflow-06a053b
    
    build(deps): bump differential-dataflow from `b315d0d` to `06a053b`

commit 7c336504de6e33f8581837d05640763d5ce79505
Author: dependabot-preview[bot] <dependabot-preview[bot]@users.noreply.github.com>
Date:   Mon Jun 3 18:13:35 2019 +0000

    build(deps): bump rustc-demangle from 0.1.14 to 0.1.15
    
    Bumps [rustc-demangle](https://github.com/alexcrichton/rustc-demangle) from 0.1.14 to 0.1.15.
    - [Release notes](https://github.com/alexcrichton/rustc-demangle/releases)
    - [Commits](https://github.com/alexcrichton/rustc-demangle/compare/0.1.14...0.1.15)

commit 7f6712731948ccb8801273cbacc53d7cfe28c8ee
Author: dependabot-preview[bot] <dependabot-preview[bot]@users.noreply.github.com>
Date:   Mon Jun 3 18:12:27 2019 +0000

    build(deps): bump mio from 0.6.18 to 0.6.19
    
    Bumps [mio](https://github.com/carllerche/mio) from 0.6.18 to 0.6.19.
    - [Release notes](https://github.com/carllerche/mio/releases)
    - [Changelog](https://github.com/tokio-rs/mio/blob/master/CHANGELOG.md)
    - [Commits](https://github.com/carllerche/mio/compare/v0.6.18...v0.6.19)

commit 85af5e76afc872675cac74b9f94c23565d9f7467
Author: dependabot-preview[bot] <dependabot-preview[bot]@users.noreply.github.com>
Date:   Mon Jun 3 18:12:00 2019 +0000

    build(deps): bump h2 from 0.1.20 to 0.1.21
    
    Bumps [h2](https://github.com/hyperium/h2) from 0.1.20 to 0.1.21.
    - [Release notes](https://github.com/hyperium/h2/releases)
    - [Changelog](https://github.com/hyperium/h2/blob/master/CHANGELOG.md)
    - [Commits](https://github.com/hyperium/h2/compare/v0.1.20...v0.1.21)

commit bbeb7799af5ed48510bdfa42eff16b50bec4132e
Author: dependabot-preview[bot] <dependabot-preview[bot]@users.noreply.github.com>
Date:   Mon Jun 3 18:11:10 2019 +0000

    build(deps): bump libloading from 0.5.0 to 0.5.1
    
    Bumps [libloading](https://github.com/nagisa/rust_libloading) from 0.5.0 to 0.5.1.
    - [Release notes](https://github.com/nagisa/rust_libloading/releases)
    - [Commits](https://github.com/nagisa/rust_libloading/compare/0.5.0...0.5.1)

commit c4251aa12a5cee95273cf53a31acbcbd9bd62564
Author: dependabot-preview[bot] <dependabot-preview[bot]@users.noreply.github.com>
Date:   Mon Jun 3 18:10:46 2019 +0000

    build(deps): bump serde from 1.0.91 to 1.0.92
    
    Bumps [serde](https://github.com/serde-rs/serde) from 1.0.91 to 1.0.92.
    - [Release notes](https://github.com/serde-rs/serde/releases)
    - [Commits](https://github.com/serde-rs/serde/compare/v1.0.91...v1.0.92)

commit 486aa8070cdb0fedc566cc4211a2d388888d0992
Author: dependabot-preview[bot] <dependabot-preview[bot]@users.noreply.github.com>
Date:   Mon Jun 3 18:10:16 2019 +0000

    build(deps): bump differential-dataflow from `b315d0d` to `06a053b`
    
    Bumps [differential-dataflow](https://github.com/TimelyDataflow/differential-dataflow) from `b315d0d` to `06a053b`.
    - [Release notes](https://github.com/TimelyDataflow/differential-dataflow/releases)
    - [Commits](https://github.com/TimelyDataflow/differential-dataflow/compare/b315d0d6e077104f77122a3cbaa2392a124c6211...06a053bce1672bfd2dadc895572972969fe3b861)

commit d20ea67f332a8e411f61308a7708bc8a565485ef
Author: Frank McSherry <fmcsherry@me.com>
Date:   Mon Jun 3 11:34:11 2019 -0400

    cache reduce output trace

commit 269c87d5a7cf5f6f0eaafac850c99a13d557f192
Author: Frank McSherry <fmcsherry@me.com>
Date:   Mon Jun 3 10:37:18 2019 -0400

    re-use in distinct

commit 8c19af4f8110842003cd2df15e639f8421d795f4
Author: Frank McSherry <fmcsherry@me.com>
Date:   Mon Jun 3 10:18:03 2019 -0400

    documentation

commit e522a0ff2342c5c5bc9626bac00d7b6d78853a4a
Author: Frank McSherry <fmcsherry@me.com>
Date:   Mon Jun 3 10:04:47 2019 -0400

    panic on rebind of name

commit c972fef19457ff90d24a181be32b70e248ccf4ce
Author: Frank McSherry <fmcsherry@me.com>
Date:   Mon Jun 3 10:01:12 2019 -0400

    apply all assets for collection re-use

commit 400738604a689795400265d287ea08124fc3356a
Author: Jamie Brandon <jamie@scattered-thoughts.net>
Date:   Mon Jun 3 14:24:06 2019 +0100

    Remove Datum::Tuple. Use Vec<Datum> in dataflows.

commit e6d044d8efee72bdd22e7ceb21a1c55a98725ae1
Author: Frank McSherry <fmcsherry@me.com>
Date:   Mon Jun 3 09:33:22 2019 -0400

    copyright

commit e07e12f82d059859c0dae0868e3c3215bb1d9849
Author: Frank McSherry <fmcsherry@me.com>
Date:   Mon Jun 3 09:33:01 2019 -0400

    re-use arrangements in join

commit ce3dddf9be1be347d1d5456898dcc93034dc5483
Merge: 729260948 e08c4f2a8
Author: Frank McSherry <fmcsherry@me.com>
Date:   Mon Jun 3 08:56:16 2019 -0400

    Merge branch 'ir' of https://github.com/MaterializeInc/materialize into ir

commit 7292609483ab89fd27a6a303a7c3ce1a8da50b6b
Author: Frank McSherry <fmcsherry@me.com>
Date:   Mon Jun 3 08:56:07 2019 -0400

    cargo fmt

commit 327baefba28ce2e1a717232a766780d2f0e51aeb
Author: Frank McSherry <fmcsherry@me.com>
Date:   Mon Jun 3 08:55:52 2019 -0400

    render with context

commit e08c4f2a87b37d098c70686aab1ead496cf2dcdd
Author: Jamie Brandon <jamie@scattered-thoughts.net>
Date:   Mon Jun 3 13:29:13 2019 +0100

    Remove ScalarExpr::Tuple. Use Vec<ScalarExpr> for keys. Remove multiway_plan.

commit 65e3657d0349d9051b94cac9075da7facf60dfb6
Author: Jamie Brandon <jamie@scattered-thoughts.net>
Date:   Mon Jun 3 13:13:34 2019 +0100

    Expr -> ScalarExpr. Remove Expr::Ambient.

commit bdc251dfe0d8e2f63ab905e5c3d5f19344db04f6
Author: Frank McSherry <fmcsherry@me.com>
Date:   Mon Jun 3 08:03:41 2019 -0400

    implement Constant

commit 803f5a07e88cc3759d3767d00773053aee0d6d77
Author: Nikhil Benesch <nikhil.benesch@gmail.com>
Date:   Fri May 31 00:31:48 2019 -0400

    dataflow2,sql2: appease clippy

commit 7d3630f1bd77dc5d866d5cb9c9a2d01702a7eac1
Author: Nikhil Benesch <nikhil.benesch@gmail.com>
Date:   Thu May 30 22:43:19 2019 -0400

    mtrlz/sql: support parsing (but not planning) nested joins

commit 07bbba759b3a26a2f7479c7b9c3765da3c363cec
Author: Nikhil Benesch <nikhil.benesch@gmail.com>
Date:   Thu May 30 18:57:09 2019 -0400

    mtrlz/sql: fix regression in views without a column def

commit 4de55f9b89a0f401a38b10d2d941408f291b1242
Author: Nikhil Benesch <nikhil.benesch@gmail.com>
Date:   Thu May 30 18:37:30 2019 -0400

    mtrlz/sql: support parsing all TPC-H queries

commit a53a910cacb19e4d95cde974c2f731684bbd92a1
Author: Nikhil Benesch <nikhil.benesch@gmail.com>
Date:   Thu May 30 16:51:07 2019 -0400

    mtrlz/sql: parse more TPC-H queries

commit 85afa5125bfdb52a2906eb45effa2540f6abc232
Author: Frank McSherry <fmcsherry@me.com>
Date:   Thu May 30 15:18:55 2019 -0400

    partial evaluation

commit a3792fd75ca6ad0bb8a16d85ac9532ca6b4d4734
Author: Nikhil Benesch <nikhil.benesch@gmail.com>
Date:   Thu May 30 12:54:42 2019 -0400

    sqllogictest: add patch to skip CREATE TRIGGER

commit 2cadf3d0250247d3c691312d5508b0a3c9638a21
Author: Nikhil Benesch <nikhil.benesch@gmail.com>
Date:   Thu May 30 12:41:38 2019 -0400

    sqllogictest: add patch to skip INSERT OR REPLACE
    
    This doesn't work on PostgreSQL. Add the appropriate directives so that
    we skip it too.

commit 71b18c581be5eb67faa0340dfd8ba361aa74d906
Author: Frank McSherry <fmcsherry@me.com>
Date:   Thu May 30 12:40:16 2019 -0400

    predicate pushdown

commit f205cf495f4be294d3dd6a540440d80458e1b791
Author: Nikhil Benesch <nikhil.benesch@gmail.com>
Date:   Thu May 30 12:35:52 2019 -0400

    sqllogictest: add patch to avoid empty IN lists
    
    Update to a version of sqllogictest that marks that PostgreSQL does not
    support empty IN lists. For some reason in1.test gets this right, but
    in2.test did not.

commit 1f7926b97d7b19d709c3e245c4e01cad1f934149
Author: Frank McSherry <fmcsherry@me.com>
Date:   Thu May 30 11:49:11 2019 -0400

    transforms

commit 340684143817299e4bf928052425dd1bfc864d63
Author: Jamie Brandon <jamie@scattered-thoughts.net>
Date:   Thu May 30 16:10:02 2019 +0100

    WIP code to push Project down through AST

commit b9346e219de5508c3ff3df9492d04ee06f151986
Author: Jamie Brandon <jamie@scattered-thoughts.net>
Date:   Thu May 30 09:51:19 2019 +0100

    Don't allow permuting output across Let/Get

commit 6596bccf8295018cc30fa1b2d6796d8c491ab431
Author: Nikhil Benesch <nikhil.benesch@gmail.com>
Date:   Thu May 30 01:42:40 2019 -0400

    mtrlz/sql: update sqlparser for better TPC-H support

commit cc1eeac711b09c93f34184911a208753f14be490
Author: Frank McSherry <fmcsherry@me.com>
Date:   Wed May 29 17:16:07 2019 -0400

    merge, remove arities

commit 94c739b3a1a0c342871c70a8f068489b81940b6b
Merge: 8f9613319 bede6cd42
Author: Frank McSherry <fmcsherry@me.com>
Date:   Wed May 29 17:11:07 2019 -0400

    Merge branch 'ir' of https://github.com/MaterializeInc/materialize into ir

commit 8f961331990485b0ddb0d36c3c376ad25f49da99
Author: Frank McSherry <fmcsherry@me.com>
Date:   Wed May 29 17:10:58 2019 -0400

    doctest

commit bede6cd428c0d99b045b3047183e16b3126638c1
Author: Jamie Brandon <jamie@scattered-thoughts.net>
Date:   Wed May 29 21:49:51 2019 +0100

    Add visitors that track changes to column layouts

commit da68ac1bc8b0854ba62f1f590709b1f9432c267c
Merge: 04a516274 018ba0988
Author: Frank McSherry <fmcsherry@me.com>
Date:   Wed May 29 16:17:03 2019 -0400

    Merge branch 'ir' of https://github.com/MaterializeInc/materialize into ir

commit 04a5162745a956efd42632506f240f64cc7f0529
Author: Frank McSherry <fmcsherry@me.com>
Date:   Wed May 29 16:16:54 2019 -0400

    cargo fmt

commit b8372ba84e6e13baa743005a3824c8cdd865658f
Author: Frank McSherry <fmcsherry@me.com>
Date:   Wed May 29 16:16:33 2019 -0400

    join optimization method

commit 018ba09884bd7bb08bed04343515b23c4348f7d4
Author: Jamie Brandon <jamie@scattered-thoughts.net>
Date:   Wed May 29 19:55:36 2019 +0100

    Add RelationExpr::Constant and RelationExpr::typ

commit 1ea178006e9ad22e88aa99b1b76bcf199eb8142e
Author: Frank McSherry <fmcsherry@me.com>
Date:   Wed May 29 13:57:13 2019 -0400

    copyright

commit 5a9ae412f018c319304a20a237a7abfa1a88d222
Author: Frank McSherry <fmcsherry@me.com>
Date:   Wed May 29 13:56:37 2019 -0400

    implement more plans

commit e6d308c2b509f9dd50d30d8cc2fd42f1ce43ab4e
Author: Frank McSherry <fmcsherry@me.com>
Date:   Wed May 29 12:17:09 2019 -0400

    render prototypes

commit 48a7ce28aacdddea902385bead802a71ced99013
Author: Jamie Brandon <jamie@scattered-thoughts.net>
Date:   Wed May 29 16:50:14 2019 +0100

    Add tentative new IR

commit b6aeb909db6dfc0b8d9c9d7d4dca88e2aa453fae
Author: Frank McSherry <fmcsherry@me.com>
Date:   Wed May 29 09:38:09 2019 -0400

    newline

commit 0808a7cf9668d980a82f03fd51b4da69b3bfba83
Merge: 97e6417f5 6f888f1e9
Author: Frank McSherry <fmcsherry@me.com>
Date:   Wed May 29 09:15:15 2019 -0400

    updated tpch

commit 6f888f1e9618d0c8293f3d0dccc6bea95c0c218f
Author: Nikhil Benesch <nikhil.benesch@gmail.com>
Date:   Wed May 29 00:08:55 2019 -0400

    test/tpch: fix capitalization

commit 2f2e334cf306311de2db5fa12c54308a99c87e20
Author: Nikhil Benesch <nikhil.benesch@gmail.com>
Date:   Wed May 29 00:02:52 2019 -0400

    *: skeleton support for date/time types
    
    This makes it possible to parse the TPC-H table definitions.

commit 5b11a6250cd040de3aecc093f0ea2cff04d60d68
Author: Nikhil Benesch <nikhil.benesch@gmail.com>
Date:   Tue May 28 23:40:17 2019 -0400

    test: add TPC-H CREATE TABLE statements
    
    These don't parse yet, but they will soon.

commit 08653ec59f38492d61d0407a3a4c0e1a484e28fa
Author: Nikhil Benesch <nikhil.benesch@gmail.com>
Date:   Tue May 28 23:33:38 2019 -0400

    sqllogictest: speed up --only-parse
    
    No need for the delay hack if only parsing.

commit 8a8db933910c53b41de4d50b386b343c8d8a9f18
Author: Nikhil Benesch <nikhil.benesch@gmail.com>
Date:   Tue May 28 23:14:59 2019 -0400

    bin/check: allow clippy::redundant_closure
    
    See comments within the patch for details.

commit 000bffed754682fa03d76383ead428b71cdbace3
Author: Nikhil Benesch <nikhil.benesch@gmail.com>
Date:   Tue May 28 21:26:20 2019 -0400

    mtrlz/sql: fix some INSERT bugs
    
    This also lands support for parsing INSERT INTO ... SELECT, though not
    support for planning that.

commit 77fd9b62ff0a5272e285a4835885b0d72d600c0e
Merge: d253548cc 391ff7b85
Author: Nikhil Benesch <nikhil.benesch@gmail.com>
Date:   Tue May 28 17:33:29 2019 -0400

    Merge pull request #107 from MaterializeInc/dependabot/cargo/differential-dataflow-b315d0d
    
    Bump differential-dataflow from `f7c202d` to `b315d0d`

commit d253548cc4e62231c617b0e6131955af903dd6e6
Merge: 6be8dd843 861fd33b6
Author: Nikhil Benesch <nikhil.benesch@gmail.com>
Date:   Tue May 28 17:33:20 2019 -0400

    Merge pull request #108 from MaterializeInc/dependabot/cargo/timely-ba22fe3
    
    Bump timely from `ef2f213` to `ba22fe3`

commit 6be8dd8439708d81a73f79a2644f5390a8838ba3
Author: Nikhil Benesch <nikhil.benesch@gmail.com>
Date:   Tue May 28 17:04:37 2019 -0400

    ci/test: limit testdrive to testdrive files

commit 97e6417f56e9bd81539650bca4e7bc6e2d48d930
Author: Frank McSherry <fmcsherry@me.com>
Date:   Tue May 28 16:04:49 2019 -0400

    introduce schemas and queries

commit 99edbac220e63a398105b95d17668ecd18d71052
Author: Nikhil Benesch <nikhil.benesch@gmail.com>
Date:   Tue May 28 15:37:47 2019 -0400

    mtrlz/sql: support IN list operators

commit 8c99d248c97169811aba229b2f22a5b6a26707cb
Author: Nikhil Benesch <nikhil.benesch@gmail.com>
Date:   Tue May 28 15:12:50 2019 -0400

    test: add provisions for custom SQL logic tests
    
    Files ending in .slt are now considered to be SQL logic tests, run as
    part of the SQL logic tests job. Files ending in *.td are testdrive
    tets, and run as part of every PR build.

commit ba4541c420e9a2af93e49b778937b7b178d32d09
Author: Nikhil Benesch <nikhil.benesch@gmail.com>
Date:   Tue May 28 13:45:07 2019 -0400

    mtrlz/sql: apply type promotions to coalesce/CASE, too
    
    coalesce and CASE expressions will type-promote their arguments as
    necessary, like arithmetic and comparison operators. I think this will
    resolve all outstanding plan failures.

commit 3913e9a0eb39b128c24f9aa6378902d4532753f4
Author: Nikhil Benesch <nikhil.benesch@gmail.com>
Date:   Tue May 28 10:21:38 2019 -0400

    sqllogictest: truncate floats when rendering them as ints
    
    This is what the upstream sqllogictest expects.

commit 8d885a7e0bd9369ed83cb4b20588a4eab372580f
Merge: 614573616 87267f84b
Author: Nikhil Benesch <nikhil.benesch@gmail.com>
Date:   Tue May 28 10:21:13 2019 -0400

    Merge pull request #103 from MaterializeInc/dependabot/cargo/mio-0.6.18
    
    Bump mio from 0.6.17 to 0.6.18

commit 614573616428a76418a6d50ec5ff69aa1a4482e9
Merge: 266b745d2 37a74f7d0
Author: Nikhil Benesch <nikhil.benesch@gmail.com>
Date:   Tue May 28 10:21:02 2019 -0400

    Merge pull request #106 from MaterializeInc/dependabot/cargo/libflate-0.1.23
    
    Bump libflate from 0.1.22 to 0.1.23

commit 266b745d2679e70f2685546bc43ef000a76ac86d
Merge: 75280b19f 903892510
Author: Nikhil Benesch <nikhil.benesch@gmail.com>
Date:   Tue May 28 10:08:02 2019 -0400

    Merge pull request #105 from MaterializeInc/dependabot/cargo/backtrace-0.3.26
    
    Bump backtrace from 0.3.22 to 0.3.26

commit 75280b19f328d03f288dd1bb18be82dad2a99b38
Merge: ade4736c7 cf62113ce
Author: Nikhil Benesch <nikhil.benesch@gmail.com>
Date:   Tue May 28 10:06:17 2019 -0400

    Merge pull request #104 from MaterializeInc/annoying-sql-tests
    
    mtrlz/sql: remove unit tests with hardcoded ASTs

commit ade4736c757e09dd90a8c1fa6b953c5c3753abaf
Author: Nikhil Benesch <nikhil.benesch@gmail.com>
Date:   Tue May 28 02:37:18 2019 -0400

    ci/slt: don't configure SSH outside of CI

commit 5f84cc5ccd2eee50a56b0dc8c4608cc4df0547a5
Author: Nikhil Benesch <nikhil.benesch@gmail.com>
Date:   Tue May 28 02:22:57 2019 -0400

    mtrlz/sql: prefer casting to 64-bit floats over 32-bit floats

commit c5417f404744ae7dda19ba2481aa866adadf7924
Author: Nikhil Benesch <nikhil.benesch@gmail.com>
Date:   Tue May 28 02:06:15 2019 -0400

    mtrlz/dataflow: clippy

commit af435cc6561387e4480808f9b726016dc62d9b3d
Author: Nikhil Benesch <nikhil.benesch@gmail.com>
Date:   Tue May 28 02:04:24 2019 -0400

    mtrlz/sql: support nullif

commit 59f156fb4bae39e9972ccb3e7433cee4cdd9807a
Author: Nikhil Benesch <nikhil.benesch@gmail.com>
Date:   Tue May 28 01:48:49 2019 -0400

    mtrlz/sql: remove stale comment

commit e352d1d0e9490d31581f7dd7025716ba54f11e67
Author: Nikhil Benesch <nikhil.benesch@gmail.com>
Date:   Tue May 28 01:45:47 2019 -0400

    mtrlz/sql: plan casts

commit a8b27e5c38809e6adcea416b526ca69ec724fdcb
Author: Nikhil Benesch <nikhil.benesch@gmail.com>
Date:   Tue May 28 00:26:34 2019 -0400

    mtrlz/sql: remove now-unnecessary clippy escape hatches

commit 68cf4f263b1a3d4e96caa882ce97a661ffee5cc0
Author: Nikhil Benesch <nikhil.benesch@gmail.com>
Date:   Tue May 28 00:03:07 2019 -0400

    mtrlz/sql: improve type "inference" for CASE/coalesce
    
    The new code handles NULLs better.

commit 581e96dcdc769af2ec658938c23eca6ab81f00b4
Author: Nikhil Benesch <nikhil.benesch@gmail.com>
Date:   Tue May 28 00:02:45 2019 -0400

    misc/www: link sqllogictest result on dev dashboard

commit 68c180a005dd36e0866f4fcbd486c5fd06b0a6d2
Author: Nikhil Benesch <nikhil.benesch@gmail.com>
Date:   Mon May 27 23:13:33 2019 -0400

    mtrlz/dataflow: fix NULL handling in sum
    
    sum was properly returning NULL when the input contained no NULL rows at
    all, but was improperly returning 0 when the input contained only NULL
    rows.

commit 691f47472d6319d5c367d7be517e1eef2b985e38
Author: Nikhil Benesch <nikhil.benesch@gmail.com>
Date:   Mon May 27 22:49:26 2019 -0400

    mtrlz/dataflow: ignore NULL in avg

commit 2b2f780141e41a4edb9c90c56fb6a951189557a5
Author: Nikhil Benesch <nikhil.benesch@gmail.com>
Date:   Mon May 27 22:39:57 2019 -0400

    src/sqllogictest: abort if any thread panics
    
    The standard default of keeping the process alive in zombie mode is bad.
    Fix it with a custom panic hook.
    
    Fix #46.

commit c5846242d2652038487b7b863e0d3eb8004dd1fc
Author: Nikhil Benesch <nikhil.benesch@gmail.com>
Date:   Mon May 27 12:51:07 2019 -0400

    mtrlz/sql: fix regression in agg func planning
    
    The last commit introduced a regression where aggregate function names
    were not being appropriately normalized. This commit fixes that, which
    exposed another problem: we're no longer capable of distinguishing
    between two identical aggregate functions (e.g., `COUNT(*) + COUNT(*)`).
    That's actually okay: we only want to compute COUNT(*) once. Adjust our
    aggregate code to handle deduplication.

commit 861fd33b67cd3025a9f3ced873e608092fa6f8ee
Author: dependabot-preview[bot] <dependabot-preview[bot]@users.noreply.github.com>
Date:   Mon May 27 15:34:44 2019 +0000

    Bump timely from `ef2f213` to `ba22fe3`
    
    Bumps [timely](https://github.com/TimelyDataflow/timely-dataflow) from `ef2f213` to `ba22fe3`.
    - [Release notes](https://github.com/TimelyDataflow/timely-dataflow/releases)
    - [Commits](https://github.com/TimelyDataflow/timely-dataflow/compare/ef2f213e5d8a1deb59788e8bf39f49b5e1bfcaf7...ba22fe314d563e60c1ebeea750bd12afef9c3ce5)

commit 391ff7b8551904f11b03f964a73d03aa3cf7696e
Author: dependabot-preview[bot] <dependabot-preview[bot]@users.noreply.github.com>
Date:   Mon May 27 15:34:06 2019 +0000

    Bump differential-dataflow from `f7c202d` to `b315d0d`
    
    Bumps [differential-dataflow](https://github.com/TimelyDataflow/differential-dataflow) from `f7c202d` to `b315d0d`.
    - [Release notes](https://github.com/TimelyDataflow/differential-dataflow/releases)
    - [Commits](https://github.com/TimelyDataflow/differential-dataflow/compare/f7c202d968b117c1f6b6015c411b7f8cd0673d33...b315d0d6e077104f77122a3cbaa2392a124c6211)

commit 37a74f7d0874d6c18ed7c0efca26e8a6bb00c7f8
Author: dependabot-preview[bot] <dependabot-preview[bot]@users.noreply.github.com>
Date:   Mon May 27 12:14:50 2019 +0000

    Bump libflate from 0.1.22 to 0.1.23
    
    Bumps [libflate](https://github.com/sile/libflate) from 0.1.22 to 0.1.23.
    - [Release notes](https://github.com/sile/libflate/releases)
    - [Commits](https://github.com/sile/libflate/compare/0.1.22...0.1.23)

commit 573277dd51219ede5954e942233dbbd977f6ce1c
Author: Nikhil Benesch <nikhil.benesch@gmail.com>
Date:   Mon May 27 02:30:56 2019 -0400

    mtrzl/sql: remove agg function hack
    
    The logic for CASE expressions requires cloning the AST, which was
    wreaking havoc with the aggregate function hack. Rather than using
    pointers to identify aggregate functions, derive Hash on the AST nodes
    and simply use hash values.

commit 03539041c76183fb5327955907fabd3d0d127cfc
Author: Nikhil Benesch <nikhil.benesch@gmail.com>
Date:   Mon May 27 00:31:51 2019 -0400

    *: update sqlparser for proper NOT parsing
    
    Udate sqlparser to pull in a fix for andygrove/sqlparser-rs#81 that was
    causing sqllogictests to fail.

commit 90389251047fdbab9f8106633bec8b617ca26d60
Author: dependabot-preview[bot] <dependabot-preview[bot]@users.noreply.github.com>
Date:   Sat May 25 03:05:36 2019 +0000

    Bump backtrace from 0.3.22 to 0.3.26
    
    Bumps [backtrace](https://github.com/alexcrichton/backtrace-rs) from 0.3.22 to 0.3.26.
    - [Release notes](https://github.com/alexcrichton/backtrace-rs/releases)
    - [Commits](https://github.com/alexcrichton/backtrace-rs/compare/0.3.22...0.3.26)

commit e27ea7749544b2acc41000f8ed2c5d32058e05d7
Author: Nikhil Benesch <nikhil.benesch@gmail.com>
Date:   Fri May 24 16:55:06 2019 -0400

    mtrlz/sql: support coalesce function

commit af441351b72110ef04b91ae1b95b1cc112c30523
Author: Nikhil Benesch <nikhil.benesch@gmail.com>
Date:   Fri May 24 16:39:15 2019 -0400

    mtrlz/sql: support abs function

commit cf62113cea73a1412289304de176b43be11aa5ba
Author: Nikhil Benesch <nikhil.benesch@gmail.com>
Date:   Fri May 24 15:30:50 2019 -0400

    mtrlz/sql: remove unit tests with hardcoded ASTs
    
    These unit tests were quite annoying to keep up-to-date, as they needed
    to be rewritten whenever the dataflow AST changed. They provide very
    little value over the sqllogictests, so just remove them.

commit fd578aa62ff793ae097e6ee5d65232fe82994909
Author: Nikhil Benesch <nikhil.benesch@gmail.com>
Date:   Fri May 24 15:12:56 2019 -0400

    mtrlz/sql: support CASE expressions

commit 87267f84b0aedc65a77492c8f9b3e0328fdf1209
Author: dependabot-preview[bot] <dependabot-preview[bot]@users.noreply.github.com>
Date:   Fri May 24 19:05:09 2019 +0000

    Bump mio from 0.6.17 to 0.6.18
    
    Bumps [mio](https://github.com/carllerche/mio) from 0.6.17 to 0.6.18.
    - [Release notes](https://github.com/carllerche/mio/releases)
    - [Changelog](https://github.com/tokio-rs/mio/blob/master/CHANGELOG.md)
    - [Commits](https://github.com/carllerche/mio/commits)

commit fcd8c5d78cb310c1f9bbc841242e9783ede2d1bf
Author: Nikhil Benesch <nikhil.benesch@gmail.com>
Date:   Fri May 24 14:42:26 2019 -0400

    mtrlz/sql: extract BETWEEN planning into its own function

commit c1d6975d5b50f90f74f4473b5cae9a1dada565f9
Author: Nikhil Benesch <nikhil.benesch@gmail.com>
Date:   Fri May 24 14:23:51 2019 -0400

    mtrlz/sql: plan BETWEEN

commit 8d9bd183bb4e40cdf69398026fd217c23ced6390
Author: Nikhil Benesch <nikhil.benesch@gmail.com>
Date:   Fri May 24 11:38:26 2019 -0400

    ci/slt: create target dir if not exists

commit 2d2fb00b1b1246ca1c298917f14be637df39ef97
Author: Nikhil Benesch <nikhil.benesch@gmail.com>
Date:   Fri May 24 10:40:56 2019 -0400

    ci/slt: install ssh keys

commit c17df4f032ed9bf76a28cfcc3d9ec38be626c164
Author: Nikhil Benesch <nikhil.benesch@gmail.com>
Date:   Thu May 23 23:34:21 2019 -0400

    ci/slt: actually tee results to file

commit 240a8c3225bb98e8bca144057b22a5e5b0aab0c6
Merge: 1d408c6c6 d6d7e3a4c
Author: Nikhil Benesch <nikhil.benesch@gmail.com>
Date:   Thu May 23 17:45:53 2019 -0400

    Merge pull request #101 from MaterializeInc/dependabot/cargo/backtrace-0.3.22
    
    Bump backtrace from 0.3.20 to 0.3.22

commit d6d7e3a4cac5cb340efad2866d8295ca5d394a4b
Author: dependabot[bot] <support@dependabot.com>
Date:   Thu May 23 21:37:36 2019 +0000

    Bump backtrace from 0.3.20 to 0.3.22
    
    Bumps [backtrace](https://github.com/alexcrichton/backtrace-rs) from 0.3.20 to 0.3.22.
    - [Release notes](https://github.com/alexcrichton/backtrace-rs/releases)
    - [Commits](https://github.com/alexcrichton/backtrace-rs/compare/0.3.20...0.3.22)
    
    Signed-off-by: dependabot[bot] <support@dependabot.com>

commit 1d408c6c66559f6517cf9e7d7f00dfbdf10dd835
Author: Nikhil Benesch <nikhil.benesch@gmail.com>
Date:   Thu May 23 16:20:04 2019 -0400

    ci/slt: publish results even if test fails
    
    sqllogictests are considered to fail if a single query is not
    successful, but we still want to publish results in that case.

commit 4ac211b343ddee0b109c3e18489e68c6afc4e38f
Author: Jamie Brandon <jamie@scattered-thoughts.net>
Date:   Thu May 23 21:07:29 2019 +0100

    Enable test/select5.test
    
    It runs ok now that we have multiway joins on master

commit 6f31c33c0fb275d59d649d7609900c61ce8afd99
Author: Nikhil Benesch <nikhil.benesch@gmail.com>
Date:   Thu May 23 15:59:20 2019 -0400

    ci/slt: publish sqllogictest results

commit 4b958777d3f5f82cf2062e77d13d170671e607b9
Merge: df3d01d88 830268514
Author: Frank McSherry <fmcsherry@me.com>
Date:   Thu May 23 15:59:49 2019 -0400

    Merge pull request #49 from MaterializeInc/multiway
    
    [WIP] multiway checkin

commit 830268514a10dffdd6c4dc3f27a0849caebdd356
Author: Frank McSherry <fmcsherry@me.com>
Date:   Thu May 23 13:29:47 2019 -0400

    cargo fmt

commit 04d59556baf0f17dfa373592365c84574e9b66af
Author: Frank McSherry <fmcsherry@me.com>
Date:   Thu May 23 13:28:56 2019 -0400

    correct arguments

commit aca76e4e3759be60704317be9c50d795658cae80
Author: Frank McSherry <fmcsherry@me.com>
Date:   Wed May 15 17:45:55 2019 -0400

    dial back tests

commit 12eb4028ab24410fe0316f88abad5809441321ac
Author: Frank McSherry <fmcsherry@me.com>
Date:   Wed May 15 17:44:05 2019 -0400

    clippy corrections

commit d9f83c431768a513d2326b59308334e9f5b5ed66
Author: Frank McSherry <fmcsherry@me.com>
Date:   Wed May 15 17:41:19 2019 -0400

    passes select5.test

commit ffcde426941b60457f93662957a6cf6b2c72655d
Author: Frank McSherry <fmcsherry@me.com>
Date:   Wed May 15 16:29:47 2019 -0400

    render multiway

commit b9737dd85051b56d0b5620f5a4bd2b8a603609f7
Author: Frank McSherry <fmcsherry@me.com>
Date:   Wed May 15 15:27:13 2019 -0400

    add simple_multiway test

commit 48a04450ae865bdb34dceb854d70860ae79b010a
Author: Frank McSherry <fmcsherry@me.com>
Date:   Wed May 15 14:59:06 2019 -0400

    add copyright

commit a3d82a8d928b18e04d7f67458d7c9e3fd2907aa6
Author: Frank McSherry <fmcsherry@me.com>
Date:   Wed May 15 11:52:58 2019 -0400

    multiway checkin

commit df3d01d889f60889c6eb9a920927a9cff54423ae
Author: Nikhil Benesch <nikhil.benesch@gmail.com>
Date:   Thu May 23 14:26:10 2019 -0400

    ci/slt: decrease log verbosity

commit 5fba0d2bab4f39371107c70583ddcb3231e668e1
Author: Nikhil Benesch <nikhil.benesch@gmail.com>
Date:   Thu May 23 14:10:01 2019 -0400

    ci: add configuration for sqllogictest

commit 92d78bb692ee32f8ce91a40e7c881c174b010180
Author: Jamie Brandon <jamie@scattered-thoughts.net>
Date:   Thu May 23 18:18:32 2019 +0100

    Allow unrelated constraints in `JOIN ON ...`
    
    It seems that sqlite and postgres both just treat it as an extra WHERE
    clause - they don't do any of the special scoping or restrictions that
    we do.

commit 53adc13d2283e5ec3e86eed8b22cb303ca700e12
Author: Jamie Brandon <jamie@scattered-thoughts.net>
Date:   Thu May 23 16:28:02 2019 +0100

    Temporarily disable select4.test
    
    Recent bug fixes have exposed us to more bad query plans

commit bee253861434f7a7685296f7112a44a2a78da3fd
Author: Jamie Brandon <jamie@scattered-thoughts.net>
Date:   Thu May 23 16:27:25 2019 +0100

    Set a memory limit in nix-shell...
    
    ...so that bad query plans die instead of taking down my laptop

commit 4aadc71190420764812387ac4e0e0e834ffff21f
Author: Jamie Brandon <jamie@scattered-thoughts.net>
Date:   Thu May 23 14:41:17 2019 +0100

    Add some more SLT type conversions

commit 0bbe761bbfecaf45faa289106568ff415b0864ac
Author: Jamie Brandon <jamie@scattered-thoughts.net>
Date:   Thu May 23 14:35:05 2019 +0100

    Hookup implementation for AND and OR

commit e9909eefdfa85c22cc969b130c19edf8ba69a6ad
Author: Jamie Brandon <jamie@scattered-thoughts.net>
Date:   Thu May 23 14:34:44 2019 +0100

    AVG is supposed to return the same type as it's arguments, truncating
    if necessary

commit 4223b5d56bbf4e20a3b4a73faa6bde0f74c41efa
Author: Nikhil Benesch <nikhil.benesch@gmail.com>
Date:   Wed May 22 17:58:52 2019 -0400

    *: update remaining dependencies
    
    For some reason dependabot refuses to update these.

commit 7d09d0e7f41c333bbd01f60003c6a4e61831c880
Author: Nikhil Benesch <nikhil.benesch@gmail.com>
Date:   Wed May 22 17:46:40 2019 -0400

    *: upgrade to futures 0.1.27
    
    This required upgrading our fork of the futures crate.

commit 946b890c5f900182c70a2f64de188efd9c235ea1
Merge: 2ea6da7ac 8dc4c3782
Author: dependabot[bot] <dependabot[bot]@users.noreply.github.com>
Date:   Wed May 22 21:41:31 2019 +0000

    Merge pull request #98 from MaterializeInc/dependabot/cargo/num-integer-0.1.41

commit 8dc4c3782389161c3accc9ae5a1e5d1246c4a0ec
Author: dependabot[bot] <support@dependabot.com>
Date:   Wed May 22 21:38:16 2019 +0000

    Bump num-integer from 0.1.40 to 0.1.41
    
    Bumps [num-integer](https://github.com/rust-num/num-integer) from 0.1.40 to 0.1.41.
    - [Release notes](https://github.com/rust-num/num-integer/releases)
    - [Changelog](https://github.com/rust-num/num-integer/blob/master/RELEASES.md)
    - [Commits](https://github.com/rust-num/num-integer/compare/num-integer-0.1.40...num-integer-0.1.41)
    
    Signed-off-by: dependabot[bot] <support@dependabot.com>

commit 2ea6da7acca82ab977ccfc2f92fd5e1796d31f50
Merge: 7ba654057 62fa96b0c
Author: dependabot[bot] <dependabot[bot]@users.noreply.github.com>
Date:   Wed May 22 21:36:21 2019 +0000

    Merge pull request #97 from MaterializeInc/dependabot/cargo/num-traits-0.2.8

commit 7ba654057c4c00c9278df601b0fa60b320ab08c4
Merge: 3172e749f d709385bc
Author: dependabot[bot] <dependabot[bot]@users.noreply.github.com>
Date:   Wed May 22 21:35:05 2019 +0000

    Merge pull request #92 from MaterializeInc/dependabot/cargo/libc-0.2.55

commit 62fa96b0c3d7efb1f0787b9caa7d28b35cfb1ab5
Author: dependabot[bot] <support@dependabot.com>
Date:   Wed May 22 21:33:30 2019 +0000

    Bump num-traits from 0.2.7 to 0.2.8
    
    Bumps [num-traits](https://github.com/rust-num/num-traits) from 0.2.7 to 0.2.8.
    - [Release notes](https://github.com/rust-num/num-traits/releases)
    - [Changelog](https://github.com/rust-num/num-traits/blob/master/RELEASES.md)
    - [Commits](https://github.com/rust-num/num-traits/compare/num-traits-0.2.7...num-traits-0.2.8)
    
    Signed-off-by: dependabot[bot] <support@dependabot.com>

commit d709385bcd2d9534d9dd364a34ec43bbea9f8a4f
Author: dependabot[bot] <support@dependabot.com>
Date:   Wed May 22 21:31:37 2019 +0000

    Bump libc from 0.2.50 to 0.2.55
    
    Bumps [libc](https://github.com/rust-lang/libc) from 0.2.50 to 0.2.55.
    - [Release notes](https://github.com/rust-lang/libc/releases)
    - [Commits](https://github.com/rust-lang/libc/compare/0.2.50...0.2.55)
    
    Signed-off-by: dependabot[bot] <support@dependabot.com>

commit 3172e749f5e4b084a258b0397e83e55bb20a90aa
Merge: 4c5c1d11d 090ad6f42
Author: dependabot[bot] <dependabot[bot]@users.noreply.github.com>
Date:   Wed May 22 21:28:43 2019 +0000

    Merge pull request #95 from MaterializeInc/dependabot/cargo/termion-1.5.2

commit 4c5c1d11d05413c6ea011dde4271aae455dd1a53
Merge: 9df410879 f2a706954
Author: dependabot[bot] <dependabot[bot]@users.noreply.github.com>
Date:   Wed May 22 21:28:32 2019 +0000

    Merge pull request #96 from MaterializeInc/dependabot/cargo/h2-0.1.20

commit 9df41087926332f38d6b0f1382771621c193da19
Merge: 8dee916d2 a2cf4092e
Author: dependabot[bot] <dependabot[bot]@users.noreply.github.com>
Date:   Wed May 22 21:28:05 2019 +0000

    Merge pull request #90 from MaterializeInc/dependabot/cargo/cc-1.0.37

commit 090ad6f42f11b7c2fdaf25d6040355203580f876
Author: dependabot[bot] <support@dependabot.com>
Date:   Wed May 22 21:24:39 2019 +0000

    Bump termion from 1.5.1 to 1.5.2
    
    Bumps termion from 1.5.1 to 1.5.2.
    
    Signed-off-by: dependabot[bot] <support@dependabot.com>

commit f2a706954217bcb91b577571c6189cde30910f5d
Author: dependabot[bot] <support@dependabot.com>
Date:   Wed May 22 21:24:31 2019 +0000

    Bump h2 from 0.1.17 to 0.1.20
    
    Bumps [h2](https://github.com/hyperium/h2) from 0.1.17 to 0.1.20.
    - [Release notes](https://github.com/hyperium/h2/releases)
    - [Changelog](https://github.com/hyperium/h2/blob/master/CHANGELOG.md)
    - [Commits](https://github.com/hyperium/h2/compare/v0.1.17...v0.1.20)
    
    Signed-off-by: dependabot[bot] <support@dependabot.com>

commit 8dee916d2f459245b90f0973684171cb54b6449e
Merge: 7790c1dfc 45baf0df8
Author: dependabot[bot] <dependabot[bot]@users.noreply.github.com>
Date:   Wed May 22 21:22:43 2019 +0000

    Merge pull request #94 from MaterializeInc/dependabot/cargo/term-0.5.2

commit a2cf4092e9f7fe424329895b15004a829f5b654a
Author: dependabot[bot] <support@dependabot.com>
Date:   Wed May 22 21:22:42 2019 +0000

    Bump cc from 1.0.31 to 1.0.37
    
    Bumps [cc](https://github.com/alexcrichton/cc-rs) from 1.0.31 to 1.0.37.
    - [Release notes](https://github.com/alexcrichton/cc-rs/releases)
    - [Commits](https://github.com/alexcrichton/cc-rs/compare/1.0.31...1.0.37)
    
    Signed-off-by: dependabot[bot] <support@dependabot.com>

commit 7790c1dfca31b04f2efbf7508eed580edf759203
Merge: f1b89a8e3 6e251c9aa
Author: Nikhil Benesch <nikhil.benesch@gmail.com>
Date:   Wed May 22 17:21:47 2019 -0400

    Merge pull request #93 from MaterializeInc/dependabot/cargo/error-chain-0.12.1
    
    Bump error-chain from 0.12.0 to 0.12.1

commit f1b89a8e358c9d407c1f4f8dc5004ae77e352a89
Merge: ae17fd9e5 32d4d5ac3
Author: Nikhil Benesch <nikhil.benesch@gmail.com>
Date:   Wed May 22 17:21:18 2019 -0400

    Merge pull request #91 from MaterializeInc/dependabot/cargo/tokio-timer-0.2.11
    
    Bump tokio-timer from 0.2.10 to 0.2.11

commit ae17fd9e509138bb1000a8f74bf8b132f6330902
Merge: e89f7e130 706c75f6f
Author: dependabot[bot] <dependabot[bot]@users.noreply.github.com>
Date:   Wed May 22 21:20:31 2019 +0000

    Merge pull request #89 from MaterializeInc/dependabot/cargo/unicode-segmentation-1.3.0

commit e89f7e130e2d3e2921fa41a38ba8b25393b4096c
Merge: 353cd548c 6606ad4c7
Author: Nikhil Benesch <nikhil.benesch@gmail.com>
Date:   Wed May 22 17:19:44 2019 -0400

    Merge pull request #88 from MaterializeInc/dependabot/cargo/rustc-demangle-0.1.14
    
    Bump rustc-demangle from 0.1.13 to 0.1.14

commit 353cd548c31240e3d1987f05ff82f5b59d25ccd7
Merge: aa23e5f67 b1f0e4557
Author: Nikhil Benesch <nikhil.benesch@gmail.com>
Date:   Wed May 22 17:19:15 2019 -0400

    Merge pull request #86 from MaterializeInc/dependabot/cargo/autocfg-0.1.4
    
    Bump autocfg from 0.1.2 to 0.1.4

commit 45baf0df8b37b86cb4f108102c30a5cf058dc509
Author: dependabot[bot] <support@dependabot.com>
Date:   Wed May 22 21:19:10 2019 +0000

    Bump term from 0.5.1 to 0.5.2
    
    Bumps [term](https://github.com/Stebalien/term) from 0.5.1 to 0.5.2.
    - [Release notes](https://github.com/Stebalien/term/releases)
    - [Commits](https://github.com/Stebalien/term/compare/v0.5.1...v0.5.2)
    
    Signed-off-by: dependabot[bot] <support@dependabot.com>

commit aa23e5f677c802e2f315b5c810462ccf186c3641
Merge: ea17b8372 e7f738da3
Author: Nikhil Benesch <nikhil.benesch@gmail.com>
Date:   Wed May 22 17:18:58 2019 -0400

    Merge pull request #87 from MaterializeInc/dependabot/cargo/ctor-0.1.9
    
    Bump ctor from 0.1.7 to 0.1.9

commit 6e251c9aac817d032b1c243df894b121c9529cbc
Author: dependabot[bot] <support@dependabot.com>
Date:   Wed May 22 21:18:46 2019 +0000

    Bump error-chain from 0.12.0 to 0.12.1
    
    Bumps [error-chain](https://github.com/rust-lang-nursery/error-chain) from 0.12.0 to 0.12.1.
    - [Release notes](https://github.com/rust-lang-nursery/error-chain/releases)
    - [Changelog](https://github.com/rust-lang-nursery/error-chain/blob/master/CHANGELOG.md)
    - [Commits](https://github.com/rust-lang-nursery/error-chain/commits)
    
    Signed-off-by: dependabot[bot] <support@dependabot.com>

commit ea17b8372483eadc4b3fb06dc7572ead36b1dd00
Merge: a64b2c04e c19dc4e74
Author: Nikhil Benesch <nikhil.benesch@gmail.com>
Date:   Wed May 22 17:18:32 2019 -0400

    Merge pull request #85 from MaterializeInc/dependabot/cargo/cfg-if-0.1.9
    
    Bump cfg-if from 0.1.7 to 0.1.9

commit a64b2c04ef20e90e6fd8bcc24b9a629ed2c00d9a
Merge: 67813aa02 4ca8be4e2
Author: dependabot[bot] <dependabot[bot]@users.noreply.github.com>
Date:   Wed May 22 21:18:11 2019 +0000

    Merge pull request #81 from MaterializeInc/dependabot/cargo/http-0.1.17

commit 32d4d5ac3384a8f2a3201965c8034ccded8d8d1b
Author: dependabot[bot] <support@dependabot.com>
Date:   Wed May 22 21:17:55 2019 +0000

    Bump tokio-timer from 0.2.10 to 0.2.11
    
    Bumps [tokio-timer](https://github.com/tokio-rs/tokio) from 0.2.10 to 0.2.11.
    - [Release notes](https://github.com/tokio-rs/tokio/releases)
    - [Commits](https://github.com/tokio-rs/tokio/compare/tokio-timer-0.2.10...tokio-timer-0.2.11)
    
    Signed-off-by: dependabot[bot] <support@dependabot.com>

commit 67813aa02db3fbdc9dec6b9f05e10f70d0d71413
Merge: a4416aea2 990bc2ceb
Author: dependabot[bot] <dependabot[bot]@users.noreply.github.com>
Date:   Wed May 22 21:17:39 2019 +0000

    Merge pull request #83 from MaterializeInc/dependabot/cargo/itoa-0.4.4

commit 706c75f6f42ef976a23d8142110e8332096a2a44
Author: dependabot[bot] <support@dependabot.com>
Date:   Wed May 22 21:17:07 2019 +0000

    Bump unicode-segmentation from 1.2.1 to 1.3.0
    
    Bumps [unicode-segmentation](https://github.com/unicode-rs/unicode-segmentation) from 1.2.1 to 1.3.0.
    - [Release notes](https://github.com/unicode-rs/unicode-segmentation/releases)
    - [Commits](https://github.com/unicode-rs/unicode-segmentation/commits)
    
    Signed-off-by: dependabot[bot] <support@dependabot.com>

commit 6606ad4c790d14a8d8dddd8580647519067df784
Author: dependabot[bot] <support@dependabot.com>
Date:   Wed May 22 21:16:44 2019 +0000

    Bump rustc-demangle from 0.1.13 to 0.1.14
    
    Bumps [rustc-demangle](https://github.com/alexcrichton/rustc-demangle) from 0.1.13 to 0.1.14.
    - [Release notes](https://github.com/alexcrichton/rustc-demangle/releases)
    - [Commits](https://github.com/alexcrichton/rustc-demangle/compare/0.1.13...0.1.14)
    
    Signed-off-by: dependabot[bot] <support@dependabot.com>

commit e7f738da34e9d2b06d8d884a9c016790f2a229a0
Author: dependabot[bot] <support@dependabot.com>
Date:   Wed May 22 21:16:12 2019 +0000

    Bump ctor from 0.1.7 to 0.1.9
    
    Bumps [ctor](https://github.com/mmastrac/rust-ctor) from 0.1.7 to 0.1.9.
    - [Release notes](https://github.com/mmastrac/rust-ctor/releases)
    - [Commits](https://github.com/mmastrac/rust-ctor/commits)
    
    Signed-off-by: dependabot[bot] <support@dependabot.com>

commit b1f0e455763676d6894a376f73325a225b3a9e40
Author: dependabot[bot] <support@dependabot.com>
Date:   Wed May 22 21:15:46 2019 +0000

    Bump autocfg from 0.1.2 to 0.1.4
    
    Bumps [autocfg](https://github.com/cuviper/autocfg) from 0.1.2 to 0.1.4.
    - [Release notes](https://github.com/cuviper/autocfg/releases)
    - [Commits](https://github.com/cuviper/autocfg/compare/0.1.2...0.1.4)
    
    Signed-off-by: dependabot[bot] <support@dependabot.com>

commit 4ca8be4e2f3371ec7230f06449944a5b787f0344
Author: dependabot[bot] <support@dependabot.com>
Date:   Wed May 22 21:15:15 2019 +0000

    Bump http from 0.1.16 to 0.1.17
    
    Bumps [http](https://github.com/hyperium/http) from 0.1.16 to 0.1.17.
    - [Release notes](https://github.com/hyperium/http/releases)
    - [Changelog](https://github.com/hyperium/http/blob/master/CHANGELOG.md)
    - [Commits](https://github.com/hyperium/http/compare/v0.1.16...v0.1.17)
    
    Signed-off-by: dependabot[bot] <support@dependabot.com>

commit c19dc4e7415c2e0319f61d3d72819a0d1aa18c12
Author: dependabot[bot] <support@dependabot.com>
Date:   Wed May 22 21:15:14 2019 +0000

    Bump cfg-if from 0.1.7 to 0.1.9
    
    Bumps [cfg-if](https://github.com/alexcrichton/cfg-if) from 0.1.7 to 0.1.9.
    - [Release notes](https://github.com/alexcrichton/cfg-if/releases)
    - [Commits](https://github.com/alexcrichton/cfg-if/compare/0.1.7...0.1.9)
    
    Signed-off-by: dependabot[bot] <support@dependabot.com>

commit 990bc2ceb6b6e393caca7485a3a85efe0945ad90
Author: dependabot[bot] <support@dependabot.com>
Date:   Wed May 22 21:13:50 2019 +0000

    Bump itoa from 0.4.3 to 0.4.4
    
    Bumps [itoa](https://github.com/dtolnay/itoa) from 0.4.3 to 0.4.4.
    - [Release notes](https://github.com/dtolnay/itoa/releases)
    - [Commits](https://github.com/dtolnay/itoa/compare/0.4.3...0.4.4)
    
    Signed-off-by: dependabot[bot] <support@dependabot.com>

commit a4416aea27fc407dc1fadd394208b7cba50b6616
Merge: 905c57977 9acc77aa6
Author: dependabot[bot] <dependabot[bot]@users.noreply.github.com>
Date:   Wed May 22 21:13:04 2019 +0000

    Merge pull request #82 from MaterializeInc/dependabot/cargo/num-integer-0.1.40

commit 905c5797789f33ee6d97e34176f343a6475247aa
Merge: 2171cec26 7ef1ec881
Author: dependabot[bot] <dependabot[bot]@users.noreply.github.com>
Date:   Wed May 22 21:10:21 2019 +0000

    Merge pull request #75 from MaterializeInc/dependabot/cargo/tempfile-3.0.8

commit 2171cec26e410e75a8d65571d601c026590ad87c
Merge: 54ce89f43 55483e5d2
Author: dependabot[bot] <dependabot[bot]@users.noreply.github.com>
Date:   Wed May 22 21:10:06 2019 +0000

    Merge pull request #76 from MaterializeInc/dependabot/cargo/serde_urlencoded-0.5.5

commit 54ce89f437f3d215c9993bdd61d3f5e9ca39f7e9
Merge: 2319b7281 9246d9317
Author: dependabot[bot] <dependabot[bot]@users.noreply.github.com>
Date:   Wed May 22 21:09:35 2019 +0000

    Merge pull request #84 from MaterializeInc/dependabot/cargo/ryu-0.2.8

commit 9acc77aa6c59759b01c203cb025c83d4a082807c
Author: dependabot[bot] <support@dependabot.com>
Date:   Wed May 22 21:07:11 2019 +0000

    Bump num-integer from 0.1.39 to 0.1.40
    
    Bumps [num-integer](https://github.com/rust-num/num-integer) from 0.1.39 to 0.1.40.
    - [Release notes](https://github.com/rust-num/num-integer/releases)
    - [Changelog](https://github.com/rust-num/num-integer/blob/master/RELEASES.md)
    - [Commits](https://github.com/rust-num/num-integer/compare/num-integer-0.1.39...num-integer-0.1.40)
    
    Signed-off-by: dependabot[bot] <support@dependabot.com>

commit 2319b728100e4b6fe1dee7f1703c5a2bea4f709f
Merge: 58c855978 f4839b1ff
Author: dependabot[bot] <dependabot[bot]@users.noreply.github.com>
Date:   Wed May 22 21:06:19 2019 +0000

    Merge pull request #80 from MaterializeInc/dependabot/cargo/openssl-sys-0.9.47

commit 58c8559784f54d10e32329a7229d40d338e1502e
Merge: e9a884dea 27ceebdf7
Author: dependabot[bot] <dependabot[bot]@users.noreply.github.com>
Date:   Wed May 22 21:05:23 2019 +0000

    Merge pull request #79 from MaterializeInc/dependabot/cargo/block-padding-0.1.4

commit 7ef1ec881591bcdc745702d049bb774475f36165
Author: dependabot[bot] <support@dependabot.com>
Date:   Wed May 22 21:05:05 2019 +0000

    Bump tempfile from 3.0.7 to 3.0.8
    
    Bumps [tempfile](https://github.com/Stebalien/tempfile) from 3.0.7 to 3.0.8.
    - [Release notes](https://github.com/Stebalien/tempfile/releases)
    - [Changelog](https://github.com/Stebalien/tempfile/blob/master/NEWS)
    - [Commits](https://github.com/Stebalien/tempfile/compare/v3.0.7...v3.0.8)
    
    Signed-off-by: dependabot[bot] <support@dependabot.com>

commit 55483e5d27bbb2444afc7421808412442a2a0160
Author: dependabot[bot] <support@dependabot.com>
Date:   Wed May 22 21:05:05 2019 +0000

    Bump serde_urlencoded from 0.5.4 to 0.5.5
    
    Bumps [serde_urlencoded](https://github.com/nox/serde_urlencoded) from 0.5.4 to 0.5.5.
    - [Release notes](https://github.com/nox/serde_urlencoded/releases)
    - [Commits](https://github.com/nox/serde_urlencoded/compare/v0.5.4...v0.5.5)
    
    Signed-off-by: dependabot[bot] <support@dependabot.com>

commit 9246d9317ab0cf9930f0aeab9527c1d8c314c124
Author: dependabot[bot] <support@dependabot.com>
Date:   Wed May 22 21:03:40 2019 +0000

    Bump ryu from 0.2.7 to 0.2.8
    
    Bumps [ryu](https://github.com/dtolnay/ryu) from 0.2.7 to 0.2.8.
    - [Release notes](https://github.com/dtolnay/ryu/releases)
    - [Commits](https://github.com/dtolnay/ryu/compare/0.2.7...0.2.8)
    
    Signed-off-by: dependabot[bot] <support@dependabot.com>

commit e9a884dea1b11eee4a11a5a84e9765e63931810a
Merge: e7513f79c 839af1763
Author: dependabot[bot] <dependabot[bot]@users.noreply.github.com>
Date:   Wed May 22 21:03:37 2019 +0000

    Merge pull request #78 from MaterializeInc/dependabot/cargo/libflate-0.1.22

commit 839af17630ac6443ab4865dd90a168d56b1ebb09
Author: dependabot[bot] <support@dependabot.com>
Date:   Wed May 22 21:03:33 2019 +0000

    Bump libflate from 0.1.21 to 0.1.22
    
    Bumps [libflate](https://github.com/sile/libflate) from 0.1.21 to 0.1.22.
    - [Release notes](https://github.com/sile/libflate/releases)
    - [Commits](https://github.com/sile/libflate/compare/0.1.21...0.1.22)
    
    Signed-off-by: dependabot[bot] <support@dependabot.com>

commit e7513f79cfc6f7cff19b7670124f653d64df3699
Merge: 247fb8cdf abdf5008a
Author: Nikhil Benesch <nikhil.benesch@gmail.com>
Date:   Wed May 22 17:03:18 2019 -0400

    Merge pull request #77 from MaterializeInc/dependabot/cargo/rand_jitter-0.1.4
    
    Bump rand_jitter from 0.1.3 to 0.1.4

commit 247fb8cdf9cdff4b2cddb8ccf5b15f6a9896faaf
Merge: 4a078ae2a daa4020ef
Author: Nikhil Benesch <nikhil.benesch@gmail.com>
Date:   Wed May 22 17:02:01 2019 -0400

    Merge pull request #73 from MaterializeInc/dependabot/cargo/num-traits-0.2.7
    
    Bump num-traits from 0.2.6 to 0.2.7

commit f4839b1ff13c3542574a3fd76bd7fa6ae6b204a1
Author: dependabot[bot] <support@dependabot.com>
Date:   Wed May 22 21:02:00 2019 +0000

    Bump openssl-sys from 0.9.43 to 0.9.47
    
    Bumps [openssl-sys](https://github.com/sfackler/rust-openssl) from 0.9.43 to 0.9.47.
    - [Release notes](https://github.com/sfackler/rust-openssl/releases)
    - [Commits](https://github.com/sfackler/rust-openssl/compare/openssl-sys-v0.9.43...openssl-sys-v0.9.47)
    
    Signed-off-by: dependabot[bot] <support@dependabot.com>

commit 27ceebdf755bc1f3122cf1a462be271fde71a79c
Author: dependabot[bot] <support@dependabot.com>
Date:   Wed May 22 21:01:35 2019 +0000

    Bump block-padding from 0.1.3 to 0.1.4
    
    Bumps [block-padding](https://github.com/RustCrypto/utils) from 0.1.3 to 0.1.4.
    - [Release notes](https://github.com/RustCrypto/utils/releases)
    - [Commits](https://github.com/RustCrypto/utils/compare/block-padding-v0.1.3...block-padding-v0.1.4)
    
    Signed-off-by: dependabot[bot] <support@dependabot.com>

commit 4a078ae2a0e3811118d6951c54cafe8ca2125e66
Merge: 476f1b421 b5c3a5c93
Author: Nikhil Benesch <nikhil.benesch@gmail.com>
Date:   Wed May 22 17:01:35 2019 -0400

    Merge pull request #74 from MaterializeInc/dependabot/cargo/openssl-0.10.23
    
    Bump openssl from 0.10.20 to 0.10.23

commit 476f1b421538a045cbef35175e102db618561c8f
Merge: 34ff36ada 1dd67d096
Author: Nikhil Benesch <nikhil.benesch@gmail.com>
Date:   Wed May 22 17:01:29 2019 -0400

    Merge pull request #72 from MaterializeInc/dependabot/cargo/native-tls-0.2.3
    
    Bump native-tls from 0.2.2 to 0.2.3

commit 34ff36ada9a1efdd756542a3582478db3de24816
Merge: 1ec255c90 f0cdcf6d8
Author: Nikhil Benesch <nikhil.benesch@gmail.com>
Date:   Wed May 22 17:01:23 2019 -0400

    Merge pull request #71 from MaterializeInc/dependabot/cargo/mio-0.6.17
    
    Bump mio from 0.6.16 to 0.6.17

commit 1ec255c904583059354981b69a2d291f8348275b
Merge: 24679fa9f cb8ef3233
Author: Nikhil Benesch <nikhil.benesch@gmail.com>
Date:   Wed May 22 17:01:15 2019 -0400

    Merge pull request #70 from MaterializeInc/dependabot/cargo/clap-2.33.0
    
    Bump clap from 2.32.0 to 2.33.0

commit 24679fa9f8d38c71b9b6ff8878b91763b9dbe65a
Merge: b966fd6f0 59f932ca3
Author: Nikhil Benesch <nikhil.benesch@gmail.com>
Date:   Wed May 22 17:01:07 2019 -0400

    Merge pull request #69 from MaterializeInc/dependabot/cargo/dtoa-0.4.4
    
    Bump dtoa from 0.4.3 to 0.4.4

commit b966fd6f0adbf8d507d7ea12f429d212167cdf62
Merge: adf0d21fc d7b0f7615
Author: Nikhil Benesch <nikhil.benesch@gmail.com>
Date:   Wed May 22 17:00:59 2019 -0400

    Merge pull request #68 from MaterializeInc/dependabot/cargo/redox_syscall-0.1.54
    
    Bump redox_syscall from 0.1.51 to 0.1.54

commit abdf5008ac8dec0bd37f689cd2432e089e3b5fe7
Author: dependabot[bot] <support@dependabot.com>
Date:   Wed May 22 20:55:50 2019 +0000

    Bump rand_jitter from 0.1.3 to 0.1.4
    
    Bumps [rand_jitter](https://github.com/rust-random/rand) from 0.1.3 to 0.1.4.
    - [Release notes](https://github.com/rust-random/rand/releases)
    - [Changelog](https://github.com/rust-random/rand/blob/master/CHANGELOG.md)
    - [Commits](https://github.com/rust-random/rand/compare/rand_jitter-0.1.3...0.1.4)
    
    Signed-off-by: dependabot[bot] <support@dependabot.com>

commit b5c3a5c9388ef7df1be220fabaca5952445894d5
Author: dependabot[bot] <support@dependabot.com>
Date:   Wed May 22 20:54:38 2019 +0000

    Bump openssl from 0.10.20 to 0.10.23
    
    Bumps [openssl](https://github.com/sfackler/rust-openssl) from 0.10.20 to 0.10.23.
    - [Release notes](https://github.com/sfackler/rust-openssl/releases)
    - [Commits](https://github.com/sfackler/rust-openssl/compare/openssl-v0.10.20...openssl-v0.10.23)
    
    Signed-off-by: dependabot[bot] <support@dependabot.com>

commit daa4020ef9fa95c8ebd640e9d3db936a75fa4247
Author: dependabot[bot] <support@dependabot.com>
Date:   Wed May 22 20:54:11 2019 +0000

    Bump num-traits from 0.2.6 to 0.2.7
    
    Bumps [num-traits](https://github.com/rust-num/num-traits) from 0.2.6 to 0.2.7.
    - [Release notes](https://github.com/rust-num/num-traits/releases)
    - [Changelog](https://github.com/rust-num/num-traits/blob/master/RELEASES.md)
    - [Commits](https://github.com/rust-num/num-traits/compare/num-traits-0.2.6...num-traits-0.2.7)
    
    Signed-off-by: dependabot[bot] <support@dependabot.com>

commit 1dd67d09670864b4ae90b3a1fa0c99be7536b4c4
Author: dependabot[bot] <support@dependabot.com>
Date:   Wed May 22 20:53:43 2019 +0000

    Bump native-tls from 0.2.2 to 0.2.3
    
    Bumps [native-tls](https://github.com/sfackler/rust-native-tls) from 0.2.2 to 0.2.3.
    - [Release notes](https://github.com/sfackler/rust-native-tls/releases)
    - [Changelog](https://github.com/sfackler/rust-native-tls/blob/master/CHANGELOG.md)
    - [Commits](https://github.com/sfackler/rust-native-tls/compare/v0.2.2...v0.2.3)
    
    Signed-off-by: dependabot[bot] <support@dependabot.com>

commit f0cdcf6d87615046f6afe759dd5903d89ee1b155
Author: dependabot[bot] <support@dependabot.com>
Date:   Wed May 22 20:53:19 2019 +0000

    Bump mio from 0.6.16 to 0.6.17
    
    Bumps [mio](https://github.com/carllerche/mio) from 0.6.16 to 0.6.17.
    - [Release notes](https://github.com/carllerche/mio/releases)
    - [Changelog](https://github.com/tokio-rs/mio/blob/v0.6.17/CHANGELOG.md)
    - [Commits](https://github.com/carllerche/mio/compare/v0.6.16...v0.6.17)
    
    Signed-off-by: dependabot[bot] <support@dependabot.com>

commit cb8ef32332977004bbe1c7027284703880e7c74c
Author: dependabot[bot] <support@dependabot.com>
Date:   Wed May 22 20:52:50 2019 +0000

    Bump clap from 2.32.0 to 2.33.0
    
    Bumps [clap](https://github.com/clap-rs/clap) from 2.32.0 to 2.33.0.
    - [Release notes](https://github.com/clap-rs/clap/releases)
    - [Changelog](https://github.com/clap-rs/clap/blob/master/CHANGELOG.md)
    - [Commits](https://github.com/clap-rs/clap/commits)
    
    Signed-off-by: dependabot[bot] <support@dependabot.com>

commit 59f932ca34e385ad69e57aed830cffb36534260e
Author: dependabot[bot] <support@dependabot.com>
Date:   Wed May 22 20:52:26 2019 +0000

    Bump dtoa from 0.4.3 to 0.4.4
    
    Bumps [dtoa](https://github.com/dtolnay/dtoa) from 0.4.3 to 0.4.4.
    - [Release notes](https://github.com/dtolnay/dtoa/releases)
    - [Commits](https://github.com/dtolnay/dtoa/compare/0.4.3...0.4.4)
    
    Signed-off-by: dependabot[bot] <support@dependabot.com>

commit d7b0f761554538105ce99b6bd0b47c5e69bbb5d2
Author: dependabot[bot] <support@dependabot.com>
Date:   Wed May 22 20:52:01 2019 +0000

    Bump redox_syscall from 0.1.51 to 0.1.54
    
    Bumps redox_syscall from 0.1.51 to 0.1.54.
    
    Signed-off-by: dependabot[bot] <support@dependabot.com>

commit adf0d21fcbb71e9c236185774c5abf25ceba6f7b
Merge: 4935eefb2 4377d1d25
Author: dependabot[bot] <dependabot[bot]@users.noreply.github.com>
Date:   Wed May 22 20:42:41 2019 +0000

    Merge pull request #65 from MaterializeInc/dependabot/cargo/serde_derive-1.0.91

commit 4377d1d255a6a5fd99506042cce24f0b0bc7f1ef
Author: dependabot[bot] <support@dependabot.com>
Date:   Wed May 22 20:39:24 2019 +0000

    Bump serde_derive from 1.0.89 to 1.0.91
    
    Bumps [serde_derive](https://github.com/serde-rs/serde) from 1.0.89 to 1.0.91.
    - [Release notes](https://github.com/serde-rs/serde/releases)
    - [Commits](https://github.com/serde-rs/serde/compare/v1.0.89...v1.0.91)
    
    Signed-off-by: dependabot[bot] <support@dependabot.com>

commit 4935eefb2d1c29c7a9a2edfa098e5ff4bb5368b8
Merge: 93a4517a0 b2aea24b8
Author: Nikhil Benesch <nikhil.benesch@gmail.com>
Date:   Wed May 22 16:37:30 2019 -0400

    Merge pull request #67 from MaterializeInc/dependabot/cargo/reqwest-0.9.17
    
    Bump reqwest from 0.9.15 to 0.9.17

commit b2aea24b8e4d4193f1b11fb429a5598c09c6b675
Author: dependabot[bot] <support@dependabot.com>
Date:   Wed May 22 20:33:07 2019 +0000

    Bump reqwest from 0.9.15 to 0.9.17
    
    Bumps [reqwest](https://github.com/seanmonstar/reqwest) from 0.9.15 to 0.9.17.
    - [Release notes](https://github.com/seanmonstar/reqwest/releases)
    - [Changelog](https://github.com/seanmonstar/reqwest/blob/master/CHANGELOG.md)
    - [Commits](https://github.com/seanmonstar/reqwest/compare/v0.9.15...v0.9.17)
    
    Signed-off-by: dependabot[bot] <support@dependabot.com>

commit 93a4517a0faf1c8aac6415b64fb3db2c3a4b6696
Merge: 7b79efe79 7eaa16dcf
Author: Nikhil Benesch <nikhil.benesch@gmail.com>
Date:   Wed May 22 16:30:47 2019 -0400

    Merge pull request #66 from MaterializeInc/dependabot/cargo/bincode-1.1.4
    
    Bump bincode from 1.1.2 to 1.1.4

commit 7b79efe79e414e8cc9183b7d32227479871b9694
Merge: 962482ae3 ca1b0e9a4
Author: Nikhil Benesch <nikhil.benesch@gmail.com>
Date:   Wed May 22 16:30:30 2019 -0400

    Merge pull request #58 from MaterializeInc/dependabot/cargo/hyper-0.12.29
    
    Bump hyper from 0.12.25 to 0.12.29

commit 962482ae3926c388c88d7db33f977bef1a4c10f7
Merge: 6eb7fdbc4 a927ee5af
Author: Nikhil Benesch <nikhil.benesch@gmail.com>
Date:   Wed May 22 16:29:29 2019 -0400

    Merge pull request #64 from MaterializeInc/dependabot/cargo/serde-1.0.91
    
    Bump serde from 1.0.89 to 1.0.91

commit 7eaa16dcf59022d0dd02e49a3c0695f7eaf1212e
Author: dependabot[bot] <support@dependabot.com>
Date:   Wed May 22 20:26:15 2019 +0000

    Bump bincode from 1.1.2 to 1.1.4
    
    Bumps [bincode](https://github.com/TyOverby/bincode) from 1.1.2 to 1.1.4.
    - [Release notes](https://github.com/TyOverby/bincode/releases)
    - [Commits](https://github.com/TyOverby/bincode/compare/v1.1.2...v1.1.4)
    
    Signed-off-by: dependabot[bot] <support@dependabot.com>

commit a927ee5af496cbae101b52c848b6337eeb0d307d
Author: dependabot[bot] <support@dependabot.com>
Date:   Wed May 22 20:25:27 2019 +0000

    Bump serde from 1.0.89 to 1.0.91
    
    Bumps [serde](https://github.com/serde-rs/serde) from 1.0.89 to 1.0.91.
    - [Release notes](https://github.com/serde-rs/serde/releases)
    - [Commits](https://github.com/serde-rs/serde/compare/v1.0.89...v1.0.91)
    
    Signed-off-by: dependabot[bot] <support@dependabot.com>

commit ca1b0e9a4d14f5a0a03adc667245b964d46dbb99
Author: dependabot[bot] <support@dependabot.com>
Date:   Wed May 22 20:23:45 2019 +0000

    Bump hyper from 0.12.25 to 0.12.29
    
    Bumps [hyper](https://github.com/hyperium/hyper) from 0.12.25 to 0.12.29.
    - [Release notes](https://github.com/hyperium/hyper/releases)
    - [Changelog](https://github.com/hyperium/hyper/blob/master/CHANGELOG.md)
    - [Commits](https://github.com/hyperium/hyper/compare/v0.12.25...v0.12.29)
    
    Signed-off-by: dependabot[bot] <support@dependabot.com>

commit 6eb7fdbc4bb59836cc7e620f644fcc6e99c54dad
Merge: b611dcc24 74fdf0b25
Author: Nikhil Benesch <nikhil.benesch@gmail.com>
Date:   Wed May 22 16:21:13 2019 -0400

    Merge pull request #61 from MaterializeInc/dependabot/cargo/differential-dataflow-f7c202d
    
    Bump differential-dataflow from `902f97e` to `f7c202d`

commit b611dcc24e5417e9d634222f738e5a4161aebe98
Merge: 0033b2724 f2fc8f810
Author: Nikhil Benesch <nikhil.benesch@gmail.com>
Date:   Wed May 22 16:20:40 2019 -0400

    Merge pull request #60 from MaterializeInc/dependabot/cargo/backtrace-0.3.20
    
    Bump backtrace from 0.3.14 to 0.3.20

commit 0033b2724fa0f41a68c6ea15675e6857bb1aee41
Merge: 7f453c5d4 e8b52b6cf
Author: Nikhil Benesch <nikhil.benesch@gmail.com>
Date:   Wed May 22 16:20:22 2019 -0400

    Merge pull request #62 from MaterializeInc/dependabot/cargo/uuid-0.7.4
    
    Bump uuid from 0.7.2 to 0.7.4

commit 7f453c5d4928130db38e74633c0ef2d22683482f
Merge: a46b7d3fb f226740c2
Author: Nikhil Benesch <nikhil.benesch@gmail.com>
Date:   Wed May 22 16:20:11 2019 -0400

    Merge pull request #63 from MaterializeInc/dependabot/cargo/regex-1.1.6
    
    Bump regex from 1.1.2 to 1.1.6

commit a46b7d3fbe430ebb76b80fb8bdf1d7736699efbf
Merge: 7570f3a4a 41fbe1acb
Author: Nikhil Benesch <nikhil.benesch@gmail.com>
Date:   Wed May 22 16:19:40 2019 -0400

    Merge pull request #59 from MaterializeInc/dependabot/cargo/getopts-0.2.19
    
    Bump getopts from 0.2.18 to 0.2.19

commit f226740c2a16022dcb6be500a87aba9c6bbc8866
Author: dependabot[bot] <support@dependabot.com>
Date:   Wed May 22 20:04:24 2019 +0000

    Bump regex from 1.1.2 to 1.1.6
    
    Bumps [regex](https://github.com/rust-lang/regex) from 1.1.2 to 1.1.6.
    - [Release notes](https://github.com/rust-lang/regex/releases)
    - [Changelog](https://github.com/rust-lang/regex/blob/master/CHANGELOG.md)
    - [Commits](https://github.com/rust-lang/regex/compare/1.1.2...1.1.6)
    
    Signed-off-by: dependabot[bot] <support@dependabot.com>

commit e8b52b6cfe48249998ef3481f4553c04472b9427
Author: dependabot[bot] <support@dependabot.com>
Date:   Wed May 22 20:04:18 2019 +0000

    Bump uuid from 0.7.2 to 0.7.4
    
    Bumps [uuid](https://github.com/uuid-rs/uuid) from 0.7.2 to 0.7.4.
    - [Release notes](https://github.com/uuid-rs/uuid/releases)
    - [Commits](https://github.com/uuid-rs/uuid/compare/0.7.2...0.7.4)
    
    Signed-off-by: dependabot[bot] <support@dependabot.com>

commit 7570f3a4a3526a33eb87677074dabca1b8f1c6eb
Merge: ce341f023 22989d63a
Author: Nikhil Benesch <nikhil.benesch@gmail.com>
Date:   Wed May 22 15:54:11 2019 -0400

    Merge pull request #57 from MaterializeInc/dependabot/cargo/predicates-1.0.1
    
    Bump predicates from 1.0.0 to 1.0.1

commit ce341f023d030d63aa70f1bbc4fc512a12694b70
Merge: 3a2c13092 783ffd5dc
Author: Nikhil Benesch <nikhil.benesch@gmail.com>
Date:   Wed May 22 15:53:42 2019 -0400

    Merge pull request #56 from MaterializeInc/dependabot/cargo/tokio-0.1.20
    
    Bump tokio from 0.1.17 to 0.1.20

commit 74fdf0b2526af0705fd4d3f8601fe284d7301df9
Author: dependabot[bot] <support@dependabot.com>
Date:   Wed May 22 18:56:35 2019 +0000

    Bump differential-dataflow from `902f97e` to `f7c202d`
    
    Bumps [differential-dataflow](https://github.com/TimelyDataflow/differential-dataflow) from `902f97e` to `f7c202d`.
    - [Release notes](https://github.com/TimelyDataflow/differential-dataflow/releases)
    - [Commits](https://github.com/TimelyDataflow/differential-dataflow/compare/902f97ed67254197ba18050e5138503f605ca126...f7c202d968b117c1f6b6015c411b7f8cd0673d33)
    
    Signed-off-by: dependabot[bot] <support@dependabot.com>

commit f2fc8f810a252c5391d3e546a7d0840c41261c5f
Author: dependabot[bot] <support@dependabot.com>
Date:   Wed May 22 18:56:05 2019 +0000

    Bump backtrace from 0.3.14 to 0.3.20
    
    Bumps [backtrace](https://github.com/alexcrichton/backtrace-rs) from 0.3.14 to 0.3.20.
    - [Release notes](https://github.com/alexcrichton/backtrace-rs/releases)
    - [Commits](https://github.com/alexcrichton/backtrace-rs/compare/0.3.14...0.3.20)
    
    Signed-off-by: dependabot[bot] <support@dependabot.com>

commit 41fbe1acbe44433bb6b9dad7fb9792d595f8003e
Author: dependabot[bot] <support@dependabot.com>
Date:   Wed May 22 18:55:43 2019 +0000

    Bump getopts from 0.2.18 to 0.2.19
    
    Bumps [getopts](https://github.com/rust-lang/getopts) from 0.2.18 to 0.2.19.
    - [Release notes](https://github.com/rust-lang/getopts/releases)
    - [Commits](https://github.com/rust-lang/getopts/compare/v0.2.18...v0.2.19)
    
    Signed-off-by: dependabot[bot] <support@dependabot.com>

commit 22989d63a2a2e88657c5dda971a9b7b0bd6a9304
Author: dependabot[bot] <support@dependabot.com>
Date:   Wed May 22 18:54:58 2019 +0000

    Bump predicates from 1.0.0 to 1.0.1
    
    Bumps [predicates](https://github.com/assert-rs/predicates-rs) from 1.0.0 to 1.0.1.
    - [Release notes](https://github.com/assert-rs/predicates-rs/releases)
    - [Changelog](https://github.com/assert-rs/predicates-rs/blob/v1.0.1/CHANGELOG.md)
    - [Commits](https://github.com/assert-rs/predicates-rs/compare/predicates-core-v1.0.0...v1.0.1)
    
    Signed-off-by: dependabot[bot] <support@dependabot.com>

commit 783ffd5dc035bddf449d9937eb231613b3349aed
Author: dependabot[bot] <support@dependabot.com>
Date:   Wed May 22 18:54:34 2019 +0000

    Bump tokio from 0.1.17 to 0.1.20
    
    Bumps [tokio](https://github.com/tokio-rs/tokio) from 0.1.17 to 0.1.20.
    - [Release notes](https://github.com/tokio-rs/tokio/releases)
    - [Commits](https://github.com/tokio-rs/tokio/compare/tokio-0.1.17...tokio-0.1.20)
    
    Signed-off-by: dependabot[bot] <support@dependabot.com>

commit 3a2c130921989465c37c1b499a557663b7d1fd04
Author: Nikhil Benesch <nikhil.benesch@gmail.com>
Date:   Wed May 22 14:38:17 2019 -0400

    *: bump sqlparser dep (again)

commit 74f7c77ac2dd6adee4ce5183ae86b7dbfe95ac92
Author: Jamie Brandon <jamie@scattered-thoughts.net>
Date:   Wed May 22 18:06:47 2019 +0100

    Just copy Cargo.lock from fuzz/..

commit 7452f9d280b09e0d0f0c27107f1fa61e9d084704
Author: Jamie Brandon <jamie@scattered-thoughts.net>
Date:   Wed May 22 18:04:09 2019 +0100

    Clippy

commit 1c5214b515399359e59333757547526d2262d6e6
Author: Jamie Brandon <jamie@scattered-thoughts.net>
Date:   Wed May 22 18:03:58 2019 +0100

    Update fuzz/Cargo.lock

commit bf3b5a020768027fd6d6f4a60e648e57e4f95769
Author: Jamie Brandon <jamie@scattered-thoughts.net>
Date:   Wed May 22 18:00:33 2019 +0100

    Don't descend into subqueries when looking for aggregates

commit 950d6bd8068c874ec2ad75bd27ba9d54ff26f8c0
Author: Jamie Brandon <jamie@scattered-thoughts.net>
Date:   Wed May 22 17:42:00 2019 +0100

    Recognize repeated GROUP BY exprs even when they have different surface syntax
    
    eg select a from foo group by a, foo.a

commit 864233f7fe5bf27c8e88c2b06af72e1279065b61
Author: Jamie Brandon <jamie@scattered-thoughts.net>
Date:   Wed May 22 17:41:47 2019 +0100

    Fix tracking of nested aggregates

commit 853d599213e6b3363ea244e4741a731cb968255a
Author: Jamie Brandon <jamie@scattered-thoughts.net>
Date:   Wed May 22 17:30:45 2019 +0100

    Start categorizing failures into unsupported features vs bugs

commit e95af4d9545791d727d78284c6b73fcb93ecc163
Author: Jamie Brandon <jamie@scattered-thoughts.net>
Date:   Wed May 22 15:57:33 2019 +0100

    Support eg COUNT(DISTINCT x)

commit 7c96410f7f068a697e3d34e872b27f48a2d2799b
Author: Jamie Brandon <jamie@scattered-thoughts.net>
Date:   Wed May 22 15:46:14 2019 +0100

    Bump sqlparser version

commit fcf2a269ddc2fffb8176ec52b02104369d3c2c68
Author: Jamie Brandon <jamie@scattered-thoughts.net>
Date:   Wed May 22 14:20:48 2019 +0100

    Everything is comparable with NULL

commit 04f9d6737882e06dc6adfb887dfbf8dfde4eba7a
Author: Jamie Brandon <jamie@scattered-thoughts.net>
Date:   Wed May 22 14:10:46 2019 +0100

    Bump sqlparser version

commit 8d7db805365cf0ee84a121f0ab32c8e128af9e7e
Author: Nikhil Benesch <nikhil.benesch@gmail.com>
Date:   Wed May 22 00:21:15 2019 -0400

    mtrlz/sql: don't allow dependencies on data sinks
    
    Data sinks don't produce any records, so they cannot be depended upon by
    other dataflows. Add a test for this situation, and fix the panic it
    reveals.

commit de5328be9da73ebe3a105a488caeb497bac2ff10
Author: Nikhil Benesch <nikhil.benesch@gmail.com>
Date:   Wed May 22 00:07:44 2019 -0400

    test/dependencies: add additional CREATE/DROP tests

commit 64b61fc46916aecbb09ffc2a20e41226b1b6419d
Author: Nikhil Benesch <nikhil.benesch@gmail.com>
Date:   Tue May 21 18:41:54 2019 -0400

    mtrlz/dataflow: rudimentary support for CREATE DATA SINK
    
    Data sinks send the stream of updates from a dataflow to an external
    system... or they will, at least. At the moment data sinks just spew
    output to the console. I'm upstreaming this patch even though it's
    half-baked because it causes some rather invasive renames that I'd
    rather not rebase.

commit fa0432bd7e492b9db506e43431c5f6040adfeaca
Author: Jamie Brandon <jamie@scattered-thoughts.net>
Date:   Tue May 21 22:50:16 2019 +0100

    SUM should return null for empty groups, not 0
    
    (All the other non-count aggregates seem to return null correctly already)

commit bd5d8253052ba2780378a396fa07b4656df71f06
Author: Nikhil Benesch <nikhil.benesch@gmail.com>
Date:   Tue May 21 16:38:46 2019 -0400

    mtrlz/sql: upgrade SQL parser
    
    This brings support for arbitrary WITH ... key-value options, which will
    reduce the burden for adding timestamp support to CREATE DATA SOURCE. It
    also brings support for CREATE DATA SINK, which will be used shortly to
    publish changes to Kafka.

commit a8c3f4e880a5b4e1988ae75a2f0c04c820974912
Author: Jamie Brandon <jamie@scattered-thoughts.net>
Date:   Tue May 21 21:36:19 2019 +0100

    Wait even longer

commit 89e72629ef534be831ec109e9bee94bbee826740
Author: Jamie Brandon <jamie@scattered-thoughts.net>
Date:   Tue May 21 21:24:46 2019 +0100

    Handle yet more tricky edge cases in aggregates.
    
    Fixes https://github.com/MaterializeInc/materialize/issues/27

commit 34c29ef7b349c8ea175effbd8b25f33bdbb2762e
Author: Jamie Brandon <jamie@scattered-thoughts.net>
Date:   Tue May 21 21:14:40 2019 +0100

    COUNT(*) counts nulls too

commit 2438a243b95a6d39db0803a62e114ee1e369e673
Author: Jamie Brandon <jamie@scattered-thoughts.net>
Date:   Tue May 21 20:03:10 2019 +0100

    Add a 10ms sleep as a temporary workaround for https://github.com/MaterializeInc/materialize/issues/24

commit 7e81f1ca2586a9988541650c77f0d7e5b2d4a5fc
Author: Jamie Brandon <jamie@scattered-thoughts.net>
Date:   Tue May 21 19:52:24 2019 +0100

    Fix an edge case in slt printing

commit db5872105143ac73c677db72e003debefd05a7c5
Author: Jamie Brandon <jamie@scattered-thoughts.net>
Date:   Tue May 21 18:42:24 2019 +0100

    Handle COUNT(*)

commit f4c75e0feba754fb676f6c2f242697c0220bfceb
Author: Jamie Brandon <jamie@scattered-thoughts.net>
Date:   Tue May 21 18:27:34 2019 +0100

    Handle some tricky edge cases in `SELECT * FROM .. GROUP BY ...`
    
    Fixes #53

commit 7f7f1e9d39504f94efdfc2f341ce38ec991e975b
Merge: fd20316ad e86a6228d
Author: Nikhil Benesch <nikhil.benesch@gmail.com>
Date:   Mon May 20 17:34:15 2019 -0400

    Merge pull request #54 from MaterializeInc/20190520-url-addr
    
    ci: standard on HOST vs. ADDR vs. URL

commit e86a6228d6775c4372f26ba404c9be9565cc84c4
Author: Nikhil Benesch <nikhil.benesch@gmail.com>
Date:   Mon May 20 17:28:04 2019 -0400

    ci: standard on HOST vs. ADDR vs. URL
    
    A "URL" now means something with a scheme, like http://foo.bar,
    where as an "ADDR" means just a host and port. Use that language
    consistently throughout the CI scripts, command line arguments, and
    variable names. Then fix CI, now that everything is less confusing.

commit fd20316ad955f8af43b65180bccdcb25888080e9
Author: Nikhil Benesch <nikhil.benesch@gmail.com>
Date:   Mon May 20 16:37:47 2019 -0400

    testdrive: add integration tests for schema registry

commit 3bb014da531e11036dc1324d80ba567f6da8b8ae
Author: Jamie Brandon <jamie@scattered-thoughts.net>
Date:   Mon May 20 13:36:25 2019 +0100

    Run GROUP BY even when there are no aggregates.
    
    Fixes #52

commit 15535fa043027a961efb8f949fe173ec21f15cd9
Author: Jamie Brandon <jamie@scattered-thoughts.net>
Date:   Mon May 20 13:19:58 2019 +0100

    fuzz/Cargo.lock updated by someone else's changes?

commit 1ba5265e11e127088ec1fe297db63ca5c618b1b9
Author: Jamie Brandon <jamie@scattered-thoughts.net>
Date:   Mon May 20 13:14:04 2019 +0100

    Only worker 0 should insert data into the dual table
    
    Fixes #35

commit 4e6cdb72b7fd572a86a31dda486513f5fa162586
Author: Nikhil Benesch <nikhil.benesch@gmail.com>
Date:   Fri May 17 10:19:03 2019 -0400

    ci: document memcached setup

commit 2d1277c14ea6fa6c627643147126b3c890fb7241
Merge: 89793abc5 bbb808d67
Author: Nikhil Benesch <nikhil.benesch@gmail.com>
Date:   Fri May 17 10:14:06 2019 -0400

    Merge pull request #50 from MaterializeInc/20190517-sccache-memcached
    
    ci: cache build artifacts in memcached

commit bbb808d67a242524e59765d541535c2ef1f00609
Author: Nikhil Benesch <nikhil.benesch@gmail.com>
Date:   Fri May 17 00:54:59 2019 -0400

    ci: cache build artifacts in memcached

commit 89793abc5e0c217f09954dd725033b4ee7d55bb2
Author: Nikhil Benesch <nikhil.benesch@gmail.com>
Date:   Thu May 16 19:42:13 2019 -0400

    mtrlz/{dataflow,sql}: support reading schemas from schema registry
    
    Support CREATE DATA SOURCE ... USING SCHEMA REGISTRY 'http://...', so
    that users do not need to manually specify their Avro schemas when using
    a Confluent-compatible schema registry.

commit df76edd411dbed7001c7324df751d8a0f3fd18d8
Author: Jamie Brandon <jamie@scattered-thoughts.net>
Date:   Thu May 16 13:08:52 2019 +0100

    Short-term fix for integer division by 0 - return null like sqlite does
    
    Fixes #48, at least for now

commit 7acfda00e03e56469868365e35c5d16e5ed7d463
Author: Nikhil Benesch <nikhil.benesch@gmail.com>
Date:   Wed May 15 15:00:32 2019 -0400

    misc: add a "lite" pre-push hook

commit ec75965ac284f4e7324c20d020de16cbaf9b7f29
Author: Jamie Brandon <jamie@scattered-thoughts.net>
Date:   Wed May 15 17:17:25 2019 +0100

    Build a fuzzer corpus from a random sample of slt queries

commit 2bc3d8e18d093cdadd42c40d45b435ed804866c6
Author: Jamie Brandon <jamie@scattered-thoughts.net>
Date:   Wed May 15 16:32:13 2019 +0100

    Add a separate script for sqllogictest, since it's not in the ci-test set

commit 2a11a40219fe7cc4e89979014417381768680d30
Author: Jamie Brandon <jamie@scattered-thoughts.net>
Date:   Wed May 15 16:19:13 2019 +0100

    Clippy

commit 380818eee178e268629fcd2bc8120b95edabd696
Author: Jamie Brandon <jamie@scattered-thoughts.net>
Date:   Wed May 15 16:13:54 2019 +0100

    Include useful info in test outcomes.
    
    Also remove Outcome::Unsupported, since we can get the same info by
    grepping through the output now.

commit 6bcf97cf17e49a28aff80c2225ee8fa6bcce3de4
Author: Jamie Brandon <jamie@scattered-thoughts.net>
Date:   Wed May 15 14:39:15 2019 +0100

    Bail on tests once we hit an error in a statement.
    
    Otherwise everything downstream is likely to fail for confusing reasons.

commit ff61634a82204914448c0123f817b6a0df026455
Author: Jamie Brandon <jamie@scattered-thoughts.net>
Date:   Wed May 15 14:38:45 2019 +0100

    Follow postgresql commands only in sqllogictest

commit 209d866ae793a42f3f00077358cbf6169b285880
Author: Jamie Brandon <jamie@scattered-thoughts.net>
Date:   Wed May 15 14:08:44 2019 +0100

    Make sure we don't forget to set types for future aggregates

commit 4f42fae25ed487eda53ce8e142aecf69440fad4a
Author: Jamie Brandon <jamie@scattered-thoughts.net>
Date:   Wed May 15 14:07:10 2019 +0100

    Avg always returns Float64
    
    Fixes #42

commit 155f168385f5718e44a94ecfdde30238b1f33bf0
Author: Jamie Brandon <jamie@scattered-thoughts.net>
Date:   Wed May 15 14:03:46 2019 +0100

    Count always returns Int64
    
    Fixes #44

commit 11cc5e18f75ef803fb4601ffcd2d2f91e7627770
Author: Jamie Brandon <jamie@scattered-thoughts.net>
Date:   Wed May 15 14:03:20 2019 +0100

    Just check fuzz instead of building it

commit f83db553dfa8347f5200b5ec684c9818b1fd849d
Author: Jamie Brandon <jamie@scattered-thoughts.net>
Date:   Wed May 15 13:03:29 2019 +0100

    Update differential-dataflow, may contain a fix for #45

commit 7254f449394666dc8f9fdd49a2488da14924f464
Author: Jamie Brandon <jamie@scattered-thoughts.net>
Date:   Wed May 15 12:23:44 2019 +0100

    Update sqlparser

commit 0393137d1ea82944045a6f92b06fc45edf00a47b
Author: Jamie Brandon <jamie@scattered-thoughts.net>
Date:   Wed May 15 11:55:13 2019 +0100

    Allow reading sqllogictest input from stdin, for easy test repro

commit 1402173e560abd68ed9834e1455f279a780448af
Author: Jamie Brandon <jamie@scattered-thoughts.net>
Date:   Wed May 15 11:34:32 2019 +0100

    Drop errors during State shutdown rather than risk panic-during-drop

commit bd9436928ef1aea226adcb6fe05d4bc1b7bb24db
Author: Nikhil Benesch <nikhil.benesch@gmail.com>
Date:   Tue May 14 18:54:57 2019 -0400

    bin/doc: only use the nightly toolchain
    
    Given that we're dependent on the nightly toolchain for `cargo doc`, we
    might as well use it for `cargo metadata` too, to avoid needing to
    download two toolchains in CI.

commit dadd5f9f0be48aa141c5d24e298fc2e9bd0bf0a4
Author: Nikhil Benesch <nikhil.benesch@gmail.com>
Date:   Thu May 9 16:30:16 2019 -0400

    ccsr: new schema registry API client

commit 6adc86f59ad1a40be8066ce04311924fe692de3b
Author: Nikhil Benesch <nikhil.benesch@gmail.com>
Date:   Tue May 14 18:20:17 2019 -0400

    ci: update infrastructure docs
    
    CI now runs on an elastic EC2 deployment. Update the docs to reflect
    that.

commit 196c20d422065093e31bdc8a6b656d520a96d905
Author: Jamie Brandon <jamie@scattered-thoughts.net>
Date:   Tue May 14 21:55:12 2019 +0100

    Only deregister insert sender from worker 0
    
    Otherwise we can have a race condition where worker 1 gets ahead of
    worker 0, and deregisters the sender before worker 0 reaches an
    earlier insert command

commit 5b10a612e41e2b5e3c6224a245189d8bf039de30
Author: Nikhil Benesch <nikhil.benesch@gmail.com>
Date:   Tue May 14 16:38:56 2019 -0400

    *: fix ci lints

commit 3b283015c2a3bfc637a0772956b6e3335565b394
Author: Jamie Brandon <jamie@scattered-thoughts.net>
Date:   Tue May 14 21:14:52 2019 +0100

    Predicates can eval to null

commit 9fa0566119cdd9485a9a2458597416f133c33bfe
Author: Jamie Brandon <jamie@scattered-thoughts.net>
Date:   Tue May 14 21:08:35 2019 +0100

    Use AFLs SQL dictionary for the fuzzer

commit 1174f96c9a2f5186bf86ff8d05e1ad02a0bcb0fb
Author: Jamie Brandon <jamie@scattered-thoughts.net>
Date:   Tue May 14 20:24:00 2019 +0100

    Typo

commit 4ba69f56bb9964729a6aaed34c69faaead2c6869
Author: Jamie Brandon <jamie@scattered-thoughts.net>
Date:   Tue May 14 20:21:30 2019 +0100

    Don't run fuzz jobs in parallel now that there are 3 timely workers per job

commit 65f266126b97251cead2516d860c521c65250c66
Author: Jamie Brandon <jamie@scattered-thoughts.net>
Date:   Tue May 14 20:19:23 2019 +0100

    Compile fuzzer on ci to make sure it doesn't get broken again

commit 277cea747dcd9e620567d7040caebbd8c4be0ed1
Author: Jamie Brandon <jamie@scattered-thoughts.net>
Date:   Tue May 14 20:18:26 2019 +0100

    Update fuzzer - it died to code churn

commit 7aca7280da29d64da44f36de3af2cb37b902191e
Author: Jamie Brandon <jamie@scattered-thoughts.net>
Date:   Tue May 14 18:47:55 2019 +0100

    Yay bash

commit c13f25894aae1bc519ae4232e74f2d63a00921bb
Author: Jamie Brandon <jamie@scattered-thoughts.net>
Date:   Tue May 14 18:45:27 2019 +0100

    Build with debug symbols

commit c4aad1cefe08d4279334962a73dceb0a1eafa24c
Author: Jamie Brandon <jamie@scattered-thoughts.net>
Date:   Tue May 14 18:37:29 2019 +0100

    sqllogictest: check whether output is correct

commit 2d287c610b7e54eae62d741fa34ce14c058c1cfb
Author: Jamie Brandon <jamie@scattered-thoughts.net>
Date:   Tue May 14 18:34:23 2019 +0100

    Disable sqllogictest until we can fix the memory usage

commit 9f658c38c3d2df951816623bd6ddb3f04b9b1fc9
Author: Jamie Brandon <jamie@scattered-thoughts.net>
Date:   Tue May 14 18:30:23 2019 +0100

    Don't reject INSERT with no column names

commit 7ff1746f790166a9012eac356aa20e9c6cd9b3f4
Author: Jamie Brandon <jamie@scattered-thoughts.net>
Date:   Tue May 14 17:38:38 2019 +0100

    Handle nulls in functions

commit 0af9b074fc119df7922ab8c84147afe0381079a6
Author: Jamie Brandon <jamie@scattered-thoughts.net>
Date:   Tue May 14 17:03:10 2019 +0100

    Wait until peek has finished before dropping SELECTs
    
    This is a hacky fix and leaves many problems open, but is good enough
    to keep logic tests running.

commit b81dd10de71ae6a5730a28d71925b6183e7a0d5d
Author: Frank McSherry <fmcsherry@me.com>
Date:   Tue May 14 11:23:34 2019 -0400

    amend for clippy

commit ebcc83bf88e90a6fdcc0bf320694cece449d2385
Merge: 74a78585d 66de566e5
Author: Frank McSherry <fmcsherry@me.com>
Date:   Tue May 14 11:13:52 2019 -0400

    Merge pull request #37 from MaterializeInc/join_reuse
    
    Re-use arrangements in join

commit 66de566e5a526c0618a4e42f7ad4340379afda2a
Merge: ff85bb258 74a78585d
Author: Frank McSherry <fmcsherry@me.com>
Date:   Tue May 14 11:07:38 2019 -0400

    merge with master

commit ff85bb2585099abd2af051bfc84a46f3d2b75202
Author: Frank McSherry <fmcsherry@me.com>
Date:   Tue May 14 10:51:58 2019 -0400

    comment trace setting for the moment

commit 74a78585d0614a37047ed898d2839b9e289fae8b
Author: Nikhil Benesch <nikhil.benesch@gmail.com>
Date:   Mon May 13 19:02:35 2019 -0400

    mtrlz/dataflow: dumb dataflow garbage collection
    
    Pinch a dataflow's inputs when shutting it down, so that Timely can
    actually stop doing work. This is a stopgap that will need to be
    adjusted when we can share arrangements.

commit 8e25f78481a55d76aae35e0151b63bf8002aadfb
Author: Nikhil Benesch <nikhil.benesch@gmail.com>
Date:   Mon May 13 18:10:27 2019 -0400

    sqllogictest: teach fuzz_artifacts not to hang forever
    
    This was missing the all-important call to state.shutdown(). Rather than
    adding the shutdown call, make shutdown the Drop implementation for
    State, because I'm a bit worried that the wrong thing will happen
    otherwise if the test panics.

commit bc2eb2667497119d1ddb4024a0efa85ff662e489
Author: Frank McSherry <fmcsherry@me.com>
Date:   Mon May 13 15:58:27 2019 -0400

    address comments

commit fd7ed223161e79f226a967d1c5f5f26d7a1c2018
Author: Jamie Brandon <jamie@scattered-thoughts.net>
Date:   Mon May 13 20:17:48 2019 +0100

    Clippy

commit 1220347192618aa619f13260f43fce36b8526b4e
Author: Jamie Brandon <jamie@scattered-thoughts.net>
Date:   Mon May 13 20:11:19 2019 +0100

    Actually run sqllogictest plans

commit b4699229592b0a88f0f4ef9faaec4c3586ffdb9a
Author: Jamie Brandon <jamie@scattered-thoughts.net>
Date:   Mon May 13 20:09:55 2019 +0100

    Add a shutdown command for use in tests

commit d1a6c37a12e2961617cb50777fbf5ec9eee4098b
Author: Nikhil Benesch <nikhil.benesch@gmail.com>
Date:   Mon May 13 14:44:54 2019 -0400

    mtrlz/dataflow: eagerly reclaim insert_mux channel keys
    
    When dropping and recreating a table in quick succession, like
    
        CREATE TABLE t ...;
        DROP TABLE t;
        CREATE TABLE t ...;
    
    the newly-created table will register a channel with the input mux keyed
    on "t". Since input mux channels were previously lazily garbage
    collected, there was no guarantee that the input mux channel "t" from
    the prior table had been gc'd.
    
    Introduce a close method on the mux that eagerly reclaims names, and
    call it when a dataflow is dropped.

commit df417e74e4ca24fb26b679ecab3e498d5fbb5c54
Author: Frank McSherry <fmcsherry@me.com>
Date:   Mon May 13 11:53:14 2019 -0400

    correct peek completeness test

commit 75707d4548ba3ec9b7028b65c518b32f9d58678d
Merge: b9e6229a6 0627570ea
Author: Frank McSherry <fmcsherry@me.com>
Date:   Mon May 13 11:11:55 2019 -0400

    merge with master

commit b9e6229a6760865ade85dd0539f1bf5555202236
Author: Frank McSherry <fmcsherry@me.com>
Date:   Mon May 13 11:07:35 2019 -0400

    use all delete_callbacks

commit 92fa5b9aa56f8e7027f195322c30e4079bd7c1a8
Author: Frank McSherry <fmcsherry@me.com>
Date:   Mon May 13 11:04:35 2019 -0400

    rustfmt

commit 0627570eaa5f657ae94429379092424e35aedd46
Author: Nikhil Benesch <nikhil.benesch@gmail.com>
Date:   Mon May 13 01:33:28 2019 -0400

    test: update sqllogictest expectations
    
    The new parser once again changes the expected blend of logic test
    outcomes.

commit d1cc95ad5b2b19465358bb59f9285906734b0064
Author: Nikhil Benesch <nikhil.benesch@gmail.com>
Date:   Mon May 13 01:20:22 2019 -0400

    test: use KAFKA_URL instead of localhost everywhere, for CI

commit 7188afd9fbe2f51c096820301ff0b86c9c41defb
Author: Nikhil Benesch <nikhil.benesch@gmail.com>
Date:   Mon May 13 01:12:39 2019 -0400

    mtrlz/sql: support DROP IF EXISTS ... and DROP ... CASCADE
    
    These make testdrive much nicer.

commit c6084c15e151b8b7bb1ec3e2f5517f9939b74fcd
Author: Frank McSherry <fmcsherry@me.com>
Date:   Sun May 12 13:47:30 2019 -0400

    re-use arrangements in join

commit bdc7d0ab6415a750fd6e565147e3b74f38959721
Author: Nikhil Benesch <nikhil.benesch@gmail.com>
Date:   Fri May 10 12:15:08 2019 -0400

    mtrlz/sql: enforce dataflow consistency redux
    
    Re-enforce dataflow consistency in the new single-node land. Also enable
    the tests that were supposed to be checking this, which were not getting
    run in CI due to a simple misconfiguration.
    
    Fixes #36.

commit 603a0cb33f594a6656fbac44c3f5d1f3d4111cbc
Author: Nikhil Benesch <nikhil.benesch@gmail.com>
Date:   Thu May 9 23:13:24 2019 -0400

    mtrlz/pgwire: send EmptyQueryResponse appropriately
    
    The Postgres protocol expects an EmptyQueryResponse if the input yields
    no parsed queries. One easy way to trigger this is to send a lone
    semicolon (';') through the SimpleQuery protocol.

commit 17bdcefb7c4acd9df2900905c66e836f90ab992e
Author: Jamie Brandon <jamie@scattered-thoughts.net>
Date:   Thu May 9 16:54:20 2019 +0100

    Clippy

commit 6b1bd87ed8e0fb864e883f8507ad058916c4fe47
Author: Jamie Brandon <jamie@scattered-thoughts.net>
Date:   Thu May 9 16:44:42 2019 +0100

    Remove timely sequencer - queue is responsible for command ordering now

commit 7d787118752d51227f996de9b9eecc72f99a83fd
Author: Jamie Brandon <jamie@scattered-thoughts.net>
Date:   Thu May 9 15:28:21 2019 +0100

    Add a trivial queue implementation.
    
    Also separate common metadata into a separate struct, so it's easier
    to pass around.

commit b073115fc2a4ad3d33de7a4b57a70996a55e26bd
Author: Jamie Brandon <jamie@scattered-thoughts.net>
Date:   Wed May 8 18:43:26 2019 +0100

    We can use UnboundedReceiver/Sender everywhere now that we backported Receiver::try_next

commit 7a5dd846790465fca5ce087cfded5b628f240b7c
Author: Jamie Brandon <jamie@scattered-thoughts.net>
Date:   Wed May 8 18:38:00 2019 +0100

    Re-support insert, after breaking it in the global dataflow cleanup
    
    For bonus points, there is no global this time

commit 1edbc3ad3483b60d9923e62ce621f1525483265d
Author: Jamie Brandon <jamie@scattered-thoughts.net>
Date:   Wed May 8 14:40:27 2019 +0100

    Vendor futures so that we can backport Receiver::try_next from futures-preview
    
    This is a really useful function that lets us poll
    futures::sync::mpsc::Receiver with needing a task context

commit 50d30b7f7ddd126fe1eb7d7e6a758b90c14a386f
Author: Jamie Brandon <jamie@scattered-thoughts.net>
Date:   Wed May 8 13:20:06 2019 +0100

    Don't crash http server if peek results sender is already closed

commit 700a5054d7a4f9dd51f79ef10e6d0adfeab68fa7
Author: Jamie Brandon <jamie@scattered-thoughts.net>
Date:   Tue May 7 23:28:30 2019 +0100

    Fix over-zealous find-replace

commit d4ac5747bf0dc689f153b006be27bc10603bf2a1
Author: Jamie Brandon <jamie@scattered-thoughts.net>
Date:   Tue May 7 23:26:07 2019 +0100

    Fix several new bugs in pgwire protocol

commit ddbfadbbed4e09a553d9eb5387a589624bd5eaea
Author: Jamie Brandon <jamie@scattered-thoughts.net>
Date:   Tue May 7 23:15:51 2019 +0100

    For now, stick with sync channels for commands
    
    ...because I can't figure out how to correctly mix async channels and
    the timely sequencer

commit 0d7cf9dfe665d31a33be8f7dedc57154b771d471
Author: Jamie Brandon <jamie@scattered-thoughts.net>
Date:   Tue May 7 22:31:21 2019 +0100

    Fix error handling in sql planner

commit 5fef1984360876ddebcffa482b49f9e941f98749
Author: Jamie Brandon <jamie@scattered-thoughts.net>
Date:   Tue May 7 21:50:15 2019 +0100

    Doh

commit b5a4bf8f587f0cb0b3769a2cf566b05b8bfcf831
Author: Jamie Brandon <jamie@scattered-thoughts.net>
Date:   Tue May 7 21:33:58 2019 +0100

    Take zookeeper option out of ci test

commit c4fcaec2c27d12227f31f3b99af4fcb9c3e98f41
Author: Jamie Brandon <jamie@scattered-thoughts.net>
Date:   Tue May 7 20:30:18 2019 +0100

    Redo global dataflow for easier composition/testing

commit a0175f9ace5c668f1857d23f2acd705475609a3c
Author: Nikhil Benesch <nikhil.benesch@gmail.com>
Date:   Mon May 6 13:49:48 2019 -0400

    sqllogictest: add crate description

commit 90c13777a8f36ff2346ac44b88dbe353b7685628
Author: Nikhil Benesch <nikhil.benesch@gmail.com>
Date:   Mon May 6 13:43:35 2019 -0400

    *: remove authorship information from crates
    
    This is unnecessary for company crates.

commit 1154ed6e6e46d6fb6b1cdb526877873473cc147f
Author: Nikhil Benesch <nikhil.benesch@gmail.com>
Date:   Mon May 6 12:17:55 2019 -0400

    ci/test: add some notes

commit b2b89f4ea257b1126cf2bd57276cf1dd7d2ea691
Author: Nikhil Benesch <nikhil.benesch@gmail.com>
Date:   Mon May 6 00:20:21 2019 -0400

    ci/test: update expected sqllogictest outcomes

commit 352665efdb6b879a21478577798b43c2b98726dd
Author: Nikhil Benesch <nikhil.benesch@gmail.com>
Date:   Mon May 6 00:04:57 2019 -0400

    mtrlz/sql: handle aggregates in WHERE/HAVING
    
    Aggregates are explicitly banned from the WHERE clause and explicitly
    allowed in the HAVING clause. The old version of the SQL parser was
    somehow misparsing aggregates in either of these locations, and so was
    hiding the fact that our planner couldn't handle aggregates in either
    cases. Teach the planner to handle aggregates in either position--i.e.,
    by rejecting aggregates in the WHERE clause and properly extracting them
    in the HAVING clause.

commit 62b1d60f3a7f434e19239d0a7ef4ac482cc55cce
Author: Nikhil Benesch <nikhil.benesch@gmail.com>
Date:   Mon May 6 00:04:30 2019 -0400

    mtrlz/sql,testdrive: support dropping tables

commit 73e6aeea8d5c9a212bba3f1ee40ea58f3bfe1adf
Author: Nikhil Benesch <nikhil.benesch@gmail.com>
Date:   Sun May 5 20:22:17 2019 -0400

    sqllogictest: extract a runner binary
    
    This makes it easier to track down failures, because you can precisely
    target the failing file.

commit 6e3968995dba95b9a2f51b03869a3fe6afd80b64
Author: Nikhil Benesch <nikhil.benesch@gmail.com>
Date:   Thu May 2 17:18:29 2019 -0400

    mtrlz/sql: bump sqlparser dependency
    
    This brings support for 'CREATE DATA SOURCE ... USING SCHEMA REGISTRY
    '...'`. The new syntax isn't hooked up to anything yet, though.
    
    For good measure, the new version of the sqlparser library includes a
    bunch of upstream changes, which caused some churn in our parsing code.
    Notably the upstream changes add support for window functions, which
    we'll want to be able to plan eventually.

commit a25b91c4acb18f63a1a14732e333e0ca705808d3
Author: Nikhil Benesch <nikhil.benesch@gmail.com>
Date:   Thu May 2 11:35:37 2019 -0400

    mtrlz/pgwire: fix INSERT command tag
    
    Postgres uses a weird command tag for INSERTs.

commit f8418a61cca582110d240230ee90dad8a3b3db9e
Author: Nikhil Benesch <nikhil.benesch@gmail.com>
Date:   Wed May 1 19:18:25 2019 -0400

    mtrlz/dataflow: tweak comment in local connector

commit 111e20e45ab255a58beb21b8e581414f19009535
Author: Nikhil Benesch <nikhil.benesch@gmail.com>
Date:   Wed May 1 19:06:10 2019 -0400

    mtrlz/sql: split up handle_insert
    
    The function was previously nested enough that rustfmt couldn't format
    it. I'm not super thrilled with the new formatting, but it seems
    worthwhile just to keep rustfmt happy.

commit 6c8bbc347e158825bf2553f6e3d55bcf32a6fdae
Author: Nikhil Benesch <nikhil.benesch@gmail.com>
Date:   Wed May 1 18:32:51 2019 -0400

    mtrlz/dataflow: move raw_schema into Kafka connector

commit 004c403e844949dde572eca1bed65f469c826300
Author: Nikhil Benesch <nikhil.benesch@gmail.com>
Date:   Wed May 1 18:25:32 2019 -0400

    sqllogictest: derive a default to avoid special-casing clippy

commit b6d5fc3c17b2d274ccb15d037a695051321cdb26
Author: Nikhil Benesch <nikhil.benesch@gmail.com>
Date:   Wed May 1 17:49:43 2019 -0400

    mtrlz: have gateway choose PEEK timestamp
    
    This saves one-off views (like SELECT...) from needing to wait an
    unknown amount of time to become up-to-date. The first PEEK now waits
    for them to become at least as up-to-date as their inputs.

commit 00939cb049343d20e4b791d89984e7b075619b63
Author: Nikhil Benesch <nikhil.benesch@gmail.com>
Date:   Wed May 1 14:43:56 2019 -0400

    mtrlz: add global clock
    
    We'll need to think much harder about this when we propagate timestamps
    from the source of truth, but for now this will make life better with
    sqllogictest.

commit 8e58dbe83eb5c8a3bbdcc92f707213534234a291
Author: Nikhil Benesch <nikhil.benesch@gmail.com>
Date:   Wed May 1 11:43:14 2019 -0400

    rust-toolchain: upgrade to rust 1.34.1
    
    The impetus is access to the newly-stabilized TryFrom trait. The
    unrelated changes are the result of new errors from clippy and the
    borrow checker.

commit 643874305291417cb98c1070131e820b37bb7019
Author: Nikhil Benesch <nikhil.benesch@gmail.com>
Date:   Tue Apr 30 16:28:27 2019 -0400

    metastore: maintain consistency
    
    Don't allow dropping dataflows that still have dependencies.

commit bccc5b129df6e20b876d19118e0c1e9e741a7e7f
Author: Nikhil Benesch <nikhil.benesch@gmail.com>
Date:   Tue Apr 30 16:27:45 2019 -0400

    testdrive: support failing SQL commands

commit 51399435eb86335c8eee5434bc947dbbecc5f88e
Author: Nikhil Benesch <nikhil.benesch@gmail.com>
Date:   Tue Apr 30 16:27:02 2019 -0400

    ore: allow repeated calls to log::init
    
    Test setup is painful otherwise.

commit 3519903abe2d3fc8893c134be6f0d532617d6a3c
Author: Nikhil Benesch <nikhil.benesch@gmail.com>
Date:   Tue Apr 30 16:26:08 2019 -0400

    mtrlz/dataflow: actually install the "DUAL" dataflow

commit c7c0f2433a944ff8a43c712c24677141d2ade201
Author: Jamie Brandon <jamie@scattered-thoughts.net>
Date:   Tue Apr 30 18:30:31 2019 +0100

    Clippy

commit eeeae14aa45f0093e278765fdc297bfd597a8a1f
Author: Jamie Brandon <jamie@scattered-thoughts.net>
Date:   Tue Apr 30 18:29:34 2019 +0100

    Support insert

commit 942a19ec8379b5201d751317156ed4d4442c5a25
Author: Jamie Brandon <jamie@scattered-thoughts.net>
Date:   Tue Apr 30 17:22:34 2019 +0100

    Clippy

commit 039d955037c40e0fe9b50c63bd9eff16a217d5a1
Author: Jamie Brandon <jamie@scattered-thoughts.net>
Date:   Tue Apr 30 16:09:48 2019 +0100

    Support CREATE TABLE

commit b65c9eff43af5db1a4b1a80a405a2e3c8c98280d
Author: Jamie Brandon <jamie@scattered-thoughts.net>
Date:   Mon Apr 29 18:23:51 2019 +0100

    Super hacky support for non-view queries

commit 25cce7884f139494a7799be926a2d945f22741a0
Author: Jamie Brandon <jamie@scattered-thoughts.net>
Date:   Mon Apr 29 12:55:38 2019 +0100

    Use same logic in fuzzer test as in fuzzer itself

commit e4f1af4f6b07e358385221d84810a49ff44f3375
Author: Jamie Brandon <jamie@scattered-thoughts.net>
Date:   Mon Apr 29 12:19:41 2019 +0100

    Fix a parsing bug in sqllogictest
    
    Would previously ignore records that started with a comment

commit a89b4363b8c9b19ced3f65627bc50bf9fdfc2316
Author: Nikhil Benesch <nikhil.benesch@gmail.com>
Date:   Fri Apr 26 11:11:13 2019 -0400

    ci/test: add --fast option for pre-push hook

commit 1ef05595493c75ce6f895df45a380f65009b0aa8
Author: Nikhil Benesch <nikhil.benesch@gmail.com>
Date:   Fri Apr 26 10:57:00 2019 -0400

    mtrlz/dataflow: better error messages when a dataflow goes missing

commit fdd4d04db2c1767045dd89aec817015dd92139f6
Author: Nikhil Benesch <nikhil.benesch@gmail.com>
Date:   Fri Apr 26 00:44:37 2019 -0400

    Adjust lint for picky macOS grep
    
    Also fix some slightly-incorrect greps.

commit 94bd18aa1b57214e57e4966c3319ca34d1295ff7
Author: Nikhil Benesch <nikhil.benesch@gmail.com>
Date:   Mon Apr 22 11:06:23 2019 -0400

    ci: run testdrive scripts
    
    Getting the Kafka command line tools into CI proved to be difficult, so
    this commit goes to great lengths to use the Rust Kafka library instead.

commit 93dda3ef9822793d729ce4f30a759b412c0157e9
Author: Nikhil Benesch <nikhil.benesch@gmail.com>
Date:   Thu Apr 25 23:56:30 2019 -0400

    mtrlz/pgwire: ensure enough space in outgoing buffer
    
    BytesMut does not automatically grow its capacity.
    
    See: https://github.com/carllerche/bytes/issues/170

commit 68f0dd33c6f4137daa8302f6e8bce2b95498af5b
Author: Jamie Brandon <jamie@scattered-thoughts.net>
Date:   Thu Apr 25 15:25:20 2019 -0400

    Handle DROP TABLE

commit 19761f7be9f4f3ecb397304bd6c722fafaf16f38
Author: Jamie Brandon <jamie@scattered-thoughts.net>
Date:   Thu Apr 25 14:07:59 2019 -0400

    Reduce nesting in run_record

commit bd30fdc9509d8048b3d2da473aa74948c7905aa3
Author: Jamie Brandon <jamie@scattered-thoughts.net>
Date:   Thu Apr 25 13:06:42 2019 -0400

    'Test' inferred types in sqllogictest

commit dbebeb78ed9a0eb9c7ad05306ea8ae555783b952
Author: Jamie Brandon <jamie@scattered-thoughts.net>
Date:   Wed Apr 24 20:53:42 2019 -0400

    Run fuzz in release mode, with workaround for https://github.com/rust-lang/rust/issues/53945

commit 53b32c3f1c56c382536567a42edfef26aa0e3ffc
Author: Jamie Brandon <jamie@scattered-thoughts.net>
Date:   Wed Apr 24 19:38:47 2019 -0400

    Test type inference in sqllogictest

commit 8273a2246bd087f10f21fdcb7527e5712f871733
Author: Jamie Brandon <jamie@scattered-thoughts.net>
Date:   Wed Apr 24 19:17:04 2019 -0400

    Clippy

commit bbbc33488ea8d432b3165095b69a93296a5fe817
Author: Jamie Brandon <jamie@scattered-thoughts.net>
Date:   Wed Apr 24 19:08:06 2019 -0400

    Run plans in sqllogictest

commit 5c440c99f4809915a9ab827d810ecec93da4dd63
Author: Jamie Brandon <jamie@scattered-thoughts.net>
Date:   Wed Apr 24 19:00:05 2019 -0400

    Update fuzz readme

commit 08d9ea0b5d924f74ca1ab6b1c62a81b75795b53d
Author: Jamie Brandon <jamie@scattered-thoughts.net>
Date:   Wed Apr 24 18:37:14 2019 -0400

    Update sqllogictest fuzzer to use the new code

commit 83faf0fb5d51a56f88881695809bd254531ff853
Author: Jamie Brandon <jamie@scattered-thoughts.net>
Date:   Wed Apr 24 18:07:04 2019 -0400

    Test parsing for sqllogictest

commit 7baa01d581a9c28ee08de279bb1b8018bb3e6c3d
Author: Jamie Brandon <jamie@scattered-thoughts.net>
Date:   Wed Apr 24 16:57:27 2019 -0400

    Stop pre-push from failing when there are no stashes

commit 1fb0366ccfc247589d0ad52288c4de7e4c9e5b1a
Author: Jamie Brandon <jamie@scattered-thoughts.net>
Date:   Wed Apr 24 16:48:09 2019 -0400

    Add ./bin to path in nix-shell

commit 1b8b2ca7e9a85df296ab8606134e604f612d0da6
Author: Jamie Brandon <jamie@scattered-thoughts.net>
Date:   Wed Apr 24 16:47:56 2019 -0400

    Run ignored tests in CI

commit e01cbbe257ec61719ac997efa60d7f602651c4a8
Author: Jamie Brandon <jamie@scattered-thoughts.net>
Date:   Wed Apr 24 16:47:33 2019 -0400

    Much faster parsing of sqllogictest

commit 26f9737d6ce2de1579eabf00d2857ceac08ec124
Author: Jamie Brandon <jamie@scattered-thoughts.net>
Date:   Wed Apr 24 15:30:06 2019 -0400

    Parse sqllogictest files

commit 8b6b1b8033ce8048a4fcb3624c5a135bbaf5c133
Author: Jamie Brandon <jamie@scattered-thoughts.net>
Date:   Tue Apr 23 19:13:11 2019 -0400

    Tweak corpus numbers

commit 9187ce3a99623bf065f789ebdd4c923245b25a82
Author: Jamie Brandon <jamie@scattered-thoughts.net>
Date:   Tue Apr 23 17:59:59 2019 -0400

    Fix testdrive test that I broke by changing the filename

commit 07bf7884b65216ba87c1e32bbad2719c73f75626
Author: Jamie Brandon <jamie@scattered-thoughts.net>
Date:   Tue Apr 23 17:58:04 2019 -0400

    Fix fuzzing instructins

commit ead66a156c38aac555cb01015e62530f957a022c
Author: Jamie Brandon <jamie@scattered-thoughts.net>
Date:   Tue Apr 23 17:48:05 2019 -0400

    Catch unsupported functions instead of panicking in resolve_func

commit 97317e4e4766bf6b855217a725b42b08307f0ccd
Author: Jamie Brandon <jamie@scattered-thoughts.net>
Date:   Tue Apr 23 17:29:24 2019 -0400

    bail! instead of unimplemented!, so the server stays up

commit c5147a279d8fc274d106abfdab441865454db852
Author: Jamie Brandon <jamie@scattered-thoughts.net>
Date:   Tue Apr 23 17:23:16 2019 -0400

    Explain regression tests in sqllogictest

commit dfa915785a025d3f273062d9233fad63f7216e1d
Author: Jamie Brandon <jamie@scattered-thoughts.net>
Date:   Tue Apr 23 17:21:09 2019 -0400

    Make sure artifacts dir exists for sqllogictest regression tests

commit 6fa700a52e50f1eedc6cf8ca02836e4c4a2a410a
Author: Jamie Brandon <jamie@scattered-thoughts.net>
Date:   Tue Apr 23 17:20:03 2019 -0400

    Clippy

commit f7bc6cd9a305a0195f6544560a9beb4c37277a6a
Author: Jamie Brandon <jamie@scattered-thoughts.net>
Date:   Tue Apr 23 17:19:25 2019 -0400

    Fix dir in test

commit 20263c94ecd382e3d32f516d646a3bf746dc8fd7
Author: Jamie Brandon <jamie@scattered-thoughts.net>
Date:   Tue Apr 23 17:19:08 2019 -0400

    Lint

commit b6a53ea44c46c69b2d89dea96a605285ffbd9953
Author: Jamie Brandon <jamie@scattered-thoughts.net>
Date:   Tue Apr 23 17:15:34 2019 -0400

    WIP fuzzer

commit b9b6830aa1939ee0f86d5b65ea7eeeaba95801cc
Author: Jamie Brandon <jamie@scattered-thoughts.net>
Date:   Tue Apr 23 17:06:07 2019 -0400

    WIP sqllogictest

commit 70c65f56f73f295e36848f020c552af071f90279
Author: Jamie Brandon <jamie@scattered-thoughts.net>
Date:   Tue Apr 23 16:46:27 2019 -0400

    Use git ls-files in lint so it understands .gitignore

commit 35a45e57b6b056e6bbe39ad1823038f993e6bb61
Author: Jamie Brandon <jamie@scattered-thoughts.net>
Date:   Tue Apr 23 16:46:16 2019 -0400

    Add sqllogictest as submodule

commit c4f4d41001da5fdfaf55869ee98c5355788008a5
Author: Jamie Brandon <jamie@scattered-thoughts.net>
Date:   Tue Apr 23 14:43:13 2019 -0400

    Move the bulk of testdrive into a lib so that it's easier to call from
    a fuzzer

commit ea75b4db447daa4441b25c47a7666d1e7691b3d9
Author: Jamie Brandon <jamie@scattered-thoughts.net>
Date:   Tue Apr 23 12:09:04 2019 -0400

    More tests

commit 1bcc1ff383bc16d878a42424719f3849a8d3583e
Author: Jamie Brandon <jamie@scattered-thoughts.net>
Date:   Tue Apr 23 12:00:56 2019 -0400

    More tests

commit 81afcfafce721838ef9a0936335b212ad4272c18
Author: Jamie Brandon <jamie@scattered-thoughts.net>
Date:   Tue Apr 23 11:56:55 2019 -0400

    Lint

commit 30ef09db3377676ac37acda0ce6fa56159414988
Author: Jamie Brandon <jamie@scattered-thoughts.net>
Date:   Tue Apr 23 11:53:11 2019 -0400

    More tests. Fix qualified select bug.

commit 98bf13cec6c86a0a533d04d8317668d2f01e4894
Author: Jamie Brandon <jamie@scattered-thoughts.net>
Date:   Tue Apr 23 11:45:32 2019 -0400

    More join tests

commit 02055fdce95ff699008ebf0d0f9925a2ed0fc39c
Author: Jamie Brandon <jamie@scattered-thoughts.net>
Date:   Tue Apr 23 11:29:59 2019 -0400

    Add eq/not_eq

commit a4c41c2e4c43e37d7c13cd737b2c3905dd9cb54e
Author: Jamie Brandon <jamie@scattered-thoughts.net>
Date:   Mon Apr 22 17:17:44 2019 -0400

    Refactor NameResolver

commit ab8f4ac7adf42b8671086d70090bb8143617e5fe
Author: Jamie Brandon <jamie@scattered-thoughts.net>
Date:   Mon Apr 22 12:36:44 2019 -0400

    Lint

commit 64ba2a3603b4a88ca70f385d8f04c5e74fe23aa9
Author: Jamie Brandon <jamie@scattered-thoughts.net>
Date:   Mon Apr 22 12:34:45 2019 -0400

    Add some simple join tests

commit 8cb98e916603f78ea323ceb14912a4bd867f172a
Author: Jamie Brandon <jamie@scattered-thoughts.net>
Date:   Mon Apr 22 12:34:33 2019 -0400

    Handle null values in testdrive

commit 5d0fc293d44acbcf63eb5c5f70a7de0caeb36795
Author: Jamie Brandon <jamie@scattered-thoughts.net>
Date:   Mon Apr 22 12:34:19 2019 -0400

    Fix several silly bugs with natural/using joins

commit a2390b84dfd7d1d4bc541f5c14bf0b1172bf9e27
Author: Jamie Brandon <jamie@scattered-thoughts.net>
Date:   Mon Apr 22 11:40:59 2019 -0400

    Clippy

commit 60fff08830cb35fc3c5dfa00853f8bb71b2f5245
Author: Jamie Brandon <jamie@scattered-thoughts.net>
Date:   Mon Apr 22 11:39:47 2019 -0400

    Don't fail CI when user has no stashes :)

commit 2e3af1205190c3199b8d7ee2622d4aa756bd21c2
Author: Jamie Brandon <jamie@scattered-thoughts.net>
Date:   Mon Apr 22 11:33:23 2019 -0400

    Support implicit joins

commit f4a2554e8cdc9a8a73519a072037be9bd91545f3
Author: Nikhil Benesch <nikhil.benesch@gmail.com>
Date:   Sat Apr 20 12:17:14 2019 -0400

    mtrlz/dataflow: push all Kafka goop into Kafka operator

commit 9eda4375b86b73367200b9e4048e644876e9045b
Author: Nikhil Benesch <nikhil.benesch@gmail.com>
Date:   Sat Apr 20 11:51:24 2019 -0400

    mtrlz/{dataflow,interchange}: extract Avro datum decoding

commit b7538b0309ecfdbb209e30a8609281e6379c2b41
Author: Nikhil Benesch <nikhil.benesch@gmail.com>
Date:   Fri Apr 19 18:20:18 2019 -0400

    test: expand basic test ever so slightly

commit ed63a654d115eddcc7d3b1dadc628b662c6f4633
Author: Nikhil Benesch <nikhil.benesch@gmail.com>
Date:   Fri Apr 19 17:43:56 2019 -0400

    misc/githooks: fix installation instructions

commit f12b74e0bde08a667d6e4e64171d9565a6239420
Author: Nikhil Benesch <nikhil.benesch@gmail.com>
Date:   Fri Apr 19 17:43:56 2019 -0400

    misc/hooks: add sample pre-push Git hook

commit 97dd40d0e8e12ade2e77c5e9f0c692282a965a34
Author: Nikhil Benesch <nikhil.benesch@gmail.com>
Date:   Fri Apr 19 17:22:32 2019 -0400

    *: rustfmt, for real

commit 9bb1ecd9f9950d262ab2bdf62191674140701610
Author: Nikhil Benesch <nikhil.benesch@gmail.com>
Date:   Fri Apr 19 17:11:00 2019 -0400

    *: clippy, rustfmt

commit f28399d82c8a1be9a3b7759fbc5a6d04dc55ec51
Author: Nikhil Benesch <nikhil.benesch@gmail.com>
Date:   Fri Apr 19 15:43:43 2019 -0400

    mtrlz/dataflow: rework Kafka sources
    
    The most important change here is that dropping a data source actually
    closes the Timely Kafka source operator. Previously the Kafka source
    operator would stick around forever and compete with future attempts to
    install a Kafka source operator for a topic with the same name.

commit fa5211710f8a4d9e19ad8a72fbb40723610a865d
Author: Nikhil Benesch <nikhil.benesch@gmail.com>
Date:   Thu Apr 18 22:44:31 2019 -0400

    ore: "stabilize" Option::as_deref

commit 18284f74d126294009330e979014d0777c8ff148
Author: Nikhil Benesch <nikhil.benesch@gmail.com>
Date:   Thu Apr 18 20:07:59 2019 -0400

    *: clippy

commit 8ef2f80a806385f6bd6795bf6bef0a25ef5cc76b
Author: Nikhil Benesch <nikhil.benesch@gmail.com>
Date:   Thu Apr 18 20:06:31 2019 -0400

    mtrlz/dataflow: handle peeks that arrive before dataflow creation

commit e545d8bac5d85469d979b1158860eaea297777bc
Author: Nikhil Benesch <nikhil.benesch@gmail.com>
Date:   Thu Apr 18 19:42:34 2019 -0400

    doc: add some developer notes on Git workflow

commit 948c0fc30188cb95f3af362caca074df31cfa93a
Author: Nikhil Benesch <nikhil.benesch@gmail.com>
Date:   Thu Apr 18 18:19:26 2019 -0400

    mtrlz: drop kafkaesque dependency
    
    The functionality provided by kafkaesque has been copy/pasted into the
    Kafka source, so it's no longer needed.

commit feb0c916166466e22074ae0a2e4cde882fa5535a
Author: Nikhil Benesch <nikhil.benesch@gmail.com>
Date:   Thu Apr 18 18:16:59 2019 -0400

    testdrive: increase PEEK retries
    
    PEEK can be really slow. (It's Kafka's fault.)

commit 7bc1586e58ef6aa99c5e5f17bc728287db8f405a
Merge: e43404a00 489051b3a
Author: Jamie Brandon <jamie@scattered-thoughts.net>
Date:   Thu Apr 18 16:44:24 2019 -0400

    Merge branch 'master' of github.com:MaterializeInc/materialize

commit e43404a00027499eb9302dff598ccc5f1988b2a9
Author: Jamie Brandon <jamie@scattered-thoughts.net>
Date:   Thu Apr 18 16:42:45 2019 -0400

    Update default.nix to handle new rdfkafka build

commit 489051b3ab1d3d709e9c7b5554e63a57c9f81c77
Merge: 2f302e11f 3df261b63
Author: Nikhil Benesch <nikhil.benesch@gmail.com>
Date:   Thu Apr 18 16:12:03 2019 -0400

    Merge pull request #30 from MaterializeInc/20190418-dep-urls
    
    *: clean up dependency URLs

commit 3df261b63abc1c9b69e465e81cd1f304036d5f55
Author: Nikhil Benesch <nikhil.benesch@gmail.com>
Date:   Thu Apr 18 15:53:37 2019 -0400

    ci: include libclang in Docker images
    
    libclang is necessary to automatically generate bindings for the patched
    version of librdkafka introduced in 44bf97e7.

commit db4dc689a3cd06d559e3222ec9ee23e7b04c1e80
Author: Nikhil Benesch <nikhil.benesch@gmail.com>
Date:   Thu Apr 18 15:45:50 2019 -0400

    *: clean up dependency URLs

commit 2f302e11f4e7c1f99236b9417fc6ac334dfa629a
Merge: 1032928a7 44bf97e7d
Author: Jamie Brandon <jamie@scattered-thoughts.net>
Date:   Thu Apr 18 15:46:19 2019 -0400

    Merge branch 'master' of github.com:MaterializeInc/materialize

commit 1032928a73fb98256cde8daaca9b9eeb8fa13396
Author: Jamie Brandon <jamie@scattered-thoughts.net>
Date:   Thu Apr 18 15:44:39 2019 -0400

    Clippy

commit 4403c6419e058f2bc50056c9eaa5aafc5a805e6e
Author: Jamie Brandon <jamie@scattered-thoughts.net>
Date:   Thu Apr 18 15:43:11 2019 -0400

    Compare Options correctly

commit 44bf97e7d20fd99d28a6b830527e82da6615495a
Author: Nikhil Benesch <nikhil.benesch@gmail.com>
Date:   Thu Apr 18 15:39:58 2019 -0400

    mtrlz: use a less buggy version of rdkafka
    
    Use a version of rdkafka that doesn't explode when you delete a topic
    out from under a registered consumer.

commit 0d75746b30f084706b01775e2312a2429e812f58
Author: Jamie Brandon <jamie@scattered-thoughts.net>
Date:   Thu Apr 18 15:21:14 2019 -0400

    Project away joined columns in natural/using join

commit 0d36b56abbabd8d552a17aea248e603b20fa9cc5
Author: Jamie Brandon <jamie@scattered-thoughts.net>
Date:   Thu Apr 18 14:57:05 2019 -0400

    Refactor the way tables are tracked in the NameResolver.
    
    This will make it easier to support dropping columns.

commit abc274fe57fe8974d900e192afaebac4ebf106e3
Author: Jamie Brandon <jamie@scattered-thoughts.net>
Date:   Thu Apr 18 14:09:45 2019 -0400

    Partial support for natural/using joins.
    
    They need to also project away the joined keys, but that requires
    fairly invasive changes to the NameResolver.

commit 2bec9e6999ffed7bd96c8dac2ee5e8f2896fbbec
Author: Jamie Brandon <jamie@scattered-thoughts.net>
Date:   Thu Apr 18 11:54:40 2019 -0400

    Support aliases in FROM

commit 9fca12f0694c99303a0486b0b6772a4073f52dcc
Author: Jamie Brandon <jamie@scattered-thoughts.net>
Date:   Thu Apr 18 11:47:03 2019 -0400

    Support qualified wildcards in select

commit 387fd4e218866bf2f0533cc927da79082866b6b7
Author: Jamie Brandon <jamie@scattered-thoughts.net>
Date:   Thu Apr 18 11:39:43 2019 -0400

    Support wildcards in select

commit 6dca3c24971b9417f5f32ec26d5c4e977ff823f0
Merge: 194314362 a3fc577fe
Author: Jamie Brandon <jamie@scattered-thoughts.net>
Date:   Thu Apr 18 11:23:06 2019 -0400

    Merge branch 'master' of github.com:MaterializeInc/materialize

commit 194314362b04a8d63567e2b17665d08bf1dd4cfb
Author: Jamie Brandon <jamie@scattered-thoughts.net>
Date:   Thu Apr 18 11:22:10 2019 -0400

    Support aliases in select

commit edf216b5bb2ceb5924e92bf0915790faf5cc5dd7
Author: Jamie Brandon <jamie@scattered-thoughts.net>
Date:   Thu Apr 18 11:15:27 2019 -0400

    Fix some copy-paste bugs

commit a3fc577fefcc6a6950328ee49f3293c065e5da58
Author: Nikhil Benesch <nikhil.benesch@gmail.com>
Date:   Mon Apr 15 10:02:24 2019 -0400

    testdrive: new crate for driving materialized tests

commit 86e5b423d7ac71550e9b0dc32fab3f7340a4ecd9
Author: Jamie Brandon <jamie@scattered-thoughts.net>
Date:   Wed Apr 17 16:39:11 2019 -0400

    TODO

commit 534de6645c4a5c6602f9f99ccb721c1db502ef98
Author: Jamie Brandon <jamie@scattered-thoughts.net>
Date:   Wed Apr 17 16:33:43 2019 -0400

    Handle expressions of the form table.column

commit adef2c264a785d919813348c3b70070f18eda898
Author: Jamie Brandon <jamie@scattered-thoughts.net>
Date:   Wed Apr 17 14:56:56 2019 -0400

    distinct -> distinct_total
    
    RE https://github.com/MaterializeInc/materialize/pull/28

commit c7c2a859bb4922536f2d0dabcf8c444b59e20d0f
Author: Jamie Brandon <jamie@scattered-thoughts.net>
Date:   Wed Apr 17 14:15:45 2019 -0400

    Track nullability correctly in outer joins

commit 007c4dff82c27dd1255666cdfd7b304afc00fe59
Merge: c56f53531 c4a2b9041
Author: Jamie Brandon <jamie@scattered-thoughts.net>
Date:   Wed Apr 17 13:57:51 2019 -0400

    Merge branch 'master' of github.com:MaterializeInc/materialize

commit c56f535317c9fec7c9466bbba1a7bafcf6c5f773
Author: Jamie Brandon <jamie@scattered-thoughts.net>
Date:   Wed Apr 17 13:57:22 2019 -0400

    Clippy

commit c4a2b904106dd32f3f83bd6d4e68b97af80e5112
Author: Nikhil Benesch <nikhil.benesch@gmail.com>
Date:   Wed Apr 17 13:56:28 2019 -0400

    doc: fix Homebrew package name

commit 680c1eb1818a71b69ccc3337c906cf604ec32e41
Author: Jamie Brandon <jamie@scattered-thoughts.net>
Date:   Wed Apr 17 13:54:19 2019 -0400

    Don't manually enter encoded string in roundtrip test - too much hassle to update

commit 6b09171abeb90c28595ee832bba30b8410499967
Author: Jamie Brandon <jamie@scattered-thoughts.net>
Date:   Wed Apr 17 13:51:18 2019 -0400

    Inline parse_join_operator because clippy gets mad about the return type

commit 8dd28e257e2854a320c3f878448f07142f1124ac
Author: Jamie Brandon <jamie@scattered-thoughts.net>
Date:   Wed Apr 17 13:44:54 2019 -0400

    Support cross joins

commit 14171583e64653263c91ad984347ee496536e72d
Author: Jamie Brandon <jamie@scattered-thoughts.net>
Date:   Wed Apr 17 13:41:40 2019 -0400

    Support left/right/full outer joins

commit d61edb210c08de7b7f891a8c6136511ea7143fde
Author: Jamie Brandon <jamie@scattered-thoughts.net>
Date:   Wed Apr 17 13:41:07 2019 -0400

    Use the existing distinct operator instead of making our own

commit 5377c45767014c7cd70f16e98a9eddb8cf2234f5
Author: Nikhil Benesch <nikhil.benesch@gmail.com>
Date:   Tue Apr 16 18:10:59 2019 -0400

    mtrlz/sql: fix typo in comment

commit 889b331a6e36485e6797a0f30ce8c1a3d56ebebe
Author: Jamie Brandon <jamie@scattered-thoughts.net>
Date:   Tue Apr 16 17:11:37 2019 -0400

    Note to self

commit dbc573bb5155cd32c6a927a5d2a5c8bdd48f8488
Author: Jamie Brandon <jamie@scattered-thoughts.net>
Date:   Tue Apr 16 16:52:51 2019 -0400

    Clippy

commit adf4dca4601bb539042d40a1aec901753e8b923a
Author: Jamie Brandon <jamie@scattered-thoughts.net>
Date:   Tue Apr 16 16:33:39 2019 -0400

    Implement all aggregates

commit 5ff2bc318ce909aaa4f17c9eeaf41f4b27a14361
Author: Jamie Brandon <jamie@scattered-thoughts.net>
Date:   Tue Apr 16 16:33:20 2019 -0400

    Support more avro types

commit 7cbaf55a1a35f0a2aa3790274200a7a08b5fe11b
Author: Jamie Brandon <jamie@scattered-thoughts.net>
Date:   Tue Apr 16 15:33:55 2019 -0400

    Pin nix against recent unstable channel.
    
    The stable channel has some issues on osx

commit 359ec2348518baaace2e2028a473879110bdde45
Author: Jamie Brandon <jamie@scattered-thoughts.net>
Date:   Tue Apr 16 15:27:41 2019 -0400

    Handle SELECT DISTINCT

commit f6dc9039f3b9590c43b6f2f3fb8d2e9f63abcb08
Author: Jamie Brandon <jamie@scattered-thoughts.net>
Date:   Tue Apr 16 15:08:39 2019 -0400

    Support UNION without ALL

commit 91fd1cec48495edde78ae78172aec96b5e3b0dde
Author: Jamie Brandon <jamie@scattered-thoughts.net>
Date:   Tue Apr 16 15:01:45 2019 -0400

    Correctly consolidate diffs across each key in peek

commit a6a13a4aaa6b5ab5fff0ed4c42f689f35fda58f3
Author: Jamie Brandon <jamie@scattered-thoughts.net>
Date:   Tue Apr 16 14:44:37 2019 -0400

    Show multiple rows in peek instead of collapsing duplicates

commit 3dcffa4c7c342900b48cdb7306c3fb3b0c970f50
Author: Jamie Brandon <jamie@scattered-thoughts.net>
Date:   Tue Apr 16 14:02:38 2019 -0400

    For some reason rustfmt defaults to tab_spaces=8 on my machine and noone elses

commit 9a085740b0a69a2c6eada380ce837ae360c429c9
Author: Jamie Brandon <jamie@scattered-thoughts.net>
Date:   Tue Apr 16 13:59:28 2019 -0400

    Print backtraces in CI

commit 2e79037c7400c8f5f5c5552e5a3600ee39083d42
Author: Jamie Brandon <jamie@scattered-thoughts.net>
Date:   Tue Apr 16 13:50:21 2019 -0400

    Remove unicode hyphen in comment - breaks rls

commit 22a308b73d06991eace341b408f5f2a215d0d3db
Author: Jamie Brandon <jamie@scattered-thoughts.net>
Date:   Tue Apr 16 13:10:32 2019 -0400

    Don't lint target or rustfmt.toml

commit db14fcd4802b9175d927ee7dcbfc83f8d4bb893a
Author: Jamie Brandon <jamie@scattered-thoughts.net>
Date:   Tue Apr 16 12:12:33 2019 -0400

    Clippy

commit 0d080790c8c8f0a9af13c138e8da0c2815484524
Author: Jamie Brandon <jamie@scattered-thoughts.net>
Date:   Tue Apr 16 12:06:22 2019 -0400

    Add rustfmt.toml to workaround RLS bug
    
    (https://github.com/rust-lang/rls-vscode/issues/516)

commit 7c6f56d03b637d792559d2d293afd052b12a3be6
Merge: 603ea9604 313419688
Author: Jamie Brandon <jamie@scattered-thoughts.net>
Date:   Tue Apr 16 12:06:04 2019 -0400

    Merge branch 'master' of github.com:MaterializeInc/materialize

commit 603ea9604cdb7c432221e6a1e2cb0c4430145af1
Author: Jamie Brandon <jamie@scattered-thoughts.net>
Date:   Tue Apr 16 12:05:54 2019 -0400

    Rustfmt

commit 3134196884ef78adab061edcb2b0a7fd14d0eca6
Author: Cuong Do <cuongdo@noreply.github.com>
Date:   Tue Apr 16 11:39:50 2019 -0400

    Trivial change to test webhook

commit fc41dceaeaa287c57f4eae62bf884642eea67f52
Author: Nikhil Benesch <nikhil.benesch@gmail.com>
Date:   Tue Apr 16 11:12:16 2019 -0400

    nix: add copyright headers to make linter happy

commit 157cc6327386aa92791ed48f0e612be579995266
Author: Jamie Brandon <jamie@scattered-thoughts.net>
Date:   Tue Apr 16 10:56:59 2019 -0400

    Handle type of UNION the same way postgres does

commit 3f557fed121707afd71bed9b90bb3dd25a93b800
Author: Jamie Brandon <jamie@scattered-thoughts.net>
Date:   Tue Apr 16 10:48:43 2019 -0400

    Remove leading $ from shell examples so they can be copy-pasted

commit 9f5276ee97593e41251e4e16fcecfccab3669183
Author: Jamie Brandon <jamie@scattered-thoughts.net>
Date:   Tue Apr 16 10:30:08 2019 -0400

    Update develop.md

commit 5e08ef4e611464340ff76e846c816b741dc7fee5
Author: Jamie Brandon <jamie@scattered-thoughts.net>
Date:   Tue Apr 16 10:15:59 2019 -0400

    Ignore target everywhere

commit 3ebd5c382c709765c5b901ad456c1ee7bca3ad92
Author: Jamie Brandon <jamie@scattered-thoughts.net>
Date:   Tue Apr 16 10:15:22 2019 -0400

    Update install instructions to use Nix

commit 237e1d96152885a893f3563dd0394081e4554064
Author: Jamie Brandon <jamie@scattered-thoughts.net>
Date:   Mon Apr 15 17:22:57 2019 -0400

    Add basic support for UNION ALL

commit ea521092542df06e706e5bd980b571f66231fa3f
Author: Jamie Brandon <jamie@scattered-thoughts.net>
Date:   Mon Apr 15 16:27:39 2019 -0400

    Only use darwin libs on darwin

commit 98f3ef6a4cc15d5af6bd01882fb6d87c835b59a6
Author: Nikhil Benesch <nikhil.benesch@gmail.com>
Date:   Mon Apr 15 16:22:56 2019 -0400

    Add macOS frameworks to Nix configuration

commit 1b5b7cf2567a12c9b4fc6584d4f9b06f09981093
Author: Jamie Brandon <jamie@scattered-thoughts.net>
Date:   Mon Apr 15 16:11:04 2019 -0400

    Pin nixpkgs version

commit 3e3c8e069606f80a12c979f4d7524edb5042fc97
Merge: 24a128c69 aa59d4f7f
Author: Jamie Brandon <jamie@scattered-thoughts.net>
Date:   Mon Apr 15 14:44:40 2019 -0400

    Merge branch 'master' of github.com:MaterializeInc/materialize

commit 24a128c694504d3f55fb6dfa79e68dc30d978691
Author: Jamie Brandon <jamie@scattered-thoughts.net>
Date:   Mon Apr 15 14:41:43 2019 -0400

    Add nix package

commit aa59d4f7f9e1860e988af07ed37f4c162ce9f8b7
Author: Nikhil Benesch <nikhil.benesch@gmail.com>
Date:   Mon Apr 15 13:35:50 2019 -0400

    README: fix docs links

commit 75d4ea9261ffa3af2b5c9cce5c0b6c1cdc6a83fe
Author: Nikhil Benesch <nikhil.benesch@gmail.com>
Date:   Mon Apr 15 13:34:49 2019 -0400

    *: adjust copyright for new company name

commit 3faecdf483bf8990003be0468e92bebf3270805d
Author: Nikhil Benesch <nikhil.benesch@gmail.com>
Date:   Fri Apr 12 16:00:00 2019 -0400

    doc: reorganize

commit 5a81a504cdc6347e774c1ae53c2dce28081332f0
Author: Jamie Brandon <jamie@scattered-thoughts.net>
Date:   Mon Apr 15 10:35:45 2019 -0400

    Pin rustc version to 1.33.0

commit c4971ac08f52750db6bc95559c2b5faa6c0c9a06
Author: Antonio Uccio Verardi <antonio.uccio.verardi@gmail.com>
Date:   Tue Apr 9 19:17:13 2019 +0100

    Port tests from avro/test_io.py (#81)
    
    Some of the test cases are disabled because they are failing atm.

commit ea0f04364bb45ddddda9df14c57ca56dea036736
Author: Nikhil Benesch <nikhil.benesch@gmail.com>
Date:   Mon Apr 8 08:12:05 2019 +0200

    *: rustfmt

commit 47a59c0fdf3dd4b885501e2e48e73ea987998526
Author: Nikhil Benesch <nikhil.benesch@gmail.com>
Date:   Mon Apr 8 08:04:58 2019 +0200

    ci: update to upstream Docker plugin
    
    Support for propagating the host UID/GID has been merged in the latest
    release.

commit 96d4bb781766064741c201dec1ddca81b177b273
Author: Nikhil Benesch <nikhil.benesch@gmail.com>
Date:   Thu Apr 4 17:49:05 2019 -0400

    mtrlz/sql: support DROP [DATA SOURCE|VIEW]
    
    This makes interactive work a lot less annoying.

commit 7488be6bceae28266782d29baffa849a3917a482
Author: Nikhil Benesch <nikhil.benesch@gmail.com>
Date:   Wed Apr 3 18:24:03 2019 -0400

    ore: include nanoseconds in log timestamps
    
    We now have "distributed tracing."

commit c2ea972fb7c0fd99131790a58435d1bb68887d9e
Author: Nikhil Benesch <nikhil.benesch@gmail.com>
Date:   Wed Apr 3 18:23:30 2019 -0400

    mtrlz/dataflow: pool HTTP connections
    
    This shaves about 10ms off the PEEK roundtrip time.

commit 77abae8010d380c54061307d57cd049daa56cbaf
Author: Nikhil Benesch <nikhil.benesch@gmail.com>
Date:   Wed Apr 3 17:33:10 2019 -0400

    mtrlz/dataflow: different consumer groups for each consumer
    
    Apparently this is important? Otherwise some topics were just getting
    dropped on the floor.

commit 72339a7105b6069365827bff080a8c79fdc7da9d
Author: Nikhil Benesch <nikhil.benesch@gmail.com>
Date:   Wed Apr 3 17:32:59 2019 -0400

    README: expand demo instructions

commit b92df63f2fad8f5e617220997b606a047d1db982
Author: Nikhil Benesch <nikhil.benesch@gmail.com>
Date:   Wed Apr 3 17:32:45 2019 -0400

    mtrlz/sql: remove empty file

commit f3e7e04ab158aca58e0a64d5bba056760f6b4645
Author: Nikhil Benesch <nikhil.benesch@gmail.com>
Date:   Wed Apr 3 16:57:27 2019 -0400

    mtrlz/{dataflow,sql}: support basic joins

commit 668a11900940725e16829633edc0283ae1c404b1
Author: Nikhil Benesch <nikhil.benesch@gmail.com>
Date:   Wed Apr 3 14:05:50 2019 -0400

    mtrlz/sql: support HAVING
    
    That was easy.

commit 2aaa0edb685af8a9138b58b79d95fdf35214d825
Author: Nikhil Benesch <nikhil.benesch@gmail.com>
Date:   Wed Apr 3 14:01:58 2019 -0400

    sql: continue schema -> type renaming
    
    This got missed in the initial commit that performed this renaming.

commit 12e725b246a7dc2979bb594c460c8d1ca40880f5
Author: Nikhil Benesch <nikhil.benesch@gmail.com>
Date:   Wed Apr 3 13:28:53 2019 -0400

    mtrlz/{dataflow,sql}: support for basic aggregations

commit be61a99b42a4ff6dadb6abd21e3b46874ca59bc4
Author: Nikhil Benesch <nikhil.benesch@gmail.com>
Date:   Wed Apr 3 01:02:37 2019 -0400

    *: fix ci

commit 6e4652656c4ffcb74217db15b94da9ba915609d8
Author: Nikhil Benesch <nikhil.benesch@gmail.com>
Date:   Wed Apr 3 00:59:20 2019 -0400

    ci: fix log collapsing
    
    The BUILDKITE env var wasn't getting threaded through to Docker.

commit 45bb51fdce9b40b71f7e5208ea6c86eefbfcf053
Author: Nikhil Benesch <nikhil.benesch@gmail.com>
Date:   Tue Apr 2 19:32:20 2019 -0400

    mtrlz/{dataflow,sql}: various half-baked improvements (aggs, filters)

commit 3287bc52fa5f8e2b56c3850eea232d4b6252915a
Author: Nikhil Benesch <nikhil.benesch@gmail.com>
Date:   Tue Apr 2 19:30:16 2019 -0400

    metastore: topologically sort dataflows
    
    It turns out that sorting by creation time, which I recently ripped out,
    implicitly provides a topological sort, so restore it.

commit f6424cb5b4e21cd89739d3c1e0987cdb98f55ef9
Author: Nikhil Benesch <nikhil.benesch@gmail.com>
Date:   Mon Apr 1 22:38:09 2019 -0400

    mtrlz/dataflow: unary ops

commit d05c13a64185b12468812604edeca9c79aa50e02
Author: Nikhil Benesch <nikhil.benesch@gmail.com>
Date:   Mon Apr 1 19:47:20 2019 -0400

    ci: allow matching on bools
    
    I like matching on bools.

commit efb2bbb1763a087648b9d4d8cb9dc36f79df177d
Author: Nikhil Benesch <nikhil.benesch@gmail.com>
Date:   Mon Apr 1 19:43:04 2019 -0400

    mtrlz/{sql,dataflow}: basic binop support

commit 10d3eee0fb86b482c1157b9ed2340b5fc3faff28
Author: Nikhil Benesch <nikhil.benesch@gmail.com>
Date:   Mon Apr 1 17:18:58 2019 -0400

    *: rustfmt + clippy fixes

commit ed5f88af20b6477718e669fc8401fd0191d9f213
Author: Nikhil Benesch <nikhil.benesch@gmail.com>
Date:   Mon Apr 1 17:17:03 2019 -0400

    mtrlz/{dataflow,sql,pgwire}: support more types

commit 244f01dd2ad3a1de19f4f91feb4614e0d1f20775
Author: Nikhil Benesch <nikhil.benesch@gmail.com>
Date:   Mon Apr 1 14:18:02 2019 -0400

    dataflow,sql: expression evaluation

commit cab358be76eff112d1798b1d8910834471f36072
Author: Nikhil Benesch <nikhil.benesch@gmail.com>
Date:   Mon Apr 1 11:46:57 2019 -0400

    sql: make better use of types

commit d2086ef026986962e10d93dc0dab7cba9ffe8001
Author: Nikhil Benesch <nikhil.benesch@gmail.com>
Date:   Mon Apr 1 11:38:17 2019 -0400

    infra: add editorconfig

commit 267ed9a13249056c27fa7629f58310a9b5860987
Author: Nikhil Benesch <nikhil.benesch@gmail.com>
Date:   Mon Apr 1 11:33:56 2019 -0400

    bin: add helper script to simulate ci test run

commit 934d7e8efae84ecfb1614f7fd2a8bfd03dbec152
Author: Nikhil Benesch <nikhil.benesch@gmail.com>
Date:   Mon Apr 1 11:29:27 2019 -0400

    Revert "mtrlz/repr: rework terminology"
    
    This reverts commit 61d5eec2570a49d376e67798b30bafeff0bd3ac4.
    Upon reflection, the original terms were better.

commit b9f658e916da0faae7475f39723f4a0c1338359f
Author: Nikhil Benesch <nikhil.benesch@gmail.com>
Date:   Mon Apr 1 01:09:59 2019 -0400

    ci: fix misspelled key in config

commit 9ce0265a4ce5322317e385e7206201ada3ce9ae9
Merge: 9a0721b81 f0b0e0f06
Author: Nikhil Benesch <nikhil.benesch@gmail.com>
Date:   Mon Apr 1 00:30:33 2019 -0400

    Merge pull request #16 from benesch/cargo-cache
    
    ci: cache cargo index

commit f0b0e0f06a1267de6b0a03b41e32f83499284dfe
Author: Nikhil Benesch <nikhil.benesch@gmail.com>
Date:   Mon Apr 1 00:18:41 2019 -0400

    ci: cache cargo index
    
    Don't waste time downloading crates that Cargo downloaded on the last
    build.

commit 9a0721b8145de5679908dc13a3a38a5ef80884ab
Merge: bd75dc61d 0799663b2
Author: Nikhil Benesch <nikhil.benesch@gmail.com>
Date:   Mon Apr 1 00:11:34 2019 -0400

    Merge pull request #15 from benesch/sccache-fix
    
    ci: maximize caching

commit 0799663b27614232a6d51cbc5b128bd248f849cb
Author: Nikhil Benesch <nikhil.benesch@gmail.com>
Date:   Sun Mar 31 20:41:28 2019 -0400

    ci: maximize caching

commit bd75dc61d12e21aa30090e0e18976ad78d796e93
Merge: a3b1b381c 989f10791
Author: Nikhil Benesch <nikhil.benesch@gmail.com>
Date:   Sun Mar 31 15:30:40 2019 -0400

    Merge pull request #14 from timelydata/sccache
    
    ci: cache builds

commit 989f107910d5c6c7912bdb28d89762bcccc43cd4
Author: Nikhil Benesch <nikhil.benesch@gmail.com>
Date:   Sun Mar 31 14:06:08 2019 -0400

    ci: cache builds

commit a3b1b381c3f19359a5325cbfb0d8a4bef24ff6b4
Author: Nikhil Benesch <nikhil.benesch@gmail.com>
Date:   Sun Mar 31 13:13:33 2019 -0400

    *: rustfmt

commit e81a9f9b0bd4b2d6273a47c5467c25923d72ab35
Author: Nikhil Benesch <nikhil.benesch@gmail.com>
Date:   Sun Mar 31 13:11:32 2019 -0400

    mtrlz/pgwire: fix link in documentation

commit 20fa1cfdc158fd206dc80eadf7e5cf507f10e2ba
Author: Nikhil Benesch <nikhil.benesch@gmail.com>
Date:   Sun Mar 31 13:09:51 2019 -0400

    ore: merge stream traits

commit a21084f415f696c2216dc83843543901eb8c8cf3
Author: Nikhil Benesch <nikhil.benesch@gmail.com>
Date:   Sun Mar 31 12:50:43 2019 -0400

    metastore: support deleting dataflows

commit 71861fcc14986d4091a7037be074e46ebfcb4d81
Author: Nikhil Benesch <nikhil.benesch@gmail.com>
Date:   Sun Mar 31 01:51:23 2019 -0400

    *: add periods to crate descriptions
    
    New style guide rule ¯\_(ツ)_/¯.

commit 1eee84b6e6f66be788faa8c0928d0ae3d2e76c25
Author: Nikhil Benesch <nikhil.benesch@gmail.com>
Date:   Sun Mar 31 01:49:04 2019 -0400

    metastore: rename new_dataflow to create_dataflow
    
    "Create" better implies that lots of work must be done (i.e., a network
    roundtrip) as is more antonymous with delete.

commit 22e5ab98bd64fd9677591336e092bf17e3c82d27
Author: Nikhil Benesch <nikhil.benesch@gmail.com>
Date:   Sun Mar 31 01:46:19 2019 -0400

    metastore: deflake test
    
    The test needs to poll all three watchers in parallel to be reliable,
    since failing to poll one future can cause the notifier future to get
    stuck.

commit 5a2536ac401ab8dc889adf274c720b0ebf0f678a
Author: Nikhil Benesch <nikhil.benesch@gmail.com>
Date:   Sat Mar 30 18:03:42 2019 -0400

    metastore: avoid unnecessary connections
    
    The old approach of opening a new connection for every operation was
    absolutely ridiculous.

commit 2a68515c9289077bbeae4c1655a28ac4fc92feff
Author: Nikhil Benesch <nikhil.benesch@gmail.com>
Date:   Sat Mar 30 17:45:31 2019 -0400

    metastore: futurize dataflow watches
    
    Make dataflow watches play nicer with the futures world by using futures
    channels. This avoids spawning a separate thread just to pipe metastore
    and the dataflow driver together.

commit 0cc954f50c9d12752cd784fed3447b2a17706264
Author: Nikhil Benesch <nikhil.benesch@gmail.com>
Date:   Sat Mar 30 15:49:06 2019 -0400

    metastore: don't bother sorting events
    
    The dataflow sequencer now takes care of this.

commit 3750fbca544d9a22f5fb74d03258947844390804
Author: Nikhil Benesch <nikhil.benesch@gmail.com>
Date:   Thu Mar 28 14:41:02 2019 -0400

    ci: automatically deploy docs

commit 9e297bad8179b5ee6cb6869a69deb5300be615f4
Merge: 6f5b7b0db 32c26dd4f
Author: Nikhil Benesch <nikhil.benesch@gmail.com>
Date:   Thu Mar 28 12:25:25 2019 -0400

    Merge pull request #12 from timelydata/ci
    
    ci: add support for testing

commit 32c26dd4f32f38c4cb2183e2384a6fcc1deedaa7
Author: Nikhil Benesch <nikhil.benesch@gmail.com>
Date:   Wed Mar 27 14:04:05 2019 -0400

    ci: add support for testing

commit 6f5b7b0dbbda68c79a72c6b26238753f1a5efc3b
Author: Nikhil Benesch <nikhil.benesch@gmail.com>
Date:   Wed Mar 27 12:44:49 2019 -0400

    *: improve documentation

commit 2b1f3fb0b3b5ff96f5997fa9c325cb4189a6cf4b
Author: Nikhil Benesch <nikhil.benesch@gmail.com>
Date:   Tue Mar 26 17:59:29 2019 -0400

    ore: remove FutureExt::into_err
    
    Turns out this was already in the futures crate, just named "from_err"
    🙈.

commit 97b7112a3342930bf852d9ad1a932988e18b1650
Author: Nikhil Benesch <nikhil.benesch@gmail.com>
Date:   Tue Mar 26 17:55:50 2019 -0400

    *: clean up some documentation

commit f3f012e2713abe7844c944d9eea5f36aa13fdb76
Author: Nikhil Benesch <nikhil.benesch@gmail.com>
Date:   Tue Mar 26 17:33:15 2019 -0400

    *: fix all tests

commit 07861284d3dbc02a7062d231f21b4260fbbf7297
Author: Nikhil Benesch <nikhil.benesch@gmail.com>
Date:   Tue Mar 26 17:15:53 2019 -0400

    *: fix clippy warnings

commit cf9d26e73922145ed44fb00aa691e38df4d17434
Author: Nikhil Benesch <nikhil.benesch@gmail.com>
Date:   Tue Mar 26 16:43:21 2019 -0400

    ore/sync: extract a synchronized resource lottery
    
    For situations where a resource needs to be handed to exactly one
    thread.

commit 8867f5ebaff13f1730719ab8c7a3e82361cafa83
Author: Nikhil Benesch <nikhil.benesch@gmail.com>
Date:   Tue Mar 26 15:23:49 2019 -0400

    mtrlz/dataflow: split into modules
    
    This is much easier to work with.

commit 5f846a8ea0ff244f22fa713d32d7c01649869aa4
Author: Nikhil Benesch <nikhil.benesch@gmail.com>
Date:   Tue Mar 26 12:05:22 2019 -0400

    mtrlz/dataflow: tease apart kafka sources

commit a7cc2e581b18b9dfac87d915e19c524228dcb71a
Author: Nikhil Benesch <nikhil.benesch@gmail.com>
Date:   Tue Mar 26 11:51:44 2019 -0400

    mtrlz/dataflow: slightly improve missing dataflow error message

commit 200ee1e05c41d3deed86b2b0862bbb4b6d7fdac7
Author: Nikhil Benesch <nikhil.benesch@gmail.com>
Date:   Tue Mar 26 11:48:20 2019 -0400

    materialized: add a basic panic handler
    
    The standard Rust panic handler is unreadable, and has the awful
    behavior that one thread panicking does not take down the entire
    executable.

commit f20f260995e420d70bb279c8f17b9bf273251242
Author: Nikhil Benesch <nikhil.benesch@gmail.com>
Date:   Tue Mar 26 10:48:45 2019 -0400

    rustfmt

commit 03edcf50fb209d04d21b86257200f7c62fea0ed9
Author: Nikhil Benesch <nikhil.benesch@gmail.com>
Date:   Mon Mar 25 19:00:46 2019 -0400

    mtrlz/*: use new fundamental repr

commit 443a093a7eb1e2074afb15d0981b43ed7143eca8
Author: Nikhil Benesch <nikhil.benesch@gmail.com>
Date:   Mon Mar 25 18:33:26 2019 -0400

    mtrlz/repr: use ordered-float crate
    
    The OrderedFloat crate is a bit more feature-complete than the
    implementation I hacked together, and notably supports hashing floats,
    which we'll need momentarily.

commit 61d5eec2570a49d376e67798b30bafeff0bd3ac4
Author: Nikhil Benesch <nikhil.benesch@gmail.com>
Date:   Mon Mar 25 17:59:08 2019 -0400

    mtrlz/repr: rework terminology
    
    A "type" is better named a "schema" and an "ftype" is better named a
    "type". This commit makes said change.

commit c81a7a3792c580e6f94e5e8f8fcd9dc8f544bec5
Author: Nikhil Benesch <nikhil.benesch@gmail.com>
Date:   Mon Mar 25 17:44:33 2019 -0400

    README: enable syntax highlighting in demo instructions

commit dfdeafff7a5fea211b3571adb267450e86c2f11e
Author: Nikhil Benesch <nikhil.benesch@gmail.com>
Date:   Mon Mar 25 17:37:42 2019 -0400

    mtrlz/interchange: learn to robustly parse Avro schemas

commit df0461df700f576e03029de91fa5d938f061584e
Author: Nikhil Benesch <nikhil.benesch@gmail.com>
Date:   Mon Mar 25 14:03:03 2019 -0400

    mtrlz/repr: learn about types

commit 0707c069d0138c2d705b5d7cdff10a2fe423d00d
Author: Nikhil Benesch <nikhil.benesch@gmail.com>
Date:   Mon Mar 25 11:08:55 2019 -0400

    mtrlz/repr: new module for data representation
    
    Add a new module to serve as the base data representation in all layers
    of the stack.

commit 9f6f9aba3cd9c3747ab75ab1ec2b139b64a76724
Author: Nikhil Benesch <nikhil.benesch@gmail.com>
Date:   Sun Mar 24 14:35:33 2019 -0400

    mtrlz/pgwire: add missing copyright header

commit 06a1b011385a811b1877fa80ecd327bf3d4eb9de
Author: Antonio Uccio Verardi <antonio.uccio.verardi@gmail.com>
Date:   Sun Mar 24 09:23:12 2019 +0000

    Make use of rust 2018 features (#78)
    
    * Make use of rust 2018 features
    
    - Install rustfmt and clippy on stable
    - Drop rustfmt option only available in nightly
    - Remove all unecessary extern crate and macro use
    - Update serde and failure crate usage of macros
    - Optimize some imports
    - Bump dependencies
    - Also minor adjustments to Makefile

commit 4b396d7e8ef002db3e30212d0d8d6ab4ed98899f
Author: Nikhil Benesch <nikhil.benesch@gmail.com>
Date:   Thu Mar 21 14:14:45 2019 -0400

    mtrlz/{dataflow,sql}: rustfmt

commit 07c470e462015fee2c935777d55b3642809cc0de
Author: Nikhil Benesch <nikhil.benesch@gmail.com>
Date:   Thu Mar 21 14:14:24 2019 -0400

    mtrlz/pgwire: clean up style

commit f966ce51879251320ecfb31c94e3eb5d29285285
Author: Nikhil Benesch <nikhil.benesch@gmail.com>
Date:   Thu Mar 21 12:20:17 2019 -0400

    README: add instructions for basic demo

commit b1a0dc3754ca65ead0c8af045d80a8ed8ee87915
Author: Nikhil Benesch <nikhil.benesch@gmail.com>
Date:   Thu Mar 21 01:12:00 2019 -0400

    mtrlz/{dataflow,sql}: support basic projections

commit 64e2cb45130637a4837bb1b9c387892930aaaa82
Author: Nikhil Benesch <nikhil.benesch@gmail.com>
Date:   Thu Mar 21 00:27:07 2019 -0400

    README: fix link

commit 2cca6f769609e9e4ce7bbed5a83ba7d9867a038a
Author: Nikhil Benesch <nikhil.benesch@gmail.com>
Date:   Thu Mar 21 00:24:36 2019 -0400

    mtrlz: support building and peeking data sources
    
    This code is really messy. You've been warned. Cleanup is coming soon.

commit 1891c888a61753f0c9e5c10579acdb1dcc555863
Author: Nikhil Benesch <nikhil.benesch@gmail.com>
Date:   Mon Mar 18 12:30:06 2019 -0400

    mtrlz/{pgwire,server,sql}: hook up metastore and pgwire
    
    It's now possible to create dataflows through pgwire!

commit 1eb3f8d74255ea49987640c5a0e4d763c0ded01c
Author: Nikhil Benesch <nikhil.benesch@gmail.com>
Date:   Sun Mar 17 22:51:51 2019 -0400

    mtrlz/pgwire: avoid unnecessary ownership transfer

commit db294d1abaefae259bfd7b804af0ba0c2f236799
Author: Nikhil Benesch <nikhil.benesch@gmail.com>
Date:   Sun Mar 17 22:49:48 2019 -0400

    Plumb metastore into the server
    
    This annoyingly required a patch to the state_machine_future library.

commit d3aa3c93bb6be4c500a9977b519255bacb92d9be
Author: Nikhil Benesch <nikhil.benesch@gmail.com>
Date:   Fri Mar 15 17:55:21 2019 -0400

    Fix some lint warnings

commit 78ce0e83b6db7f3691aa9bff180de4daa85b77d4
Author: Nikhil Benesch <nikhil.benesch@gmail.com>
Date:   Fri Mar 15 17:49:55 2019 -0400

    Fix dataflow types test

commit c2b05a5158cdc72755a0b53ffcc97cbdce8fcfd3
Author: Nikhil Benesch <nikhil.benesch@gmail.com>
Date:   Fri Mar 15 17:39:06 2019 -0400

    Add some missing license headers

commit 3d990a038b6ec4272f3a1f64efdbc8db9dd5e348
Author: Nikhil Benesch <nikhil.benesch@gmail.com>
Date:   Fri Mar 15 14:40:34 2019 -0400

    Add an extremely basic SQL parser

commit e587f671ab809973cdfb1b0b40ec7c3f32dd4834
Author: Nikhil Benesch <nikhil.benesch@gmail.com>
Date:   Fri Feb 22 12:14:08 2019 -0500

    Initial commit

commit e5ca80b51c634f5e75629af4f2f4e424c4754be4
Author: Flavien Raynaud <flavien.raynaud@gmail.com>
Date:   Sat Mar 9 13:00:55 2019 +0000

    Bump version to 0.6.5

commit 9e6b18fabd4c3d53c250aaa95a71e11b8bff4986
Author: Flavien Raynaud <flavien.raynaud@gmail.com>
Date:   Sat Mar 9 12:53:28 2019 +0000

    Allow Array(Int) to be converted to Bytes

commit aa1cb568d8213e3ad7ed46fa6787d7876a95e77e
Author: Jiakuan Li <jiakuan.li.cs@gmail.com>
Date:   Sat Mar 9 20:17:37 2019 +0800

    Fix enum type deserialization bug (#73)

commit 7b820c13a1f25c7fd35850a6fed921aabc3ed103
Author: Vincent Foley <vincent.foley@adgear.com>
Date:   Fri Jan 18 13:02:49 2019 -0500

    Add edition declaration to Cargo.toml (#64)
    
    Commit 35d2108 converted many source files to use Rust 2018
    features (e.g., `use crate`).  These changes make avro-rs impossible
    to build with older versions of the compiler.
    
        ~/src/avro-rs$ rustc --version
        rustc 1.29.2 (17a9dc751 2018-10-05)
    
        ~/src/avro-rs$ cargo check
            Checking avro-rs v0.6.4 (file:///home/vincent.foley/src/avro-rs)
        error[E0658]: `crate` in paths is experimental (see issue #45477)
          --> src/codec.rs:12:5
           |
        12 | use crate::types::{ToAvro, Value};
           |     ^^^^^
    
        error[E0658]: `crate` in paths is experimental (see issue #45477)
          --> src/codec.rs:13:5
           |
        13 | use crate::util::DecodeError;
           |     ^^^^^
    
        [Many more errors]
    
        error: aborting due to 33 previous errors
    
        For more information about this error, try `rustc --explain E0658`.
        error: Could not compile `avro-rs`.
    
        To learn more, run the command again with --verbose.
    
    This commit adds an explicit declaration in Cargo.toml that Rust 2018
    is needed to build avro-rs.  The build still fails with older versions
    of the compiler, but at the reason is clearer.
    
        ~/src/avro-rs$ rustc --version
        rustc 1.29.2 (17a9dc751 2018-10-05)
    
        ~/src/avro-rs$ cargo check
        error: failed to parse manifest at `/home/vincent.foley/src/avro-rs/Cargo.toml`
    
        Caused by:
          editions are unstable
    
        Caused by:
          feature `edition` is required
    
        this Cargo does not support nightly features, but if you
        switch to nightly channel you can add
        `cargo-features = ["edition"]` to enable this feature

commit 1afc3d95b712de77c7740e7e12cd62dc06d50e50
Author: Flavien Raynaud <flavien.raynaud@gmail.com>
Date:   Mon Dec 24 12:13:16 2018 +0000

    Bump version to 0.6.4

commit 9492d6c38a3ef6206ec0a82192a08a493864fe6a
Author: Benjamin Zikarsky <benjamin@zikarsky.de>
Date:   Mon Dec 24 13:12:02 2018 +0100

    Fix variable-length encoding for big i64 numbers
    
    `util::encode_variable(i64)` took a i64 but used both `>>` (which does a
    arithmetic shift for i64) and `>=`. Those operations don't work on
    numbers/bytes which are still zig-zag-encoded because a large zig-zag
    encoded number may have a leading `1`. This breaks `>=` as the number is
    assumed to be negative and also the right-shift will keep introducing
    new `1`s which leads to an infinite loop.
    
    Replacing the argument (and the callsites) with a u64 fixes those
    issues.
    
    To make sure this does not regress in the future, tests for `i64::MAX`
    and `i64::MIN` have been added.

commit 29f318b26332c0f23a5d60dd1ab2ab76713136ce
Author: Flavien Raynaud <flavien.raynaud@gmail.com>
Date:   Wed Dec 19 12:12:23 2018 +0000

    Bump version to 0.6.3

commit 2fc8d9d12a25bb51865688fdefde933643adcdf5
Author: Norberto Lopes <nlopes.ml@gmail.com>
Date:   Tue Dec 18 18:00:42 2018 +0000

    Add fingerprinting generation to library
    
    Added SHA-256 and MD5 but haven't added Rabin due to lack of a well supported library. May
    be implemented at a later phase either directly here or by creating a library to calculate
    it.

commit 10ea827d83bab40e7a0b7f33258575c693d4ec84
Author: Flavien Raynaud <flavien.raynaud@gmail.com>
Date:   Sun Dec 16 11:23:43 2018 +0000

    Add initial integration-style tests
    
    Replicate Python tests from https://github.com/apache/avro/tree/master/lang/py/test

commit 35d21089685d707b47f7e3a7f41dc971230e434f
Author: Flavien Raynaud <flavien.raynaud@gmail.com>
Date:   Sun Dec 16 11:22:12 2018 +0000

    Convert to Rust 2018 edition
    
    Running `cargo fix --edition`

commit 37ea68810359b0e2e57bb6aa31e95f4402206707
Author: Flavien Raynaud <flavien.raynaud@gmail.com>
Date:   Tue Dec 4 20:42:24 2018 +0000

    Bump version to 0.6.2

commit 227940c6f768e8ccd5cb08edd23fef2821041010
Author: Mikael Ståldal <mikael@staldal.nu>
Date:   Tue Dec 4 19:38:34 2018 +0100

    Fix snappy codec
    
    * Fix Snappy codec

commit fe683289225f4e8d689b64c2c4c80adee177d56b
Author: Flavien Raynaud <flavien.raynaud@gmail.com>
Date:   Sun Oct 7 08:00:21 2018 +0100

    Bump version to 0.6.1

commit 11300013b967b2441f4deed81d5eadff69bdeeef
Author: David Alber <alber.david@gmail.com>
Date:   Thu Oct 4 01:27:42 2018 -0700

    Convert i32 to i64 earlier during serialization
    
    By expanding to 64-bits earlier, we can correctly serialize the
    full range of 32-bit integers.

commit 9bf236546d47434b37bbc7cea9868dc5d88f728f
Author: David Alber <alber.david@gmail.com>
Date:   Sat Sep 29 02:26:48 2018 -0700

    Shift 64-bit integers by sixty-three bits

commit c3a97bbbbd115eaed220603151ffb3b520af7286
Author: Flavien Raynaud <flavien.raynaud@gmail.com>
Date:   Sat Aug 11 10:15:56 2018 +0100

    Bump version to 0.6.0

commit cebc49855e1b9571550436704f48e6dc0c3da63a
Author: Jason <jasonaboatman@gmail.com>
Date:   Wed Aug 8 08:12:24 2018 -0400

    impl Send+Sync for Schema
    
    * Refactor Schema so that it is `Send+Sync`
    * Fix benchmarks

commit e35eb562e22ca9d8229d90dfd27e003eae68c98b
Author: Flavien Raynaud <flavien.raynaud@gmail.com>
Date:   Mon Aug 6 13:19:03 2018 +0100

    Fix encoding of empty Array/Map
    
    * Fix encoding of empty Array/Map
    
    When a container is empty, only `0u8` has to be encoded, to signal the
    end of the container.

commit e5c6c55c324d8c971df0e06e2527485593349ae2
Author: Jason <jasonaboatman@gmail.com>
Date:   Mon Aug 6 08:18:21 2018 -0400

    Add full union support
    
    * Added some missing serialization fields for the `Schema::Record`
    variant.
    
    * Implemented parsing canonical form of schemas.
    
    * Remove redundant `pcf_float` function. Move `use` to module scope
    instead of function scope.
    
    * Added full union support
    
    * Verify union has unique types. O(1) implementation of finding (usize,
        &Schema) for a given value in a union.
    
    * Improved `PartialEq` performance. Implemented schema resolution for the
    case where the writer is a union and the reader is not.
    
    * Added some more testing for full union support

commit 260d189af83cfb5e91f73594bdbda139aa8e4d6e
Author: Flavien Raynaud <flavien.raynaud@gmail.com>
Date:   Sun Aug 5 13:36:32 2018 +0100

    Add `to_value` to the API (#46)
    
    Reciprocal function of `from_value`.
    Also add unit test and documentation for `to_value`

commit 57bc8c6ca029cb79ece7ab947742ad6f9a8a5610
Author: Jason <jasonaboatman@gmail.com>
Date:   Wed Jul 18 08:33:22 2018 -0400

    Add support for Parsing Canonical Form
    
    Implemented parsing canonical form of schemas.

commit c7942e475fc850aa727d0f13cb2b08edfbb7d226
Author: Flavien Raynaud <flavien.raynaud@gmail.com>
Date:   Sun Jun 24 10:02:57 2018 +0100

    Add a maximum allocation size when decoding
    
    Upon bogus input data, decoding could allocate an insane amount of
    memory (if length field is misencoded to a huge number) and panic.
    To avoid this behaviour, this change introduces a limit (default 512MB)
    to any allocation that can be done when decoding data.
    
    Also return errors when decoding bogus int/long causing overflows.

commit 1860c7072b3ffcdb47787861a8641063955b5f20
Author: Antonio Uccio Verardi <antonio.uccio.verardi@gmail.com>
Date:   Sat Jun 23 17:18:18 2018 +0100

    Link the other two repos in README

commit d053b29590cbafddbf0c40ea379d93907659fd75
Author: Antonio Uccio Verardi <antonio.uccio.verardi@gmail.com>
Date:   Wed Jun 20 08:44:37 2018 +0100

    Run clippy as pre-commit

commit 3b822b637779f2269956549f186c9dca0e4155d8
Author: Antonio Uccio Verardi <antonio.uccio.verardi@gmail.com>
Date:   Sun Jun 17 23:29:34 2018 +0100

    Bump version to 0.4.1

commit 6a036fc9fdb17dd75a2ad85520aab30c644632c1
Author: Antonio Uccio Verardi <antonio.uccio.verardi@gmail.com>
Date:   Sun Jun 17 19:04:37 2018 +0100

    Linting and clipping
    
    * Run make lint
    
    * Implement changes suggested by clippy

commit 2660a8bd48ab31165cd8b75e29c21370259e95f7
Author: Antonio Uccio Verardi <antonio.uccio.verardi@gmail.com>
Date:   Sun Jun 17 13:32:16 2018 +0100

    Bump version to 0.4.0

commit 8b0df4cc8cd45204b744c8f5ecdb9a41f7bb0c72
Author: Antonio Uccio Verardi <antonio.uccio.verardi@gmail.com>
Date:   Sun Jun 17 13:31:47 2018 +0100

    Remove pub from private methods of Block

commit 372b548deb5b0641491295a4e3f5f4bcd3ee740d
Author: Jason <jasonaboatman@gmail.com>
Date:   Fri Jun 15 02:07:54 2018 -0700

    Performance Enhancements
    
    * Added some missing serialization fields for the `Schema::Record`
    variant.
    
    * Encoding messages on write was expensive, spending lots of time moving
    objects around. This has been optimized with `encode_ref`.
    * Decode benchmarks were not actually running properly, as it was not
    `unwrap()`'ing the reader. This has been fixed.
    * `Reader` has been refactored to do less allocation and copying. More
    to come.
    * `Reader` has been refactored to not resolve schema differences if
    reader and writer schema are the same.
    
    In total, writing is improved by quite a bit (hard to measure, more
        later).
    Reading is ~69% faster.
    
    * * Added another benchmark to compare against JSON. Currently ~2.5x
    faster.
    * Changed around `Record` decoding to squeeze out some more performance.
    
    * Fix unused warnings
    
    * benchmark read now unwraps the record, to verify that it is reading it
    correctly.
    Added a benchmark which reads from a file. Copied over file from
    `goavro` for comparison.
    
    `goavro` runs in `5053694 ns/op`
    `avro-rs` runs in `3,030,934 ns/iter (+/- 109,920)`
    
    * Move `serde_json` benchmarks into their own file.
    
    * Added some comments explaining the origin of the `quickstop-null.avro`
    file.
    
    * Revert the `Schema::Record` decoding back to allocating a `Vec::new()`
    initially instead of a `Value::Record(Vec::new())`, for clarity.
    
    * Added some rustdoc comments to the newly added `Writer` methods
    
    * `encode` now just passes through to `encode_ref`
    
    * Split out `read` and `read_schemaless` in serde benchmarks.

commit d39cc236d34e8a693d05decf03f9ba0fbfdc092a
Author: Flavien Raynaud <flavien.raynaud@gmail.com>
Date:   Thu Jun 7 10:47:54 2018 +0100

    Bump version to 0.3.2

commit c94cbb0f35c377c6b00ab020a65ac5968e3d72f7
Author: Jason <jasonaboatman@gmail.com>
Date:   Thu Jun 7 02:03:32 2018 -0700

    Added some missing serialization fields for `Schema::Record`
    
    namespace, doc and aliases

commit c3a19a206e02a1b80700267c6b356c4cf741eeea
Author: Flavien Raynaud <flavien.raynaud@gmail.com>
Date:   Sat Jun 2 08:12:55 2018 +0100

    Bump version to 0.3.1

commit 04f82c23a362c4f53235b301c22947eac6440a0c
Author: laslowh <graham.miller@gmail.com>
Date:   Sat Jun 2 03:06:35 2018 -0400

    Encode/decode Union values with a leading zig-zag long
    
    Previously the index at the beginning of an union value
    had been a directly-encoded byte.  Also fixes a problem where
    the value was not correctly wrapped in a Value::Union upon decode.
    
    Also, tests for all new code.

commit ef8878d63315f0ac2ec896bdbe57554b54e0bdeb
Author: Flavien Raynaud <flavien.raynaud@gmail.com>
Date:   Tue May 29 22:47:43 2018 +0100

    Bump version to 0.3.0

commit 520d2ce458f550534b6121c35229484c641a17c4
Author: Flavien Raynaud <flavien.raynaud@gmail.com>
Date:   Tue May 29 21:39:57 2018 +0000

    Use a single &[u8] when decoding items in Reader (#32)
    
    The current implementation creates a new view of `bytes` for each
    iteration, meaning it is forced to read the first item in `bytes` over
    and over, due to a
    [gotcha](https://doc.rust-lang.org/src/std/io/impls.rs.html#180) in the
    `io::Read` implementation of `&'a [u8]`.
    
    The new implementation will consume bytes after each call to
    `from_avro_datum`, effectively reading all the items.

commit f1434f01c23b266f51b4cd367d8cdeff6177400b
Author: Antonio Uccio Verardi <antonio.uccio.verardi@gmail.com>
Date:   Tue May 29 21:08:09 2018 +0100

    Move from string as errors to custom fail types (#29)
    
    These change moves the crate from using strings as errors, which is a
    pattern that should be used only for prototyping, to defining custom
    fail types, based on https://boats.gitlab.io/failure/
    
    I have decided to define four different error structs based on what is
    written in this GitHub issue:
    https://github.com/rust-lang-nursery/failure/issues/7
    
    However, I am very open to change everything to a single error type
    defined as an enum, if you prefer so.
    
    In addition, this branch also resurrects a simple zigzag test that
    slipped through our test revamp as commented.

commit 90a649855e0a6fb9bcb9661d9f245f39d0e47331
Author: Flavien Raynaud <flavien.raynaud@gmail.com>
Date:   Wed May 23 18:44:48 2018 +0100

    Use crates.io badge (#28)

commit b4138d001ca282fbdd27bc4c26d8aa4d63adf039
Author: Flavien Raynaud <flavien.raynaud@gmail.com>
Date:   Tue May 22 10:32:50 2018 +0100

    Bump version to 0.2.0

commit 5dde3b50fff38cbe41022e879b5a7572e23d5c6c
Author: Flavien Raynaud <flavien.raynaud@gmail.com>
Date:   Mon May 21 13:58:03 2018 +0100

    Various fixes/improvements to the documentation (#26)
    
    * Add missing asterisks in documentation
    
    * Fix Writer::extend documentation
    
    * Make from_avro_datum publicly visible
    
    * Add documentation for from_value

commit 2baa51181e0e01540aaee79cb77692f60ef4d136
Author: Flavien Raynaud <flavien.raynaud@gmail.com>
Date:   Wed May 16 16:03:07 2018 +0100

    Bump version to 0.1.1

commit aee5164af0ea760d88c42cc0c4cbf9126b4e7066
Author: Flavien Raynaud <flavien.raynaud@gmail.com>
Date:   Wed May 16 15:52:24 2018 +0100

    Rename crate from avro to avro-rs

commit faadbc4babf31d392d5ca24748ff87616b90deea
Author: Flavien Raynaud <flavien.raynaud@gmail.com>
Date:   Wed May 16 15:30:41 2018 +0100

    Use an available package name
    
    avro is already taken. avro-rs should be fine.

commit c0c7a3404bb3f62bb268ee6897bd5f768a7632b2
Author: Flavien Raynaud <flavien.raynaud@gmail.com>
Date:   Wed May 16 15:25:35 2018 +0100

    Make Cargo.toml crates.io-compliant

commit 69b10236ca8a5d5511de54b727275b9cc3f73a0d
Author: Antonio Uccio Verardi <antonio.uccio.verardi@gmail.com>
Date:   Wed May 16 14:48:37 2018 +0100

    Write tutorial and README (#24)
    
    * Add badges and info to README
    
    * Make example main() return Result so we can use ?
    
    * Write home page tutorial
    
    Also re-export Reader at the top level of the library

commit deca059d9c84fe896ca710229dd8b02fd2670ccd
Author: Flavien Raynaud <flavien.raynaud@gmail.com>
Date:   Fri May 4 18:53:53 2018 +0100

    Avoid calling .resolve when writing datum (#23)

commit d6e9c797cce2c1899f508108df7632205829a0ba
Author: Flavien Raynaud <flavien.raynaud@gmail.com>
Date:   Thu May 3 16:19:23 2018 +0100

    Schema documentation and unit tests. (#22)
    
    * Remove RecordSchema struct
    
    This makes `Schema::Record` more in line with the other `Schema::`
    variants (`Enum` and `Fixed`).
    
    Also makes creation of `Schema::Record` easier (less `Rc`, one less
    struct) and allows to use only specific items (e.g: `fields`).
    
    * Add documentation and tests to Schema
    
    * Avoid borrowing Schema in types::Record
    
    This is a not-so-great trick that will hopefully not be needed once #19
    has been tackled.
    
    * Add documentation for Record
    
    * Add module-level documentation for schema.rs and types.rs
    
    * Add docstrings for parse_*

commit 738fa3b416c66a9620a034f278bb9290035437c8
Author: Antonio Uccio Verardi <antonio.uccio.verardi@gmail.com>
Date:   Thu May 3 14:33:57 2018 +0100

    Reader module tests, documentation and interface overhaul (#21)
    
    * Add documentation for reader module
    
    * Re-export Reader in lib.rs
    
    * Add tests for Reader and read header at creation
    
    Implementing a lazy reading of the header causes a couple problems in
    the implementation (e.g. infinite loops without a couple state flags)
    and the writer schema to be an Option until the first value is read
    or read_header is called. For this reason, header is read at creation
    time and now both new and with_codec do return a Result.
    
    Writing tests, a second bug that could cause many errors to be returned
    by the iterator instead of only one emerged. To fix it, a flag to signal
    that the reader entered in a state of error has been added, so the
    iteration will stop automatically at the next step.
    
    * Add from_avro_datum function and more tests for reader
    
    from_avro_datum has been added for parity with to_avro_datum

commit cc55d86ce7eb966d6945a3a3ed1be5703bca0c0f
Author: Antonio Uccio Verardi <antonio.uccio.verardi@gmail.com>
Date:   Tue May 1 17:03:46 2018 +0100

    Writer module overhauling (#20)
    
    * Make encode and decode private
    
    There is little reason why these should be public, especially if we
    expose a write function with very little overhead.
    
    They can always be made public when needed.
    
    * Substitute SingleWriter with to_avro_datum
    
    The avro implementations in other languages provide a DataFileWriter and
    a DatumWriter which are respectively the interface to write to a file
    with buffering and headers and the interface to just convert a value to
    avro.
    
    While Writer is definitely equivalent (actually more generic than
    DataFileWriter since it accepts anything implementing Write), the
    SingleWriter struct wasn't really similar to DatumWriter. For this
    reason we replaced SingleWriter with the function to_avro_datum which
    does exactly what DatumWriter does.
    
    Please notice that the Rust package doesn't provide a public
    Encoder/Decoder interface like other implementations at the moment,
    since we only support binary encoding. Given that we don't even pass the
    writable interface down to the encoder (because we can't see why we
    should do it), this makes the Encoder/Decoder pretty much useless for
    the users of the library.
    
    This commit also changes the visibility rules of the writer module,
    re-exporting Writer and to_avro_datum at the lib level.
    
    * Documentation for writer module
    
    * Add unit tests to writer module
    
    The number of bytes returned by the writing operations didn't add up
    with the length of the output data. Fixed two bugs causing that.
    
    * Implement Writer::extend_ser for parity with extend
    
    Until we are not able to make Value implement Serialize, we are obliged
    to duplicate the interface for the writer.

commit 39dd1ee447eae842f07a4e962ca3aa24cfecc985
Author: Flavien Raynaud <flavien.raynaud@gmail.com>
Date:   Wed Apr 25 11:20:58 2018 +0100

    Add documentation and unit tests to types.rs
    
    Also improve the Enum validation.

commit e881e833d01a4cfc78431b8c98e8f5b7a9dbe3d3
Author: Antonio Uccio Verardi <antonio.uccio.verardi@gmail.com>
Date:   Thu Apr 19 15:28:20 2018 +0100

    Full Enum support and reader's iterator returns Result (#15)
    
    * Full support for Enums
    * String default value for Enum
    * Support Enum when reader schema is missing
    
    Including the ability to specify the symbol as string instead of
    the index for the symbol and schema resolution (meaning making
    sure that the symbol is contained in the reader's schema).
    
    In order to do so we added the symbol string to the Enum value type and
    replaced any instance of value String passed as input with the new enum
    except if the users specify it in their input.
    
    This commit also adds a test to cover the above case.
    
    * Make reader's iterator return a result of Value so to communicate errors

commit db894142614f861575a70183d1b3e881b9e6e926
Author: Antonio Uccio Verardi <antonio.uccio.verardi@gmail.com>
Date:   Thu Apr 12 11:11:02 2018 +0100

    Add docs and tests to codec module and make private modules that don't need to be public (#4)
    
    * Make private modules that don't need to be public
    Specifically ser, de and codec.
    
    * Add documentation and tests for the codec module

commit b77f77cfc4ddf478c420bb1efddf4e5522c13c9f
Author: Flavien Raynaud <flavien.raynaud@gmail.com>
Date:   Tue Apr 10 14:42:50 2018 +0100

    Add {reader,writer}_schema to Reader

commit f102828d975a7cbe21055d91feaa3a153acbd407
Author: Flavien Raynaud <flavien.raynaud@gmail.com>
Date:   Fri Apr 6 18:21:08 2018 +0100

    Add SingleWriter avro writer (#3)
    
    SingleWriter allows for encoding of single Avro values.
    
    One usecase can be writing records into Kafka. One call to
    `SingleWriter::write` will write the header, record and marker. This
    avoid creating a new `Writer` for each record, with the overhead of
    generating the header every time.

commit 1c22ea72c130d8443d93bb2aadb783771227d9f7
Author: Antonio Uccio Verardi <antonio.uccio.verardi@gmail.com>
Date:   Fri Apr 6 17:50:39 2018 +0100

    Move hello example to doc test, add rust benchmark based on benchmark example and add travis configuration (#2)
    
    * Add Makefile targets and move example hello.rs to documentation
    * Copy example benchmark.rs and turn it into rust bench
    * Add .travis.yml using make targets

commit 3dfff91438bde16b13cbb3e836ce30ca0c3fa24b
Author: Antonio Uccio Verardi <antonio.uccio.verardi@gmail.com>
Date:   Fri Apr 6 16:07:13 2018 +0100

    Some quality of life improvements (#1)
    
    * Ignore .iml files
    * Add pre-commit hooks for linting
    * Run rustfmt for the first time
    * Add clippy in Makefile and run it for the first time

commit 5554c4aacc79da3faeccd48fd5069ed48fc1573b
Author: Flavien Raynaud <flavien.raynaud@gmail.com>
Date:   Fri Mar 23 15:15:12 2018 +0000

    Avoid non-needed allocations when encoding

commit 5932ae7d5bc519a9f96879868d1fa9c9753125b8
Author: Flavien Raynaud <flavien.raynaud@gmail.com>
Date:   Thu Mar 22 22:31:37 2018 +0000

    Add Long/Double resolving into Int/Float

commit df94ea75aa95a203a2d125587b667be75df1f067
Author: Flavien Raynaud <flavien.raynaud@gmail.com>
Date:   Thu Mar 22 22:12:39 2018 +0000

    Allow Value::Map to be resolved into a Record

commit 10041413396de4100e4347594fa390c12e2d7cf3
Author: Flavien Raynaud <flavien.raynaud@gmail.com>
Date:   Tue Mar 20 09:39:33 2018 +0000

    Hackathon release

commit 662faf90261978569d572d26fe3dfd803f3b40fd
Author: Flavien Raynaud <flavien.raynaud@gmail.com>
Date:   Fri Mar 16 10:00:05 2018 +0000

    Add prototype for Value::from_json_value

commit c87fe929420eb205e4fa9dbca369779b0855174a
Author: Flavien Raynaud <flavien.raynaud@gmail.com>
Date:   Thu Mar 15 20:20:23 2018 +0000

    Add benchmark

commit 22f7ecf7ecfdd080ea62dc79f55ae0a5c2a7f7f5
Author: Flavien Raynaud <flavien.raynaud@gmail.com>
Date:   Thu Mar 15 16:47:30 2018 +0000

    Buffer reads/writes
    
    Also make (de)-compression in place

commit c2c9f25b9387a07c2057e7f7249d84466719caa7
Author: Flavien Raynaud <flavien.raynaud@gmail.com>
Date:   Thu Mar 15 13:49:04 2018 +0000

    Do not create intermediate HashMap when writing records

commit b2ca48b34575d9e380ca68def9325510f8cb9f4a
Author: Flavien Raynaud <flavien.raynaud@gmail.com>
Date:   Thu Mar 15 10:19:08 2018 +0000

    Make schema compliant with avro recursive primitive types

commit df4e8be060503ead99980dbf1a5ac8e5337580be
Author: Flavien Raynaud <flavien.raynaud@gmail.com>
Date:   Thu Mar 15 09:24:22 2018 +0000

    Fix tests

commit 7dada2088efcd6ff5911d4c9c382242dfe8d247a
Author: Flavien Raynaud <flavien.raynaud@gmail.com>
Date:   Fri Feb 23 19:15:44 2018 +0000

    Refactor to remove warnings

commit 8135e24c50953bd79e35ce9048ff164747e126dc
Author: Flavien Raynaud <flavien.raynaud@gmail.com>
Date:   Fri Feb 23 18:56:39 2018 +0000

    Avoid computing record schema lookup at every .put

commit 79c3bf587670e5c02befe5fdb80c6cbab281afba
Author: Flavien Raynaud <flavien.raynaud@gmail.com>
Date:   Fri Feb 23 18:53:24 2018 +0000

    Support Enum serialization
    
    Enum defaults are not yet supported.

commit 2ecd3aa185db0c5c1f2464c415f359c19372261d
Author: Flavien Raynaud <flavien.raynaud@gmail.com>
Date:   Fri Feb 23 18:42:22 2018 +0000

    Refactor record_schema to rschema

commit 41855262899d95da86375c41a3f68ec3501aaae3
Author: Flavien Raynaud <flavien.raynaud@gmail.com>
Date:   Thu Feb 22 20:04:00 2018 +0000

    Support schema resolution through reader_schema

commit 8d008e59b5ec1b724f23c58bfdd9021dd2e86f45
Author: Flavien Raynaud <flavien.raynaud@gmail.com>
Date:   Thu Feb 15 08:51:26 2018 +0000

    Only validate schema when writing
    
    Instead of creating a new object everytime. This also respects the avro
    spec and mimics the other lang/ behaviours.

commit 229830bf8435d8410db28b9e711be14c786bfa4e
Author: Flavien Raynaud <flavien.raynaud@gmail.com>
Date:   Tue Feb 13 09:00:09 2018 +0000

    Add StructDeserializer

commit 65e2658b6b88c6a95126fbb8e1d312b8507af5bf
Author: Flavien Raynaud <flavien.raynaud@gmail.com>
Date:   Fri Feb 9 09:31:06 2018 +0000

    Refactor

commit ef930cc621a33239bc0259c394cc0ec14acf50ce
Author: Flavien Raynaud <flavien.raynaud@gmail.com>
Date:   Thu Feb 8 21:40:16 2018 +0000

    Remove comments

commit 402180deec70910a8b05ee551d3689a05ff104c7
Author: Flavien Raynaud <flavien.raynaud@gmail.com>
Date:   Wed Jan 24 10:35:13 2018 +0000

    WIP

commit 90cff7e9db9d709ce39888f99f428c616c202071
Author: Flavien Raynaud <flavien.raynaud@gmail.com>
Date:   Wed Jan 24 10:35:13 2018 +0000

    WIP

commit 0a0a66ac802774afa0e499819798912a953e2209
Author: Flavien Raynaud <flavien.raynaud@gmail.com>
Date:   Sat Jan 20 10:29:59 2018 +0000

    Let Writer only interact with Value

commit 9dc1db0b6cb78f33e5000d07a28e9ef054eccdc8
Author: Flavien Raynaud <flavien.raynaud@gmail.com>
Date:   Sat Jan 20 09:29:12 2018 +0000

    Remove non-stable slice_pattern feature dependency

commit e2e61ddce119489314a8d1417e02e60d518a51c5
Author: Flavien Raynaud <flavien.raynaud@gmail.com>
Date:   Fri Jan 12 09:21:08 2018 +0000

    Only support valid Value encoding

commit 571076f0daeee559a6a5b5c9e3bb22533745ad51
Author: Flavien Raynaud <flavien.raynaud@gmail.com>
Date:   Thu Jan 11 08:46:10 2018 +0000

    Flatten architecture

commit cf3bf1a15e4dab9e55c9a799c1d01d1fb4b317b9
Author: Flavien Raynaud <flavien.raynaud@gmail.com>
Date:   Mon Jan 1 17:27:42 2018 +0000

    Add helper methods to interact with Value and Record

commit 7490170775727108d4449711804c66fe45c2fdd9
Author: Flavien Raynaud <flavien.raynaud@gmail.com>
Date:   Sat Dec 30 12:23:49 2017 +0000

    Use default when serializing if no value is found.
    
    Also return an error if a field has no value and no default.

commit 85bc4e30608a58e4b08b63b51f954b3d94db93ce
Author: Flavien Raynaud <flavien.raynaud@gmail.com>
Date:   Sat Dec 30 11:42:41 2017 +0000

    Implement Serialize for types::Value and types::Record
    
    Record serialization is pretty ugly as serialize_struct and
    serialize_field require &'static str key names. Instead I pass "" all
    the time and rely on the fields order withing the RecordSchema to
    serialize fields.

commit 26815f5a1e47886098685ba2259287dfda63c3d0
Author: Flavien Raynaud <flavien.raynaud@gmail.com>
Date:   Thu Dec 28 01:39:10 2017 +0000

    Add schema resolution and use it while deserializing

commit f22501fa9aceb870d461896c13b1f4ba2518016e
Author: Flavien Raynaud <flavien.raynaud@gmail.com>
Date:   Thu Dec 28 00:44:27 2017 +0000

    Make use of forward_to_deserialize_any!

commit e09f5d65a587bfe3eb4ee3fc35ec82b2252fb727
Author: Flavien Raynaud <flavien.raynaud@gmail.com>
Date:   Thu Dec 28 00:40:13 2017 +0000

    Improve folder hierarchy

commit 3ea6c20db3f526ead9aaaff5abe962d65b224247
Author: Flavien Raynaud <flavien.raynaud@gmail.com>
Date:   Thu Dec 28 00:26:49 2017 +0000

    Implement Deserializer

commit 44186646d97961897579895eebe02eaf77b70e32
Author: Flavien Raynaud <flavien.raynaud@gmail.com>
Date:   Wed Dec 27 14:06:50 2017 +0000

    Attempt to impl Serialize for Value

commit b6cb9b690a09760fe44ed2223d6b1c0828335fe7
Author: Flavien Raynaud <flavien.raynaud@gmail.com>
Date:   Wed Dec 27 02:17:58 2017 +0000

    Implement Serializer

commit 279a6fbf713c1ce229cc234808aba495318adb68
Author: Flavien Raynaud <flavien.raynaud@gmail.com>
Date:   Wed Dec 27 01:06:20 2017 +0000

    Add serde::Serializer code skeleton

commit 62ac5633d8aba271e9ba2d4e5463d3cd99970b44
Author: Flavien Raynaud <flavien.raynaud@gmail.com>
Date:   Wed Dec 27 00:39:29 2017 +0000

    Check markers after each block

commit 02ad50142a97450ffa77bc35220c1e659dcc03f1
Author: Flavien Raynaud <flavien.raynaud@gmail.com>
Date:   Wed Dec 27 00:36:45 2017 +0000

    Remove serde_json from example

commit 8a17afe6f0e84868fb379d0029707d64c308004d
Author: Flavien Raynaud <flavien.raynaud@gmail.com>
Date:   Wed Dec 27 00:28:39 2017 +0000

    Allow decompression with codecs

commit b62c916397a6df1355aff8602d8ca134b15df966
Author: Flavien Raynaud <flavien.raynaud@gmail.com>
Date:   Wed Dec 27 00:12:45 2017 +0000

    Move codec into src/codec.rs
    
    Instead of having bit spread across files.

commit a0e36c2e9b92191edf3ff94b500d9eccb715faad
Author: Flavien Raynaud <flavien.raynaud@gmail.com>
Date:   Wed Dec 27 00:10:14 2017 +0000

    Use VecDeque instead of Vec when decoding

commit 0a6d68bc9e090851b51ca38a0bd74e64e18c8eb5
Author: Flavien Raynaud <flavien.raynaud@gmail.com>
Date:   Tue Dec 26 23:53:56 2017 +0000

    Add basic decoding

commit 259f6a4fa679b61471f31c97dbc94b1b9916ddb9
Author: Flavien Raynaud <flavien.raynaud@gmail.com>
Date:   Tue Dec 26 15:08:26 2017 +0000

    Make schema optional for record

commit c2ee6469bd02c79f1461c55c313e2142a67adfe1
Author: Flavien Raynaud <flavien.raynaud@gmail.com>
Date:   Tue Dec 26 11:09:22 2017 +0000

    Perform schema-related conversion in EncodeAvro
    
    This should help automatic conversions with serde's (De)Serialize.
    And it's less ugly.

commit cc5eea15136ff9753f0c5b9ed0070b60c97d8868
Author: Flavien Raynaud <flavien.raynaud@gmail.com>
Date:   Mon Dec 25 11:11:24 2017 +0000

    More code cleanup

commit d78d679835e5417f116421f1f72db49b12b0d362
Author: Flavien Raynaud <flavien.raynaud@gmail.com>
Date:   Mon Dec 25 10:56:23 2017 +0000

    Add Schema::parse_str
    
    Also some code cleanup

commit 523eda87c3e3da315229d36334d5c869eba6619c
Author: Flavien Raynaud <flavien.raynaud@gmail.com>
Date:   Mon Dec 25 10:51:33 2017 +0000

    Make Writer own its inner writer

commit e34c2d49f945e3cff3584adb819c2052f944bae5
Author: Flavien Raynaud <flavien.raynaud@gmail.com>
Date:   Mon Dec 25 01:04:49 2017 +0000

    Improve zigzag functions naming

commit 83400073bd5c8b736914a2ddfbd335f0c577882f
Author: Flavien Raynaud <flavien.raynaud@gmail.com>
Date:   Sun Dec 24 17:26:25 2017 +0000

    Add deflate and snappy codecs

commit 40abec87553d1611ec3b53d4ba7c12293f65bdf1
Author: Flavien Raynaud <flavr@yelp.com>
Date:   Sun Dec 24 14:44:58 2017 +0000

    Make Schema implement serde::ser::Serialize

commit 0ece0eb724aba49429dc09686d62be1daadbe359
Author: Flavien Raynaud <flavr@yelp.com>
Date:   Sun Dec 24 14:16:16 2017 +0000

    Use usize for Fixed size

commit 9429baf3f23ad76fa9e3945d6e8292ea98ac249e
Author: Flavien Raynaud <flavr@yelp.com>
Date:   Sun Dec 24 14:10:15 2017 +0000

    Consider header written only on success

commit 8dcefe7c03e607e3c9702c45edc8b659b05c00ec
Author: Flavien Raynaud <flavr@yelp.com>
Date:   Sun Dec 24 13:54:26 2017 +0000

    Use mem::transmute to encode floating-point numbers
    
    This should be faster than relying on format!.
    
    Avro requires floats to be encoded with little-endian.
    Almost all architectures encode f{32, 64} as little-endian: transmuting
    `self` directly instead of converting `to_bits().to_le()` because that
    looks prettier :D

commit 54ee76c81ad0da528ef1be1180f2534a416fa417
Author: Flavien Raynaud <flavr@yelp.com>
Date:   Sun Dec 24 13:39:28 2017 +0000

    Correclty encode types implementing ToAvro

commit e66a1a6f28bccd347508791a6637874b82b61893
Author: Flavien Raynaud <flavr@yelp.com>
Date:   Sun Dec 24 00:04:59 2017 +0000

    Add schema json serialization

commit 22fbfcfa211c2027a56f5ba777aa277021471953
Author: Flavien Raynaud <flavr@yelp.com>
Date:   Sat Dec 23 01:12:45 2017 +0000

    Add Writer implementation

commit 221c5eb68f58216edf4e6b0cd35cd1791b0b0623
Author: Flavien Raynaud <flavr@yelp.com>
Date:   Sat Dec 23 00:58:11 2017 +0000

    Introduce HasSchema trait
    
    Use it instead of forcing EncodeAvro to infer a schema.

commit f1220e804801f8030ba5b82dda7f384533fde720
Author: Flavien Raynaud <flavr@yelp.com>
Date:   Fri Dec 22 23:43:04 2017 +0000

    Add ToAvro for () and HashMaps

commit fa255e05f5f1dbb73568e034fc152f0ca1fcac38
Author: Flavien Raynaud <flavr@yelp.com>
Date:   Sun Dec 17 17:55:20 2017 +0000

    Convert data, Encode data

commit 5931c2a47b63dae2615c207c166b46a84ab8e2dd
Author: Flavien Raynaud <flavien.raynaud@gmail.com>
Date:   Wed Dec 6 09:10:24 2017 +0000

    Harmonize named types into a Name struct
    
    This also adds support for namespaces and aliases

commit 797622f45d4b81af410a837a50a4fef20107e6a5
Author: Flavien Raynaud <flavien.raynaud@gmail.com>
Date:   Tue Dec 5 09:04:38 2017 +0000

    Basic implementation

commit fe7838a5865d9029b0711b763947f5684f221848
Author: Flavien Raynaud <flavien.raynaud@gmail.com>
Date:   Thu Feb 8 21:41:11 2018 +0000

    Add LICENSE

commit 7741c904ad05344f15998c9360950074b599544f
Author: Flavien Raynaud <flavien.raynaud@gmail.com>
Date:   Tue Dec 5 09:02:02 2017 +0000

    Initial commit
